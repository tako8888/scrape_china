(function(t){function e(e){for(var a,o,r=e[0],l=e[1],c=e[2],u=0,d=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&d.push(n[o][0]),n[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);h&&h(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],a=!0,o=1;o<i.length;o++){var r=i[o];0!==n[r]&&(a=!1)}a&&(s.splice(e--,1),t=l(l.s=i[0]))}return t}var a={},o={app:0},n={app:0},s=[];function r(t){return l.p+"js/"+({}[t]||t)+"."+{"chunk-00e28620":"144f29ce","chunk-019705cd":"2a66d5f4","chunk-04dd4069":"af5fb1dd","chunk-074455b5":"43a3608f","chunk-0da4d737":"0ecaed8b","chunk-15f5a2fa":"9bc2dcbf","chunk-18d8b2bc":"f84a5e8d","chunk-1cdfc59c":"33dc9910","chunk-270c563c":"acb5cb35","chunk-27ad31c8":"0e052807","chunk-28e56bd2":"96806b81","chunk-40dab75a":"db74faa2","chunk-49414228":"2b30b626","chunk-4993102d":"5c987992","chunk-52a1040e":"a3b7ff00","chunk-57afd2f5":"d0002ee9","chunk-5f89d2e3":"2b051f4e","chunk-64530502":"035bd4c7","chunk-66e50bef":"c3add1da","chunk-6dbb9528":"366fab34","chunk-71694339":"73ba0fcd","chunk-77f0cd56":"7a305290","chunk-7b4a4194":"2f2a0c30","chunk-7c3f520c":"32fd5ef3","chunk-7dc314a2":"4d69fff7","chunk-8549274a":"e25c6254","chunk-87c041fe":"5107c5f5","chunk-912eab54":"3b1fbaca","chunk-997e78d4":"89243dc1","chunk-a2d6ac3c":"b29ae343","chunk-b345e28c":"93db3138","chunk-d6b0e3c6":"e7a95b2d","chunk-eea9667e":"f9d37c93","chunk-77e1b283":"eae4eae3","chunk-7ae56349":"ed651cae","chunk-63b540e1":"e20f941d","chunk-ee738118":"6cb1cc4f"}[t]+".js"}function l(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.e=function(t){var e=[],i={"chunk-00e28620":1,"chunk-019705cd":1,"chunk-04dd4069":1,"chunk-074455b5":1,"chunk-0da4d737":1,"chunk-15f5a2fa":1,"chunk-18d8b2bc":1,"chunk-1cdfc59c":1,"chunk-270c563c":1,"chunk-27ad31c8":1,"chunk-28e56bd2":1,"chunk-40dab75a":1,"chunk-49414228":1,"chunk-4993102d":1,"chunk-52a1040e":1,"chunk-57afd2f5":1,"chunk-5f89d2e3":1,"chunk-64530502":1,"chunk-66e50bef":1,"chunk-6dbb9528":1,"chunk-77f0cd56":1,"chunk-7b4a4194":1,"chunk-7c3f520c":1,"chunk-7dc314a2":1,"chunk-8549274a":1,"chunk-87c041fe":1,"chunk-912eab54":1,"chunk-997e78d4":1,"chunk-a2d6ac3c":1,"chunk-b345e28c":1,"chunk-d6b0e3c6":1,"chunk-eea9667e":1,"chunk-77e1b283":1,"chunk-7ae56349":1,"chunk-63b540e1":1,"chunk-ee738118":1};o[t]?e.push(o[t]):0!==o[t]&&i[t]&&e.push(o[t]=new Promise((function(e,i){for(var a="css/"+({}[t]||t)+"."+{"chunk-00e28620":"803f6df5","chunk-019705cd":"d9eea5c4","chunk-04dd4069":"e631a9ef","chunk-074455b5":"cc383c83","chunk-0da4d737":"4b78b17b","chunk-15f5a2fa":"81706f3f","chunk-18d8b2bc":"df0d4622","chunk-1cdfc59c":"cd418743","chunk-270c563c":"4e5e8242","chunk-27ad31c8":"56e8e028","chunk-28e56bd2":"2ebe7404","chunk-40dab75a":"3b627a5f","chunk-49414228":"a4ac77f8","chunk-4993102d":"4995af35","chunk-52a1040e":"2c8e2b71","chunk-57afd2f5":"83a614c7","chunk-5f89d2e3":"ebd7ad2f","chunk-64530502":"65727a04","chunk-66e50bef":"d2252512","chunk-6dbb9528":"85418680","chunk-71694339":"31d6cfe0","chunk-77f0cd56":"b689bade","chunk-7b4a4194":"694d2d79","chunk-7c3f520c":"db648714","chunk-7dc314a2":"2008c57b","chunk-8549274a":"da4619ac","chunk-87c041fe":"3e3f0add","chunk-912eab54":"2e1914b9","chunk-997e78d4":"ed60a9c7","chunk-a2d6ac3c":"74f3d3bc","chunk-b345e28c":"6f003345","chunk-d6b0e3c6":"d1d8a25b","chunk-eea9667e":"e8cfbb90","chunk-77e1b283":"49646b81","chunk-7ae56349":"c03593a2","chunk-63b540e1":"42d8d3f3","chunk-ee738118":"3938a5e7"}[t]+".css",n=l.p+a,s=document.getElementsByTagName("link"),r=0;r<s.length;r++){var c=s[r],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===a||u===n))return e()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){c=d[r],u=c.getAttribute("data-href");if(u===a||u===n)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var a=e&&e.target&&e.target.src||n,s=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete o[t],h.parentNode.removeChild(h),i(s)},h.href=n;var p=document.getElementsByTagName("head")[0];p.appendChild(h)})).then((function(){o[t]=0})));var a=n[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise((function(e,i){a=n[t]=[e,i]}));e.push(a[2]=s);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=r(t);var d=new Error;c=function(e){u.onerror=u.onload=null,clearTimeout(h);var i=n[t];if(0!==i){if(i){var a=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",d.name="ChunkLoadError",d.type=a,d.request=o,i[1](d)}n[t]=void 0}};var h=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(e)},l.m=t,l.c=a,l.d=function(t,e,i){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)l.d(i,a,function(e){return t[e]}.bind(null,a));return i},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="//h5.sinaimg.cn/m/weibo-pro/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var h=u;s.push([0,"3rdparty","echarts","wooui","vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"00cd":function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_nav_hotFlat",use:"woo_svg_nav_hotFlat-usage",viewBox:"0 0 30 30",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" id="woo_svg_nav_hotFlat"><path d="M21.817 6.791c.146-.03.267.119.327.186.305.34.549.737.821 1.112 1.026 1.41 1.654 3.125 2.038 4.743.538 2.263.597 4.338.597 5.131 0 5.764-4.836 10.437-10.8 10.437S4 23.727 4 17.963c0-2.751 1.124-5.952 5.292-9.132 3.461-2.64 3.095-5.064 3.424-6.261.067-.245.135-.379.313-.507.278-.125.592-.051.926.106 1.073.506 2.402 2.007 3.545 4.053.547.98 1.214 3.807 1.24 3.878.075.281.202.327.238.34.037.013.225.062.48-.12.6-.441 1.601-1.77 2.081-3.228.08-.192.133-.27.278-.3zm-6.724 5.683c-.33-.118-.623.098-.705.17a16.28 16.28 0 00-1.514 1.514c-.69.813-1.795 2.231-1.863 4.608-.112 2.199 1.63 4.078 4.082 4.13 2.255 0 4.164-1.769 4.083-4.13-.013-.558-.417-2-1.897-2.86-1.412-.68-1.74-1.891-1.85-2.895-.01-.099.002-.382-.336-.537z" fill="currentColor" fill-rule="evenodd" /></symbol>'});s.a.add(r);e["default"]=r},"01c8":function(t,e,i){"use strict";var a=i("7b87"),o=i.n(a);o.a},"0257":function(t,e,i){t.exports={cut2:"Weibo_cut2_e3c-M",list:"Weibo_list_2klpQ",itemin:"Weibo_itemin_1JEOT",avatar:"Weibo_avatar_1rPe6",pic:"Weibo_pic_19Wf5",cut:"Weibo_cut_Tf1x1",opt:"Weibo_opt_1PlKe",btn:"Weibo_btn_320v_",itembox:"Weibo_itembox_1xbO0"}},"0275":function(t,e,i){t.exports={career:"CareerInfo_career_YvpBX",delout:"CareerInfo_delout_amzn4",del:"CareerInfo_del_W-Q12",icon:"CareerInfo_icon_1rJS1"}},"02a4":function(t,e,i){"use strict";var a=i("1a45"),o=i.n(a);e["default"]=o.a},"02e1":function(t,e,i){t.exports={list:"Shield_list_jgoCu",itemin:"Shield_itemin_1Dx3X",avatar:"Shield_avatar_1AlSU",pic:"Shield_pic_6nGvf",cut:"Shield_cut_er2uV",opt:"Shield_opt_3lAJF",btn:"Shield_btn_21ses"}},"032e":function(t,e,i){"use strict";i("4160");var a={8:"backspace",9:"tab",12:"clear",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",91:"meta",93:"meta",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",108:"return",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={0:")",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",a:"A",b:"B",c:"C",d:"D",e:"E",f:"F",g:"G",h:"H",i:"I",j:"J",k:"K",l:"L",m:"M",n:"N",o:"O",p:"P",q:"Q",r:"R",s:"S",t:"T",u:"U",v:"V",w:"W",x:"X",y:"Y",z:"Z","`":"~","-":"_","=":"+",";":":",",":"<",".":">","/":"?","\\":"|","'":'"',"[":"{","]":"}"},n=["8","9","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","45","46","91","93","96","97","98","99","100","101","102","103","104","105","106","107","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","144","145","191"],s={};n.forEach((function(t){return s[t]=a[t]}));var r=function(t){var e=s[t.which],i=a[t.which],n={},r="";return n[i]=!0,t.altKey&&"alt"!==e&&(r+="alt+",n["alt"]=!0),t.ctrlKey&&"ctrl"!==e&&(r+="ctrl+",n["ctrl"]=!0),t.metaKey&&!t.ctrlKey&&"meta"!==e&&(r+="meta+",n["meta"]=!0),t.shiftKey&&"shift"!==e&&(r+="shift+",n["shift"]=!0),t.which>=65&&t.which<=90&&(n["a-z"]=!0),(t.which>=48&&t.which<=57||t.which>=96&&t.which<=105)&&(n["0-9"]=!0),(t.which>=106&&t.which<=111&&108!==t.which||t.which>=186&&t.which<=222||t.which>=48&&t.which<=57&&!0===n.shift)&&(n["symbol"]=!0),e?n[r+e]=!0:(n[r+i]=!0,n[r+o[i]]=!0,"shift+"===r&&(n[o[i]]=!0)),n};e["a"]=r},"034f":function(t,e,i){"use strict";var a=i("85ec"),o=i.n(a);o.a},"035d":function(t,e,i){"use strict";var a=i("7228"),o=i.n(a);e["default"]=o.a},"037a":function(t,e,i){"use strict";var a=i("0af4"),o=i.n(a);o.a},"037b":function(t,e,i){"use strict";var a=i("aa16"),o=i.n(a);e["default"]=o.a},"03ac":function(t,e,i){t.exports={box:"community-note-detail_box_2jXlh",box1:"community-note-detail_box1_3MsKy",box2:"community-note-detail_box2_1adhV",item:"community-note-detail_item_2kRdt",line:"community-note-detail_line_1_JdF",itemin:"community-note-detail_itemin_3_RCn",t11:"community-note-detail_t11_14-ls",t12:"community-note-detail_t12_2O51m",t13:"community-note-detail_t13_3pxZr",t2:"community-note-detail_t2_NIKuE",t3:"community-note-detail_t3_1L9Fg",btnbox:"community-note-detail_btnbox_1L-vB",btn:"community-note-detail_btn_1kECT",pointer:"community-note-detail_pointer_3Ro0s",es:"community-note-detail_es_1U-kA"}},"040b":function(t,e,i){},"0438":function(t,e,i){"use strict";var a=i("df79"),o=i.n(a);e["default"]=o.a},"0502":function(t,e,i){t.exports={right_box:"Index_right_box_1-rX8",feed_box:"Index_feed_box_1Gjzs",composer_box:"Index_composer_box_22cEl",content_box:"Index_content_box_1fvr2",comments_main:"Index_comments_main_1aJAw",title:"Index_title_3W-Ol",barbox:"Index_barbox_2BFj1",bar:"Index_bar_3z92U",backicon:"Index_backicon_2xHwF",reply_title_box:"Index_reply_title_box_3S_c5",reply_title:"Index_reply_title_10QTV",tab:"Index_tab_19dWE",tabitem:"Index_tabitem_17MDI",line3:"Index_line3_LG1Z1",backButton:"Index_backButton_3Yh5-",rewardWrap:"Index_rewardWrap_2hJR3",rewardIcon:"Index_rewardIcon_1F2-u",rewardText:"Index_rewardText_lGKrc"}},"0548":function(t,e,i){t.exports={btn:"LoginBtn_btn_10QRY",btna:"LoginBtn_btna_1hH9H",btnb:"LoginBtn_btnb_bArTC"}},"0587":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{on:{mousedown:function(t){t.stopPropagation()}}},[i("woo-pop",{attrs:{show:t.showBubble,direction:t.direction,align:t.align,gap:t.gap,alignGap:t.alignGap,bubble:t.bubble,hasClose:t.check,width:t.width},on:{"click-outside":t.closeBubble},scopedSlots:t._u([{key:"ctrl",fn:function(){return[t._t("ctrl")]},proxy:!0}],null,!0)},[t._v(" "+t._s(t.content)+" ")])],1)},o=[],n=(i("45fc"),i("a9e3"),i("5377"),i("5530")),s=i("2f62"),r={props:{exclusiveKey:{type:Array,default:function(){return[]}},bubble:{type:Boolean,default:!0},content:{type:String,default:"新功能"},configkey:{type:String,default:""},timeout:{type:Number,default:5},direction:{type:String,default:"down"},align:{type:String,default:"end"},gap:{type:Number,default:10},alignGap:{type:Number,default:0},check:{type:Boolean,default:!0},width:{type:Number,default:200}},data:function(){return{showBubble:!1}},computed:Object(n["a"])({},Object(s["c"])(["config"])),mounted:function(){var t=this;if(this.config&&this.config.flags&&0===this.config.flags[this.configkey]){if(this.exclusiveKey.length){var e=this.exclusiveKey.some((function(e){return!t.config.flags[e]}));if(e)return}this.showBubble=!0,setTimeout((function(){t.closeBubble()}),1e3*this.timeout)}},methods:{closeBubble:function(){this.showBubble=!1,this.$http.post("/ajax/changekey",{key:this.configkey}).then((function(t){var e=t.data;e.ok>0&&e.data&&e.data.result}))}}},l=r,c=i("2877"),u=Object(c["a"])(l,a,o,!1,null,null,null);e["default"]=u.exports},"05cb":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Card",{class:[t.$style.wrap,t.noside&&t.$style.noside],attrs:{noBackground:t.noside}},[i("woo-box",{class:t.$style.con,attrs:{direction:t.noside?"x":"y",align:"center",justify:t.noside?"end":"center"}},[i("div",{class:t.$style.t1},[t._v("随时随地发现新鲜事")]),i("woo-button",{class:t.$style.btn,attrs:{sort:"flat",kind:"primary",size:t.noside?"s":"m"},nativeOn:{click:function(e){return t.toLogin()}}},[i("span",{class:t.$style.text},[t._v("立即")]),t._v("登录")]),i("div",{class:t.$style.t2},[i("span",{class:t.$style.text},[t._v("还没有微博？")]),i("a",{attrs:{href:"https://weibo.com/signup/signup.php",target:"_blank"}},[i("span",{class:t.$style.text},[t._v("立即")]),t._v("注册"),i("span",{class:t.$style.text},[t._v("！")])])])],1)],1)},o=[],n={props:{noside:Boolean},setup:function(t,e){var i=e.root,a=function(){i.$Bus.$emit("loginPop")};return{toLogin:a}}},s=n,r=i("5091"),l=i("2877");function c(t){this["$style"]=r["default"].locals||r["default"]}var u=Object(l["a"])(s,a,o,!1,c,null,null);e["a"]=u.exports},"05e3":function(t,e,i){t.exports={desc:"morepop_desc_a9Lfe",icon:"morepop_icon_1qtlj",disabled:"morepop_disabled_20HyA",action:"morepop_action_bk3Fq",more:"morepop_more_3ssan",moreIcon:"morepop_moreIcon_1RvP9",cross:"morepop_cross_1Q1PF",qrcode:"morepop_qrcode_RBW3M",text:"morepop_text_9j4_t",shareText:"morepop_shareText_26Znh",badge:"morepop_badge_22v0H"}},"0604":function(t,e,i){t.exports={pub:"ModalPublish_pub_2n8q1",container:"ModalPublish_container_PIMLG",desc:"ModalPublish_desc_GAuJZ",qaCircle:"ModalPublish_qaCircle_3CTQq"}},"061a":function(t,e,i){t.exports={box1:"channel_box1_13hEI",gray1:"channel_gray1_35Swp",videobox:"channel_videobox_3stC1",top1:"channel_top1_sHJWe",top2:"channel_top2_-oUlI",top3:"channel_top3_2jQ5a",text1:"channel_text1_15SqW",file:"channel_file_27zbk",label2:"channel_label2__Y9I5",add:"channel_add_KSm5e",icon:"channel_icon_3PUb3",icon2:"channel_icon2_2xPo_",icon1:"channel_icon1_1bLeG",switch:"channel_switch_tx9CJ",gray7:"channel_gray7_3Z-CA",red:"channel_red_31HCR",scroll:"channel_scroll_j1Ame",tagbox:"channel_tagbox_3uYtY",tag:"channel_tag_14nzn",ipt:"channel_ipt_2L6kI",text2:"channel_text2_1Yf5g",type:"channel_type_3b5xp",label3:"channel_label3_3ymCN",sort:"channel_sort_3GI0u",sortin:"channel_sortin_2NN41",help:"channel_help_1itj3",helppop1:"channel_helppop1_2E8r4",popc:"channel_popc_bybmS",helppop2:"channel_helppop2_3tTSk",helppop3:"channel_helppop3_2uSZd",qa:"channel_qa_2ESDn",gray2:"channel_gray2_10hIb",pos:"channel_pos_33MQX",layer:"channel_layer_1ni5x",layer1:"channel_layer1_3hBjK",layer2:"channel_layer2_1KVj7",unmodal:"channel_unmodal_33Zke",fb1:"channel_fb1_2NOwB",tit1:"channel_tit1_M-Om8",tit2:"channel_tit2_1rJ0E",gap1:"channel_gap1_KDCWt",gap2:"channel_gap2_NGkG5",gap3:"channel_gap3_GFvXv",gap4:"channel_gap4_jSKI7",gap5:"channel_gap5_IjBPX",abox1:"channel_abox1_2cus_",abox3:"channel_abox3_3BkIv",bg:"channel_bg_3Nge1",bg1:"channel_bg1_2nrOu",toastMsg:"channel_toastMsg_13Sqo",albumIcon:"channel_albumIcon_caA_E",line:"channel_line_2r5Jt",btn1:"channel_btn1_3tUVn"}},"0628":function(t,e,i){"use strict";var a=i("53d2"),o=i.n(a);o.a},"06ff":function(t,e,i){},"0724":function(t,e,i){"use strict";var a=i("3533"),o=i.n(a);e["default"]=o.a},"072d":function(t,e,i){"use strict";var a=function(){var t,e,i=this,a=i.$createElement,o=i._self._c||a;return o("div",{ref:"container",staticClass:"wbpro-form",class:(t={focus:i.form_focus&&!i.aiConfig.showEditArea,error:i.form_error},t[i.$style.wbproform]=!0,t),on:{click:function(t){t.stopPropagation()}}},[i.needTitle?o("div",{class:i.$style.ipt1box},[o("TextInput",{ref:"title",class:i.$style.ipt1,attrs:{placeholder:"填写标题",maxOptionLen:30,text:i.title},on:{change:function(t){i.title=t},focus:i.titleFocus,blur:i.titleBlur}}),o("woo-divider",{attrs:{"border-color":"var(--w-layer-border)"}})],1):i._e(),o("textarea",{directives:[{name:"model",rawName:"v-model",value:i.text,expression:"text"}],ref:"form",class:(e={},e[i.$style.input]=!0,e[i.$style.wrap]=i.text&&i.wrap,e[i.$style.comment]="addComment"===i.action,e),style:"width:"+i.sizeConfig.width+";height:"+i.sizeConfig.height+";",attrs:{disabled:i.disabled,placeholder:i.placeholder},domProps:{value:i.text},on:{focus:i.focus,keyup:function(t){return t.preventDefault(),i.keyup(t)},keypress:function(t){t.stopPropagation()},mouseup:i.keyup,keydown:[function(t){return!t.type.indexOf("key")&&i._k(t.keyCode,"enter",13,t.key,"Enter")?null:i.keydown_enter(t)},function(t){return!t.type.indexOf("key")&&i._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:i.keydown_down(t)},function(t){return!t.type.indexOf("key")&&i._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:i.keydown_up(t)}],compositionstart:i.ready_start,compositionend:i.ready_end,input:function(t){t.target.composing||(i.text=t.target.value)}}}),"addComment"===i.action?o("div",{class:[i.$style.ipt1box,i.$style.without]},[o("woo-divider",{class:[i.$style.gap],attrs:{"border-color":"var(--w-layer-border)"}}),o("TextInput",{ref:"commentLink",class:i.$style.ipt1,attrs:{title:"参考信息：",placeholder:i.curRemark&&i.curRemark.ref_placeholder?i.curRemark.ref_placeholder:"输入链接地址（选填）",text:i.remark},on:{change:i.changeRemark}})],1):i._e(),o("woo-box",{attrs:{align:"center"}},[o("woo-box-item",{attrs:{align:"center"}},[i.polishVisible?o("woo-button",{class:i.$style.btn,attrs:{kind:"default",size:"xs"},on:{click:i.onPolishClick}},[o("Icons",{class:i.$style.svg,attrs:{symbol:"polishing"}}),i._v("试试Ai润色 ")],1):i.pic2TextVisible&&i.aiConfig.enablePic2Text?o("woo-box",{attrs:{align:"center"}},[o("span",{class:i.$style.t1},[i._v("推荐：")]),i._l(i.aiConfig.autoGenerateConfig.result,(function(t,e){return o("woo-button",{key:e,class:[i.$style.btn,i.$style.btnmax],attrs:{kind:"default",size:"xs",title:t},on:{click:function(e){return i.onPic2TextClick(t)}}},[i._v(" "+i._s(t)+" ")])}))],2):i._e()],1),i.formCount.count>0?o("div",{class:i.$style.count},[i.formCount.count>i.formCount.maxcount?o("span",{class:i.$style.error},[i._v(i._s(i.formCount.maxcount-i.formCount.count))]):i._e(),i.formCount.count<=i.formCount.maxcount?o("span",[i._v(i._s(i.formCount.count))]):i._e()]):i._e()],1),o("PublisherSuggest",{ref:"suggest",class:i.$style.suggest,style:"margin-top: "+(i.needTitle?48:0)+"px;",attrs:{text:i.text,suggest:i.suggest},on:{select:i.suggestSelect}})],1)},o=[],n=(i("99af"),i("caad"),i("fb6a"),i("b0c0"),i("a9e3"),i("b64b"),i("ac1f"),i("2532"),i("466d"),i("5319"),i("1276"),i("498a"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return""===t.title||t.nb?t._e():i("woo-box",{class:t.$style.container,style:"left:"+t.gg.left+"px;top:"+t.gg.top+"px;",attrs:{direction:"y"},nativeOn:{mousedown:function(t){t.stopPropagation()}}},[t.group?t._e():i("woo-box-item",{class:t.$style.title},[t._v(t._s(t.title))]),i("woo-box-item",{ref:"scroll",class:t.$style.list},["@"===t.act_type?i("div",t._l(t.list,(function(e,a){return i("woo-box-item",{key:a,ref:"scrollItem",refInFor:!0,class:[a==t.selectIndex?t.$style.active:"",t.$style.item],nativeOn:{mousedown:function(e){return e.stopPropagation(),t.click(a)},mousemove:function(e){t.selectIndex=a}}},[t._v(t._s(e.screen_name+e.remark))])})),1):i("div",t._l(t.list,(function(e,a){return i("woo-box-item",{key:a,ref:"scrollItem",refInFor:!0,class:[a==t.selectIndex?t.$style.active:"",t.$style.item],nativeOn:{mousedown:function(i){return i.stopPropagation(),t.click(a,e)},mousemove:function(e){t.selectIndex=a}}},[t._v(t._s(e))])})),1)])],1)}),s=[],r=(i("d81d"),i("d3b7"),i("25f0"),{data:function(){return{selectIndex:0,list:[],title:"",nb:!1,gg:{left:0,top:0},act_type:""}},props:{suggest:{type:Object,default:function(){}},group:{type:Boolean,default:!1},text:{type:String,default:""}},methods:{keyup:function(){this.$refs.scroll&&this.$refs.scroll.$el&&(this.selectIndex--,this.selectIndex<0&&(this.selectIndex=Math.max(this.list.length-1,0)),this.selectIndex===this.list.length-1?this.$refs.scroll.$el.scrollTop=this.$refs.scroll.$el.scrollHeight:this.$refs.scroll.$el.scrollTop-=this.$refs.scrollItem[0].$el.clientHeight)},keydown:function(){this.$refs.scroll&&this.$refs.scroll.$el&&(this.selectIndex++,this.selectIndex>=this.list.length&&(this.selectIndex=0),0===this.selectIndex?this.$refs.scroll.$el.scrollTop=0:this.$refs.scroll.$el.scrollTop+=this.$refs.scrollItem[0].$el.clientHeight)},keyenter:function(){var t=this.list[this.selectIndex];t&&(this.$emit("select",t,this.suggest),this.list=[],this.title="")},click:function(t,e){this.selectIndex=t,this.keyenter(),e&&this.$emit("change",e.page_objectid)}},watch:{text:function(t){var e=t.toString().match(/.*(\s)$/);e&&" "===e[1]?this.nb=!0:this.nb=!1},suggest:function(t){var e=this,i=this;if(null==t.word)return i.title="",void(i.selectIndex=NaN);""===t.word&&i.$set(i,"list",[]);var a={"@":"attention","#":"topic",$:"stock"},o=i.suggest.type;this.act_type=o,a[o]&&i.$http.get("/ajax/mblog/".concat(a[o],"?q=").concat(t.word),{withCredentials:!0,baseURL:"/"}).then((function(a){var n=a.data,s=n.data;if(s.length>0&&(i.selectIndex=0),!e.nb){var r=s.map((function(t){if("@"==o){var e=t.remark?"(".concat(t.remark,")"):t.remark;return{screen_name:t.screen_name,remark:e}}return"#"==o?t.topic:"$"==o?t.stock:void 0}));if(i.$set(i,"list",r),e.list.length){var l=e.list.length>6?238:34*(e.list.length+1),c=187;if(t.form){if(t.form.getBoundingClientRect()){var u=t.form.getBoundingClientRect();l+u.top+t.top>document.body.clientHeight?e.gg.top=t.top-l-40:e.gg.top=t.top,c+t.left+u.left>document.body.clientWidth?e.gg.left=t.left-c+20:e.gg.left=t.left}}else e.gg={top:t.top,left:t.left}}else e.gg={top:t.top,left:t.left};"@"==o&&(i.title=0==t.word.length?"选择最近@的人或直接输入":"选择昵称或轻敲空格完成输入",0==s.length&&(i.title="轻敲空格完成输入")),"#"==o&&(i.title="想用什么话题"),"$"==o&&(i.title="输入股票名/股票代码")}}))}}}),l=r,c=i("b740"),u=i("2877");function d(t){this["$style"]=c["default"].locals||c["default"]}var h=Object(u["a"])(l,n,s,!1,d,null,null),p=h.exports,f=i("032e"),m=i("e8f6"),v=(i("4160"),i("159b"),i("2909")),_=null!=window.mozInnerScreenX,g=document.createElement("div"),b=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e[0]instanceof Array?e[0].map((function(t){return t+e[1]})):e[1]instanceof Array?e[1].map((function(t){return e[0]+t})):void 0},y=["direction","boxSizing","width","height","borderStyle","lineHeight","letterSpacing","wordSpacing","tabSize","MozTabSize"].concat(Object(v["a"])(b("offset",["X","Y"])),Object(v["a"])(b(b("border",["Top","Right","Bottom","Left"]),"Width")),Object(v["a"])(b("padding",["Top","Right","Bottom","Left"])),Object(v["a"])(b("font",["Style","Variant","Weight","Stretch","Size","SizeAdjust","Family"])),Object(v["a"])(b("text",["Align","Transform","Indent","Decoration"])),Object(v["a"])(b("font",["Style","Variant","Weight","Stretch","Size","SizeAdjust"]))),w=function(t,e){document.body.appendChild(g);var i=g.style,a=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,o="INPUT"===t.nodeName;o||(i.wordWrap="break-word"),i.whiteSpace="pre-wrap",i.position="absolute",i.visibility="hidden",i.overflow="hidden",y.forEach((function(t){o&&"lineHeight"===t?i.lineHeight=a.height:i[t]=a[t]})),_&&t.scrollHeight>parseInt(a.height)&&(i.overflowY="scroll"),g.textContent=t.value.substring(0,e),o&&(g.textContent=g.textContent.replace(/\s/g," "));var n=document.createElement("span");n.textContent=t.value.substring(e)||"|",g.appendChild(n);var s={top:n.offsetTop-t.scrollTop+parseInt(a["borderTopWidth"]),left:n.offsetLeft+parseInt(a["borderLeftWidth"]),height:parseInt(a["lineHeight"])};return document.body.removeChild(g),s},x=i("d2ea"),k=i("fd20"),$={props:{curRemark:{},action:{},content:{type:String,default:""},placeholder:{type:String,default:"有什么新鲜事想分享给大家？"},composer:{type:Boolean,default:!1},maxCount:{type:Number,default:5e3},status:{type:String,default:""},sizeConfig:{type:Object,default:function(){return{height:"48px",width:"100%",maxHeight:480}}},storge:{type:String,default:""},suggestSwitch:{type:Boolean,default:!0},needTitle:{type:Boolean,default:!1},title:{type:String,default:""},disabled:{type:Boolean,default:!1},info_sources:{type:String},aiTypeMap:{type:Object,default:function(){return{}}},aiConfig:{type:Object,default:function(){return{autoGenerateConfig:{result:[],generating:!1}}}}},components:{PublisherSuggest:p,TextInput:x["default"]},data:function(){return{text:"",form_focus:!1,form_error:!1,suggest:{},quick:!1,wrap:!1,isready:!0,remark:"",formCount:{count:0,maxcount:5e3}}},computed:{pic2TextVisible:function(){var t,e,i;return!this.polishVisible&&(null===(t=this.aiConfig)||void 0===t||null===(e=t.autoGenerateConfig)||void 0===e||null===(i=e.result)||void 0===i?void 0:i.length)&&this.formCount.count<this.aiConfig.showPic2TextCount&&this.aiConfig.display},polishVisible:function(){return this.aiConfig.enablePolish&&this.formCount.count>=this.aiConfig.showPolishCount&&!this.aiConfig.polishVisible&&this.aiConfig.display}},methods:{onPic2TextClick:function(t){this.actionLog({act_code:7842,ext:"action:accept|type:pic2Text|lentrance:recom"}),this.aiConfig.types.add(this.aiTypeMap["pic2Text"]),this.$emit("applyGeneration",t)},onPolishClick:function(){this.actionLog({act_code:7842,ext:"action:guide_click|type:polish"}),this.aiConfig.clickPolishSignal=!0,this.aiConfig.types.add(this.aiTypeMap["polish"]),this.$emit("clickAssistCreation","polish")},changeRemark:function(t){this.$emit("remarkChange",t)},ready_start:function(t){this.isready=!1},ready_end:function(t){this.isready=!0},onTitleHead:function(){this.$refs.title.select()},clickBlur:function(){this.blur()},onhead:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.form_focus=!0,this.$refs.form.select(),this.$nextTick((function(){t.$refs.form&&e?m["a"].setCursor(t.$refs.form,0):!e&&t.$refs.form&&(m["a"].setCursor(t.$refs.form),t.$refs.form.scrollTop=t.$refs.form.scrollHeight)}))},addHeight:function(t){this.$refs.form.scrollTop+=t},click:function(){this.keyup({target:this.$refs.form})},blur:function(){this.form_focus=!1,this.$refs.form.blur(),this.suggest={}},focus:function(){this.$emit("hide"),this.form_focus=!0},keyup:function(t){var e=t.target,i=m["a"].selectionStart(e),a=e.value.substr(0,i),o=e.value.substr(i,1),n=a.match(/([@|#|$])([a-z0-9\u4e00-\u9fa5_-]{0,20})$/i);if(null!=n&&this.suggestSwitch){var s=w(e,a.slice(0,-"".concat(n[1]).concat(n[2]).length).length);if(n[2]==this.suggest.word&&n.index==this.suggest.type_start)return;this.suggest={type:n[1],type_start:n.index,word:n[2],back_word:o,left:s.left,top:s.top+s.height,quick:a.match(/.*(\s)$/)&&""===a.match(/.*(\s)$/)[1],form:this.$refs.form}}else this.suggest={}},keydown_down:function(t){Object.keys(this.suggest).length&&(t.preventDefault(),this.$refs.suggest.keydown(t))},keydown_up:function(t){Object.keys(this.suggest).length&&(t.preventDefault(),this.$refs.suggest.keyup(t))},keydown_enter:function(t){if(null!=this.suggest.type&&this.isready)return this.$refs.suggest.keyenter(t),t.preventDefault();var e=Object(f["a"])(t);return e["ctrl+return"]||e["meta+return"]?(this.$emit("fromKeydownEnter"),t.preventDefault()):void 0},suggestSelect:function(t){var e=this,i=e.suggest.type_start,a=e.suggest.type_start+e.suggest.word.length+1,o="";if(null!=t)switch(e.suggest.type){case"@":o="@".concat(t.screen_name," ");break;case"#":"#"==e.suggest.back_word&&(a+=1),o="".concat(e.suggest.type).concat(t).concat(e.suggest.type," ");break;case"$":"$"==e.suggest.back_word&&(a+=1),o="".concat(e.suggest.type).concat(t).concat(e.suggest.type," ");break}m["a"].selectText(e.$refs.form,i,a),m["a"].replaceText(e.$refs.form,o),e.text=e.$refs.form.value},inserText:function(t){var e=this;m["a"].replaceText(e.$refs.form,t),e.text=e.$refs.form.value},initLocalStorge:function(){var t=this;if(this.text=this.content,!this.text&&this.storge){var e=localStorage.getItem(this.storge)||"";"micro_review"===this.storge&&e?(e=JSON.parse(e),this.text=e.content,this.$emit("update:need-title",Boolean(e.title)),this.$nextTick((function(){t.$emit("update:title",e.title)}))):this.text=e}},titleFocus:function(){this.$emit("hide"),this.$emit("change-tool",["emoticon","at","hash"])},titleBlur:function(){var t=this;setTimeout((function(){t.$emit("change-tool",[])}),300)}},watch:{pic2TextVisible:function(t,e){t&&!e&&this.actionLog({act_code:7842,ext:"action:exposure|type:pic2Text|lentrance:recom"})},polishVisible:function(t,e){t&&!e&&this.actionLog({act_code:7842,ext:"action:exposure|type:polish|lentrance:recom"})},title:function(t){this.storge&&"micro_review"===this.storge&&localStorage.setItem(this.storge,JSON.stringify({title:t,content:this.content})),this.$emit("titlechange",t)},form_focus:function(t){this.$emit("focuschange",t)},info_sources:function(t){this.remark=t},content:function(t){this.text=t,this.storge&&("micro_review"===this.storge?localStorage.setItem(this.storge,JSON.stringify({title:this.title,content:t})):localStorage.setItem(this.storge,t))},text:function(t){var e=this;this.$refs.form.style.height=this.sizeConfig.height,this.$nextTick((function(){e.$refs.form.style.height="".concat(Math.min(e.$refs.form.scrollHeight,e.sizeConfig.maxHeight||200),"px")})),this.$emit("change",t);var i=t.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"00000000000000000000"),a=Math.ceil(Object(k["a"])(""===i.trim()?"":i)/2);if("mini"===this.status){var o=16*a;o>this.$refs.form.clientWidth-64?this.wrap=!0:this.wrap=!1}this.form_error=a>this.maxCount,this.formCount={count:a,maxcount:this.maxCount},this.$emit("textcount",this.formCount)}},mounted:function(){var t=this;this.initLocalStorge(),window.addEventListener("mousedown",this.clickBlur),this.$refs.container.addEventListener("paste",(function(e){var i=e.clipboardData&&e.clipboardData.items,a=null;if(i&&i.length)for(var o=0;o<i.length;o++){var n,s=i[o],r=null===s||void 0===s||null===(n=s.name)||void 0===n?void 0:n.split(".");if("text/rtf"===s.type)break;if(s.type.includes("image"))e.preventDefault(),a=s.getAsFile(),t.$emit("imageUpload",a);else if(r&&s.name.includes(r[r.length-1])||s.type.includes("video/"))a=s.getAsFile(),t.$emit("videoUpload",a);else if("text/rtf"===i[o].type)break}})),this.$refs.container.addEventListener("dragenter",(function(t){t.preventDefault()})),this.$refs.container.addEventListener("dragleave",(function(t){t.preventDefault()})),this.$refs.container.addEventListener("dragover",(function(t){t.preventDefault()})),this.$refs.container.addEventListener("drop",(function(e){e.preventDefault();var i=e.dataTransfer.files;if(i&&i.length)for(var a=0;a<i.length;a++){var o=i[a],n=o.name.split(".");o.type.includes("image")?t.$emit("imageUpload",o):(o.name.includes(n[n.length-1])||o.file.type.includes("video/"))&&t.$emit("videoUpload",o)}}))},beforeDestroy:function(){window.removeEventListener("mousedown",this.clickBlur)}},C=$,O=i("e038");function j(t){this["$style"]=O["default"].locals||O["default"]}var T=Object(u["a"])(C,a,o,!1,j,null,null);e["a"]=T.exports},"07c8":function(t,e,i){"use strict";var a=i("cf99"),o=i.n(a);o.a},"07ed":function(t,e,i){"use strict";var a=i("4399"),o=i.n(a);e["default"]=o.a},"08ae":function(t,e,i){t.exports={main:"ModalComposer_main_12wU4",pub:"ModalComposer_pub_1dSKH"}},"0902":function(t,e,i){"use strict";var a=i("af5f"),o=i.n(a);e["default"]=o.a},"0961":function(t,e,i){t.exports={cut2:"card7_cut2_-O2ve",wrap:"card7_wrap_5C8Ht",content:"card7_content_1JfTf",more:"card7_more_1zGFx"}},"099a":function(t,e,i){"use strict";var a=i("91c4"),o=i.n(a);e["default"]=o.a},"09ac":function(t,e,i){t.exports={container:"Scroll_container_1_-C6",wrap:"Scroll_wrap_2VhSY",nextPage:"Scroll_nextPage_J81YR",tipbox:"Scroll_tipbox_3_Z1N",empty:"Scroll_empty_LcCW7",loadingIcon:"Scroll_loadingIcon_3_1W8",initLoad:"Scroll_initLoad_Kj_VW",isInCards:"Scroll_isInCards_14pyO",isInCard:"Scroll_isInCard_taW8P"}},"09ae":function(t,e,i){t.exports={limits:"Visible_limits_11OKi",text:"Visible_text_1QIP8",text1:"Visible_text1_3dGH0",angle:"Visible_angle_MP2Km",pop2:"Visible_pop2_uf8qt",pop2s:"Visible_pop2s_1NSKC",pop:"Visible_pop_yvHkr",spe1:"Visible_spe1_2ZwHk",spe2:"Visible_spe2_1-Wq5",disabled:"Visible_disabled_9Gqk7",disabled1:"Visible_disabled1_raHXj",es:"Visible_es_YQNiX",popc:"Visible_popc_3cF79",popctit:"Visible_popctit_5UEi_",con:"Visible_con_1Diav",btn:"Visible_btn_15RE1",btn_active:"Visible_btn_active_2pVTe"}},"0a4a":function(t,e,i){t.exports={more:"ProfileSuperTopic_more_6z4vX"}},"0a81":function(t,e,i){"use strict";var a=i("9f33"),o=i.n(a);e["default"]=o.a},"0aad":function(t,e,i){},"0af4":function(t,e,i){},"0b70":function(t,e,i){"use strict";var a,o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("TabList",{attrs:{tabs:t.curGroup,tabIndex:t.tab2Index},on:{clickGroup:t.clickGroup},scopedSlots:t._u([{key:"main",fn:function(){return[t.showLoginAd?i("TipsAd",{attrs:{posid:"pc_unlogin_banner_top",adHeight:"85",page:"login",closeBtnKind:"notext"}}):t._e(),i("div",[[0,1].includes(t.tab1Index)?[i("FeedScroll",{attrs:{pagetype:"hot",skeleton:!0,hasTransformText:t.hasTransformText,data:t.list,isLoading:t.isLoading,isEmpty:t.isEmpty,isRetry:t.isRetry,isNoData:t.isNoData,actLogData:t.actLogData},on:{loadMoreData:t.loadMoreData}})]:t._e(),[2,3,4].includes(t.tab1Index)?[i("Scroll",{attrs:{data:t.list,isLoading:t.isLoading,isEmpty:t.isEmpty,isRetry:t.isRetry,isNoData:t.isNoData,skeleton:!0},on:{loadMoreData:t.loadMoreData},scopedSlots:t._u([{key:"content",fn:function(e){var a=e.item,o=e.index;return[i("HotTopic",t._g(t._b({attrs:{tabindex:o+1,tab1Index:t.tab1Index,item:a,index:o,hasTop:t.hasTop&&2===t.tab1Index,"feed-locale":t.feedLocale,"transform-text":!0,topic:a.topic_struct?a.topic_struct:[],url:a.url_struct?a.url_struct:[],actLogData:t.actLogData}},"HotTopic",t.$attrs,!1),t.$listeners))]}}],null,!1,2493776212)})]:t._e()],2)]},proxy:!0}])})},n=[],s=(i("99af"),i("4de4"),i("c740"),i("caad"),i("c975"),i("d81d"),i("a434"),i("b0c0"),i("b64b"),i("d3b7"),i("ac1f"),i("5319"),i("b85c")),r=i("5530"),l=i("2f62"),c=i("ee74"),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.tabs&&t.tabs.length&&t.tabs[0].name?i("SecBar",[i("Card",[i("Tab",{attrs:{tabs:t.tabs,newCurIndex:t.tabIndex},on:{changeTab:t.clickGroup}})],1)],1):t._e(),i("div",[t._t("main")],2)],1)},d=[],h=(i("a9e3"),i("9783")),p=i("f51a"),f={name:"TabList",components:{Tab:p["a"],SecBar:h["a"]},props:{tabs:Array,tabIndex:{type:Number,default:0}},created:function(){this.getTabIndex()},computed:{gid:function(){return this.$route.params&&this.$route.params.gid}},methods:{getTabIndex:function(){var t=this;this.tabs.map((function(e,i){e.gid===t.gid&&(t.tabIndex=i)}))},clickGroup:function(t,e){this.tabIndex=e,this.$emit("clickGroup",t,e,"group")}}},m=f,v=i("2877"),_=Object(v["a"])(m,u,d,!1,null,null,null),g=_.exports,b=i("51fb"),y=i("4e7d"),w=function(){var t,e=this,i=e.$createElement,a=e._self._c||i;return a("Card",{class:(t={},t[e.$style.wrap]=!0,t[e.$style.borderbox]=e.noBorderTop&&0===e.index,t[e.$style.tiny]=e.isTiny,t)},[a("div",{class:e.$style.item,on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.handleContent()}}},[a("woo-box",[a("woo-box-item",[a("woo-box",{class:e.$style.titout,attrs:{align:"center"}},[e.isTiny&&e.item.isTop?a("woo-box",{class:e.$style.top,attrs:{align:"center"}},[a("img",{class:e.$style.ranktop,attrs:{src:"https://h5.sinaimg.cn/upload/1005/948/2021/08/31/hotRankTop.png"}})]):1===e.item.dot_icon?a("div",{class:e.$style.doticon}):a("div",{class:[e.$style["rank"+(e.isTiny&&e.item.rank>=0?e.item.rank+1:e.isTiny&&e.hasTop&&!e.item.rank?e.index:e.index+1)],e.$style.rankimg]},[a("span",{class:e.$style.ranknum},[e._v(e._s(e.isTiny&&e.item.rank>=0?e.item.rank+1:!e.tab1Index||2===e.tab1Index||e.isTiny&&!e.hasTop?e.index+1:e.index))])]),e.item.topic?a("a-link",{class:e.$style.tit,attrs:{"link-type":"old",href:e.getSearchWeiboHref(e.q)},domProps:{innerHTML:e._s("#"+e.item.topic+"#")}}):e._e(),e.item.word?a("a-link",{class:e.$style.tit,attrs:{"link-type":"old",href:e.getSearchWeiboHref(e.q)},domProps:{innerHTML:e._s(e.item.word)}}):e._e(),a("woo-box",{attrs:{align:"center"}},[e.item.icon_desc&&e.item.icon_desc_color?a("span",{staticClass:"wbpro-icon-search-2",style:{background:e.item.icon_desc_color}},[e._v(e._s(e.item.icon_desc)+" ")]):e._e(),e.item.emoticon?a("span",{class:e.$style.emoticon,domProps:{innerHTML:e._s(e.item.emoticon)}}):e._e()])],1),e.text?a("div",{class:["wbpro-cutword",e.$style.margin,e.$style.wbtext],domProps:{innerHTML:e._s(e.text)}}):e._e(),e.isTiny?a("div",{class:e.$style.num},[e.item.num&&!e.item.dot_icon?a("span",[e._v(e._s(e.item.num))]):e._e()]):a("div",{class:e.$style.num},[e.item.read>=0?a("span",[e._v("阅读："+e._s(e.reset(e.item.read)))]):e._e(),e.item.mention>=0?a("span",[e._v("讨论："+e._s(e.reset(e.item.mention)))]):e._e(),e.item.num&&!e.item.dot_icon?a("span",[e._v("热度值："+e._s(e.item.num))]):e._e()])],1),e.item.mblog&&e.item.mblog.pic_ids&&e.item.mblog.pic_ids.length?a("woo-box",{class:e.$style.right,attrs:{align:"center"}},[e.pic&&e.pic.url?a("div",{class:e.$style.video},[a("woo-picture",{key:e.pic.focus_point?null:e.pic.url,class:e.$style.img,attrs:{src:e.pic.focus_point?null:e.pic.url}},[e.pic.focus_point?a("img",{key:e.pic.url,class:e.$style.focusImg,style:e.focusImg(e.pic.geo,e.pic.focus_point,1),attrs:{src:e.pic.url}}):e._e(),e.item.mblog.pic_num>1?a("woo-box",{class:e.$style.picmask},[a("span",{class:e.$style.picnum},[e._v(e._s(e.item.mblog.pic_num)+"图")])]):e._e()],1)],1):e._e()]):e.item.mblog&&e.item.mblog.page_info&&"video"===e.item.mblog.page_info.object_type?a("woo-box",{class:e.$style.right},[e.item.mblog&&e.item.mblog.page_info&&(e.item.mblog.page_info.page_pic||e.item.mblog.page_info.cards&&e.item.mblog.page_info.cards[0].page_pic)?a("div",{class:e.$style.video},[a("woo-box",{class:e.$style.videomask},[a("span",{class:e.$style.videotime},[e._v(e._s(e._f("sec2time")(e.item.mblog.page_info.media_info.duration)))])]),a("woo-picture",{key:e.item.mblog.page_info.page_pic||e.item.mblog.page_info.cards[0].page_pic,class:e.$style.img,attrs:{src:e.item.mblog.page_info.page_pic||e.item.mblog.page_info.cards[0].page_pic}},[a("woo-box",{class:e.$style.pos,attrs:{align:"center",justify:"center"}},[a("woo-fonticon",{class:e.$style.icon2,attrs:{value:"play"}})],1)],1)],1):e._e()]):e._e()],1)],1)])},x=[],k=(i("4160"),i("a15b"),i("9129"),i("159b"),i("ade3")),$=i("399b"),C=i("7909"),O=i("e054"),j=i("eba1"),T=i("82d7"),D=(a={name:"HotTopic",props:["tab1Index","item","index","topic","url","noBorderTop","hasTop","actLogData"],mixins:[C["a"]],data:function(){return{selectText:""}}},Object(k["a"])(a,"mixins",[T["a"]]),Object(k["a"])(a,"computed",Object(r["a"])(Object(r["a"])({},Object(l["c"])(["config"])),{},{isTiny:function(){return!this.item.mblog},q:function(){var t="";return this.item.topic?t="#".concat(this.item.topic,"#"):this.item.word&&(t=1==this.item.topic_flag?"#".concat(this.item.word,"#"):this.item.word),t},pic:function(){return this.item&&this.item.mblog&&this.item.mblog.pic_ids&&this.item.mblog.pic_ids.length?this.getPics(this.item.mblog)[0]:""},text:function(){return this.item&&this.item.mblog&&this.item.mblog.text?this.item.mblog.text.replace(/<br \/>/g,""):""}})),Object(k["a"])(a,"filters",{sec2time:function(t){if(void 0===t||Number.isNaN(t))return"";var e=Math.floor(t/3600),i=Math.floor((t-3600*e)/60),a=Math.floor(t-3600*e-60*i),o=[i,a];return e>0&&o.unshift(e),o.forEach((function(t,e){e>0&&t<10&&(o[e]="0".concat(t))})),o.join(":")}}),Object(k["a"])(a,"methods",{getSearchWeiboHref:function(t){return this.config.enableSweibocom?"//s.weibo.com/weibo?q=".concat(encodeURIComponent(t)):"/search?containerid=".concat(encodeURIComponent("100103type=1&q=".concat(t,"&t=1")))},reset:function(t){return Object(j["b"])(t,1,this.$attrs["feed-locale"])},checkData:function(t,e){if(!Object($["a"])(t)||!Array.isArray(e))return!1;var i,a=Object(s["a"])(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;return t.hasOwnProperty(o)}}catch(n){a.e(n)}finally{a.f()}},geoAble:function(t){return this.checkData(t,["width","height"])},pointAble:function(t){return this.checkData(t,["left","top","width","height"])},focusImg:function(t,e,i){if(this.geoAble(t)&&this.pointAble(e)){var a,o,n,s,r,l,c=e.top,u=e.left,d=e.width,h=e.height,p=t.width,f=t.height,m={};f>p?(a="width",o="height",n="top",s=c,r=h,l=f/p):(a="height",o="width",n="left",s=u,r=d,l=p/f);var v=1,_=v*l,g=v,b=g*i,y=s*l,w=r*l;return m[a]="100%",m[o]=100*l/i+"%",m[n]=y+w/2<=b/2?0:_-y-w/2<=b/2?-100*(_-b)/b+"%":-100*(w/2+y-b/2)/b+"%",m}},picsInfo:function(t){return t&&t.pics&&t.pics.length?t.pics:[]},pid2imgs:function(t){if(t)return Object(O["a"])(t.pic_ids,t.pic_focus_point)},getPics:function(t){return this.picsInfo(t)&&this.picsInfo(t).length?this.picsInfo(t):this.pid2imgs(t)&&this.pid2imgs(t).length?this.pid2imgs(t):[]},handleContent:function(){if(this.q){if(this.handleSelectText())return;if(this.handleActLog("click"),this.config.enableSweibocom)return void window.open("//s.weibo.com/weibo?q=".concat(encodeURIComponent(this.q)),"_blank");this.$router.push({path:"/search",query:{containerid:"100103type=1&q=".concat(this.q,"&t=3")}})}},handleActLog:function(t){this.actLogData&&this.actLogData.page&&t&&this.toLog(Object(r["a"])(Object(r["a"])({},this.actLogData),{},{actType:t}))}}),a),S=D,I=(i("0628"),i("0fa8"));function L(t){this["$style"]=I["default"].locals||I["default"]}var B=Object(v["a"])(S,w,x,!1,L,null,null),P=B.exports,A=i("6701"),E=i("c15f"),M=i("6cf2"),F={name:"NewHot",components:{TabList:g,FeedScroll:y["default"],HotTopic:P,Scroll:A["a"],TipsAd:E["a"]},data:function(){return{tab1Index:0,tab2Index:0,hotList:[],curGroup:[],list:[],isLoading:!1,isEmpty:!1,isRetry:!1,isNoData:!1,page:1,max_id:0,feedLocale:"zh-CN",band_list:[],hasTransformText:!0,hotwbGroup:[],topicMaxCount:100,topicTotalNum:0,searchMaxCount:50,curTitle:"",titleTemplate:"",isClick:!1,hasTop:!1,cancel:null,oldTab1Index:0,luicode:""}},metaInfo:function(){return{title:this.curTitle,titleTemplate:this.titleTemplate}},created:function(){var t=this;this.hotList=c;var e=this.$route.name;if("login"===e){var i=this.$route.query.tabtype||"weibo";this.tab1Index=this.hotList.findIndex((function(t){return t.type===i}))}else this.tab1Index="hot"===e?0:this.hotList.findIndex((function(t){return t.type===e}));this.isClick=!0,this.handleGroup(this.gid,"init"),this.$Bus.$on("handleHotNav",this.handleHotNavHandle),this.$Bus.$on("reload",this.reloadHandle),this.$once("hook:beforeDestroy",(function(){t.$Bus.$off("handleHotNav",t.handleHotNavHandle),t.$Bus.$off("reload",t.reloadHandle)}))},mixins:[M["a"]],computed:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(l["c"])(["hotGroup"])),Object(l["d"])(["access"])),{},{history:function(){return this.access.history},gid:function(){var t=this.$route.name;return"login"===t?this.$route.query&&this.$route.query.gid:this.$route.params&&this.$route.params.gid},actPage:function(){switch(this.tab1Index){case 0:return"hotWeiboTab";case 1:return"hotListTab";case 2:return"hotWordTab"}return""},extValue:function(){return 0===this.tab1Index?0===this.tab2Index?"01":"02":1===this.tab1Index?"0".concat(this.tab2Index+1):""},showLoginAd:function(){return"login"===this.$route.name&&0===this.tab1Index&&0===this.tab2Index&&"102803"===this.gid}}),watch:{$route:function(t,e){if(this.isClick)"hot"!==t.name&&(this.isClick=!1);else{if("login"===t.name){var i=this.$route.query.tabtype||"weibo";this.tab1Index=this.hotList.findIndex((function(t){return t.type===i}))}else"hot"===t.name?this.tab1Index=0:this.tab1Index=this.hotList.findIndex((function(e){return e.type===t.name}));"bidDetail"===e.name&&(this.isClick=!0),!this.checkUpdate(this.$route)&&this.isClick||(this.handleGroup(this.gid,"",!0),this.handleActLog("visit"))}}},methods:Object(r["a"])(Object(r["a"])({},Object(l["b"])(["setHotGroup"])),{},{handleHotNavHandle:function(t,e){this.isClick=!0,this.tab1Index=e,this.tab2Index=0,this.handleGroup(t.gid,"left")},reloadHandle:function(t){"hot"===t&&(this.isClick=!0,this.tab1Index=0,this.handleGroup(),this.handleActLog("visit"))},getAllGroups:function(){var t=this;return new Promise((function(e){t.$http.get("/ajax/feed/allGroups",{params:{is_new_segment:1,fetch_hot:1}}).then((function(i){i.data&&i.data.ok&&i.data.groups&&i.data.groups.length&&function(){var a=i.data.groups,o=[],n=a.filter((function(t){return["我的频道","频道推荐"].includes(t.title)}));if(null===n||void 0===n?void 0:n.length){var r,l=Object(s["a"])(n);try{for(l.s();!(r=l.n()).done;){var c=r.value;c.group&&c.group.length&&c.group.map((function(t){o.push(t)}))}}catch(d){l.e(d)}finally{l.f()}}var u=t.formatGroupData(o,0);u=u.filter((function(t){return-1===["1028038999","1028039999","1028038899","1028038799","1028038698","1028038998","1028038997"].indexOf(t.gid)})),e(u)}()}))}))},formatGroupData:function(t){var e="";switch(this.tab1Index){case 0:case 1:e="/ajax/feed/hottimeline";break}return t.map((function(t){return Object(r["a"])(Object(r["a"])({},t),{},{name:t.title,api:e})}))},getHotWbGroupData:function(){var t=this;return new Promise((function(e){var i=[];return t.hotGroup[0]&&t.hotGroup[0].length?(i=t.formatGroupData(t.hotGroup[0],0),e(i)):t.getAllGroups().then((function(t){i=t,e(i)})),i}))},getCustomGroupData:function(t){return this.formatGroupData(t)},getGroupData:function(){var t=this;return new Promise((function(e){var i=[];switch(t.tab1Index){case 0:i=t.getHotWbGroupData(),e(i);break;case 1:i=t.getCustomGroupData(b),e(i);break;case 2:i=[{api:"/ajax/side/hotSearch"}],e(i);break;case 3:i=[{api:"/ajax/statuses/entertainment"}],e(i);break;case 4:i=[{api:"/ajax/statuses/news"}],e(i);break}return i}))},setGroupData:function(){var t=this;return new Promise((function(e){t.getGroupData().then((function(i){t.hotList[t.tab1Index].groups=i,t.setHotGroup({key:t.tab1Index,value:i}),e()}))}))},handleGroup:function(t,e){var i=this,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.setGroupData().then((function(){i.curGroup=i.hotList[i.tab1Index].groups,t||(t=i.curGroup[0].gid),i.curGroup.map((function(o,n){o.gid?o.gid==t&&i.clickGroup(o,n,e,a):i.clickGroup(o,0,e,a)}))}))},apiParams:function(t,e){var i={},a="";switch(0===this.tab1Index&&0===this.tab2Index&&1===this.page?a=0:0!==this.tab2Index&&1===this.page?a=1:this.page>1&&(a=2),e){case"weibo":case"list":i={since_id:1===this.page?0:"",refresh:a,group_id:t.gid,containerid:t.containerid,extparam:"discover|new_feed",max_id:this.max_id,count:10};break;case"topic":i={sid:"v_weibopro",category:"all",page:this.page,count:10};break}return i},goRouter:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this.$route.name;if("login"===a){+this.$route.query.openLoginLayer&&this.$Bus.$emit("loginPop");var o={tabtype:t,gid:e,openLoginLayer:this.$route.query.openLoginLayer||0,url:this.$route.query.url||""};if(!this.$route.query.tabtype)return void this.$router.replace({name:"login",query:o});i||this.$router.push({name:"login",query:o})}else this.$router.push({name:t,params:{gid:e}})},clickGroup:function(t,e,i){var a=this,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.cancel&&this.cancel();var n=this.$http.CancelToken;this.tab2Index=e,"group"===i||"left"===i?(this.isClick=!0,this.handleActLog("click"),this.$Bus.$emit("hideLogin")):"init"===i&&this.handleActLog("visit"),"login"===this.$route.name?(this.curTitle="微博 – 随时随地发现新鲜事",this.titleTemplate=null):(t&&t.title&&e>=0?this.curTitle="".concat(this.hotList[this.tab1Index].groups[this.tab2Index].title," - ").concat(this.hotList[this.tab1Index].title):this.curTitle=this.hotList[this.tab1Index].title,this.titleTemplate="%s - ".concat("微博"));var r=this.hotList[this.tab1Index].type;"loadmore"!==i&&(this.list=[],this.page=1,this.max_id=0,this.goRouter(r,t.gid,o)),this.isLoading=!0,this.isEmpty=!1,this.isRetry=!1,this.isNoData=!1,t&&t.api&&this.$http.get(t.api,{params:this.apiParams(t,r),cancelToken:new n((function(t){a.cancel=t}))}).then((function(e){if(a.isLoading=!1,e.data&&e.data.ok){var i=e.data;if(i.statuses&&i.statuses.length){0===a.list.length&&window.scrollTo(0,0);var o=i.statuses;a.list=a.list.concat(o)}else if(i.data&&i.data.statuses&&Array.isArray(i.data.statuses)){var n=i.data.statuses;if(a.list=a.list.concat(n),i.data.total_num===i.data.total_data_num||a.list.length>=a.topicMaxCount)return a.isLoading=!1,void(a.isNoData=!0)}else if(i.data&&(i.data.hotgovs||i.data.realtime&&i.data.realtime.length||i.data.band_list&&i.data.band_list.length)){var r,l=Object.keys(i.data.hotgovs||{}).length?i.data.hotgovs:[]||!1,c=i.data.realtime||i.data.band_list,u=Object(s["a"])(l);try{for(u.s();!(r=u.n()).done;){var d=r.value;if(d&&d.word){var h=/#([^#]+)#/;h.test(d.word)&&(d.word=d.word.substring(1,d.word.length-1)),d.isTop=1,a.list=a.list.concat([d]),a.hasTop=!0}}}catch(b){u.e(b)}finally{u.f()}if(a.list=a.list.concat(c),a.list.length>=a.searchMaxCount)return a.isLoading=!1,void(a.isNoData=!0)}if("1028032222"===t.gid&&1===a.page&&i.trendsList&&i.trendsList.length){var p,f=Object(s["a"])(i.trendsList);try{for(f.s();!(p=f.n()).done;){var m=p.value;"card"===m.type&&a.list.splice(m.position,0,m)}}catch(b){f.e(b)}finally{f.f()}}else if(i.trendsList&&i.trendsList.length){var v,_=Object(s["a"])(i.trendsList);try{for(_.s();!(v=_.n()).done;){var g=v.value;"bannerAd"===g.type&&a.list.splice(g.position,0,g)}}catch(b){_.e(b)}finally{_.f()}}a.isLoading=!0,a.page++,a.max_id=i.max_id,a.list&&0===a.list.length&&2===a.page&&(a.isEmpty=!0),0!==a.tab1Index&&1!==a.tab1Index||i.max_id||(a.isLoading=!1,a.isNoData=!0)}a.$nextTick((function(){a.isClick=!1}))})).catch((function(){a.isLoading=!1,a.isRetry=!0}))},loadMoreData:function(){this.clickGroup(this.hotList[this.tab1Index].groups[this.tab2Index],this.tab2Index,"loadmore")},checkUpdate:function(t){if("searchResult"===t.name&&(this.oldTab1Index=this.tab1Index),"search"===t.name&&this.oldTab1Index!==this.tab1Index)return!0;if(-1===["hot","weibo","list","topic","search"].indexOf(t.name))return!1;var e=this.history.length>2&&this.history[this.history.length-2].name,i=this.history.length>2&&this.history[this.history.length-2].query,a=this.history.length>2&&this.history[this.history.length-2].path,o=this.history.length>2&&this.history[this.history.length-3].path;return!(!a||!o||a!==o||"bidDetail"===e)||!(e&&["bidDetail","detail","searchResult","profile","nameProfile","customProfile"].indexOf(e)>-1||i.layerid)},handleActLog:function(t){this.actLogData={page:this.actPage,extValue:this.extValue},this.actLogData&&this.actLogData.page&&t&&this.toLog(Object(r["a"])(Object(r["a"])({},this.actLogData),{},{actType:t}))},deleteWeibo:function(t){this.list=this.deleteWeiboInList(t,this.list)}}),beforeDestroy:function(){this.$Bus.$off("handleHotNav",this.handleGroup)}},R=F,V=Object(v["a"])(R,o,n,!1,null,null,null);e["a"]=V.exports},"0b75":function(t,e,i){t.exports={box:"Layer_box_2KIQv",h2:"Layer_h2_22Jc4",con:"Layer_con_KarCF",ul:"Layer_ul_190z0",btnbox:"Layer_btnbox_2Y5GM",btn:"Layer_btn_2iI6t"}},"0b8a":function(t,e,i){"use strict";var a=i("8bb8"),o=i.n(a);e["default"]=o.a},"0bc5":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("footer",{class:t.flat&&t.$style.isInViewer,attrs:{"aria-label":t.infos}},[t._t("toolbarFullSlot"),i("woo-box",[i("woo-box-item",[t.$slots.toolbarFullSlot?t._e():i("woo-box",{class:[t.toolbarAlignStyle,t.simple?t.$style.simple:t.$style.main],attrs:{direction:t.boxDirection,align:"center",old:t.simple}},[t.$slots.customIcon?i("woo-box-item",{class:[t.$style.item,t.$style.cursor]},[t._t("customIcon")],2):t._e(),t._l(t.items.filter((function(t){return t.show})),(function(e,a){var o,n,s,r,l;return i("woo-box-item",{key:a,class:[t.$style.item,!e.disabled&&t.$style.cursor]},["retweet"===e.icon?i("woo-box",{class:(o={},o[t.$style.wrap]="left"===t.toolbarAlign,o),attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return e.stopPropagation(),t.clickRetweetBtn(e)}}},[i("woo-box",{class:(n={},n[t.$style.retweet]=!t.simple&&t.single,n[t.$style.wrap]="left"===t.toolbarAlign,n[t.$style.cur]="retweet"===t.curClickIcon&&"left"===t.toolbarAlign&&!t.simple&&t.curHigh,n),attrs:{align:"center",justify:"center",direction:t.textDirection}},["left"===t.toolbarAlign?i("woo-box",{class:t.$style.iconWrap,attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{class:t.$style.retweetIcon,attrs:{value:e.icon,title:"转发"}})],1):t._e(),i("span",{class:t.$style.num},["right"===t.toolbarAlign?i("span",[t._v("转发")]):t._e(),t._v(" "+t._s("left"===t.toolbarAlign&&0===t.repostVal?t.showEmptyText?"转发":"":t.repostVal)+" ")])],1)],1):t._e(),"comment"===e.icon?i("woo-box",{class:(s={},s[t.$style.wrap]="left"===t.toolbarAlign,s[t.$style.cur]="comment"===t.curClickIcon&&"left"===t.toolbarAlign&&!t.simple&&t.curHigh,s),attrs:{align:"center",justify:"center",direction:t.textDirection},nativeOn:{click:function(i){return i.stopPropagation(),t.clickHandle(e.icon,"",i)}}},["left"===t.toolbarAlign?i("woo-box",{class:t.$style.iconWrap,attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{class:t.$style.commentIcon,attrs:{value:e.icon,title:"评论"}})],1):t._e(),i("span",{class:t.$style.num},["right"===t.toolbarAlign?i("span",[t._v("评论")]):t._e(),t._v(" "+t._s("left"===t.toolbarAlign&&0===t.commentVal?t.showEmptyText?"评论":"":t.commentVal)+" ")])],1):t._e(),"like"===e.icon?i("woo-box",{class:[!t.simple&&t.single&&t.$style.like,t.$style.likebox,"left"===t.toolbarAlign&&t.$style.wrap,"attitude"===t.curClickIcon&&"left"===t.toolbarAlign&&!t.simple&&t.single&&t.$style.cur,t.valueLike&&t.$style.cur],attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return e.stopPropagation(),t.clickLikeList(e)}}},[!t.disabledLike&&t.customLikeIcon?["like"===e.icon?i("wooLikeDiy",{class:(r={},r[t.$style.btn]=!0,r[t.$style.cur]="attitude"===t.curClickIcon&&"left"===t.toolbarAlign&&!t.simple&&t.single,r),attrs:{tabindex:"0",like:t.valueLike,count:t.likeCount,title:t.customLikeIcon.text,likeText:t.customLikeIcon.text,likeFlat:t.flat,likeUrl:t.customLikeIcon.likeUrl,likedUrl:t.customLikeIcon.likedUrl,custom:t.customLikeIcon},on:{status:t.likeHandle},nativeOn:{click:function(i){i.stopPropagation(),t.simple&&t.clickHandle(e.icon,"",i)}}}):t._e()]:["like"===e.icon?i("woo-like",{class:(l={},l[t.$style.btn]=!0,l[t.$style.btnDisabled]=t.disabledLike,l[t.$style.columnBtn]="y"===t.textDirection,l[t.$style.cur]="attitude"===t.curClickIcon&&"left"===t.toolbarAlign&&!t.simple&&t.single,l),attrs:{disabled:t.disabledLike,effect:t.valueLike&&"attitude"===t.curClickIcon,tabindex:"0",like:!t.disabledLike&&t.valueLike,count:t.disabledLike?0:t.likeCount,title:"赞",likeFlat:t.flat,noZero:!t.showEmptyText,original:!t.showEmptyText},on:{status:t.likeHandle},nativeOn:{click:function(i){i.stopPropagation(),t.simple&&t.clickHandle(e.icon,"",i)}}}):t._e()]],2):t._e()],1)})),t.hasSlot?i("woo-box",{class:t.$style.slot,attrs:{align:"center"}},[t._t("toolbarSlot")],2):t._e()],2)],1),!t.single||t.simple||t.disableShare?t._e():i("woo-box-item",{attrs:{grow:0,shrink:0,basis:"auto"}},[i("div",{class:[t.$style.share,t.$style.cursor],on:{mouseenter:function(e){t.shareHover=!0},mouseleave:function(e){t.shareHover=!1}}},[i("woo-fonticon",{attrs:{value:"share"}}),i("transition",{attrs:{name:"share-slide-fade"}},[t.shareHover?t._e():i("span",[t._v("分享这条博文")])]),i("transition",{attrs:{name:"copy-slide-fade"}},[t.shareHover?i("span",{on:{click:t.copyClipboard}},[t._v("点击复制地址")]):t._e()]),i("woo-pop",{attrs:{show:t.shareHover,bubble:"",direction:"up",align:"center",gap:"20"}},[i("div",{class:t.$style.qrcode},[i("QRCode",{attrs:{text:t.shareText}}),i("div",{class:t.$style.text},[t._v("手机扫码分享/查看")])],1)])],1)])],1)],2)},o=[],n=(i("99af"),i("4de4"),i("7db0"),i("fb6a"),i("a9e3"),i("5530")),s=(i("96cf"),i("1da1")),r=i("eba1"),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{class:t.$style.main,on:{click:t.toggle}},[i("span",{class:t.$style.iconWrap},[i("img",{class:t.$style.icon,attrs:{src:t.likeValue,alt:""}})]),!t.withCount||t.noZero&&!t.counter?t._e():i("span",{class:[t.$style.count,t.active&&t.$style.liked],domProps:{textContent:t._s(t.counter)}})])},c=[],u={name:"woo-like-diy",props:{like:{type:Boolean,defaulf:!1},likeText:{type:String,default:"赞"},count:{type:[Number,String],default:0},withCount:{type:Boolean,default:!0},static:{type:Boolean,default:!1},original:{type:Boolean,default:!1},noZero:{type:Boolean,default:!1},likeUrl:String,likedUrl:String},data:function(){return{active:this.like}},watch:{like:function(t){this.active=t}},computed:{iconClass:function(){return{"is-large":this.large}},likeValue:function(){return this.active?this.likedUrl:this.likeUrl},counter:{get:function(){return 0!==this.count||this.original?this.count:this.likeText},set:function(){this.count=this.active?this.count+1:this.count-1}}},methods:{toggle:function(){this.static||this.$emit("status",this.active)}}},d=u,h=i("8838"),p=i("2877");function f(t){this["$style"]=h["default"].locals||h["default"]}var m=Object(p["a"])(d,l,c,!1,f,null,null),v=m.exports,_=i("b893"),g=i("7748"),b={props:{standard:Object,repost:[Number,String],comment:[Number,String],attitude:[Number,String],liked:Boolean,id:[Number,String],mblogid:String,uid:Number,toolbarAlign:{type:String,default:"center"},simple:Boolean,single:Boolean,high:{type:Boolean,default:!0},flat:Boolean,onlyRetweet:{type:Boolean,default:!1},showFeedRepost:Boolean,showFeedComment:Boolean,shareRepostType:{type:Number,default:0},customIcons:{type:Array,default:function(){return[]}},textDirection:{type:String,default:"x"},mlevel:Number,showEmptyText:{type:Boolean,default:!0}},inheritAttrs:!1,data:function(){return{valueLike:this.liked,likeCount:this.reset(this.attitude,4),show:!1,curClickIcon:"comment",curHigh:this.high,feedLocale:"zh-CN",shareHover:!1}},mounted:function(){var t=this;if(this.$Bus.$on("closePop",this.closePopHandle),this.$once("hook:beforeDestroy",(function(){t.$Bus.$off("closePop",t.closePopHandle)})),this.$route.hash){var e=this.$route.hash.slice(1);this.curClickIcon="repost"===e?"retweet":e}else this.single||(this.curClickIcon=this.showFeedRepost?"repost":this.showFeedComment?"comment":"")},watch:{id:function(t){this.single?this.curClickIcon="comment":this.curClickIcon=this.showFeedRepost?"repost":this.showFeedComment?"comment":""},high:function(t){this.curHigh=t},liked:function(t){this.valueLike=t},attitude:function(t){this.likeCount=this.reset(t,4)},$route:function(t){if(t&&this.single)if(this.$route.hash){var e=this.$route.hash.slice(1);this.curClickIcon="repost"===e?"retweet":e}else this.curClickIcon="comment"}},computed:{shareText:function(){return"https://weibo.com/".concat(this.uid,"/").concat(this.mblogid)},disableShare:function(){return 3===this.shareRepostType},items:function(){return[{icon:"retweet",text:this.repostVal,show:2!==this.shareRepostType},{icon:"comment",text:this.commentVal,show:!0},{icon:"like",text:this.attitudeVal,disabled:this.disabledLike,show:!0}]},disabledLike:function(){return 512===(512&this.mlevel)},customLikeIcon:function(){return this.getReplaceIcon(this.customIcons,"like")},repostVal:function(){return this.reset(this.repost,1)},commentVal:function(){return this.reset(this.comment,2)},attitudeVal:function(){return this.reset(this.attitude,4)},toolbarAlignStyle:function(){var t="",e=this.$attrs["toolbar-align"]||this.toolbarAlign;return t="left"===e?[this.$style.side,this.$style.left]:"right"===e?[this.$style.side,this.$style.right]:this.$style.center,t},boxDirection:function(){return"right"===this.$attrs["toolbar-align"]?"x-r":"x"},infos:function(){return"".concat(this.repostVal,",").concat(this.commentVal,",").concat(this.attitudeVal)},hasSlot:function(){return"center"!==this.$attrs["toolbar-align"]&&this.$slots.toolbarSlot},retweetPopList:function(){var t=this;return[{name:"快转",action:function(e){t.closePop(),t.$emit("toolbar-fastRepost-tap",e)}},{name:"转发",action:function(e){t.closePop(),t.clickHandle(t.items[0].icon,"",e)}}]}},methods:{copyTextToClipboard:_["a"],copyClipboard:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(_["a"])(t.shareText);case 2:i=e.sent,"success"===i&&t.$_w_toast({type:"success",message:"复制成功"});case 4:case"end":return e.stop()}}),e)})))()},getReplaceIcon:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return null===t||void 0===t?void 0:t.find((function(t){return t.type===e}))},closePopHandle:function(){this.show&&this.closePop()},likeHandle:function(){this.simple||(this.clickHandle("like",{id:this.id,attitude:this.valueLike,newCount:this.likeCount}),this.curClickIcon="attitude")},clickHandle:function(t,e,i){if(t){"comment"===t&&(this.show=!1),this.curClickIcon=t;var a=this.items.filter((function(e){return e.icon===t})),o={index:this.$attrs.index,type:this.simple?"repost":"og",id:this.id,mblogid:this.mblogid,uid:this.uid,name:t,count:a[0].text,attitude:this.valueLike,newCount:this.likeCount};e&&(o=Object(n["a"])(Object(n["a"])({},o),e)),this.$emit("toolbar-".concat(t,"-tap"),o,i)}},closePop:function(){this.show=!1},clickRetweetBtn:function(t){this.single||this.simple||this.onlyRetweet?this.clickHandle(this.items[0].icon):this.showFeedRepost?(this.show=!1,this.$emit("updateShowFeedRepost",!1),this.curClickIcon=""):(this.clickHandle(this.items[0].icon,"",t),this.show=!this.show)},reset:function(t,e){return this.standard?Object(r["a"])(+t,this.standard,e,this.feedLocale):Object(r["b"])(t,1,this.feedLocale)},clickLikeList:function(){this.disabledLike||(this.curClickIcon="attitude",this.$emit("toolbar-likeList-tap",{type:this.simple?"repost":"og",id:this.id,mblogid:this.mblogid,uid:this.uid}))}},components:{wooLikeDiy:v,QRCode:g["a"]}},y=b,w=i("8d90");i("37bb");function x(t){this["$style"]=w["default"].locals||w["default"]}var k=Object(p["a"])(y,a,o,!1,x,null,null);e["a"]=k.exports},"0bfa":function(t,e,i){"use strict";var a=i("c133"),o=i.n(a);e["default"]=o.a},"0c49":function(t,e,i){"use strict";var a=i("8341"),o=i.n(a);e["default"]=o.a},"0c79":function(t,e,i){"use strict";var a=i("f7ec"),o=i.n(a);e["default"]=o.a},"0c86":function(t,e,i){"use strict";var a=i("38d2"),o=i.n(a);e["default"]=o.a},"0c87":function(t,e,i){"use strict";var a=i("9966"),o=i.n(a);e["default"]=o.a},"0ce4":function(t,e,i){"use strict";var a=i("a576"),o=i.n(a);e["default"]=o.a},"0ce6":function(t,e,i){"use strict";var a=i("a087"),o=i.n(a);e["default"]=o.a},"0d47":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{class:t.$style.box,attrs:{align:"center"}},[i("woo-box-item",{attrs:{align:"center"}},[i("woo-divider",{attrs:{"border-color":"var(--w-off-border)"}})],1),i("div",{class:[t.$style.text,t.click&&t.$style.highlight],domProps:{innerHTML:t._s(t.text)},on:{click:function(e){return e.stopPropagation(),t.handleBottomText()}}}),i("woo-box-item",{attrs:{align:"center"}},[i("woo-divider",{attrs:{"border-color":"var(--w-off-border)"}})],1)],1)},o=[],n={name:"Bottom",props:{text:{type:String,default:"没有更多内容了"},click:{type:Boolean,default:!1}},methods:{handleBottomText:function(){this.$emit("handleBottomText")}}},s=n,r=i("ab3d"),l=i("2877");function c(t){this["$style"]=r["default"].locals||r["default"]}var u=Object(l["a"])(s,a,o,!1,c,null,null);e["a"]=u.exports},"0d7d":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{class:[t.$style.card,t.$style[t.cardSize]],attrs:{align:"center"}},[i("woo-picture",{class:t.$style.cpic,attrs:{src:t.cover,alt:"等比图"}}),i("woo-box-item",{class:t.$style.ccut,attrs:{align:"center"}},[t.textA?i("div",{class:t.$style.t1},[t._v(t._s(t.textA))]):t._e(),t.textB?i("div",{class:[t.$style.t2,t.$style.cut2]},[t._v(t._s(t.textB))]):t._e(),t.textC?i("div",{class:t.$style.t2},[t._v(t._s(t.textC))]):t._e()]),t.hasBtn?i("woo-box",{class:t.$style.cbtn,attrs:{align:"center",justify:"end"}},[t.pass&&!t.publishing?[i("Rss",{attrs:{styleType:"inList",showTip:t.showTip,auto:t.auto},on:{changeAuto:function(e){return t.$emit("auto",e)}}}),i("div",{class:t.$style.cl},[i("woo-divider",{attrs:{direction:"y","border-color":"var(--w-sub)"}})],1),i("woo-button",{attrs:{sort:"simple",kind:"default"},on:{click:function(e){return t.$emit("unbind")}}},[t._v("解除绑定")]),i("div",{class:t.$style.cl},[i("woo-divider",{attrs:{direction:"y","border-color":"var(--w-sub)"}})],1),t.auto||!t.pass||t.publishing?t._e():i("FeatureBubble",{class:t.$style.mix,attrs:{gap:20,alignGap:15,align:"start",content:"点这里去发布微博",configkey:"audio_bubble_publisher"}}),i("woo-button",{attrs:{sort:"simple",kind:"primary"},on:{click:function(e){return t.$emit("publish")}}},[t._v("去发布")])]:t._e(),t.pass?t.publishing?i("div",{class:[t.$style.t1,t.$style.cbtn],on:{click:function(e){return t.$emit("publish",!0)}}},[t._v(" 正在发布中"),i("woo-fonticon",{class:t.$style.icon,attrs:{value:"angleRight"}})],1):t._e():i("div",{class:[t.$style.t1,t.$style.cbtn]},[t._v(" "+t._s(t.text)+" ")])],2):t._e()],1)},o=[],n=(i("d3b7"),{props:{showTip:{type:Boolean,default:!1},auto:{type:Boolean,default:!0},cardSize:{type:String,default:"cardM"},hasBtn:{type:Boolean,default:!1},textA:{type:String,default:""},textB:{type:String,default:""},textC:{type:String,default:""},text:{type:String,default:""},cover:{type:String},pass:{type:Boolean,default:!1},publishing:{type:Boolean,default:!1}},components:{FeatureBubble:function(){return Promise.resolve().then(i.bind(null,"0587"))},Rss:function(){return i.e("chunk-49414228").then(i.bind(null,"127c"))}}}),s=n,r=i("cb6a"),l=i("2877");function c(t){this["$style"]=r["default"].locals||r["default"]}var u=Object(l["a"])(s,a,o,!1,c,null,null);e["default"]=u.exports},"0df5":function(t,e,i){"use strict";var a=i("8859"),o=i.n(a);e["default"]=o.a},"0e00":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-button",{class:t.$style[t.size],attrs:{size:t.size,loading:t.isLoading,disabled:t.isLoading,sort:t.sort,kind:t.kindType,fonticon:t.showFonticon&&t.fonticon},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.clickHandle(e)}}},[t._v(" "+t._s(t.followText)+" ")])},o=[],n=(i("d3b7"),i("25f0"),{name:"FollowBtn",props:{sort:String,size:{type:String,default:"s"},loading:Boolean,showIcon:{type:Boolean,default:!0},foText:{type:String,default:"关注"},showSpecialFo:Boolean,specialFoText:{type:String,default:"特别关注"},foApi:{type:String,default:"/ajax/friendships/create"},foToast:Boolean,foedText:{type:String,default:"已关注"},unfoApi:{type:String,default:"/ajax/friendships/destory"},unfoToast:Boolean,following:Boolean,followedBy:Boolean,specialFo:Boolean,foByText:{type:String,default:"互相关注"},uid:String,canUnfollow:Boolean,clickFoAction:{type:Boolean,default:!0},doFoAction:Boolean,mode:{type:String,default:"simple"},unfollowDialog:{type:Boolean,default:!0},showFonticon:{type:Boolean,default:!0},cardid:{type:String},page:{type:String},lpage:{type:String},kind:{type:String}},data:function(){return{isLoading:this.loading,isFollowing:this.following,isSpecialFo:this.specialFo}},computed:{followText:function(){return this.isSpecialFo&&this.isFollowing?this.specialFoText:this.isFollowing?this.followedBy?this.foByText:this.foedText:this.foText},fonticon:function(){if("simple"===this.mode)return!this.showIcon||this.isLoading||this.isFollowing?"":"add";if(this.showIcon&&!this.isLoading){if(!this.isFollowing&&!this.followedBy)return"add";if(!this.isFollowing&&this.followedBy)return"check"}return""},kindType:function(){return this.kind?this.kind:"simple"===this.mode?this.isFollowing?"default":"primary":this.isFollowing?"white":"primary"}},watch:{following:function(t){this.isFollowing=t},doFoAction:function(t){t&&this.followAction(!this.isFollowing)},specialFo:function(t){this.isSpecialFo=t}},methods:{toast:function(t){this.$_w_toast({type:"success",message:t?"关注成功":"取关成功"})},followAction:function(t){var e=this;if(this.uid){var i=t?this.foApi:this.unfoApi,a=t?{friend_uid:this.uid.toString(),followcardid:this.cardid,page:this.page,lpage:this.lpage}:{uid:this.uid.toString()},o=t?this.foToast:this.unfoToast,n=function(){e.isLoading=!0,e.$http.post(i,a).then((function(i){i.data&&i.data.ok>0?(o&&e.toast(t),e.isLoading=!1,e.isFollowing=!e.isFollowing,e.$emit("is-following",e.isFollowing)):e.isLoading=!1})).catch((function(){e.isLoading=!1}))};t?n():this.$_w_dialog({type:"confirm",message:"确定不再关注此人？",action:function(){n()}})}},clickHandle:function(t){this.clickFoAction?this.isFollowing&&!this.canUnfollow?this.$emit("click",t):this.followAction(!this.isFollowing):this.$emit("click",t)}}}),s=n,r=i("e844"),l=i("2877");function c(t){this["$style"]=r["default"].locals||r["default"]}var u=Object(l["a"])(s,a,o,!1,c,null,null);e["a"]=u.exports},"0e0f":function(t,e,i){"use strict";var a=i("3489"),o=i.n(a);e["default"]=o.a},"0e2c":function(t,e,i){t.exports={tab:"Message_tab_XGysV"}},"0e65":function(t,e,i){"use strict";var a=i("c6c6"),o=i.n(a);o.a},"0e71":function(t,e,i){t.exports={cursor:"verified_cursor_3deUM"}},"0f49":function(t,e,i){"use strict";var a=i("8460"),o=i.n(a);e["default"]=o.a},"0fa8":function(t,e,i){"use strict";var a=i("b880"),o=i.n(a);e["default"]=o.a},"0fe5":function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_rss",use:"woo_svg_rss-usage",viewBox:"0 0 50 50",content:'<symbol fill="none" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" id="woo_svg_rss"><circle cx="13.275" cy="36.382" fill="currentColor" r="3.75" /><g stroke="currentColor" stroke-linecap="round" stroke-width="5"><path d="M27.508 37.678c0-8.573-6.95-15.524-15.524-15.524M39.394 37.145c0-14.861-12.047-26.909-26.909-26.909" /></g></symbol>'});s.a.add(r);e["default"]=r},"0fec":function(t,e,i){"use strict";var a=i("b172"),o=i.n(a);e["default"]=o.a},"0ffa":function(t,e,i){t.exports={cut:"newSearch_cut_1DM2n",suserbox:"newSearch_suserbox_lsVu9",wrap:"newSearch_wrap_2rJx4",item:"newSearch_item_VZsXE",title:"newSearch_title_37MLA",cardWrap:"newSearch_cardWrap_2DZ04",tag:"newSearch_tag_2goll",bottomGap:"newSearch_bottomGap_suL2c"}},1:function(t,e){},"10ef":function(t,e,i){},"11d5":function(t,e,i){"use strict";var a=i("6b71"),o=i.n(a);e["default"]=o.a},"11de":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.visible?i("woo-modal",{attrs:{animation:"pop","lock-screen":""},on:{close:t.close}},[i("div",{staticClass:"wbpro-layer"},[i("woo-panel",{attrs:{border:"bottom"}},[i("woo-box",{staticClass:"wbpro-layer-tit"},[i("woo-box-item",{staticClass:"wbpro-layer-tit-text",attrs:{align:"center"}},[t._t("title")],2),i("woo-box",{staticClass:"wbpro-layer-tit-opt",attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"cross"},nativeOn:{click:function(e){t.visible=!1}}})],1)],1)],1),t._t("content")],2)]):t._e()},o=[],n={name:"ReplyModal",props:{value:{type:Boolean,default:!1}},data:function(){return{visible:!1}},mounted:function(){this.value&&(this.visible=!0),window.addEventListener("keydown",this.keyDownEsc)},watch:{value:function(t){this.visible=t},visible:function(t){this.$emit("input",t)}},methods:{close:function(){this.visible=!1},keyDownEsc:function(t){27!==t.keyCode&&27!==t.which||(this.visible=!1)}},beforeDestroy:function(){window.removeEventListener("keydown",this.keyDownEsc)}},s=n,r=i("2877"),l=Object(r["a"])(s,a,o,!1,null,null,null);e["a"]=l.exports},"124d":function(t){t.exports=JSON.parse("{}")},1259:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("woo-pop",{class:t.$style.box1,attrs:{show:t.visable&&Object.keys(t.handleEmotion).length,direction:t.top?"up":"down",align:t.top?"end":"start"}},[i("woo-tab",{class:[t.$style.tab,t.$style.tabtit],attrs:{animate:"",visable:t.visable},on:{change:t.tab}},t._l(t.handleEmotion,(function(e,a,o){return i("woo-tab-item",{key:a,attrs:{index:o,cur:o===t.currIndex},nativeOn:{click:function(t){t.stopPropagation()}}},[i("woo-box",{staticClass:"wbpro-iconbed",attrs:{align:"center",justify:"center",title:a}},[i("img",{class:t.$style.img,attrs:{src:e[0].url,alt:a}})])],1)})),1),i("div",{class:t.$style.tab},[i("woo-divider"),i("div",{class:[t.$style.facebox1,"wbpro-scrollbar"]},[i("woo-box",{attrs:{old:"",items:12}},t._l(t.iconList,(function(e,a){return i("woo-box-item",{key:a,nativeOn:{click:function(i){return i.stopPropagation(),t.change(e)}}},[i("woo-box",{staticClass:"wbpro-iconbed",attrs:{align:"center",justify:"center",title:t.format(e)}},[i("img",{class:t.$style.img,attrs:{src:e.url,alt:t.format(e)}})])],1)})),1)],1)],1)],1)],1)},o=[],n=(i("4fad"),i("07ac"),i("ac1f"),i("466d"),i("3835")),s=i("5530"),r=i("2f62"),l={props:["top"],data:function(){return{currIndex:-1,currGroup:"",visable:!1,newEmoticon:[],iconList:[],language:"ZH_CN"}},methods:Object(s["a"])(Object(s["a"])({},Object(r["b"])(["setComposerConfig"])),{},{format:function(t){var e=t.phrase.match(/^\[(.*)\]$/);return e?e[1]:t.phrase},change:function(t){this.$emit("change",Object(s["a"])(Object(s["a"])({},t),{},{text:this.format(t)}))},show:function(){this.visable=!0,this.getInitData(),this.tab(0)},hide:function(){this.visable=!1},tab:function(t){var e=this;this.currIndex=t,this.iconList=[],this.$nextTick((function(){e.iconList=Object.values(null===e||void 0===e?void 0:e.handleEmotion)[e.currIndex]}))},getInitData:function(){var t,e=this;this.newEmoticon.length||((null===this||void 0===this||null===(t=this.composerConfig)||void 0===t?void 0:t.emoticon[this.language])?this.newEmoticon=this.composerConfig.emoticon[this.language]:this.$http.get("/ajax/statuses/config").then((function(t){var i,a;t.data.ok&&(null===(i=t.data)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.emoticon[e.language])&&(e.newEmoticon=t.data.data.emoticon[e.language],e.setComposerConfig(t.data.data),e.tab(0))})))}}),computed:Object(s["a"])(Object(s["a"])({},Object(r["c"])(["composerConfig"])),{},{handleEmotion:function(){for(var t={},e=0,i=Object.entries(this.newEmoticon);e<i.length;e++){var a=Object(n["a"])(i[e],2),o=a[0],s=a[1];"仅解析"!==o&&(t[o]=s)}return t}}),components:{},mounted:function(){}},c=l,u=i("0df5"),d=i("2877");function h(t){this["$style"]=u["default"].locals||u["default"]}var p=Object(d["a"])(c,a,o,!1,h,null,null);e["a"]=p.exports},1263:function(t,e,i){t.exports={max:"TextInput_max_28JDY"}},"133d0":function(t,e,i){},1349:function(t,e,i){t.exports={box:"ProfileFocusPic_box_3kn9W",wrap:"ProfileFocusPic_wrap_2k1JC",imageBox:"ProfileFocusPic_imageBox_nfhFH",image:"ProfileFocusPic_image_2l-eK",dotBox:"ProfileFocusPic_dotBox_3vG2E",dot:"ProfileFocusPic_dot_1JOQM",highlight:"ProfileFocusPic_highlight_1Xesg",arrowBox:"ProfileFocusPic_arrowBox_1Fmvm",arrow:"ProfileFocusPic_arrow_207ca",arrowLeft:"ProfileFocusPic_arrowLeft_3tar4",arrowRight:"ProfileFocusPic_arrowRight_1Ffj1",angleLeft:"ProfileFocusPic_angleLeft_7g17L",angleRight:"ProfileFocusPic_angleRight_13fLV"}},1361:function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_nav_login",use:"woo_svg_nav_login-usage",viewBox:"0 0 30 30",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" id="woo_svg_nav_login"><path d="M15 4.2a6.25 6.25 0 013.868 11.16c3.866 1.392 6.632 4.815 6.632 8.884a2 2 0 01-2 2h-17a2 2 0 01-2-2c0-4.07 2.766-7.492 6.632-8.886A6.25 6.25 0 0115 4.2zm.277 12.493l-.048.003L15 16.7c-.093 0-.185-.002-.276-.006-4.567.129-8.224 3.46-8.224 7.55h17l-.004-.235c-.137-3.982-3.74-7.189-8.22-7.316zM15 6.2a4.25 4.25 0 00-.254 8.493l.254-.004c.085 0 .17 0 .254.003A4.249 4.249 0 0015 6.2z" fill="currentColor" fill-rule="nonzero" /></symbol>'});s.a.add(r);e["default"]=r},1447:function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_vote",use:"woo_svg_vote-usage",viewBox:"0 0 1024 1024",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" id="woo_svg_vote"><path fill="currentColor" d="M88.586 899.122c0-20.044 16.249-36.293 36.293-36.293l71.02.082c-1.024-7.352-1.459-15.712-1.459-25.822V380.473c0-25.145 2.687-39.455 10.454-54.394 7.389-14.21 18.442-25.58 32.258-33.18 14.524-7.989 28.436-10.752 52.883-10.752h67.564c9.827 0 17.952.447 25.098 1.5l-.073-96.735c0-25.145 2.687-39.455 10.454-54.393 7.389-14.211 18.442-25.58 32.258-33.18 14.523-7.99 28.436-10.753 52.883-10.753h67.564c24.447 0 38.359 2.763 52.883 10.753 13.816 7.599 24.869 18.969 32.258 33.18 7.767 14.938 10.454 29.249 10.454 54.393l-.025 193.508c7.135-1.048 15.245-1.492 25.05-1.492h67.564c24.447 0 38.359 2.763 52.883 10.752 13.816 7.6 24.87 18.97 32.258 33.18 7.767 14.939 10.454 29.249 10.454 54.394v359.835c0 10.11-.434 18.47-1.459 25.822l71.02-.082c20.044 0 36.293 16.249 36.293 36.293 0 20.043-16.249 36.292-36.293 36.292H124.878c-20.044 0-36.292-16.249-36.292-36.292zm552.818-426.686l-.027 364.653c0 14.187.561 17.177 2.114 20.163.812 1.561 1.792 2.569 3.31 3.404 2.903 1.596 5.809 2.174 19.602 2.174h67.564c13.793 0 16.7-.577 19.602-2.174 1.518-.835 2.498-1.844 3.31-3.404 1.552-2.986 2.114-5.975 2.114-20.163V477.253c0-14.187-.561-17.177-2.114-20.163-.812-1.561-1.792-2.569-3.31-3.404-2.54-1.397-5.083-2.014-14.919-2.146l-72.247-.028c-13.793 0-16.7.578-19.602 2.174-1.518.835-2.498 1.843-3.31 3.404-1.359 2.613-1.959 5.229-2.087 15.346zM453.22 182.095l-.027 654.993c0 14.187.561 17.177 2.113 20.163.812 1.561 1.792 2.569 3.31 3.404 2.903 1.596 5.809 2.174 19.602 2.174h67.564c13.793 0 16.7-.577 19.602-2.174 1.518-.835 2.498-1.844 3.31-3.404 1.552-2.986 2.114-5.975 2.114-20.163V186.912c0-14.187-.561-17.177-2.114-20.163-.812-1.561-1.792-2.569-3.31-3.404-2.902-1.597-5.809-2.174-19.602-2.174h-67.564c-13.793 0-16.7.577-19.602 2.174-1.518.835-2.498 1.843-3.31 3.404-1.358 2.612-1.958 5.228-2.086 15.346zm-188.185 193.56l-.027 461.433c0 14.187.561 17.177 2.114 20.163.812 1.561 1.792 2.569 3.31 3.404 2.902 1.596 5.809 2.174 19.603 2.174h67.564c13.793 0 16.7-.577 19.602-2.174 1.518-.835 2.498-1.844 3.31-3.404 1.552-2.986 2.114-5.975 2.114-20.163V380.473c0-14.187-.561-17.177-2.114-20.163-.812-1.561-1.792-2.569-3.31-3.404-2.54-1.397-5.083-2.014-14.919-2.146l-72.247-.027c-13.793 0-16.7.577-19.603 2.174-1.518.835-2.498 1.843-3.31 3.404-1.358 2.611-1.958 5.227-2.087 15.344z" /></symbol>'});s.a.add(r);e["default"]=r},"14a3":function(t,e,i){"use strict";var a=i("cff7"),o=i.n(a);e["default"]=o.a},"14b1":function(t,e,i){t.exports={cut:"tag_cut_17TDH",box:"tag_box_rZ5f0",title:"tag_title_2uq1r",arrow:"tag_arrow_3hbCa",boxAlink:"tag_boxAlink_24N89",autoImg:"tag_autoImg_2huBv"}},"14ca":function(t,e,i){"use strict";var a=i("c276"),o=i.n(a);e["default"]=o.a},"15be":function(t,e,i){t.exports={wrap:"Main_wrap_2GRrG",full:"Main_full_1dfQX",side:"Main_side_i7Vti",sideMain:"Main_sideMain_263ZF"}},"15dc":function(t,e,i){"use strict";var a=i("6689"),o=i.n(a);o.a},"15e3":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.visable?i("woo-modal",{attrs:{animation:"slide-bottom","lock-screen":t.visable,"inside-scroll":""},nativeOn:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"wbpro-layer",nativeOn:{click:function(t){t.stopPropagation()}}},[i("woo-panel",{attrs:{border:"bottom"}},[i("woo-box",{staticClass:"wbpro-layer-tit"},[i("woo-box-item",{staticClass:"wbpro-layer-tit-text",attrs:{align:"center"}},[t._v("选取图片焦点")])],1)],1),i("div",{class:t.$style.editbox},[i("Cropper",{ref:"cropper",attrs:{options:t.cropConf,height:560,width:560}}),i("div",{class:t.$style.tip},[i("span",[t._v("*")]),t._v("微博发布后，缩略图会参考此焦点进行展示，而不是直接使用它作为裁切 ")])],1),i("woo-box",{staticClass:"wbpro-layer-btn",attrs:{justify:"center"}},[i("woo-button",{staticClass:"wbpro-layer-btn-item",attrs:{sort:"flat",kind:"default"},nativeOn:{click:function(e){return e.stopPropagation(),t.cancel(e)}}},[t._v(" 取消 ")]),i("woo-button",{staticClass:"wbpro-layer-btn-item",attrs:{sort:"flat",kind:"primary"},nativeOn:{click:function(e){return t.update(e)}}},[t._v("完成")])],1),i("FileUpload",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"file_upload",on:{change:t.change}})],1)]):t._e()},o=[],n=(i("d3b7"),i("3ca3"),i("ddb0"),i("2b3d"),i("96cf"),i("1da1")),s=i("4fa9"),r=i("5abd"),l={components:{Cropper:s["a"],FileUpload:function(){return Promise.resolve().then(i.bind(null,"68f8"))}},props:{iptType:{type:String,default:"",required:!0}},data:function(){return{visable:!1,imgData:null,itemId:null,cropConf:{viewMode:1,autoCropArea:1,aspectRatio:1,minCropBoxWidth:80,minCropBoxHeight:80,zoomOnWheel:!1,cropBoxResizable:!1}}},methods:{showFiles:function(){this.$refs.file_upload.showFiles()},show:function(t,e){var i=this,a=this;a.imgData=e,a.itemId=t,a.visable=!0;var o=e.pri?e.large_url||e.url:Object(r["d"])(e.pid,"bmiddle");a.$nextTick((function(){a.$refs.cropper.setSrc(o,(function(){e.cropBoxData?i.$refs.cropper.setCropBoxData(e.cropBoxData):e.crop,i.$refs.cropper.setData(e.setData)}))}))},cancel:function(){var t=this;t.imgData.crop=null,t.$emit("change",t.itemId,t.imgData),t.visable=!1},update:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var i,a,o,n,s,r,l,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=t;try{a=t.$refs.cropper.getNaturalData(),o=t.$refs.cropper.getData(!0),n=Math.max(o.y,0),s=Math.max(o.x,0),r=Math.max(a.width,0),l=Math.max(a.height,0),c=Math.max(o.width,0),u=Math.max(o.height,0),i.imgData.setData=t.$refs.cropper.getData(),i.imgData.cropBoxData=t.$refs.cropper.getCropBoxData(),i.imgData.canvasData=t.$refs.cropper.getCanvasData(),i.imgData.crop={top:n,left:s,width:r,height:l,cropWidth:c,cropHeight:u,per:{top:n/l,left:s/r,width:c/r,height:u+n===l?1-n/l:u/l}},i.$emit("change",i.itemId,i.imgData)}catch(d){}finally{i.visable=!1}case 2:case"end":return e.stop()}}),e)})))()},change:function(t){var e=this;if(t&&t.target&&t.target.files&&t.target.files[0]){if(void 0!==t.target.files[0]){var i=t.target.files[0];e.$refs.cropper.setSrc(URL.createObjectURL(i)),e.imgData={url:"",file:t.target.files[0],status:1}}t.target.value=""}}}},c=l,u=i("fd5f"),d=i("2877");function h(t){this["$style"]=u["default"].locals||u["default"]}var p=Object(d["a"])(c,a,o,!1,h,null,null);e["a"]=p.exports},1625:function(t,e,i){t.exports={help:"Input_help_1QMKg",helpicon:"Input_helpicon_1e9eG",helpin:"Input_helpin_Q_R4V",input:"Input_input_2K1Io",prefix:"Input_prefix_ML1zk",prefixInput:"Input_prefixInput_3F3wu"}},"163c":function(t,e,i){t.exports={disabledMask:"Select_disabledMask_26bzy"}},"165b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAAeCAQAAADTehW+AAAB7ElEQVR42sWWv0tbURTHE7RoIVjQobhEikPBJXSpViWBQBcJpQh20tKlFao4CB26Kg7+A5Xv9yZKwSkBoQQCjYODiLkhRDqIW0uH4uAgtOAPMJyS+HjEmJfcoO/lfJd777nczzuHcx7H52uPJTsKQR3aH3ZHOlQIJjuqcLkeHdWxYtgtYDGsYzqa67Gj09F8ZCfgZgZ3AvmIjlpR7g3omLu4a6SOFYKVpQ4Vw42uxnu5+rXPyYvBTStV6glT6qXzO8WwDlUW5Sw3AvINhFuO3gOebnRXPuwZBLPO79icZkCfj98gjNTzJF5AACsTdwEyxXSV9vnnxj6tJqx7mxBmeW1bEOyyytBvDMQ/XuK3szhTiek5SjjBkaVfEBzbu7IGWwAi17TuOvmDl4mndnHdJaUmQDUHwUpVNbsNzHSpT8mHngExz9Ma/YXg7OYZvphW6XkzYHwMS82lJo2A6jGE2/f9c2sAxDiEKZNHMKU+OAkPjIF8B+GaEfAQ4qRkwDzCFQjfmwGZFf9tcbklIDOQ9SHDCL/XPV9qAchRCH+K3yOg+JmHcNGs8u4BqN5CcIJHxsASLm6LV8ZAfobwlWlv4RBH/FhHmQbA2hFDjZg3s5rG67rnI1io7UN7xCgEPR6iPB8TPR+E2zDqe2n/AbTUmNJLBBZ5AAAAAElFTkSuQmCC"},"168e":function(t,e,i){"use strict";var a=i("1c40"),o=i.n(a);o.a},"16d4":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"focus-visible",rawName:"v-focus-visible"}],class:t.$style.wrap},[i("svg",{class:t.$style.main,attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:t.simple?"0 0 404 323":"0 0 943 323"}},[i("g",{attrs:{fill:"none"}},[t.simple?t._e():i("g",{attrs:{fill:t.fontcolor}},[i("path",{attrs:{d:"M496.641 135.919h78.904l4.213-14.083h-78.883zM519.498 48.701l-15.821 53.775h85.878l15.852-53.775h-15.995l-11.598 39.437H557.84l16.354-55.555h-14.973l-16.374 55.555h-19.974l11.618-39.437zM523.647 32.657l-18.9.174c-15.811 18.951-32.543 34.364-54.47 51.709l-7.988 24.259c26.478-20.393 60.29-50.39 81.358-76.142zM576.915 174.647s-17.274 12.027-28.524 18.47l11.086-36.961s-65.751-.43-66.917 0c-4.173 19.677-8.417 40.142-27.174 54.45-2.547 9.47-3.805 13.817-7.497 24.862 20.455-17.192 34.077-23.083 44.857-59.942l1.575-5.288h34.967l-5.809 19.36c-2.005 8.806-12.528 18.491-12.528 18.491l8.294 12.324c5.87-4.122 42.28-25.895 42.28-25.895l5.39-19.871zM451.996 148.235l-26.908 89.775h15.995l33.77-112.643c8.98-9.992 21.488-25.098 28.309-34.885h-16.016c-19.289 23.605-38.097 42.423-57.395 59.277l-7.22 23.615c0 .194-.02.409-.01.603 3.539-2.935 9.552-8.12 15.791-13.428 6.433-5.86 10.994-9.951 13.684-12.314z"}}),i("path",{attrs:{d:"M585.537 132.436c5.318-4.541 12.661-10.657 16.773-15.873-3.713 23.461-3.723 44.591-.031 63.348-11.178 12.927-13.49 17.11-41.073 35.887-2.792 9.409-3.845 12.027-7.824 23.983 24.76-18.194 42.147-32.86 52.159-44.018 6.556 15.852 21.539 32.001 31.827 44.325 3.457-8.969 3.866-9.961 7.149-18.839-13.756-14.083-23.288-32.236-25.251-41.339 17.826-21.692 34.895-53.09 51.208-94.163h13.981l4.469-14.973h-53.906c8.918-12.211 16.588-27.132 21.609-38.136h-15.566c-17.816 32.84-25.527 47.23-47.761 73.248-2.363 8.468-4.285 15.28-7.763 26.55zm37.218-44.03c.818-.593 2.792-2.659 2.792-2.659h28.964c-12.007 31.122-24.659 56.639-37.964 76.572-2.864-19.37-.777-43.998 6.208-73.913zM759.998 200.245c9.45 8.202 17.264 16.077 23.451 23.706l16.312-6.985c-7.22-8.407-15.208-16.629-24.003-24.719l-15.76 7.998z"}}),i("path",{attrs:{d:"M859.397 162.956l-3.692 12.314H731.873l-3.959 13.192h123.832l-6.862 22.889c-1.278 6.443-6.883 9.675-16.885 9.675-3.335 0-12.917.317-22.93-.338-1.78 6.853-4.357 15.014-4.357 15.014s12.825.297 24.791.297c20.649 0 32.911-7.65 36.818-22.868l7.394-24.668h38.966l3.948-13.193h-38.945l3.692-12.314h-17.979zM735.739 105.735h22.97l4.49-14.952h-22.96l17.305-58.347h-17.99l-17.305 58.347h-23.962l-4.49 14.952h23.962l-39.835 132.903h17.98z"}}),i("path",{attrs:{d:"M938.556 68.783l4.234-14.093h-26.455l5.279-17.398h-15.965l-5.278 17.398h-34.48l6.791-22.255h-16.967l-6.791 22.255H774.02l-4.234 14.093h74.894l-4.203 14.062h-62.918l-24.188 80.632h16.998l3.845-12.856h45.941l-3.651 12.61h16.967l3.641-12.61h44.959l-3.733 12.631h16.987l24.044-80.407h-61.936l4.234-14.062h76.889zm-114.443 68.646h-45.941l4.224-14.093h45.931l-4.214 14.093zm8.172-27.287h-45.931l4.224-14.093h45.941l-4.234 14.093zm53.734 27.287H841.08l4.224-14.093h44.949l-4.234 14.093zm12.405-41.38l-4.214 14.093h-44.959l4.234-14.093h44.939zM476.09 269.422l.133-.215-7.333.103-13.061 21.068-10.667 16.885-1.81-38.056-8.09.103-12.385 20.792-10.319 16.977-1.442-37.872-8.468.215h-.287l2.342 51.188 7.671-.103 12.262-20.71 10.248-16.926 1.8 37.739h8.161l20.526-33.628 10.852-17.56zM509.688 267.784c-7.599 0-14.737 2.547-21.242 7.558-6.494 5.001-11.005 11.649-13.398 19.78-2.352 7.977-1.81 14.523 1.595 19.452 3.406 4.94 9.112 7.445 16.947 7.445 5.952 0 11.608-1.452 16.824-4.316 4.561-2.495 8.172-5.625 10.79-9.46.368-.511.788-1.002 1.125-1.524l-.082-.02c.041-.072.092-.133.133-.194l-8.039-1.432c-4.398 5.952-9.552 8.376-17.785 8.376-3.938 0-7.364-1.34-10.156-3.978-2.455-2.342-3.59-5.584-1.36-13.653l41.727-.153c2.618-9.194 2.301-16.22-.9-20.864-3.211-4.644-8.662-7.017-16.179-7.017zm8.898 21.713l-23.216.205h-7.967c1.841-4.858 4.469-7.486 8.12-10.115 3.866-2.792 8.028-4.203 12.355-4.203 3.211 0 5.778.767 7.589 2.281 4.234 4.58 3.692 9.04 3.119 11.832zM547.45 269.366l-11.577 39.968-3.252 11.056h.051l-.051.214h9.041l11.628-40.152 3.252-11.035h-.061l.061-.215zM562.102 251.505h-.061l.061-.215-9.757.154-2.465 8.826-.695 2.331h.061l-.061.205h9.726l2.475-8.959zM600.415 267.783c-5.697 0-11.086 2.219-15.914 6.505a39.406 39.406 0 00-3.569 3.324l5.819-20.455 1.677-5.656h-.061l.061-.205-9.092.153-15.699 53.949-4.418 14.993h.051l-.051.215 6.975-.143 1.575-4.786 1.299-3.457c2.291 6.484 7.343 9.798 15.085 9.798 7.006 0 13.531-2.608 19.411-7.752 5.881-5.144 9.992-11.588 12.222-19.176 2.598-8.816 2.352-15.648-.736-20.281-3.098-4.654-8.018-7.026-14.635-7.026zm5.441 27.828c-1.78 5.87-4.592 10.565-8.345 13.94-3.753 3.365-7.926 5.073-12.385 5.073-3.488 0-6.484-1.135-8.928-3.395-2.424-2.24-3.099-5.911-1.994-10.902l3.365-11.137c1.8-4.101 4.613-7.466 8.345-10.023 3.733-2.577 7.486-3.876 11.178-3.876 4.715 0 7.762 1.759 9.307 5.359 1.554 3.609 1.37 8.63-.543 14.961zM658.309 267.789c-7.364 0-14.349 2.465-20.72 7.323-6.372 4.858-10.82 11.424-13.224 19.555-2.271 7.711-1.964 14.247.92 19.462 2.915 5.236 8.376 7.885 16.261 7.885 7.783 0 14.973-2.557 21.375-7.589 6.402-5.052 10.831-11.649 13.173-19.595 2.26-7.65 1.851-14.134-1.207-19.278-3.068-5.145-8.642-7.763-16.578-7.763zm7.66 26.867c-2.045 6.607-5.114 11.547-9.092 14.666-3.989 3.119-8.264 4.705-12.723 4.705-4.388 0-7.66-1.493-9.736-4.449-2.066-2.956-2.035-7.947.112-14.85 2.025-6.556 5.052-11.393 9.01-14.4 3.937-3.017 8.151-4.541 12.498-4.541 4.203 0 7.456 1.493 9.685 4.449 2.21 2.935 2.302 7.782.246 14.42zM684.134 309.022l-2.445 9.031-.685 2.332h.061l-.061.225h12.835l2.486-9.174.695-2.353h-.061l.061-.214zM745.972 267.787c-7.517 0-14.318 2.608-20.199 7.752-5.881 5.134-10.023 11.669-12.314 19.432-2.209 7.486-1.994 13.93.624 19.156 2.628 5.236 7.987 7.895 15.914 7.895 5.83 0 11.24-1.626 16.067-4.837 4.316-2.833 7.793-6.76 10.381-11.761.297-.552.644-1.053.931-1.636l-.072-.01c.031-.061.082-.123.102-.194l-7.885-1.156c-4.326 8.243-9.593 11.925-17.059 11.925-4.643 0-7.752-1.79-9.245-5.308-1.698-3.907-1.657-8.345.112-14.39 1.616-5.461 3.498-9.89 7.415-13.827 3.764-3.733 7.742-5.482 12.518-5.482 4.019 0 6.975 1.033 8.775 3.048 1.708 1.902 2.332 4.766 2.209 8.601-.01.051 0 .123-.01.194l.02-.01c0 .082.031.133.02.215l8.622-1.544c.644-5.267-.45-9.655-3.252-13.009-2.812-3.356-7.414-5.054-13.674-5.054zM909.104 270.818c-2.373-2.015-5.564-3.027-9.481-3.027-6.556 0-12.539 2.812-17.755 8.192-1.258 1.227-2.506 2.495-3.692 4.019.102-3.314-.91-6.188-3.037-8.55-2.199-2.434-5.42-3.661-9.573-3.661-5.952 0-11.618 2.485-16.752 7.292-1.309 1.156-2.598 2.393-3.866 3.825l2.005-7.486.583-2.005h-.051l.051-.215-7.834.164-11.577 39.968-3.263 11.056h.061l-.061.215 8.693-.164 9-30.487c1.268-4.336 3.62-6.372 7.353-9.317 3.58-2.864 7.282-4.295 10.994-4.295 2.577 0 4.797.91 6.576 2.7 1.728 1.728 2.097 3.16.757 7.722l-7.558 26.407-2.138 7.22h.051l-.051.215 8.806-.164 8.468-28.698c1.606-5.441 4.295-8.161 8.397-11.035 3.907-2.731 7.578-4.111 10.912-4.111 2.393 0 4.377.665 5.881 1.984 1.524 1.33 2.291 2.751 2.322 4.326.01 1.176-.225 1.933-.747 3.59l-.655 2.138-7.139 24.944-2.015 6.811h.061l-.061.215h8.816l9.399-31.858c1.401-4.776 2.015-8.356 1.902-10.943-.131-2.62-1.409-4.962-3.782-6.987zM801.33 267.789c-7.374 0-14.349 2.465-20.731 7.323-6.361 4.858-10.82 11.424-13.224 19.555-2.27 7.711-1.964 14.247.92 19.463 2.915 5.236 8.376 7.885 16.261 7.885 7.783 0 14.973-2.557 21.385-7.589 6.392-5.052 10.82-11.649 13.173-19.595 2.26-7.65 1.851-14.134-1.207-19.278-3.077-5.146-8.651-7.764-16.577-7.764zm7.65 26.867c-2.045 6.607-5.103 11.547-9.092 14.666-3.989 3.119-8.274 4.705-12.723 4.705-4.388 0-7.66-1.493-9.736-4.449-2.066-2.956-2.025-7.947.112-14.85 2.035-6.556 5.062-11.393 9.01-14.4 3.937-3.017 8.151-4.541 12.498-4.541 4.203 0 7.466 1.493 9.685 4.449 2.21 2.935 2.302 7.782.246 14.42z"}})]),i("g",[i("path",{attrs:{d:"M29.136 219.44c0 45.849 59.707 83.045 133.364 83.045 73.657 0 133.363-37.197 133.363-83.045 0-45.859-59.707-83.045-133.364-83.045-73.656 0-133.363 37.186-133.363 83.045",fill:t.logocolor[0]}}),i("path",{attrs:{d:"M165.616 295.712c-65.199 6.433-121.469-23.032-125.714-65.833-4.234-42.791 45.204-82.708 110.383-89.151 65.209-6.453 121.469 23.011 125.714 65.802 4.213 42.812-45.195 82.729-110.383 89.182m130.387-142.077c-5.553-1.657-9.358-2.782-6.443-10.084 6.29-15.811 6.934-29.465.123-39.191-12.794-18.276-47.772-17.284-87.862-.501 0-.01-12.59 5.512-9.368-4.469 6.177-19.831 5.236-36.44-4.357-46.023-21.743-21.764-79.599.818-129.201 50.4C21.75 140.933.18 180.308.18 214.344c0 65.117 83.516 104.707 165.211 104.707 107.1 0 178.343-62.213 178.343-111.62 0-29.854-25.139-46.79-47.731-53.796",fill:t.logocolor[1]}}),i("path",{attrs:{d:"M367.124 34.465c-25.865-28.677-64.023-39.61-99.235-32.124h-.01c-8.141 1.749-13.336 9.757-11.598 17.888 1.728 8.151 9.747 13.357 17.898 11.608 25.057-5.318 52.159 2.465 70.558 22.827 18.348 20.373 23.349 48.16 15.484 72.511v.01c-2.567 7.926 1.769 16.415 9.716 18.982 7.916 2.557 16.425-1.78 18.992-9.695v-.051c11.045-34.262 4.05-73.31-21.805-101.956",fill:t.logocolor[2]}}),i("path",{attrs:{d:"M327.396 70.305c-12.59-13.96-31.162-19.268-48.324-15.617-7.016 1.493-11.495 8.397-9.972 15.412 1.483 6.985 8.386 11.485 15.372 9.961v.02c8.407-1.78 17.489.808 23.645 7.609 6.167 6.832 7.814 16.139 5.165 24.3h.02c-2.199 6.811 1.534 14.144 8.345 16.353 6.832 2.178 14.144-1.544 16.343-8.366 5.392-16.689 2.017-35.711-10.594-49.672",fill:t.logocolor[3]}}),i("path",{attrs:{d:"M169.206 218.197c-2.27 3.897-7.312 5.768-11.27 4.142-3.886-1.595-5.103-5.942-2.884-9.788 2.27-3.805 7.108-5.666 10.984-4.122 3.937 1.433 5.349 5.841 3.17 9.768m-20.761 26.672c-6.32 10.043-19.82 14.451-29.986 9.818-10.023-4.561-12.978-16.251-6.678-26.059 6.218-9.777 19.278-14.124 29.373-9.89 10.216 4.358 13.468 15.955 7.291 26.131m23.676-71.202c-31.019-8.08-66.089 7.384-79.558 34.732-13.725 27.869-.45 58.817 30.897 68.942 32.451 10.462 70.722-5.584 84.037-35.663 13.112-29.423-3.273-59.716-35.376-68.011",fill:t.logocolor[4]}})])])])])},o=[],n={props:{simple:Boolean,fontcolor:String,logocolor:{type:Array,default:function(){return["#FEFEFE","#D52C2B","#E79115","#E79115","#060101"]}}}},s=n,r=i("0ce4"),l=i("2877");function c(t){this["$style"]=r["default"].locals||r["default"]}var u=Object(l["a"])(s,a,o,!1,c,null,null);e["a"]=u.exports},"16d8":function(t,e,i){},1709:function(t,e,i){"use strict";var a=i("cacb"),o=i.n(a);o.a},1718:function(t,e,i){},1732:function(t,e,i){"use strict";var a=i("8b84"),o=i.n(a);e["default"]=o.a},"17c7":function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_nav_hot",use:"woo_svg_nav_hot-usage",viewBox:"0 0 30 30",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" id="woo_svg_nav_hot"><path d="M21.817 6.791c.146-.03.267.119.327.186.305.34.549.737.821 1.112 1.026 1.41 1.654 3.125 2.038 4.743.538 2.263.597 4.338.597 5.131 0 5.764-4.836 10.437-10.8 10.437S4 23.727 4 17.963c0-2.751 1.124-5.952 5.292-9.132 3.461-2.64 3.095-5.064 3.424-6.261.067-.245.135-.379.313-.507.278-.125.592-.051.926.106 1.073.506 2.402 2.007 3.545 4.053.547.98 1.214 3.807 1.24 3.878.075.281.202.327.238.34.037.013.225.062.48-.12.6-.441 1.601-1.77 2.081-3.228.08-.192.133-.27.278-.3zm1.24 6.503c-.253-1.068-.59-2.034-1.01-2.87-.453.636-.95 1.172-1.426 1.523-.753.538-1.612.63-2.319.375a2.234 2.234 0 01-1.115-.867 2.535 2.535 0 01-.373-.84c-.11-.414-.398-1.5-.561-2.04A14.499 14.499 0 0015.9 7.53a3.143 3.143 0 00-.146-.332 13.983 13.983 0 00-1.457-2.147c-.124.493-.286.97-.503 1.448-.64 1.412-1.702 2.713-3.29 3.923C7.272 12.89 6 15.331 6 17.963c0 4.644 3.925 8.437 8.8 8.437 4.875 0 8.8-3.793 8.8-8.437 0-1.362-.15-3.02-.542-4.669zm-9.194-.168l.645-.613a.5.5 0 01.833.257l.188.868c.238 1.095.763 1.793 1.821 2.306 1.052.615 1.802 1.808 1.826 2.812.078 2.303-1.758 4.14-4.104 4.14-2.37-.05-4.176-1.873-4.062-4.108.053-1.84.609-3.151 1.866-4.633.28-.327.612-.673.987-1.029zm2.549 4.583c-.995-.48-1.727-1.147-2.22-2.005-.822 1.032-1.147 1.885-1.184 3.164-.056 1.101.837 2.001 2.085 2.028 1.209 0 2.123-.915 2.083-2.082-.007-.299-.364-.868-.764-1.105z" fill-rule="nonzero" fill="currentColor" /></symbol>'});s.a.add(r);e["default"]=r},"17e9":function(t,e,i){"use strict";var a=i("289e"),o=i.n(a);e["default"]=o.a},1886:function(t,e,i){t.exports={miniPlayer:"MiniPlayer_miniPlayer_XOQGw",videoElm:"MiniPlayer_videoElm_eiOwe"}},"18ac":function(t,e,i){t.exports={main:"LikeDiy_main_PUq7o",count:"LikeDiy_count_1_HJu",iconWrap:"LikeDiy_iconWrap_1AZr_",icon:"LikeDiy_icon_1ygQE",liked:"LikeDiy_liked_3qoXm"}},"190d":function(t,e,i){"use strict";var a=i("a9c2"),o=i.n(a);e["default"]=o.a},"198b":function(t,e,i){"use strict";var a=i("da78"),o=i.n(a);e["default"]=o.a},"1a45":function(t,e,i){t.exports={box:"Card_box_2IaVx",card:"Card_card_3MK_R",cardh3:"Card_cardh3_3WHgC",cardicon:"Card_cardicon_3cURL",cardh4:"Card_cardh4_1Kr4I"}},"1a83":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));i("d81d");var a=i("5530"),o=i("764e"),n=i("e054"),s=function(t,e,i){var o=Object(n["a"])(e,i);return o=o.map((function(e){return Object(a["a"])(Object(a["a"])({},e),{},{type:null===t||void 0===t?void 0:t.type,video:null===t||void 0===t?void 0:t.video})})),o},r=function(t,e,i,a){var n=[];return n=a?Object(o["a"])(t,a):s(t,e,i),n}},"1aa1":function(t,e,i){t.exports={tip:"Comments_tip_Vb4n5",mar1:"Comments_mar1_xaWeE",mar2:"Comments_mar2_FROsh",mar3:"Comments_mar3_3Vifb",wrap:"Comments_wrap_2Egf0",mask:"Comments_mask_eqG8c",scroll:"Comments_scroll_E9NHZ",bed1:"Comments_bed1_c6J8c",opt:"Comments_opt_3TPgC",link:"Comments_link_1auur"}},"1ace":function(t,e,i){t.exports={unRead:"Messages_unRead_t1Lu1"}},"1af8":function(t,e,i){t.exports={wrap:"Mblog_wrap_2bUkB",gap:"Mblog_gap_3gdBg"}},"1b37":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Modal",{class:t.$style.wrap,scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.totalNumber)+"条回复 ")]},proxy:!0},{key:"content",fn:function(){return[i("div",{class:t.$style.scroll3,on:{touchmove:function(t){t.stopPropagation()}}},[i("div",{staticClass:"wbpro-list"},[i("div",{staticClass:"item1"},[t.rootComment&&t.rootComment.id?i("woo-box",{staticClass:"item1in"},[i("div",[i("a-link",{directives:[{name:"log",rawName:"v-log:click",value:t.getCommentClickLog(t.rootComment,t.config.uid),expression:"getCommentClickLog(rootComment, config.uid)",arg:"click"}],attrs:{to:"/u/"+t.rootComment.user.id}},[t.rootComment.user?i("woo-avatar",{key:t.rootComment.user.profile_image_url,class:t.$style.cursor,attrs:{size:34,verified:t.getWeiboVerifiedIcon(t.rootComment.user),src:t.rootComment.user.profile_image_url,usercard:t.rootComment.user.id}}):t._e()],1)],1),i("woo-box-item",{staticClass:"con1"},[i("div",{staticClass:"text"},[t.rootComment.user&&t.rootComment.user.id?i("a-link",{directives:[{name:"log",rawName:"v-log:click",value:t.getCommentClickLog(t.rootComment,t.config.uid),expression:"getCommentClickLog(rootComment, config.uid)",arg:"click"}],attrs:{usercard:t.rootComment.user.id,to:"/u/"+t.rootComment.user.id}},[t._v(" "+t._s(t.rootComment.user.screen_name)+" ")]):t._e(),i("IconFans",{attrs:{mbrank:t.rootComment.user&&t.rootComment.user.mbrank,mbtype:t.rootComment.user&&t.rootComment.user.mbtype,svip:t.rootComment.user&&t.rootComment.user.svip,vvip:t.rootComment.user&&t.rootComment.user.vvip,fansIcon:t.rootComment.user&&t.rootComment.user.fansIcon}}),t._v(":"),i("span",{directives:[{name:"ahref",rawName:"v-ahref"}],domProps:{innerHTML:t._s(t.rootComment.text)}})],1),t.rootComment.pics&&t.rootComment.pics.length?t._l(t.rootComment.pics,(function(e,a){return i("div",{key:a,staticClass:"media",on:{click:function(e){return e.stopPropagation(),t.viewPic(a,t.rootComment.pics)}}},[i("woo-picture",{key:e.url,attrs:{src:e.url,alt:"等比图"}})],1)})):t._e(),i("woo-box",{staticClass:"info",attrs:{align:"center",justify:"between"}},[i("div",[t._v(" "+t._s(t._f("fromNow")(t.rootComment.created_at,!0))+" "),t.rootComment.source?i("span",[t._v(t._s(t.rootComment.source))]):t._e(),t.rootComment.translate_source&&t.rootComment.translated?i("span",[t._v(" "+t._s(t.rootComment.translate_source))]):t._e()]),i("IconList",{attrs:{iconsName:t.iconsName(t.rootComment.user&&t.rootComment.user.id,t.rootComment),widthCount:!0,likeType:"comment",data:t.iconsData(t.rootComment),actLogData:t.actLogData,weiboData:t.weiboData,translated:t.rootComment.translated},on:{closeReplyModal:t.closeReplyModal,"translate-finish":function(e){return t.onTranslateFinish(t.rootComment,e)},"translate-recover":function(){return t.onTranslateRecover(t.rootComment)}}})],1)],2)],1):t._e(),t.filterGroup&&t.filterGroup.length?i("div",{staticClass:"wbpro-tab3"},[i("woo-box",{staticClass:"list",class:t.$style.tab2,attrs:{align:"center"}},[t._l(t.filterGroup,(function(e,a){return i("div",{key:a,staticClass:"item",class:-1===t.curTabIndex&&1===e.isDefault||t.curTabIndex===a?"curr":"",domProps:{innerHTML:t._s(e.title)},on:{click:function(i){return t.changeTabs(e.type,a)}}})})),i("woo-box-item",{attrs:{align:"center"}},[i("woo-divider",{attrs:{direction:"x"}})],1)],2)],1):t._e(),i("div",{staticClass:"list2"},[i("Scroll",{attrs:{data:t.list,isLoading:t.isLoading,isRetry:t.isRetry,isNoData:!1,isInCard:!0,showScrollBottom:!1},on:{loadMoreData:t.loadMoreData},scopedSlots:t._u([{key:"content",fn:function(e){var a=e.item,o=e.index;return[i("Reply",{attrs:{rootComment:t.rootComment,item:a,index:o,actLogData:t.actLogData,weiboData:t.weiboData}})]}}])})],1),t.showBottom&&!t.isLoading?i("Bottom",{class:t.$style.bottom}):t._e()],1)])])]},proxy:!0}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})},o=[],n=(i("99af"),i("4de4"),i("c740"),i("c975"),i("a434"),i("ac1f"),i("5319"),i("1276"),i("5530")),s=i("2f62"),r=i("11de"),l=i("6701"),c=i("c9bf"),u=i("32d4"),d=i("0d47"),h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.item.idstr?i("div",{ref:"replyEle",staticClass:"item2",class:{"wbpro-highlight":t.rid==t.item.idstr}},[i("div",{staticClass:"con2"},[i("div",{staticClass:"text"},[t.item.user&&t.item.user.id?i("a-link",{directives:[{name:"log",rawName:"v-log:click",value:t.getCommentClickLog(t.item,t.config.uid),expression:"getCommentClickLog(item, config.uid)",arg:"click"}],attrs:{to:"/u/"+t.item.user.id}},[t._v(t._s(t.item.user.screen_name))]):t._e(),!t.getWeiboVerifiedIcon(t.item.user)||t.item.user.fansIcon&&t.item.user.fansIcon.isAuthor?t._e():[t.item.user&&t.item.user.fansIcon&&"ai_assistant"!==t.item.user.fansIcon.name?i("woo-icon",{staticClass:"iconv",attrs:{symbol:t.getWeiboVerifiedIcon(t.item.user)}}):t._e()],i("IconFans",{attrs:{mbrank:t.item.user&&t.item.user.mbrank,mbtype:t.item.user&&t.item.user.mbtype,svip:t.item.user&&t.item.user.svip,vvip:t.item.user&&t.item.user.vvip,fansIcon:t.item.user&&t.item.user.fansIcon}}),t._v(":"),i("span",{directives:[{name:"ahref",rawName:"v-ahref"}],domProps:{innerHTML:t._s(t.item.text)}})],2),i("woo-box",{staticClass:"info",attrs:{align:"center",justify:"between"}},[i("div",[t._v(" "+t._s(t._f("fromNow")(t.item.created_at,!0))+" "),t.item.source?i("span",[t._v(" "+t._s(t.item.source))]):t._e(),t.item.translate_source&&t.item.translated?i("span",[t._v(" "+t._s(t.item.translate_source))]):t._e(),1===t.item.approval_comment_type?i("span",[t._v("审核评论中，仅自己可见")]):t._e()]),i("IconList",{attrs:{iconsName:t.iconsCommentsName(t.item.user&&t.item.user.id,t.item),widthCount:!0,likeType:"comment",data:t.iconsData(t.item,t.rootComment,t.index),actLogData:t.actLogData,weiboData:t.weiboData,translated:t.item.translated},on:{"translate-finish":function(e){return t.onTranslateFinish(t.item,e)},"translate-recover":function(){return t.onTranslateRecover(t.item)}}})],1)],1)]):t._e()},p=[],f=(i("a9e3"),i("cc8d")),m=i("a2ba"),v=i("997f"),_={name:"Reply",props:{rootComment:Object,item:Object,index:[String,Number],actLogData:Object,weiboData:{type:Object,default:function(){return{}}}},mounted:function(){this.goAnchor(this.cid)},computed:Object(n["a"])(Object(n["a"])({},Object(s["c"])(["config"])),{},{isMy:function(){var t,e;return!!(null===(t=this.weiboData)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.id)&&this.weiboData.user.id===this.config.uid},rid:function(){return this.$route.query.rid},checkComment:function(){return this.weiboData&&2===this.weiboData.is_show_bulletin&&this.weiboData.comment_manage_info&&1===this.weiboData.comment_manage_info.approval_comment_type}}),methods:{getCommentClickLog:v["a"],onTranslateRecover:m["b"],onTranslateFinish:m["a"],getWeiboVerifiedIcon:f["a"],viewPic:function(t,e){this.$Bus.$emit("showViewer",{data:{index:t,pics:e},type:"image"})},iconsData:function(t,e,i){return Object(v["b"])("reply",t,e,0,i,this.weiboData.idstr)},goAnchor:function(t){+this.rid===+this.item.idstr&&this.$refs.replyEle&&this.$refs.replyEle.scrollIntoView({block:"center",behavior:"smooth"})},iconsCommentsName:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[{name:"report",title:"投诉",hover:1},{name:"translate",title:"翻译",hover:1,hide:!e.translate},{name:"retweet",title:"转发",hover:1},{name:"comment",title:"评论",hover:1},{name:"like",title:"赞",hover:1}];return(this.isMy||this.config.uid===t)&&i.unshift({name:"delete",title:"删除",hover:1}),i.filter((function(t){return!t.hide}))}},components:{IconList:c["a"],IconFans:u["a"]}},g=_,b=(i("f377"),i("2877")),y=Object(b["a"])(g,h,p,!1,null,null,null),w=y.exports,x=i("e054"),k=i("eba1"),$=i("ffe6"),C={name:"ReplyModal",props:{value:{type:Boolean,default:!1},commentData:{type:Object,default:function(){}},actLogData:{type:Object,default:function(){return{page:"",extValue:""}}},weiboData:{type:Object,default:function(){return{}}}},data:function(){return{show:!1,list:[],rootComment:{},filterGroup:[],curTabIndex:-1,max_id:"",isLoading:!0,isRetry:!1,totalNumber:0,showBottom:!1,cancel:null}},mounted:function(){var t=this;this.value&&(this.show=!0),this.$Bus.$on("deleteReplyList",this.deleteReplyListHandle),this.$once("hook:beforeDestroy",(function(){t.$Bus.$off("deleteReplyList",t.deleteReplyListHandle)}))},computed:Object(n["a"])(Object(n["a"])({},Object(s["c"])(["composerCallback","config"])),{},{isMy:function(){var t,e;return!!(null===(t=this.weiboData)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.id)&&this.weiboData.user.id===this.config.uid},rid:function(){return this.$route.query.rid},checkComment:function(){return this.weiboData&&2===this.weiboData.is_show_bulletin&&this.weiboData.comment_manage_info&&1===this.weiboData.comment_manage_info.approval_comment_type}}),watch:{value:function(t){if(this.show=t,t){if(this.commentData&&this.commentData.rootComment){var e=this.commentData.rootComment;e.url_struct&&e.url_struct.length&&e.url_struct[0].pic_ids&&e.url_struct[0].pic_ids.length&&(e.pics=Object(x["a"])(e.url_struct[0].pic_ids)),this.rootComment=e}this.list=[],this.max_id=0,this.getList()}else window.history.replaceState({},"",window.location.href.replace(/[&?]cid=(\d*)&rid=(\d*)/g,""))},show:function(t){this.$emit("input",t)},composerCallback:function(t){if("reply"===t.action&&t.ok&&this.show&&(0===t.location[0]||t.location[1])){if(!this.isMy&&this.checkComment&&(t.data.approval_comment_type=1),this.list.length&&this.list[0].idstr===t.data.idstr)return;this.list.unshift(t.data),this.totalNumber++,this.$emit("updateTotalNumber",this.totalNumber)}}},methods:{getCommentClickLog:v["a"],onTranslateRecover:m["b"],onTranslateFinish:m["a"],deleteReplyListHandle:function(t){this.deleteReplyList(t)},getList:function(){var t=this;this.cancel&&this.cancel(),this.isLoading=!0,this.isRetry=!1;var e={},i=this.$http.CancelToken;if(this.filterGroup&&this.filterGroup.length){var a=this.filterGroup[this.curTabIndex].param,o=a.split("=")[0],s=a.split("=")[1];e[o]=s}this.$http.get("/ajax/statuses/buildComments",{params:Object(n["a"])(Object(n["a"])({},e),{},{is_reload:1,id:this.commentData.id,is_show_bulletin:2,is_mix:1,fetch_level:1,max_id:this.max_id,count:20,anchor_id:this.rid,uid:this.weiboData.user.id,locale:Object($["a"])()}),cancelToken:new i((function(e){t.cancel=e}))}).then((function(e){if(t.isLoading=!1,e.data&&e.data.ok>0){var i=e.data,a=i.data;0===t.filterGroup.length&&i.filter_group&&i.filter_group.length&&(t.filterGroup=i.filter_group,t.curTabIndex=t.filterGroup.findIndex((function(t){return 1===+t.isDefault}))),t.list=t.list.concat(a),t.isLoading=!0,t.max_id=i.max_id,t.totalNumber=i.total_number,(0===i.max_id||a&&0===a.length)&&(t.isLoading=!1,t.isRetry=!1,t.showBottom=!0)}else t.isLoading=!1,t.isRetry=!1})).catch((function(){t.isLoading=!1,t.isRetry=!0}))},getWeiboVerifiedIcon:f["a"],viewPic:function(t,e){this.$Bus.$emit("showViewer",{data:{index:t,pics:e},type:"image"})},iconsData:function(t,e,i){return Object(v["b"])("reply",t,e,0,i,this.weiboData.idstr)},loadMoreData:function(){this.getList()},changeTabs:function(t,e){this.curTabIndex=e,this.max_id="",this.list=[],this.getList()},iconsName:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[{name:"report",title:"投诉",hover:1},{name:"translate",title:"翻译",hover:0,hide:!e.translate},{name:"retweet",title:"转发",hover:0},{name:"comment",title:"评论",hover:0},{name:"like",title:"赞",hover:0}];return(this.isMy||this.config.uid===t)&&i.unshift({name:"delete",title:"删除",hover:1}),i.filter((function(t){return!t.hide}))},closeReplyModal:function(){this.show=!1},deleteReplyList:function(t){var e=this.list.findIndex((function(e){return e.idstr===t}));if(e>-1){if(this.list.splice(e,1),this.totalNumber--,this.weiboData.comments_count--,this.weiboData.comments_count_format=Object(k["b"])(this.weiboData.comments_count),[0,1].indexOf(e)>-1){var i=[];this.list[0]&&i.push(this.list[0]),this.list[1]&&i.push(this.list[1]),this.$emit("updateComments",i,this.totalNumber)}this.totalNumber||(this.show=!1)}}},components:{Modal:r["a"],Scroll:l["a"],IconList:c["a"],Reply:w,IconFans:u["a"],Bottom:d["a"]}},O=C,j=i("fc6e");function T(t){this["$style"]=j["default"].locals||j["default"]}var D=Object(b["a"])(O,a,o,!1,T,null,null);e["a"]=D.exports},"1be7":function(t,e,i){t.exports={tit:"Charts_tit_2z-Rr",f14:"Charts_f14_qCrlV",cla:"Charts_cla_Flppi",clb:"Charts_clb_2n6jx",help:"Charts_help_1nxcD",helppop1:"Charts_helppop1_28sFh",wrap:"Charts_wrap_2Nmcr",ext:"Charts_ext_1eJfA"}},"1c40":function(t,e,i){},"1c64":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAAAgCAYAAADzCU3nAAAEZUlEQVR4AeWbA6w0SxCFn23btm3btm3bthnj2baD37Z1bXP7nU1Obip1NTvVO/or+fJen+rqwfm3t3tm7yJH33JCD8651UEVaATrUJf5F0Cd1kV+S5ADZWAx6oFwjEL6M1Zmu060vR4X6fXYrYKaHeP16+I9WN8AFu1j8Lf6HVzkEY9Ry4px77Pbu0k17nbW/5lv6xsijZM625uDdlALVvNx4tRr+qDZ9R/1oMZ6XJHfC3SDTrBVUo0byvp7Qhj3EdtX+jxxFzI8Gvcju9xCLTnGsfBI1ubA1iGMW2C5kb5vuHUc5pYEOcs/FFek4OBuA3Hjv8trIYy7DjRmyTjmnwSNiTMObAFmsF0ONghjnEbmjVPlwWCK6z9qBPmYDc6z3kib4RFMlej7O2tqwZ5MJMm4ma7wmLcwGLcdmAh26mfAkRyzCbQBGeVgMW1UIcYNduOEtDFYFayotwMFTn2Lg1XJxkGnOg9T++5grAsZ9GjvHuM46BIDHHAPMB3omAcOZ78IjBPjGIyT5GsjNG68s8eU/rYDN3If9A61AIQwLtx2oMkFD5/GNbDLKkpvMi+mDHmZuFUtfVc0GpfzbJyLybj57LKV0qtiNY7inUCH/uTo0P1qVbvRs3EbgyVimCr/ZZcjlT6nQOOmO3vMlIuTeyhajZvI9ib+p8pYv+NeYZf7lD4J5Aow7mCuC8LGHHCANO4t8cTkbuBCPqz9mHXHKONWSvlUeQq7fKv0saAmzu3A4uBDcHFeMBh3Fesel1/qzKfZuNX5kLkJLC/0GWBqXMYFeV2yTz9L2SlgP1G3CfUJYGn+f4NH41ayLtOZ30Xsp7rE+F3iug5WNT8wdx7bi4FW8Gvg67PHJLBPIOMCPLmYpmrHUL+Z/50Vwjir3sHUkv0cZ7QbPEpVzWnUf2V7W7Zfiso4xrSAxgVfBFB7UO25/rQaZ8e+LOdbghKm9hHvLc+M67x8G7cNkPFuFoyjfhNTv3CF1w5WzYRx1MeJmsujMs4ximjcUmov9qlhijRHMYx7WNRsnRXjmDtbXNseSTVuyZDGXS9qNo9/O+DVuKPFIc6LcwofsENI434TNfdkzLjvxSEmg8VTbxy1NdTeaESEU2V9kb/jtuBGfDZNy8e5EW8H5ngzTj34vRzo2M5qXP4Y4OCYFydvMvWweCg/DiwakXFzwZH+jKOufso2HYyQm1TDVLk2mMpP8nZxGMcfU7XxE7cRWFts9E+L8ZGX3Tj+FKCd2jPirUMlWMr4ifuL6S9jMu4Nyj8K7XNqw8GiaTbuKqHtATYT7SuNxu0jXszuG5VxbG8pPl2nC/04cX3Hpdm4f9meBRalNozaBGqWG/oFx9snYuO+olQBlhL6YuLt+H9pMm4a9Tb1dwcviD53UHvRww1dUZrvVAR9qM0FxWBRIvrfT+21PsZ6lrknQhqlY1YUxu2nX9/TvL3Vq57ni/nXOiJmgP0C1O0BJg9kGjha1tC8PfoYa3tpmtG42eDQoPX/A4B0TJZoymTpAAAAAElFTkSuQmCC"},"1d1e":function(t,e,i){"use strict";var a=i("0604"),o=i.n(a);e["default"]=o.a},"1d99":function(t,e,i){"use strict";var a=function(){var t,e,i,a=this,o=a.$createElement,n=a._self._c||o;return a.data?n("Card",{class:(t={},t[a.$style.wrap]=!0,t[a.$style.pad1]=24===a.picSize,t[a.$style.pad2]=70===a.picSize,t[a.$style.nocard]=a.isCardWrap,t[a.$style.noborderbottom]=a.noBorderBottom,t),attrs:{bottomGap:!a.isCardWrap&&a.bottomGap}},[n("a-link",{attrs:{"link-type":"old","style-type":"none",href:a.getHref,target:"_blank"},nativeOn:{click:function(t){t.stopPropagation()}}},[n("woo-box",{attrs:{justify:"center",align:"center"}},[a.data.pic?n("woo-picture",{key:a.data.pic,class:(e={},e[a.$style.picbor1]=24===a.picSize,e[a.$style.picbor2]=70===a.picSize,e),attrs:{width:a.picSize,height:a.picSize,border:!1,src:a.data.pic},nativeOn:{click:function(t){return t.stopPropagation(),t.preventDefault(),a.viewPic(a.data.pic)}}}):a._e(),n("woo-box-item",{class:a.$style.content,attrs:{justify:"center",align:"center"}},[a.data.title?n("h3",{class:(i={},i[a.$style.title]=!0,i[a.$style.cut]=1===a.titleCut,i[a.$style.cut2]=2===a.titleCut,i)},[a._v(" "+a._s(a.data.title)),a._t("tag")],2):a._e(),a.data.desc?n("h4",{class:[a.$style.desc,a.$style.cut],domProps:{innerHTML:a._s(a.data.desc)}}):a._e(),a.data.desc2?n("h4",{class:[a.$style.desc,a.$style.cut],domProps:{innerHTML:a._s(a.data.desc2)}}):a._e()]),a.data.btnIcon?n("woo-box",{attrs:{direction:"y",justify:"center",align:"center"}},[a.data.btnIcon?n("woo-picture",{attrs:{width:"24",height:"24",border:!1,src:a.data.btnIcon}}):a._e(),a.data.btnText?n("h4",{class:[a.$style.icontext,a.$style.textgap],domProps:{innerHTML:a._s(a.data.btnText)}}):a._e()],1):a.data.btnText&&a.data.display_arrow?n("woo-box",{class:a.$style.iconbox,attrs:{justify:"center",align:"center"}},[a.data.btnText?n("h4",{class:a.$style.icontext,domProps:{innerHTML:a._s(a.data.btnText)}}):a._e(),a.data.display_arrow?n("woo-fonticon",{attrs:{value:"angleRight"}}):a._e()],1):a._e()],1)],1)],1):a._e()},o=[],n=(i("a9e3"),i("ee33")),s={name:"CustomCard",props:{data:{pic:"",title:"",desc:"",btnText:"",display_arrow:0,btnIcon:"",scheme:""},picSize:{type:Number,default:70},titleCut:{type:Number,default:1},isCardWrap:{type:Boolean,default:!1},bottomGap:{type:Boolean,default:!0},isViewAvatar:{type:Boolean,default:!1},noBorderBottom:{type:Boolean,default:!1}},mixins:[n["a"]],computed:{getHref:function(){return this.data.scheme||""}},methods:{viewPic:function(t){this.isViewAvatar&&t?this.viewAvatar(t):this.data.scheme&&window.open(this.data.scheme)}}},r=s,l=i("c8ac"),c=i("2877");function u(t){this["$style"]=l["default"].locals||l["default"]}var d=Object(c["a"])(r,a,o,!1,u,null,null);e["a"]=d.exports},"1e0f":function(t,e,i){"use strict";var a=i("75ee"),o=i.n(a);e["default"]=o.a},"1e11":function(t,e,i){t.exports={stit:"OftenVisited_stit_YrJCL",stbtn:"OftenVisited_stbtn_2J5KS",f12:"OftenVisited_f12_1zkAd",clb:"OftenVisited_clb_1sK-D",con:"OftenVisited_con_2egNL",line:"OftenVisited_line_3-lz3"}},"1e1a":function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_continuationColor",use:"woo_svg_continuationColor-usage",viewBox:"0 0 1024 1024",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" id="woo_svg_continuationColor"><linearGradient id="woo_svg_continuationColor_a" gradientUnits="userSpaceOnUse" x1="982.893" y1="-43.58" x2="931.2" y2="-93.043" gradientTransform="matrix(16.2821 0 0 14.3539 -15057.276 1547.33)"><stop offset="0" stop-color="#ffbd00" /><stop offset=".567" stop-color="#ff8200" /><stop offset="1" stop-color="#ff5600" /></linearGradient><path fill="url(#woo_svg_continuationColor_a)" d="M845.24 326.189l154.842 154.842c18.581 18.581 18.581 49.55 6.194 74.324l-6.194 6.194-377.815 377.816c-6.194 6.194-18.581 12.387-30.968 18.581H436.456c-30.968 0-49.55-18.581-55.743-49.55V747.36c0-12.387 6.194-24.774 12.387-30.968l6.194-6.194 377.815-377.816c12.387-24.775 43.355-24.775 68.131-6.193zM263.032 840.266c12.387 0 24.775 12.387 24.775 24.774v55.743c0 12.387-12.387 30.968-24.775 30.968H40.06c-12.387 0-24.775-12.387-24.775-30.968v-49.55c0-12.387 12.387-24.774 24.775-24.774h222.973v-6.193zm452.14-334.46L461.231 759.748v105.293h105.293l253.941-253.942-105.293-105.293zm92.906-86.711l-43.356 43.356 105.293 105.293 43.356-43.356-105.293-105.293zm-371.622 24.774c12.387 0 30.968 12.387 30.968 30.968v55.743c0 12.387-12.387 24.774-30.968 24.774H33.866c-12.387 0-24.775-12.387-24.775-24.774v-55.743c0-12.387 12.387-30.968 24.775-30.968h402.59zM870.014 66.054c12.387 0 30.969 12.387 30.969 24.774v55.743c0 12.387-12.387 24.774-30.969 24.774H33.866c-12.387 0-24.775-12.387-24.775-24.774V90.828c0-12.387 12.387-24.774 24.775-24.774h836.148z" /></symbol>'});s.a.add(r);e["default"]=r},"1e31":function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_loading",use:"woo_svg_loading-usage",viewBox:"0 0 1024 1024",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" id="woo_svg_loading"><circle clip-rule="evenodd" fill="currentColor" fill-rule="evenodd" cx="241.8" cy="512" r="55"><animate attributeName="cy" values="512;372;512;512;512;512" dur="1s" begin="0s" repeatCount="indefinite"></animate></circle><circle clip-rule="evenodd" fill="currentColor" fill-rule="evenodd" cx="512" cy="512" r="55"><animate attributeName="cy" values="512;442;372;442;512;512;512;512;512;512;512;" dur="1s" begin="0.1s" repeatCount="indefinite"></animate></circle><circle clip-rule="evenodd" fill="currentColor" fill-rule="evenodd" cx="782.2" cy="512" r="55"><animate attributeName="cy" values="512;372;512;512;512;512;" dur="1s" begin="0.2s" repeatCount="indefinite"></animate></circle></symbol>'});s.a.add(r);e["default"]=r},"1e52":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));i("a623"),i("4160"),i("caad"),i("c975"),i("a434"),i("b0c0"),i("a9e3"),i("2532"),i("159b"),i("96cf");var a=i("1da1"),o=i("ed09"),n=i("6c3f");function s(t,e){var i=Object(o["n"])(!1),s=Object(o["n"])(!1),r=Object(o["n"])([]),l=Object(o["n"])([]),c=Object(o["n"])(!1),u=Object(o["n"])({checked:!0,message:"",number:0,error:!1,disabled:!1}),d=!1,h=1,p=!1,f=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!p||h!==e){t.next=3;break}return c.value=!0,t.abrupt("return");case 3:return e&&(h=e),p=!0,t.prev=5,i={source:339644097,uid:window.$CONFIG.uid,playlist_type:2,filter_empty:!1,count:50,page:h},t.next=9,Object(n["c"])(i);case 9:a=t.sent,a&&(a.data.playlists.length?(a.data.playlists.forEach((function(t){r.value.push({value:t.name,checked:!1,id:t.id,item_count:t.item_count})})),+r.value.length<+a.data.total_count?f(h+1):setTimeout((function(){s.value=!0}),100)):r.length||1!==h||(c.value=!0,setTimeout((function(){s.value=!0}),100))),t.next=15;break;case 13:t.prev=13,t.t0=t["catch"](5);case 15:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e){return t.apply(this,arguments)}}(),m=function(){c.value=!0,t.$nextTick((function(){e.addAlbumInput.focus()}))},v=function(){if(""===u.value.message&&!0===c.value&&(u.value.error=!0),!u.value.error&&!0===c.value){var e={name:u.value.message};t.$http.post("/ajax/multimedia/add_playlist",e).then((function(e){var i,a;(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.error)?t.$_w_toast({type:"error",message:null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.error}):(r.value.push({value:u.value.message,checked:u.value.checked,id:Number(e.data.playlist_id),item_count:0}),l.value.push(Number(e.data.playlist_id)),u.value.message="",u.value.checked=!0,u.value.error=!1,c.value=!1)})).catch((function(){u.value.message="",u.value.checked=!0,u.value.error=!1,c.value=!1}))}};return Object(o["s"])(s,(function(i){!i||r.value.length||c.value||(r.value=[],f()),i&&t.$nextTick((function(){var t=e.videoScroll.scrollTop,i=e.videoScroll.getBoundingClientRect(),a=e.checkAlbumRef.$el.getBoundingClientRect();e.videoScroll.scrollTop=t+(a.top-i.top)})),!1===i&&(r.value.forEach((function(t){return t.checked=!1})),c.value=!1)})),Object(o["s"])(r,(function(t){var e=t.every((function(t){return!1===t.checked}));e&&(s.value=!1),t.length>0&&l&&l.value.length>0&&(d?r.value.forEach((function(t){var e=l.value.indexOf(t.id);e>-1&&!1===t.checked&&l.value.splice(e,1)})):(r.value.forEach((function(t){l.value.includes(t.id)&&(t.checked=!0)})),d=!0))}),{deep:!0}),Object(o["s"])((function(){return u.value.message}),(function(t){var e=Object(n["d"])(t,12),i=Object(n["a"])(t);u.value.number=Math.ceil(i/2),e!==t?(u.value.error=!0,u.value.disabled=!0):(u.value.error=!1,u.value.disabled=!1)})),{showAlbumPop:i,checkAlbum:s,checkAddAlbum:c,addAlbumObj:u,albumList:r,albumIds:l,getList:f,addAlbum:m,addAlbumEnter:v}}},"1e9b":function(t,e,i){},"1ed1":function(t,e,i){t.exports={top:"PersionlizeModule_top_1F9g8",num:"PersionlizeModule_num_28N3U",item:"PersionlizeModule_item_1fBTu",bed1:"PersionlizeModule_bed1_2UB4r",bed2:"PersionlizeModule_bed2_18tsr",bed3:"PersionlizeModule_bed3_28idm",bed32:"PersionlizeModule_bed32_3Vt_z",page:"PersionlizeModule_page_3ALfo",video:"PersionlizeModule_video_Fx2Q3",pic:"PersionlizeModule_pic_1uCeA",icon:"PersionlizeModule_icon_3xs4_",bed4:"PersionlizeModule_bed4_1msw3"}},"1f1c":function(t,e,i){t.exports={tip:"icon-tip-custom_tip_3_ZGV",text:"icon-tip-custom_text_2nO1c",icon:"icon-tip-custom_icon_3KH0d"}},"1f9b":function(t,e,i){"use strict";var a=i("8b98"),o=i.n(a);e["default"]=o.a},"1ff5":function(t,e,i){t.exports={err:"DetailsMessages_err_3GYqY"}},"200e":function(t,e,i){var a={"./Home.vue":"8d7f","./Hot.vue":"f579","./Messages.vue":"2ce1","./Profile.vue":"e9d1","./Search.vue":"9fe2","./Setting.vue":"7d51"};function o(t){var e=n(t);return i(e)}function n(t){if(!i.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}o.keys=function(){return Object.keys(a)},o.resolve=n,t.exports=o,o.id="200e"},2020:function(t,e,i){t.exports={scroll3:"ReplyModal_scroll3_2kADQ",tab2:"ReplyModal_tab2_3Ajln",cursor:"ReplyModal_cursor_2PkpV",bottom:"ReplyModal_bottom_3N5xg",wrap:"ReplyModal_wrap_2j1bg"}},"202e":function(t,e,i){t.exports={toolbarFull:"deletedToolbar_toolbarFull_1dOfW"}},2095:function(t,e,i){t.exports={wrap:"Frame_wrap_16as0",right:"Frame_right_2tQRB"}},"20af":function(t,e,i){t.exports={container:"Viewer_container_EZ7Dt",status:"Viewer_status_11u0k",high:"Viewer_high_2q-Ga",low:"Viewer_low_3qcXz",content:"Viewer_content_3TYae",wrap:"Viewer_wrap_3P9uO",longPic:"Viewer_longPic_n137q",loading:"Viewer_loading_3WjRD",download:"Viewer_download_2_-ty",textButton:"Viewer_textButton_30gn0",angles:"Viewer_angles_d03hD",angleBtn:"Viewer_angleBtn_3Q1gw",angleLeft:"Viewer_angleLeft_1lTkv",angleRight:"Viewer_angleRight_wPhby",boldBtn:"Viewer_boldBtn_3RiZT",imgElm:"Viewer_imgElm_2JHWe",pay:"Viewer_pay_3mTr8",openBtn:"Viewer_openBtn_3wAKU",infos:"Viewer_infos_2ZgC7",infosIcon:"Viewer_infosIcon_2oFXy",infoBlock:"Viewer_infoBlock_36kmg",prevList:"Viewer_prevList_11Q1N",arrow:"Viewer_arrow_3hq9j",prevItem:"Viewer_prevItem_McSJ4",prevPay:"Viewer_prevPay_GE3A3",prevImg:"Viewer_prevImg_1GJx_",active:"Viewer_active_3jZve",prevBorder:"Viewer_prevBorder_1oCxZ",prev:"Viewer_prev_10_PX",next:"Viewer_next_1fULm",video:"Viewer_video_3URwu",videoContainer:"Viewer_videoContainer_2wid-",show:"Viewer_show_2q1YT",cp:"Viewer_cp_3yKMr",toolbar:"Viewer_toolbar_1RX1c",icon:"Viewer_icon_1tXXw",iconInLeftEdge:"Viewer_iconInLeftEdge_3u-h6",iconInRightEdge:"Viewer_iconInRightEdge_waFWm",divider:"Viewer_divider_16_TA",cursor:"Viewer_cursor_shiWA",percent:"Viewer_percent_2eCHJ",percentTag:"Viewer_percentTag_3ebI0",tools:"Viewer_tools_2VJqq",miniPreview:"Viewer_miniPreview_2rFmG",miniWindow:"Viewer_miniWindow_1SXDn",moveCursor:"Viewer_moveCursor_2UcH3",dynamicVideo:"Viewer_dynamicVideo_27Fbd",pos:"Viewer_pos_3G2mR",icon2:"Viewer_icon2_1NsHq",mixVideoContainer:"Viewer_mixVideoContainer_bH8qt",videotime:"Viewer_videotime_1C_vt",textIcon:"Viewer_textIcon_2ooMj"}},"21c1":function(t,e,i){t.exports={qrcode:"QrcodeContainer_qrcode_1cT4f",text:"QrcodeContainer_text_191aI"}},2210:function(t,e,i){"use strict";var a=i("5820"),o=i.n(a);e["default"]=o.a},2239:function(t,e,i){t.exports={mar2:"MainComposer_mar2_3BXUn",pub:"MainComposer_pub_1CKtD"}},"224e":function(t,e,i){"use strict";var a=i("b385"),o=i.n(a);e["default"]=o.a},2264:function(t,e,i){"use strict";var a=i("e06d"),o=i.n(a);e["default"]=o.a},"226b":function(t,e,i){t.exports={qrcode:"Qrcode_qrcode_3WCpY",angleBorder:"Qrcode_angleBorder_2fdyd",leftTop:"Qrcode_leftTop_2tIt2",leftBottom:"Qrcode_leftBottom_a8JzL",rightTop:"Qrcode_rightTop_JENac",rightBottom:"Qrcode_rightBottom_H32n1"}},"22b7":function(t,e,i){"use strict";var a=i("d1be"),o=i.n(a);e["default"]=o.a},"22f0":function(t,e,i){},"22f2":function(t,e,i){"use strict";var a=i("9fba"),o=i.n(a);e["default"]=o.a},2333:function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_audio",use:"woo_svg_audio-usage",viewBox:"0 0 1024 1024",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" id="woo_svg_audio"><path fill="currentColor" d="M970.699 536.379C970.699 283.047 765.332 77.68 512 77.68S53.301 283.047 53.301 536.379c0 58.849 11.099 115.182 31.345 166.961l.032-.012c3.569 12.846 9.133 25.362 16.981 36.997L202.91 890.438c39.142 58.033 117.919 73.343 175.952 34.197 58.033-39.142 73.346-117.919 34.203-175.952l-101.251-150.11c-39.145-58.033-117.919-73.343-175.952-34.2-2.891 1.951-4.842 4.686-7.524 6.828-1.04-11.564-2.611-22.975-2.611-34.822 0-213.332 172.94-386.273 386.273-386.273s386.273 172.94 386.273 386.273c0 12.215-1.644 23.977-2.75 35.889-3.044-2.493-5.255-5.655-8.582-7.898-58.033-39.145-136.81-23.83-175.952 34.203l-101.248 150.11c-39.142 58.033-23.833 136.81 34.2 175.952 58.033 39.145 136.807 23.83 175.952-34.203l101.251-150.11c3.1-4.597 5.788-9.351 8.216-14.19l.021.012c.1-.162.171-.348.268-.513.085-.171.206-.33.292-.501l-.021-.012c.619-1.082 1.238-2.169 1.751-3.327 25.103-56.744 39.028-119.498 39.028-185.412zM338.361 864.596c-24.87 16.774-58.631 10.211-75.409-14.659l-100.52-149.031a383.349 383.349 0 01-8.714-19.96c-4.559-21.095 3.693-43.749 22.642-56.524 24.873-16.78 58.634-10.217 75.409 14.653l101.251 150.11c16.777 24.872 10.214 58.63-14.659 75.411zM151.838 706.774l-.006.006v-.003l.006-.003zm709.261-6.95L759.851 849.931c-16.777 24.87-50.539 31.439-75.409 14.659-24.873-16.774-31.433-50.533-14.659-75.406l101.251-150.11c16.774-24.87 50.536-31.433 75.406-14.659 24.87 16.775 31.436 50.539 14.659 75.409zm-765.21-.878l-.015.006.015-.006z" /></symbol>'});s.a.add(r);e["default"]=r},2399:function(t,e,i){"use strict";var a=i("de96"),o=i.n(a);e["default"]=o.a},"23b5":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{class:[t.highlight&&t.$style.highlight,t.$style.tag]},[t._t("default")],2)},o=[],n=(i("a9e3"),{props:{highlight:{type:[Boolean,Number],default:!1}}}),s=n,r=i("ccd8"),l=i("2877");function c(t){this["$style"]=r["default"].locals||r["default"]}var u=Object(l["a"])(s,a,o,!1,c,null,null);e["a"]=u.exports},"23dc":function(t,e,i){"use strict";var a=i("2239"),o=i.n(a);e["default"]=o.a},"243c":function(t,e,i){t.exports={box:"community-note_box_114pc",inRepost:"community-note_inRepost_2sftX",tag:"community-note_tag_2ngfg",i1:"community-note_i1_1nfop",t:"community-note_t_ebhM0",i2:"community-note_i2_GHTw2",i3:"community-note_i3_3Wu_a"}},2449:function(t,e,i){"use strict";var a=i("fb59"),o=i.n(a);e["default"]=o.a},"247c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAAeCAYAAAB5c901AAACbUlEQVR4AeWYA5AdQRCGY9spxradQmwXYtsux0lxdrQ3sQqxbdssxLbN7trJ1flu92bv7m226j/0m/lff9O9mlT/1XHnzp1M58+f73/u3DkF2hJiUpg7MsQId+nSpQpnz569CfoOOhdqgJizzv0mskSrHH4AAy9euHChZKh2IOaODMgSqZIQGID0oQwXERJZsF3Dg9i/WGKvpgsXLszDmDWPc57X7VylaPGVK2mOiLEFC1hRzq01nJOmXvLRp5iKCLgF5RUQkunGGPkDv9e7n0suwNw3S5YsCW8p26ZV0U8IOtitX0QeY4A60U2YlJS0ccLn8Lp6YfRqJzMgtg1oS0yCFj0Bvx/h33GoVRS/lRpwN/ye/0/YCTp+RMeiSSlV2A/AD2D+DWDueRHM7xmhSrXA6xdU/gV8diOiIHZHAz7RsWjCc9cXQPjyk4m90h04cCAdeF3CxZJSlsaYwRZNfkDwGe5UiM7SoWABbt9OMwLcxNWrV2cOHKAQZATeFuISfMd7BAR9jnucJU0DfkksoG2z+oxZ000IKtzJGOCCBaSgs6rWnlQp9/AOKITVQF+615hKBPy6gt8gt1JKpfcBkPZBQAC1zQFa19DTrYQQ2YwD4iVdX9kGmgTEp5g/f/6kTog4JzN8AwTj7WgeFkbLmQQE7XIxfrovgNCW9fQF5jauZKAAndawTusLzDiMBQpQCNrLgSMvlFI5zQOSX/D7a0IEC/zTOCCYTnXak7XTIdMVvCEEGZYQ4XXAK2CcWxZS0jqG2bQv6SEl65Dw8bQO53QU3gddbVngBk2QN52Cv22oy1oxsBu/wd+6D/DxF6S9dE9EL8SBAAAAAElFTkSuQmCC"},2485:function(t,e,i){t.exports={wrap:"MessageCmt_wrap_MrtA_",tit:"MessageCmt_tit_1Tktq",item1:"MessageCmt_item1_iHhqM",con1:"MessageCmt_con1_289x9",h3:"MessageCmt_h3_2gOAo",from:"MessageCmt_from_3lflx",cutfrom:"MessageCmt_cutfrom_1usc3",wbtext:"MessageCmt_wbtext_1WE_V",textImg:"MessageCmt_textImg_2MweL",repeatbox:"MessageCmt_repeatbox_1aNPP",repeatbgbox:"MessageCmt_repeatbgbox_1fcHk",repeatboxByme:"MessageCmt_repeatboxByme_3IVYj",replyComment:"MessageCmt_replyComment_1-9-a",replyCname:"MessageCmt_replyCname_120P4",text:"MessageCmt_text_3ukhz",empty:"MessageCmt_empty_3SwQs",icon:"MessageCmt_icon_6uLPX"}},2486:function(t,e,i){"use strict";var a=i("4afb"),o=i.n(a);e["default"]=o.a},"24cc":function(t,e,i){"use strict";var a=i("eba9"),o=i.n(a);e["default"]=o.a},2517:function(t,e,i){},"251c":function(t,e,i){"use strict";var a=i("b16c"),o=i.n(a);e["default"]=o.a},"25bb":function(t,e,i){"use strict";var a=i("f294"),o=i.n(a);o.a},"26c0":function(t,e,i){"use strict";var a=i("49d6"),o=i.n(a);e["default"]=o.a},"26c2":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.upload_list.length>0,expression:"upload_list.length > 0"}],style:{width:t.width+"%"}},[i("woo-box",{attrs:{old:"","gap-row":4,"gap-col":4,items:3},nativeOn:{dragover:function(t){t.stopPropagation(),t.preventDefault()},drop:function(t){t.stopPropagation(),t.preventDefault()}}},[t._l(t.upload_list,(function(e,a){return i("woo-box-item",{key:a,attrs:{draggable:"true"},nativeOn:{dragstart:function(e){return t.onDragStart(arguments[0],a)},dragover:function(e){return e.preventDefault(),t.onDragEnter(arguments[0],a)},dragend:function(e){return e.preventDefault(),t.onDragEnd(e)}}},[i("div",{class:t.$style.picbed},[!e.crop&&e.url?i("woo-picture",{class:t.$style.pic,attrs:{src:e.url}}):t._e(),e.crop&&e.url&&t.upload_list.length?i("div",{class:t.$style.focuspic,style:t.getCropViewStyle(e)}):t._e(),e.status<3||!e.url?i("woo-box",{class:t.$style.loading,attrs:{align:"center",justify:"center"}},[e.status<3?i("woo-spinner",{attrs:{size:"32px",color:"#fff"}}):t._e(),"video"===e.type&&e.status<3?i("span",[t._v(t._s(e.uploadProgress||0)+"%")]):"video"===e.type&&!e.url&&e.status>=3?i("span",[t._v("封面创建中")]):t._e()],1):t._e(),i("woo-fonticon",{class:t.$style.close,attrs:{title:"删除",value:"close",kind:"dark",abovePic:""},nativeOn:{click:function(e){return t.delItem(a)}}}),e.status>2&&t.canFoucs&&"video"!==e.type?i("woo-box",{class:t.$style.focus,attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return t.editItem(a)}}},[i("woo-fonticon",{class:t.$style.icon,attrs:{value:"focus"}}),t._v(" 焦点 ")],1):t._e(),e.status>2&&e.duration&&"video"===e.type?i("woo-box",{class:t.$style.duration,attrs:{align:"center",justify:"center"}},[t._v(" "+t._s(t.timeFormat(e.duration))+" ")]):t._e()],1)])})),i("woo-box-item",{directives:[{name:"show",rawName:"v-show",value:t.upload_list.length<(t.hasVideo?9:18)&&0!=t.upload_list.length&&!(t.onlyOne&&1===t.upload_list.length),expression:"\n        upload_list.length < (hasVideo ? 9 : 18) &&\n        upload_list.length != 0 &&\n        !(onlyOne && upload_list.length === 1)\n      "}]},[i("div",{class:t.$style.picbed,attrs:{title:"添加"}},[i("FileUpload",{ref:"file_upload",attrs:{accept:t.canSelectVideo?"image/*, .jpg, .jpeg, .bmp, .gif, .png, .heif, .heic, video/mp4,video/x-m4v,video/*,.mkv,.flv":"image/*, .jpg, .jpeg, .bmp, .gif, .png, .heif, .heic"},on:{change:t.change}})],1)]),i("ImageEdit",{ref:"imgEdit",on:{change:t.onItemChange}})],2),t.pri?i("woo-box",{class:t.$style.pri,attrs:{align:"center"}},[i("woo-fonticon",{class:t.$style.icon,attrs:{value:"report"}}),t._v(" "+t._s(1===t.upload_list.length?"V+订阅用户可见":"首图免费可见，其他仅V+订阅用户可见")+" ")],1):t._e()],1)},o=[],n=(i("99af"),i("4de4"),i("7db0"),i("c740"),i("a630"),i("caad"),i("d81d"),i("45fc"),i("a434"),i("b0c0"),i("a9e3"),i("ac1f"),i("2532"),i("3ca3"),i("466d"),i("1276"),i("3835")),s=(i("96cf"),i("1da1")),r=i("2909"),l=i("5abd"),c=i("7ec3"),u=i("460b"),d=i("15e3"),h=i("68f8"),p=i("4b19"),f=i.n(p),m=i("c54d"),v={props:{data:{type:String,default:""},onlyOne:{type:Boolean,default:!1},statusChange:{type:Boolean,default:!1},canFoucs:{type:Boolean,default:!1},file:{type:Object},source:{type:Number,default:1},pri:{type:Number,default:0},items:{type:Number,default:6},width:{type:Number,default:100},canSelectVideo:{type:Boolean,default:!1}},data:function(){return{upload_list:[],uploading:!1,dragList:[],dragId:null,media_group_id:void 0,alertNotUse:!1}},components:{FileUpload:h["default"],ImageEdit:d["a"]},computed:{hasVideo:function(){return this.upload_list.some((function(t){return"video"===t.type}))},hasCrop:function(){return this.upload_list.some((function(t){return t.crop}))}},watch:{hasVideo:function(t){t||(this.alertNotUse=!1)},file:function(t){var e=this;Array.from(t).map((function(t){e.upload_list.length<(e.hasVideo?9:18)&&(!e.onlyOne||1!==e.upload_list.length)&&(e.upload_list.push({url:"",file:t,status:1}),e.$emit("change","add",e.upload_list))})),this.$emit("change","start",this.upload_list),this.uploadFiles()},data:function(){this.data?(this.upload_list=this.pid2imgs(),this.$emit("change","end",this.upload_list)):(this.uploading=!1,this.upload_list.splice(0,this.upload_list.length),this.$emit("change","remove",this.upload_list))},statusChange:function(t){this.uploading=!1,this.upload_list.splice(0,this.upload_list.length),this.$emit("change","remove",this.upload_list)}},methods:{timeFormat:function(t){return Object(u["b"])(t)},onBodyDragOver:function(t){t.preventDefault()},onDragStart:function(t,e){var i=this;i.uploading||(i.dragId=e,i.dragList=Array.from(i.upload_list),document.body.addEventListener("dragover",i.onBodyDragOver))},onDragEnter:function(t,e){var i=this;if(e!==i.dragId&&null!==i.dragId){var a=Array.from(i.dragList);Array.prototype.splice.apply(a,[e,0].concat(Object(r["a"])(a.splice(i.dragId,1)))),i.dragId=e,i.dragList=a,i.$set(i,"upload_list",a),this.$emit("change","change",this.upload_list),t.preventDefault()}},onDragEnd:function(t){var e=this;document.body.removeEventListener("dragover",e.onBodyDragOver)},getCropViewStyle:function(t){var e=90/t.crop.cropWidth;return"background: url(".concat(t.url,") no-repeat -").concat(t.crop.left*e,"px -").concat(t.crop.top*e,"px / ").concat(t.crop.width*e,"px ").concat(t.crop.height*e,"px;")},onItemChange:function(t,e){var i=this;i.$set(i.upload_list,t,e),this.$emit("change","start",this.upload_list),i.uploadFiles()},editItem:function(t){if(this.hasVideo)this.$_w_toast({type:"warn",message:"图片和视频同时发布暂不支持调整焦点～"});else{var e=this,i=l["c"](e.upload_list[t].pid),a=i.width,o=i.height;a/o>=3||o/a>=3?this.$_w_toast({type:"warn",message:"超长图暂时不支持修改焦点图"}):e.$refs.imgEdit.show(t,e.upload_list[t])}},delItem:function(t){this.upload_list.splice(t,1),this.$emit("change","remove",this.upload_list)},uploadFiles:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i,a,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=t,a=i.upload_list.filter((function(t){return 1==t.status})),!(a.length>0)){e.next=14;break}if(o=a.some((function(t){var e=t.file.name.split(".");return".mkv, .flv".includes(e[e.length-1])||t.file.type.includes("video/")})),t.hasCrop&&o&&!t.alertNotUse&&(t.alertNotUse=!0,t.$_w_toast({type:"warn",message:"图片和视频同时发布暂不支持调整焦点～"})),!o||t.media_group_id){e.next=13;break}return e.next=8,t.$http.get("/ajax/multimedia/mediaGroupInit");case 8:if(r=e.sent,t.media_group_id=r.data.data.media_group_id,r.data.data.media_group_id){e.next=13;break}return t.$_w_toast({type:"warn",message:"请重试"}),e.abrupt("return");case 13:a.map(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(a,o){var r,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a.status=2,t.$emit("change","upload-start",t.upload_list),!a.file.name.includes(".flv")&&!a.file.type.includes("video/")){e.next=19;break}if(t.canSelectVideo){e.next=9;break}return t.$_w_toast({type:"warn",message:"编辑不能上传视频"}),r=t.upload_list.length-1,t.upload_list.splice(r,1),t.$emit("change","remove",t.upload_list),e.abrupt("return");case 9:u=new f.a({default:{source:339644097,max_size:16106127360,dispatchUrl:"".concat(location.origin,"/ajax/multimedia/dispatch"),batchScreenshotUrl:"".concat(location.origin,"/ajax/multimedia/output"),batchDetailUrl:"".concat(location.origin,"/ajax/multimedia/batch"),autoLog:!1,type:"video",mediaprops:{screenshot:1,media_group_id:t.media_group_id},screenshotNum:1},files:[a.file],dispatchParams:{auth_accept:"video"}}),a.wbUploader=u,u.on("beforeInit",(function(e){a.type="video",a.media_group_id=t.media_group_id,t.$emit("change","change",t.upload_list),u.init()})),u.on("beforeUpload",(function(t){var e;u.upload(),u.updateMd5(null===t||void 0===t||null===(e=t.initRes)||void 0===e?void 0:e.media_id)})),u.on("screenshot",(function(e){var i,o,n,s,r;(null===e||void 0===e||null===(i=e.detail)||void 0===i?void 0:i.duration)&&(a.duration=e.detail.duration),(null===(o=e.screenshot)||void 0===o||null===(n=o[0])||void 0===n?void 0:n.url)&&(a.url=e.screenshot[0].url),(null===(s=e.screenshot)||void 0===s||null===(r=s[0])||void 0===r?void 0:r.pid)&&(a.pid=e.screenshot[0].pid),t.$emit("change","change",t.upload_list)})),u.on("uploadStatus",(function(e){t.$set(a,"uploadProgress",e.progress),t.$emit("change","change",t.upload_list)})),u.on("success",(function(e){var i=e.file,o=i.initRes;a.status=3,a.pri=t.pri,a.media_id=o.media_id,delete a.file,t.$emit("change","upload-end",t.upload_list),u.uploadLog()})),u.on("error",function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(i,o){var s,r,l,c,d,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("stop"!==i){e.next=2;break}return e.abrupt("return");case 2:if(t.stop=!0,!i.includes("code:20385")){e.next=19;break}return e.next=6,Object(m["b"])("video");case 6:if(s=e.sent,r=Object(n["a"])(s,2),l=r[0],c=r[1],!l){e.next=17;break}return Object(m["a"])(l),t.$_w_toast({type:null,message:"验证失败"}),setTimeout((function(){var e=t.upload_list.findIndex((function(t){var e;return a.file.hash===(null===t||void 0===t||null===(e=t.file)||void 0===e?void 0:e.hash)}));t.upload_list.splice(e,1),t.$emit("change","remove",t.upload_list)}),2e3),e.abrupt("return",l);case 17:try{Object(m["a"])(l),t.stop=!1,d=o.sessionid,c.session_id=d,t.$http.post("/ajax/multimedia/initVerify",c).then((function(t){u.init({},d)}))}catch(p){}return e.abrupt("return");case 19:t.$_w_toast({type:"warn",message:i}),h=t.upload_list.findIndex((function(t){var e;return a.file.hash===(null===t||void 0===t||null===(e=t.file)||void 0===e?void 0:e.hash)})),t.upload_list.splice(h,1),t.$emit("change","remove",t.upload_list);case 23:case"end":return e.stop()}}),e)})));return function(t,i){return e.apply(this,arguments)}}()),e.next=22;break;case 19:return e.next=21,Object(c["a"])(a.file,{pri:t.pri},1,t.source).then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(i){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a.status=3,!t.pri){e.next=7;break}return e.next=4,Object(l["a"])(a.file);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=Object(l["d"])(i,"bmiddle",!0);case 8:a.url=e.t0,a.pid=i,a.type=a.file.type,a.pri=t.pri,delete a.files,t.$emit("change","upload-end",t.upload_list);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){delete a.file,t.uploading=!1,t.upload_list.splice(0,t.upload_list.length),t.$emit("change","remove",t.upload_list),t.$_w_toast({type:"warn",message:e.message}),i.uploading=!1}));case 21:i.uploading=!1;case 22:case"end":return e.stop()}}),e)})));return function(t,i){return e.apply(this,arguments)}}());case 14:t.$emit("change","end",t.upload_list);case 15:case"end":return e.stop()}}),e)})))()},online:function(){this.upload_list.map((function(t){t.wbUploader&&t.wbUploader.reUpload()}))},offline:function(){this.upload_list.map((function(t){t.wbUploader&&t.wbUploader.stop()}))},change:function(t){var e=this,i=this;Array.from(t.target.files).map((function(t){var a=e.hasVideo?9:18;if(i.upload_list.length<a){var o={url:"",file:t,status:1};if((t.name.includes(".flv")||t.type.includes("video/"))&&(o.type="video"),"video"===o.type&&i.upload_list.length>=9)return void e.$_w_toast({type:"warn",message:"图片和视频同时发布，最多支持选9个素材～"});i.upload_list.push(o),e.$emit("change","add",e.upload_list)}else e.hasVideo&&e.$_w_toast({type:"warn",message:"图片和视频同时发布，最多支持选9个素材～"})})),this.$emit("change","start",this.upload_list),i.uploadFiles(),t.target.value=""},showFiles:function(){this.$refs.file_upload.showFiles()},pid2imgs:function(){var t,e,i=this;return(null===(t=this.data)||void 0===t?void 0:t.mix_media_info)?this.data.mix_media_info.items.map((function(t){var e;if("video"!==t.type){var a=l["c"](t.id);a.width,a.height;e={pri:i.pri,pid:t.id,status:3,url:t.data.bmiddle.url}}else{var o,n,s,r,c,u,d;e={pri:i.pri,status:3,url:null===(o=t.data)||void 0===o?void 0:o.page_pic,type:"video",media_id:null===(n=t.data)||void 0===n||null===(s=n.media_info)||void 0===s?void 0:s.media_id,pid:null===(r=t.data)||void 0===r||null===(c=r.page_pic.match(/([0-9a-z]{32})/g))||void 0===c?void 0:c[0],short_url:t.data.short_url,duration:null===(u=t.data)||void 0===u||null===(d=u.media_info)||void 0===d?void 0:d.duration}}if(i.data.pic_focus_point&&"video"!==t.type){var h=l["c"](e.pid),p=h.width,f=h.height,m=i.data.pic_focus_point.find((function(t){return t.pic_id===e.pid}));(null===m||void 0===m?void 0:m.focus_point)&&(e.crop={height:f,left:m.focus_point.left*p,top:(null===m||void 0===m?void 0:m.focus_point.top)*f,width:p,cropWidth:p*m.focus_point.width,cropHeight:f*m.focus_point.height,per:m.focus_point},e.setData={height:e.crop.cropHeight,rotate:0,scaleX:1,scaleY:1,width:e.crop.cropWidth,x:e.crop.left,y:e.crop.top})}return e})):(null===this||void 0===this||null===(e=this.data)||void 0===e?void 0:e.pic_id)?this.data.pic_id.split(",").map((function(t,e){var a,o,n=l["c"](t),s=n.width,r=n.height,c={pri:i.pri,pid:t,status:3,url:i.pri&&(null===(a=i.data)||void 0===a?void 0:a.paid_pic_ids[e])?i.data.paid_pic_ids[e].thumbnail.url:l["d"](t,"orj360")};if(c.pri&&(null===(o=i.data)||void 0===o?void 0:o.paid_pic_ids[e])&&(c.large_url=i.data.paid_pic_ids[e].large.url),i.data.pic_focus_point){var u=i.data.pic_focus_point.find((function(e){return e.pic_id===t}));(null===u||void 0===u?void 0:u.focus_point)&&(c.crop={height:r,left:u.focus_point.left*s,top:(null===u||void 0===u?void 0:u.focus_point.top)*r,width:s,cropWidth:s*u.focus_point.width,cropHeight:r*u.focus_point.height,per:u.focus_point},c.setData={height:c.crop.cropHeight,rotate:0,scaleX:1,scaleY:1,width:c.crop.cropWidth,x:c.crop.left,y:c.crop.top})}return c})):[]}},mounted:function(){this.data&&(this.upload_list=this.pid2imgs()),window.addEventListener("online",this.online),window.addEventListener("offline",this.offline)},beforeDestroy:function(){window.removeEventListener("online",this.online),window.removeEventListener("online",this.offline)}},_=v,g=i("cc64"),b=i("2877");function y(t){this["$style"]=g["default"].locals||g["default"]}var w=Object(b["a"])(_,a,o,!1,y,null,null);e["a"]=w.exports},"27c6":function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_nav_configFlat",use:"woo_svg_nav_configFlat-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="woo_svg_nav_configFlat"><path d="M7.993 5.667A2.333 2.333 0 1010.333 8a2.34 2.34 0 00-2.34-2.333zM8 9.167a1.167 1.167 0 110-2.334 1.167 1.167 0 010 2.334zm6.183-.465l-.473-.468c0-.078.012-.156.012-.234 0-.078-.009-.156-.012-.234l.473-.468c.375-.206.65-.545.761-.944a1.49 1.49 0 00-.163-1.18l-.818-1.348c-.453-.745-1.452-1-2.233-.569l-.654.156a5.71 5.71 0 00-.438-.241l-.185-.617C10.451 1.695 9.72 1 8.818 1H7.183c-.902 0-1.633.696-1.636 1.555l-.185.617c-.15.074-.295.156-.438.241l-.654-.156c-.781-.43-1.78-.176-2.233.57L1.22 5.172a1.49 1.49 0 00-.163 1.181c.112.399.386.738.761.944l.473.468c0 .078-.012.156-.012.234 0 .078.009.156.012.234l-.473.468c-.375.206-.65.545-.761.944a1.49 1.49 0 00.163 1.18l.818 1.348c.453.745 1.452 1 2.233.569l.654-.156c.143.085.288.167.438.241l.185.617c.003.86.734 1.555 1.636 1.555h1.635c.901 0 1.633-.696 1.635-1.555l.185-.617c.15-.073.296-.156.438-.241l.654.156c.781.43 1.78.176 2.233-.57l.818-1.346a1.49 1.49 0 00.163-1.18 1.564 1.564 0 00-.761-.943v-.002z" fill="currentColor" fill-rule="evenodd" /></symbol>'});s.a.add(r);e["default"]=r},2830:function(t,e,i){"use strict";var a=i("30a8"),o=i.n(a);o.a},2848:function(t,e,i){t.exports={wrap:"card-video_wrap_2r7uB",story:"card-video_story_yGcPs",storyLogo:"card-video_storyLogo_M9fd2",nickname:"card-video_nickname_2y_-a",title:"card-video_title_32pn2",dur:"card-video_dur_9_eh0",playIcon:"card-video_playIcon_3RalP",plusInfo:"card-video_plusInfo_IqCJC",card:"card-video_card_96n4C",cardTitle:"card-video_cardTitle_3CiK9",cardInfo:"card-video_cardInfo_ydJlb",cardText:"card-video_cardText_3D4XD",cardNum:"card-video_cardNum_1-hmp",progress:"card-video_progress_11cgz",progressBar:"card-video_progressBar_bdtVN",progressText:"card-video_progressText_1ha9K",videoBox:"card-video_videoBox_2MQL0",poster:"card-video_poster_1Z0YH",podcast:"card-video_podcast_3PRQf",podcastBackground:"card-video_podcastBackground_bi70m",podcastThumbnail:"card-video_podcastThumbnail_3ZTCV",pos:"card-video_pos_1v-mc",icon2:"card-video_icon2_16cCU",placeholder:"card-video_placeholder_3_xUz",liveStatus:"card-video_liveStatus_2hD50",live:"card-video_live_22xwj",replay:"card-video_replay_pMvS_",end:"card-video_end_22Zb_",vPlus:"card-video_vPlus_15s9q",hidePlayBtn:"card-video_hidePlayBtn_3sq5S",liveCountdownMask:"card-video_liveCountdownMask_2LCKJ",liveCountdown:"card-video_liveCountdown_3yQ0m",time:"card-video_time_3dHqq",num:"card-video_num_qXwj2",countdownTitle:"card-video_countdownTitle_2e6eI",startTime:"card-video_startTime_3g56G",unit:"card-video_unit_7jwK0",cocreate:"card-video_cocreate_2mOCN"}},"289e":function(t,e,i){t.exports={domain:"Info_domain_15vxQ",copyLink:"Info_copyLink_1SwS6",constellation:"Info_constellation_74iGY",constellationText:"Info_constellationText_1vHyl",target:"Info_target_3yaHL",qr:"Info_qr_1FDgO",tipsUrl:"Info_tipsUrl_3Ly0Y",tips:"Info_tips_3t8FF",nickTip:"Info_nickTip_3Q33O"}},"28e6":function(t,e,i){t.exports={picbed:"Video_picbed_1osKS"}},"28f7":function(t,e,i){"use strict";var a=i("1886"),o=i.n(a);e["default"]=o.a},2914:function(t){t.exports=JSON.parse('[{"title":"@我的","type":"atMe","icon":"navAtme","groups":[],"name":"atWeibo","parmas":{},"unread":"","setUnreadTag":["mention_status","all_mention_cmt"],"unreadTag":"mention_status"},{"title":"评论","type":"cmt","icon":"navComment","groups":[],"name":"cmtInbox","parmas":{},"unread":"","setUnreadTag":["cmt"],"unreadTag":"cmt"},{"title":"赞","type":"likeInbox","icon":"navLike","groups":[],"name":"likeInbox","parmas":{},"unread":"","setUnreadTag":["attitude"],"unreadTag":"attitude"},{"title":"私信","type":"privateChat","icon":"navChat","name":"privateChat","groups":[],"unread":"","setUnreadTag":["chatPro"]},{"title":"群通知","type":"groupchat","icon":"navGroup","name":"groupchat","groups":[],"unread":"","setUnreadTag":["chat_group_notice"]}]')},"291e":function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_timer",use:"woo_svg_timer-usage",viewBox:"0 0 1024 1024",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" id="woo_svg_timer"><path fill-rule="evenodd" clip-rule="evenodd" fill="currentColor" d="M594.814 88.586c19.22 0 34.801 15.581 34.801 34.801s-15.581 34.801-34.801 34.801l-47.529-.021.037 36.436c187.47 17.21 335.036 170.033 340.868 358.037l.179 11.562c0 205.015-168.506 371.212-376.368 371.212S135.632 769.217 135.632 564.202c0-193.283 149.772-352.064 341.094-369.604l-.011-36.431-47.529.021c-19.22 0-34.801-15.581-34.801-34.801s15.581-34.801 34.801-34.801h165.628zM512 262.592c-168.888 0-305.799 135.036-305.799 301.61S343.112 865.812 512 865.812s305.799-135.035 305.799-301.61S680.888 262.592 512 262.592zm0 139.204c19.487 0 35.285 15.797 35.285 35.284v138.714l82.814.008c19.22 0 34.801 15.581 34.801 34.801s-15.581 34.801-34.801 34.801H511.517c-19.22 0-34.801-15.581-34.801-34.801 0-2.052.177-4.063.518-6.017a35.461 35.461 0 01-.518-6.066V437.081c-.001-19.487 15.797-35.285 35.284-35.285z" /></symbol>'});s.a.add(r);e["default"]=r},"29f6":function(t,e,i){"use strict";var a=i("5cf7"),o=i.n(a);e["default"]=o.a},"2a74":function(t,e,i){t.exports={title:"Home_title_2CF0q",split:"Home_split_2r3H7",btn:"Home_btn_2Gdgr",editText:"Home_editText_175Mf"}},"2ab3":function(t,e,i){"use strict";var a=i("964d"),o=i.n(a);e["default"]=o.a},"2ad3":function(t,e,i){t.exports={t13:"PopCard_t13_I8pow",layer:"PopCard_layer_1u-UT",box1:"PopCard_box1_1DqI4",box1pic:"PopCard_box1pic_2_rFX",box1bg:"PopCard_box1bg_3uS-J",box1in:"PopCard_box1in_10Jxr",t11:"PopCard_t11_hRiLt",popcard:"PopCard_popcard_Brt8e",t12:"PopCard_t12_1svve",box2:"PopCard_box2_3HLsz",t21:"PopCard_t21_1vZO0",t22:"PopCard_t22_3mNbp",btn:"PopCard_btn_3UZM9",ellipsis:"PopCard_ellipsis_1tfem",alink:"PopCard_alink_LHzuI",pointer:"PopCard_pointer_2u0ZP",pop:"PopCard_pop_1ghGz",buttons:"PopCard_buttons_zGkj-",box3:"PopCard_box3_vxAE3"}},"2ad7":function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_cross",use:"woo_svg_cross-usage",viewBox:"0 0 1024 1024",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" id="woo_svg_cross"><path d="M980.7 43.3c27.7 27.7 27.7 72.7 0 100.4L612.4 512l368.2 368.3c27.7 27.7 27.7 72.7 0 100.4-27.7 27.7-72.7 27.7-100.4 0L512 612.4 143.7 980.7c-27.7 27.7-72.7 27.7-100.4 0-27.7-27.7-27.7-72.7 0-100.4L411.6 512 43.4 143.7C15.7 116 15.7 71 43.4 43.3c27.7-27.7 72.7-27.7 100.4 0L512 411.6 880.3 43.3c27.7-27.7 72.7-27.7 100.4 0z" fill-rule="evenodd" clip-rule="evenodd" fill="currentColor" /></symbol>'});s.a.add(r);e["default"]=r},"2adc":function(t,e,i){"use strict";var a=i("88bc"),o=i.n(a);o.a},"2b68":function(t,e,i){"use strict";var a=i("89bd"),o=i.n(a);e["default"]=o.a},"2bcb":function(t,e,i){t.exports={row:"picture-box_row_30Iwo",picLoading:"picture-box_picLoading_1xqjn",pos:"picture-box_pos_23RZM",icon2:"picture-box_icon2_zSO-k",videobox:"picture-box_videobox_11tvk",playcount:"picture-box_playcount_1cOEd",videotime:"picture-box_videotime_TkbKI"}},"2bdb":function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_article",use:"woo_svg_article-usage",viewBox:"0 0 1024 1024",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" id="woo_svg_article"><path fill="currentColor" d="M740.316 51.648L218.85 425.366c-36.959 26.487-45.448 77.92-18.961 114.879l4.649 5.898a82.362 82.362 0 0016.853 14.812l131.052 86.662L209.404 895.12c-16.255 28.118-6.638 64.09 21.48 80.345 20.2 11.678 45.393 10.308 64.209-3.49L805.88 597.398c36.667-26.889 44.594-78.412 17.705-115.079l-5.261-6.461a82.307 82.307 0 00-19.256-15.737L685.106 392.77l141.384-265.7c15.255-28.673 4.377-64.284-24.296-79.538a58.806 58.806 0 00-61.878 4.116zM259.957 482.725l480.568-344.429-133.561 251.152c-8.865 16.663-3.047 37.352 13.204 46.952l143.006 84.48a11.773 11.773 0 013.503 3.171l1.51 2.77c1.84 4.824.326 10.469-4.039 13.67L298.575 881.859l131.612-227.654c9.34-16.157 4.483-36.794-11.083-47.089L260.32 502.095a11.764 11.764 0 01-3.072-2.959c-3.783-5.279-2.57-12.627 2.709-16.411z" /></symbol>'});s.a.add(r);e["default"]=r},"2c07":function(t,e,i){"use strict";var a=i("c069"),o=i.n(a);e["default"]=o.a},"2c4d":function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_nav_messages",use:"woo_svg_nav_messages-usage",viewBox:"0 0 30 30",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" id="woo_svg_nav_messages"><path d="M24 10.722l-7.012 5.17c-1.15.849-2.828.847-3.976 0L6 10.722v11.27a.5.5 0 00.503.508h16.994a.501.501 0 00.503-.509V10.722zM4 8.01A2.501 2.501 0 016.503 5.5h16.994A2.5 2.5 0 0126 8.009V21.99a2.501 2.501 0 01-2.503 2.509H6.503A2.5 2.5 0 014 21.991V8.01zm10.199 6.273c.442.327 1.157.329 1.602 0l7.592-5.597c.888-.655.709-1.185-.384-1.185H6.991c-1.1 0-1.272.53-.384 1.185l7.592 5.597z" fill-rule="nonzero" fill="currentColor" /></symbol>'});s.a.add(r);e["default"]=r},"2c89":function(t){t.exports=JSON.parse('[{"tag":"cmtInbox","name":"收到的评论","api":"/ajax/message/cmt","parmas":{},"type":"comments","unread":"","unreadTag":"cmt"},{"tag":"cmtInbox","name":"关注人的评论","api":"/ajax/message/cmt","parmas":{"filter_by_author":1},"type":"comments","unread":"","unreadTag":"attention_cmt","dot":true},{"tag":"cmtOutbox","name":"发出的评论","api":"/ajax/message/myCmt","parmas":{},"type":"comments"}]')},"2ca9":function(t,e,i){},"2ce1":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._l(t.messageList,(function(e,a){return i("a-link",{key:a,attrs:{linkType:"old",styleType:"none",href:t.getHref(e)},on:{click:function(t){t.preventDefault()}}},[i("nav-item",{attrs:{icon:e.icon,text:e.title,cur:a===t.curIndex},on:{click:function(i){return t.jumpdb(e,a)}}},[e.setUnreadTag&&e.setUnreadTag.length>0&&(e.unread>0||"privateChat"===e.type&&e.dot)?i("woo-badge",{class:t.$style.unRead,attrs:{value:e.unread,max:99,dot:e.dot&&(e.unread>0||"privateChat"===e.type&&e.dot)}}):t._e()],1)],1)})),1)},o=[],n=(i("7db0"),i("a630"),i("caad"),i("d81d"),i("b0c0"),i("4ec9"),i("d3b7"),i("5377"),i("3ca3"),i("ddb0"),i("5530")),s=i("2914"),r=i("c376"),l=(i("124d"),i("cafe")),c=i("2f62"),u=(i("ed5d"),i("b047")),d=i.n(u),h=i("e83f"),p=i("2c89"),f={name:"nav-left-hot",components:{navItem:l["a"]},data:function(){var t=this;return{messageList:[],curIndex:0,vip:!1,off24:!1,jumpdb:d()((function(e,i){t.jump(e,i)}),500,{leading:!0}),messageAt:h,messageCmt:p,clickChat:!1}},computed:Object(n["a"])(Object(n["a"])({},Object(c["c"])(["unread","config"])),Object(c["d"])({userType:function(t){return t.userType.userType}})),mounted:function(){var t=this,e=this.userType;(e||"undefined"==typeof e||0==e)&&(this.vip=this.userType,this.setLeft(),this.initData()),this.$Bus.$on("updateMessageAtCmtData",this.updateMessageAtCmtData),this.$once("hook:beforeDestroy",(function(){t.$Bus.$off("updateMessageAtCmtData",t.updateMessageAtCmtData)}))},watch:{$route:function(){this.getCurIndexNormal()},unread:function(t){this.handleNavDot(),this.messageList=this.handleUnread(this.messageList,t.type)},userType:function(t){this.vip=t,this.setLeft(),this.initData()}},methods:{setLeft:function(){this.messageList=this.vip?r:s},initData:function(){this.handleNavDot(),this.messageList=this.handleUnread(this.messageList),this.getCurIndexNormal()},handleUnread:function(t,e){var i=this;return t.map((function(t,a){if("atMe"===t.type){if(i.config&&i.config.flags&&i.config.flags.settings&&i.config.flags.settings.message&&2===i.config.flags.settings.message.at_me&&i.unread.attention_mention_status+i.unread.attention_mention_cmt?t.setUnreadTag=["attention_mention_status","attention_mention_cmt"]:t.setUnreadTag=["mention_status","all_mention_cmt"],e){var o=new Map(JSON.parse(window.localStorage.getItem("message_dot"))),n=JSON.stringify(Array.from(o.set("atWeibo",[i.unread[t.setUnreadTag[0]]||0,i.unread[t.setUnreadTag[1]]||0]).entries()));localStorage.setItem("message_dot",n)}if("mention_status"===e&&t.dot)return void(t.unread=0);if(0===t.clearUnread)return t.unread=0,void delete t.clearUnread}else"cmt"===t.type&&(i.config&&i.config.flags&&i.config.flags.settings&&i.config.flags.settings.message&&2===i.config.flags.settings.message.comment&&i.unread.attention_cmt?t.setUnreadTag=["attention_cmt"]:t.setUnreadTag=["cmt"]);if(t.setUnreadTag&&t.setUnreadTag.length>0){var s=0;t.setUnreadTag.map((function(t){return s+=i.unread[t]||0,t})),t.unread=s}})),t},getCurIndexNormal:function(){var t=this.$route.name;switch(t){case"message":this.curIndex=0;break;case"messageAll":this.curIndex=1;break;case"atWeibo":case"atCmt":this.curIndex=this.vip?2:0;break;case"cmtInbox":case"cmtOutbox":this.curIndex=this.vip?3:1;break;case"likeInbox":this.curIndex=this.vip?4:2;break;default:this.curIndex=-1}},jump:function(t,e){if(this.$_wooBus.$emit("jumpMes",!0),"privateChat"!=t.name)"groupchat"!=t.name?(this.curIndex=e,("atWeibo"===t.name&&"/at/weibo"===this.$route.fullPath||"cmtInbox"===t.name&&"/comment/inbox"===this.$route.fullPath)&&this.$_wooBus.$emit("repeatClick",t.type),["atWeibo","cmtInbox"].includes(t.name)?this.$router.push({path:this.getAtCmtLeftNavUrl(t.name)}):this.$router.push({name:t.name,query:Object(n["a"])({},t.parmas)})):window.open("https://api.weibo.com/chat/#/chat?to_uid=-101","privateChat");else{if(this.clickChat=!0,t.dot){var i=new Map(JSON.parse(window.localStorage.getItem("message_dot"))),a=JSON.stringify(Array.from(i.set("privateChat",(this.unread.dm_pub_total||0)+(this.unread.chat_group_pc||0)).entries()));localStorage.setItem("message_dot",a)}window.open("https://api.weibo.com/chat","privateChat")}},getHref:function(t){var e=t.name,i="";switch(e){case"message":i="/messages/summary";break;case"messageAll":i="/messages/all";break;case"atWeibo":case"cmtInbox":i=this.getAtCmtLeftNavUrl(e);break;case"likeInbox":i="/like/inbox";break;case"privateChat":i="https://api.weibo.com/chat";break;case"groupchat":i="https://api.weibo.com/chat/#/chat?to_uid=-101";break;default:break}return i},getItemByType:function(t){return this.messageList.find((function(e){return e.type===t}))},handleNavDot:function(){if(this.config&&this.config.flags&&this.config.flags.settings&&this.config.flags.settings.message){var t=this.config.flags.settings.message,e=t.at_me,i=t.comment,a=t.in_like,o=t.groupchat_notify_receive,n=t.chat_group_notify;if(e){var s=this.messageList.find((function(t){return"atMe"===t.type}));if(s){1===e?s.dot=!0:2===e?this.unread.attention_mention_status||this.unread.attention_mention_cmt?s.dot=!1:s.dot=!0:3===e&&(s.dot=!1);var r=new Map(JSON.parse(window.localStorage.getItem("message_dot")));s.dot&&localStorage.getItem("message_dot")&&r&&r.get("atWeibo")&&r.get("atWeibo")[0]===(this.unread[s.setUnreadTag[0]]||0)&&r.get("atWeibo")[1]===(this.unread[s.setUnreadTag[1]]||0)&&(s.dot=!1,s.unread=0,s.clearUnread=0)}}if(i){var l=this.messageList.find((function(t){return"cmt"===t.type}));l&&(1===i?l.dot=!0:2===i?this.unread.attention_cmt?l.dot=!1:l.dot=!0:3===i&&(l.dot=!1))}if(a){var c=this.messageList.find((function(t){return"likeInbox"===t.type}));c&&(1===a?c.dot=!0:2===a&&(c.dot=!1))}if(o){var u=this.messageList.find((function(t){return"groupchat"===t.type}));u&&2===o&&(1===n?u.dot=!0:2===n&&(u.dot=!1))}}if(!this.unread||this.unread.dm_total||this.unread.chat_group_client){var d=this.messageList.find((function(t){return"privateChat"===t.type}));d&&(d.dot=!1)}else{var h=this.messageList.find((function(t){return"privateChat"===t.type}));if(h){this.unread.dm_pub_total&&(0===this.unread.remind_settings.msgbox||2===this.unread.remind_settings.msgbox?h.dot=!0:1===this.unread.remind_settings.msgbox&&(h.dot=!1)),!this.unread.dm_pub_total&&this.unread.chat_group_pc&&(h.dot=!0),this.clickChat&&h.dot&&(h.dot=!1);var p=(this.unread.dm_pub_total||0)+(this.unread.chat_group_pc||0),f=new Map(JSON.parse(window.localStorage.getItem("message_dot")));h.dot&&localStorage.getItem("message_dot")&&f&&f.get("privateChat")===p&&(h.dot=!1)}}},updateMessageAtCmtData:function(t){this.messageAt=t["at"],this.messageCmt=t["cmt"]},getAtCmtLeftNavUrl:function(t){var e="";return"atWeibo"===t?e=!this.messageAt[0].dot&&this.messageAt[0].unread?"/at/weibo":!this.messageAt[1].dot&&this.messageAt[1].unread?"/at/weibo?filter_by_author=1":!this.messageAt[3].dot&&this.messageAt[3].unread?"/at/comment":!this.messageAt[4].dot&&this.messageAt[4].unread?"/at/comment?filter_by_author=1":this.messageAt[0].dot&&this.messageAt[0].unread?"/at/weibo":this.messageAt[1].dot&&this.messageAt[1].unread?"/at/weibo?filter_by_author=1":this.messageAt[3].dot&&this.messageAt[3].unread?"/at/comment":this.messageAt[4].dot&&this.messageAt[4].unread?"/at/comment?filter_by_author=1":"/at/weibo":"cmtInbox"===t&&(e=!this.messageCmt[0].dot&&this.messageCmt[0].unread?"/comment/inbox":!this.messageCmt[1].dot&&this.messageCmt[1].unread?"/comment/inbox?filter_by_author=1":this.messageCmt[0].dot&&this.messageCmt[0].unread?"/comment/inbox":this.messageCmt[1].dot&&this.messageCmt[1].unread?"/comment/inbox?filter_by_author=1":"/comment/inbox"),e}}},m=f,v=i("89b9"),_=i("2877");function g(t){this["$style"]=v["default"].locals||v["default"]}var b=Object(_["a"])(m,a,o,!1,g,null,null);e["default"]=b.exports},"2d8a":function(t,e,i){"use strict";var a=i("ba41"),o=i.n(a);e["default"]=o.a},"2dc5":function(t,e,i){t.exports={wrap:"card6_wrap_1n5ZZ",more:"card6_more_1sf7q"}},"2e4d":function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_nav_aria",use:"woo_svg_nav_aria-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="woo_svg_nav_aria"><path d="M6.982 13.324l-.178-.016c-.14-.014-.279-.03-.416-.05l-.295-.046-1.159 1.989a.797.797 0 01-1.09.287l-.035-.021a.883.883 0 01-.279-1.184l.89-1.523a7.908 7.908 0 01-.368-.151l-.296-.139-.307-.16-.24-.138-.26-.163-.1-.068-.202-.143-.256-.196-.239-.2-.261-.238-.222-.22-.214-.23-.133-.153-.12-.144-.199-.256-.13-.178-.223-.327-.212-.34-.167-.293-.162-.307a1 1 0 01-.033-.835l.054-.112.169-.287C2.06 4.564 4.624 3.105 7.987 3.105c.127 0 .252.002.377.006l-.377-.006.242.002.375.015.239.016.379.037.355.048.375.065L11.336.921a.848.848 0 011.142-.315.81.81 0 01.364 1l-.056.116-1.2 2.061.157.068.428.207.17.09.287.167.28.179c.1.066.199.136.296.207l.268.206.278.233.25.227.242.24c.093.095.184.192.274.293l.23.268.225.28.214.289.208.3.214.334.236.398a1 1 0 01.071.832l-.05.115-.145.277c-.074.136-.15.268-.228.397l-.166.264-.196.29-.204.277-.205.258-.205.238c-.141.159-.288.31-.44.454l-.262.239-.103.088-.254.203-.178.132-.205.143-.317.201-.262.15c-.302.165-.618.31-.947.436l-.383.135a8.668 8.668 0 01-.633.18l-.312.07-.268.052-.158.027c-.178.029-.36.053-.545.073l-.282.026-.217.016-.32.015-.442.008c-.344 0-.68-.014-1.005-.04zM7.987 4.76c-3.148 0-5.37.866-6.667 2.597l-.14.196a1 1 0 00.09 1.243c.38.41.765.776 1.156 1.099l.42.326.293.206c.135.091.271.177.408.258l.317.178.276.14.26.119.264.107.274.1.27.083.261-.45a3.464 3.464 0 01-.854-3.243 1.351 1.351 0 101.468-2.063 3.47 3.47 0 012.755-.46l.235-.4-.253-.015-.256-.011a16.47 16.47 0 00-.577-.01z" fill="currentColor" fill-rule="evenodd" /></symbol>'});s.a.add(r);e["default"]=r},"2e71":function(t,e,i){"use strict";var a=i("b5a3"),o=i.n(a);e["default"]=o.a},"2e94":function(t,e,i){"use strict";var a=i("33de"),o=i.n(a);e["default"]=o.a},"2f22":function(t,e,i){t.exports={videoc:"LoginTopNav_videoc_1MUJ1",video:"LoginTopNav_video_1W33g",videoi:"LoginTopNav_videoi_RJw4x",box:"LoginTopNav_box_271MN",boxmin:"LoginTopNav_boxmin_2BmOV",wrap:"LoginTopNav_wrap_2y8r0",logo:"LoginTopNav_logo_1Ttus",searchbox:"LoginTopNav_searchbox_B8NS4",logoS:"LoginTopNav_logoS_wOXns",search:"LoginTopNav_search_2BwJh",ipt:"LoginTopNav_ipt_gjuEy",btn:"LoginTopNav_btn_3LmVt",logincard:"LoginTopNav_logincard_ZrY5n"}},"2f6a":function(t,e,i){t.exports={main:"Ctrls_main_35c80",tab:"Ctrls_tab_sa2Mv",icon:"Ctrls_icon_2mxB4",item:"Ctrls_item_3KzNH",avatarItem:"Ctrls_avatarItem_3LrJN",avatar:"Ctrls_avatar_3Hf0X",alink:"Ctrls_alink_1L3hP",pop:"Ctrls_pop_1AKtQ",aPop:"Ctrls_aPop_3DcE_",popitem:"Ctrls_popitem_2yxUV",popitembox:"Ctrls_popitembox_3XCgi"}},3095:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));i("99af"),i("a434"),i("b0c0"),i("ac1f"),i("5319"),i("498a"),i("96cf");var a=i("1da1"),o=i("ed09"),n=i("6c3f"),s=i("8e18");function r(t,e,i,r){var l=Object(s["a"])(),c=l.isAudio,u=Object(o["n"])("请选择合适的频道"),d=Object(o["n"])(""),h=Object(o["n"])([]),p=Object(o["n"])([]),f=Object(o["n"])(!1),m=Object(o["n"])([]),v=Object(o["n"])(void 0),_=Object(o["n"])(0),g=Object(o["n"])(""),b=Object(o["n"])(0),y=Object(o["n"])(""),w=Object(o["n"])(void 0),x=Object(o["n"])(""),k=Object(o["n"])(!1),$=Object(o["n"])(!1),C=Object(o["n"])(!1),O=Object(o["n"])(!0),j=Object(o["n"])(!0),T=Object(o["n"])(""),D=Object(o["n"])(!1),S=Object(o["n"])({}),I=function(){""!==d.value.trim()&&(h.value.push(d.value.trim()),d.value="")},L=function(t){h.value.splice(t,1)},B=function(t,e,i){switch(t){case"close":p.value.splice(i,1);break;case"add":h.value.push(e);break}},P=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,i,a,s,l,u,d,h,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(w.value){t.next=20;break}return t.prev=1,t.next=4,Object(n["b"])(r,c.value);case 4:h=t.sent,h.play_config&&(p=h.play_config,p.follower_watch_entire&&p.follower_watch_entire.pop_up_window_desc&&Object(o["o"])(p.follower_watch_entire,"pop_up_window_desc",p.follower_watch_entire.pop_up_window_desc.replace("\n","<br />")),w.value=p),(null===h||void 0===h||null===(e=h.contribution)||void 0===e?void 0:e.details)&&(m.value=h.contribution.details),(null===h||void 0===h||null===(i=h.category)||void 0===i?void 0:i.details)&&(v.value=h.category.details),void 0!==(null===h||void 0===h||null===(a=h.init_status)||void 0===a?void 0:a.show_video_down)&&(O.value=Boolean(h.init_status.show_video_down)),void 0!==(null===h||void 0===h||null===(s=h.init_status)||void 0===s?void 0:s.force_video_down)&&(j.value=Boolean(h.init_status.force_video_down)),void 0!==(null===h||void 0===h||null===(l=h.init_status)||void 0===l?void 0:l.video_down)&&(j.value=1===h.init_status.video_down),void 0!==(null===h||void 0===h||null===(u=h.init_status)||void 0===u?void 0:u.video_tail)&&(-1===h.init_status.video_tail?k.value=!1:k.value=!0,0===h.init_status.video_tail?$.value=!1:1===h.init_status.video_tail&&($.value=!0)),h.biz_type&&(T.value=h.biz_type),h.material_permission&&(D.value=h.material_permission),h.co_create&&(S.value=h.co_create),(null===h||void 0===h||null===(d=h.init_status)||void 0===d?void 0:d.default_status)&&(x.value=h.init_status.default_status),t.next=20;break;case 18:t.prev=18,t.t0=t["catch"](1);case 20:case"end":return t.stop()}}),t,null,[[1,18]])})));return function(){return t.apply(this,arguments)}}(),A=function(){t.addTagInput.focus(),y.value="focus"},E=function(){y.value="",I()},M=function(e){var a=v.value?v.value:m.value;switch(e[0]){case"init":if(t.videoSort){var o=t.videoScroll.scrollTop,n=t.videoScroll.getBoundingClientRect(),s=t.videoSort.$el.getBoundingClientRect();t.videoScroll.scrollTop=o+(s.top-n.top-52)}break;case"main":_.value=e[1],b.value=0;break;case"sub":b.value=e[1],u.value="".concat(a[_.value].desc," - ").concat(a[_.value].sub_channels[e[1]].name),g.value=a[_.value].sub_channels[e[1]].sub_channel_id,i.value=a[_.value].sub_channels[e[1]].supported_video_type,f.value=!1;break}};return{channelText:u,tagInput:d,tagList:h,recommendTagList:p,showChannel:f,channelList:m,category:v,channelIndex:_,channel_ids:g,subChannelIndex:b,tagStatus:y,play_config:w,checkVideoTail:$,showCheckVideoTail:k,showCheckVideoTailPop:C,showAllowDownload:O,checkAllowDownload:j,material_permission:D,biz_type:T,coCreateConfig:S,defaultStatus:x,addTag:I,closeTag:L,changeVideoTag:B,channelListInit:P,tagFocus:A,tagBlur:E,modifyChannel:M}}},"30a8":function(t,e,i){},"30b0":function(t,e,i){"use strict";var a=i("9f34"),o=i.n(a);e["default"]=o.a},3181:function(t,e,i){t.exports={cut:"UserCard_cut_3JzJQ",con1h3:"UserCard_con1h3_3DqhQ",f12:"UserCard_f12_10onV",cla:"UserCard_cla_3OSOz"}},"318c":function(t,e,i){"use strict";var a=i("d547"),o=i.n(a);e["default"]=o.a},3255:function(t,e,i){"use strict";var a=i("c263"),o=i.n(a);o.a},"326c":function(t,e,i){"use strict";var a=i("326d"),o=i.n(a);e["default"]=o.a},"326d":function(t,e,i){t.exports={cut:"card3_cut_3pyKA",wrap:"card3_wrap_3AOO9",line:"card3_line_1Bgz1",userbox:"card3_userbox_23Y92",more:"card3_more_3AMs3",con1h3:"card3_con1h3_2dojs",f12:"card3_f12_2a2Op",cla:"card3_cla_1oD8C",avatarMask:"card3_avatarMask_1mjYJ",angleRight:"card3_angleRight_1XwOg"}},"32b7":function(t,e,i){"use strict";var a=i("5b23"),o=i.n(a);o.a},"32d4":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isVip&&t.withVip||t.fansIcon?i("a-link",{attrs:{"link-type":"old","style-type":"none",href:t.getHref(),target:"_blank"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toScheme()}}},[t.isVip&&!t.iconName&&t.withVip&&!t.isAuthor?i("IconVip",{class:t.$style.vip,attrs:{mbrank:t.mbrank,mbtype:t.mbtype,svip:t.svip,vvip:t.vvip}}):t._e(),t.iconName||t.fansIcon&&t.fansIcon.isAuthor?i("span",{class:t.$style.fans},["ai_assistant"===t.iconName?i("img",{class:[t.$style.custom],attrs:{src:t.fansIcon.icon_url}}):t._e(),"loyal_fans"===t.iconName?i("img",{class:[t.$style.custom],attrs:{src:t.fansIcon.icon_url}}):t._e(),"gold_fans"===t.iconName&&t.fansIcon.url?i("img",{class:t.$style.custom,attrs:{src:t.fansIcon.url}}):t._e(),t.isAuthor?i("span",{class:[t.$style.fansin,t.$style.author]}):t._e()]):t._e()],1):t._e()},o=[],n=(i("b0c0"),i("a9e3"),i("bfbe")),s={name:"IconFans",props:{withVip:{type:Boolean,default:!0},mbrank:Number,mbtype:Number,svip:Number,vvip:Number,fansIcon:Object},computed:{isVip:function(){return this.mbrank&&this.mbtype&&2!==this.mbtype},iconName:function(){return this.fansIcon&&this.fansIcon.name},isAuthor:function(){return this.fansIcon&&this.fansIcon.isAuthor}},methods:{toScheme:function(){this.fansIcon&&this.fansIcon.scheme&&window.open(this.fansIcon.scheme)},getHref:function(){if(this.fansIcon&&this.fansIcon.scheme)return this.fansIcon.scheme}},components:{IconVip:n["a"]}},r=s,l=i("9fcc"),c=i("2877");function u(t){this["$style"]=l["default"].locals||l["default"]}var d=Object(c["a"])(r,a,o,!1,u,null,null);e["a"]=d.exports},"32ed":function(t,e,i){},3339:function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_nav_sun",use:"woo_svg_nav_sun-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="woo_svg_nav_sun"><path d="M8 13.5a.8.8 0 01.8.8v.9a.8.8 0 11-1.6 0v-.9a.8.8 0 01.8-.8zm-3.751-1.478a.8.8 0 01.04 1.131l-.614.658a.8.8 0 01-1.17-1.09l.613-.66a.8.8 0 011.131-.039zm8.904-.31l.658.613a.8.8 0 01-1.09 1.17l-.66-.613a.8.8 0 111.092-1.17zM8 3.3a4.7 4.7 0 110 9.4 4.7 4.7 0 010-9.4zM1.7 7.2a.8.8 0 110 1.6H.8a.8.8 0 110-1.6h.9zm13.5 0a.8.8 0 110 1.6h-.9a.8.8 0 110-1.6h.9zM3.28 2.505l.658.613a.8.8 0 01-1.091 1.17l-.658-.613a.8.8 0 111.09-1.17zm10.176-.356a.8.8 0 01.04 1.13l-.614.66a.8.8 0 11-1.17-1.092l.613-.658a.8.8 0 011.131-.04zM8 0a.8.8 0 01.8.8v.9a.8.8 0 11-1.6 0V.8A.8.8 0 018 0z" fill="currentColor" fill-rule="evenodd" /></symbol>'});s.a.add(r);e["default"]=r},"33de":function(t,e,i){t.exports={box:"Dark_box_2i4rW"}},"33fd":function(t,e,i){t.exports={list:"default_list_3_iP5"}},3489:function(t,e,i){t.exports={sort:"VoteSort_sort_3SHCD",sort1:"VoteSort_sort1_1SQCA",item1:"VoteSort_item1_3_E1W",curr:"VoteSort_curr_3J35T",sort2:"VoteSort_sort2_3dy6K",item2:"VoteSort_item2_wHFCe"}},"34b3":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("router-view")},o=[],n=i("2877"),s={},r=Object(n["a"])(s,a,o,!1,null,null,null),l=r.exports,c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Card",[t._l(t.pageRenderConfig,(function(e,a){return[i("div",{key:a,staticClass:"wbpro-setup__box"},[e.hidden?t._e():i("div",{staticClass:"wbpro-setup__tit"},[t._v(" "+t._s(e.title)+" ")]),t._l(e.children,(function(e){return[e.hidden?t._e():i("privacy-"+e.type+"-item",t._b({key:e.keyName,tag:"component",attrs:{id:e.keyName},on:{"value-change":function(i){return t.handleValueChange(i,e)}}},"component",e,!1))]}))],2),a!==t.pageRenderConfig.length-1?i("woo-divider",{key:a,staticClass:"wbpro-setup__line2"}):t._e()]}))],2)},u=[],d=(i("99af"),i("4de4"),i("7db0"),i("4160"),i("d81d"),i("ac1f"),i("1276"),i("159b"),i("5530")),h=i("ade3"),p=(i("96cf"),i("1da1")),f=(i("e607"),i("8e5f")),m=i.n(f),v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wbpro-setup__f3"},[i("div",[i("div",{staticClass:"wbpro-setup__h3"},[t._v(t._s(t.title))]),i("div",{staticClass:"wbpro-setup__h4"},[t._v(" "+t._s(t.desc)+" ")])]),i("div",{staticClass:"wbpro-setup__b2"},[i("woo-switch",{attrs:{"on-value":1,"off-value":0},on:{change:t.handleCheckedChange},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}})],1)])},_=[],g=(i("a9e3"),i("ed09")),b={name:"privacy-switch-item",inheritAttrs:!1,props:{title:{type:String,default:""},desc:{type:String,default:""},checked:{type:[Boolean,Number],default:!1}},setup:function(t){var e=Object(g["d"])().proxy,i=function(t){e.$emit("value-change",t)};return{handleCheckedChange:i}}},y=b,w=(i("7a3a"),Object(n["a"])(y,v,_,!1,null,null,null)),x=w.exports,k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wbpro-setup__f3"},[i("div",[i("div",{staticClass:"wbpro-setup__h3"},[t._v(t._s(t.title))]),i("div",{staticClass:"wbpro-setup__h4"},[t._v(" "+t._s(t.desc)+" ")])]),i("div",{staticClass:"wbpro-setup__b2"},[t.disabled?i("div",{class:t.$style.disabledMask,on:{click:t.handleDisableClick}}):t._e(),i("multiselect",{staticClass:"wbpro-setup__ipt4",attrs:{disabled:t.disabled,options:t.options,placeholder:"请选择","show-labels":!1,"track-by":t.trackBy,label:t.label,"allow-empty":!1},on:{select:t.handleSelect},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)])},$=[],C={inheritAttrs:!1,props:{title:{type:String,default:""},desc:{type:String,default:""},selected:{type:Number},options:{type:Array,default:function(){return[]}},label:{type:String,default:"label"},trackBy:{type:String,default:"value"},disabled:{type:Boolean,default:!1},disabledDialog:{type:Object,default:function(){return{}}}},setup:function(t){var e=Object(g["d"])().proxy,i=function(t){e.$emit("value-change",t)},a=function(){var i=t.disabledDialog||{};e.$_w_dialog(i)};return{handleSelect:i,handleDisableClick:a}},components:{Multiselect:m.a}},O=C,j=(i("deb4"),i("3959"));function T(t){this["$style"]=j["default"].locals||j["default"]}var D=Object(n["a"])(O,k,$,!1,T,null,null),S=D.exports,I=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wbpro-setup__f3",class:t.$style.content},[i("div",{class:t.$style.title},[t._v(" "+t._s(t.title)+" ")]),i("div",{class:t.$style.desc},[t._v(" "+t._s(t.desc)+" ")]),i("div",{class:t.$style.radios},[i("woo-radio",{attrs:{value:0},model:{value:t.form.radio,callback:function(e){t.$set(t.form,"radio",e)},expression:"form.radio"}},[t._v(" 全部 ")]),i("woo-radio",{attrs:{value:3},model:{value:t.form.radio,callback:function(e){t.$set(t.form,"radio",e)},expression:"form.radio"}},[t._v(" 最近三年 ")]),i("woo-radio",{attrs:{value:2},model:{value:t.form.radio,callback:function(e){t.$set(t.form,"radio",e)},expression:"form.radio"}},[t._v(" 最近一年 ")]),i("woo-radio",{attrs:{value:1},model:{value:t.form.radio,callback:function(e){t.$set(t.form,"radio",e)},expression:"form.radio"}},[t._v(" 最近半年 ")]),i("woo-radio",{attrs:{value:4},model:{value:t.form.radio,callback:function(e){t.$set(t.form,"radio",e)},expression:"form.radio"}},[t._v(" 自定义时间 ")]),i("Multiselect",{class:t.$style.select,attrs:{disabled:4!==t.form.radio,options:t.options,placeholder:"请选择","show-labels":!1,"track-by":"value",label:"label","allow-empty":!1},model:{value:t.form.year,callback:function(e){t.$set(t.form,"year",e)},expression:"form.year"}})],1)])},L=[],B={inheritAttrs:!1,props:{title:String,desc:String,value:{type:String,default:""}},setup:function(t,e){for(var i=e.emit,a=(new Date).getFullYear()-1,o=t.value.split("-"),n=Object(g["m"])({radio:+o[0],year:{value:+o[1]||a,label:+o[1]||a}}),s=Object(g["n"])([]),r=a;r>=2009;r--)s.value.push({value:r,label:r});return Object(g["s"])((function(){return n}),(function(t){i("value-change","".concat(t.radio,"-").concat(t.year.value))}),{deep:!0}),{options:s,form:n}},components:{Multiselect:m.a}},P=B,A=i("4a6e");function E(t){this["$style"]=A["default"].locals||A["default"]}var M=Object(n["a"])(P,I,L,!1,E,null,null),F=M.exports,R={metaInfo:function(){return{title:"隐私设置"}},setup:function(){var t=Object(g["d"])().proxy,e=Object(g["n"])([]),i=Object(g["a"])((function(){return e.value.filter((function(t){return!t.hidden}))})),a=function(e){return t.$http.post("/ajax/setting/savePrivacy",e)},o=function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(i,o){var n,l,c,u,d,p,f,m,v,_,g,b,y,w,x,k,$,C,O,j,T,D;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={},l=i,"switch"===o.type&&o.reverseValue&&(i=0===i?1:0),"select"===o.type&&(i=o.reverseValue?0===i.value?1:0:i.value),n=Object(h["a"])({},o.keyName,i),"privacy.comment"===o.keyName&&(-1!==o.privacy_type?(c=3,n=i>3?4===o.privacy_type?{allow_comment:c,cmt_privacy:i-c}:{cmt_privacy:i-c}:3===i?4===o.privacy_type?{allow_comment:i,cmt_privacy:0}:{cmt_privacy:0}:{allow_comment:i}):n={allow_comment:i}),"privacy.status_visible"===o.keyName&&"string"===typeof i&&(u=i.split("-"),d=+u[0],n=Object(h["a"])({},o.keyName,d),4===d&&(n["privacy.status_visible_y"]=+u[1])),t.prev=7,t.next=10,a(n);case 10:if(p=t.sent,!(p.data.ok>0)){t.next=19;break}"privacy.comment"===o.keyName&&-1!==o.privacy_type&&(f=3,i>3?(o.comment=f,o.privacy_type=i-f):3===i?(o.comment=i,o.privacy_type=0):(o.comment=i,o.privacy_type=4)),"switch"===o.type&&(o.checked=l),"select"===o.type&&(o.selected=l),"privacy.status_visible"===o.keyName&&(_=i,"string"===typeof i&&(g=i.split("-"),_=g[0]),b=r("privacy.video_visible",e.value),y=null===(m=p.data.data)||void 0===m?void 0:m.show_video_visible,b&&(w=_,b.hidden=!(y&&0!==+w),e.value=s(b,e.value),x=r("privacy.status_visible",e.value),k="number"!==typeof x.value?+(null===($=x.value)||void 0===$?void 0:$.split("-")[0]):x.value,0!==+w&&0===k&&(C=r("privacy.video_visible",e.value),C.checked=1,e.value=s(C,e.value))),O=r("privacy.article_visible",e.value),j=null===(v=p.data.data)||void 0===v?void 0:v.show_article_visible,O&&(T=_,O.hidden=!(j&&0!==+T),e.value=s(O,e.value),D=r("privacy.article_visible",e.value),e.value=s(D,e.value)),o.value=l),e.value=s(o,e.value),t.next=20;break;case 19:throw p.data.msg;case 20:t.next=25;break;case 22:t.prev=22,t.t0=t["catch"](7),e.value=Object.assign([],e.value);case 25:case"end":return t.stop()}}),t,null,[[7,22]])})));return function(e,i){return t.apply(this,arguments)}}(),n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,i=Object(d["a"])({},t),a=e.split(".");while(0!==a.length){var o=a.shift();i=i[o]}return i},s=function(t,e){return e.map((function(e){return Object(d["a"])(Object(d["a"])({},e),{},{children:e.children.map((function(e){return e.keyName===t.keyName?Object(d["a"])(Object(d["a"])({},e),t):e}))})}))},r=function(t,e){var i=null;return e.forEach((function(e){var a;null===e||void 0===e||null===(a=e.children)||void 0===a||a.forEach((function(e){e.keyName===t&&(i=e)}))})),i},l=function(t,e){var i;return null===(i=e.map((function(e){return e.children=e.children.map((function(e){var i=n(t,e.keyName);if("switch"===e.type&&(e.reverseValue?e.checked=0===i?1:0:e.checked=i),e.hiddenKey&&(e.hidden=!n(t,e.hiddenKey)),"select"===e.type){var a=e.options.find((function(t){return t.value===i}));a&&(e.selected=a)}if("privacy.status_visible"===e.keyName){var o=n(t,"privacy.status_visible_y");e.value="".concat(i,"-").concat(o),e.hidden=i>-1?0:1}if("mention.cloud_blacklist"===e.keyName){var s=n(t,"mention.show_cloud_visible");s&&(e.desc="开启后，系统将对含有屏蔽词、黑名单（包括政媒用户拉黑用户）及不良信用记录用户的评论进行过滤。")}if("privacy.video_visible"===e.keyName){var r=n(t,"mention.show_video_visible"),l=n(t,"privacy.status_visible");e.show_video_visible=r,e.hidden=!(r&&0!==+l)}if("privacy.article_visible"===e.keyName){var c=n(t,"mention.show_article_visible"),u=n(t,"privacy.status_visible");e.show_article_visible=c,e.hidden=!(c&&0!==+u)}if("privacy.comment"===e.keyName){var d=n(t,"mention.green_mode");e.disabled=!!d;var h=n(t,"privacy.privacy_type"),p=i;-1===h?e.options.push({value:3,label:"我的粉丝"}):(4!==h&&(p=i+h),e.options=e.options.concat([{value:3,label:"所有粉丝"},{value:4,label:"关注7天以上"},{value:5,label:"关注100天以上"}]));var f=n(t,"privacy.tiefen");f&&e.options.push({value:6,label:"铁粉"});var m=e.options.find((function(t){return t.value===p}));m&&(e.selected=m),e.privacy_type=h,e.comment=i}return e})),e})))||void 0===i?void 0:i.filter((function(t){var e,i,a;return(null===t||void 0===t||null===(e=t.children)||void 0===e?void 0:e.length)&&(null===t||void 0===t||null===(i=t.children)||void 0===i||null===(a=i.filter((function(t){return!t.hidden})))||void 0===a?void 0:a.length)}))},c=function(){t.$http.get("/ajax/setting/getPrivacy").then((function(t){e.value=l(t.data.data,t.data.config)}))};return Object(g["k"])((function(){c()})),{handleValueChange:o,pageRenderConfig:i}},components:{Multiselect:m.a,PrivacySwitchItem:x,PrivacySelectItem:S,PrivacyVisibleSelectItem:F}},V=R,N=Object(n["a"])(V,c,u,!1,null,null,null),H=N.exports,z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Card",t._l(t.data,(function(e,a){return i("div",{key:a},[i("div",{staticClass:"wbpro-setup__box"},[e.title?i("div",{staticClass:"wbpro-setup__tit"},[t._v(" "+t._s(e.title)+" ")]):t._e(),t._l(e.items,(function(e,a){return i("div",{key:a,staticClass:"wbpro-setup__f3"},[e.hide?t._e():[e.label?i("div",{staticClass:"wbpro-setup__h3"},[t._v(" "+t._s(e.label)+" ")]):t._e(),t._l(e.content,(function(a,o){return i("div",{key:o},[e.options&&a.select===e.selected||!e.options&&a.check===e.checked?[a.desc?i("div",{staticClass:"wbpro-setup__h4",domProps:{innerHTML:t._s(a.desc)}}):t._e(),e.imageIcon&&e.imageTitle?i("message-card",{attrs:{icon:e.imageIcon,title:e.imageTitle,badge:a.badge}}):t._e()]:t._e()],2)})),i("div",{staticClass:"wbpro-setup__b2"},[e.options?i("multiselect",{class:"navChat"===e.imageIcon?"wbpro-setup__ipt5 wbpro-setup__ipt6":"wbpro-setup__ipt4",attrs:{placeholder:"",options:e.options,"show-labels":!1,searchable:!1},model:{value:e.selected,callback:function(i){t.$set(e,"selected",i)},expression:"item.selected"}}):i("woo-switch",{attrs:{disabled:e.disabled,onValue:e.checkValue&&e.checkValue[1],offValue:e.checkValue&&e.checkValue[0]},on:{change:function(i){return t.handleCheckedChange(e)}},model:{value:e.checked,callback:function(i){t.$set(e,"checked",i)},expression:"item.checked"}})],1)]],2)}))],2),i("woo-divider",{staticClass:"wbpro-setup__line2"})],1)})),0)},U=[],G=(i("c740"),i("caad"),i("5377"),i("0644")),q=i.n(G),W=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{class:t.$style.box},t._l(t.badge,(function(e,a){return i("Card",{key:a,class:t.$style.card,attrs:{bottomGap:!1}},[i("div",{class:t.$style.cardh3},[t._v("消息")]),i("woo-box",{attrs:{align:"center",justify:"between"}},[i("woo-fonticon",{class:t.$style.cardicon,attrs:{value:t.icon}}),i("woo-box-item",{class:t.$style.cardh4,attrs:{align:"center"}},[t._v(t._s(t.title))]),i("woo-badge",{attrs:{dot:e.dot,value:e.value}})],1)],1)})),1)},Q=[],J={props:{icon:{type:String,default:""},title:{type:String,default:""},badge:{type:Array,default:function(){return[]}}}},K=J,Y=i("02a4");function X(t){this["$style"]=Y["default"].locals||Y["default"]}var Z=Object(n["a"])(K,W,Q,!1,X,null,null),tt=Z.exports,et={name:"Message",metaInfo:function(){return{title:"消息设置"}},components:{Multiselect:m.a,MessageCard:tt},setup:function(t,e){var i=e.root,a=Object(g["n"])([{title:"@我的提醒",items:[{label:"哪些人的@会有消息提醒",options:["所有人","仅关注人","不提醒"],selected:"",imageIcon:"navAtme",imageTitle:"@我的",content:[{select:"所有人",desc:'所有人@我时，将在<span class="wbpro-setup__h3">[消息页-@我的]</span> 进行数字提醒',badge:[{value:1}]},{select:"仅关注人",desc:'我关注人@我时，将在<span class="wbpro-setup__h3">[消息页-@我的]</span> 进行数字提醒，未关注人@我时，仅进行红点提醒',badge:[{value:1},{dot:1}]},{select:"不提醒",desc:'所有人@我时，将在<span class="wbpro-setup__h3">[消息页-@我的]</span> 进行红点提醒',badge:[{dot:1}]}]}]},{title:"评论提醒",items:[{label:"哪些人的评论会有消息提醒",options:["所有人","仅关注人","不提醒"],selected:"",imageIcon:"navComment",imageTitle:"评论",content:[{select:"所有人",desc:'所有人评论我时，将在<span class="wbpro-setup__h3">[消息页-评论]</span> 进行数字提醒',badge:[{value:1}]},{select:"仅关注人",desc:'我关注人评论我时，将在<span class="wbpro-setup__h3">[消息页-评论]</span> 进行数字提醒，未关注人评论我时，仅进行红点提醒',badge:[{value:1},{dot:1}]},{select:"不提醒",desc:'所有人评论我时，将在<span class="wbpro-setup__h3">[消息页-评论]</span> 进行红点提醒',badge:[{dot:1}]}]}]},{title:"赞的提醒",items:[{label:"数字提醒",type:"like",checked:1,checkValue:[1,2],imageIcon:"navLike",imageTitle:"赞",content:[{check:2,desc:'收到赞时，将在<span class="wbpro-setup__h3">[消息页-赞]</span> 进行数字提醒',badge:[{value:1}]},{check:1,desc:'收到赞时，将在<span class="wbpro-setup__h3">[消息页-赞]</span> 进行红点提醒',badge:[{dot:1}]}]}]},{title:"未关注人的设置",items:[{label:"接收未关注人消息",type:"unfollow",checked:0,checkValue:[0,1],disabled:!1,content:[]},{hide:!0,label:"展开方式",options:["聚合在未关注人消息中","直接展示在聊天列表"],selected:"",imageIcon:"navChat",imageTitle:"私信",content:[{select:"聚合在未关注人消息中",desc:"接收未关注人私信时，将聚合在未关注人消息中，并在消息页-私信进行数字提醒"},{select:"直接展示在聊天列表",desc:"未关注人消息直接展示在私信列表中，并数字提醒",badge:[{value:1}]}]},{hide:!0,label:"数字提醒",type:"remind",checked:0,checkValue:[2,0],imageIcon:"navChat",imageTitle:"私信",content:[{check:0,desc:'接收未关注私信时，将聚合在未关注人消息中，并在<span class="wbpro-setup__h3">[消息页-私信]</span>进行数字提醒',badge:[{value:1}]},{check:2,desc:'接收未关注私信时，将聚合在未关注人消息中，并在<span class="wbpro-setup__h3">[消息页-私信]</span>进行红点提醒',badge:[{dot:1}]}]}]},{title:"群通知",items:[{label:"接收群通知",type:"groupchat_notify_receive",checked:1,checkValue:[1,2]},{hide:!0,label:"数字提醒",type:"chat_group_notify",checked:1,checkValue:[1,2],imageIcon:"navGroup",imageTitle:"群通知",content:[{check:2,desc:'接收群通知，将在<span class="wbpro-setup__h3">[消息页-群通知]</span>进行数字提醒',badge:[{value:1}]},{check:1,desc:'接收群通知，将在<span class="wbpro-setup__h3">[消息页-群通知]</span>进行红点提醒',badge:[{dot:1}]}]}]}]),o=Object(g["n"])([{num:1,text:"不提醒"},{num:2,text:"仅关注人"},{num:3,text:"所有人"}]),n=Object(g["n"])({});Object(g["k"])((function(){s()})),Object(g["s"])((function(){return q()(a.value)}),(function(t,e){var i=e.findIndex((function(t){return t.items[0].options&&!t.items[0].selected}));if(-1===i)for(var a in t)t[a].items[0].selected!==e[a].items[0].selected?function(){var e=t[a].items[0].selected,i=o.value.find((function(t){return t.text===e})),n="";switch(a){case"0":n="at_me";break;case"1":n="comment";break}r(n,i.num)}():t[a]&&t[a].items&&t[a].items[1]&&t[a].items[1].selected!==e[a].items[1].selected&&function(){var e=t[a].items[1],i=e.selected,o=e.options&&e.options.findIndex((function(t){return t===i}));r("receiver",o)}()}));var s=function(){i.$http.get("/ajax/setting/getSettings",{}).then((function(t){if(t.data&&t.data.ok){var e=t.data.settings;n.value=e,a.value[0].items[0].selected=o.value[e.at_me-1].text,a.value[1].items[0].selected=o.value[e.comment-1].text,a.value[2].items[0].checked=e.in_like,a.value[3].items[0].checked=e.block_query,a.value[3].items[0].disabled=!!e.green_mode,a.value[3].items[0].disabled&&(a.value[3].items[0].content=[{check:0,desc:"您已开启一键防护模式，无法修改当前设置，请关闭一键防护模式后，进行修改"}]),0===e.block_query?(a.value[3].items[1].hide=!0,a.value[3].items[2].hide=!0):1===e.block_query&&(a.value[3].items[1].hide=!1,a.value[3].items[1].selected=e.query_receiver?"直接展示在聊天列表":"聚合在未关注人消息中",e.query_receiver?a.value[3].items[2].hide=!0:(a.value[3].items[2].hide=!1,a.value[3].items[1].content[0].desc="",a.value[3].items[2].checked=e.query_remind_type)),a.value[4].items[0].checked=e.groupchat_notify_receive,1===e.groupchat_notify_receive?a.value[4].items[1].hide=!0:2===e.groupchat_notify_receive&&(a.value[4].items[1].hide=!1,a.value[4].items[1].checked=e.chat_group_notify)}}))},r=function(t,e){i.$http.post("/ajax/setting/setBatch",{type:t,status:e}).then((function(o){if(o.data&&o.data.ok&&o.data.result){if(["at_me","comment","like","groupchat_notify_receive","chat_group_notify"].includes(t)){"like"===t&&(t="in_like");var s=i.$store.getters.config;s.flags.settings.message[t]=e,i.$store._actions.updateConfig[0](s)}"unfollow"===t?0===e?(a.value[3].items[1].hide=!0,a.value[3].items[2].hide=!0):1===e&&(a.value[3].items[1].hide=!1,a.value[3].items[1].selected=n.value.query_receiver?"直接展示在聊天列表":"聚合在未关注人消息中",n.value.query_receiver?a.value[3].items[2].hide=!0:(a.value[3].items[2].hide=!1,a.value[3].items[1].content[0].desc="",a.value[3].items[2].checked=n.value.query_remind_type)):"receiver"===t?(1===e?a.value[3].items[2].hide=!0:0===e&&(a.value[3].items[1].content[0].desc="",a.value[3].items[2].hide=!1,a.value[3].items[2].checked=n.value.query_remind_type),n.value.query_receiver=e):"remind"===t&&(a.value[3].items[2].checked=e,n.value.query_remind_type=e),"groupchat_notify_receive"===t&&(1===e?a.value[4].items[1].hide=!0:2===e&&(a.value[4].items[1].hide=!1,a.value[4].items[1].checked=n.value.chat_group_notify)),"chat_group_notify"===t&&(a.value[4].items[1].checked=e,n.value.chat_group_notify=e)}}))},l=function(t){r(t.type,t.checked)};return{data:a,getSettings:s,handleCheckedChange:l}}},it=et,at=i("c34b");function ot(t){this["$style"]=at["default"].locals||at["default"]}var nt=Object(n["a"])(it,z,U,!1,ot,null,null),st=nt.exports,rt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Card",[i("Tab",{attrs:{cut:!1,tabs:t.tabs,newCurIndex:t.tabIndex,colum:0},on:{changeTab:t.changeTab}})],1),t.shieldType?i(t.shieldType,{key:t.shieldType,tag:"component",attrs:{loginUid:t.loginUid}}):t._e()],1)},lt=[],ct=(i("5319"),i("f51a")),ut=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Card",[i("div",{staticClass:"wbpro-setup__box"},[i("div",{staticClass:"wbpro-setup__tit"},[t._v("添加屏蔽用户")]),i("woo-box",{staticClass:"wbpro-setup__f1"},[i("woo-box-item",[i("woo-pop",{class:t.$style.pop,attrs:{show:t.isFocus},on:{"click-outside":t.closePop},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-input",{staticClass:"wbpro-setup__ipt1",attrs:{placeholder:"填写微博昵称","is-blur":t.isBlur},on:{focus:t.InputFocus},nativeOn:{keypress:function(t){t.stopPropagation()}},model:{value:t.searchInput,callback:function(e){t.searchInput="string"===typeof e?e.trim():e},expression:"searchInput"}})]},proxy:!0}])},[t.showUserOpt&&t.userList&&t.userList.length?i("woo-pop-wrap",{class:t.$style.popwrap},t._l(t.userList,(function(e){return i("woo-pop-item",{key:e.id,class:t.$style.popitem,nativeOn:{click:function(i){return i.stopPropagation(),t.toSelect(e.screen_name)}}},[t._v(" "+t._s(e.screen_name)+" ")])})),1):t._e()],1),i("div",{staticClass:"wbpro-setup__tip"},[i("span",{staticClass:"wbpro-setup__h5"},[t._v("你可以将用户加入屏蔽名单，并设置屏蔽范围")])])],1),i("div",{staticClass:"wbpro-setup__b3",on:{click:function(e){return e.stopPropagation(),t.toAdd()}}},[i("woo-button",{attrs:{sort:"flat",kind:"primary",disabled:!t.isFocus||!t.searchInput}},[t._v("添加")])],1)],1)],1),i("woo-divider",{staticClass:"wbpro-setup__line2"}),i("div",{staticClass:"wbpro-setup__box"},[i("div",{staticClass:"wbpro-setup__tit"},[t._v("已屏蔽用户")]),i("div",{class:t.$style.list},[i("Scroll",{attrs:{data:t.filteredUsers,isLoading:t.isLoading,isRetry:t.isRetry,isNoData:!1,isEmpty:t.isEmpty,isInCard:!1,showScrollBottom:!1},on:{loadMoreData:t.loadMoreData},scopedSlots:t._u([{key:"content",fn:function(e){var a=e.item;return[a?i("woo-box",{class:t.$style.itemin,attrs:{align:"center"}},[i("woo-avatar",{key:a.pic,class:[t.$style.avatar,t.$style.cursor],attrs:{size:50,src:a.pic},nativeOn:{click:function(e){return e.stopPropagation(),t.toProfile(a.title_sub)}}}),i("woo-box-item",{class:t.$style.cut,attrs:{align:"center"}},[a.title_sub?i("div",{staticClass:"wbpro-setup__h3",class:t.$style.cursor,domProps:{innerHTML:t._s(a.title_sub)},on:{click:function(e){return e.stopPropagation(),t.toProfile(a.title_sub)}}}):t._e(),a.desc1?i("div",{staticClass:"wbpro-setup__h5"},[t._v(" 屏蔽范围："+t._s(a.desc1)+" ")]):t._e()]),i("div",{class:t.$style.opt},[i("woo-button",{class:t.$style.btn,attrs:{sort:"line",kind:"default",size:"s"},nativeOn:{click:function(e){return t.setRange(a)}}},[t._v("设置范围")]),i("woo-button",{class:t.$style.btn,attrs:{sort:"line",kind:"default",size:"s"},nativeOn:{click:function(e){return t.deleteFiltered(a.title_sub)}}},[t._v("解除屏蔽")])],1)],1):t._e()]}}])})],1)])],1)},dt=[],ht=(i("a434"),i("d3b7"),i("2532"),i("b85c")),pt=i("6701"),ft={name:"ShieldUser",components:{Scroll:pt["a"]},setup:function(t,e){var i=e.root,a=Object(g["n"])(!1),o=Object(g["n"])(!1),n=Object(g["n"])(""),s=Object(g["n"])(!1),r=Object(g["n"])([]),l=Object(g["n"])([]),c=Object(g["n"])(!1),u=Object(g["n"])(!1),d=Object(g["n"])(!1),h=Object(g["n"])(!1),p=Object(g["n"])(1),f=Object(g["n"])([{value:!0,label:"不看他的微博"},{value:!0,label:"禁止他与我互动"},{value:!0,label:"禁止他关注我"}]);Object(g["k"])((function(){var t=i.$route.query.type;t&&"user"!==t||w()})),Object(g["s"])(n,(function(t){n.value=t,o.value||v(n.value)})),Object(g["s"])((function(){return q()(f.value)}),(function(t){var e=document.getElementsByClassName("woo-dialog-ctrl")[0];e&&(t[0].value||t[1].value||t[2].value?e.children[1].removeAttribute("disabled"):e.children[1].setAttribute("disabled",!0))}));var m=function(){a.value=!0,o.value=!1,v(n.value)},v=function(t){t&&i.$http.get("/ajax/setting/searchUsers",{params:{q:t}}).then((function(t){t.data&&t.data.ok&&(r.value=t.data.users,s.value=!0)}))},_=function(t){o.value=!0,n.value=t,s.value=!1},b=function(t,e){return e&&new Promise((function(a){i.$_w_dialog({type:"confirm",title:"屏蔽用户",message:"设置对@".concat(e," 的屏蔽范围，全选即为拉黑用户"),checkbox:t,cssClass:"wbpro-setup__keyword-dialogbtn",btnConfirm:"确定",action:function(){i.$http.post("/ajax/statuses/filterUser",{screen_name:e,status:f.value[0].value?1:0,interact:f.value[1].value?1:0,follow:f.value[2].value?1:0}).then((function(t){t.data&&t.data.ok&&i.$_w_toast({type:"success",message:"已屏蔽"}),a(t.data)}))}})}))},y=function(){var t,e=Object(ht["a"])(f.value);try{for(e.s();!(t=e.n()).done;){var i=t.value;i.value=!0}}catch(a){e.e(a)}finally{e.f()}b(f.value,n.value).then((function(t){t&&t.ok&&t.card&&t.is_new&&l.value.unshift({title_sub:n.value,pic:t.card.pic,desc1:t.card.desc1}),n.value="",l.value&&l.value.length&&(h.value=!1)}))},w=function(){c.value=!0,u.value=!1,i.$http.get("/ajax/setting/getFilteredUsers",{params:{page:p.value}}).then((function(t){if(c.value=!1,t.data&&t.data.ok){var e=t.data;l.value=l.value.concat(e.card_group),p.value++,c.value=!0,l.value&&l.value.length?e.next_cursor||(c.value=!1,d.value=!0):0!==e.card_group.length&&0!==e.next_cursor&&0!==e.total||(h.value=!0)}else c.value=!1,u.value=!0})).catch((function(){c.value=!1,u.value=!0}))},x=function(){w()},k=function(t){window.open("/n/".concat(t))},$=function(t){t&&(f.value.forEach((function(t){t.value=!0})),t.desc1.includes("微博")||(f.value[0].value=!1),t.desc1.includes("互动")||(f.value[1].value=!1),t.desc1.includes("关注")||(f.value[2].value=!1),b(f.value,t.title_sub).then((function(t){if(l.value&&l.value.length&&t&&t.card){var e=l.value.find((function(e){return e.title_sub===t.card.title_sub}));e&&(e.desc1=t.card.desc1)}})))},C=function(t){i.$_w_dialog({type:"confirm",title:"确认解除对此人的所有屏蔽吗？",btnConfirm:"解除屏蔽",action:function(){i.$http.post("/ajax/setting/deleteFilteredUser",{screen_name:t}).then((function(e){if(e.data&&e.data.ok&&(i.$_w_toast({type:"success",message:"已解除"}),l.value&&l.value.length)){var a=l.value.findIndex((function(e){return e.title_sub===t}));-1!==a&&l.value.splice(a,1),0===l.value.length&&(h.value=!0)}}))}})},O=function(){s.value=!1};return{isFocus:a,InputFocus:m,searchInput:n,showUserOpt:s,userList:r,toSelect:_,toAdd:y,filteredUsers:l,isLoading:c,isRetry:u,isNoData:d,isEmpty:h,loadMoreData:x,toProfile:k,setRange:$,deleteFiltered:C,closePop:O}}},mt=ft,vt=i("6f6b");function _t(t){this["$style"]=vt["default"].locals||vt["default"]}var gt=Object(n["a"])(mt,ut,dt,!1,_t,null,null),bt=gt.exports,yt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Card",[i("div",{staticClass:"wbpro-setup__box"},[i("div",{staticClass:"wbpro-setup__tit"},[t._v("添加屏蔽关键词")]),i("woo-box",{staticClass:"wbpro-setup__f1"},[i("woo-box-item",[i("woo-input",{staticClass:"wbpro-setup__ipt1",attrs:{placeholder:"填写关键词（1-10个字）","is-blur":t.isBlur},on:{focus:t.InputFocus},nativeOn:{keypress:function(t){t.stopPropagation()}},model:{value:t.searchInput,callback:function(e){t.searchInput="string"===typeof e?e.trim():e},expression:"searchInput"}}),i("div",{staticClass:"wbpro-setup__tip"},[i("span",{staticClass:"wbpro-setup__h5"},[t._v("关键词【微博中屏蔽】有效期30天，到期后自动解除。")])])],1),i("div",{staticClass:"wbpro-setup__b3"},[i("woo-button",{attrs:{sort:"flat",kind:"primary",disabled:t.showDisabledBtn},nativeOn:{click:function(e){return t.toAdd(t.searchInput)}}},[t._v("添加")])],1)],1)],1),i("woo-divider",{staticClass:"wbpro-setup__line2"}),i("div",{staticClass:"wbpro-setup__box"},[t.title?i("div",{staticClass:"wbpro-setup__tit"},[t._v(t._s(t.title))]):t._e(),i("div",{class:t.$style.list},[i("Scroll",{attrs:{data:t.list,isLoading:t.isLoading,isRetry:t.isRetry,isNoData:!1,isEmpty:t.isEmpty,isInCard:!1,showScrollBottom:!1},scopedSlots:t._u([{key:"content",fn:function(e){var a=e.item;return[a?i("woo-box",{class:t.$style.itemin,attrs:{align:"center"}},[i("woo-box-item",{class:t.$style.cut,attrs:{align:"center"}},[a.title_sub?i("div",{staticClass:"wbpro-setup__h3",domProps:{innerHTML:t._s(a.title_sub)}}):t._e(),a.desc?i("div",{staticClass:"wbpro-setup__h5"},[t._v(" 屏蔽范围："+t._s(a.desc)+" ")]):t._e()]),i("div",{class:t.$style.opt},[i("woo-button",{class:t.$style.btn,attrs:{sort:"line",kind:"default",size:"s"},nativeOn:{click:function(e){return t.deleteFilteredWords(a.title_sub)}}},[t._v("解除屏蔽")])],1)],1):t._e(),i("woo-divider")]}}])})],1)])],1)},wt=[],xt={name:"ShieldKeyWord",components:{Scroll:pt["a"]},setup:function(t,e){var i=e.root,a=Object(g["n"])(!1),o=Object(g["n"])(!1),n=Object(g["n"])(""),s=Object(g["n"])([{value:!0,label:"在微博中屏蔽",info:"包含关键词的微博不在信息流、消息箱中展示（VIP7支持屏蔽广告在信息流中展示）"},{value:!0,label:"在互动中屏蔽",info:"包含关键词的评论、转发、未关注人私信将被隐藏"}]),r=(Object(g["n"])(""),Object(g["n"])([])),l=Object(g["n"])(""),c=Object(g["n"])(!1),u=Object(g["n"])(!1),d=Object(g["n"])(!1),h=Object(g["n"])(!1);Object(g["k"])((function(){"keyword"===i.$route.query.type&&v()})),Object(g["s"])((function(){return q()(s.value)}),(function(t){t[0].value||t[1].value?document.getElementsByClassName("woo-dialog-ctrl")[0].children[1].removeAttribute("disabled"):document.getElementsByClassName("woo-dialog-ctrl")[0].children[1].setAttribute("disabled",!0)}));var p=Object(g["a"])((function(){return!a.value||!n.value||n.value&&n.value.length>10})),f=function(){a.value=!0,o.value=!1},m=function(t){t&&i.$_w_dialog({type:"confirm",title:"设置屏蔽范围",btnConfirm:"确定",checkbox:s.value,cssClass:"wbpro-setup__keyword-dialogbtn",action:function(){(s.value[0].value||s.value[1].value)&&i.$http.post("/ajax/setting/updateBlockWords",{value:t,status:s.value[0].value?1:0,comment:s.value[1].value?1:0}).then((function(t){if(t.data&&t.data.ok&&t.data.card){n.value="",i.$_w_toast({type:"success",message:"已屏蔽"}),r.value.unshift(t.data.card);var e=r.value.length;l.value="已屏蔽关键词(".concat(e,"/50)"),e&&(h.value=!1)}else{var a=t.data,o=a.error_code,s=a.title,c=a.message,u=a.btnCancel,d=a.btnConfirm,p=a.target_url;21140===o?i.$_w_dialog({type:"confirm",title:s,message:c,btnCancel:u,btnConfirm:d,action:function(){window.open(p)}}):i.$_w_toast({type:"error",message:c||"添加失败"})}}))}})},v=function(){c.value=!0,u.value=!1,i.$http.get("/ajax/setting/getFilteredWords",{}).then((function(t){if(c.value=!1,t.data&&t.data.ok){var e=t.data;e.title&&(l.value=e.title),r.value=r.value.concat(e.card_group),r.value&&r.value.length?e.next_cursor||(c.value=!1,d.value=!0):0!==e.card_group.length&&0!==e.next_cursor&&0!==e.total||(h.value=!0)}else c.value=!1,u.value=!1})).catch((function(){c.value=!1,u.value=!0}))},_=function(t){i.$_w_dialog({type:"confirm",title:"确认解除对此关键字的所有屏蔽吗？",btnConfirm:"解除屏蔽",action:function(){i.$http.post("/ajax/setting/deleteFilteredWords",{value:t}).then((function(e){if(e.data&&e.data.ok&&(i.$_w_toast({type:"success",message:"已解除"}),r.value&&r.value.length)){var a=r.value.findIndex((function(e){return e.title_sub===t}));if(-1!==a){r.value.splice(a,1);var o=r.value.length;l.value="已屏蔽关键词(".concat(o,"/50)"),o||(h.value=!0)}}}))}})};return{isFocus:a,isBlur:o,InputFocus:f,searchInput:n,showDisabledBtn:p,list:r,title:l,isLoading:c,isRetry:u,isNoData:d,isEmpty:h,toAdd:m,deleteFilteredWords:_}}},kt=xt,$t=i("8c95");function Ct(t){this["$style"]=$t["default"].locals||$t["default"]}var Ot=Object(n["a"])(kt,yt,wt,!1,Ct,null,null),jt=Ot.exports,Tt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Card",[i("div",{staticClass:"wbpro-setup__box"},[i("div",{staticClass:"wbpro-setup__tit"},[t._v("已屏蔽微博")]),i("div",{class:t.$style.list},[i("Scroll",{attrs:{data:t.status,isLoading:t.isLoading,isRetry:t.isRetry,isNoData:!1,isEmpty:t.isEmpty,isInCard:!1,showScrollBottom:!1},on:{loadMoreData:t.loadMoreData},scopedSlots:t._u([{key:"content",fn:function(e){var a=e.item;return[a?i("div",{class:t.$style.itembox,on:{click:function(e){return t.toDetail(a.mblogid)}}},[i("woo-box",{class:t.$style.itemin,attrs:{align:"center"}},[a.pic?i("woo-picture",{class:t.$style.pic,attrs:{src:a.pic,alt:""}}):t._e(),i("woo-box-item",{class:t.$style.cut,attrs:{align:"center"}},[a.title_sub?i("div",{staticClass:"wbpro-setup__h3",domProps:{innerHTML:t._s(a.title_sub)}}):t._e(),a.desc1?i("div",{staticClass:"wbpro-setup__h5",class:t.$style.cut2,domProps:{innerHTML:t._s(a.desc1)}}):t._e()]),i("div",{class:t.$style.opt},[i("woo-button",{class:t.$style.btn,attrs:{sort:"line",kind:"default",size:"s"},nativeOn:{click:function(e){return e.stopPropagation(),t.deleteFiltered(a.mid)}}},[t._v("解除屏蔽")])],1)],1),i("woo-divider")],1):t._e()]}}])})],1)])])},Dt=[],St=i("8d7e"),It={name:"ShieldWeibo",components:{Scroll:pt["a"]},setup:function(t,e){var i=e.root,a=Object(g["n"])([]),o=Object(g["n"])(1),n=Object(g["n"])(!1),s=Object(g["n"])(!1),r=Object(g["n"])(!1),l=Object(g["n"])(!1);Object(g["k"])((function(){"weibo"===i.$route.query.type&&d()}));var c=Object(St["b"])(["config"]),u=c.config,d=function(){n.value=!0,s.value=!1,i.$http.get("/ajax/setting/getFilteredStatus",{params:{page:o.value}}).then((function(t){if(n.value=!1,t.data&&t.data.ok){var e=t.data;a.value=a.value.concat(e.card_group),o.value++,n.value=!0,a.value&&a.value.length?e.next_cursor||(n.value=!1,r.value=!0):0!==e.card_group.length&&0!==e.next_cursor&&0!==e.total||(l.value=!0)}else n.value=!1,s.value=!1})).catch((function(){n.value=!1,s.value=!0}))},h=function(){d()},p=function(t){i.$_w_dialog({type:"confirm",title:"确认解除该微博吗？",btnConfirm:"解除屏蔽",action:function(){i.$http.post("/ajax/setting/deleteFilteredStatus",{status_id:t}).then((function(e){if(e.data&&e.data.ok&&(i.$_w_toast({type:"success",message:"已解除"}),a.value&&a.value.length)){var o=a.value.findIndex((function(e){return e.mid===t}));-1!==o&&a.value.splice(o,1),0===a.value.length&&(l.value=!0)}}))}})},f=function(t){var e,i;t&&(null===(e=u.value)||void 0===e||null===(i=e.user)||void 0===i?void 0:i.id)&&window.open("/".concat(u.value.user.id,"/").concat(t))};return{status:a,isLoading:n,isRetry:s,isNoData:r,isEmpty:l,getFilteredStatus:d,loadMoreData:h,deleteFiltered:p,toDetail:f}}},Lt=It,Bt=i("7f04");function Pt(t){this["$style"]=Bt["default"].locals||Bt["default"]}var At=Object(n["a"])(Lt,Tt,Dt,!1,Pt,null,null),Et=At.exports,Mt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Card",[i("div",{staticClass:"wbpro-setup__box"},[i("div",{staticClass:"wbpro-setup__tit"},[t._v("已屏蔽小助理")]),i("div",{class:t.$style.list},[i("Scroll",{attrs:{data:t.filteredUsers,isLoading:t.isLoading,isRetry:t.isRetry,isNoData:!1,isEmpty:t.isEmpty,isInCard:!1,showScrollBottom:!1},on:{loadMoreData:t.loadMoreData},scopedSlots:t._u([{key:"content",fn:function(e){var a=e.item;return[a?i("woo-box",{class:t.$style.itemin,attrs:{align:"center",justify:"between"}},[i("a",{directives:[{name:"log",rawName:"v-log:click",value:t.getClickLog(a.scheme),expression:"getClickLog(item.scheme)",arg:"click"}],class:t.$style.href,attrs:{target:"_blank",href:t.getProfilePath(a.title_sub)}},[i("woo-box",{attrs:{align:"center"}},[i("woo-avatar",{key:a.pic,class:[t.$style.avatar,t.$style.cursor],attrs:{size:50,"verified-title":"个人认证",src:a.pic}}),i("woo-box-item",{class:t.$style.cut,attrs:{align:"center",basis:"auto",shrink:0}},[a.title_sub?i("div",{staticClass:"wbpro-setup__h3",class:t.$style.cursor,domProps:{innerHTML:t._s(a.title_sub)}}):t._e()]),a.icon?i("woo-box-item",{class:t.$style.icon,attrs:{align:"center"}},[i("img",{attrs:{src:a.icon.url,alt:a.name}})]):t._e()],1)],1),i("div",{class:t.$style.opt},[i("woo-button",{class:t.$style.btn,attrs:{sort:"line",kind:"default",size:"s"},nativeOn:{click:function(e){return t.deleteFiltered(a.title_sub)}}},[t._v(" 解除屏蔽 ")])],1)]):t._e()]}}])})],1)])])},Ft=[],Rt=(i("a15b"),i("3ca3"),i("ddb0"),i("2b3d"),{props:{loginUid:String},components:{Scroll:pt["a"]},setup:function(t,e){var i=e.root,a=Object(g["n"])([]),o=Object(g["n"])(!1),n=Object(g["n"])(!1),s=Object(g["n"])(!1),r=Object(g["n"])(!1),l=Object(g["n"])(1),c=function(){o.value=!0,n.value=!1,i.$http.get("/ajax/setting/getFilteredAssistant",{params:{page:l.value}}).then((function(t){if(o.value=!1,t.data&&t.data.ok){var e=t.data;a.value=a.value.concat(e.card_group),l.value++,o.value=!0,a.value&&a.value.length?e.next_cursor||(o.value=!1,s.value=!0):0!==e.card_group.length&&0!==e.next_cursor&&0!==e.total||(r.value=!0)}else o.value=!1,n.value=!0})).catch((function(){o.value=!1,n.value=!0}))},u=function(){c()},d=function(t){return"/n/".concat(t)},h=function(t){i.$_w_dialog({type:"confirm",title:"确认解除对此人小助手的屏蔽吗？",btnConfirm:"解除屏蔽",action:function(){i.$http.post("/ajax/setting/deleteFilteredAssistant",{screen_name:t}).then((function(e){if(e.data&&e.data.ok&&(i.$_w_toast({type:"success",message:"已解除"}),a.value&&a.value.length)){var o=a.value.findIndex((function(e){return e.title_sub===t}));-1!==o&&a.value.splice(o,1),0===a.value.length&&(r.value=!0)}}))}})};function p(t){return new URLSearchParams(t).get("uid")}function f(e){var i=p(e),a=String(t.loginUid)===i,o=["source:blocklist","visit_uid:".concat(t.loginUid),"visited_uid:".concat(i),"owner:".concat(a),"time:".concat(+new Date/1e3)];return[{act_code:6306,ext:o.join("|")}]}return Object(g["k"])((function(){c()})),{filteredUsers:a,isLoading:o,isRetry:n,isNoData:s,isEmpty:r,loadMoreData:u,getProfilePath:d,deleteFiltered:h,getClickLog:f}}}),Vt=Rt,Nt=i("92b3");function Ht(t){this["$style"]=Nt["default"].locals||Nt["default"]}var zt=Object(n["a"])(Vt,Mt,Ft,!1,Ht,null,null),Ut=zt.exports,Gt={name:"Shield",metaInfo:function(){return{title:"屏蔽设置"}},components:{Tab:ct["a"],ShieldUser:bt,ShieldKeyword:jt,ShieldWeibo:Et,ShieldAiAssistant:Ut},setup:function(t,e){var i=e.root,a=Object(St["b"])(["config"]),o=a.config,n=Object(g["a"])((function(){var t;return null===(t=o.value)||void 0===t?void 0:t.user.idstr})),s=Object(g["n"])([{name:"屏蔽用户"},{name:"屏蔽关键词"},{name:"屏蔽微博"},{name:"屏蔽的小助理"}]),r=Object(g["n"])(0);Object(g["k"])((function(){var t=i.$route.query.type;t||i.$router.replace({name:"shield",query:{type:"user"}}),c(t)}));var l=Object(g["a"])((function(){switch(r.value){case 0:return"shield-user";case 1:return"shield-keyword";case 2:return"shield-weibo";case 3:return"shield-ai-assistant"}}));Object(g["s"])((function(){return i.$route.query.type}),(function(t){t&&(c(t),u("",r.value))}));var c=function(t){switch(t){case"user":r.value=0;break;case"keyword":r.value=1;break;case"weibo":r.value=2;break;case"ai-assistant":r.value=3;break}},u=function(t,e){r.value=e;var a="";switch(e){case 0:a="user";break;case 1:a="keyword";break;case 2:a="weibo";break;case 3:a="ai-assistant";break}i.$router.push({name:"shield",query:{type:a}})};return{tabs:s,tabIndex:r,shieldType:l,changeTab:u,loginUid:n}}},qt=Gt,Wt=i("7f5c");function Qt(t){this["$style"]=Wt["default"].locals||Wt["default"]}var Jt=Object(n["a"])(qt,rt,lt,!1,Qt,null,null),Kt=Jt.exports,Yt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Card",[i("div",{staticClass:"wbpro-setup__box"},[i("div",{staticClass:"wbpro-setup__tit"},[t._v("视频水印设置")]),i("div",{staticClass:"wbpro-setup__f3"},[i("div",[i("div",{staticClass:"wbpro-setup__h3"},[t._v("微博视频上是否显示水印")])]),i("div",{staticClass:"wbpro-setup__b2"},[i("multiselect",{staticClass:"wbpro-setup__ipt4 wbpro-setup__ipt6",attrs:{allowEmpty:!1,label:"label","track-by":"value",options:t.videoWatermarkOptions,"show-labels":!1,searchable:!1,placeholder:""},on:{select:t.handleVideoWatermarkSelect},model:{value:t.videoWatermarkSelected,callback:function(e){t.videoWatermarkSelected=e},expression:"videoWatermarkSelected"}})],1)])]),i("woo-divider",{staticClass:"wbpro-setup__line2"}),i("div",{staticClass:"wbpro-setup__box"},[i("div",{staticClass:"wbpro-setup__tit"},[t._v("图片水印设置")]),i("div",{staticClass:"wbpro-setup__f3"},[i("div",[i("div",{staticClass:"wbpro-setup__h3"},[t._v("微博图片上是否显示水印")])]),i("div",{staticClass:"wbpro-setup__b2"},[i("multiselect",{staticClass:"wbpro-setup__ipt4 wbpro-setup__ipt6",attrs:{allowEmpty:!1,options:t.watermarkOptions,"show-labels":!1,searchable:!1,placeholder:""},model:{value:t.watermarkSelected,callback:function(e){t.watermarkSelected=e},expression:"watermarkSelected"}})],1)]),"显示"===t.watermarkSelected?i("div",{staticClass:"wbpro-setup__f4"},[i("div",{staticClass:"wbpro-setup__h3"},[t._v("水印位置")]),i("woo-box",{staticClass:"wbpro-setup__f1",attrs:{"gap-row":30}},t._l(t.watermarkPosOptions,(function(e,a){return i("woo-box-item",{key:a},[i("woo-box",{attrs:{direction:"y",align:"center"}},[i("woo-picture",{class:t.$style.pic,attrs:{"aspect-ratio":.611,src:"//h5.sinaimg.cn/upload/1005/891/2021/07/08/bgimg.png"}},[i("woo-box",{class:[t.$style.pos,t.$style["pos"+(a+1)]],attrs:{align:"center"}},[i("woo-fonticon",{class:t.$style.logo,attrs:{value:"weibo"}}),i("div",{class:t.$style.nc},[t._v("@你的昵称")])],1)],1),e.name?i("woo-radio",{attrs:{value:e.value},model:{value:t.watermarkPosSelected,callback:function(e){t.watermarkPosSelected=e},expression:"watermarkPosSelected"}},[t._v(t._s(e.name))]):t._e()],1)],1)})),1)],1):t._e()]),i("woo-divider",{staticClass:"wbpro-setup__line2"}),i("div",{staticClass:"wbpro-setup__box"},[i("div",{staticClass:"wbpro-setup__tit"},[t._v("皮肤")]),i("div",{staticClass:"wbpro-setup__f3"},[i("div",[i("div",{staticClass:"wbpro-setup__h3"},[t._v("网站深色模式")])]),i("div",{staticClass:"wbpro-setup__b2"},[i("woo-switch",{on:{change:t.changeDarkMode},model:{value:t.checkDarkMode,callback:function(e){t.checkDarkMode=e},expression:"checkDarkMode"}})],1)])])],1)},Xt=[],Zt={name:"Prefer",metaInfo:function(){return{title:"偏好设置"}},components:{Multiselect:m.a},setup:function(){g["d"];var t=Object(g["d"])().proxy,e=Object(g["n"])(null),i=Object(g["n"])([{label:"显示",value:1},{label:"不显示",value:0}]),a=Object(g["n"])(""),o=Object(g["n"])(["显示","不显示"]),n=Object(g["n"])(0),s=Object(g["n"])([{value:1,name:"底部居右"},{value:2,name:"底部居中"},{value:3,name:"图片中心"}]),r=Object(g["n"])(!1),l=Object(g["n"])("原画质"),c=Object(g["n"])(["原画质","超清1080P","高清720P","标清480P"]),u=Object(g["n"])(!1);Object(g["k"])((function(){h(),t.$Bus.$on("updateDarkSet",v),t.$once("hook:beforeDestroy",(function(){t.$Bus.$off("updateDarkSet",v)})),u.value=!(!t.$store.getters.darkMode||!t.$store.getters.darkMode.mode)})),Object(g["s"])([a,n],(function(t,e){if(e[0]&&e[1]){var i={};if("显示"===t[0]){if(r.value&&1===t[1])return void(r.value=!1);var a=n.value;"不显示"===e[0]&&(r.value=!0,a=""),i={nickname:1,logo:1,domain:1,position:a}}else"不显示"===t[0]&&(i={nickname:0,logo:0,domain:0});p(i)}}));var d=function(t){e.value=Object(g["q"])(i).find((function(e){return e.value===t}))},h=function(){t.$http.get("/ajax/setting/getWatermark",{}).then((function(t){if(t.data&&t.data.ok){var e=t.data;a.value=e.nickname||e.logo||e.domain?"显示":"不显示",n.value=e.position,d(t.data.videoWatermark)}}))},p=function(e){t.$http.post("/ajax/setting/updateWatermark",e).then((function(e){if(e.data&&e.data.ok){var i=e.data,o=t.$store.getters.config;"显示"===a.value?o.user.watermark={markpos:i.position,nick:i.nickname?"@".concat(o.user.screen_name):0}:o.user.watermark={},t.$store._actions.updateConfig[0](o)}}))},f=function(e){t.$http.post("/ajax/setting/updateVideoWatermark",{video_watermark:e}).then((function(t){t.data&&0===t.data.ok&&d(+!e)})).catch((function(){d(+!e)}))},m=function(){t.$Bus.$emit("changeDarkSet")},v=function(t){u.value=!!t},_=function(t){f(t.value)};return{watermarkSelected:a,watermarkOptions:o,watermarkPosSelected:n,watermarkPosOptions:s,videoSelected:l,videoOptions:c,checkDarkMode:u,changeDarkMode:m,videoWatermarkSelected:e,videoWatermarkOptions:i,handleVideoWatermarkSelect:_}}},te=Zt,ee=i("caf1");function ie(t){this["$style"]=ee["default"].locals||ee["default"]}var ae=Object(n["a"])(te,Yt,Xt,!1,ie,null,null),oe=ae.exports,ne=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Card",[i("div",{staticClass:"wbpro-setup__box"},[i("div",{staticClass:"wbpro-setup__tit"},[t._v("账号信息设置")]),i("Avatar"),i("InputItem",{attrs:{"is-focus":t.isFocus,title:"昵称",showIcon:"",min:4,max:30,desc:"4～30个字符，支持中英文、数字","input-active":t.nameInputActive},on:{save:t.handleSaveName,cancel:t.handleCancelName,"update:inputActive":function(e){t.nameInputActive=e},"update:input-active":function(e){t.nameInputActive=e}},scopedSlots:t._u([{key:"popSlot",fn:function(){return[i("div",{class:t.$style.popText},[i("h4",{staticClass:"fb"},[t._v("修改昵称")]),i("p",[t._v(" 1、用户你好，微博允许普通用户一年修改一次昵称，请谨慎交，橙V、蓝V认证用户修改次数详细规则 "),i("a",{attrs:{target:"_blank",href:"https://kefu.weibo.com/faqdetail?id=532"}},[t._v("查看详情规则")]),i("br"),i("br"),t._v(" 2、微博年会员最多可修改5次/年 "),i("a",{attrs:{target:"_blank",href:"https://pay.vip.weibo.com/vippay?from=tq_pbkeywords_pc"}},[t._v("立即开通会员")])])])]},proxy:!0}]),model:{value:t.nickanme,callback:function(e){t.nickanme=e},expression:"nickanme"}}),t.showNicktip?i("div",{class:t.$style.nickTip},[t._v(" 根据《互联网用户账号信息管理规定》，无资质账号不得使用官方机构、新闻媒体和特定人员相关昵称。请于"),i("span",[t._v(t._s(t.nickValidtime))]),t._v("前通过本页面完成昵称修改 ")]):t._e(),i("InputItem",{attrs:{placeholder:"介绍一下自己吧",title:"简介",desc:"1～140个字符",min:0,max:140,"input-active":t.descInputActive},on:{save:t.handleSaveDesc,cancel:t.handleCancelDesc,"update:inputActive":function(e){t.descInputActive=e},"update:input-active":function(e){t.descInputActive=e}},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),i("InputItem",{attrs:{prefix:t.prefixDomain,title:"个性域名",desc:"4~20个字符的数字或字母，个性域名设置后不可更改",disabled:t.domainDisabled,"input-active":t.domainInputActive,min:4,max:20,"origin-value":t.originVal,"enable-custom-input":t.domainDisabled},on:{save:t.handleSaveDomain,cancel:t.handleCancelDomain,"update:inputActive":function(e){t.domainInputActive=e},"update:input-active":function(e){t.domainInputActive=e}},scopedSlots:t._u([{key:"customInput",fn:function(){return[i("woo-box",{class:t.$style.domain,attrs:{align:"center",justify:"between"}},[i("div",[t._v(t._s(t.domain))]),i("a",{class:t.$style.copyLink,on:{click:t.copyLink}},[t._v("复制链接")])])]},proxy:!0}]),model:{value:t.domain,callback:function(e){t.domain=e},expression:"domain"}})],1),i("woo-divider",{staticClass:"wbpro-setup__line1"}),i("div",{staticClass:"wbpro-setup__box"},[i("div",{staticClass:"wbpro-setup__tit"},[t._v("个人基本资料")]),i("woo-box",{staticClass:"wbpro-setup__f1"},[i("woo-box",{staticClass:"wbpro-setup__b1",attrs:{align:"center",justify:"end"}},[i("div",{staticClass:"wbpro-setup__h3"},[t._v("性别")])]),i("woo-box-item",[i("woo-box",{staticClass:"wbpro-setup__ipt2",attrs:{align:"center"}},[i("woo-radio",{attrs:{value:"m"},on:{change:t.genderChange},model:{value:t.gender,callback:function(e){t.gender=e},expression:"gender"}},[t._v(" 男 ")]),i("woo-radio",{attrs:{value:"f"},on:{change:t.genderChange},model:{value:t.gender,callback:function(e){t.gender=e},expression:"gender"}},[t._v(" 女 ")])],1)],1)],1),i("woo-box",{staticClass:"wbpro-setup__f1"},[i("woo-box",{staticClass:"wbpro-setup__b1",attrs:{align:"center",justify:"end"}},[i("div",{staticClass:"wbpro-setup__h3"},[t._v("生日")])]),i("woo-box-item",[i("woo-box",{attrs:{align:"center"}},[i("multiselect",t._b({model:{value:t.year,callback:function(e){t.year=e},expression:"year"}},"multiselect",t.yearProperty,!1)),i("multiselect",t._b({model:{value:t.month,callback:function(e){t.month=e},expression:"month"}},"multiselect",t.monthProperty,!1)),i("multiselect",t._b({model:{value:t.day,callback:function(e){t.day=e},expression:"day"}},"multiselect",t.daysProperty,!1)),t.getConstellationByBirthday(t.year+"-"+t.month+"-"+t.day)?i("woo-box",{class:t.$style.constellation,attrs:{justify:"end",align:"center"}},[i("div",{class:t.$style.constellationText},[t._v(" 仅显示 "+t._s(t.getConstellationByBirthday(t.year+"-"+t.month+"-"+t.day))+" ")]),i("woo-switch",{attrs:{offValue:3,onValue:2},on:{change:t.handleBirthdayVisibleChange},model:{value:t.birthdayVisible,callback:function(e){t.birthdayVisible=e},expression:"birthdayVisible"}})],1):t._e()],1)],1)],1),i("woo-box",{staticClass:"wbpro-setup__f1"},[i("woo-box",{staticClass:"wbpro-setup__b1",attrs:{align:"center",justify:"end"}},[i("div",{staticClass:"wbpro-setup__h3"},[t._v("感情状况")])]),i("woo-box-item",[i("woo-box",{staticClass:"wbpro-setup__ipt3",attrs:{align:"center"}},[i("multiselect",t._b({on:{select:t.handleEmotionSelect},model:{value:t.emotion,callback:function(e){t.emotion=e},expression:"emotion"}},"multiselect",t.emotionProperty,!1))],1)],1)],1),i("woo-box",{staticClass:"wbpro-setup__f1"},[i("woo-box",{staticClass:"wbpro-setup__b1",attrs:{align:"center",justify:"end"}},[i("div",{staticClass:"wbpro-setup__h3"},[t._v("所在地")])]),i("woo-box-item",[i("woo-box",{attrs:{align:"center"}},[i("multiselect",t._b({model:{value:t.areaProvince,callback:function(e){t.areaProvince=e},expression:"areaProvince"}},"multiselect",t.provinceProperty,!1)),t.areaCityVisible?i("multiselect",t._b({scopedSlots:t._u([{key:"noOptions",fn:function(){return[t._v(" 暂无数据 ")]},proxy:!0}],null,!1,646901200),model:{value:t.areaCity,callback:function(e){t.areaCity=e},expression:"areaCity"}},"multiselect",t.areaCityProperty,!1)):t._e()],1)],1)],1),i("woo-box",{staticClass:"wbpro-setup__f1"},[i("woo-box",{staticClass:"wbpro-setup__b1",attrs:{align:"center",justify:"end"}},[i("div",{staticClass:"wbpro-setup__h3"},[t._v("家乡")])]),i("woo-box-item",[i("woo-box",{attrs:{align:"center"}},[i("multiselect",t._b({attrs:{trackBy:"value",label:"label"},model:{value:t.hometownProvince,callback:function(e){t.hometownProvince=e},expression:"hometownProvince"}},"multiselect",t.provinceProperty,!1)),t.hometownCityVisible?i("multiselect",t._b({attrs:{trackBy:"value",label:"label"},scopedSlots:t._u([{key:"noOptions",fn:function(){return[t._v(" 暂无数据 ")]},proxy:!0}],null,!1,646901200),model:{value:t.hometownCity,callback:function(e){t.hometownCity=e},expression:"hometownCity"}},"multiselect",t.hometownCityProperty,!1)):t._e()],1)],1)],1),i("woo-divider",{staticClass:"wbpro-setup__f1"}),i("School",{attrs:{data:t.schools}}),i("woo-divider",{staticClass:"wbpro-setup__f1"}),i("Career",{attrs:{data:t.careers,"career-list":t.careerList,province:t.careerProvince,city:t.careerCity}}),0!==t.authStatus?[i("woo-divider",{staticClass:"wbpro-setup__f1"}),t.showTip?i("div",{class:t.$style.tips},[t.tipsUrl?i("a",{class:t.$style.tipsUrl,attrs:{target:"_blank",href:t.tipsUrl}},[i("woo-tip",{staticClass:"tip",attrs:{type:"warn",sort:"flat"}},[t._v(" "+t._s(t.tips)+" ")])],1):i("woo-tip",{staticClass:"tip",attrs:{type:"warn",sort:"flat"}},[t._v(" "+t._s(t.tips)+" ")])],1):t._e(),i("woo-box",{staticClass:"wbpro-setup__f1"},[i("woo-box",{staticClass:"wbpro-setup__b1",attrs:{align:"center",justify:"end"}},[i("div",{staticClass:"wbpro-setup__h3"},[t._v("身份认证")])])],1),i("woo-box",{staticClass:"wbpro-setup__f1"},[i("woo-box",{staticClass:"wbpro-setup__b1",attrs:{align:"center",justify:"end"}},[i("div",{staticClass:"wbpro-setup__h4"},[t._v("姓名")])]),i("woo-box-item",{attrs:{align:"center"}},[i("woo-box",{staticClass:"wbpro-setup__h4",class:t.$style.target,attrs:{justify:"end",align:"center"}},[i("QrcodeContainer",{class:t.$style.qr,attrs:{show:t.show1,shareText:"sinaweibo://userdetailinfov2?uid="+t.uid,tipText:"请使用v13.10.2版本以上微博客户端扫码完成认证"}}),i("span",{on:{mouseenter:function(e){t.show1=!0},mouseleave:function(e){t.show1=!1}}},[t._v(t._s(t.authRealName))]),i("woo-fonticon",{attrs:{value:"angleRight"}})],1)],1)],1),i("woo-box",{staticClass:"wbpro-setup__f1"},[i("woo-box",{staticClass:"wbpro-setup__b1",attrs:{align:"center",justify:"end"}},[i("div",{staticClass:"wbpro-setup__h4"},[t._v("职业")])]),i("woo-box-item",{attrs:{align:"center"}},[i("woo-box",{staticClass:"wbpro-setup__h4",class:t.$style.target,attrs:{justify:"end",align:"center"}},[i("QrcodeContainer",{class:t.$style.qr,attrs:{show:t.show2,shareText:"sinaweibo://userdetailinfov2?uid="+t.uid,tipText:"请使用v13.10.2版本以上微博客户端扫码完成认证"}}),i("span",{on:{mouseenter:function(e){t.show2=!0},mouseleave:function(e){t.show2=!1}}},[t._v(t._s(t.authCareer))]),i("woo-fonticon",{attrs:{value:"angleRight"}})],1)],1)],1)]:t._e()],2)],1)},se=[],re=(i("a4d3"),i("e01a"),i("a623"),i("9129"),i("b64b"),i("4d63"),i("25f0"),i("466d"),i("498a"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.picbox},[i("woo-picture",{class:t.$style.pic,attrs:{src:t.config.user.avatar_large,border:!1,"hover-mask":!1},nativeOn:{click:function(e){t.showpop=!0}}},[i("woo-box",{class:t.$style.picin,attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{class:t.$style.picicon,attrs:{value:"camera"}})],1)],1),i("woo-modal",{directives:[{name:"show",rawName:"v-show",value:t.showpop,expression:"showpop"}],attrs:{animation:"slide-bottom","lock-screen":t.visable},nativeOn:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"wbpro-layer"},[i("woo-panel",{attrs:{border:"bottom"}},[i("woo-box",{staticClass:"wbpro-layer-tit"},[i("woo-box-item",{staticClass:"wbpro-layer-tit-text",attrs:{align:"center"}},[t._v("编辑头像")]),i("woo-box",{staticClass:"wbpro-layer-tit-opt",attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"cross"},nativeOn:{click:function(e){return t.cancel(e)}}})],1)],1)],1),i("woo-box",{class:t.$style.editbox,attrs:{justify:"between"}},[i("div",{class:t.$style.blt},[i("Cropper",{ref:"cropper",attrs:{aspectRatio:1,height:360,options:{preview:".wb_copper_preview, .wb_copper_preview1",sType:"weibo_croppeer"}}}),i("woo-box",{class:t.$style.bltb,attrs:{align:"center",justify:"between"}},[i("woo-button",{attrs:{sort:"simple",kind:"primary"},nativeOn:{click:function(e){return e.stopPropagation(),t.$refs.file.click(e)}}},[t._v("更换头像")]),i("woo-button",{attrs:{sort:"simple",kind:"primary",fonticon:"rotateR"},nativeOn:{click:function(e){return t.rotate(e)}}},[t._v("90度旋转")])],1)],1),i("woo-box",{class:t.$style.brt,attrs:{direction:"y",align:"center"}},[i("div",{class:t.$style.tit},[t._v("头像预览")]),i("div",{staticClass:"wb_copper_preview1",class:[t.$style.face,t.$style.face1]}),i("div",{class:t.$style.text},[t._v("100x100px")]),i("div",{staticClass:"wb_copper_preview",class:[t.$style.face,t.$style.face2]}),i("div",{class:t.$style.text},[t._v("50x50px")])])],1),i("woo-box",{staticClass:"wbpro-layer-btn",attrs:{justify:"center"}},[i("woo-button",{staticClass:"wbpro-layer-btn-item",attrs:{sort:"flat",kind:"default"},nativeOn:{click:function(e){return t.cancel(e)}}},[t._v("取消")]),i("woo-button",{staticClass:"wbpro-layer-btn-item",attrs:{sort:"flat",kind:"primary"},nativeOn:{click:function(e){return e.stopPropagation(),t.ok(e)}}},[t._v("保存")])],1)],1)]),i("input",{ref:"file",class:t.$style.file,attrs:{type:"file",accept:".jpg, .jpeg, .bmp, .gif, .png"},on:{change:t.change}})],1)}),le=[],ce=i("2f62"),ue=i("4fa9"),de={data:function(){return{showpop:!1,okDisabled:!1,type:"text",next:function(){}}},computed:Object(d["a"])({},Object(ce["c"])(["config"])),components:{Cropper:ue["a"]},watch:{showpop:function(t){t&&this.$refs.cropper.setSrc(this.config.user.avatar_large)}},methods:Object(d["a"])(Object(d["a"])({},Object(ce["b"])(["updateConfigUserKeys"])),{},{change:function(t){this.$refs.cropper.setSrc(URL.createObjectURL(t.target.files[0]))},cancel:function(){this.showpop=!1},rotate:function(){this.$refs.cropper.rotate(90)},ok:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.okDisabled=!0,e.prev=1,e.next=4,t.$refs.cropper.getWeiboURL(!0,!0,{width:600,height:600});case 4:return i=e.sent,a=function(t){return new Promise((function(e){var i=new FileReader;i.onload=function(t){return e(t.target.result)},i.onerror=function(){return e("")},i.readAsArrayBuffer(t)}))},e.next=8,a(i);case 8:e.sent,o=new FormData,o.append("image",i,"avatar.png"),t.$http.post("/ajax/account/avatarUpload",o).then((function(e){var a;if(null===(a=e.data)||void 0===a?void 0:a.error)t.$_w_toast({type:"warn",message:e.data.error});else{t.showpop=!1;var o=e.data,n=o.avatar_hd,s=o.avatar_large,r=o.profile_image_url;t.updateConfigUserKeys({avatar_hd:n,avatar_large:s,profile_image_url:r}),t.next&&t.next("ok",i.url,i&&i.pid)}})),e.next=16;break;case 14:e.prev=14,e.t0=e["catch"](1);case 16:t.okDisabled=!1;case 17:case"end":return e.stop()}}),e,null,[[1,14]])})))()}}),mounted:function(){}},he=de,pe=i("099a");function fe(t){this["$style"]=pe["default"].locals||pe["default"]}var me=Object(n["a"])(he,re,le,!1,fe,null,null),ve=me.exports,_e=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{staticClass:"wbpro-setup__f1"},[i("woo-box",{staticClass:"wbpro-setup__b1",attrs:{align:"center",justify:"end"}},[i("div",{staticClass:"wbpro-setup__h3"},[t._v(t._s(t.title))]),t.showIcon?i("woo-pop",{class:t.$style.help,attrs:{show:t.showPop,direction:"down",align:"start",gap:"10"},on:{"click-outside":function(e){t.showPop=!1}},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-fonticon",{class:t.$style.helpicon,attrs:{value:"qaCircle"},nativeOn:{mouseover:function(e){t.showPop=!0}}})]},proxy:!0}],null,!1,3343398390)},[i("div",{staticClass:"wbpro-texta",class:t.$style.helpin},[t._t("popSlot")],2)]):t._e()],1),t.enableCustomInput?t._e():i("woo-box-item",[i("woo-input",{staticClass:"wbpro-setup__ipt1",class:[t.$style.input,t.prefix&&t.$style.prefixInput],style:t.prefixStyle,attrs:{modelValue:t.value,placeholder:t.placeholder,maxlength:t.maxlength,error:t.inputError,disabled:t.disabled},on:{input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur},nativeOn:{keypress:function(t){t.stopPropagation()}},scopedSlots:t._u([t.prefix?{key:"icon",fn:function(){return[i("span",{class:t.$style.prefix},[t._v(t._s(t.prefix))])]},proxy:!0}:null],null,!0)}),i("div",{staticClass:"wbpro-setup__tip"},[i("span",{staticClass:"wbpro-setup__h5"},[t._v(t._s(t.desc))]),t.active&&t.inputValChanged?i("div",{staticClass:"wbpro-setup__tip_pos"},[i("woo-button",{attrs:{sort:"line",kind:"default",size:"xs"},on:{click:t.handleCancel}},[t._v(" 取消 ")]),i("woo-button",{attrs:{sort:"line",kind:"primary",size:"xs"},on:{click:t.handleSave}},[t._v(" 保存 ")])],1):t._e()])],1),t.enableCustomInput?i("woo-box-item",[t._t("customInput")],2):t._e()],1)},ge=[];i("fb6a");function be(t,e){var i=Object(g["p"])(e),a=i.value,o=i.max,n=Object(g["n"])(0),s=Object(g["n"])(o.value),r=Object(g["n"])(!1),l=function(t,e,i){for(var a=0,o=0;o<t.length;o++)if(t.charCodeAt(o)>255&&a++,a++,e&&a>i)return t.slice(0,o);return e?t:a},c=function(e){t.$emit("input",e)};return Object(g["s"])(a,(function(t){var i=e.max,o=e.min;n.value=l(t),n.value>=i?(s.value=l(t,!0,i).length,a.value=l(t,!0,i),n.value>i&&(r.value=!0)):n.value<o?r.value=!0:(r.value=!1,s.value=Math.max(l(t,!0,i).length,i)),e.originValue===a.value&&(r.value=!1)})),{strlen:n,calcStrLen:l,handleInput:c,maxlength:s,inputError:r}}function ye(t,e,i){var a=Object(g["p"])(e),o=a.value,n=a.inputActive,s=Object(g["n"])(n.value),r=Object(g["n"])(!1),l=o.value;Object(g["s"])(o,(function(t){r.value=t!==l})),Object(g["s"])(n,(function(t){s.value=t,l=o.value})),Object(g["s"])(s,(function(e){t.$emit("update:inputActive",e)}));var c=function(){r.value=o.value!==l,s.value=!0},u=function(){r.value||(s.value=!1)},d=function(){t.$emit("save",i.value)},h=function(){t.$emit("cancel")};return{handleFocus:c,handleBlur:u,handleSave:d,handleCancel:h,active:s,inputValChanged:r,originVal:l}}var we={props:{showIcon:{type:Boolean,default:!1},desc:{type:String,default:""},placeholder:{type:String,default:""},title:{type:String,default:""},value:{type:String,default:""},inputActive:{type:Boolean,default:!1},max:{type:Number,default:15},min:{type:Number,default:0},prefix:{type:String,default:""},disabled:{type:Boolean,default:!1},enableCustomInput:{type:Boolean},originValue:{type:String,default:""}},setup:function(t){var e=Object(g["n"])(!1),i=Object(g["d"])().proxy,a=be(i,t),o=ye(i,t,a.inputError);return Object(d["a"])(Object(d["a"])({showPop:e},a),o)}},xe=we,ke=i("6f82");function $e(t){this["$style"]=ke["default"].locals||ke["default"]}var Ce=Object(n["a"])(xe,_e,ge,!1,$e,null,null),Oe=Ce.exports,je=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("woo-box",{staticClass:"wbpro-setup__f2"},[i("woo-box",{staticClass:"wbpro-setup__b1",attrs:{align:"center",justify:"end"}},[i("div",{staticClass:"wbpro-setup__h3"},[t._v("学校")])])],1),t._l(t.schoolInfos,(function(e){return i("div",{key:e.id},[i("SchoolInfo",{attrs:{data:e},on:{delete:t.handleDelSchool,cancel:t.handleDelSchool,update:t.handleUpdateSchool}})],1)})),i("woo-box",{class:!t.schoolInfos.length&&t.$style.addMore,attrs:{align:"center",justify:"center"}},[i("a",{class:t.$style.addBtn,on:{click:t.addSchool}},[i("woo-fonticon",{class:t.$style.addicon,attrs:{value:"add"}}),i("span",{class:t.$style.addtext},[t._v(" 添加更多教育信息 ")])],1)])],2)},Te=[],De=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.item},[i("woo-box",{staticClass:"wbpro-setup__f1"},[i("woo-box",{staticClass:"wbpro-setup__b1",attrs:{align:"center",justify:"end"}},[i("div",{staticClass:"wbpro-setup__h4"},[t._v("学校类型")])]),i("woo-box-item",[i("woo-box",{staticClass:"wbpro-setup__ipt3",attrs:{align:"center",justify:"between"}},[i("multiselect",t._b({on:{select:t.handleTypeSelect},model:{value:t.schoolInfo.selectedType,callback:function(e){t.$set(t.schoolInfo,"selectedType",e)},expression:"schoolInfo.selectedType"}},"multiselect",t.schoolProperty,!1)),t.schoolInfo.id>0?i("a",{class:t.$style.del,on:{click:function(e){return t.deleteSchool(t.schoolInfo.id)}}},[i("woo-fonticon",{class:t.$style.icon,attrs:{value:"delete"}}),t._v("删除教育信息")],1):t._e()],1)],1)],1),i("woo-box",{staticClass:"wbpro-setup__f1"},[i("woo-box",{staticClass:"wbpro-setup__b1",attrs:{align:"center",justify:"end"}},[i("div",{staticClass:"wbpro-setup__h4"},[t._v("学校名称")])]),i("woo-box-item",[i("woo-box",{staticClass:"wbpro-setup__ipt3",attrs:{align:"center"}},[i("woo-box-item",[i("Suggest",{attrs:{data:t.schoolSuggest,show:t.needSuggest&&t.showSuggest&&t.schoolSuggest.length},on:{select:t.handleSuggestSelect},nativeOn:{mouseleave:function(e){return t.handeMouseleave(e)},mouseover:function(e){return t.handeMouseover(e)}},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-input",{staticClass:"wbpro-setup__ipt1",attrs:{"is-focus":t.schoolInfo.id<0,placeholder:"填写完整学校名称"},on:{input:function(e){return t.handleSchoolInput(t.schoolInfo)},focus:function(e){return t.handleInputActive(!0)},blur:function(e){return t.handleInputBlur(!1)}},nativeOn:{keypress:function(t){t.stopPropagation()}},model:{value:t.schoolInfo.school,callback:function(e){t.$set(t.schoolInfo,"school",e)},expression:"schoolInfo.school"}})]},proxy:!0}])})],1)],1)],1)],1),i("woo-box",{staticClass:"wbpro-setup__f1"},[i("woo-box",{staticClass:"wbpro-setup__b1",attrs:{align:"center",justify:"end"}},[i("div",{staticClass:"wbpro-setup__h4"},[t._v("入学时间")])]),i("woo-box-item",[i("woo-box",{staticClass:"wbpro-setup__ipt3",attrs:{align:"center"}},[i("multiselect",t._b({model:{value:t.schoolInfo.year,callback:function(e){t.$set(t.schoolInfo,"year",e)},expression:"schoolInfo.year"}},"multiselect",t.schoolTimeProperty,!1))],1)],1)],1),i("woo-box",{staticClass:"wbpro-setup__f1"},[i("woo-box",{staticClass:"wbpro-setup__b1",attrs:{align:"center",justify:"end"}},[i("div",{staticClass:"wbpro-setup__h4"},[t._v("院系")])]),i("woo-box-item",[i("woo-box",{staticClass:"wbpro-setup__ipt3",attrs:{align:"center"}},[i("woo-input",{staticClass:"wbpro-setup__ipt1",attrs:{placeholder:"填写你所在院系"},nativeOn:{keypress:function(t){t.stopPropagation()}},model:{value:t.schoolInfo.department,callback:function(e){t.$set(t.schoolInfo,"department",e)},expression:"schoolInfo.department"}})],1)],1)],1),t.schoolInfo.id<0||t.hasChange?i("div",{staticClass:"wbpro-setup__tip wbpro-setup__tipv2"},[i("div",{staticClass:"wbpro-setup__tip_pos"},[i("woo-button",{attrs:{sort:"line",kind:"default",size:"xs"},on:{click:function(e){return t.handleCancel(t.schoolInfo)}}},[t._v(" 取消 ")]),i("woo-button",{attrs:{sort:"line",kind:"primary",size:"xs"},on:{click:function(e){return t.handleSave(t.schoolInfo)}}},[t._v(" 保存 ")])],1)]):t._e()],1)},Se=[],Ie=(i("1bf2"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-pop",{class:t.$style.suggest,attrs:{show:!0,"click-outside":t.$emit("click-outside",t.$event)},scopedSlots:t._u([{key:"ctrl",fn:function(){return[t._t("ctrl")]},proxy:!0}],null,!0)},[t.show?i("woo-box",{class:t.$style.container,attrs:{direction:"y"}},[i("woo-box-item",{class:t.$style.list},t._l(t.data,(function(e,a){return i("woo-box-item",{key:a,class:[a==t.selectIndex?t.$style.active:"",t.$style.item],nativeOn:{mousemove:function(e){t.selectIndex=a},click:function(i){return t.handleClick(e)}}},[t._v(t._s(e.school_name))])})),1)],1):t._e()],1)}),Le=[],Be={props:{data:{type:Array,default:function(){return[]}},show:{type:Boolean,default:!1}},setup:function(){var t=Object(g["d"])().proxy,e=Object(g["n"])(-1),i=function(e){t.$emit("select",e)};return{selectIndex:e,handleClick:i}}},Pe=Be,Ae=i("251c");function Ee(t){this["$style"]=Ae["default"].locals||Ae["default"]}var Me=Object(n["a"])(Pe,Ie,Le,!1,Ee,null,null),Fe=Me.exports,Re=i("b047"),Ve=i.n(Re),Ne={props:{data:{type:Object,default:function(){return{}}}},setup:function(t){var e=Object(g["d"])().proxy,i=Object(g["n"])([]),a=Object(g["n"])(!0),o=Object(g["n"])(!1),n=Object(g["n"])(!1),s=Object(g["n"])(!1),r=Object(g["n"])(!1),l={trackBy:"value",label:"label",options:[{label:"大学",value:1},{label:"高中",value:2},{label:"中专技校",value:3},{label:"初中",value:4},{label:"小学",value:5},{label:"高职",value:6},{label:"海外",value:7}],placeholder:"请选择",allowEmpty:!1,showLabels:!1},c=function(t){return l.options.find((function(e){return+e.value===+t}))||null},u=function(t){return Object(d["a"])(Object(d["a"])({},t),{},{selectedType:c(t.type),year:t.year?t.year:""})},h=Object(g["n"])(u(t.data)),p=function(){for(var t=[],e=(new Date).getFullYear(),i=e;i>=1900;i--)t.push(i.toString());return t},f={options:p(),placeholder:"请选择",allowEmpty:!1,showLabels:!1},m=function(t){e.$_w_dialog({type:"confirm",message:"确定要删除教育信息？",action:function(){e.$http.post("/ajax/setting/deleteSchool",{id:t}).then((function(i){i.data.ok>0&&i.data.data.education&&e.$emit("delete",t)}))}})},v=function(i){i.id<0?e.$emit("cancel",i.id):(h.value=u(t.data),r.value=!1)},_=function(t){var i=t;t.school_id?e.$http.post("/ajax/setting/updateEdu",Object(d["a"])(Object(d["a"])({},i),{},{type:i.selectedType.value})).then((function(i){i.data.ok>0&&(r.value=!1,e.$emit("update",i.data.data,t.id))})):e.$_w_toast({type:"warn",message:"请从学校名提示框中选择学校"})},b=Ve()((function(t){s.value=!0,e.$http.get("/ajax/setting/searchSchool",{params:{type:t.selectedType.value,q:t.school}}).then((function(t){t.data.ok>0&&(i.value=t.data.data)}))}),500),y=function(t){a.value=!1,h.value.school=t.school_name,h.value.school_id=t.id,s.value=!1},w=function(t){n.value&&!t&&(a.value=!1),t&&(a.value=!0)},x=function(){h.value.school_id="",w(!1)},k=function(){var t;null!==(t=o.value)&&void 0!==t||(a.value=!1),n.value=!0},$=function(){n.value=!1},C=function(t,e){var i=!1;return Reflect.ownKeys(t).forEach((function(a){var o;"[object Object]"!==(null===(o=t[a])||void 0===o?void 0:o.toString())&&e[a]!==t[a]&&(i=!0)})),i},O=function(t){h.value.type=t.value,h.value.department="",h.value.school="",h.value.school_id="",h.value.year=""};return Object(g["s"])(h,(function(e){r.value=C(e,u(t.data))}),{deep:!0}),{schoolProperty:l,schoolTimeProperty:f,schoolInfo:h,deleteSchool:m,handleCancel:v,handleSave:_,handleSchoolInput:b,schoolSuggest:i,showSuggest:a,handleSuggestSelect:y,handleInputActive:w,handeMouseleave:k,mouseOuside:n,handeMouseover:$,needSuggest:s,hasChange:r,handleTypeSelect:O,handleInputBlur:x}},components:{Multiselect:m.a,Suggest:Fe}},He=Ne,ze=i("035d");function Ue(t){this["$style"]=ze["default"].locals||ze["default"]}var Ge=Object(n["a"])(He,De,Se,!1,Ue,null,null),qe=Ge.exports,We={props:{data:{type:Array,default:function(){return[]}}},setup:function(t){var e=Object(g["p"])(t),i=e.data,a=Object(g["n"])(i.value),o=function(){a.value.push({id:-Date.now(),type:1})},n=function(t){a.value=a.value.filter((function(e){return e.id!==t}))},s=function(t,e){a.value=t};return Object(g["s"])(i,(function(t){a.value=t})),{schoolInfos:a,addSchool:o,handleDelSchool:n,handleUpdateSchool:s}},components:{SchoolInfo:qe}},Qe=We,Je=i("b17d");function Ke(t){this["$style"]=Je["default"].locals||Je["default"]}var Ye=Object(n["a"])(Qe,je,Te,!1,Ke,null,null),Xe=Ye.exports,Ze=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("woo-box",{staticClass:"wbpro-setup__f2"},[i("woo-box",{staticClass:"wbpro-setup__b1",attrs:{align:"center",justify:"end"}},[i("div",{staticClass:"wbpro-setup__h3"},[t._v("公司")])])],1),t._l(t.careerInfos,(function(e){return i("div",{key:e.id},[i("CareerInfo",t._b({class:t.$style.career,attrs:{data:e},on:{delete:t.handleDelCareer,cancel:t.handleDelCareer,update:t.handleUpdateCareer}},"CareerInfo",t.$attrs,!1))],1)})),i("woo-box",{class:!t.careerInfos.length&&t.$style.addMore,attrs:{align:"center",justify:"center"}},[i("a",{class:t.$style.addBtn,on:{click:t.addCareer}},[i("woo-fonticon",{class:t.$style.addicon,attrs:{value:"add"}}),i("span",{class:t.$style.addtext},[t._v(" 添加更多工作信息 ")])],1)])],2)},ti=[],ei=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.career},[i("woo-box",{staticClass:"wbpro-setup__f1",attrs:{align:"center"}},[i("woo-box",{staticClass:"wbpro-setup__b1",attrs:{align:"center",justify:"end"}},[i("div",{staticClass:"wbpro-setup__h4"},[t._v("公司名称")])]),i("woo-box-item",[i("woo-input",{staticClass:"wbpro-setup__ipt1",attrs:{"is-focus":t.careerInfo.id<0,placeholder:"填写完整公司名称"},nativeOn:{keypress:function(t){t.stopPropagation()}},model:{value:t.careerInfo.company,callback:function(e){t.$set(t.careerInfo,"company",e)},expression:"careerInfo.company"}})],1),i("div",{class:t.$style.delout},[t.careerInfo.id>0?i("a",{class:t.$style.del,on:{click:function(e){return t.deleteCareer(t.careerInfo.id)}}},[i("woo-fonticon",{class:t.$style.icon,attrs:{value:"delete"}}),t._v("删除工作信息")],1):t._e()])],1),i("woo-box",{staticClass:"wbpro-setup__f1",attrs:{align:"center"}},[i("woo-box",{staticClass:"wbpro-setup__b1",attrs:{align:"center",justify:"end"}},[i("div",{staticClass:"wbpro-setup__h4"},[t._v("部门/职位")])]),i("woo-box-item",[i("woo-input",{staticClass:"wbpro-setup__ipt1",attrs:{placeholder:"填写你所在部门或职位"},nativeOn:{keypress:function(t){t.stopPropagation()}},model:{value:t.careerInfo.department,callback:function(e){t.$set(t.careerInfo,"department",e)},expression:"careerInfo.department"}})],1),i("div",{class:t.$style.delout})],1),i("woo-box",{staticClass:"wbpro-setup__f1"},[i("woo-box",{staticClass:"wbpro-setup__b1",attrs:{align:"center",justify:"end"}},[i("div",{staticClass:"wbpro-setup__h4"},[t._v("所属行业")])]),i("woo-box-item",[i("woo-box",{staticClass:"wbpro-setup__ipt3",attrs:{align:"center"}},[i("multiselect",{attrs:{options:t.careerList,placeholder:"请选择",allowEmpty:!1,showLabels:!1,trackBy:"value",label:"label"},model:{value:t.careerInfo.industryInfo,callback:function(e){t.$set(t.careerInfo,"industryInfo",e)},expression:"careerInfo.industryInfo"}})],1)],1)],1),i("woo-box",{staticClass:"wbpro-setup__f1"},[i("woo-box",{staticClass:"wbpro-setup__b1",attrs:{align:"center",justify:"end"}},[i("div",{staticClass:"wbpro-setup__h4"},[t._v("工作时间")])]),i("woo-box-item",[i("woo-box",{attrs:{align:"center"}},[i("multiselect",{attrs:{options:t.years,placeholder:"开始时间",allowEmpty:!1,showLabels:!1},model:{value:t.careerInfo.start,callback:function(e){t.$set(t.careerInfo,"start",e)},expression:"careerInfo.start"}}),i("multiselect",{attrs:{options:t.years,placeholder:"截止时间",allowEmpty:!1,showLabels:!1},model:{value:t.careerInfo.end,callback:function(e){t.$set(t.careerInfo,"end",e)},expression:"careerInfo.end"}})],1)],1)],1),i("woo-box",{staticClass:"wbpro-setup__f1"},[i("woo-box",{staticClass:"wbpro-setup__b1",attrs:{align:"center",justify:"end"}},[i("div",{staticClass:"wbpro-setup__h4"},[t._v("所在地")])]),i("woo-box-item",[i("woo-box",{attrs:{align:"center"}},[i("multiselect",t._b({model:{value:t.areaProvince,callback:function(e){t.areaProvince=e},expression:"areaProvince"}},"multiselect",t.provinceProperty,!1)),t.areaCityVisible?i("multiselect",t._b({model:{value:t.areaCity,callback:function(e){t.areaCity=e},expression:"areaCity"}},"multiselect",t.areaCityProperty,!1)):t._e()],1)],1)],1),i("woo-box",{staticClass:"wbpro-setup__f1"},[i("woo-box",{staticClass:"wbpro-setup__b1",attrs:{align:"center",justify:"end"}},[i("div",{staticClass:"wbpro-setup__h4"},[t._v("仅显示行业")])]),i("woo-box-item",{attrs:{align:"center"}},[i("woo-box",{attrs:{justify:"end"}},[i("woo-switch",{model:{value:t.careerInfo.careerVisible,callback:function(e){t.$set(t.careerInfo,"careerVisible",e)},expression:"careerInfo.careerVisible"}})],1)],1)],1),t.careerInfo.id<0||t.hasChange?i("div",{staticClass:"wbpro-setup__tip wbpro-setup__tipv2"},[i("div",{staticClass:"wbpro-setup__tip_pos"},[i("woo-button",{attrs:{sort:"line",kind:"default",size:"xs"},on:{click:function(e){return t.handleCancel(t.careerInfo)}}},[t._v(" 取消 ")]),i("woo-button",{attrs:{sort:"line",kind:"primary",size:"xs"},on:{click:function(e){return t.handleSave(t.careerInfo)}}},[t._v(" 保存 ")])],1)]):t._e()],1)},ii=[],ai=i("3835");function oi(t,e){var i=Object(g["a"])((function(){var t=[];return Object.keys(e.province).forEach((function(i){t.push({value:i,label:e.province[i]})})),t})),a=Object(g["n"])(null),o=Object(g["n"])(null),n=Object(g["a"])((function(){var t=[],i=o.value&&e.city[o.value.label]||{};return Object.keys(i).forEach((function(e){t.push({label:i[e],value:e.toString()})})),t})),s=Object(g["a"])((function(){return n.value.length}));Object(g["s"])(o,(function(t,i){i&&e.city[t.label]&&(a.value={label:e.city[t.label]["1"],value:"1"})}));var r=Object(g["m"])({trackBy:"value",label:"label",options:n,placeholder:"市",allowEmpty:!1,showLabels:!1}),l=Object(g["m"])({trackBy:"value",label:"label",options:i,placeholder:"省",allowEmpty:!1,showLabels:!1});return{areaCity:a,areaProvince:o,areaCityProperty:r,provinceProperty:l,areaCityVisible:s}}var ni={props:{data:{type:Array,default:function(){return[]}},careerList:{type:Array,default:function(){return[]}},province:{type:Object,default:function(){return{}}},city:{type:Object,default:function(){return{}}}},setup:function(t){var e=Object(g["d"])().proxy,i=oi(e,t),a=Object(g["n"])([]),o=Object(g["p"])(t),n=o.data,s=Object(g["n"])(!1),r=function(e){t.province[e.province]&&(i.areaProvince.value={value:e.province,label:t.province[e.province]},t.city[t.province[e.province]]&&t.city[t.province[e.province]][e.city]&&(i.areaCity.value={value:e.city,label:t.city[t.province[e.province]][e.city]}))},l=function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];i&&r(e);var a=t.careerList.find((function(t){return t.label===e.industry}))||null;return Object(d["a"])(Object(d["a"])({},e),{},{careerVisible:3===e.visible,start:0===e.start?"":e.start,end:0===e.end?"":e.end,industryInfo:a})},c=Object(g["n"])(l(t.data));Object(g["s"])(n,(function(t){c.value=l(t)}));var u=function(){for(var t=[],e=(new Date).getFullYear(),i=e;i>=1900;i--)t.push(i);return t},h=u();Object(g["s"])((function(){return[c.value.start,c.value.end]}),(function(t){var e=Object(ai["a"])(t,2),i=e[0],a=e[1];i>a&&a&&(c.value.start=a)})),Object(g["s"])(i.areaProvince,(function(t){c.value.province=+t.value})),Object(g["s"])(i.areaCity,(function(t){c.value.city=+t.value})),Object(g["s"])((function(){return c.value.industryInfo}),(function(t){c.value.industry=null===t||void 0===t?void 0:t.label}));var p=function(t,e){var i=!1;return Reflect.ownKeys(t).forEach((function(a){var o;"[object Object]"!==(null===(o=t[a])||void 0===o?void 0:o.toString())&&e[a]!==t[a]&&(i=!0)})),i};Object(g["s"])(c,(function(e){s.value=p(e,l(t.data,!1))}),{deep:!0});var f=function(t){e.$_w_dialog({type:"confirm",message:"确定要删除工作信息？",action:function(){e.$http.post("/ajax/setting/deleteCareer",{id:t}).then((function(i){i.data.ok>0&&i.data.data&&e.$emit("delete",t)}))}})},m=function(i){i.id<0?e.$emit("cancel",i.id):(c.value=l(t.data),s.value=!1)},v=function(t){var a,o,n,r=t;r.company?(r.id<0&&delete r.id,e.$http.post("/ajax/setting/updateCareer",Object(d["a"])(Object(d["a"])({},r),{},{visible:r.careerVisible?3:2,province:null===(a=i.areaProvince.value)||void 0===a?void 0:a.value,city:null===(o=i.areaCity.value)||void 0===o?void 0:o.value,industry:null===(n=r.industryInfo)||void 0===n?void 0:n.value})).then((function(i){i.data.ok>0&&(s.value=!1,e.$emit("update",i.data.data,t.id))}))):e.$_w_toast({type:"warn",message:"请填写公司名称"})};return Object(d["a"])(Object(d["a"])({options:a,careerInfo:c,years:h},i),{},{handleCancel:m,handleSave:v,hasChange:s,deleteCareer:f})},components:{Multiselect:m.a}},si=ni,ri=i("507a");function li(t){this["$style"]=ri["default"].locals||ri["default"]}var ci=Object(n["a"])(si,ei,ii,!1,li,null,null),ui=ci.exports,di={props:{data:{type:Array,default:function(){return[]}}},setup:function(t){var e=Object(g["p"])(t),i=e.data,a=Object(g["n"])(i.value),o=function(){a.value.push({id:-Date.now(),type:1})},n=function(t){a.value=a.value.filter((function(e){return e.id!==t}))},s=function(t,e){a.value=t};return Object(g["s"])(i,(function(t){a.value=t})),{careerInfos:a,addCareer:o,handleDelCareer:n,handleUpdateCareer:s}},components:{CareerInfo:ui}},hi=di,pi=i("198b");function fi(t){this["$style"]=pi["default"].locals||pi["default"]}var mi=Object(n["a"])(hi,Ze,ti,!1,fi,null,null),vi=mi.exports;function _i(t){var e,i=t.split("-"),a=i[1],o=i[2];return(1==a&&o>=20||2==a&&o<=18)&&(e="水瓶座"),1==a&&o>31&&(e="Huh?"),(2==a&&o>=19||3==a&&o<=20)&&(e="双鱼座"),2==a&&o>29&&(e="Say what?"),(3==a&&o>=21||4==a&&o<=19)&&(e="白羊座"),3==a&&o>31&&(e="OK. Whatever."),(4==a&&o>=20||5==a&&o<=20)&&(e="金牛座"),4==a&&o>30&&(e="I'm soooo sorry!"),(5==a&&o>=21||6==a&&o<=21)&&(e="双子座"),5==a&&o>31&&(e="Umm ... no."),(6==a&&o>=22||7==a&&o<=22)&&(e="巨蟹座"),6==a&&o>30&&(e="Sorry."),(7==a&&o>=23||8==a&&o<=22)&&(e="狮子座"),7==a&&o>31&&(e="Excuse me?"),(8==a&&o>=23||9==a&&o<=22)&&(e="处女座"),8==a&&o>31&&(e="Yeah. Right."),(9==a&&o>=23||10==a&&o<=22)&&(e="天秤座"),9==a&&o>30&&(e="Try Again."),(10==a&&o>=23||11==a&&o<=21)&&(e="天蝎座"),10==a&&o>31&&(e="Forget it!"),(11==a&&o>=22||12==a&&o<=21)&&(e="射手座"),11==a&&o>30&&(e="Invalid Date"),(12==a&&o>=22||1==a&&o<=19)&&(e="摩羯座"),12==a&&o>31&&(e="No way!"),e}var gi=_i,bi=i("87b4");function yi(t,e){var i=Object(g["n"])(e.screen_name),a=Object(g["n"])(!1);function o(){t.$http.post("/ajax/setting/updateProfileBasic",{screen_name:i.value}).then((function(o){o.data.ok>0&&(a.value=!1,e.screen_name=i.value,t.$_wooBus.$_w_dialog({type:"alert",touchclose:!1,message:o.data.msg,btnConfirm:"我知道了",title:"修改成功"}))}))}function n(){return s.apply(this,arguments)}function s(){return s=Object(p["a"])(regeneratorRuntime.mark((function n(){var s,r,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$http.get("/ajax/setting/checkNickNameVaild");case 2:r=n.sent,r.data.ok>0&&"10000"===(null===(s=r.data.data)||void 0===s?void 0:s.code)?(l=r.data.data.data,l.valid_time&&new Date(l.valid_time).getTime()>(new Date).getTime()&&"no"===l.is_modify?t.$http.post("/ajax/setting/updateNickNameVaild",{nickname:i.value}).then((function(o){if(o.data.ok>0){var n,s=o.data.data.data;if("10000"===(null===(n=o.data.data)||void 0===n?void 0:n.code))s.error||s.error_code?t.$_wooBus.$_w_dialog({type:"alert",touchclose:!1,message:s.error||"",btnConfirm:"我知道了",title:"修改失败"}):(a.value=!1,e.screen_name=i.value,t.$_wooBus.$_w_dialog({type:"alert",touchclose:!1,message:"",btnConfirm:"我知道了",title:"修改成功"}),t.showNicktip=!1);else{var r=o.data.data.msg||"";t.$_wooBus.$_w_dialog({type:"alert",touchclose:!1,message:r,btnConfirm:"我知道了",title:"修改失败"})}}else t.$_wooBus.$_w_dialog({type:"alert",touchclose:!1,message:"请稍后再试",btnConfirm:"我知道了",title:"修改失败"})})):o()):o();case 4:case"end":return n.stop()}}),n)}))),s.apply(this,arguments)}var r=function(e){e||("1"===t.$route.query.force&&t.showNicktip?n():o())},l=function(){i.value=e.screen_name,a.value=!1};return{nickanme:i,handleSaveName:r,handleCancelName:l,nameInputActive:a}}function wi(t,e){var i=Object(g["n"])(e.description),a=Object(g["n"])(!1),o=Object(g["n"])(!1),n=function(n){n||t.$http.post("/ajax/setting/updateProfileBasic",{description:i.value,desc_empty:!i.value}).then((function(t){t.data.ok>0?(a.value=!1,e.description=i.value):o.value=!0})).catch((function(){o.value=!0}))},s=function(){i.value=e.description,a.value=!1};return{description:i,handleSaveDesc:n,handleCancelDesc:s,descInputActive:a,isFocus:o}}function xi(t,e){var i=Object(g["n"])(""),a=Object(g["n"])(!1),o=Object(g["n"])(""),n=Object(g["n"])(!1),s=Object(g["n"])(e.domain);e.domain?(a.value=!0,o.value="https://weibo.com/".concat(e.domain)):i.value="https://weibo.com/";var r=function(e){if(!e){var i=o.value.trim(),s=new RegExp("^[a-z0-9]*[a-z]+[a-z0-9]*$");if(!i.match(s))return void t.$_w_toast({type:"warn",message:"个性域名仅支持数字或字母，请修改"});t.$_w_dialog({type:"confirm",message:"个性域名设置后不可修改，是否立即更改",action:function(){t.$http.post("/ajax/setting/updateDomain",{domain:i}).then((function(t){var e;t.data.ok>0&&(null===(e=t.data.data)||void 0===e?void 0:e.result)&&(n.value=!1,a.value=!0,o.value="https://weibo.com/".concat(i))}))}})}},l=function(){o.value="",n.value=!1},c=function(){var e=document.createElement("input");document.body.appendChild(e),e.setAttribute("value",o.value),e.select(),document.execCommand("copy")&&(document.execCommand("copy"),t.$_w_toast({type:"success",message:"复制成功"})),document.body.removeChild(e)};return{prefixDomain:i,domainDisabled:a,domain:o,handleSaveDomain:r,handleCancelDomain:l,domainInputActive:n,copyLink:c,originVal:s}}function ki(t){var e=Object(g["n"])(""),i=function(){t.$http.post("/ajax/setting/updateProfileBasic",{gender:e.value})};return{gender:e,genderChange:i}}function $i(t){var e=Object(g["n"])(""),i=Object(g["n"])(""),a=Object(g["n"])(""),o=function(){for(var t=[],e=(new Date).getFullYear(),i=e;i>=1900;i--)t.push(i.toString());return t},n=function(){for(var t=[],e=1;e<=12;e++)e<10?t.push("0"+e):t.push(e.toString());return t},s=Object(g["a"])((function(){var t=30;["01","03","05","07","08","10","12"].includes(i.value)?t=31:"02"===i.value&&(t=e.value%4===0&&e.value%100!==0||e.value%400===0?29:28);for(var a=[],o=1;o<=t;o++)o<10?a.push("0"+o):a.push(o.toString());return a})),r=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return null===e||void 0===e||null===(t=e.split("-"))||void 0===t?void 0:t.every((function(t){return!Number.isNaN(+t)&&+t>0}))},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("--"!==e&&(r(t)||r(e))){t=t.split("-");var i=t[0],a=t[1],o=t[2],n=i%4===0&&i%100!==0||i%400===0,s=["01","03","05","07","08","10","12"].includes(a);return!(!n&&"02"===a&&+o>=29)&&!(!s&&"31"===o)}};Object(g["s"])(s,(function(t){t.includes(a.value)||(a.value=t[t.length-1])})),Object(g["s"])((function(){return"".concat(e.value,"-").concat(i.value,"-").concat(a.value)}),(function(e,i){l(e,i)&&t.$http.post("/ajax/setting/updateProfileBasic",{birthday:e})}));var c={options:o(),allowEmpty:!1,showLabels:!1,placeholder:"年"},u={options:n(),allowEmpty:!1,showLabels:!1,placeholder:"月"},d=Object(g["m"])({options:s,allowEmpty:!1,showLabels:!1,placeholder:"日"}),h=Object(g["n"])(null),p=function(e){t.$http.post("/ajax/setting/updateProfileBasic",{birthday_visible:e})};return{year:e,month:i,day:a,yearProperty:c,monthProperty:u,daysProperty:d,birthdayVisible:h,handleBirthdayVisibleChange:p}}function Ci(t){var e=Object(g["n"])(null),i=[{value:"1",label:"单身"},{value:"2",label:"求交往"},{value:"3",label:"暗恋中"},{value:"4",label:"暧昧中"},{value:"5",label:"恋爱中"},{value:"6",label:"订婚"},{value:"7",label:"已婚"},{value:"8",label:"分居"},{value:"9",label:"离异"},{value:"10",label:"丧偶"},{value:"0",label:"不选"}],a={options:i,showLabels:!1,placeholder:"选择感情状态",trackBy:"value",label:"label",allowEmpty:!1},o=function(e){t.$http.post("/ajax/setting/updateProfileExtend",{single:e.value})};return{emotionProperty:a,emotion:e,emotionOptions:i,handleEmotionSelect:o}}function Oi(t){var e=Object(g["n"])({}),i=Object(g["a"])((function(){var t=[];return Object.keys(e.value).forEach((function(i){t.push({value:i,label:e.value[i]})})),t})),a=Object(g["n"])({}),o=Object(g["n"])(null),n=Object(g["n"])(null),s=Object(g["n"])(null),r=Object(g["n"])(null),l=Object(g["a"])((function(){var t=[],e=n.value&&a.value[n.value.label]||{};return Object.keys(e).forEach((function(i){t.push({label:e[i],value:i.toString()})})),t})),c=Object(g["a"])((function(){var t=[],e=r.value&&a.value[r.value.label]||{};return Object.keys(e).forEach((function(i){t.push({label:e[i],value:i})})),t})),u=Object(g["a"])((function(){return c.value.length})),d=Object(g["a"])((function(){return l.value.length}));Object(g["s"])(n,(function(e,i){i&&(a.value[e.label]&&(o.value={label:a.value[e.label]["1"],value:"1"}),t.$http.post("/ajax/setting/updateProfileBasic",{province:e.value}))})),Object(g["s"])(o,(function(e,i){i&&t.$http.post("/ajax/setting/updateProfileBasic",{province:n.value.value,city:e.value})})),Object(g["s"])(r,(function(e,i){i&&(a.value[e.label]&&(s.value={label:a.value[e.label]["1"],value:"1"}),t.$http.post("/ajax/setting/updateProfileBasic",{hometown_province:e.value}))})),Object(g["s"])(s,(function(e,i){i&&t.$http.post("/ajax/setting/updateProfileBasic",{hometown_province:r.value.value,hometown_city:e.value})}));var h=Object(g["m"])({trackBy:"value",label:"label",options:c,placeholder:"市",allowEmpty:!1,showLabels:!1}),p=Object(g["m"])({trackBy:"value",label:"label",options:l,placeholder:"市",allowEmpty:!1,showLabels:!1}),f=Object(g["m"])({trackBy:"value",label:"label",options:i,placeholder:"省",allowEmpty:!1,showLabels:!1});return{hometownCity:s,hometownProvince:r,hometownCityProperty:h,areaCity:o,areaProvince:n,areaCityProperty:p,provinceProperty:f,province:e,city:a,hometownCityVisible:u,areaCityVisible:d}}function ji(){var t=Object(g["n"])([]);return{schools:t}}function Ti(){var t=Object(g["n"])([]),e=Object(g["n"])([]),i=Object(g["n"])({}),a=Object(g["n"])({});return{careers:t,careerList:e,careerProvince:i,careerCity:a}}function Di(){var t=Object(g["n"])(""),e=Object(g["n"])(""),i=Object(g["n"])(""),a=Object(g["n"])(""),o=Object(g["n"])(0),n=Object(g["a"])((function(){return 0!==o.value&&4!==o.value&&t.value})),s=Object(g["n"])(!1),r=Object(g["n"])(!1);return{tips:t,authRealName:e,authCareer:i,showTip:n,authStatus:o,show1:s,show2:r,tipsUrl:a}}var Si={metaInfo:function(){return{title:"编辑资料"}},setup:function(){var t=Object(St["b"])(["config"]),e=t.config,i=e.value.user,a=Object(g["d"])().proxy,o=yi(a,i),n=wi(a,i),s=xi(a,i),r=ki(a,i),l=$i(a,i),c=Ci(a,i),u=Oi(a,i),h=ji(),p=Ti(),f=Di(),m=Object(g["a"])((function(){var t;return null===(t=e.value.user)||void 0===t?void 0:t.id})),v=Object(g["n"])(!1),_=Object(g["n"])("");return Object(g["h"])((function(){a.$http.get("/ajax/setting/getBasicInfo").then((function(t){if(t.data.ok>0){var e=t.data.data,i=t.data,a=i.province,s=i.city;o.nickanme.value=e.screen_name,n.description.value=e.description,r.gender.value=e.gender;var d=e.birthday.split("-");l.birthdayVisible.value=+e.birthday_visible,l.year.value=d[0],l.month.value=d[1],l.day.value=d[2];var m=c.emotionOptions.find((function(t){return t.value===e.single}));c.emotion.value=m||null,u.province.value=a,u.city.value=s,u.areaProvince.value={value:e.province,label:a[e.province]},s[a[e.province]]&&s[a[e.province]][e.city]&&(u.areaCity.value={value:e.city,label:s[a[e.province]][e.city]})||(u.areaCity.value=null),s[a[e.hometown_province]]&&s[a[e.hometown_province]][e.hometown_city]&&(u.hometownCity.value={value:e.hometown_city,label:s[a[e.hometown_province]][e.hometown_city]})||(u.hometownCity.value=null),u.hometownProvince.value={value:e.hometown_province,label:a[e.hometown_province]},h.schools.value=e.eduction,p.careers.value=e.career,p.careerList.value=Object.keys(t.data.careerList||{}).map((function(e){return{label:t.data.careerList[e],value:e}})),p.careerProvince.value=a,p.careerCity.value=s,f.tips.value=e.auth_tips,f.tipsUrl.value=e.tips_url,f.authRealName.value=e.auth_realname,f.authCareer.value=e.auth_career,f.authStatus.value=e.auth_status}})),"1"===a.$route.query.force&&a.$http.get("/ajax/setting/checkNickNameVaild").then((function(t){var e;if(t.data.ok>0&&"10000"===(null===(e=t.data.data)||void 0===e?void 0:e.code)){var i=t.data.data.data;i.valid_time&&new Date(i.valid_time).getTime()>(new Date).getTime()&&"no"===i.is_modify&&(_.value=i.valid_time,v.value=!0)}}))})),Object(d["a"])(Object(d["a"])(Object(d["a"])(Object(d["a"])(Object(d["a"])(Object(d["a"])(Object(d["a"])(Object(d["a"])(Object(d["a"])(Object(d["a"])(Object(d["a"])({},o),n),s),r),l),c),u),h),p),f),{},{uid:m,getConstellationByBirthday:gi,showNicktip:v,nickValidtime:_})},components:{Multiselect:m.a,Avatar:ve,InputItem:Oe,School:Xe,Career:vi,QrcodeContainer:bi["a"]}},Ii=Si,Li=(i("5f8b"),i("17e9"));function Bi(t){this["$style"]=Li["default"].locals||Li["default"]}var Pi=Object(n["a"])(Ii,ne,se,!1,Bi,null,null),Ai=Pi.exports,Ei=i("722e");e["default"]=[{path:"set",name:"setting",redirect:"/set/index",components:{main:l,side:Ei["a"]},children:[{path:"index",alias:"photo",name:"info",component:Ai,meta:{title:"设置",channel:"setting"}},{path:"privacy",name:"privacy",component:H,meta:{title:"设置",channel:"setting"}},{path:"message",name:"messageSet",component:st,meta:{title:"设置",channel:"setting"}},{path:"shield",name:"shield",component:Kt,meta:{title:"设置",channel:"setting"}},{path:"prefer",name:"prefer",component:oe,meta:{title:"设置",channel:"setting"}}],meta:{title:"设置",channel:"setting"}}]},3533:function(t,e,i){t.exports={unRead:"Profile_unRead_3DnSm"}},3539:function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_collection",use:"woo_svg_collection-usage",viewBox:"0 0 1024 1024",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" id="woo_svg_collection"><path fill="currentColor" d="M699.746 89.57c49.488 0 90.032 38.294 93.615 86.867l.258 7.006v657.113c0 49.488-38.294 90.032-86.867 93.616l-7.006.257H183.444c-49.488 0-90.032-38.295-93.615-86.867l-.258-7.006V183.444c0-49.488 38.294-90.032 86.867-93.616l7.006-.257h516.302zm140.81 258.152c51.845 0 93.873 42.029 93.873 93.873v375.493c0 51.845-42.029 93.873-93.873 93.873h-23.468c24.071 0 43.909-18.119 46.621-41.463l.316-5.474V394.658c0-24.071-18.12-43.91-41.463-46.621l-5.474-.316h23.468zm-140.81-187.747H183.444c-11.521 0-21.103 8.302-23.09 19.25l-.378 4.218v657.113c0 11.521 8.302 21.103 19.25 23.09l4.218.378h516.303c11.521 0 21.103-8.302 23.09-19.25l.378-4.218V183.444c0-11.521-8.302-21.103-19.25-23.09l-4.219-.379zM441.595 688.012c19.442 0 35.202 15.761 35.202 35.203 0 17.821-13.243 32.55-30.425 34.881l-4.777.321H277.317c-19.442 0-35.202-15.761-35.202-35.202 0-17.821 13.243-32.55 30.425-34.881l4.777-.321h164.278zm164.278-211.214c19.442 0 35.202 15.761 35.202 35.202 0 17.822-13.243 32.55-30.425 34.881l-4.777.321H277.317c-19.442 0-35.202-15.761-35.202-35.202 0-17.822 13.243-32.55 30.425-34.881l4.777-.321h328.556zm0-211.215c19.442 0 35.202 15.761 35.202 35.202 0 17.822-13.243 32.55-30.425 34.881l-4.777.321H277.317c-19.442 0-35.202-15.761-35.202-35.202 0-17.822 13.243-32.55 30.425-34.881l4.777-.321h328.556z" /></symbol>'});s.a.add(r);e["default"]=r},"35a13":function(t,e,i){},"35bb":function(t,e,i){},"35e1":function(t,e,i){"use strict";var a=i("7e99"),o=i.n(a);e["default"]=o.a},"362c":function(t,e,i){"use strict";var a=i("baf4");e["a"]={mixins:[a["a"]],data:function(){return{modalVisible:!1}},methods:{show:function(){this.clickPop(),this.modalVisible=!0},hide:function(){this.modalVisible=!1},close:function(){this.$emit("close")}}}},"371a":function(t,e,i){},3789:function(t,e,i){t.exports={videobox:"VideoPop_videobox_2dPi8",top1:"VideoPop_top1_oL9sO",top2:"VideoPop_top2_Zso3j",top3:"VideoPop_top3_2LZJG",text1:"VideoPop_text1_W1LIS",file:"VideoPop_file_3UaVX",label2:"VideoPop_label2_czP5s",add:"VideoPop_add_29iNH",icon:"VideoPop_icon_3qKB7",icon1:"VideoPop_icon1_3F8jQ",switch:"VideoPop_switch_1mdNp",descr:"VideoPop_descr_2RvY5",gray7:"VideoPop_gray7_2ghvJ",red:"VideoPop_red_M29Rb",scroll:"VideoPop_scroll_kAqBW",tagbox:"VideoPop_tagbox_2epf3",tag:"VideoPop_tag_14V-f",ipt:"VideoPop_ipt_23mfW",text2:"VideoPop_text2_cHQaS",label3:"VideoPop_label3_1-1uh",sort:"VideoPop_sort_3kSEC",help:"VideoPop_help_2QlY6",helppop1:"VideoPop_helppop1_NiKSd",helppop3:"VideoPop_helppop3_rLtrb",popc:"VideoPop_popc_2yyuS",helppop2:"VideoPop_helppop2_FySJR",qa:"VideoPop_qa_2C0Wd",gray1:"VideoPop_gray1_2Raoy",gray2:"VideoPop_gray2_3-JqL",sp1:"VideoPop_sp1_-OfcN",dt:"VideoPop_dt_3hZL3",dt1:"VideoPop_dt1_1CSRM",pos:"VideoPop_pos_2bRj4",fb1:"VideoPop_fb1_1FqJw"}},"37bb":function(t,e,i){"use strict";var a=i("a3d6"),o=i.n(a);o.a},"380d":function(t,e,i){},3896:function(t,e,i){"use strict";function a(t){return t<10?"0".concat(t):t}i.d(e,"a",(function(){return a}))},"38bb":function(t,e,i){"use strict";var a=i("6651"),o=i.n(a);e["default"]=o.a},"38d2":function(t,e,i){t.exports={bar:"FansList_bar_H6lOq",tab:"FansList_tab_3KSt5",tit:"FansList_tit_3FUk8",bed3:"FansList_bed3_9k39y",bed32:"FansList_bed32_15N5g",f14:"FansList_f14_23z0v",cla:"FansList_cla_31F4l",clb:"FansList_clb_DgNW5",nodata:"FansList_nodata_3lQWN"}},"391e":function(t,e,i){"use strict";var a=i("0a4a"),o=i.n(a);e["default"]=o.a},3932:function(t,e,i){"use strict";var a=i("c686"),o=i.n(a);e["default"]=o.a},3951:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("card"+t.card.card_type,t._g(t._b({tag:"component",attrs:{card:t.card,isCardWrap:t.isCardWrap}},"component",t.$attrs,!1),t.$listeners))},o=[],n=(i("4160"),[3,6,7,8,9,10,11,24,27,59,98]),s={card27:"card8",card98:"card10"},r={};n.forEach((function(t){var e="card".concat(t),a=s[e]||e;r[e]=i("fd10")("./".concat(a)).default}));var l={name:"card-index",components:r,props:{card:{type:Object,default:function(){return{}}},isCardWrap:{type:Boolean,default:!1}}},c=l,u=i("2877"),d=Object(u["a"])(c,a,o,!1,null,null,null);e["default"]=d.exports},3959:function(t,e,i){"use strict";var a=i("163c"),o=i.n(a);e["default"]=o.a},3990:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.wrap},[i("woo-divider",{class:t.$style.line}),i("a-link",{attrs:{"link-type":"old","style-type":"none",href:t.card.scheme},on:{click:function(t){t.preventDefault()}}},[i("div",{on:{click:function(e){return t.toScheme()}}},[t.card.users&&t.card.users.length?i("div",{class:t.$style.userbox},[i("woo-box",{attrs:{old:"",items:6}},t._l(t.card.users,(function(e){return i("woo-box-item",{key:e.id},[i("woo-box",{attrs:{direction:"y",align:"center"},nativeOn:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.toProfile(e.id)}}},[i("woo-avatar",{attrs:{size:50,src:e.avatar_large,verified:t.getWeiboVerifiedIcon(e)}})],1)],1)})),1)],1):t._e(),t.card.button?i("div",[i("woo-divider"),i("woo-box",{class:t.$style.more,attrs:{align:"center",justify:"center"}},[i("div",{domProps:{textContent:t._s(t.card.button.title)}}),i("woo-fonticon",{class:t.$style.icon2,attrs:{value:"angleRight"}})],1)],1):t._e()])])],1)},o=[],n=i("cc8d"),s={name:"card24",props:{card:{type:Object,default:function(){return{}}}},methods:{getWeiboVerifiedIcon:n["a"],toScheme:function(){this.card&&this.card.scheme&&this.$router.push({path:this.card.scheme})},toProfile:function(t){t&&this.$router.push({name:"profile",params:{id:t}})}}},r=s,l=i("6a94"),c=i("2877");function u(t){this["$style"]=l["default"].locals||l["default"]}var d=Object(c["a"])(r,a,o,!1,u,null,null);e["default"]=d.exports},"399b":function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var a=i("53ca");function o(t){return null!=t&&"object"===Object(a["a"])(t)&&!1===Array.isArray(t)}},"39d7":function(t,e,i){t.exports={list12:"Summary_list12_2gUoV",h3:"Summary_h3_2JSVz",h4:"Summary_h4_3duQZ",tit:"Summary_tit_3B2Ms",more:"Summary_more_20xJ8",icon2:"Summary_icon2_1eOdz",list2:"Summary_list2_1JetI",num2:"Summary_num2_3I7Ou",f40:"Summary_f40_3e188",cur:"Summary_cur_WqxPi",f24:"Summary_f24_21oiy",cla:"Summary_cla_1LcuM",clb:"Summary_clb_3cIpf",clc:"Summary_clc_1Q9bq",cld:"Summary_cld_10s-a",dot:"Summary_dot_2gn0O",bga:"Summary_bga_17iAX",bgb:"Summary_bgb_3eo5X",bgc:"Summary_bgc_1Vi4u",bgd:"Summary_bgd_xk4zs",w1:"Summary_w1_2UUDc",w2:"Summary_w2_2Ccgv",data:"Summary_data_1R49r",data1:"Summary_data1_8vJpk",data2:"Summary_data2_174HV",num3:"Summary_num3_3dpVr",pro:"Summary_pro_1-Kqs",proin:"Summary_proin_ZQKTb",help:"Summary_help_2NRw5",helppop1:"Summary_helppop1_3jBIh",card:"Summary_card_-p3Fo",cardlist:"Summary_cardlist_2fn7P"}},"3a19":function(t,e,i){"use strict";var a=i("22f0"),o=i.n(a);o.a},"3a56":function(t,e,i){"use strict";var a=i("8d83"),o=i.n(a);e["default"]=o.a},"3a58":function(t,e,i){"use strict";var a=i("6a74"),o=i.n(a);e["default"]=o.a},"3b0a":function(t,e,i){"use strict";var a=i("632c"),o=i.n(a);o.a},"3b28":function(t,e,i){"use strict";var a=i("9ee6"),o=i.n(a);e["default"]=o.a},"3d00":function(t,e,i){"use strict";var a=i("44a3"),o=i.n(a);e["default"]=o.a},"3d62":function(t,e,i){"use strict";var a=i("6187"),o=i.n(a);e["default"]=o.a},"3da4":function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_illustration",use:"woo_svg_illustration-usage",viewBox:"0 0 1024 1024",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" id="woo_svg_illustration"><path fill="currentColor" d="M808.095 552.675l-.02 34.928 148.566.039a9.394 9.394 0 019.387 9.39v49.13c.004 5.185-4.199 9.387-9.383 9.387-.001 0-.003 0-.004-.004l-58.495-.025-3.153 9.478c-16.536 46.251-38.226 86.91-65.121 122.051l-10.33 12.919-2.455 2.745 3.329 2.555c31.232 22.925 67.815 43.323 109.905 61.342l18.376 7.577 8.996 3.441c4.842 1.852 7.266 7.279 5.414 12.122a9.37 9.37 0 01-.539 1.164l-23.599 42.979a9.387 9.387 0 01-12.102 4.036c-72.919-33.017-123.478-60.311-151.676-81.882l-6.544-5.224-5.002 4.279c-37.899 30.841-81.958 55.314-131.908 73.289l-19.007 6.436-9.92 2.974a9.387 9.387 0 01-11.143-4.896l-21.984-45.341a9.386 9.386 0 015.274-12.932c69.413-24.925 117.19-47.494 143.331-67.706l1.263-1.069-2.703-2.876c-33.442-36.825-58.887-77.791-76.351-122.985l-6.175-17.146-2.308-7.331-58.63.025c-5.185.006-9.389-4.195-9.391-9.379 0-.001 0-.003.004-.004v-49.13c.002-5.183 4.204-9.386 9.387-9.389l158.183-.04.029-34.928c.012-5.181 4.214-9.38 9.395-9.387h57.721c5.185-.005 9.387 4.197 9.387 9.382.001.002.001.004-.004.006zM797.224 85.232c43.096 0 78.44 33.189 81.867 75.402l.272 6.737v316.221a9.387 9.387 0 01-9.387 9.387h-51.63a9.387 9.387 0 01-9.387-9.387V167.371c0-6.481-5.253-11.734-11.734-11.734H140.111c-5.555 0-10.208 3.86-11.424 9.044l-.31 2.691.011 390.359c49.77-35.066 100.66-53.017 152.533-53.017 49.318 0 99.347 20.012 148.602 52.849 28.585 19.057 50.793 38.092 62.85 50.203l7.676 6.634 8.054 6.584 9.345 7.218a9.388 9.388 0 013.649 7.427l.016 69.47a6.147 6.147 0 01-9.427 5.2c-16.984-10.965-32.99-22.662-47.604-34.371-6.639-5.32-11.969-9.807-16.299-13.634L436.95 652.28l-7.327-6.431c-11.816-10.128-25.011-20.278-39.154-29.706-38.75-25.834-76.727-41.025-109.549-41.025-45.687 0-92.861 20.732-141.781 63.755l-10.763 9.795v196.336c0 5.555 3.86 10.208 9.044 11.424l2.691.31h371.597a9.387 9.387 0 019.387 9.387v51.63c0 5.185-4.203 9.388-9.387 9.388H140.111c-43.096 0-78.44-33.19-81.867-75.403l-.272-6.737V167.371c0-43.096 33.189-78.44 75.402-81.867l6.737-.272h657.113zm29.907 570.289H700.355l5.512 12.894c14.726 32.346 34.551 61.762 59.677 88.566l2.307 2.364 2.344-2.656c20.323-24.8 37.121-52.891 50.3-84.155l6.636-17.013zM632.945 237.776c38.884 0 70.405 31.521 70.405 70.405s-31.521 70.405-70.405 70.405c-38.883 0-70.405-31.521-70.405-70.405s31.522-70.405 70.405-70.405z" /></symbol>'});s.a.add(r);e["default"]=r},"3dd0":function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_polishing",use:"woo_svg_polishing-usage",viewBox:"0 0 1024 1024",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" id="woo_svg_polishing"><path fill="currentColor" d="M610.471 737.487l26.587 71.884 71.884 26.587-71.884 26.587-26.587 71.884-26.587-71.884L512 835.958l71.884-26.587 26.587-71.884zM709.074 89.57a52.518 52.518 0 0137.157 15.403l148.495 148.56c20.494 20.507 20.494 53.74 0 74.247L291.363 915.042a52.49 52.49 0 01-37.091 15.362h-148.56c-29.005 0-52.519-23.513-52.519-52.518v-148.56a52.527 52.527 0 0115.362-37.157l603.363-587.195a52.515 52.515 0 0137.156-15.404zm-98.296 185.119l-478.874 465.6v111.338h111.469l478.832-465.51-111.427-111.428zm229.46 265.921l35.45 95.845 95.845 35.45-95.845 35.45-35.45 95.845-35.45-95.845-95.845-35.45 95.845-35.45 35.45-95.845zM183.762 212.307l35.45 95.845 95.845 35.45-95.845 35.45-35.45 95.845-35.45-95.845-95.845-35.45 95.845-35.45 35.45-95.845zm525.246-33.021l-57.817 56.116L762.618 346.83l57.794-56.14-111.404-111.404z" /></symbol>'});s.a.add(r);e["default"]=r},"3e1f":function(t,e,i){t.exports={tag:"Tool_tag_22E_y",timer:"Tool_timer_EpxYh",timer_desc:"Tool_timer_desc_3huLW",mar1:"Tool_mar1_3dorR",iconitem:"Tool_iconitem_2d5Oo",mar2:"Tool_mar2_2VMmI",line:"Tool_line_GFygz",count:"Tool_count_3TMUB",error:"Tool_error_2Wddv",btn:"Tool_btn_2Eane",btn1:"Tool_btn1_2vfU9",disabled:"Tool_disabled_2i9Y1",check:"Tool_check_2d3ld",checkc:"Tool_checkc_7h2O5",title:"Tool_title_2OrU9",mix:"Tool_mix_2pktE",itemin:"Tool_itemin_2oxTW",itemin2:"Tool_itemin2_2Vyj6",svg:"Tool_svg_1T6r2",text:"Tool_text_1Mcr8",file:"Tool_file_376Gj",svg2:"Tool_svg2_8c9VB"}},"3e66":function(t,e,i){"use strict";var a=i("f938"),o=i.n(a);e["default"]=o.a},"3e7b":function(t,e,i){},"3e99":function(t,e,i){t.exports={item:"UserCard_item_3qfd-",f12:"UserCard_f12_ZQyGl",fb:"UserCard_fb_QKwFl",cla:"UserCard_cla_3h_BY",clb:"UserCard_clb_3koHy",con:"UserCard_con_JJpsu",right:"UserCard_right_1obC3",rightContent:"UserCard_rightContent_2CGCJ",popBtn:"UserCard_popBtn_394q_",stbtn:"UserCard_stbtn_1qluA"}},"3f3b":function(t,e,i){"use strict";var a=i("51f3"),o=i.n(a);e["default"]=o.a},"3f70":function(t,e,i){"use strict";var a=i("4363"),o=i.n(a);e["default"]=o.a},"3fd0":function(t,e,i){"use strict";var a=i("da1c"),o=i.n(a);e["default"]=o.a},"402b":function(t,e,i){t.exports={m:"FollowBtn_m_1UJhp",s:"FollowBtn_s_3J5Ve",xs:"FollowBtn_xs_2830O"}},"405e":function(t,e,i){},"40a8":function(t,e,i){"use strict";(function(t){i("d3b7"),i("4d63"),i("ac1f"),i("25f0"),i("5319");var a=i("53ca"),o=1/0,n="[object Symbol]",s=/[&<>"]/g,r=RegExp(s.source),l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},c="object"==("undefined"===typeof t?"undefined":Object(a["a"])(t))&&t&&t.Object===Object&&t,u="object"==("undefined"===typeof self?"undefined":Object(a["a"])(self))&&self&&self.Object===Object&&self,d=c||u||Function("return this")();function h(t){return function(e){return null==t?void 0:t[e]}}var p=h(l),f=Object.prototype,m=f.toString,v=d.Symbol,_=v?v.prototype:void 0,g=_?_.toString:void 0;function b(t){if("string"==typeof t)return t;if(w(t))return g?g.call(t):"";var e=t+"";return"0"==e&&1/t==-o?"-0":e}function y(t){return!!t&&"object"==Object(a["a"])(t)}function w(t){return"symbol"==Object(a["a"])(t)||y(t)&&m.call(t)==n}function x(t){return null==t?"":b(t)}function k(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?$(t):(t=x(t),t&&r.test(t)?t.replace(s,p):t)}function $(t){return t=""+t,t.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&#39;/g,"'").replace(/<br \/>/g,"\n")}e["a"]=k}).call(this,i("c8ba"))},"40aa":function(t,e,i){t.exports={wrap:"FollowFeed_wrap_2CppJ",line:"FollowFeed_line_2Ceie",item:"FollowFeed_item_1b-kB"}},"40ee":function(t,e,i){t.exports={wrap:"TipsAd_wrap_3QB_0",bottomGap:"TipsAd_bottomGap_1P4hW",topGap:"TipsAd_topGap_3jjF0",adBackground:"TipsAd_adBackground_2wgaa",picture:"TipsAd_picture_2Gz8N",icon:"TipsAd_icon_26MuS",iconClass1:"TipsAd_iconClass1_SwN0D",iconClass2:"TipsAd_iconClass2_1MYLV",text:"TipsAd_text_6NjMH",close:"TipsAd_close_Z-i_N"}},"40fb":function(t,e,i){"use strict";var a=i("ff42"),o=i.n(a);e["default"]=o.a},"40fc":function(t,e,i){t.exports={nocusor:"cardScheme_nocusor_2ewGM"}},"41ab":function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_ask",use:"woo_svg_ask-usage",viewBox:"0 0 1024 1024",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" id="woo_svg_ask"><path fill="currentColor" d="M515.446 52.446c252.744 0 457.632 204.888 457.632 457.632S768.19 967.71 515.446 967.71c-252.743 0-457.632-204.888-457.632-457.632S262.703 52.446 515.446 52.446zm0 65.376c-216.624 0-392.256 175.633-392.256 392.256s175.633 392.256 392.256 392.256 392.256-175.632 392.256-392.256-175.633-392.256-392.256-392.256zm-5.492 574.263c16.475 0 30.596 4.707 41.579 15.69 10.983 10.199 16.475 23.536 16.475 40.01s-6.276 29.811-17.26 40.794c-10.983 10.199-25.104 15.69-40.795 15.69a56.22 56.22 0 01-40.794-16.475 54.456 54.456 0 01-16.475-40.01c0-16.475 5.492-29.812 16.475-40.01 10.984-10.982 25.105-15.689 40.795-15.689zm14.121-458.94c50.209 0 91.003 13.337 122.384 41.579 31.38 27.458 47.071 65.115 47.071 112.185 0 38.441-10.199 70.606-29.812 95.71-7.06 8.63-29.027 29.027-65.899 61.192a130.253 130.253 0 00-32.95 40.795c-4.682 8.513-7.978 17.488-10.015 26.924-.071.33-.141.688-.21 1.075-3.819 21.473-22.489 37.115-44.299 37.115h-7.755c-18.37-.001-33.261-14.893-33.261-33.263l.043-1.696.13-1.692c1.979-19.326 6.637-36.496 14.562-51.214 10.199-21.966 40.01-54.131 88.649-97.279l13.337-14.906c14.121-18.044 21.966-36.872 21.966-57.269 0-27.458-7.845-48.64-22.751-64.33-15.69-15.69-38.441-23.535-66.683-23.535-35.303 0-61.193 10.983-76.882 33.734-9.022 12.028-15.161 27.258-18.419 45.69l-1.389 9.483a39.495 39.495 0 01-30.764 33.957c-5.07 1.112-9.309 1.668-12.717 1.668-2.073 0-4.418-.206-7.036-.617l-4.131-.772c-16.02-3.42-27.329-17.351-27.794-33.314l.192-4.841c4.737-43.712 20.712-78.954 47.927-106.169 32.951-33.735 78.453-50.21 136.506-50.21z" /></symbol>'});s.a.add(r);e["default"]=r},"41b2":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("common-player",t._g(t._b({attrs:{options:t.playerOptions,"page-info":t.pageInfo,"same-options-update":""},on:{ready:t.readyHandle}},"common-player",t.$attrs,!1),t.$listeners))},o=[],n=i("41cc"),s=i("8d7e"),r=(i("99af"),i("4de4"),i("7db0"),i("c740"),i("caad"),i("d81d"),i("45fc"),i("b680"),i("b64b"),i("d3b7"),i("ac1f"),i("6062"),i("3ca3"),i("466d"),i("5319"),i("2ca0"),i("ddb0"),i("96cf"),i("1da1")),l=i("8468"),c=i("5530"),u=i("ed09"),d=(i("4160"),i("25f0"),i("159b"),i("53ca")),h=function(t){return!!t&&"object"===Object(d["a"])(t)&&"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object},p=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,a=Object(c["a"])({},e);return Object.keys(i).forEach((function(e){h(a[e])&&h(i[e])?a[e]=t(i[e]):a[e]=i[e]})),a},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.match(/redirect_tencent_video/i)?t="".concat(t,"&is_https=1"):t.match(/^(http(s?):)/)&&(t=t.replace(/^(http(s?):)/,"")),t},m=i("b047"),v=i.n(m),_=i("b893"),g=i("52c4"),b=i("a026"),y=["playToggle","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","customControlSpacer","playbackRateMenuButton","qualityButton","miniPlayerButton","fullscreenToggle","volumePanel"],w=new Set,x=new Set,k=function(t,e){var i,a,o=e.config,n=Object(u["p"])(t),s=n.content,r=n.pageInfo,l=n.customOptions,d=Object(u["a"])((function(){return r.value.media_info||{}})),h=Object(u["n"])(d.value.playback_list||r.value.slide_cover&&r.value.slide_cover.playback_list||[]),m=Object(u["a"])((function(){var t=d.value.titles||[];return t.length&&t[0].title||""})),v=Object(u["a"])((function(){return h.value.filter((function(t){return t.meta&&1===t.meta.type}))})),g=Object(u["a"])((function(){var t;return"m3u8"===(null===(t=Object(u["q"])(d))||void 0===t?void 0:t.format)})),b=Object(u["n"])((null===(i=Object(u["q"])(s))||void 0===i?void 0:i.is_paid)||w.has(null===(a=Object(u["q"])(s))||void 0===a?void 0:a.mid)),k=Object(u["a"])((function(){if(!v.value.length)return[];var t="720p",e=v.value.map((function(e,i){var a=e.meta,o=void 0===a?{}:a,n=e.play_info,s=void 0===n?{}:n,r=o.quality_label||s.quality_label||"",l=o.quality_desc||s.quality_desc||"",c=s.url||"",d=o.quality_icon||"",h=o.scheme||"",p=/\.m3u8/i.test(c)||Object(u["q"])(g)?"application/x-mpegURL":"video/mp4",m=!1;return r===t&&(m=!0),{selectLabel:r,label:l+" "+r,value:f(c),type:p,icon:d,scheme:h,order:i,selected:m,selectable:!0,key:o.quality_index}}));return e.some((function(t){return t.selected}))||(e[e.length-1].selected=!0),e})),$=Object(u["a"])((function(){var t=h.value.filter((function(t){return t.meta&&3===t.meta.type}));if(t.length){var e,i=t[0].play_info||{},a=i&&i.urls||[];if(a.length)return e=i.width>i.height?80/i.height:90/i.height,{urls:a,width:i.width||160,height:i.height||90,interval:i.interval||2,col:i.col,row:i.row,scale:e}}})),C=Object(u["a"])((function(){return Object(_["d"])(r.value.page_pic)})),O=Object(u["a"])((function(){var t="";return d.value.stream_url?t=d.value.stream_url:r.value.slide_cover&&r.value.slide_cover.slide_videos&&r.value.slide_cover.slide_videos[0]&&(t=r.value.slide_cover.slide_videos[0].url),t})),j=Object(u["a"])((function(){return d.value.author_info||{}})),T=Object(u["a"])((function(){var t=r.value,e=t.page_id,i=t.object_type;return!("live"!==i||!e.match(/^(232050|232132|232596)/))})),D=Object(u["a"])((function(){var t,e;return null===(t=Object(u["q"])(r))||void 0===t||null===(e=t.page_id)||void 0===e?void 0:e.startsWith("231418")})),S=Object(u["a"])((function(){var t;return"podcast_audio"===(null===(t=r.value)||void 0===t?void 0:t.object_type)})),I=Object(u["a"])((function(){var t,e,i,a,n,h,m,v,w,$,I,L,B,P,A,E,M,F,R,V,N,H,z,U,G,q,W,Q,J=window.location,K=J.protocol,Y=J.host,X={controls:!0,muted:!1,preload:"meta",autoplay:!1,playbackRates:[2,1.5,1.25,1,.5],addressClipboard:{text:s.value.idstr?r.value.short_url||"".concat(K,"//").concat(Y,"/").concat(null===(t=s.value.user)||void 0===t?void 0:t.id,"/").concat(s.value.mblogid):""},contextMenu:!1,poster:"podcast_audio"!==r.value.object_type&&C.value,nextVideo:!1,openLayerButton:!1,volumeToast:!0,miniPlayerMask:!0,controlBar:{children:y,miniPlayerButton:{bubbleText:"试试“小窗播放”，边刷微博边看视频"},qualityMenuButton:!1,qualityButton:!1},fakeDuration:Object(u["q"])(D)&&(null===(e=Object(u["q"])(d))||void 0===e?void 0:e.display_duration),layerButton:!0,plugins:{playLog:{uid:null===(i=Object(u["q"])(o))||void 0===i?void 0:i.uid,object_id:null===(a=Object(u["q"])(r))||void 0===a?void 0:a.object_id,mid:null===(n=Object(u["q"])(s))||void 0===n?void 0:n.mid,mid_uid:null===(h=Object(u["q"])(s))||void 0===h||null===(m=h.user)||void 0===m?void 0:m.idstr,rootmid:null===(v=Object(u["q"])(s))||void 0===v?void 0:v.mid,rootuid:null===(w=Object(u["q"])(s))||void 0===w||null===($=w.user)||void 0===$?void 0:$.idstr,duration:null===(I=Object(u["q"])(d))||void 0===I?void 0:I.duration,extend:{vf:"newPC"},cooperate_video:null===(L=Object(u["q"])(d))||void 0===L?void 0:L.cooperate_video},playStatistics:{uid:o.value.uid,mid:s.value.mid,keys:null===(B=r.value)||void 0===B||null===(P=B.actionlog)||void 0===P?void 0:P.uuid,type:Object(u["q"])(S)?"podcast":"feedvideo",uuid:null===(A=r.value)||void 0===A||null===(E=A.actionlog)||void 0===E?void 0:E.uuid,author_uid:null===(M=j.value)||void 0===M?void 0:M.id,media_id:null===(F=d.value)||void 0===F?void 0:F.media_id}},toastPlaceholder:!0,flvjs:{mediaDataSource:{isLive:!0,cors:!0,withCredentials:!1}}};Object(u["q"])(D)&&(X.vPlus={uid:null===(N=Object(u["q"])(r))||void 0===N?void 0:N.authorid,oid:null===(H=Object(u["q"])(r))||void 0===H?void 0:H.object_id,mid:null===(z=Object(u["q"])(s))||void 0===z?void 0:z.mid,isPaid:Object(u["q"])(b),loadImmediate:x.has(null===(U=Object(u["q"])(r))||void 0===U?void 0:U.authorid)});if(!T.value){var Z,tt;if(0===k.value.length){var et=O.value;et=et.match(/\.m3u8/i)||Object(u["q"])(g)?{type:"application/x-mpegURL",src:et.match(/^http:/i)?et.replace(/^http:/,"https:"):et}:{type:"video/mp4",src:f(et)},X.sources=[Object(c["a"])({},et)]}else if(1===k.value.length){var it=k.value[0].value;it=it.match(/\.m3u8/i)?{type:"application/x-mpegURL",src:it.match(/^http:/i)?it.replace(/^http:/,"https:"):it}:{type:"video/mp4",src:f(it)},X.sources=[it]}else X.controlBar.qualityButton={qualityList:k.value};j.idstr!==(null===(Z=o.value)||void 0===Z||null===(tt=Z.user)||void 0===tt?void 0:tt.idstr)&&(X.followArea={user:j.value})}(Object(u["q"])(g)&&(X.html5={hls:{handleManifestRedirects:!0}}),"podcast_audio"===r.value.object_type)&&(X.podcast={thumbnail:C.value},X.sources=[{src:Object(_["d"])(d.value.stream_url)}],X.plugins.audioPlayLog={uuid:null===(G=r.value)||void 0===G||null===(q=G.actionlog)||void 0===q?void 0:q.uuid,author_uid:null===(W=j.value)||void 0===W?void 0:W.id,media_id:null===(Q=d.value)||void 0===Q?void 0:Q.media_id});var at,ot,nt,st,rt,lt=null===(R=r.value)||void 0===R||null===(V=R.cards)||void 0===V?void 0:V.find((function(t){return"media_abstract"===t.object_type||t.total_abstract}));lt&&(X.aiAbstract={actionLog:{uid:null===(at=Object(u["q"])(o))||void 0===at?void 0:at.uid,oid:null===(ot=Object(u["q"])(r))||void 0===ot?void 0:ot.object_id,mid:null===(nt=Object(u["q"])(s))||void 0===nt?void 0:nt.mid,authorid:null===(st=Object(u["q"])(r))||void 0===st?void 0:st.authorid},totalAbstract:null===lt||void 0===lt?void 0:lt.total_abstract,splits:null===lt||void 0===lt||null===(rt=lt.split_abstract)||void 0===rt?void 0:rt.map((function(t){return{scope:[t.begin_time/1e3,t.end_time/1e3],time:t.begin_time/1e3,text:t.text}}))});return p(X,l.value)}));return{playerOptions:I,title:m,playbackList:v,videoQuality:k,thumbnail:C,scrubber:$,videoSrc:O,authorInfo:j,isLive:T,isVPlus:D,isPaid:b}},$=function(t,e,i){var a=i.title,o=i.miniPlayerActive,n=i.miniPlayerStatus,s=i.updateMiniPlayerStatus,r=i.isVPlus,l="",c=null,d=Object(u["n"])(!1),h=Object(u["p"])(e),p=h.content,f=function(t,e){var i=e.playStatus,a=e.mblogid,o=e.currentTime;t&&(p.value.mblogid===a&&d.value&&(t.currentTime(o),i?t.play():t.pause()),t.hasClass("wbpv-miniplayer-mask-show")&&t.removeClass("wbpv-miniplayer-mask-show"))},m=function(i){var o,n,s,r;t.$Bus.$emit("activate-miniplayer",{currentTime:i.currentTime(),src:i.src(),type:i.currentType(),playStatus:!i.paused(),mblogid:p.value.mblogid,title:a.value,content:p.value,mixVideoInfo:e.mixVideoInfo,thumbnail:"podcast_audio"===(null===(o=p.value)||void 0===o||null===(n=o.page_info)||void 0===n?void 0:n.object_type)?null===(s=p.value)||void 0===s||null===(r=s.page_info)||void 0===r?void 0:r.page_pic:""}),i&&(i.pause(),i.addClass("wbpv-miniplayer-mask-show"))},v=function(i,a){var o,n=a||this.player_;if(n.isFullscreen()){var s=b["default"].extend({template:"<Toast></Toast>",components:{Toast:g["Toast"]}});try{var c=n.getChild("toastPlaceholder").el_,d=document.createElement("div");c.appendChild(d),l=(new s).$mount(d)}catch(i){}}!Object(u["q"])(r)||(null===e||void 0===e||null===(o=e.content)||void 0===o?void 0:o.is_paid)?window.location.href.match(/layerid/)?(n&&n.isFullscreen()&&n.exitFullscreen(),t.$Bus.$emit("enterMiniPlayer",(function(){m(n)}))):n&&n.isFullscreen()?(n.exitFullscreen(n),m(n)):m(n):t.$_wooBus.$_w_toast({type:"warn",message:"订阅后可小窗播放",action:function(){l&&l.$destroy&&l.$destroy()}})},_=function(t,e){if(o.value){var i=e||this.player_;v(t,i)}},y=function(t){n.value.mblogid&&p.value.mblogid&&n.value.mblogid===p.value.mblogid&&(t.value.hasClass("wbpv-miniplayer-mask-show")||t.value.addClass("wbpv-miniplayer-mask-show")),t.value.on("miniplayer-active",v),t.value.on("play",_),c=Object(u["s"])(n,(function(e){Object.keys(e).length&&(e.mblogid===p.value.mblogid?e.open||(f(t.value,e),d.value&&s({})):t.value&&t.value.hasClass("wbpv-miniplayer-mask-show")&&t.value.removeClass("wbpv-miniplayer-mask-show"))}),{immediate:!0})},w=function(t){t.value&&(c&&c(),t.value.off("miniplayer-active",v),t.value.off("play",_))};return Object(u["g"])((function(){d.value=!0})),Object(u["j"])((function(){d.value=!1})),{registerMiniPlayer:y,unregisterMiniPlayer:w}},C=function(t,e,i){var a=i.scrubber,o=v()((function(t){var e,i=null===t||void 0===t||null===(e=t.target)||void 0===e?void 0:e.player,a=i&&i.volume().toFixed(2)||.5;localStorage.setItem("V7_PLAYER_VOLUME",a)}),500),n=function(t,e){var i=e||this.player_;if(i){var a=localStorage.getItem("V7_PLAYER_VOLUME")||.5;i.volume(a),i.on("volumechange",o)}},s=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.scheme,o=i.url;!o&&a&&t.$_w_dialog({type:"confirm",message:"该清晰度为会员专享，成为会员即享受极致画质",action:function(){window.open(a||"https://pay.vip.weibo.com/vippay?from=tq_gaoqingshipin")},btnConfirm:"开通会员"})},r=function(e,i){var a=i.user;t.$http.post("/ajax/friendships/create",{friend_uid:a.idstr,page:"videoHover"}).then((function(t){t.data.ok>0&&i.trigger("after-follow-button-click")}))},l=function(t){var i=function(){t.one("loadstart",n)},o=function(){var i=Object(u["p"])(e),o=i.useScrubber;o.value&&a.value&&t.spriteThumbnails&&t.spriteThumbnails(a.value)},l=function(){t.on("before-quality-change",s)},c=function(){t.on("follow-button-click",r)};return{setVolume:i,setScrubber:o,setQuality:l,setFollow:c}},c=function(t){t&&(t.off("loadstart",n),t.off("volumechange",o),t.off("before-quality-change",s),t.off("follow-button-click",r))};return{registerBasicPlayer:l,unregisterBasicPlayer:c}},O=function(t,e,i,a){Object(l["a"])(a);var o=!1,n=Object(u["p"])(e),s=n.pageInfo,c=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=i.src(),!a&&!o){e.next=3;break}return e.abrupt("return");case 3:t.$http.get("/ajax/multimedia/getLiveInfo",{params:{live_id:s.value.object_id}}).then((function(e){if(e.data.ok>0){var a=e.data.data;if(a&&[1,3].includes(+a.status)){if(Array.isArray(a.stream)&&a.stream.length){var n,s,r=i.getChild("controlBar"),l=a.stream.map((function(t,e){var i=!!t.url.match(/\.flv/),a=i?"video/x-flv":"application/x-mpegURL";return{selectLabel:t.title,label:t.title,value:f(t.url),type:a,order:e,selected:t.is_suggestion,selectable:!0,key:t.type+t.title,align:"center"}}));if(l.some((function(t){return t.selected}))||(l[l.length-1].selected=!0),l.length>1){var c=r.children_.findIndex((function(t){return"PlaybackRateMenuButton"===t.name_}));r.addChild("qualityButton",{qualityList:l},c+1)}o=!0;var u=(null===l||void 0===l||null===(n=l.find((function(t){return t.selected})))||void 0===n?void 0:n.value)||(null===(s=a.stream[a.stream.length-1])||void 0===s?void 0:s.url),d=!!u.match(/\.flv/),h=d?"video/x-flv":"application/x-mpegURL";i.src({type:h,src:u})}}else 5===+a.status&&t.$_w_toast({type:"warn",message:"该直播已结束，暂不支持回放观看"})}}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();i.on("click",c);var d=i.getChild("BigPlayButton");d&&d.on("click",c)},j=function(t){var e=function(e,i){var a,o,n,s,r=i.mid,l=i.list;t.content.mid===r&&(w.add(r),x.add(null===(a=t.content)||void 0===a||null===(o=a.page_info)||void 0===o?void 0:o.authorid),t.content.is_paid=!0,(null===(n=t.content)||void 0===n||null===(s=n.page_info)||void 0===s?void 0:s.media_info)&&(t.content.page_info.media_info.playback_list=l))},i=function(t){t&&t.on("update-vPlus-status",e)},a=function(t){t&&t.off("update-vPlus-status",e)};return{vPlusRegister:i,vPlusUnregister:a}},T=function(t){if(t){var e=0,i=0,a=function a(){var o=t.currentTime(),n=o-i,s=n<.6&&n>0?n:0;e+=s,e>10&&(t.trigger("show-bubble",!0),localStorage.setItem("V7_PLAYER_BUBBLE",!0),setTimeout((function(){t.trigger("show-bubble",!1)}),1e4),t.off("timeupdate",a)),i=o},o=function(){i=t.currentTime()},n={seeked:o,playing:o,seeking:o,timeupdate:a};t.one("loadeddata",(function(){t.duration()>120&&(Object.keys(n).forEach((function(e){t&&t.on(e,n[e])})),Object(u["i"])((function(){t&&Object.keys(n).forEach((function(e){t.off(e,n[e])}))})))}))}},D={props:{useScrubber:{type:Boolean,default:!0},pageInfo:{type:Object,default:function(){return{}}},content:{type:Object,default:function(){return{}}},customOptions:{type:Object,default:function(){return{}}},mixVideoInfo:{type:Object,default:function(){return{}}}},setup:function(t){var e=Object(u["d"])().proxy,i=Object(s["b"])(["miniPlayerActive","miniPlayerStatus","config"]),a=i.miniPlayerActive,o=i.miniPlayerStatus,n=i.config,r=Object(s["a"])(["updateMiniPlayerStatus"]),l=r.updateMiniPlayerStatus,c=j(t),d=c.vPlusRegister,h=c.vPlusUnregister,p=null,f=Object(u["n"])(null),m=k(t,{config:n}),v=m.playerOptions,_=m.title,g=m.scrubber,b=m.isLive,y=m.isVPlus,w=$(e,t,{title:_,miniPlayerActive:a,miniPlayerStatus:o,updateMiniPlayerStatus:l,isVPlus:y}),x=w.registerMiniPlayer,D=w.unregisterMiniPlayer,S=C(e,t,{scrubber:g}),I=S.registerBasicPlayer,L=S.unregisterBasicPlayer,B=function(i){p=i,f.value=i,Object(u["q"])(y)&&d(p),x(f);var a=I(p),o=a.setVolume,n=a.setScrubber,s=a.setFollow;o(),localStorage.getItem("V7_PLAYER_BUBBLE")||T(p),b.value?O(e,t,p,{}):(n(),s())};return Object(u["i"])((function(){h(p),D(f),L(p),p=null,f.value=null})),{playerOptions:v,readyHandle:B}},components:{CommonPlayer:n["a"]}},S=D,I=i("14a3"),L=i("2877");function B(t){this["$style"]=I["default"].locals||I["default"]}var P=Object(L["a"])(S,a,o,!1,B,null,null);e["a"]=P.exports},"41cc":function(t,e,i){"use strict";i("b0c0");var a=i("20f3"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("player-core",t._g(t._b({class:[t.$style.common,t.playerError&&t.$style.error],attrs:{options:t.options},on:{ready:t.onPlayerReady,error:t.onPlayerError}},"player-core",t.$attrs,!1),t.$listeners))},n=[],s=(i("d3b7"),i("96cf"),i("1da1")),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.reseted?i("div",[i("video",{ref:"video",staticClass:"wbp-video"})]):t._e()},l=[],c=(i("99af"),i("4160"),i("159b"),i("ade3")),u=i("5530"),d=i("879d"),h=(i("4e1b"),window.WbVideo||a["a"]),p=["loadeddata","loadedmetadata","canplay","canplaythrough","play","pause","waiting","playing","ended","error","close"],f={name:"video-player-core",props:{mediaType:{type:String},customEventName:{type:String,default:"statechanged"},playsinline:{type:Boolean,default:!0},x5VideoPlayerType:{type:String,default:"h5"},x5VideoPlayerFullscreen:{type:Boolean,default:!1},options:{type:Object,required:!0},customPlayEvent:{type:Array,default:function(){return[]}},globalOptions:{type:Object,default:function(){return{controls:!0,muted:!1,preload:"meta",autoplay:!1,playbackRates:[2,1.5,1.25,1,.5],initialize:!0,plugins:{}}}},sameOptionsUpdate:{type:Boolean,default:!1}},data:function(){return{player:null,reseted:!0}},computed:{initOptions:function(){return Object(u["a"])(Object(u["a"])({},this.globalOptions),this.options)}},watch:{options:{handler:function(t,e){this.sameOptionsUpdate?JSON.stringify(t)!==JSON.stringify(e)&&this.reset(t):this.reset(t)},deep:!0}},methods:{reset:function(t){var e=this;this.player&&this.dispose((function(){e.player||e.$nextTick((function(){e.initialize(t)}))}))},initialize:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.$refs.video){var i=function(e,i){e&&t.$emit(e,t.player),i&&t.$emit(t.customEventName,Object(c["a"])({},e,i))},a=this;this.playsinline&&(this.$refs.video.setAttribute("playsinline",this.playsinline),this.$refs.video.setAttribute("webkit-playsinline",this.playsinline)),this.playsinline&&(this.$refs.video.setAttribute("x5-playsinline",this.playsinline),this.$refs.video.setAttribute("x5-video-player-type",this.x5VideoPlayerType),this.$refs.video.setAttribute("x5-video-player-fullscreen",this.x5VideoPlayerFullscreen)),h.addLanguage("zh-CN",d);var o=Object(u["a"])(Object(u["a"])({},this.initOptions),e);this.player=h(this.$refs.video,o,(function(){for(var t=this,e=p.concat(a.customPlayEvent),n={},s=0;s<e.length;s++)"string"===typeof e[s]&&void 0===n[e[s]]&&function(e){n[e]=null,t.on(e,(function(){i(e,!0)}))}(e[s]);o.initialize&&a.$emit("ready",this)}))}},dispose:function(t){var e=this,i=p.concat(this.customPlayEvent);i.forEach((function(t){e.player.off(t)})),this.player&&this.player.dispose&&("Flash"!==this.player.techName_&&this.player.pause&&this.player.pause(),this.player.dispose(),this.player=null,this.$nextTick((function(){e.reseted=!1,e.$nextTick((function(){e.reseted=!0,e.$nextTick((function(){t&&t()}))}))})))},setPlayerSrc:function(t){this.player&&this.player.src(t)}},mounted:function(){var t=this;this.player||this.$nextTick((function(){t.initialize()}))},beforeDestroy:function(){this.player&&this.dispose()}},m=f,v=(i("2adc"),i("2877")),_=Object(v["a"])(m,r,l,!1,null,"560f3af5",null),g=_.exports,b=i("fc78"),y=i.n(b);window.flvjs=y.a;var w={name:"video-player",props:{options:{type:Object},ssigHook:{type:Function},useHotkeys:{type:Boolean,default:!0},hotkeysOptions:{type:Object,default:function(){return{alwaysCaptureHotkeys:!0,volumeStep:.1,seekStep:10,enableModifiersForNumbers:!1}}}},data:function(){return{updateErrorUrl:!1,playerError:!1}},methods:{onPlayerReady:function(t){t.hotkeys&&this.useHotkeys&&t.hotkeys(this.hotkeysOptions)},onPlayerError:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var a,o,n,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(o=null===t||void 0===t||null===(a=t.tech_)||void 0===a?void 0:a.el_,n=o&&o.networkState===o.NETWORK_NO_SOURCE&&o.readyState===o.HAVE_NOTHING,s=o&&o.networkState===o.NETWORK_IDLE&&o.readyState===o.HAVE_ENOUGH_DATA,!n&&!s){i.next=8;break}return i.next=6,e.updateSsigUrl(t);case 6:i.next=9;break;case 8:e.playerError=!0;case 9:case"end":return i.stop()}}),i)})))()},updateSsigUrl:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var a,o,n,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!e.updateErrorUrl){i.next=2;break}return i.abrupt("return");case 2:if(e.updateErrorUrl=!0,a=t.currentTime(),o=t.src(),n=t.currentType(),!/Expires/i.test(o)){i.next=11;break}return i.next=9,e.updateUrl(o);case 9:s=i.sent,s&&(t.one("canplay",(function(){e.updateErrorUrl=!1})),t.src({src:s,type:n}),t.ready((function(){t.one("loadedmetadata",(function(){t.currentTime(a)}))})));case 11:case"end":return i.stop()}}),i)})))()},updateUrl:function(t){var e=this;return new Promise(function(){var i=Object(s["a"])(regeneratorRuntime.mark((function i(a){var o,n,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!e.ssigHook){i.next=7;break}return i.next=3,e.ssigHook.call(e);case 3:o=i.sent,a(o),i.next=15;break;case 7:return i.next=9,e.$http.post("/ajax/multimedia/createCert");case 9:if(n=i.sent,!(n.data.ok>0&&n.data.result)){i.next=15;break}return i.next=13,e.$http.get("/ajax/multimedia/getSsigUrl",{params:{url:t}});case 13:s=i.sent,s.data.ok>0&&s.data.data&&a(s.data.data.url);case 15:a();case 16:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}())}},components:{PlayerCore:g}},x=w,k=i("8ab8");function $(t){this["$style"]=k["default"].locals||k["default"]}var C=Object(v["a"])(x,o,n,!1,$,null,null),O=C.exports,j=(i("4de4"),i("caad"),i("a15b"),i("b680"),i("b64b"),i("2532"),i("d4ec")),T=i("bee2"),D=i("257e"),S=i("45eb"),I=i("7e84"),L=i("262e"),B=i("2caf"),P=i("4328"),A=i.n(P),E=i("b047"),M=i.n(E),F=a["a"].registerPlugin||a["a"].plugin,R=a["a"].getPlugin("plugin"),V=function(t){Object(L["a"])(i,t);var e=Object(B["a"])(i);function i(t){var a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(j["a"])(this,i),a=e.call(this,t,o),Object(c["a"])(Object(D["a"])(a),"checkOptions",(function(t){var e=["source","play_type","video_orientation","video_duration","id","id_type","oid","is_contribution","reqHost"],i=e.filter((function(e){return!Object.keys(t).includes(e)}));if(i.length>0)throw new Error("缺少必要的参数 ".concat(i.join(" ")));return t})),Object(c["a"])(Object(D["a"])(a),"onSeekedHandle",(function(){a.updateDisabled=!1,a.lastTime=a.player.currentTime(),a.report(1)})),Object(c["a"])(Object(D["a"])(a),"onSeekingHandle",(function(){a.updateDisabled=!0,a.lastTime=a.player.currentTime()})),Object(c["a"])(Object(D["a"])(a),"timeupdateHandle",(function(){if(!a.updateDisabled){var t=a.player.currentTime(),e=t-a.lastTime,i=e<.6&&e>0?e:0;a.valid_play_duration+=i,a.lastTime=t,a.timeBuffer+=i,a.timeBuffer>=a.next_report_delay_seconds&&-1!==a.next_report_delay_seconds&&a.report(1)}})),Object(c["a"])(Object(D["a"])(a),"report",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(a.player){var e=new XMLHttpRequest;e.withCredentials=!0;var i=a.player.currentTime(),o=Object(u["a"])(Object(u["a"])({},a.options),{},{play_type:t,seconds:i.toFixed(0)});e.open("POST","https://multimedia.api.weibo.com/2/multimedia/user/play_history/report.json?"+A.a.stringify(o)),e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){var t=JSON.parse(e.response);a.next_report_delay_seconds=t.data.next_report_delay_seconds,a.afterReport()}},e.send()}})),Object(c["a"])(Object(D["a"])(a),"afterReport",(function(){a.timeBuffer=0})),a.player=t,a.options=a.checkOptions(o),a.timeBuffer=0,a.next_report_delay_seconds=-1,a.updateDisabled=!1,a.events=["error","abort","pause","replay","ended","dispose"],a.reportOneHandle_=function(){a.report(a.options.play_type)},a.reportHandle_=function(){a.report(1)},a.player.one("canplay",a.reportOneHandle_),a.events.forEach((function(e){t.on(e,a.reportHandle_)})),a.debounceHandler=M()(a.onSeekedHandle,500),a.player.on("seeked",a.debounceHandler),a.player.on("seeking",a.onSeekingHandle),a.player.on("timeupdate",a.timeupdateHandle),a}return Object(T["a"])(i,[{key:"dispose",value:function(){var t=this;this.player.off("seeking",this.onSeekingHandle),this.player.off("timeupdate",this.timeupdateHandle),this.player.off("seeked",this.debounceHandler),this.events.forEach((function(e){t.player.off(e,t.reportHandle_)})),Object(S["a"])(Object(I["a"])(i.prototype),"dispose",this).call(this)}}]),i}(R);F("historyReport",V);i("d81d"),i("07ac"),i("25f0");var N=i("15fd"),H=i("5a0c"),z=i.n(H),U=i("69a0"),G=i.n(U),q=i("fc8e"),W=i.n(q),Q=a["a"].registerPlugin||a["a"].plugin,J=a["a"].getPlugin("plugin");W.a.withCredentials=!0;var K=function(t){Object(L["a"])(i,t);var e=Object(B["a"])(i);function i(t,a){var o;return Object(j["a"])(this,i),o=e.call(this,t,a),Object(c["a"])(Object(D["a"])(o),"_init",(function(t){var e=t.extend,i=t.bitrate,a=void 0===i?"":i,n=t.encode_mode,s=void 0===n?"":n,r=Object(N["a"])(t,["extend","bitrate","encode_mode"]);o.logRecord=Object(u["a"])(Object(u["a"])({play_time:""},r),{},{isautoplay:+o.player.autoplay(),playduration:0,firstframe_status:"",quit_status:"",firstframe_time:0,startplay_time:0,valid_play_duration:0,download_size:"",bitrate:a,encode_mode:s,extend:Object(u["a"])(Object(u["a"])({},e),{},{sid:"H5_"+Math.random().toString(36).substring(5,10)+"_"+ +new Date+Math.floor(1e4*Math.random())+(10*Math.random()).toFixed(0),qType:720})}),o.count=0,o.valid_play_duration=0,o.startTime=Date.now(),o.ended=!1,o.startPlay=!1,o.loadstart=!1,o.loadedMetadata=!1,o.eventMap={pause:o._onPauseHandle,seeked:o._onSeekedHandle,seeking:o._onSeekingHandle,playing:o._onPlayingHandle,timeupdate:o._update,error:o._error,suspend:o._onSuspendHandle,progress:o._onProgressHandle},o.lastTime=0,o.timeBuffer,o.playing=o.player.autoplay,o._bindEvent(),o._playTime(),o._firstFrame()})),Object(c["a"])(Object(D["a"])(o),"_playTime",(function(){var t=!1,e=function e(){o.logRecord["play_time"]=z()().format("YYYY-MM-DD HH:mm:DD"),o.logRecord["startplay_time"]=Math.floor(1e3*o.player.currentTime()),o._sendLog(),t=!0,o.startPlay=!0,t&&o.player.off("playing",e)};o.player.one("playing",e)})),Object(c["a"])(Object(D["a"])(o),"_firstFrame",(function(){var t=function t(){o.logRecord["firstframe_time"]=Date.now()-o.startTime,o.logRecord["duration"]=o.player.duration(),o.logRecord["firstframe_status"]="success",o.loadedMetadata=!0,o.player.off("loadeddata",t)};o.player.on("loadeddata",t)})),Object(c["a"])(Object(D["a"])(o),"_unBindEvent",(function(){Object.keys(o.eventMap).forEach((function(t){o.player.off(t,o.eventMap[t])}))})),Object(c["a"])(Object(D["a"])(o),"_bindEvent",(function(){Object.keys(o.eventMap).forEach((function(t){o.player.on(t,o.eventMap[t])})),o.player.one("ended",(function(){o.ended=!0})),o.player.one("loadstart",(function(){o.loadstart=!0}))})),Object(c["a"])(Object(D["a"])(o),"_onProgressHandle",(function(){o.loading=!0})),Object(c["a"])(Object(D["a"])(o),"_onSuspendHandle",(function(){o.loading=!1})),Object(c["a"])(Object(D["a"])(o),"_onPauseHandle",(function(){o.startPlay&&o._sendLog(),o.lastTime=o.player.currentTime()})),Object(c["a"])(Object(D["a"])(o),"_onSeekedHandle",(function(){o.lastTime=o.player.currentTime()})),Object(c["a"])(Object(D["a"])(o),"_onSeekingHandle",(function(){o.lastTime=o.player.currentTime()})),Object(c["a"])(Object(D["a"])(o),"_onPlayingHandle",(function(){o.lastTime=o.player.currentTime()})),Object(c["a"])(Object(D["a"])(o),"_update",(function(){var t=o.player.currentTime(),e=t-o.lastTime,i=e<.6&&e>0?e:0;o.valid_play_duration+=i,o.lastTime=t,o.timeBuffer+=i,o.timeBuffer>=30&&o._sendLog()})),Object(c["a"])(Object(D["a"])(o),"_error",(function(){o.loadedMetadata?o.logRecord["quit_status"]="error":(o.logRecord["firstframe_time"]=Date.now()-o.startTime,o.logRecord["firstframe_status"]="error"),o._sendLog()})),Object(c["a"])(Object(D["a"])(o),"_md5Log",(function(t,e){return G.a.hash(t+e+"encryptedString")})),Object(c["a"])(Object(D["a"])(o),"_logKey",(function(){return"Log_h5play_"+Math.random().toString(36).substring(5,10)+"_"+ +new Date+Math.floor(1e4*Math.random())+o.count++})),Object(c["a"])(Object(D["a"])(o),"_sendLog",Object(s["a"])(regeneratorRuntime.mark((function t(){var e,i,a,n,s,r,l,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o.logRecord.playduration=Math.floor(1e3*o.player.currentTime()),o.logRecord.valid_play_duration=Math.floor(1e3*o.valid_play_duration),e=o.logRecord,i=e.extend,a=void 0===i?{}:i,n=Object(N["a"])(e,["extend"]),s=new FormData,r=Object.values(n),l=r.join(";")+";"+Object.keys(a).map((function(t){return"".concat(t,"=>").concat(a[t])})).join(","),c=o._logKey(),s.append("data",l),s.append("key",c),s.append("sig",o._md5Log(l,c)),t.next=12,W.a.post("/ajax/log/h5playlog",s);case 12:o._afterSend();case 13:case"end":return t.stop()}}),t)})))),Object(c["a"])(Object(D["a"])(o),"_afterSend",(function(){o.timeBuffer=0,o.valid_play_duration=0})),o.player=t,o._checkInitOptions(a),o._init(a),o}return Object(T["a"])(i,[{key:"_checkInitOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=["uid","object_id","mid","mid_uid","rootmid","rootuid","duration"],i=e.filter((function(e){return!Object.keys(t).includes(e)}));if(i.length>0)throw new Error("缺少必要的参数 ".concat(i.join(" ")))}},{key:"dispose",value:function(){this.loading&&this.loadedMetadata&&(this.logRecord["quit_status"]="cancel"),this.startPlay?(this.ended?this.logRecord["quit_status"]="complete":this.logRecord["quit_status"]="not_complete",this._sendLog()):this.loadedMetadata&&(this.logRecord["firstframe_status"]="cancel"),this._unBindEvent(),Object(S["a"])(Object(I["a"])(i.prototype),"dispose",this).call(this)}}]),i}(J);Q("playLog",K);var Y=function(t){var e=this,i=e.el(),o=document,n={volumeStep:.1,seekStep:5,enableMute:!0,enableVolumeScroll:!0,enableHoverScroll:!1,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!1,captureDocumentHotkeys:!1,documentHotkeysFocusElementFilter:function(){return!1},enableModifiersForNumbers:!1,enableInactiveFocus:!0,skipInitialFocus:!1,playPauseKey:D,rewindKey:S,forwardKey:I,volumeUpKey:L,volumeDownKey:B,muteKey:P,fullscreenKey:A,customKeys:{}},s=1,r=2,l=3,c=4,u=5,d=6,h=7,p=a["a"].mergeOptions||a["a"].util.mergeOptions;t=p(n,t||{});var f=t.volumeStep,m=t.seekStep,v=t.enableMute,_=(t.enableVolumeScroll,t.enableHoverScroll,t.enableFullscreen),g=(t.enableNumbers,t.enableJogStyle),b=t.alwaysCaptureHotkeys,y=t.captureDocumentHotkeys,w=t.documentHotkeysFocusElementFilter,x=(t.enableModifiersForNumbers,t.enableInactiveFocus),k=t.skipInitialFocus,$=a["a"].VERSION;i.hasAttribute("tabIndex")||i.setAttribute("tabIndex","-1"),i.style.outline="none",!b&&e.autoplay()||k||e.on("play",(function(){i.focus({preventScroll:!0})})),x&&e.on("userinactive",(function(){var t=function(){clearTimeout(a)},a=setTimeout((function(){e.off("useractive",t);var a=o.activeElement,n=i.querySelector(".vjs-control-bar");a&&a.parentElement==n&&i.focus({preventScroll:!0})}),10);e.one("useractive",t)})),e.on(["click","ratechange"],(function(){i.focus({preventScroll:!0})})),e.on("play",(function(){var t=i.querySelector(".iframeblocker");t&&""===t.style.display&&(t.style.display="block",t.style.bottom="39px")}));var C=function(a){a.which;var n,p,m=a.preventDefault.bind(a),x=e.duration();if(e.controls()){var k=o.activeElement;if(b||y&&w(k)||k==i||k==i.querySelector(".vjs-tech")||k==i.querySelector(".vjs-control-bar")||k==i.querySelector(".iframeblocker"))switch(T(a,e)){case s:m(),(b||y)&&a.stopPropagation(),e.paused()?M(e.play()):e.pause();break;case r:if(e.disableRewind)return;n=!e.paused(),m(),n&&e.pause(),p=e.currentTime()-E(a),p<=0&&(p=0),e.currentTime(p),n&&M(e.play());break;case l:if(e.disableForward)return;n=!e.paused(),m(),n&&e.pause(),p=e.currentTime()+E(a),p>=x&&(p=n?x-.001:x),e.currentTime(p),n&&M(e.play());break;case u:m(),g?(p=e.currentTime()-1,e.currentTime()<=1&&(p=0),e.currentTime(p)):(e.volume(+e.volume().toFixed(2)-f),e.trigger("hotkeys-volume-change"));break;case c:m(),g?(p=e.currentTime()+1,p>=x&&(p=x),e.currentTime(p)):(e.volume(+e.volume().toFixed(2)+f),e.trigger("hotkeys-volume-change"));break;case d:v&&e.muted(!e.muted());break;case h:_&&(e.isFullscreen()?e.exitFullscreen():e.requestFullscreen());break;default:for(var $ in t.customKeys){var C=t.customKeys[$];C&&C.key&&C.handler&&C.key(a)&&(m(),C.handler(e,t,a))}}}},O=function(t){if(null!=$&&$<="7.1.0"&&e.controls()){var a=t.relatedTarget||t.toElement||o.activeElement;a!=i&&a!=i.querySelector(".vjs-tech")&&a!=i.querySelector(".iframeblocker")||_&&(e.isFullscreen()?e.exitFullscreen():e.requestFullscreen())}},j=i.querySelector(".vjs-volume-menu-button")||i.querySelector(".vjs-volume-panel");null!=j&&(j.onmouseover=function(){!0},j.onmouseout=function(){!1});var T=function(e,i){return t.playPauseKey(e,i)?s:t.rewindKey(e,i)?r:t.forwardKey(e,i)?l:t.volumeUpKey(e,i)?c:t.volumeDownKey(e,i)?u:t.muteKey(e,i)?d:t.fullscreenKey(e,i)?h:void 0};function D(t){return 32===t.which||179===t.which}function S(t){return 37===t.which||177===t.which}function I(t){return 39===t.which||176===t.which}function L(t){return 38===t.which}function B(t){return 40===t.which}function P(t){return 77===t.which}function A(t){return 70===t.which}function E(t){return"function"===typeof m?m(t):m}function M(t){null!=t&&"function"===typeof t.then&&t.then(null,(function(t){}))}return e.on("keydown",C),e.on("dblclick",O),y&&document.addEventListener("keydown",(function(t){C(t)})),this},X=a["a"].registerPlugin||a["a"].plugin;X("hotkeys",Y);i("ac1f"),i("1276"),i("498a");var Z=a["a"].registerPlugin||a["a"].plugin,tt=a["a"].getPlugin("plugin");function et(t){for(var e=document.cookie,i=e.split(";"),a=0;a<i.length;a++){var o=i[a].split("=");if(t===o[0].trim())return o[1]}return""}var it=function(t){Object(L["a"])(i,t);var e=Object(B["a"])(i);function i(t,a){var o;return Object(j["a"])(this,i),o=e.call(this,t,a),Object(c["a"])(Object(D["a"])(o),"_init",(function(t){o.logRecord=t,o.count=0,o.fire=!1,o.eventMap={playing:o._onPlayingHandle,ended:o._onEndedHandle},o._bindEvent()})),Object(c["a"])(Object(D["a"])(o),"_unBindEvent",(function(){Object.keys(o.eventMap).forEach((function(t){o.player.off(t,o.eventMap[t])}))})),Object(c["a"])(Object(D["a"])(o),"_bindEvent",(function(){Object.keys(o.eventMap).forEach((function(t){o.player.on(t,o.eventMap[t])})),o.player.one("ended",(function(){o.ended=!0})),o.player.one("loadstart",(function(){o.loadstart=!0}))})),Object(c["a"])(Object(D["a"])(o),"_onPlayingHandle",(function(){o.fire||(o._sendLog(),o.fire=!0)})),Object(c["a"])(Object(D["a"])(o),"_onEndedHandle",(function(){o.fire=!1})),Object(c["a"])(Object(D["a"])(o),"_md5Log",(function(t,e){return G.a.hash(t+e+"yixiong&zhaolong5")})),Object(c["a"])(Object(D["a"])(o),"_logKey",(function(){return"Log_"+Math.random().toString(36).substring(5,10)+"_"+ +new Date+Math.floor(1e4*Math.random())+o.count++})),Object(c["a"])(Object(D["a"])(o),"_sendLog",(function(){var t=JSON.stringify(o.logRecord),e=new FormData,i=o._logKey();e.append("data",t),e.append("key",i),e.append("sig",o._md5Log(t,i));var a=new XMLHttpRequest;a.withCredentials=!0;var n="/aj/video/playstatistics?ajwvr=6";"podcast"===o.logRecord.type&&(n="/ajax/log/sendAudioLog"),a.open("POST",n),a.setRequestHeader("X-Xsrf-Token",et("XSRF-TOKEN")),a.onreadystatechange=function(){4===a.readyState&&200===a.status&&o._afterSend()},a.send(e)})),Object(c["a"])(Object(D["a"])(o),"_afterSend",(function(){})),o.player=t,o._checkInitOptions(a),o._init(a),o}return Object(T["a"])(i,[{key:"_checkInitOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=["uid","mid","keys","type"],i=e.filter((function(e){return!Object.keys(t).includes(e)}));if(i.length>0)throw new Error("缺少必要的参数 ".concat(i.join(" ")))}},{key:"dispose",value:function(){this._unBindEvent(),Object(S["a"])(Object(I["a"])(i.prototype),"dispose",this).call(this)}}]),i}(tt);Z("playStatistics",it);i("5319");var at=a["a"].getPlugin("plugin");function ot(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{return t.replace(/^http:/,"https:")}catch(e){return t}}var nt={url:"",width:0,height:0,interval:1,responsive:600},st=function(t,e){var i=e.urls,o=e.height,n=e.width,s=e.responsive,r=e.row||10,l=e.col||10,c=e.interval||2,u=e.scale,d=a["a"].dom||a["a"],h=t.controlBar,p=h.progressControl,f=p.seekBar,m=f.mouseTimeDisplay,v=m&&m.timeTooltip,_=r*l*c;if(i&&i.length&&o&&n&&m.timeTooltip){var g=0,b=i.map((function(t){return d.createEl("img",{src:t})})),y=function(t){Object.keys(t).forEach((function(e){var i=t[e],a=m.timeTooltip.el().style;""!==i?a.setProperty(e,i):a.removeProperty(e)}))},w=b[g],x=function(){var e=w&&w.naturalWidth,a=w&&w.naturalHeight;if(t.controls()&&e&&a&&m.el()){var r=parseFloat(m.el().style.left);if(!isNaN(r)){r=t.duration()*(r/f.currentWidth());var p=parseInt(r/_);p!==g&&p<i.length&&(g=p,w=b[g],y({"background-image":"url("+ot(i[g])+")","background-repeat":"no-repeat",color:"#fff","text-shadow":"1px 1px #000",border:"1px solid #000",margin:"0 1px"}));var v=(r-_*g)/c,x=t.currentWidth(),k=u||(s&&x<s?x/s:1),$=n*k,C=o*k,O=Math.floor(v%l)*-$,j=Math.floor(v/l)*-C,T=e*k+"px "+a*k+"px",D=d.getBoundingClientRect(h.el()).top,S=d.getBoundingClientRect(f.el()).top,I=-C-Math.max(0,S-D);y({"background-position":O+"px "+j+"px",width:$+"px",height:C+"px","background-size":T,top:I+"px","z-index":10})}}};y({width:"",height:"","background-image":"url("+i[g]+")","background-repeat":"","background-position":"","background-size":"",top:"",color:"","text-shadow":"",border:"",margin:""});var k=v&&v.el()&&v.contentEl_;k.style.cssText="position: absolute;bottom: 0;background-color: #000;background-color: rgba(0, 0, 0, 0.8);left: 50%;transform: translateX(-50%);background: rgba(0,0,0,0.75);border-radius: 2px;font-size: 12px;line-height: 17px;padding: 0.5px 7px;",p.on("mousemove",x),p.on("touchmove",x),t.addClass("wbpv-sprite-thumbnails")}},rt=function(t){Object(L["a"])(i,t);var e=Object(B["a"])(i);function i(t,o){var n;return Object(j["a"])(this,i),n=e.call(this,t),n.options=a["a"].mergeOptions(nt,o),n.player.ready((function(){st(n.player,n.options)})),n}return i}(at);rt.defaultState={},a["a"].registerPlugin("spriteThumbnails",rt);i("405e");var lt=a["a"].getComponent("Component"),ct=a["a"].dom||a["a"],ut=500,dt=function(t){Object(L["a"])(i,t);var e=Object(B["a"])(i);function i(t,a){var o;return Object(j["a"])(this,i),o=e.call(this,t,a),o.on(t,"hotkeys-volume-change",o.update),o.timer=null,o}return Object(T["a"])(i,[{key:"createEl",value:function(){return this.el_=Object(S["a"])(Object(I["a"])(i.prototype),"createEl",this).call(this,"div",{className:"wbpv-volume-toast volume-toast-icon"}),this.contentEl_=ct.createEl("div",{className:"wbpv-volume-toast-text"}),this.el_.appendChild(this.contentEl_),this.el_}},{key:"update",value:function(){var t=this;this.hasClass("wbpv-volume-toast-show")||this.addClass("wbpv-volume-toast-show"),this.hasClass("wbpv-volume-toast-animate")&&this.removeClass("wbpv-volume-toast-animate"),this.updateIcon_(),this.updateControlText_(),this.countDown((function(){t.hasClass("wbpv-volume-toast-animate")||t.addClass("wbpv-volume-toast-animate"),t.hasClass("wbpv-volume-toast-show")&&t.removeClass("wbpv-volume-toast-show")}))}},{key:"countDown",value:function(t){var e=this.options_.delayTime;this.timer?(clearTimeout(this.timer),this.timer=setTimeout(t,e||ut)):this.timer=setTimeout(t,e||ut)}},{key:"updateIcon_",value:function(){var t=this.player_.volume(),e=2;0===t||this.player_.muted()?e=0:t<.5&&(e=1);for(var i=0;i<3;i++)ct.removeClass(this.el_,"volume-icon-".concat(i));ct.addClass(this.el_,"volume-icon-".concat(e))}},{key:"updateControlText_",value:function(){var t=Math.round(100*this.player_.volume());t=0===+this.player_.volume()||this.player_.muted()?"静音":"".concat(t,"%"),this.contentEl_.innerHTML=t}}]),i}(lt);lt.registerComponent("volumeToast",dt);i("2ca9");var ht=a["a"].dom||a["a"],pt=a["a"].getComponent("Button"),ft=a["a"].getComponent("Component"),mt=function(t){Object(L["a"])(i,t);var e=Object(B["a"])(i);function i(t,a){var o;return Object(j["a"])(this,i),o=e.call(this,t,a),Object(c["a"])(Object(D["a"])(o),"handleShowBubble",(function(t,e){e?o.hasClass("wbpv-miniplayer-bubble-show")||(o.addClass("wbpv-miniplayer-bubble-show"),o.player_.hasClass("wbpv-user-inactive")&&(o.isInactive=!0,o.player_.removeClass("wbpv-user-inactive"),o.player_.addClass("wbpv-user-active"))):o.hasClass("wbpv-miniplayer-bubble-show")&&(o.removeClass("wbpv-miniplayer-bubble-show"),o.isInactive&&o.player_.hasClass("wbpv-user-active")&&(o.player_.removeClass("wbpv-user-active"),o.player_.addClass("wbpv-user-inactive"),o.isInactive=!1))})),o.player_.on("show-bubble",o.handleShowBubble),o.on("click",o.handleShowBubble),o.isInactive=!1,o}return Object(T["a"])(i,[{key:"buildCSSClass",value:function(){return"wbpv-miniplayer-button ".concat(Object(S["a"])(Object(I["a"])(i.prototype),"buildCSSClass",this).call(this))}},{key:"handleClick",value:function(t){this.player_.trigger("miniplayer-active")}},{key:"closeBubble",value:function(t){t.stopPropagation(),this.handleShowBubble("",!1)}},{key:"createEl",value:function(){var t=Object(S["a"])(Object(I["a"])(i.prototype),"createEl",this).call(this);if(this.options_.bubbleText){var e='\n      <svg\n          xmlns="http://www.w3.org/2000/svg"\n          viewBox="0 0 612 612"\n          class="woo-pop-close wbpv-miniplayer-bubble-close"\n        >\n          <path d="M345.8 309.9L532 123.8c10.4-10.5 10.4-27.4 0-37.8-10.5-10.5-27.4-10.5-37.8 0L308 272.1 121.8 85.9c-10.5-10.5-27.4-10.5-37.8 0s-10.4 27.4 0 37.8l186.2 186.2L84 496.2c-10.4 10.5-10.4 27.4 0 37.8 10.4 10.5 27.4 10.5 37.8 0L308 347.8 494.2 534c10.5 10.5 27.4 10.5 37.8 0 10.4-10.5 10.4-27.4 0-37.8L345.8 309.9z"></path>\n        </svg>',a='\n      <svg\n          viewBox="0 0 1024 1024"\n          xmlns="http://www.w3.org/2000/svg"\n          class="woo-pop-caret woo-pop-caretDown wbpv-miniplayer-bubble-uparrow"\n        >\n          <defs></defs>\n          <path d="M512 696.7L179.696 327.3h664.608z"></path>\n        </svg>\n      ';this.bubble=ht.createEl("div",{className:"wbpv-miniplayer-bubble",innerHTML:"<div>".concat(this.options_.bubbleText).concat(e+a,"</div>")}),this.closeBubbleBind=this.closeBubble.bind(this),this.bubble.addEventListener("click",this.closeBubbleBind),t.appendChild(this.bubble)}return t}},{key:"dispose",value:function(){this.bubble&&this.bubble.removeEventListener("click",this.closeBubbleBind),this.player_.off("show-bubble",this.handleShowBubble),Object(S["a"])(Object(I["a"])(i.prototype),"dispose",this).call(this)}}]),i}(pt);mt.prototype.controlText_="小窗播放",ft.registerComponent("miniPlayerButton",mt);var vt=a["a"].getComponent("Component"),_t=a["a"].getComponent("Button"),gt=function(t){Object(L["a"])(i,t);var e=Object(B["a"])(i);function i(t,a){return Object(j["a"])(this,i),e.call(this,t,a)}return Object(T["a"])(i,[{key:"buildCSSClass",value:function(){return"wbpv-miniplayer-play-button"}},{key:"handleClick",value:function(t){var e;if(t.stopPropagation(),this.player_.paused()?e=this.player_.play():this.player_.pause(),this.mouseused_&&t.clientX&&t.clientY)return silencePromise(e),void(this.player_.tech(!0)&&this.player_.tech(!0).focus());var i=this.player_.getChild("controlBar"),a=i&&i.getChild("playToggle");if(a){var o=function(){return a.focus()};isPromise(e)&&e.then(o,(function(){}))}else this.player_.tech(!0).focus()}}]),i}(_t);vt.registerComponent("miniPlayerPlayButton",gt);var bt=a["a"].dom||a["a"],yt=a["a"].getComponent("Component"),wt=function(t){Object(L["a"])(i,t);var e=Object(B["a"])(i);function i(t,a){var o;return Object(j["a"])(this,i),o=e.call(this,t,a),o.on(o.closeBtn,"click",o.closeHandle),o.on(o.backBtn,"click",o.backHandle),o}return Object(T["a"])(i,[{key:"closeHandle",value:function(){this.player_.trigger("click-close-button")}},{key:"backHandle",value:function(){this.player_.trigger("click-back-button")}},{key:"buildCSSClass",value:function(){return"wbpv-miniplayer-control ".concat(Object(S["a"])(Object(I["a"])(i.prototype),"buildCSSClass",this).call(this))}},{key:"createEl",value:function(){var t=Object(S["a"])(Object(I["a"])(i.prototype),"createEl",this).call(this,"div",{className:this.buildCSSClass()}),e=bt.createEl("span",{className:"wbpv-miniplayer-drag-tip",innerHTML:"按住画面可移动小窗"}),a=bt.createEl("span",{className:"wbpv-miniplayer-back-button",title:"返回大屏播放"}),o=bt.createEl("span",{className:"wbpv-miniplayer-close-button",title:"关闭小窗播放"});return this.closeBtn=o,this.backBtn=a,t.appendChild(e),t.appendChild(a),t.appendChild(o),t}},{key:"dispose",value:function(){this.off(this.closeBtn,"click",this.closeHandle),this.off(this.backBtn,"click",this.backHandle),Object(S["a"])(Object(I["a"])(i.prototype),"dispose",this).call(this)}}]),i}(yt);wt.prototype.options_={children:["miniPlayerPlayButton"]},yt.registerComponent("miniPlayerControl",wt);var xt=a["a"].getComponent("Component"),kt=function(t){Object(L["a"])(i,t);var e=Object(B["a"])(i);function i(t,a){return Object(j["a"])(this,i),e.call(this,t,a)}return Object(T["a"])(i,[{key:"buildCSSClass",value:function(){return"wbpv-miniplayer-mask ".concat(Object(S["a"])(Object(I["a"])(i.prototype),"buildCSSClass",this).call(this))}},{key:"createEl",value:function(){return Object(S["a"])(Object(I["a"])(i.prototype),"createEl",this).call(this,"div",{className:this.buildCSSClass(),innerHTML:"正在小窗播放中"})}},{key:"dispose",value:function(){Object(S["a"])(Object(I["a"])(i.prototype),"dispose",this).call(this)}}]),i}(xt);xt.registerComponent("miniPlayerMask",kt);var $t=a["a"].getComponent("Component"),Ct=function(t){Object(L["a"])(i,t);var e=Object(B["a"])(i);function i(t,a){return Object(j["a"])(this,i),e.call(this,t,a)}return Object(T["a"])(i,[{key:"createEl",value:function(){return Object(S["a"])(Object(I["a"])(i.prototype),"createEl",this).call(this,"div",{className:"wbpv-miniplayer-time-display"})}},{key:"dispose",value:function(){Object(S["a"])(Object(I["a"])(i.prototype),"dispose",this).call(this)}}]),i}($t);Ct.prototype.controlText_="",$t.registerComponent("miniPlayerTimeDisplay",Ct);i("fb6a");var Ot=a["a"].getComponent("Component"),jt=function(t){Object(L["a"])(i,t);var e=Object(B["a"])(i);function i(t,a){return Object(j["a"])(this,i),e.call(this,t,a)}return Object(T["a"])(i,[{key:"createEl",value:function(){var t=Object(S["a"])(Object(I["a"])(i.prototype),"createEl",this).call(this,"div",{className:"wbpv-miniplayer-title"});return this.titleDom=t,t}},{key:"setTitle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t&&t.length>18&&(t=t.slice(0,18)+"..."),this.titleDom.textContent=t}},{key:"dispose",value:function(){Object(S["a"])(Object(I["a"])(i.prototype),"dispose",this).call(this)}}]),i}(Ot);jt.prototype.controlText_="",Ot.registerComponent("miniPlayerTitle",jt);var Tt=a["a"].getComponent("Component"),Dt=function(t){Object(L["a"])(i,t);var e=Object(B["a"])(i);function i(t,a){return Object(j["a"])(this,i),e.call(this,t,a)}return Object(T["a"])(i,[{key:"createEl",value:function(){var t=Object(S["a"])(Object(I["a"])(i.prototype),"createEl",this).call(this,"span",{className:"wbpv-miniplayer-podcast wbpv-miniplayer-podcast-hidden",innerHTML:'\n              <img src="" class="wbpv-miniplayer-podcast-thumbnail" />\n              <div class="wbpv-miniplayer-podcast-mask"></div>\n              <img src="" class="wbpv-miniplayer-podcast-background" />\n      '});return this.podcast=t,t}},{key:"setPodcast",value:function(t){if(t){this.podcast.classList.remove("wbpv-miniplayer-podcast-hidden");for(var e=0;e<this.podcast.children.length;e++)this.podcast.children[e].src=t}else this.podcast.classList.add("wbpv-miniplayer-podcast-hidden")}},{key:"dispose",value:function(){Object(S["a"])(Object(I["a"])(i.prototype),"dispose",this).call(this)}}]),i}(Tt);Dt.prototype.controlText_="",Tt.registerComponent("miniPlayerPodcast",Dt);i("133d0"),i("ae60");var St=a["a"].getComponent("component"),It=function(t){Object(L["a"])(i,t);var e=Object(B["a"])(i);function i(t,a){return Object(j["a"])(this,i),e.call(this,t,a)}return Object(T["a"])(i,[{key:"createEl",value:function(){var t=this.player_.duration(),e=100*this.options_.spotlightTime/t+"%";return this._point=a["a"].dom.createEl("div",{className:"wbpv-spotlight-point"}),this.el_=a["a"].dom.createEl("div",{className:"wbpv-spotlight",style:"left: ".concat(e,"; width: ").concat(this.options_.spotlightPercent)}),this.el_.appendChild(this._point),this.el_}}]),i}(St),Lt=It,Bt=a["a"].getComponent("Component"),Pt=function(t){Object(L["a"])(i,t);var e=Object(B["a"])(i);function i(t,a){var o;return Object(j["a"])(this,i),o=e.call(this,t,a),Object(c["a"])(Object(D["a"])(o),"setSpotlight",(function(){var t=o.player_;if(t){var e=t.controlBar,i=e.progressControl,a=i.seekBar,n=o.options_.spotlightDuration||1,s=(100*n/t.duration()).toFixed(2)+"%",r=new Lt(t,{spotlightTime:o.options_.spotlightTime||30,spotlightPercent:s,name:"spotlightPoint"});a.addChild(r)}})),Object(c["a"])(Object(D["a"])(o),"removeSpotlight",(function(){var t=o.player_;if(t){var e=t.controlBar,i=e.progressControl,a=i.seekBar,n=[];a.children_.forEach((function(t){"spotlightPoint"===t.name()&&n.push(t)})),n.forEach((function(t){a.removeChild(t)})),o.spotlightPoint&&o.spotlightPoint.dispose&&o.spotlightPoint.dispose()}})),Object(c["a"])(Object(D["a"])(o),"continueVPlus",Object(s["a"])(regeneratorRuntime.mark((function t(){var e,i,a,n,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=o.options_,i=e.mid,a=void 0===i?"":i,n=e.uid,a){t.next=4;break}return o.backPlay(),t.abrupt("return");case 4:return t.next=6,W.a.get("/ajax/multimedia/getVideoUrl",{params:{mid:a,vUid:n}}).catch((function(){return{data:{ok:0}}}));case 6:if(s=t.sent,0!==s.data.ok){t.next=10;break}return o.backPlay(),t.abrupt("return");case 10:r=s.data.data.list,r.length?(o.isPaid=!0,o.player_.trigger("update-quality-data",r),o.player_.trigger("update-vPlus-status",{mid:a,list:r}),o.hideTips(),o.removeSpotlight()):o.backPlay();case 12:case"end":return t.stop()}}),t)})))),Object(c["a"])(Object(D["a"])(o),"hideTips",(function(){o.hasClass("wbpv-vplus-tips-hidden")||o.addClass("wbpv-vplus-tips-hidden")})),Object(c["a"])(Object(D["a"])(o),"openVPlus",(function(){if(!o.isPaid){o.showLayer(),o.player_.pause(),o.hasClass("wbpv-vplus-continue-play")||o.addClass("wbpv-vplus-continue-play"),o.updateLayerText();var t=o.options_,e=t.uid,i=void 0===e?"":e,a=t.oid,n=void 0===a?"":a;window.open("https://vipclub.weibo.com/vmember/goldfansopen?vuid=".concat(i,"&F=").concat(n))}})),Object(c["a"])(Object(D["a"])(o),"toggleHotkey",(function(t){o.player_.disableForward=t,o.player_.disableRewind=t})),Object(c["a"])(Object(D["a"])(o),"toggleContinueBtn",(function(t){t?o.hasClass("wbpv-vplus-continue-play")||o.addClass("wbpv-vplus-continue-play"):o.hasClass("wbpv-vplus-continue-play")&&o.removeClass("wbpv-vplus-continue-play")})),Object(c["a"])(Object(D["a"])(o),"showLayer",(function(){o.isPaid||(o.toggleHotkey(!0),o.player_.hasClass("wbpv-vplus-layer-show")||o.player_.addClass("wbpv-vplus-layer-show"))})),Object(c["a"])(Object(D["a"])(o),"hideLayer",(function(){o.toggleHotkey(!1),o.player_.hasClass("wbpv-vplus-layer-show")&&o.player_.removeClass("wbpv-vplus-layer-show")})),Object(c["a"])(Object(D["a"])(o),"backPlay",(function(){o.player_.currentTime(o.player_.currentTime()-3),o.player_.play(),o.resetLayer()})),Object(c["a"])(Object(D["a"])(o),"replay",(function(){o.player_.currentTime(0),o.player_.play(),o.resetLayer()})),Object(c["a"])(Object(D["a"])(o),"updateLayerText",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e="如果订阅成功，请点击按钮继续播放";if(!t){var i=o.options_.customName||"真爱粉";e="试看部分视频，开通Ta的".concat(i,"可观看Ta的全部专属内容")}o.layerText.textContent=e})),Object(c["a"])(Object(D["a"])(o),"resetLayer",(function(){o.toggleContinueBtn(),o.updateLayerText(!1)})),o.isPaid=!!a.isPaid,a.loadImmediate||o.isPaid||t.one("loadedmetadata",o.setSpotlight),a.loadImmediate&&t.one("ready",o.continueVPlus),t.on("ended",o.showLayer),t.on("playing",o.hideLayer),t.on("open-vPlus",o.openVPlus),t.on("replay-vPlus",o.replay),t.on("continue-vPlus",o.continueVPlus),o}return Object(T["a"])(i,[{key:"getLayerText",value:function(){var t=this.options_.customName||"真爱粉";return this.layerText=Object(S["a"])(Object(I["a"])(i.prototype),"createEl",this).call(this,"div",{className:"wbpv-vplus-layer-text",textContent:"试看结束，开通Ta的".concat(t,"可观看Ta的全部专属内容")}),this.layerText}},{key:"createEl",value:function(){return this.options_.isPaid?"":(this.el_=Object(S["a"])(Object(I["a"])(i.prototype),"createEl",this).call(this,"div"),this.layerEl_=this.createLayer(),this.el_.appendChild(this.layerEl_),this.el_)}},{key:"createLayer",value:function(){var t=this,e=Object(S["a"])(Object(I["a"])(i.prototype),"createEl",this).call(this,"div",{className:"wbpv-vplus wbpv-vplus-layer"}),a=Object(S["a"])(Object(I["a"])(i.prototype),"createEl",this).call(this,"div",{className:"wbpv-vplus-layer-inner"}),o=Object(S["a"])(Object(I["a"])(i.prototype),"createEl",this).call(this,"div",{innerHTML:'\n      <div class="btn hv-center">\n        <button action-type="open-vPlus" class="wbv-paylayer-open">\n          <span class="wbv-control-text">立即开通</span>\n        </button>\n        <button action-type="continue-vPlus"  class="wbv-paylayer-play">\n          <span class="wbv-control-text">继续播放</span>\n        </button>\n      </div>',onclick:function(e){var i,a,o,n=["open-vPlus","continue-vPlus"],s=(null===e||void 0===e||null===(i=e.target)||void 0===i?void 0:i.getAttribute("action-type"))||(null===e||void 0===e||null===(a=e.target)||void 0===a||null===(o=a.parentNode)||void 0===o?void 0:o.getAttribute("action-type"));n.includes(s)&&t.player_.trigger(s,t.options_)}}),n=Object(S["a"])(Object(I["a"])(i.prototype),"createEl",this).call(this,"div",{innerHTML:'\n        <button action-type="replay-vPlus" class="wbv-paylayer-replay wbpv-button">\n          <span aria-hidden="true" class="wbpv-icon-placeholder"></span>\n          <span class="wbv-control-text">重播</span>\n        </button>\n      ',onclick:function(e){var i,a,o,n=["replay-vPlus"],s=(null===e||void 0===e||null===(i=e.target)||void 0===i?void 0:i.getAttribute("action-type"))||(null===e||void 0===e||null===(a=e.target)||void 0===a||null===(o=a.parentNode)||void 0===o?void 0:o.getAttribute("action-type"));n.includes(s)&&t.player_.trigger(s,t.options_)}});return a.appendChild(this.getLayerText()),a.appendChild(o),a.appendChild(n),e.appendChild(a),e}},{key:"dispose",value:function(){this.player_.off("ended",this.showLayer),this.player_.off("playing",this.hideLayer),this.player_.off("open-vPlus",this.openVPlus),this.player_.off("replay-vPlus",this.replay),this.player_.off("continue-vPlus",this.replay),this.player_.off("loadedmetadata",this.setSpotlight),this.removeSpotlight()}}]),i}(Bt);Bt.registerComponent("vPlus",Pt);i("7db0"),i("7e8f");var At=a["a"].getComponent("MenuItem"),Et=a["a"].getComponent("Component"),Mt=function(t){Object(L["a"])(i,t);var e=Object(B["a"])(i);function i(t,a,o){var n;return Object(j["a"])(this,i),n=e.call(this,t,a),Object(c["a"])(Object(D["a"])(n),"update",(function(t,e){var i=e===n.options_.key;n.selected(i)})),n.options_=a,n.menuButton=o,n.label=a.label,n.selectLabel=a.selectLabel,n.url=a.value,n.player_.on("update-quality-label",n.update),n}return Object(T["a"])(i,[{key:"createEl",value:function(){var t=Object(S["a"])(Object(I["a"])(i.prototype),"createEl",this).call(this);return"center"===this.options_.align&&t.classList.add("wbpv-align-center"),t}},{key:"handleClick",value:function(t){var e=this;if(this.player_.trigger("before-quality-change",this.options_),this.options_.value){this.menuButton&&this.menuButton.trigger({type:"clickMenuItem",params:this.options_});var i=this.player_.currentTime(),a=this.player_.paused(),o=this.player_.playbackRate();this.player_.addClass("wbpv-seeking");var n=this.player_.currentType(),s=this.options_.value;this.player_.src({type:n,src:s}),this.player_.load(),"application/x-mpegURL"===n&&setTimeout((function(){e.player_.play()}),500),this.player_.one("loadedmetadata",(function(){e.player_.currentTime(i),e.player_.playbackRate(o),a?e.player_.pause():e.player_.play(),e.player_.trigger("update-quality-label",e.options_.key)}))}}},{key:"updateItemData",value:function(t){this.options_=t}},{key:"dispose",value:function(){this.player_.off("update-quality-label",this.update),this.menuButton=null,this.label="",this.selectLabel="",this.url=""}}]),i}(At);Et.registerComponent("qualityMenuItem",Mt);var Ft=Mt,Rt=a["a"].dom||a["a"],Vt=a["a"].getComponent("MenuButton"),Nt=a["a"].getComponent("Component"),Ht=a["a"].getComponent("Menu"),zt=function(t){Object(L["a"])(i,t);var e=Object(B["a"])(i);function i(t,a){var o;Object(j["a"])(this,i),o=e.call(this,t,a),Object(c["a"])(Object(D["a"])(o),"handleUpdateData",(function(t,e){var i=o.arrayToObject(e);Array.isArray(o.menu_.children_)&&o.menu_.children_.forEach((function(t){t.options_=Object(u["a"])(Object(u["a"])({},t.options_),{},{value:i[t.options_.key]})}));var a=i[o.currentKey];if(a){var n=o.player_.currentTime(),s=o.player_.playbackRate(),r=o.player_.currentType();o.player_.reset(),o.player_.addClass("wbpv-seeking"),o.player_.src({src:a,type:r}),o.player_.load(),o.player_.one("loadedmetadata",(function(){o.player_.currentTime(n),o.player_.playbackRate(s),o.player_.play()}))}o.player_.removeClass("wbpv-vplus-layer-show")})),Object(c["a"])(Object(D["a"])(o),"arrayToObject",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e={};try{t.forEach((function(t){e[t.meta.quality_index]=t.play_info.url}))}catch(i){}return e})),o.options_=a;var n=a.qualityList;if(n){var s=n.filter((function(t){return t.value}));if(s&&s.length){var r=s.find((function(t){return t.selected}));r||(r=s[0]),o.updateLabel(r.selectLabel||r.label),o.currentKey=r.key,t.src({type:r.type||"video/mp4",src:r.value||""})}else o.hide();o.on("clickMenuItem",o.handleClickMenuItem),o.on("mouseover",o.handleMouseOver),o.on("mouseout",o.handleMouseOut),t.on("update-quality-data",o.handleUpdateData)}return o}return Object(T["a"])(i,[{key:"createEl",value:function(){var t=Object(S["a"])(Object(I["a"])(i.prototype),"createEl",this).call(this);return this.labelEl_=Rt.createEl("div",{className:"wbpv-quality-value",innerHTML:""}),t.appendChild(this.labelEl_),t}},{key:"buildCSSClass",value:function(){return"wbpv-quality ".concat(Object(S["a"])(Object(I["a"])(i.prototype),"buildCSSClass",this).call(this))}},{key:"buildWrapperCSSClass",value:function(){return"wbpv-quality ".concat(Object(S["a"])(Object(I["a"])(i.prototype),"buildWrapperCSSClass",this).call(this))}},{key:"createMenu",value:function(){var t=new Ht(this.player_),e=this.qualityList()||[],i=e.filter((function(t){return t.selected}));if(i.length<1&&e.length>0){var a=e.filter((function(t){return t.value}));if(a.length>0){var o=a[0].key;e[o].selected=!0}}if(e)for(var n=0;n<e.length;n++)t.addChild(new Ft(this.player(),e[n],this));return this.menu_=t,t}},{key:"qualityList",value:function(){return this.options_.qualityList||this.options_.playerOptions&&this.options_.playerOptions.qualityList}},{key:"updateLabel",value:function(t){this.labelEl_.innerHTML=t}},{key:"handleClickMenuItem",value:function(t){var e=this,a=t.params;this.off("mouseover",this.handleMouseOver),this.off("mouseout",this.handleMouseOut),this.player_.trigger("after-quality-change",a),this.updateLabel(a.selectLabel||a.label),this.unpressButton(),Object(S["a"])(Object(I["a"])(i.prototype),"handleMouseLeave",this).call(this),this.currentKey=a.key,setTimeout((function(){e.on("mouseover",e.handleMouseOver),e.on("mouseout",e.handleMouseOut)}),200)}},{key:"handleMouseOver",value:function(t){this.pressButton(),this.addClass("wbpv-hover"),this.player_.addClass("wbpv-button-popup-hover"),this.menu.show()}},{key:"handleMouseOut",value:function(t){this.unpressButton(),Object(S["a"])(Object(I["a"])(i.prototype),"handleMouseLeave",this).call(this)}},{key:"dispose",value:function(){this.labelEl_=null,Object(S["a"])(Object(I["a"])(i.prototype),"dispose",this).call(this)}}]),i}(Vt);Nt.registerComponent("qualityButton",zt);var Ut=a["a"].getComponent("Component"),Gt=function(t){Object(L["a"])(i,t);var e=Object(B["a"])(i);function i(){return Object(j["a"])(this,i),e.apply(this,arguments)}return Object(T["a"])(i,[{key:"createEl",value:function(){return this.el_=Object(S["a"])(Object(I["a"])(i.prototype),"createEl",this).call(this,"div",{className:"wbpv-toast-placeholder"}),this.el_}}]),i}(Ut);Ut.registerComponent("toastPlaceholder",Gt);var qt=a["a"].getComponent("Player");qt.prototype.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;t=parseFloat(t),t<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=this.player_.options_.fakeDuration||t,t===1/0?(this.addClass("wbpv-live"),this.options_.liveui&&this.player_.liveTracker&&this.addClass("wbpv-liveui")):(this.removeClass("wbpv-live"),this.removeClass("wbpv-liveui")),isNaN(t)||this.trigger("durationchange"))};i("35bb");var Wt=a["a"].dom||a["a"],Qt=a["a"].getComponent("Component"),Jt=function(t){Object(L["a"])(i,t);var e=Object(B["a"])(i);function i(t,a){var o;return Object(j["a"])(this,i),o=e.call(this,t,a),Object(c["a"])(Object(D["a"])(o),"handleTriggerEvent",(function(t){o.player_.trigger({type:t.triggerEventName,bubbles:!1}),o.hasClass("wbpv-hidden")||t.containLayer||o.addClass("wbpv-hidden")})),Object(c["a"])(Object(D["a"])(o),"handleClick",(function(t){o.btns.forEach((function(t){t.globalClick&&o.handleTriggerEvent(t)}))})),Object(c["a"])(Object(D["a"])(o),"handleCloseLayer",(function(){o.removeClass("wbpv-hidden")})),t.on("closeLayer",o.handleCloseLayer),o.on("click",o.handleClick),o}return Object(T["a"])(i,[{key:"createEl",value:function(){var t=this,e=Wt.createEl("div",{className:"wbpv-open-layer-button"});this.btns=this.options_.buttons||[{text:"点击展开",triggerEventName:"openLayer",globalClick:!0}];var i=this.btns.map((function(e){return Wt.createEl("div",{className:"wbpv-layer-button-text",innerHTML:e.text,onclick:function(i){i.target&&i.target.getAttribute("action-type")===e.triggerEventName&&(i.stopPropagation(),i.preventDefault(),t.handleTriggerEvent(e))}},{"action-type":e.triggerEventName})})),a=Wt.createEl("div",{className:"wbpv-layer-button-inner"});return i.map((function(t){a.appendChild(t)})),e.appendChild(a),e}},{key:"dispose",value:function(){this.player_.off("closeLayer",this.handleCloseLayer),this.off("click",this.handleClick)}}]),i}(Qt);Qt.registerComponent("layerButton",Jt);i("dedd");var Kt=a["a"].dom||a["a"],Yt=a["a"].getComponent("Component"),Xt=function(t){Object(L["a"])(i,t);var e=Object(B["a"])(i);function i(t,a){var o;return Object(j["a"])(this,i),o=e.call(this,t,a),o.options_=a,o}return Object(T["a"])(i,[{key:"createEl",value:function(){var t=this.options_,e=Kt.createEl("div",{className:"wbpv-podcast",innerHTML:'\n            <div class="wbpv-podcast-main">\n              <img src="'.concat(t.thumbnail,'" class="wbpv-podcast-background" />\n              <div class="wbpv-podcast-mask"></div>\n              <img src="').concat(t.thumbnail,'" class="wbpv-podcast-thumbnail" />\n            </div>\n      ')});return e}},{key:"dispose",value:function(){Object(S["a"])(Object(I["a"])(i.prototype),"dispose",this).call(this)}}]),i}(Yt);Yt.registerComponent("podcast",Xt);var Zt=a["a"].registerPlugin||a["a"].plugin,te=a["a"].getPlugin("plugin"),ee=function(t){Object(L["a"])(i,t);var e=Object(B["a"])(i);function i(t,a){var o;return Object(j["a"])(this,i),o=e.call(this,t,a),Object(c["a"])(Object(D["a"])(o),"init",(function(){o.player.on("pause",o.debounceBeforeSendLog),o.player.on("ended",o.beforeSendLog)})),Object(c["a"])(Object(D["a"])(o),"beforeSendLog",(function(){o.sendLog()})),Object(c["a"])(Object(D["a"])(o),"debounceBeforeSendLog",M()(o.beforeSendLog,500)),Object(c["a"])(Object(D["a"])(o),"sendLog",(function(){W.a.post("/ajax/log/sendAudioLog",Object(u["a"])({play_end_time:o.player.currentTime().toFixed(0)},o.options||{}))})),o.player=t,o.options=a,o.init(),o}return Object(T["a"])(i,[{key:"dispose",value:function(){this.player.off("pause",this.debounceBeforeSendLog),this.player.off("ended",this.beforeSendLog),Object(S["a"])(Object(I["a"])(i.prototype),"dispose",this).call(this)}}]),i}(te);Zt("audioPlayLog",ee);i("2517");var ie=a["a"].getComponent("component"),ae=function(t,e){var i=window.performance.now(),a=function(){var a=window.performance.now();a-i>=e&&(t.apply(void 0,arguments),i=a)};return a},oe=function(t){Object(L["a"])(i,t);var e=Object(B["a"])(i);function i(t,a){var o;return Object(j["a"])(this,i),o=e.call(this,t,a),o.updateThrottle=ae(o.update.bind(Object(D["a"])(o)),30),o.on(o.player_,"timeupdate",o.updateThrottle),o.on("mousemove",o.onMouseMove),o.on("mouseleave",o.onMouseOut),o.on("mouseenter",o.onMouseEnter),o}return Object(T["a"])(i,[{key:"createEl",value:function(){var t=this.player_.duration(),e=100*this.options_.spotlightTime/t+"%";return this._point=a["a"].dom.createEl("div",{className:"wbpv-spotlight-point"}),this.el_=a["a"].dom.createEl("div",{className:"wbpv-spotlight",style:"left: ".concat(e,"; width: ").concat(this.options_.spotlightPercent)}),this.el_.appendChild(this._point),this.el_}},{key:"update",value:function(){this.player_.currentTime()>=this.options_.spotlightTime?this.hasClass("wbpv-spotlight-point-show")||this.addClass("wbpv-spotlight-point-show"):this.hasClass("wbpv-spotlight-point-show")&&this.removeClass("wbpv-spotlight-point-show")}},{key:"onMouseEnter",value:function(){this.options_.titleNode&&(this.options_.titleNode.textContent=this.options_.spotlightTitle),this.player_.hasClass("wbpv-has-spotlight")||this.player_.addClass("wbpv-has-spotlight"),this.player_.hasClass("wbpv-spotlight-point-title-show")||this.player_.addClass("wbpv-spotlight-point-title-show")}},{key:"onMouseMove",value:function(){this.hasClass("wbpv-spotlight-point-title-show")||this.addClass("wbpv-spotlight-point-title-show")}},{key:"onMouseOut",value:function(t){this.hasClass("wbpv-spotlight-point-title-show")&&this.removeClass("wbpv-spotlight-point-title-show"),this.player_.hasClass("wbpv-has-spotlight")&&this.player_.removeClass("wbpv-has-spotlight"),this.player_.hasClass("wbpv-spotlight-point-title-show")&&this.player_.removeClass("wbpv-spotlight-point-title-show"),this.options_.titleNode&&(this.options_.titleNode.textContent="")}},{key:"dispose",value:function(){this.off("mouseenter",this.onMouseEnter),this.off("mouseover",this.onMouseMove),this.off("mouseleave",this.onMouseMove),this.off(this.player_,"timeupdate",this.updateThrottle)}}]),i}(ie);ie.registerComponent("spotlightPoint",oe);var ne=oe,se=a["a"].getPlugin("plugin"),re=null,le=function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t){var o=t.controlBar,n=o.progressControl,s=n.seekBar,r=i.spotlightDuration||5,l=i.noDuration?0:(100*r/t.duration()).toFixed(2)+"%",c=s.mouseTimeDisplay,u=c&&c.timeTooltip;re||(re=a["a"].dom.createEl("div",{className:"wbpv-spotlight-point-title"})),u&&u.el()&&!u.el().contains(re)&&u.el().appendChild(re);var d=[];return null===i||void 0===i||null===(e=i.spotlights)||void 0===e||e.forEach((function(e){var i=new ne(t,{spotlightTime:e.spotlight_time,spotlightTitle:e.spotlight_title,spotlightPercent:l,titleNode:re,name:"spotlightPoint"});s.addChild(i),d.push(i)})),d}},ce=function(t){var e=t.controlBar,i=e.progressControl,a=i.seekBar,o=[];a.children_.forEach((function(t){"spotlightPoint"===t.name()&&o.push(t)})),o.forEach((function(t){a.removeChild(t)}))},ue=function(t){Object(L["a"])(i,t);var e=Object(B["a"])(i);function i(t,a){var o;return Object(j["a"])(this,i),o=e.call(this,t,a),o.options=a,o.player.one("playing",(function(){o.spotlightPointList=le(o.player,o.options)})),o}return Object(T["a"])(i,[{key:"dispose",value:function(){var t;ce(this.player_),null===(t=this.spotlightPointList)||void 0===t||t.forEach((function(t){t.dispose()})),Object(S["a"])(Object(I["a"])(i.prototype),"dispose",this).call(this)}}]),i}(se);ue.defaultState={},a["a"].registerPlugin("spotlight",ue);i("c740");var de=i("99de"),he=(i("b3af"),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[];Object.keys(e).forEach((function(t){i.push("".concat(t,":").concat(e[t]))})),W.a.get("https://weibo.com/ajax/log/action",{params:{type:"pic",t:(new Date).getTime(),act_code:t,ext:i.join("|")}})}),pe=a["a"].dom||a["a"],fe=a["a"].getComponent("Button"),me=a["a"].getComponent("Component"),ve=function(t){Object(L["a"])(i,t);var e=Object(B["a"])(i);function i(t,a){return Object(j["a"])(this,i),e.call(this,t,a)}return Object(T["a"])(i,[{key:"buildCSSClass",value:function(){return"wbpv-ai-abstract-button ".concat(Object(S["a"])(Object(I["a"])(i.prototype),"buildCSSClass",this).call(this))}},{key:"handleClick",value:function(t){this.player_.hasClass("wbpv-ai-abstract-layer-show")?this.player_.removeClass("wbpv-ai-abstract-layer-show"):(he(7796,this.options_.actionLog),this.player_.addClass("wbpv-ai-abstract-layer-show"))}},{key:"createEl",value:function(){var t=Object(S["a"])(Object(I["a"])(i.prototype),"createEl",this).call(this);return t.appendChild(pe.createEl("div",{innerHTML:"AI总结",className:"wbpv-ai-abstract-text"})),t}},{key:"dispose",value:function(){Object(S["a"])(Object(I["a"])(i.prototype),"dispose",this).call(this)}}]),i}(fe);ve.prototype.controlText_="AI总结",me.registerComponent("aiAbstractButton",ve);var _e=ve,ge=(i("a630"),i("3ca3"),i("94f1")),be=i.n(ge),ye=function(){function t(e,i){Object(j["a"])(this,t),e&&(this.animation=be.a.loadAnimation({container:e,renderer:"svg",loop:!0,autoplay:!0,animationData:i}))}return Object(T["a"])(t,[{key:"play",value:function(){this.animation.play()}},{key:"pause",value:function(){this.animation.pause()}},{key:"destroy",value:function(){this.animation.destroy()}}]),t}(),we=i("d3a0"),xe=a["a"].dom||a["a"],ke=a["a"].getComponent("Component"),$e=function(t){var e=Math.floor(t/3600),i=Math.floor(t%3600/60),a=t%60,o=("0"+e).slice(-2),n=("0"+i).slice(-2),s=("0"+a).slice(-2);return e>0?o+":"+n+":"+s:n+":"+s},Ce=426,Oe=function(t){Object(L["a"])(i,t);var e=Object(B["a"])(i);function i(t,a){var o;return Object(j["a"])(this,i),o=e.call(this,t,a),Object(c["a"])(Object(D["a"])(o),"handlePlay",(function(){o.activeAnimateIndex>-1&&o.animateMap[o.activeAnimateIndex]&&o.animateMap[o.activeAnimateIndex].play()})),Object(c["a"])(Object(D["a"])(o),"handlePause",(function(){o.activeAnimateIndex>-1&&o.animateMap[o.activeAnimateIndex]&&o.animateMap[o.activeAnimateIndex].pause()})),Object(c["a"])(Object(D["a"])(o),"handleResizeScreen",(function(){var t=window.innerWidth,e=t-o.playerRect.left-o.playerRect.width;Ce<e?o.player_.hasClass("wbpv-ai-abstract-layer-thin")&&o.player_.removeClass("wbpv-ai-abstract-layer-thin"):o.player_.addClass("wbpv-ai-abstract-layer-thin")})),Object(c["a"])(Object(D["a"])(o),"handleUpdateListItem",(function(){var t;o.player_.hasClass("wbpv-ai-abstract-layer-show")&&(null===(t=o.lists)||void 0===t||t.forEach((function(t,e){var i,a,n=t.dataset.start,s=(null===(i=o.lists[e+1])||void 0===i||null===(a=i.dataset)||void 0===a?void 0:a.start)||o.player_.duration(),r=o.player_.currentTime();if(r>=n&&r<s){if(!Array.from(t.classList).includes("wbpv-ai-abstract-layer-listitem-active")&&(t.classList.add("wbpv-ai-abstract-layer-listitem-active"),!o.animateMap[e])){var l=t.querySelector(".wbpv-ai-abstract-layer-listitem-icon-animate");o.animateMap[e]=new ye(l,we),o.activeAnimateIndex=e}}else{var c=o.animateMap[e];c&&(c.destroy(),o.animateMap[e]=null),t.classList.remove("wbpv-ai-abstract-layer-listitem-active")}})))})),t.on("timeupdate",o.handleUpdateListItem),t.on("play",o.handlePlay),t.on("pause",o.handlePause),o.playerRect=t.el_.getBoundingClientRect(),o.animateMap={},o.activeAnimateIndex=-1,o.handleResizeScreen(),window.addEventListener("resize",o.handleResizeScreen),o}return Object(T["a"])(i,[{key:"createEl",value:function(){var t,e=this,i=xe.createEl("div",{className:"wbpv-ai-abstract-layer",innerHTML:'\n      <section class="wbpv-ai-abstract-layer-header">\n        <h1>AI总结 </h1> <span class="wbpv-ai-abstract-tip">测试版</span>\n        <span class="wbpv-ai-abstract-layer-close"></span>\n      </section>\n      <section class="wbpv-ai-abstract-layer-content">\n        <div class="wbpv-ai-abstract-layer-wrap">\n          <p class="wbpv-ai-abstract-layer-detail">\n            '.concat(this.options_.totalAbstract,'\n          </p>\n          <ul class="wbpv-ai-abstract-layer-list">\n          </ul>\n        </div>\n      </section>\n      ')}),a=i.querySelector(".wbpv-ai-abstract-layer-close");a.onclick=function(){e.player_.removeClass("wbpv-ai-abstract-layer-show")};var o=i.querySelector(".wbpv-ai-abstract-layer-list"),n=null===(t=this.options_.splits)||void 0===t?void 0:t.map((function(t,i){return xe.createEl("li",{className:"wbpv-ai-abstract-layer-listitem",innerHTML:'\n          <div class="wbpv-ai-abstract-layer-listitem-content" data-index="'.concat(i,'">\n            <p class="wbpv-ai-abstract-layer-time">').concat($e(t.time),"</p>\n            ").concat(t.text,'\n          </div>\n          <div class="wbpv-ai-abstract-layer-listitem-icon-animate wbpv-ai-abstract-layer-listitem-icon-').concat(i,'"></div>\n        '),onclick:function(i){if(i.target){i.stopPropagation(),i.preventDefault();var a=i.target.dataset.index||i.target.parentNode.dataset.index;e.player_.trigger("update-ai-abstract-progress",t.scope[0]),a>=0&&(e.player_.currentTime(+t.scope[0]),e.player_.removeClass("wbpv-ai-abstract-layer-show"),e.player_.play())}}},{"data-start":t.scope[0],"data-end":t.scope[1]})}));return null===n||void 0===n||n.forEach((function(t){o.appendChild(t)})),this.lists=n,i}},{key:"dispose",value:function(){var t=this;Object.keys(this.animateMap).forEach((function(e){t.animateMap[e]&&(t.animateMap[e].destroy(),t.animateMap[e]=null)})),window.removeEventListener("resize",this.handleResizeScreen),this.player_.off("timeupdate",this.handleUpdateListItem),this.player_.off("play",this.handlePlay),this.player_.off("paused",this.handlePause),Object(S["a"])(Object(I["a"])(i.prototype),"dispose",this).call(this)}}]),i}(ke);ke.registerComponent("aiAbstractLayer",Oe);var je=Oe,Te=(i("10ef"),a["a"].getComponent("component")),De=10,Se=4,Ie=function(t){Object(L["a"])(i,t);var e=Object(B["a"])(i);function i(t,a){var o;return Object(j["a"])(this,i),o=e.call(this,t,a),Object(c["a"])(Object(D["a"])(o),"updatePosition",(function(){var t=o.titleNode.getBoundingClientRect(),e=o.player_.el_.getBoundingClientRect();t.left-t.width/2<e.left?o.titleNode.style.left="".concat(e.left-t.left+De,"px"):e.left+e.width<t.left+t.width?o.titleNode.style.left="".concat(e.right-t.right-De,"px"):o.titleNode.style.left="".concat(-(t.width-Se)/2,"px")})),t.one("timeupdate",o.updatePosition),o}return Object(T["a"])(i,[{key:"createEl",value:function(){var t=this.player_.duration(),e=100*this.options_.spotlightTime/t+"%";return this.titleNode=a["a"].dom.createEl("div",{className:"wbpv-ai-abstract-title",innerHTML:'<span style="margin-right:6px; font-weight:bold;">'.concat($e(this.options_.spotlightTime),"</span>").concat(this.options_.spotlightTitle)}),this._point=a["a"].dom.createEl("div",{className:"wbpv-spotlight-point wbpv-ai-abstract-point"}),this.el_=a["a"].dom.createEl("div",{className:"wbpv-spotlight wbpv-ai-abstract",style:"left: ".concat(e,"; width: ").concat(this.options_.spotlightPercent)}),this._point.appendChild(this.titleNode),this.el_.appendChild(this._point),this.el_}},{key:"onMouseEnter",value:function(){Object(S["a"])(Object(I["a"])(i.prototype),"onMouseEnter",this).call(this),this.hasClass("wbpv-ai-abstract-point-hover")||this.addClass("wbpv-ai-abstract-point-hover"),this.player_.hasClass("wbpv-ai-abstract-title-show")||this.player_.addClass("wbpv-ai-abstract-title-show")}},{key:"onMouseOut",value:function(t){Object(S["a"])(Object(I["a"])(i.prototype),"onMouseOut",this).call(this),this.hasClass("wbpv-ai-abstract-point-hover")&&this.removeClass("wbpv-ai-abstract-point-hover"),this.player_.hasClass("wbpv-ai-abstract-title-show")&&this.player_.removeClass("wbpv-ai-abstract-title-show")}},{key:"dispose",value:function(){Object(S["a"])(Object(I["a"])(i.prototype),"dispose",this).call(this)}}]),i}(ne);Te.registerComponent("aiAbstractPoint",Ie);var Le=Ie,Be=a["a"].dom||a["a"],Pe=a["a"].getComponent("Button"),Ae=a["a"].getComponent("Component"),Ee=function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t){var a=t.controlBar,o=a.progressControl,n=o.seekBar,s=i.spotlightDuration||5,r=i.noDuration?0:(100*s/t.duration()).toFixed(2)+"%",l=[];return null===i||void 0===i||null===(e=i.spotlights)||void 0===e||e.forEach((function(e){var i=new Le(t,{spotlightTime:e.spotlight_time,spotlightTitle:e.spotlight_title,spotlightPercent:r,name:"aiAbstractPoint"});n.addChild(i),l.push(i)})),l}},Me=function(t){var e=t.controlBar,i=e.progressControl,a=i.seekBar,o=[];a.children_.forEach((function(t){"aiAbstractPoint"===t.name()&&o.push(t)})),o.forEach((function(t){a.removeChild(t)}))},Fe=function(t){Object(L["a"])(i,t);var e=Object(B["a"])(i);function i(t,a){var o,n,s;Object(j["a"])(this,i),s=e.call(this,t,a);var r={noDuration:!0,spotlights:null===a||void 0===a||null===(o=a.splits)||void 0===o?void 0:o.map((function(t){return{spotlight_time:t.time,spotlight_title:t.text}}))};(null===r||void 0===r||null===(n=r.spotlights)||void 0===n?void 0:n.length)&&t.one("playing",(function(){s.aiAbstractPointList=Ee(t,r)}));var l=s.player_.getChild("controlBar");if(!l)return Object(de["a"])(s);var c=new _e(t,a),u=l.children_.findIndex((function(t){return"PlaybackRateMenuButton"===t.name_}));return l.addChild(c,{},u),t.addChild(new je(t,a)),he(7795,a.actionLog),s}return Object(T["a"])(i,[{key:"createEl",value:function(){var t=Be.createEl("span",{className:"wbpv-ai-abstract"});return t}},{key:"dispose",value:function(){var t;Me(this.player_),null===(t=this.aiAbstractPointList)||void 0===t||t.forEach((function(t){t.dispose()})),Object(S["a"])(Object(I["a"])(i.prototype),"dispose",this).call(this)}}]),i}(Pe);Fe.prototype.controlText_="AI总结",Ae.registerComponent("aiAbstract",Fe);i("d88c");var Re=a["a"].dom||a["a"],Ve=a["a"].getComponent("Component"),Ne=function(t){Object(L["a"])(i,t);var e=Object(B["a"])(i);function i(t,a){var o;return Object(j["a"])(this,i),o=e.call(this,t,a),Object(c["a"])(Object(D["a"])(o),"bindEvent",(function(){var t;o.techEl=o.player_.tech_.el_,o.techEl&&(o.techEl.oncontextmenu=o.openContextMenu),o.layerEl=null===(t=o.player_.getChild("layerButton"))||void 0===t?void 0:t.el_,o.layerEl&&(o.layerEl.oncontextmenu=o.openContextMenu)})),Object(c["a"])(Object(D["a"])(o),"openContextMenu",(function(t){try{if(!o.player_.hasClass("wbpv-has-started"))return;t.preventDefault();var e=o.player_.el_.getBoundingClientRect(),i=o.el_.getBoundingClientRect(),a=t.clientX,n=t.clientY;o.el_.style.left=a-e.left-i.width/2+"px",o.el_.style.top=n-e.top-i.height/2+"px",window.addEventListener("click",o.hideAddressClipboard,!0),o.player_.hasClass("wbpv-address-clipboard-show")||o.player_.addClass("wbpv-address-clipboard-show")}catch(t){}})),Object(c["a"])(Object(D["a"])(o),"hideAddressClipboard",(function(){window.removeEventListener("click",o.hideAddressClipboard,!0),o.player_.removeClass("wbpv-address-clipboard-show")})),t.one("loadedmetadata",o.bindEvent),o}return Object(T["a"])(i,[{key:"createEl",value:function(){var t=this,e=this.options_.text||"",i=Re.createEl("div",{className:"wbpv-address-clipboard",innerHTML:'\n        <div class="wbpv-address-clipboard-text">复制视频地址</div>\n      ',onclick:function(){navigator.clipboard&&navigator.clipboard.writeText(e).then((function(){t.player_.trigger({type:"showTip",text:"复制成功"}),setTimeout((function(){t.player_.trigger("hiddenTip")}),1e3)})).catch((function(t){}))}});return i}},{key:"dispose",value:function(){this.techEl&&(this.techEl.oncontextmenu=null),this.layerEl&&(this.layerEl.oncontextmenu=null),this.player_.off("loadedmetadata",this.bindEvent),window.removeEventListener("click",this.hideAddressClipboard,!0),Object(S["a"])(Object(I["a"])(i.prototype),"dispose",this).call(this)}}]),i}(Ve);Ve.registerComponent("addressClipboard",Ne);O.install=function(t){t.component(O.name,O)};e["a"]=O},4207:function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_stopic",use:"woo_svg_stopic-usage",viewBox:"0 0 1024 1024",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" id="woo_svg_stopic"><path fill="currentColor" d="M754.661 94.191a46.934 46.934 0 0135.573 16.316c36.116 41.958 72.231 86.293 108.347 133.004 33.459 43.275 66.919 88.591 100.377 135.946 12.925 18.297 11.12 43.177-4.311 59.416L539.941 917.358c-15.224 16.02-40.553 16.665-56.574 1.441l-.105-.1c-15.972-15.289-16.526-40.63-1.237-56.601l.09-.093 415.157-430.916c17.684-18.354 17.489-47.466-.439-65.582-30.872-31.195-56.123-59.488-75.755-84.88-22.692-29.349-49.025-59.344-79-89.984a46.932 46.932 0 00-33.552-14.115H311.678a46.929 46.929 0 00-28.53 9.666c-25.16 19.259-48.721 43.263-70.684 72.013-18.976 24.84-46.384 57.586-82.221 98.237l-11.006 12.431c-17.011 19.146-15.535 48.393 3.317 65.729 54.95 50.528 99.586 93.85 133.907 129.966 32.975 34.7 70.631 69.622 112.965 104.766 17.645 14.648 43.823 12.219 58.472-5.426l.206-.25 1.307-1.6c14.432-17.66 14.079-43.139-.836-60.393-31.388-36.311-60.138-68.205-86.25-95.683a3930.868 3930.868 0 01-50.612-54.286l-25.306-27.914c-14.165-15.768-16.003-39.074-4.487-56.869 8.621-13.32 17.242-25.622 25.863-36.907 9.959-13.037 19.919-24.715 29.878-35.036a46.932 46.932 0 0133.774-14.344l319.56.001a46.94 46.94 0 0133.557 14.119c10.249 10.481 20.499 22.349 30.748 35.606 8.561 11.073 17.122 23.113 25.684 36.123 11.996 18.226 9.849 42.316-5.182 58.134L419.507 778.537c-17.856 18.79-47.565 19.549-66.356 1.694l-1.159-1.14a13810.452 13810.452 0 01-157.209-162.762A14442.826 14442.826 0 0184.138 498.577L28.817 438.71c-14.89-16.203-16.525-40.575-3.931-58.621 33.206-47.584 66.414-93.11 99.62-136.577 35.624-46.632 71.248-90.895 106.872-132.789a46.935 46.935 0 0135.757-16.532h487.526zM598.46 347.142H428.94a37.551 37.551 0 00-25.714 10.186l-32.982 30.993a22.88 22.88 0 00-.631.616c-9.105 9.224-9.008 24.083.216 33.189l127.384 125.739c9.139 9.022 23.833 9.022 32.973 0l127.384-125.74c.209-.206.415-.417.615-.631 8.877-9.445 8.415-24.297-1.031-33.173l-32.981-30.993a37.549 37.549 0 00-25.713-10.186z" /></symbol>'});s.a.add(r);e["default"]=r},"421a":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.moreList&&t.moreList.length?i("woo-pop",{class:t.$style.more,attrs:{show:t.showPop,direction:"down",align:"end"},on:{"click-outside":t.close},scopedSlots:t._u([{key:"ctrl",fn:function(){var e;return[i("woo-box",{class:t.$style.moreIcon,attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{class:(e={},e[t.$style.action]=!0,e[t.$style.cross]=t.showCross,e),attrs:{value:t.showCross?"cross":"angleDown",title:t.showCross?"负反馈":"更多"},nativeOn:{click:function(e){return e.stopPropagation(),t.moreClick(e)}}})],1)]},proxy:!0}],null,!1,37313708)},[i("woo-pop-wrap",[t._l(t.moreList,(function(e,a){return[e.more&&"qrcode"===e.more.type?i("woo-pop",{key:a,attrs:{show:t.qrcodeVisible,direction:"left",align:"start",gap:"5",alignGap:"44"},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-pop-item",{key:a,nativeOn:{mouseenter:function(e){t.qrcodeVisible=!0},mouseleave:function(e){t.qrcodeVisible=!1},click:function(i){return t.copyClipboard(e.more.qrcodeText)}}},[i("transition",{attrs:{name:"share-slide-fade"}},[t.qrcodeVisible?t._e():i("span",[t._v(t._s(e.name))])]),i("transition",{attrs:{name:"copy-slide-fade"}},[t.qrcodeVisible?i("span",[t._v(t._s(e.more.shareText))]):t._e()])],1)]},proxy:!0}],null,!0)},[i("div",{class:t.$style.qrcode},[i("QRCode",{attrs:{text:e.more.qrcodeText}}),i("div",{class:t.$style.text},[t._v("手机扫码分享/查看")])],1)]):i("woo-pop-item",{key:a,class:[e.disabled&&t.$style.disabled],nativeOn:{click:function(t){t.stopPropagation(),!e.disabled&&e.action()}}},[i("woo-box",{staticStyle:{width:"100%"},attrs:{direction:"y"}},[i("woo-box",{attrs:{justify:"between"}},[i("div",[t._v(t._s(e.name))]),e.badge?i("woo-badge",{class:t.$style.badge,attrs:{value:e.badge}}):t._e(),e.icon?i("div",{class:t.$style.icon},[t._v("会员")]):t._e()],1),i("div",{class:t.$style.desc},[t._v(t._s(e.desc))])],1)],1)]}))],2)],1):t._e()},o=[],n=(i("99af"),i("4de4"),i("c740"),i("4160"),i("caad"),i("c975"),i("a434"),i("b0c0"),i("a9e3"),i("9129"),i("ac1f"),i("2532"),i("466d"),i("5319"),i("159b"),i("b85c")),s=i("5530"),r=(i("96cf"),i("1da1")),l=i("2f62"),c=i("baf4"),u=i("b12a"),d=i("641d"),h=i("7748"),p=i("b893"),f=i("8a48"),m=i("ed09"),v={setup:function(){var t=Object(f["a"])(),e=t.timerCount,i=Object(m["n"])();return{editConfig:i,timerCount:e}},components:{QRCode:h["a"]},name:"morepop",props:{index:Number,id:String,mblogid:String,uid:String,text:String,pic_id:Array,screenName:String,visible:Object,isTop:[Boolean,Number],editCount:Number,isVmenber:Number,favorited:Boolean,approval_comment_type:Number,ai_assistant_comment_type:Number,page_title:String,url_struct:Array,single:Boolean,pagetype:String,longTextContent:String,isLongText:Boolean,hasCommentApproval:Boolean,showFastRepost:Boolean,ori_uid:Number,ori_mid:String,canAddVideoVote:Boolean,page_info:Object,pic_infos:Object,is_paid:Boolean,actLogData:{type:Object,default:function(){return{page:"",extValue:""}}},menus:Array,mblog_menus_new:Array,extra_button_info:Object,following:Boolean,followcardid:String,mark:String,rid:String,in_audit:Number,after_audit:Number,tag_struct:Object,contents:Array,pic_focus_point:Array,mix_media_info:Array,isSecondRelationFeed:Boolean,can_remark:Boolean,share_repost_type:{type:Number,default:0},aiAssistant:Boolean,gender:String},data:function(){return{filterUserStatus:{status:!0,interact:!0,follow:!0},deleteCommentCheckValue:[{value:!1,label:"同时将此用户加入黑名单"}],checkValue:[{value:!0,label:"不看他的微博"},{value:!1,label:"禁止他与我互动"},{value:!1,label:"禁止他关注我"}],newFavorited:this.favorited,newIsTop:this.isTop,newFollowing:this.following,isRetry:!1,qrcodeVisible:!1}},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.single||(t.$Bus.$on("closePop",t.closePopHandle),t.$once("hook:beforeDestroy",(function(){t.$Bus.$off("closePop",t.closePopHandle)}))),t.$Bus.$on("titleSpread",t.titleSpreadHandle),t.$once("hook:beforeDestroy",(function(){t.$Bus.$off("titleSpread",t.titleSpreadHandle)}));case 3:case"end":return e.stop()}}),e)})))()},mixins:[c["a"],u["a"]],watch:{favorited:function(t){this.newFavorited=t},isTop:function(t){this.newIsTop=t},following:function(t){this.newFollowing=t},showPop:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var a,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!t){i.next=7;break}if(!(e.moreList.length&&e.moreList.findIndex((function(t){return"编辑微博"===t.name}))>-1)){i.next=7;break}return i.next=4,e.timerCount();case 4:a=i.sent,o=a.edit,e.editConfig=o;case 7:case"end":return i.stop()}}),i)})))()}},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(l["d"])(["access"])),Object(l["c"])(["config","showPop"])),{},{disableShare:function(){return 3===this.share_repost_type},history:function(){return this.access.history},isMy:function(){return+this.uid===this.config.uid||this.ori_uid===this.config.uid},showCross:function(){return this.mblog_menus_new&&this.mblog_menus_new.length&&this.mark&&"999_reallog_mark_ad:999|WeiboADNatural"!==this.mark},moreList:function(){var t=this,e=[],i=this.visible&&this.visible.type>=0?this.visible.type:"";if(this.mblog_menus_new&&this.mblog_menus_new.length){if(this.mark&&"999_reallog_mark_ad:999|WeiboADNatural"!==this.mark){var a,o=Object(n["a"])(this.mblog_menus_new);try{var s=function(){var e=a.value;switch(e.type){case"mblog_menus_hide_status":e.action=function(){t.throwBatch(e.actionlog),t.toDeleteWeibo(t.id),t.close(),["不感兴趣","屏蔽此博主"].includes(e.name)&&("不感兴趣"===e.name?e.need_back="1":"屏蔽此博主"===e.name&&(e.need_back="2"),t.menuBack(e.need_back))};break;case"mblog_menus_report":case"link":["投诉","为何会看到此广告"].includes(e.name)&&(e.action=function(){e.params&&e.params.scheme&&(t.close(),t.throwBatch(e.actionlog),window.open(e.params.scheme))});break;case"mblog_menus_favorite":e.name=t.newFavorited?"取消收藏":"收藏",e.action=function(){t.setFavorited("ad")};break;case"mblog_menus_follow":e.name=t.newFollowing?"取消关注":"关注",e.action=function(){t.followAction()};break;case"mblog_menus_cancel_quick_forward":e.name="取消快转",e.action=function(){t.destroy()};break}};for(o.s();!(a=o.n()).done;)s()}catch(b){o.e(b)}finally{o.f()}return e=this.mblog_menus_new&&this.mblog_menus_new.filter((function(t){return t.action})),e}var r;if(this.isSecondRelationFeed)return null===(r=this.mblog_menus_new)||void 0===r||r.forEach((function(i){switch(i.type){case"mblog_menus_no_interst":i.action=function(){t.toDeleteWeibo(t.id),t.close(),t.throwBatch(i.actionlog)},e.push(i);break;case"mblog_menus_shield":e.push({name:"屏蔽此条微博",action:function(){t.filterWeibo()}},{name:"屏蔽该博主",action:function(){t.filterUser()}},{name:"屏蔽关键词",action:function(){t.close(),window.open("https://weibo.com/set/shield?type=keyword")}});break;case"mblog_menus_report":e.push({name:"投诉",action:function(){t.close(),window.open("https://service.account.weibo.com/reportspam?rid=".concat(t.mblogid,"&type=1&from=1FFFF96039"))}});break;case"mblog_menus_follow":e.push({name:t.newFollowing?"取消关注":"关注",action:function(){t.followAction()}});break;default:break}})),e}if(this.menus&&this.menus.length){var l,c=Object(n["a"])(this.menus);try{var u=function(){var e=l.value;if(["weibo","cmt"].includes(t.pagetype))switch(e.name){case"删除":e.action=function(){"weibo"===e.type?t.destroy():"comment"===e.type&&t.destoryComment()};break;case"屏蔽微博":e.action=function(){t.filterMentionsWeibo()};break;case"加入黑名单":e.action=function(){t.aiAssistant?t.filterAssistant():t.filterUser("blacklist")};break;case"解除黑名单":e.action=function(){t.deleteFilters()};break;case"投诉":e.action=function(){var i="weibo"===e.type?1:"comment"===e.type?2:"";window.open("https://service.account.weibo.com/reportspam?rid=".concat(t.id,"&type=").concat(i,"&from=1FFFF96039"))};break;default:break}else switch(e.name){case"今日不再出现此类内容":e.action=function(){t.negativesUpdate(e.actionlog)};break;case"屏蔽":e.action=function(){t.close(),window.open("https://account.weibo.com/set/shield?where=keyword")};break;default:break}};for(c.s();!(l=c.n()).done;)u()}catch(b){c.e(b)}finally{c.f()}e=this.menus&&this.menus.filter((function(t){return t.action}))}else if(!["weibo","cmt"].includes(this.pagetype)){if(this.isMy){if(this.showFastRepost)e.splice(0,0,{name:"取消快转",action:function(){t.destroy()}});else{var d,h,p,f,m,v,_;if(e=[{name:"编辑微博",desc:null===(d=this.editConfig)||void 0===d?void 0:d.text,icon:!0,action:function(){t.edit()}}],+(null===(h=this.page_info)||void 0===h?void 0:h.authorid)===this.config.uid&&(null===(p=this.page_info)||void 0===p?void 0:p.object_type)&&"video"===this.page_info.object_type)e.push({name:"编辑视频",action:function(){t.editVideo()},disabled:Boolean(null===this||void 0===this||null===(v=this.page_info)||void 0===v?void 0:v.media_info.cooperate_video)});if(+(null===(f=this.page_info)||void 0===f?void 0:f.authorid)===this.config.uid&&(null===(m=this.page_info)||void 0===m?void 0:m.object_type)&&"podcast_audio"===this.page_info.object_type)e.push({name:"编辑音频",action:function(){t.editAudio("audio")},disabled:Boolean(null===this||void 0===this||null===(_=this.page_info)||void 0===_?void 0:_.media_info.cooperate_video)});0===i&&e.splice(0,0,{name:"推广",action:function(){t.spread()}}),(0===i||this.newIsTop)&&e.splice(0,0,{name:this.newIsTop?"取消置顶":"置顶",action:function(){t.setTopMblog()}}),this.editCount>=1&&e.splice(3,0,{name:"查看编辑记录",action:function(){t.showEditHistory()}}),this.newIsTop||(0!==i&&9!==i&&e.splice(4,0,{name:"转换为公开",key:"modify2Open",action:function(){t.modifyVisible("0")}}),10!==i&&9!==i&&e.splice(5,0,{name:"转换为粉丝可见",key:"modify2Fans",action:function(){t.modifyVisible("10")}}),6!==i&&9!==i&&e.splice(6,0,{name:"转换为好友圈可见",key:"modify2Friends",action:function(){t.modifyVisible("2")}}),1===this.isVmenber&&9!==i&&e.splice(7,0,{name:"转换为付费会员可见",key:"modify2Vmenber",action:function(){t.modifyVisible("3")}}),1!==i&&9!==i&&e.splice(8,0,{name:"转换为自己可见",key:"modify2My",action:function(){t.modifyVisible("1")}})),this.showFastRepost||e.splice(e.length,0,{name:"删除",action:function(){t.destroy()}}),this.hasCommentApproval&&e.splice(e.length,0,{name:this.approval_comment_type?"关闭评论精选":"开启评论精选",action:function(){t.approvalComment()}}),Number.isNaN(+this.ai_assistant_comment_type)||e.splice(e.length,0,{name:this.ai_assistant_comment_type?"关闭智能助手":"开启智能助手",action:function(){t.aiApprovalComment()}})}if(this.canAddVideoVote&&e.splice(e.length,0,{name:"添加视频投票",action:function(){t.addVideoVote()}}),this.in_audit&&(e=[{name:"删除",action:function(){t.destroy()}}]),this.after_audit){var g={1:function(){e=e.filter((function(t){var e;return 0!==(null===t||void 0===t||null===(e=t.key)||void 0===e?void 0:e.indexOf("modify"))}))},6:function(){e=e.filter((function(t){var e;return 0!==(null===t||void 0===t||null===(e=t.key)||void 0===e?void 0:e.indexOf("modify"))||"modify2My"===(null===t||void 0===t?void 0:t.key)}))},10:function(){e=e.filter((function(t){var e;return 0!==(null===t||void 0===t||null===(e=t.key)||void 0===e?void 0:e.indexOf("modify"))||"modify2My"===(null===t||void 0===t?void 0:t.key)}))}};"function"===typeof g[i]&&g[i]()}}else{if("hot"===this.pagetype)return e=[{name:"投诉",action:function(){t.close(),window.open("https://service.account.weibo.com/reportspam?rid=".concat(t.mblogid,"&type=1&from=1FFFF96039"))}}],this.can_remark&&e.splice(0,0,{name:"添加附注",action:function(){t.addComment()},badge:"NEW"}),e.splice(0,0,{name:this.newFavorited?"取消收藏":"收藏",action:function(){t.setFavorited()}}),this.showFastRepost||e.splice(0,0,{name:"帮上头条",action:function(){t.spread()}}),this.disableShare?e.splice(e.length,0,{name:"复制微博地址",action:function(){var e="".concat("https://weibo.com","/").concat(t.uid,"/").concat(t.mblogid);t.copyLink(e)}}):e.splice(e.length,0,{name:"分享",more:{type:"qrcode",shareText:"点击复制地址",qrcodeText:"".concat("https://weibo.com","/").concat(this.uid,"/").concat(this.mblogid)},action:function(){var e="".concat("https://weibo.com","/").concat(t.uid,"/").concat(t.mblogid);t.copyLink(e)}}),e;e=[{name:"屏蔽此条微博",action:function(){t.filterWeibo()}},{name:"屏蔽该博主",action:function(){t.filterUser()}},{name:"屏蔽关键词",action:function(){t.close(),window.open("https://weibo.com/set/shield?type=keyword")}},{name:"投诉",action:function(){t.close(),window.open("https://service.account.weibo.com/reportspam?rid=".concat(t.mblogid,"&type=1&from=1FFFF96039"))}}],this.can_remark&&e.splice(0,0,{name:"添加附注",action:function(){t.addComment()},badge:"NEW"}),e.splice(0,0,{name:this.newFavorited?"取消收藏":"收藏",action:function(){t.setFavorited()}}),this.showFastRepost||e.splice(0,0,{name:"帮上头条",action:function(){t.spread()}}),this.editCount>=1&&e.splice(1,0,{name:"查看编辑记录",action:function(){t.showEditHistory()}})}this.in_audit||(this.disableShare?e.splice(e.length,0,{name:"复制微博地址",action:function(){var e="".concat("https://weibo.com","/").concat(t.uid,"/").concat(t.mblogid);t.copyLink(e)}}):e.splice(e.length,0,{name:"分享",more:{type:"qrcode",shareText:"点击复制地址",qrcodeText:"".concat("https://weibo.com","/").concat(this.uid,"/").concat(this.mblogid)},action:function(){var e="".concat("https://weibo.com","/").concat(t.uid,"/").concat(t.mblogid);t.copyLink(e)}}))}return e}}),methods:{copyTextToClipboard:p["a"],copyClipboard:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,Object(p["a"])(t);case 2:a=i.sent,"success"===a&&e.$_w_toast({type:"success",message:"复制成功"});case 4:case"end":return i.stop()}}),i)})))()},onMouseEnter:function(t){this.$Bus.$emit("showQRCode")},onMouseLeave:function(){},titleSpreadHandle:function(t){t.id===this.id&&(this.id=t.id,this.uid=t.uid,this.spread(t.from))},closePopHandle:function(){var t=this.$el;while(t)t.className&&t.className.includes("wbpro-scroller-item")?(t.parentNode.removeAttribute("more"),t=null,this.showPop=!1):t=t.parentNode},close:function(){this.closePop(),this.$emit("updatePopMask",this.showPop)},moreClick:function(t){this.clickPop(),this.$emit("head-arrow-down-tap",t,this.showPop),this.$emit("updatePopMask",this.showPop),this.showPop&&this.isLongText&&!this.longTextContent&&this.handleExpand(),this.showPop&&this.mark&&this.mblog_menus_new&&this.mblog_menus_new.length&&this.extra_button_info&&this.extra_button_info.actionlog&&this.throwBatch(this.extra_button_info.actionlog),this.handleActLog()},handleExpand:function(){var t=this;this.$http.get("/ajax/statuses/longtext",{params:{id:this.id}}).then((function(e){if(e.data&&e.data.ok&&e.data.data){var i=e.data.data;i.longTextContent&&(t.longTextContent=i.longTextContent,t.$emit("updateLongTextContent",i.longTextContent))}}))},toDeleteWeibo:function(t){var e=this,i="deleteWeibo";while(e)"function"===typeof e[i]?(e[i](t),e=null):e=e.$parent},setTopMblog:function(){var t=this,e=this.newIsTop?"cancelTopStatus":"setTopStatus";this.$http.post("/ajax/statuses/".concat(e),{mid:this.id}).then((function(e){e.data&&e.data.ok&&e.data.result&&(t.$_w_toast({type:"success",message:t.newIsTop?"已取消置顶":"置顶成功"}),t.newIsTop=!t.newIsTop,t.$emit("updateIsTop",t.newIsTop))})),this.showPop=!1,this.$emit("updatePopMask",this.showPop),this.handleActLog()},getModifyVisibleApi:function(t){var e=this;this.$http.post("/ajax/statuses/modifyVisible",{ids:this.id,visible:t}).then((function(t){if(t.data&&t.data.ok>0){var i=t.data;if(i.statuses&&i.statuses.length&&i.statuses[0]){var a=i.statuses[0];e.$_w_toast({type:"success",message:"修改成功"}),e.$emit("updateTitle",a.title,a.visible.type,a.share_repost_type),e.$emit("updateEditCount",a.edit_count),(e.in_audit||e.after_audit)&&e.$emit("updateAudit",a)}}})),this.handleActLog()},modifyVisible:function(t,e){var i=this,a=this.visible.type,o="";[10,6].indexOf(a)>-1&&"0"===t?o="微博中的评论、点赞等信息也将变为公开，是否确认？":"3"===t&&(o="设为付费粉丝可见后，分享范围不可再次修改，是否确认？"),o?this.$_w_dialog({type:"confirm",message:o,btnConfirm:"确定",action:function(){i.getModifyVisibleApi(t)}}):this.getModifyVisibleApi(t),this.showPop=!1,this.$emit("updatePopMask",this.showPop),this.handleActLog()},destroy:function(){var t=this;this.$_w_dialog({type:"confirm",title:"确定".concat(this.showFastRepost?"取消快转":"删除微博","么？"),btnConfirm:"确定",action:function(){t.$http.post("/ajax/statuses/destroy",{id:t.showFastRepost?t.ori_mid:t.id}).then((function(e){if(e.data&&e.data.ok>0){var i=t.showFastRepost?t.id:e.data.idstr;t.toDeleteWeibo(i),t.single&&(window.history.length?window.history.go(-1):window.location.replace("/"))}}))}}),this.showPop=!1,this.$emit("updatePopMask",this.showPop),this.handleActLog()},destoryComment:function(){var t=this;this.$_w_dialog({type:"confirm",title:"确定删除评论么？",btnConfirm:"确定",checkbox:this.config.uid!==this.uid?this.deleteCommentCheckValue:[],action:function(){var e={};t.deleteCommentCheckValue[0].value&&(e={uid:t.uid,screen_name:t.screenName,status:0,interact:1,follow:0}),t.$http.post("/ajax/statuses/destroyComment",{cid:t.id,filter:e}).then((function(e){e.data&&e.data.ok>0&&(t.$Bus.$emit("deleteMessageComment",t.id),t.$_w_toast({type:"success",message:"删除成功"}))}))}}),this.showPop=!1,this.$emit("updatePopMask",this.showPop)},setFavorited:function(t){var e=this,i=this.newFavorited?"destoryFavorites":"createFavorites",a={id:this.id};"ad"===t&&(a=Object(s["a"])(Object(s["a"])({},a),{},{mark:this.mark,rid:this.rid,luicode:this.getLogData("uicode")})),this.$http.post("/ajax/statuses/".concat(i),a).then((function(t){t.data&&t.data.ok&&t.data.status&&(e.newFavorited?e.$_w_toast({type:"success",message:e.newFavorited?"已取消收藏":"已收藏"}):e.$Bus.$emit("showLayerCollect",a),e.newFavorited=!e.newFavorited,e.$emit("updateFavorited",e.newFavorited),"fav"!=e.pagetype||e.newFavorited||e.$nextTick((function(){e.toDeleteWeibo(e.id)})))})),this.showPop=!1,this.$emit("updatePopMask",this.showPop),this.handleActLog()},aiApprovalComment:function(){var t=this;this.showPop=!1,this.$emit("updatePopMask",this.showPop),Number.isNaN(+this.ai_assistant_comment_type)||(this.hasCommentApproval&&1===this.approval_comment_type?this.$_w_dialog({type:"confirm",title:"开启后将自动关闭“评论精选”功能，已通过/不通过的操作将保留",btnConfirm:"确定",action:function(){t.aiApprovalCommentAction()}}):this.aiApprovalCommentAction())},aiApprovalCommentAction:function(){var t=this,e=+!this.ai_assistant_comment_type;this.$http.post("/ajax/approval/updateAiAssistant",{mid:this.id,state:e}).then((function(e){if(e.data.ok>0&&e.data.data&&e.data.data.result){t.ai_assistant_comment_type=!t.ai_assistant_comment_type,t.$emit("updateCommentType","ai_assistant_comment_type",t.ai_assistant_comment_type);var i="您已关闭本条微博的智能助手";t.ai_assistant_comment_type&&(i="您已开启本条微博的智能助手",1===t.approval_comment_type&&t.$emit("updateCommentType","approval_comment_type",0)),t.$_w_toast({type:"success",message:i}),t.$Bus.$emit("reloadDetail")}else t.$_w_toast({type:"error",message:"操作失败，请重试"})}))},approvalComment:function(){var t=this;this.showPop=!1,this.$emit("updatePopMask",this.showPop),1!==this.ai_assistant_comment_type?(this.approvalCommentAction(),this.handleActLog()):this.$_w_dialog({type:"confirm",title:"开启后将自动关闭“评论智能助手”功能，已智能筛选的评论将重新进入待审状态",btnConfirm:"确定",action:function(){t.approvalCommentAction()}})},approvalCommentAction:function(){var t=this,e=this.approval_comment_type?0:1;this.$http.post("/ajax/approval/update_status_state",{mid:this.id,state:e}).then((function(i){i.data&&i.data.ok>0&&(0===e?t.$_w_toast({type:"success",message:"您已关闭本条微博的评论精选"}):1===e&&t.$_w_dialog({type:"confirm",title:"您已开启本条微博的评论精选",message:"您可前往微博管理 - 内容管理 - 评论精选 对该微博的评论进行管理",btnConfirm:"去管理",btnCancel:"完成",action:function(){window.open("/manage/approval")}}),t.approval_comment_type=!t.approval_comment_type,t.$emit("updateCommentType","approval_comment_type",t.approval_comment_type),1===t.ai_assistant_comment_type&&(t.ai_assistant_comment_type=0,t.$emit("updateCommentType","ai_assistant_comment_type",0)),t.$Bus.$emit("reloadDetail"))}))},filterWeibo:function(){var t=this;this.$_w_dialog({type:"confirm",title:"确定屏蔽这条微博吗？",message:"在“我的首页”将自动屏蔽这条微博。",btnConfirm:"确定",action:function(){t.$http.post("/ajax/statuses/filterWeibo",{id:t.id}).then((function(e){if(e.data&&e.data.ok>0){if(t.single)return void t.$_w_toast({type:"success",message:"已屏蔽"});t.toDeleteWeibo(e.data.idstr)}}))}}),this.showPop=!1,this.$emit("updatePopMask",this.showPop),this.handleActLog()},filterMentionsWeibo:function(){var t=this;this.$_w_dialog({type:"confirm",title:"屏蔽后，不再接收此微博的相关消息，确定屏蔽么？",btnConfirm:"屏蔽",action:function(){t.$http.post("/ajax/statuses/filterMentionsWeibo",{id:t.id}).then((function(e){e.data&&e.data.ok>0&&(t.$_w_toast({type:"success",message:"已屏蔽"}),t.toDeleteWeibo(t.id))}))}}),this.showPop=!1,this.$emit("updatePopMask",this.showPop)},filterAssistant:function(){var t=this;this.showPop=!1;var e="f"===this.gender?"她":"他";this.$_w_dialog({type:"confirm",message:"加入黑名单后，".concat(e,"的AI小助理不能给你发评论、@通知"),btnConfirm:"确定",action:function(){t.$http.post("/ajax/statuses/filterAssistant",{uid:t.uid}).then((function(e){e.data&&e.data.ok>0&&t.$_w_toast({type:"success",message:"已拉黑"})}))}})},filterUser:function(t){var e=this;"blacklist"===t&&(this.checkValue[1].value=!0,this.checkValue[2].value=!0),this.showPop=!1,this.$emit("updatePopMask",this.showPop),this.$_w_dialog({type:"confirm",title:"屏蔽用户",message:"设置对@".concat(this.screenName," 的屏蔽范围，全选即为拉黑用户"),checkbox:this.checkValue,btnConfirm:"确定",action:function(){e.$http.post("/ajax/statuses/filterUser",{uid:e.uid,screen_name:e.screenName,status:e.checkValue[0].value?1:0,interact:e.checkValue[1].value?1:0,follow:e.checkValue[2].value?1:0}).then((function(i){if(i.data&&i.data.ok>0){if((e.single||"blacklist"===t)&&e.$_w_toast({type:"success",message:"已屏蔽"}),"blacklist"===t&&e.menus.length){var a=e.menus.findIndex((function(t){return"加入黑名单"===t.name}));a>-1&&(e.menus[a].name="解除黑名单")}"blacklist"!==t&&e.toDeleteWeibo(e.id)}}))}}),this.handleActLog()},deleteFilters:function(){var t=this;this.showPop=!1,this.$emit("updatePopMask",this.showPop),this.$http.post("/ajax/statuses/deleteFilters",{uid:this.uid}).then((function(e){if(e.data&&e.data.ok>0&&(t.$_w_toast({type:"success",message:"已解除"}),t.menus.length)){var i=t.menus.findIndex((function(t){return"解除黑名单"===t.name}));i>-1&&(t.menus[i].name="加入黑名单")}}))},addComment:function(){var t=this;this.$http.get("/ajax/statuses/remark_type_show",{params:{mid:this.id}}).then((function(e){e.data.data.remark_list?t.$Bus.$emit("showModalPublish",{action:"addComment",title:"添加附注",desc:"附注审核通过后将展示在原博下方",descLink:"https://kefu.weibo.com/faqdetail?id=21748",placeholder:"输入你要补充的说明",can_remark:t.can_remark,data:{remark_list:e.data.data.remark_list,contents:t.contents,content:t.longTextContent?t.longTextContent:t.text,visable:0,mid:t.id,page_title:t.page_title,single:t.single,onhead:!1,actLogData:{page:"qPublisher"},mblog_uid:t.uid,maxCount:4989}}):e.data.data.error_title&&t.$_w_toast({type:"warn",message:e.data.data.error_title})}))},edit:function(){var t=this;this.$http.get("/ajax/statuses/checkCanEdit",{params:{mid:this.id}}).then((function(e){e.data&&e.data.ok>0&&(e.data.tip_message&&"guide"===e.data.tip_type?(t.showPop=!1,t.$_w_dialog({type:"confirm",message:e.data.tip_message,btns:[{text:"确定",action:function(){window.open(t.editConfig.scheme,"_blank")}}]})):e.data.tip_message?(t.showPop=!1,t.$_w_toast({type:"warn",message:e.data.tip_message})):0===t.editConfig.residue_num&&t.editConfig.need?(t.showPop=!1,window.open(t.editConfig.scheme,"_blank")):(t.$Bus.$emit("showModalPublish",{action:"modify",title:"编辑微博",data:{contents:t.contents,content:t.longTextContent?t.longTextContent:t.text,visable:0,mid:t.id,pic_id:t.pic_id,page_title:t.page_title,url_struct:t.url_struct,single:t.single,onhead:!1,actLogData:{page:"qPublisher"},tag_struct:t.tag_struct,pic_focus_point:t.pic_focus_point,pic_infos:t.pic_infos,is_paid:t.is_paid,mix_media_info:t.mix_media_info}}),t.showPop=!1),t.$emit("updatePopMask",t.showPop))})),this.handleActLog()},spread:function(t){this.showPop=!1,this.$emit("updatePopMask",this.showPop);var e=this.$route.name,i=this.history.length>2&&this.history[this.history.length-2].name,a=t||"";if(!a)switch(e){case"detail":case"bidDetail":a="profile"===i?this.isMy?"more_profile_v1pc_06":"more_profile_v1pc_08":this.isMy?"main_p_v1pc_02":"main_p_v1pc_03";break;case"profile":a=this.isMy?"p_profile_v1pc_05":"profile_v1pc_07";break;default:a=this.isMy?"main_feed_v1pc_01":"v1pc_feed_01";break}this.isMy?window.open("https://promote.vip.weibo.com/promote?mid=".concat(this.id,"&from=").concat(a,"&ru=//weibo.com&failRu=https://weibo.com/u/").concat(this.uid)):window.open("https://promote.vip.weibo.com/promoteadvance?mid=".concat(this.id,"&touid=").concat(this.uid,"&from=").concat(a,"&ru=//weibo.com&failRu=https://weibo.com/u/").concat(this.uid)),this.handleActLog()},reloadQrcode:function(){var t=this.id;this.$_w_dialog({kind:"bar",title:"请使用微博官方客户端扫描二维码，继续完成推广",btnConfirm:"我知道了",component:{template:'<woo-panel border="none" class="dialogCustom">\n            <div>\n              <woo-box align="center" justify="center">\n                <woo-spinner size="32px" v-if="loading"></woo-spinner>\n                <woo-tip type="warn" sort="vertical" v-if="retry">请重试</woo-tip>\n              </woo-box>\n              <woo-picture :src="qrcodeUrl" alt="等比图" style="border-radius: 16px" v-if="qrcodeUrl"></woo-picture>\n            </div>\n            </woo-panel>',data:function(){return{loading:!1,retry:!1,qrcodeUrl:""}},mounted:function(){this.getQrcode(t)},methods:{getQrcode:function(t){var e=this;this.loading=!0,this.retry=!1,this.$http.get("/ajax/qrcode/create",{params:{id:t}}).then((function(t){e.loading=!1,t.data&&t.data.ok&&t.data.imgdata&&(e.qrcodeUrl="data:image/png;base64,".concat(t.data.imgdata))})).catch((function(){e.loading=!1,e.retry=!0,e.$_wooBus.$emit("updateBtn",e.retry)}))}}}})},showEditHistory:function(){this.close();var t={show:!0,mid:this.id,count:this.editCount};this.$emit("updateEditHistory",{data:t,single:this.single})},copyLink:function(t){var e;this.close();var i=this;function a(){return navigator.userAgent.match(/ipad|iphone/i)}function o(t){e=document.createElement("textArea"),e.readOnly=!0,e.contentEditable=!0,e.value=t,document.body.appendChild(e)}function n(){var t,i;a()?(t=document.createRange(),t.selectNodeContents(e),i=window.getSelection(),i.removeAllRanges(),i.addRange(t),e.select(),e.setSelectionRange(0,999999)):e.select()}function s(){document.execCommand("copy")?(document.execCommand("copy"),i.$_w_toast({type:"success",message:"复制成功"})):i.$_w_toast({type:"error",message:"复制失败"}),document.body.removeChild(e)}o(t),n(),s()},negativesUpdate:function(t){var e=this;this.close(),this.$http.post("/ajax/statuses/negativesUpdate",{actionlog:t}).then((function(t){t.data&&t.data.ok&&t.data.data&&t.data.data.result&&e.toDeleteWeibo(e.id)}))},handleActLog:function(){this.actLogData&&this.actLogData.page&&this.toLog(Object(s["a"])(Object(s["a"])({},this.actLogData),{},{actType:"click"}))},menuBack:function(t){var e=this;this.$http.post("/ajax/feed/menuback",{menu_key:t,mid:this.id}).then((function(t){t.data&&t.data.ok&&t.data.title&&e.$_w_toast({type:"success",message:t.data.title})}))},followAction:function(){var t=this,e=this.newFollowing?"/ajax/friendships/destory":"/ajax/friendships/create",i=this.newFollowing?{uid:this.uid,mark:this.mark,rid:this.rid}:{friend_uid:this.uid,followcardid:this.followcardid,page:this.actLogData.page,mark:this.mark,rid:this.rid},a=function(){t.$http.post(e,i).then((function(e){e.data&&e.data.ok>0&&(t.newFollowing=!t.newFollowing,t.$emit("updateFollowing",t.newFollowing),t.$_w_toast({type:"success",message:t.newFollowing?"关注成功":"取关成功"}))}))};this.showPop=!1,this.$emit("updatePopMask",this.showPop),this.handleActLog(),this.newFollowing?this.$_w_dialog({type:"confirm",message:"确定不再关注此人？",action:function(){a()}}):a()},getLogData:function(t){if(this.actLogData&&this.actLogData.page)return"fid"===t&&this.actLogData.fidName?d[t][this.actLogData.fidName]:d[t][this.actLogData.page]},editVideo:function(){window.open("//weibo.com/upload/channel?entry=edit&oid=".concat(this.page_info.object_id),"_blank")},editAudio:function(){window.open("//weibo.com/upload/audio?entry=edit&oid=".concat(this.page_info.object_id),"_blank")},addVideoVote:function(){var t={},e=this.page_info;e.media_info&&(t.id=this.id,t.media_id=e.media_info.media_id,t.duration=e.media_info.duration,t.stream_url=e.media_info.stream_url,t.orientation=e.media_info.video_orientation),t.poster=e.page_pic,this.$Bus.$emit("showVideoEditor",t)}}},_=v,g=(i("42b5"),i("69f31")),b=(i("32b7"),i("2877"));function y(t){this["$style"]=g["default"].locals||g["default"]}var w=Object(b["a"])(_,a,o,!1,y,null,null);e["a"]=w.exports},4237:function(t,e,i){"use strict";var a=i("e39d"),o=i.n(a);e["default"]=o.a},4268:function(t,e,i){"use strict";var a=i("0e71"),o=i.n(a);e["default"]=o.a},"42a3":function(t,e,i){t.exports={cut:"FollowCard_cut_2O6oa",tit:"FollowCard_tit_2j7Pq",th3:"FollowCard_th3_3-HQy",line:"FollowCard_line_w-gXE",right:"FollowCard_right_2LTFx",pic:"FollowCard_pic_3F2GJ",f14:"FollowCard_f14_3f5z6",f12:"FollowCard_f12_3apxC",cla:"FollowCard_cla_2FbwY",item:"FollowCard_item_NXbdF",con:"FollowCard_con_1UTAG",clb:"FollowCard_clb_1CLRo"}},"42ad":function(t,e,i){t.exports={text1:"Timer_text1_1Pmil",select:"Timer_select_2Q_GZ",text2:"Timer_text2_ywOT-",config:"Timer_config_3Hura",btn:"Timer_btn_3G64I"}},"42b5":function(t,e,i){"use strict";var a=i("624e"),o=i.n(a);o.a},4352:function(t,e,i){"use strict";var a=i("65a0"),o=i.n(a);e["default"]=o.a},4360:function(t,e,i){"use strict";var a=i("a026"),o=i("2f62"),n={curWeiboData:{},curTab:{},feedGroup:{},hotGroup:{},latestList:{},needUpdateGroup:!1},s={SET_CUR_WB_DATA:function(t,e){t.curWeiboData=e},SET_CUR_TAB:function(t,e){t.curTab=e},SET_FEED_GROUP:function(t,e){t.feedGroup=e},SET_HOT_GROUP:function(t,e){t.hotGroup[e.key]=e.value},SET_LATEST_LIST:function(t,e){t.latestList[e.key]=e.value},SET_GROUP_UPDATE_STATUS:function(t,e){t.needUpdateGroup=e}},r={setCurWeiboData:function(t,e){var i=t.commit;return i("SET_CUR_WB_DATA",e)},setCurTab:function(t,e){var i=t.commit;return i("SET_CUR_TAB",e)},setFeedGroup:function(t,e){var i=t.commit;return i("SET_FEED_GROUP",e)},setHotGroup:function(t,e){var i=t.commit;return i("SET_HOT_GROUP",e)},setLatestList:function(t,e){var i=t.commit;return i("SET_LATEST_LIST",e)},setGroupUpdateStatus:function(t,e){var i=t.commit;return i("SET_GROUP_UPDATE_STATUS",e)}},l={curWeiboData:function(t){return t.curWeiboData},curTab:function(t){return t.curTab},feedGroup:function(t){return t.feedGroup},hotGroup:function(t){return t.hotGroup},latestList:function(t){return t.latestList},needUpdateGroup:function(t){return t.needUpdateGroup}},c={state:n,actions:r,mutations:s,getters:l},u=(i("4fad"),i("3835")),d=i("5530"),h={config:{}},p={updateConfig:function(t,e){t.config=Object(d["a"])({},e)},updateConfigUserKeys:function(t,e){for(var i=0,a=Object.entries(e);i<a.length;i++){var o=Object(u["a"])(a[i],2),n=o[0],s=o[1];t.config.user[n]=s}}},f={updateConfig:function(t,e){var i=t.commit;return i("updateConfig",e)},updateConfigUserKeys:function(t,e){var i=t.commit;return i("updateConfigUserKeys",e)}},m={config:function(t){return t.config}},v={state:h,actions:f,mutations:p,getters:m},_={unread:{}},g={updateUnread:function(t,e){t.unread=Object(d["a"])({},e)}},b={updateUnread:function(t,e){var i=t.commit;return i("updateUnread",e)}},y={unread:function(t){return t.unread}},w={state:_,actions:b,mutations:g,getters:y},x={userType:null,mes24Info:null},k={updateUserType:function(t,e){t.userType=e},update24Info:function(t,e){t.mes24Info=e}},$={updateUserType:function(t,e){var i=t.commit;return i("updateUserType",e)},update24Info:function(t,e){var i=t.commit;return i("update24Info",e)}},C={userType:function(t){return t.userType},mes24Info:function(t){return t.mes24Info}},O={state:x,actions:$,mutations:k,getters:C},j=(i("d81d"),i("b64b"),{simple:!1,noside:!1,min:!1}),T={simple:"(max-width: 1361)",noside:"(max-width: 1161px)",min:"(max-width: 872px)"},D=function(t,e,i){t[e]=i.matches};window&&window.matchMedia&&Object.keys(T).map((function(t){var e=window.matchMedia(T[t]);D(j,t,e);var i=function(e){return D(j,t,e)};e.addListener(i)}));var S={state:j},I=(i("caad"),{gender:"m",verifiedType:-2,profileId:0,selectorCache:{}}),L={setVerifiedType:function(t,e){t.verifiedType=e},setProfileUid:function(t,e){t.profileId=e},setProfileGender:function(t,e){t.gender=e},setSelectorCache:function(t,e){t.selectorCache=Object.assign({},e,{profileId:t.profileId})}},B={setVerifiedType:function(t,e){var i=t.commit;return i("setVerifiedType",e)},setProfileUid:function(t,e){var i=t.commit;return i("setProfileUid",e)},setProfileGender:function(t,e){var i=t.commit;return i("setProfileGender",e)},setSelectorCache:function(t){var e=t.commit,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e("setSelectorCache",i)}},P={verifiedType:function(t){return t.verifiedType},profileId:function(t){return t.profileId},profileGender:function(t){return[1,2,3,4,5,6,7].includes(t.verifiedType)?"他":{m:"他",f:"她"}[t.gender]},selectorCache:function(t){return t.selectorCache}},A={state:I,actions:B,mutations:L,getters:P},E={composerCallback:null,publisherCallback:null,publisherModifyCallback:null,miniComposerIsNull:!0,modalComposerIsShow:!1,composerConfig:null},M=0,F={UPDATE_composerCallback:function(t,e){t.composerCallback=e||null},UPDATE_publisherCallback:function(t,e){t.publisherCallback=e||null},UPDATE_publisherModifyCallback:function(t,e){t.publisherModifyCallback=e||null},UPDATE_miniComposerIsNull:function(t,e){t.miniComposerIsNull=e||!1},UPDATE_modalComposerIsShow:function(t,e){t.modalComposerIsShow=e||!1},UPDATE_composerConfig:function(t,e){t.composerConfig?Object.assign(t.composerConfig,e):t.composerConfig=e||{}}},R={getComposerCallBack:function(t){var e=t.commit;if(Date.now()-M>1e4)e("UPDATE_composerCallback");else if(E.composerCallback){var i=JSON.parse(JSON.stringify(E.composerCallback));return e("UPDATE_composerCallback"),i}return null},setComposerCallBack:function(t,e){var i=t.commit;M=Date.now(),i("UPDATE_composerCallback",e)},setPublisherCallBack:function(t,e){var i=t.commit;M=Date.now(),i("UPDATE_publisherCallback",e)},setPublisherModifyCallback:function(t,e){var i=t.commit;M=Date.now(),i("UPDATE_publisherModifyCallback",e)},setMiniComposerIsNull:function(t,e){var i=t.commit;M=Date.now(),i("UPDATE_miniComposerIsNull",e)},setModalComposerIsShow:function(t,e){var i=t.commit;M=Date.now(),i("UPDATE_modalComposerIsShow",e)},setComposerConfig:function(t,e){var i=t.commit;M=Date.now(),i("UPDATE_composerConfig",e)}},V={composerCallback:function(t){return t.composerCallback},publisherCallback:function(t){return t.publisherCallback},publisherModifyCallback:function(t){return t.publisherModifyCallback},miniComposerIsNull:function(t){return t.miniComposerIsNull},modalComposerIsShow:function(t){return t.modalComposerIsShow},composerConfig:function(t){return t.composerConfig}},N={state:E,actions:R,mutations:F,getters:V},H=(i("4160"),i("159b"),{cardsData:[]}),z={initData:function(t,e){t.cardsData=e},updateData:function(t,e){t.cardsData.forEach((function(t){"cardService"===t.card_type&&(t.card_item[e.index].card_group=e.cardItem.card_group)}))}},U={initData:function(t,e){var i=t.commit;return i("initData",e)},updateData:function(t,e){var i=t.commit;return i("updateData",e)}},G={cardsData:function(t){return t.cardsData}},q={state:H,actions:U,mutations:z,getters:G},W=i("2909"),Q={history:[]},J={updateHistory:function(t,e){t.history=Object(W["a"])(e)}},K={state:Q,mutations:J},Y={film:{}},X={updateFilm:function(t,e){t.film=Object(d["a"])({},e)}},Z={updateFilm:function(t,e){var i=t.commit;return i("updateFilm",e)}},tt={film:function(t){return t.film}},et={state:Y,actions:Z,mutations:X,getters:tt},it={videoInstance:null,recomAutoplay:!0,remainTime:{},miniPlayerActive:!1,miniPlayerStatus:{}},at={updateAutoplay:function(t,e){t.recomAutoplay=e},setVideo:function(t,e){t.videoInstance=e},setRemainTime:function(t,e){t.remainTime=e},updateMiniPlayerActive:function(t,e){t.miniPlayerActive=e},updateMiniPlayerStatus:function(t,e){t.miniPlayerStatus=e}},ot={updateRecomAutoplay:function(t,e){var i,a,o=t.commit,n=t.rootState,s=null===n||void 0===n||null===(i=n.config)||void 0===i||null===(a=i.config)||void 0===a?void 0:a.uid,r={};try{r=JSON.parse(localStorage.getItem("autoplaySigns")||"")||{}}catch(l){}s&&(r[s]=e),localStorage.setItem("autoplaySigns",JSON.stringify(r)),o("updateAutoplay",e)},setVideo:function(t,e){var i=t.commit;return i("setVideo",e)},setRemainTime:function(t,e){var i=t.commit;return i("setRemainTime",e)},updateMiniPlayerActive:function(t,e){var i=t.commit;return i("updateMiniPlayerActive",e)},updateMiniPlayerStatus:function(t,e){var i=t.commit;return i("updateMiniPlayerStatus",e)}},nt={recomAutoplay:function(t){return t.recomAutoplay},videoInstance:function(t){return t.videoInstance},remainTime:function(t){return t.remainTime},miniPlayerActive:function(t){return t.miniPlayerActive},miniPlayerStatus:function(t){return t.miniPlayerStatus}},st={state:it,mutations:at,getters:nt,actions:ot},rt={menus:[]},lt={updateMenus:function(t,e){t.menus=Object(W["a"])(e)}},ct={updateMenus:function(t,e){var i=t.commit;return i("updateMenus",e)}},ut={menus:function(t){return t.menus}},dt={state:rt,actions:ct,mutations:lt,getters:ut},ht={darkMode:{}},pt={updateDarkMode:function(t,e){t.darkMode=e}},ft={updateDarkMode:function(t,e){var i=t.commit;i("updateDarkMode",e)}},mt={darkMode:function(t){return t.darkMode}},vt={state:ht,mutations:pt,actions:ft,getters:mt},_t={settings:{}},gt={updateSetting:function(t,e){t.settings=Object(d["a"])({},e)}},bt={updateSetting:function(t,e){var i=t.commit;return i("updateSetting",e)}},yt={settings:function(t){return t.settings}},wt={state:_t,actions:bt,mutations:gt,getters:yt},xt={approval_state:"0"},kt={updateApprovalState:function(t,e){e=e?"1":"0",t.approval_state=e}},$t={setApprovalState:function(t,e){var i=t.commit;return i("updateApprovalState",e)}},Ct={approval_state:function(t){return t.approval_state}},Ot={state:xt,actions:$t,mutations:kt,getters:Ct};a["default"].use(o["a"]);var jt=new o["a"].Store({modules:{feed:c,config:v,unread:w,userType:O,mediaQ:S,profile:A,composer:N,side:q,access:K,movie:et,video:st,manage:dt,common:vt,setting:wt,statuses:Ot}});e["a"]=jt},4363:function(t,e,i){t.exports={empty:"WaterfallContent_empty_2Sss2"}},"436c":function(t,e,i){"use strict";var a=i("1be7"),o=i.n(a);e["default"]=o.a},4399:function(t,e,i){t.exports={ld1:"RssDetail_ld1_1d0AF",header:"RssDetail_header_kWn77",gray1:"RssDetail_gray1_2rzon",gray2:"RssDetail_gray2_1FC8P",tit1:"RssDetail_tit1_3Nw9S",gap1:"RssDetail_gap1_26kbj",left6:"RssDetail_left6_3mpA4",ltit:"RssDetail_ltit_3RpyL",lcut:"RssDetail_lcut_3yxtN",ld2:"RssDetail_ld2_1pDso",ld3:"RssDetail_ld3_3uaRN",ld4:"RssDetail_ld4_szjT_",litem:"RssDetail_litem_2PZFf",lt1:"RssDetail_lt1_3ZE_E",lt2:"RssDetail_lt2_135Jc",layer:"RssDetail_layer_2IA9d",layerin:"RssDetail_layerin_-VWkk",noContentText:"RssDetail_noContentText_6Hd8v"}},"43bd":function(t,e,i){t.exports={file:"ImageEdit_file_1JQyP",editbox:"ImageEdit_editbox_3SRet",box:"ImageEdit_box_2SvlV",tip:"ImageEdit_tip_1WjWU"}},"43cb":function(t,e,i){t.exports={weibo:"ALink_weibo_d0BY7",none:"ALink_none_26qv1"}},4414:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("a-link",{attrs:{"link-type":"old","style-type":"none",href:t.getHref,target:"_blank"},nativeOn:{click:function(t){t.stopPropagation()}}},[i("woo-box",{class:[!t.isMessage&&t.$feedCardBg,t.$style.wrap,("cmtBai"==t.pagetype||"attitudeBai"==t.pagetype)&&"feed-card-repost"],nativeOn:{click:function(e){return e.stopPropagation(),t.clickHandle(e)}}},[i("woo-picture",{key:t.cover,attrs:{width:80,height:80,src:t.cover,border:!1}}),i("woo-box-item",{class:[t.$style.wbtext,t.$style.mid],attrs:{align:"center"}},[t.content1?i("h4",{class:[t.$style.title,t.$style.cut],domProps:{textContent:t._s(t.content1)}}):t._e(),t.content2&&!t.isMessage?i("div",{class:[t.$style.text,t.$style.cut2],domProps:{textContent:t._s(t.content2)}}):t._e(),t.content2&&t.isMessage?i("div",{class:[t.$style.text,t.$style.cut2,t.$style.messText],domProps:{innerHTML:t._s(t.content2)}}):t._e(),t.content3&&!t.isMessage?i("div",{class:[t.$style.text,t.$style.cut2],domProps:{textContent:t._s(t.content3)}}):t._e()])],1)],1),t.isMessage&&!t.newData.page_pic?i("woo-box",{class:[t.$style.wrap,("cmtBai"==t.pagetype||"attitudeBai"==t.pagetype)&&"feed-card-repost",t.$style.emptyText,t.$style.wbtext],attrs:{justify:"center"},nativeOn:{click:function(e){return e.stopPropagation(),t.clickHandle(e)}}},[i("div",{on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[i("woo-tip",{class:t.$style.empty,attrs:{type:"warn"}},[i("span",{domProps:{innerHTML:t._s(t.newData.content2)}})])],1)]):t._e()],1)},o=[],n=(i("4de4"),i("c975"),i("b0c0"),i("b85c")),s=i("7909"),r={computed:{$feedCardBg:function(){return this.$attrs.repost?"feed-card-repost":"feed-card-original"}}},l=i("5857"),c={name:"feed-card-link",props:{data:Object,url_struct:Array,pagetype:String},inheritAttrs:!1,mixins:[s["a"],r],computed:{isMessage:function(){return"weibo"==this.pagetype||"cmtBai"==this.pagetype||"cmt"==this.pagetype||"attitude"==this.pagetype||"attitudeBai"==this.pagetype},isCmt:function(){return"cmtBai"==this.pagetype||"cmt"==this.pagetype},isAttitude:function(){return"attitude"==this.pagetype||"attitudeBai"==this.pagetype},newData:function(){return 5===this.data.type&&"video"===this.data.object_type&&this.data.cards&&this.data.cards[0]&&"11"===this.data.cards[0].type?this.data.cards[0]:this.data},cover:function(){return this.newData.page_pic?this.newData.page_pic:"https://h5.sinaimg.cn/upload/1005/948/2019/12/20/card_default.png"},content1:function(){return this.newData.content1||this.newData.page_title||""},content2:function(){return this.newData.content2||this.newData.page_desc||""},content3:function(){return this.newData.content3||this.newData.tips||""},buttons:function(){var t;return t=this.newData.buttons&&Array.isArray(this.newData.buttons)&&this.newData.buttons.length&&this.newData.buttons.filter((function(t){return void 0!==t.name})),t},getHref:function(){if(!this.isMessage){if(this.data.page_url){if(this.data.page_url.indexOf("sinaweibo://")>-1){if(this.url_struct&&this.url_struct.length){var t,e=Object(n["a"])(this.url_struct);try{for(e.s();!(t=e.n()).done;){var i=t.value;if(this.data.page_id===i.page_id)return Object(l["a"])(i)}}catch(a){e.e(a)}finally{e.f()}}return"https://m.weibo.cn/api/scheme?scheme=".concat(encodeURIComponent(this.data.page_url))}return this.data.page_url}return""}}},methods:{limitA:function(t){var e=t.target||t.srcElement;if("a"==e.tagName.toLowerCase())return e.setAttribute("href","javascript:void(0);"),void e.setAttribute("target","")},clickHandle:function(t){if(!this.isMessage||this.newData.page_pic){if(this.isCmt)return this.$emit("link-tap"),void this.limitA(t);if(this.isAttitude)return this.$emit("link-tap"),void this.limitA(t);if(this.isMessage&&this.data.uidPageInfo&&this.data.mblogid)return this.$router.push({name:"bidDetail",params:{uid:this.data.uidPageInfo,id:this.data.mblogid}}),void this.limitA(t);if(this.isMessage&&this.url_struct&&this.url_struct.length){var e,i,a=Object(n["a"])(this.url_struct);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.data.page_id===o.page_id&&(e=Object(l["a"])(o))}}catch(s){a.e(s)}finally{a.f()}if(e)return void window.open(Object(l["a"])(this.url_struct[0]),"_blank")}this.$emit("link-tap",this.newData,this.url_struct)}else this.limitA(t)},btnClick:function(t){this.$emit("link-btn-tap",this.newData.buttons[t])}}},u=c,d=i("a159"),h=i("2877");function p(t){this["$style"]=d["default"].locals||d["default"]}var f=Object(h["a"])(u,a,o,!1,p,null,null);e["a"]=f.exports},"44a3":function(t,e,i){t.exports={sideBox:"Side_sideBox_2G3FX",posFixed:"Side_posFixed_1yjgv",posSticky:"Side_posSticky_2J8TW",fixcr:"Side_fixcr_1xZN7",loading:"Side_loading_3FKOe",unfoldCopyright:"Side_unfoldCopyright_2NqQh"}},"44e9":function(t,e,i){"use strict";var a=i("4d73"),o=i.n(a);e["default"]=o.a},4533:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Modal",{scopedSlots:t._u([{key:"title",fn:function(){return[i("div",[t._v(" 微博编辑记录"),i("span",{staticClass:"wbpro-layer-tit-text-sub"},[t._v("（分享范围内的所有人都可以看到本页内容）")])])]},proxy:!0},{key:"content",fn:function(){return[i("div",{class:t.$style.scroll4,on:{touchmove:function(t){t.stopPropagation()}}},[i("FeedScroll",{attrs:{data:t.list,hasToolbar:!1,hasMorePop:!1,isLoading:t.isLoading,isEmpty:t.isEmpty,isRetry:t.isRetry,isNoData:t.isNoData,pagetype:t.pagetype,"disable-feed-viewer":!0,feedStyleType:"noGap"},on:{loadMoreData:t.loadMoreData}})],1)]},proxy:!0}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})},o=[],n=(i("99af"),i("d81d"),i("d3b7"),i("11de")),s={name:"editHistory",props:{value:{type:Boolean,default:!1},mid:String},data:function(){return{show:!1,list:[],hasTransformText:!0,isLoading:!1,isEmpty:!1,isRetry:!1,isNoData:!1,pagetype:"edit",page:1}},mounted:function(){this.value&&(this.show=!0)},watch:{value:function(t){this.show=t,t&&(this.page=1,this.list=[],this.getList())},show:function(t){this.$emit("input",t)}},methods:{getList:function(){var t=this;this.isLoading=!0,this.isEmpty=!1,this.isRetry=!1,this.isNoData=!1,this.$http.get("/ajax/statuses/editHistory",{params:{mid:this.mid,page:this.page}}).then((function(e){if(t.isLoading=!1,e.data&&e.data.ok){var i=e.data;if(i.statuses&&i.statuses.length){var a=i.statuses;t.list=t.list.concat(a),t.list.map((function(e,i){return e.id=i,e.pagetype=t.pagetype,e})),t.isLoading=!0,t.page++,i.total===t.list.length&&(t.isLoading=!1)}}})).catch((function(){t.isLoading=!1,t.isRetry=!0}))},loadMoreData:function(){this.getList()}},components:{FeedScroll:function(){return Promise.resolve().then(i.bind(null,"4e7d"))},Modal:n["a"]}},r=s,l=i("dc8c"),c=i("2877");function u(t){this["$style"]=l["default"].locals||l["default"]}var d=Object(c["a"])(r,a,o,!1,u,null,null);e["a"]=d.exports},4540:function(t,e,i){t.exports={box2:"ProfileVideo_box2_24nIl",tit2:"ProfileVideo_tit2_1sVjC",icon21:"ProfileVideo_icon21_2pMXr",list2:"ProfileVideo_list2_3JZoU",item2:"ProfileVideo_item2_3jqAc",pic2:"ProfileVideo_pic2_1mxVV",album:"ProfileVideo_album_dXVCm",duration:"ProfileVideo_duration_3qAV2",icon1:"ProfileVideo_icon1_2NFWD",cut:"ProfileVideo_cut_2vAg1",h3:"ProfileVideo_h3_2aY6Y",h4:"ProfileVideo_h4_28OK0",empty:"ProfileVideo_empty_VR_pL"}},"454d":function(t,e,i){},"460b":function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return o}));i("4160"),i("a15b"),i("a9e3"),i("9129"),i("159b");var a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t<1e5?t:t>1e8?Math.ceil(t/1e6)/100+"亿":Math.floor(t/1e4)+"万"},o=function(t){if(void 0===t||Number.isNaN(t))return"";var e=Math.floor(t/3600),i=Math.floor((t-3600*e)/60),a=Math.floor(t-3600*e-60*i),o=[i,a];return e>0&&o.unshift(e),o.forEach((function(t,e){e>0&&t<10&&(o[e]="0".concat(t))})),o.join(":")}},4692:function(t,e,i){},"46a1":function(t,e,i){"use strict";var a=i("fdff"),o=i.n(a);o.a},"474d":function(t,e,i){"use strict";var a=i("6cf9"),o=i.n(a);e["default"]=o.a},"47c6":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.wrap},[t.card.mblog?i("Feed",{attrs:{data:t.card.mblog,"touch-highlight":"","auto-play":!1,"has-toolbar":"","has-retweetbar":!0,"toolbar-align":"left","transform-text":!0,feedNoCard:t.isCardWrap,feedNoBorder:t.isCardWrap,feedStyleType:t.isCardWrap?"noGap":"normal"},on:{"head-arrow-down-tap":t.feedHeadArrowDown,updateEditHistory:t.updateEditHistory,updateFeedReplyModal:t.updateFeedReplyModal}}):t._e()],1)},o=[],n=i("7d02"),s={name:"card9",components:{Feed:n["a"]},props:{card:{type:Object,default:function(){return{}}},isCardWrap:{type:Boolean,default:!1}},methods:{feedHeadArrowDown:function(t,e){this.$emit("feedHeadArrowDown",t,e)},updateEditHistory:function(t){this.$emit("updateEditHistory",t)},updateFeedReplyModal:function(t){this.$emit("updateFeedReplyModal",t)}}},r=s,l=i("29f6"),c=i("2877");function u(t){this["$style"]=l["default"].locals||l["default"]}var d=Object(c["a"])(r,a,o,!1,u,null,null);e["default"]=d.exports},"484c":function(t,e,i){"use strict";var a=i("9fe3"),o=i.n(a);e["default"]=o.a},"486a":function(t,e,i){t.exports={followbtn:"follow-btn_followbtn_FNC50"}},"48be":function(t,e,i){},4984:function(t,e,i){"use strict";var a=i("7e95"),o=i.n(a);e["default"]=o.a},"499e":function(t,e,i){"use strict";var a=i("c0e7"),o=i.n(a);e["default"]=o.a},"49d6":function(t,e,i){t.exports={title:"Discussion_title_13ekN",container:"Discussion_container_1FJh2",content:"Discussion_content_9V3du",cover:"Discussion_cover_B4cKR",t1:"Discussion_t1_2w0HU",t2:"Discussion_t2_203Tn",version2:"Discussion_version2_3KjDn",ti:"Discussion_ti__cciZ",cont:"Discussion_cont_1BvDB",gap:"Discussion_gap_UZIrd",count:"Discussion_count_7LQRF",unit:"Discussion_unit_1KxNQ",desc:"Discussion_desc_26OZD",band_content:"Discussion_band_content_2FKEy",band:"Discussion_band_3jcQV",disc:"Discussion_disc_1FBgB",wrap:"Discussion_wrap_1sTie"}},"4a0f":function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_nav_search",use:"woo_svg_nav_search-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="woo_svg_nav_search"><path d="M13.401 12.363l2.402 2.362a.73.73 0 01-.001 1.054l-.026.026a.773.773 0 01-1.072 0l-2.43-2.388a7.667 7.667 0 01-4.657 1.562C3.41 14.979 0 11.626 0 7.489 0 3.353 3.41 0 7.617 0s7.617 3.353 7.617 7.49c0 1.86-.69 3.563-1.833 4.873zM1.632 7.49c0 3.25 2.68 5.884 5.985 5.884a6.024 6.024 0 003.755-1.302 5.837 5.837 0 002.23-4.582c0-3.25-2.68-5.885-5.985-5.885S1.632 4.24 1.632 7.49z" fill="currentColor" fill-rule="evenodd" /></symbol>'});s.a.add(r);e["default"]=r},"4a54":function(t,e,i){"use strict";var a=i("832a"),o=i.n(a);e["default"]=o.a},"4a6e":function(t,e,i){"use strict";var a=i("fa59"),o=i.n(a);e["default"]=o.a},"4a91":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.wrap},[i("woo-divider",{class:t.$style.line}),i("CustomCard",{class:t.$style.content,attrs:{data:t.card,titleCut:2,isCardWrap:t.isCardWrap}})],1)},o=[],n=i("1d99"),s={name:"card8",components:{CustomCard:n["a"]},props:{card:{type:Object,default:function(){return{}}},isCardWrap:{type:Boolean,default:!1}}},r=s,l=i("f5ea"),c=i("2877");function u(t){this["$style"]=l["default"].locals||l["default"]}var d=Object(c["a"])(r,a,o,!1,u,null,null);e["default"]=d.exports},"4afb":function(t,e,i){t.exports={pic:"picture_pic_eLDxR",focusImg:"picture_focusImg_1z5In",tall:"picture_tall_1hTxy",fat:"picture_fat_1-7Yq","wrap-slim":"picture_wrap-slim_3bQuH","wrap-tiny":"picture_wrap-tiny_28if-",item:"picture_item_3zpCn",inlineNum3:"picture_inlineNum3_3P7k1",tag:"picture_tag_3MVhv",live:"picture_live_2GslU",picTall:"picture_picTall_2jwmK",mask:"picture_mask_20G3v",picNum:"picture_picNum_3r6Z2",singleImg:"picture_singleImg_2ccv0",cursor:"picture_cursor_h5pJF",horiVideoImage:"picture_horiVideoImage_2lK1R",vertVideoImage:"picture_vertVideoImage_14fKT",payTag:"picture_payTag_SmjN2",customPoster:"picture_customPoster_3kQCL"}},"4be6":function(t,e,i){"use strict";var a=i("6109"),o=i.n(a);e["default"]=o.a},"4c2c":function(t,e,i){t.exports={wbproform:"Form_wbproform_1F8KL",suggest:"Form_suggest_3pXre",input:"Form_input_3JT2Q",fonticon:"Form_fonticon_3YaRI",wrap:"Form_wrap_1bHTt"}},"4c7a":function(t,e,i){"use strict";var a=i("1e9b"),o=i.n(a);o.a},"4cc5":function(t,e,i){t.exports={main:"tips_main_2q5kB",text:"tips_text_353a9",logo:"tips_logo_pmoiw",tip:"tips_tip_3WqKM",cursor:"tips_cursor_2uylm"}},"4ccb":function(t,e,i){"use strict";var a=i("7aa4"),o=i.n(a);e["default"]=o.a},"4cdc":function(t,e,i){t.exports={picbed:"Image_picbed_1iGAN",pic:"Image_pic_3ef0R",focuspic:"Image_focuspic_2oMZH",loading:"Image_loading_1lfUB",close:"Image_close_3Ikpk",focus:"Image_focus_23gKL",icon:"Image_icon_1Lzr2",pri:"Image_pri_YozoP",duration:"Image_duration_2myJV"}},"4d09":function(t,e,i){t.exports={b2t:"MicroReviewPop_b2t_1Qvfs",box:"MicroReviewPop_box_2JgFF",gap:"MicroReviewPop_gap_7HLsZ",click:"MicroReviewPop_click_3f-0H",b1:"MicroReviewPop_b1_1QXcA",b1i1:"MicroReviewPop_b1i1_1CmLi",b1t1:"MicroReviewPop_b1t1_1dFJD",b1t2:"MicroReviewPop_b1t2_3AuL8",b2:"MicroReviewPop_b2_3pOyS",btnbox:"MicroReviewPop_btnbox_5K9k_",btn:"MicroReviewPop_btn_3FDdC",btn1:"MicroReviewPop_btn1_1OVfI",btn2:"MicroReviewPop_btn2_4lb26",b2i:"MicroReviewPop_b2i_xkyPV",b2i1:"MicroReviewPop_b2i1__d9XK",b2i2:"MicroReviewPop_b2i2_18cZW",ipt1box:"MicroReviewPop_ipt1box_3ZJFs",ipt1:"MicroReviewPop_ipt1_3748E",pos:"MicroReviewPop_pos_2b77g",icon:"MicroReviewPop_icon_1NbV0"}},"4d5a":function(t,e,i){t.exports={config:"IconList_config_2HpPN",autoIcon:"IconList_autoIcon_12rl_",likebox:"IconList_likebox_XoKKk"}},"4d5c":function(t,e,i){"use strict";var a=i("8dcc"),o=i.n(a);e["default"]=o.a},"4d68":function(t,e,i){"use strict";var a=i("662c"),o=i.n(a);e["default"]=o.a},"4d73":function(t,e,i){t.exports={muteuser:"Muteuser_muteuser_2rqly",complaint:"Muteuser_complaint_1EJVg",content:"Muteuser_content_D-nHw",icon:"Muteuser_icon_2QD3U",text:"Muteuser_text_t5z2o",more_text:"Muteuser_more_text_3FtCb",angle:"Muteuser_angle_2rhqO"}},"4dc4":function(t,e,i){t.exports={box:"Picture_box_G7pWU",pic:"Picture_pic_1ngE4",pos:"Picture_pos_6_HWW",posc:"Picture_posc_zwYAW",posb:"Picture_posb_3BApU",icon:"Picture_icon_3ivp8",text:"Picture_text_PuPUd",opt:"Picture_opt_3lvUA",btn:"Picture_btn_1ZYTW"}},"4dcd":function(t,e,i){},"4dcd3":function(t,e,i){"use strict";var a=i("28e6"),o=i.n(a);e["default"]=o.a},"4e7d":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Scroll",{attrs:{data:t.data,sizeDependencies:t.sizeDependencies,isLoading:t.loading,isEmpty:t.empty,isRetry:t.retry,isNoData:t.nodata,noDataText:t.noDataText,notLoginText:t.notLoginText,showNotLoginBottom:t.showNotLoginBottom,skeleton:t.skeleton,buffer:t.buffer,"show-scroll-bottom":t.showScrollBottom,isInCards:!0,keyField:t.keyField,emptyText:t.emptyText,loadMoreManuel:t.loadMoreManuel},on:{loadMoreData:t.loadMoreData},scopedSlots:t._u([{key:"content",fn:function(e){var a=e.item,o=e.index;return[t.showTrends(a.type)?i("TrendCard",{attrs:{data:a},on:{close:t.closeTrends,updateFeedReplyModal:t.updateFeedReplyModal}}):i("Feed",{key:a.id,ref:"feed-"+o,attrs:{data:a,index:o,"touch-highlight":"","auto-play":!1,cover:!1,hasToolbar:t.hasToolbar,hasMorePop:t.hasMorePop,noInterval:t.noInterval,"has-retweetbar":!0,"toolbar-align":"left","transform-text":t.hasTransformText,single:!1,specificTime:t.specificTime,pagetype:t.pagetype,noBorderTop:t.noBorderTop,hiddenFollowBtn:t.$attrs.hiddenFollowBtn,feedStyleType:t.feedStyleType,feedRadius:t.getFeedRadius(t.data,o),actLogData:t.actLogData,actLogScene:t.actLogScene,absstr:t.absstr,disableFeedViewer:t.disableFeedViewer,realRead:t.realRead},on:{"head-arrow-down-tap":t.feedHeadArrowDown,updateEditHistory:t.updateEditHistory,updateFeedReplyModal:t.updateFeedReplyModal},scopedSlots:t._u([{key:"tag",fn:function(e){var i=e.tags,a=e.id;return[t._t("tag",null,{tags:i,id:a})]}}],null,!0)})]}}])}),i("FeedEditHistory",{attrs:{mid:t.editMid,edit_count:t.editCount},model:{value:t.showEditModal,callback:function(e){t.showEditModal=e},expression:"showEditModal"}}),i("ReplyModal",{attrs:{commentData:t.commentData,weiboData:t.replyModalWeiboData},on:{updateComments:t.updateComments,updateTotalNumber:t.updateTotalNumber},model:{value:t.showReplyModal,callback:function(e){t.showReplyModal=e},expression:"showReplyModal"}})],1)},o=[],n=(i("7db0"),i("4160"),i("caad"),i("c975"),i("d81d"),i("a434"),i("b0c0"),i("a9e3"),i("ac1f"),i("2532"),i("1276"),i("159b"),i("b85c")),s=i("6701"),r=i("7d02"),l=i("1b37"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(t.data.type,t._g({tag:"component",attrs:{data:t.data}},t.$listeners))},u=[],d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:[t.$style.wrap,t.showMoreBtn&&t.$style.gap]},[t.showTitle?i("feed-title",{attrs:{title:t.data.titles,hasBorder:"top, left, right"},scopedSlots:t._u([t.hasMorePop?{key:"moreSlot",fn:function(){return[i("feed-morepop",{attrs:{id:t.data.id,menus:t.data.menus}})]},proxy:!0}:null],null,!0)}):t._e(),t._l(t.data.mblogs,(function(e,a){return i("Feed",t._g({key:a,attrs:{index:t.data.position,data:e,hasMorePop:!1,"touch-highlight":"","auto-play":!1,"has-toolbar":"","has-retweetbar":!0,"toolbar-align":"left","transform-text":!0,feedStyleType:t.showMoreBtn?"noGap":"normal",feedRadius:t.showMoreBtn?"all":"bottom-left,bottom-right",noBorderTop:!t.showMoreBtn,actLogData:{page:"home"}}},t.$listeners))})),i("feed-morebutton",{attrs:{button:t.data.button,kind:t.data.titles.text}})],2)},h=[],p=i("9912"),f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a-link",{attrs:{to:t.getRouter()}},[t.button&&t.button.title?i("woo-panel",{class:t.$style.wrap,attrs:{border:"left, right, bottom"}},[i("woo-box",{class:t.$style.more,attrs:{align:"center",justify:"center"}},[i("div",{domProps:{textContent:t._s(t.button.title)}}),i("woo-fonticon",{class:t.$style.icon2,attrs:{value:"angleRight"}})],1)],1):t._e()],1)},m=[],v=i("5530"),_=i("2f62"),g={name:"moreButton",props:{button:{type:Object,default:function(){return{title:""}}},kind:String},computed:Object(v["a"])({},Object(_["c"])(["feedGroup"])),methods:{getRouter:function(){var t={name:"mygroups",params:{from:"trends"}};if(this.feedGroup&&this.feedGroup.left){switch(this.kind){case"特别关注":t=Object(v["a"])(Object(v["a"])({},t),{},{query:{gid:this.feedGroup.left[2].gid}});break;default:break}return t}}}},b=g,y=i("eba6"),w=i("2877");function x(t){this["$style"]=y["default"].locals||y["default"]}var k=Object(w["a"])(b,f,m,!1,x,null,null),$=k.exports,C=i("421a"),O={name:"Mblog",props:{data:{type:Object,default:function(){return{type:"",id:"",titles:{},menus:[],mblogs:[],button:{}}}}},computed:{showTitle:function(){return this.data.titles&&this.data.titles.text},hasMorePop:function(){return this.data.menus&&this.data.menus.length},showMoreBtn:function(){return this.data.button&&this.data.button.title}},components:{FeedTitle:p["a"],Feed:r["a"],FeedMorebutton:$,FeedMorepop:C["a"]}},j=O,T=i("a92f");function D(t){this["$style"]=T["default"].locals||T["default"]}var S=Object(w["a"])(j,d,h,!1,D,null,null),I=S.exports,L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("custom-card",{attrs:{data:t.data.card,picSize:t.picSize}})},B=[],P=i("1d99"),A={components:{CustomCard:P["a"]},name:"Card",props:{data:Object},computed:{picSize:function(){if(this.data&&this.data.card&&this.data.card.itemid){var t=this.data.card.itemid;return"new_user_qiehuan"===t?24:70}return 70}}},E=A,M=Object(w["a"])(E,L,B,!1,null,null,null),F=M.exports,R=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("TipsAd",{attrs:{data:t.adData,adHeight:"85",closeBtnKind:"notext"},on:{close:t.close}})},V=[],N=i("ed09"),H=i("c15f"),z={props:{data:Object},components:{TipsAd:H["a"]},setup:function(t,e){var i=e.emit,a=Object(N["p"])(t),o=a.data,n=Object(N["m"])({imageUrl:"",clickUrl:"",actionlog:[]});Object(N["h"])((function(){if(o.value&&o.value.pic_items&&o.value.pic_items.length){var t=o.value.pic_items[0];t.pic&&(n.imageUrl=t.pic,n.clickUrl=t.scheme,n.actionlog=t.actionlog)}}));var s=function(){i("close",o.value)};return{adData:n,close:s}}},U=z,G=Object(w["a"])(U,R,V,!1,null,null,null),q=G.exports,W={name:"TrendCard",props:{data:{type:Object,default:function(){return{type:"",id:"",titles:{},menus:[],mblogs:[],card:{},button:{}}}}},components:{Mblog:I,Card:F,bannerAd:q}},Q=W,J=Object(w["a"])(Q,c,u,!1,null,null,null),K=J.exports,Y=i("4533"),X={name:"FeedScroll",props:{data:Array,isLoading:{type:Boolean,default:!1},isRetry:{type:Boolean,default:!1},isEmpty:{type:Boolean,default:!1},emptyText:{type:String,default:"暂无数据"},isNoData:{type:Boolean,default:!0},noDataText:{type:String,default:"没有更多内容了"},notLoginText:{type:String,default:"登录后查看更多内容"},showNotLoginBottom:{type:Boolean,default:!1},skeleton:{type:Boolean,default:!0},hasTransformText:{type:Boolean,default:!0},pagetype:{type:String,default:""},hasToolbar:{type:Boolean,default:!0},hasMorePop:{type:Boolean,default:!0},noBorderTop:{type:Boolean,default:!1},feedStyleType:{type:String},jointPosition:{type:String},showScrollBottom:{type:Boolean,default:!0},isInCards:{type:Boolean,default:!1},actLogData:{type:Object,default:function(){return{page:"",extValue:""}}},actLogScene:String,keyField:{type:String,default:"id"},specificTime:Boolean,disableFeedViewer:Boolean,buffer:{type:Number,default:1500},absstr:String,loadMoreManuel:Boolean,realRead:{type:Object,default:function(){return{}}}},data:function(){return{loading:this.isLoading,retry:this.isRetry,empty:this.isEmpty,nodata:this.isNoData,showEditModal:!1,editMid:"",editCount:0,sizeDependencies:["text","retweeted_status.text","visible.type","attitudes_status","attitudes_count","pic_ids","page_info","user.following","showFeedRepost","showFeedComment","showPictureViewer","pictureViewerSign","rcList","page_info.card_info","page_info.card_info.vote_object","page_info.card_info.vote_state","page_info.cards","complaint.url"],showReplyModal:!1,commentData:{},replyModalWeiboData:{}}},created:function(){this.$Bus.$on("syncValueInList",this.syncValueInList)},watch:{showReplyModal:function(t){t||(this.replyModalWeiboData={})},isLoading:function(t){this.loading=t},isRetry:function(t){this.retry=t},isEmpty:function(t){this.empty=t},isNoData:function(t){this.nodata=t}},components:{Scroll:s["a"],Feed:r["a"],TrendCard:K,FeedEditHistory:Y["a"],ReplyModal:l["a"]},methods:{loadMoreData:function(){this.$emit("loadMoreData")},feedHeadArrowDown:function(t,e){var i=window.event||t,a=i.path||i.composedPath&&i.composedPath();i=a.find((function(t){return t.className.includes("wbpro-scroller-item")}));var o=i.parentNode;e?o.setAttribute("more",1):o.removeAttribute("more")},updateEditHistory:function(t){if(!t.single){var e=t.data;this.showEditModal=e.show,this.editMid=e.mid,this.editCount=e.count}},updateWeiboData:function(t,e){t&&t.value&&t.value.length&&t.value.forEach((function(t){if(t.name.indexOf(".")>-1){var i,a=t.name.split("."),o=Object(n["a"])(a);try{for(o.s();!(i=o.n()).done;){var s=i.value;e[s]&&s!==a[a.length-1]&&(e=e[s]);break}}catch(r){o.e(r)}finally{o.f()}e[a[a.length-1]]=t.val}else e[t.name]=t.val}))},syncValueInList:function(t){var e,i=Object(n["a"])(this.data);try{for(i.s();!(e=i.n()).done;){var a=e.value;a.idstr===t.id?this.updateWeiboData(t,a):a.retweeted_status&&a.retweeted_status.idstr===t.id&&this.updateWeiboData(t,a.retweeted_status)}}catch(o){i.e(o)}finally{i.f()}},updateFeedReplyModal:function(t){this.replyModalWeiboData=t.weiboData,this.showReplyModal=t.showReplyModal,this.commentData=t.commentData},updateComments:function(t,e){var i,a=Object(n["a"])(this.data);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.idstr===this.replyModalWeiboData.idstr&&o.rcList.map((function(i){i.comments&&i.comments.length&&(i.comments=t,i.more_info&&i.more_info.highlight_text&&(i.more_info.highlight_text="共".concat(e,"条回复")))}))}}catch(s){a.e(s)}finally{a.f()}},updateTotalNumber:function(t){var e,i=Object(n["a"])(this.data);try{for(i.s();!(e=i.n()).done;){var a=e.value;a.idstr===this.replyModalWeiboData.idstr&&a.rcList.map((function(e){e.comments&&e.comments.length&&e.more_info&&e.more_info.highlight_text&&(e.more_info.highlight_text="共".concat(t,"条回复"))}))}}catch(o){i.e(o)}finally{i.f()}},getFeedRadius:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"noGap"!==this.feedStyleType?"all":"top"===this.jointPosition&&e===t.length-1?"bottom-left,bottom-right":"bottom"===this.jointPosition&&0===e?"top-left,top-right":""},showTrends:function(t){return["mblog","card","bannerAd"].includes(t)},closeTrends:function(t){var e,i=Object(n["a"])(this.data);try{for(i.s();!(e=i.n()).done;){var a=e.value;a.type===t.type&&this.data.splice(t.position,1)}}catch(o){i.e(o)}finally{i.f()}}},beforeDestroy:function(){this.$Bus.$off("syncValueInList",this.syncValueInList)}},Z=X,tt=Object(w["a"])(Z,a,o,!1,null,null,null);e["default"]=tt.exports},"4e90":function(t,e,i){"use strict";var a=i("9ecf"),o=i.n(a);e["default"]=o.a},"4ebe":function(t,e,i){t.exports={box:"FeatureBubble_box_2WUzY",close:"FeatureBubble_close_3dBPJ"}},"4ee6":function(t,e,i){t.exports={wrap:"more-button_wrap_24UzR",more:"more-button_more_cSCiX"}},"4f10":function(t,e,i){t.exports={box:"associated-statuses_box_1VW-n",gap:"associated-statuses_gap_3AZZa",innerBox:"associated-statuses_innerBox_1JQXd",title:"associated-statuses_title_3bLy7",avatar:"associated-statuses_avatar_1DWxF",content:"associated-statuses_content_2wezK",name:"associated-statuses_name_1mEDg",text:"associated-statuses_text_1-CMJ"}},"4f23":function(t,e,i){t.exports={cut:"UserFeedCard_cut_2SbAW",userFeedCard:"UserFeedCard_userFeedCard_3shKr",item:"UserFeedCard_item_1wK9O",con:"UserFeedCard_con_XW5Tz",clb:"UserFeedCard_clb_3cXsW",f12:"UserFeedCard_f12_FyJoV",cla:"UserFeedCard_cla_1QH69",fb:"UserFeedCard_fb_xh7zw",right:"UserFeedCard_right_1zFr_",left:"UserFeedCard_left_2XXOA",line:"UserFeedCard_line_1GwC1"}},"4f26":function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_nav_tv",use:"woo_svg_nav_tv-usage",viewBox:"0 0 30 30",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" id="woo_svg_nav_tv"><path d="M6 5h18a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V7a2 2 0 012-2zm1 2a1 1 0 00-1 1v11a1 1 0 001 1h16a1 1 0 001-1V8a1 1 0 00-1-1H7zm10.634 7.19l-3.563 2.208c-.346.215-.784.08-.979-.302a.855.855 0 01-.092-.388v-4.416c0-.438.322-.792.718-.792.124 0 .245.035.353.102l3.563 2.208c.345.214.468.697.274 1.078a.76.76 0 01-.274.302zM10 23h10a1 1 0 010 2H10a1 1 0 010-2z" fill="currentColor" fill-rule="evenodd" /></symbol>'});s.a.add(r);e["default"]=r},"4f3d":function(t,e,i){"use strict";var a=i("2095"),o=i.n(a);e["default"]=o.a},"4fa5":function(t,e,i){"use strict";i.r(e);var a=i("722e"),o=i("c66d"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[t.total_number?i("Collect",{attrs:{total_number:t.total_number},on:{action:t.refresh}}):t._e(),i("FeedScroll",{attrs:{skeleton:!0,favorited:!0,hasTransformText:!0,pagetype:t.pageType,data:t.list,isLoading:t.isLoading,isEmpty:t.isEmpty,isRetry:t.isRetry,isNoData:t.isNoData},on:{loadMoreData:t.loadMoreData},scopedSlots:t._u([{key:"tag",fn:function(t){var e=t.tags,a=t.id;return[i("CollectItem",{attrs:{tags:e,id:a}})]}}])})],1)},s=[],r=(i("99af"),i("c975"),i("b0c0"),i("b64b"),i("5530")),l=i("2f62"),c=i("4e7d"),u=i("6cf2"),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.tags.total_number?i("Card",[i("woo-box",{class:t.$style.tit,attrs:{align:"center",justify:"between"}},[i("div",{class:t.$style.tt},[t._v("我的收藏（"+t._s(t.tags.total_number)+"）")])]),i("div",{class:t.$style.list},[t._l(t.tags.tags,(function(e,a){return i("span",{key:a,class:[t.$style.litem,e.id===t.currentId&&t.$style.lcurr,e.edit&&!e.modify&&t.$style.ledit,e.modify&&t.$style.lipt],on:{click:function(i){return t.modify(i,e,a)}}},[e.edit&&e.modify?[i("input",{directives:[{name:"model",rawName:"v-model",value:e.tag,expression:"tag.tag"}],staticStyle:{width:"144px"},attrs:{type:"text"},domProps:{value:e.tag},on:{keypress:function(t){t.stopPropagation()},input:function(i){i.target.composing||t.$set(e,"tag",i.target.value)}}})]:[t._v(" "+t._s(e.tag+"("+e.count+")")+" ")],e.edit&&!e.modify&&e.id>0?i("woo-fonticon",{attrs:{value:"close",kind:"dark"},nativeOn:{click:function(i){return i.stopPropagation(),t.deleteTagAction(e,a)}}}):t._e()],2)})),t.tags.tags.length>2?i("woo-button",{class:t.$style.lbtn,attrs:{sort:"line",kind:"primary",size:"xs",disabled:Boolean(t.error)},on:{click:t.ActionButton.action}},[t._v(t._s(t.ActionButton.text))]):t._e()],2),i("woo-box",{class:t.$style.tip,attrs:{justify:"end"}},[i("div",{class:t.$style.error},[t._v(t._s(t.error))])])],1):t._e()],1)},h=[],p=(i("4de4"),i("d81d"),i("a434"),i("a9e3"),i("d95a"),i("7496")),f=i("e8f6"),m=i("ed09"),v={emit:["action"],props:{total_number:{type:[Number,String]}},setup:function(t,e){var i=e.emit,a=Object(m["d"])(),o=a.proxy,n=Object(p["a"])(t.total_number),s=n.tags,r=n.error,l=n.getTags,c=n.deleteTag,u=n.reset,d=n.handleError,h=n.collectBusOff,v=n.collectBusOn,_=Object(m["n"])(0),g=Object(m["m"])({action:function(){g.text=s.tags.filter((function(t){return t.edit})).length?"编辑":"完成",s.tags.map((function(t,e){t.modify&&(o.$http.post("/ajax/favorites/tags/update_batch",{id:t.id,tag:t.tag}).then((function(e){var i=e.data,a=i.data,n=i.ok;n&&(+o.$route.query.tid===t.id?(t.id=a.id,x(t.id)):t.id=a.id)})),t.modify=!1),t.id>0&&(t.edit=Boolean(!t.edit))}))},text:"编辑"}),b=function(t,e){var i=t.id;t.count;o.$_w_dialog({type:"confirm",title:"你确定要删除这个标签吗？",message:"删除标签不会将对应的收藏一起删除",action:function(){c(i).then((function(t){t.data.ok&&(s.tags.splice(e,1),l("",!0,!0,!0),g.text="编辑",+o.$route.query.tid===i?x(0):x(_.value))}))}})},y=function(t,e,i){e.edit?(e.modify=!0,Object(m["f"])((function(){var e=t.target.querySelector("input");e&&Object(f["b"])(e)}))):x(e.id)};Object(m["s"])((function(){return s.tags}),(function(){var t=function(t){if(s.tags[t].modify&&s.tags[t].edit){var e=d(s.tags[t].tag,2);if(!e&&"仅限12个字符"===r.value){var i=function(t){for(var e="",i=0,o=0;o<t.length;o++){if(a.test(t[o])?i+=2:i++,!(i<=24))break;e+=t[o]}return e},a=/[^\x00-\xff]/;setTimeout((function(){s.tags[t].tag=i(s.tags[t].tag)}),300)}if(!1===e)return"break"}};for(var e in s.tags){var i=t(e);if("break"===i)break}}),{deep:!0});var w=function(){s.tags.map((function(t){t.id&&(t.edit=!0)}))},x=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];_.value=+t,e&&(t?o.$router.push({query:{tid:_.value}}):o.$router.push({query:{}}),i("action",t))};Object(m["k"])((function(){var t=o.$route.query.tid;t&&x(t,!1),l(),o.$Bus.$on("clickProfileNav",k),v()})),Object(m["l"])((function(){h()}));var k=function(){_.value=0,g.text="编辑",u(),l()};return{tags:s,ActionButton:g,currentId:_,error:r,getTags:l,deleteTagAction:b,modify:y,edit:w}}},_=v,g=i("e2be"),b=i("2877");function y(t){this["$style"]=g["default"].locals||g["default"]}var w=Object(b["a"])(_,d,h,!1,y,null,null),x=w.exports,k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{class:t.$style.container},[t.tags&&(!t.tags.length||t.tags.length<=2)?i("woo-box",{attrs:{align:"center"}},[t._l(t.tags,(function(e,a){return i("span",{key:a,class:t.$style.tag},[i("span",[t._v(t._s(e.tag))]),i("woo-fonticon",{class:t.$style.cross,attrs:{value:"cross"},nativeOn:{click:function(i){return t.deleteTag(e,a)}}})],1)})),t.tags.length?i("woo-button",{attrs:{sort:"flat",kind:"primary",size:"xs"},nativeOn:{click:function(e){return t.add(e)}}},[t._v("编辑")]):i("woo-button",{attrs:{sort:"line",kind:"default",size:"xs",fonticon:"add"},nativeOn:{click:function(e){return t.add(e)}}},[t._v("添加")])],2):t._e()],1)},$=[],C=(i("a15b"),{props:{tags:{},id:{}},setup:function(t){var e=Object(m["d"])(),i=e.proxy,a=Object(p["a"])(),o=a.addTag,n=function(){i.$Bus.$emit("showLayerCollect",{id:t.id,collect_type:"edit",tags:t.tags})},s=function(e,a){i.$_w_dialog({type:"confirm",title:"你确定要删除这个标签吗？",message:"删除标签不会将对应的收藏一起删除",action:function(){t.tags.splice(a,a+1);var n=t.tags.map((function(t){return t.tag})).join(",");o(t.id,n).then((function(t){}));var s=[{id:e.id,num:-1}];!n&&s.push({id:-1,num:1}),i.$Bus.$emit("handleTag",s)}})};return{add:n,deleteTag:s}}}),O=C,j=i("944f");function T(t){this["$style"]=j["default"].locals||j["default"]}var D=Object(b["a"])(O,k,$,!1,T,null,null),S=D.exports,I={name:"likebox",metaInfo:function(){var t="";switch(this.pageType){case"like":t="我的赞";break;case"fav":t="我的收藏";break;default:break}return{title:t}},mixins:[u["a"]],data:function(){return{likeList:[{name:"赞过的内容",type:"like",route:"likeOutbox",groups:[{api:"/ajax/statuses/likelist",name:"全部"}]},{name:"收藏的内容",type:"fav",route:"fav",groups:[{api:"/ajax/favorites/all_fav",name:"全部"}]}],list:[],isLoading:!1,isRetry:!1,isEmpty:!1,isNoData:!1,skeleton:!0,page:1,total_number:void 0}},watch:{$route:function(t,e){var i=this;if(this.update){var a=t.meta&&Object.keys(t.meta).length&&t.meta||{},o=a.pageType,n=void 0===o?"":o;switch(n){case"like":this.setInfo(0);break;case"fav":this.setInfo(1);default:break}}this.$nextTick((function(){i.update=!1}))}},computed:Object(r["a"])(Object(r["a"])({},Object(l["c"])(["config","profileId"])),{},{pageType:function(){return this.$route.meta&&this.$route.meta.pageType||""}}),components:{FeedScroll:c["default"],Collect:x,CollectItem:S},methods:Object(r["a"])(Object(r["a"])({},Object(l["b"])(["setHotGroup"])),{},{deleteWeibo:function(t){this.list=this.deleteWeiboInList(t,this.list)},setInfo:function(t){this.curGroup=this.likeList[t].groups,this.clickGroup(this.curGroup[0])},goRouter:function(t){switch(t.type){case"like":this.$router.push({name:"likeOutbox"});break;case"fav":this.$router.push({name:"fav"});break}},clickGroup:function(t,e){var i=this;"loadmore"!==e&&(this.list=[],this.page=1,this.max_id=0,this.isEmpty=!1),this.isLoading=!0,this.isRetry=!1;var a={uid:this.config.uid,page:this.page,tid:this.$route.query.tid,with_total:!0};t&&t.api&&this.$http.get(t.api,{params:a}).then((function(t){if(i.isLoading=!1,t&&t.data&&+t.data.ok>0){var e=t.data.data,a="like"==i.$route.name?e.list:"fav"===i.$route.name?e.status:e;if("fav"===i.$route.name?i.total_number=e.total_number:i.total_number=0,i.list=i.list.concat(a),i.isLoading=!0,i.page++,"fav"===i.$route.name){var o;if(0===i.list.length)return i.isLoading=!1,void(i.isEmpty=!0);i.list.length&&0===(null===e||void 0===e||null===(o=e.status)||void 0===o?void 0:o.length)&&(i.isLoading=!1,i.isNoData=!0)}if(0===i.list.length&&a&&0===a.length)return i.isLoading=!1,void(i.isEmpty=!0);i.list.length&&a&&0===a.length&&(i.isLoading=!1,i.isNoData=!0)}else 0===t.data.ok&&i.$nextTick((function(){i.isLoading=!1,i.isNoData=!0,i.isRetry=!1}))})).catch((function(){i.isLoading=!1,i.isRetry=!0}))},refresh:function(){this.clickGroup(this.curGroup[0])},loadMoreData:function(){this.clickGroup(this.curGroup[0],"loadmore")},switchPage:function(t,e){var i=t.type;switch(i){case"like":this.setInfo(0);break;case"fav":this.setInfo(1);default:break}},afterClick:function(){this.update=!0},updateInfo:function(){this.pageType.indexOf("like")>-1?this.setInfo(0):this.setInfo(1)},fetchUser:function(){var t=this,e=this.$route.params.id;this.$http.get("/ajax/profile/info",{params:{uid:e}}).then((function(e){t.loading=!1,e.data.ok>0&&(t.userInfo=e.data.data.user,t.$store.dispatch("setVerifiedType",t.userInfo.verified_type),t.$store.dispatch("setProfileUid",t.userInfo.id))}))}}),created:function(){this.fetchUser(),this.updateInfo(),this.$Bus.$on("clickProfileNav",this.switchPage)},beforeDestory:function(){this.$Bus.$off("clickProfileNav",this.switchPage)},activated:function(){+this.profileId!==+this.$route.params.id&&this.fetchUser()}},L=I,B=Object(b["a"])(L,n,s,!1,null,null,null),P=B.exports,A=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[t.isOwner?t._e():i("SecBar",[i("Bar",{class:t.$style.bar,attrs:{"go-back":""}})],1),i("SecBar",[t.isOwner?t._e():i("Card",[i("Tab",{attrs:{tabs:t.tabList,newCurIndex:t.curTab},on:{changeTab:function(e,i){return t.tabChange(i,!0,!1)}}})],1)],1),t.isOwner&&"fans"===t.$route.query.relate?i("MyFanslist"):t._e(),t.$route.query.relate&&!t.isOwner?i("Card",[i("div",{directives:[{name:"show",rawName:"v-show",value:1!==t.curTab,expression:"curTab !== 1"}]},[i("woo-box",{class:t.$style.tit,attrs:{align:"center"}},[i("woo-box-item",{class:[t.$style.f14,t.$style.cla],attrs:{align:"center"}},[t._v(" "+t._s(t.tabList[t.curTab].tabName)+" "),i("span",{class:t.$style.clb},[t._v(" （"+t._s(t.fansFormat([t.followsTotal,t.fansTotal][t.curTab]))+"） ")])])],1),i("woo-divider")],1),i("div",{directives:[{name:"show",rawName:"v-show",value:1===t.curTab,expression:"curTab === 1"}]},[i("FollowFeed",{attrs:{foText:t.isOwner?"回粉":"关注",showFonticon:!t.isOwner,data:t.fans,isLoading:t.isFansLoading,isRetry:t.isFansRetry,isEmpty:t.isFansEmpty,page:t.isOwner?"myFans":"fans",buffer:100,noDataText:t.noDataText},on:{loadMoreData:function(e){return t.loadMoreData("fans")}}},[t.fansExpose?i("woo-box",{class:t.$style.nodata,attrs:{align:"center",justify:"center"}},[i("woo-tip",{attrs:{type:"warn",sort:"vertical"}},[t._v(" 博主设置仅针对粉丝展示全部粉丝 ")])],1):t._e()],1)],1)]):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:0===t.curTab,expression:"curTab === 0"}]},[i("keep-alive",[i("FollowsList",{directives:[{name:"show",rawName:"v-show",value:t.isOwner,expression:"isOwner"}]})],1),i("Card",{directives:[{name:"show",rawName:"v-show",value:!t.isOwner,expression:"!isOwner"}]},[i("FollowFeed",{attrs:{data:t.follows,isLoading:t.isLoading,isRetry:t.isRetry,isEmpty:t.isEmpty,showPop:t.isOwner,noDataText:t.noDataText,page:t.isOwner?"myFollows":"follows",buffer:100},on:{loadMoreData:t.loadMoreData}},[t.followExpose?i("woo-box",{class:t.$style.nodata,attrs:{align:"center",justify:"center"}},[i("woo-tip",{attrs:{type:"warn",sort:"vertical"}},[t._v(" 博主设置仅针对粉丝展示全部关注 ")])],1):t._e()],1)],1)],1)],1)},E=[],M=(i("4160"),i("d3b7"),i("ac1f"),i("6062"),i("3ca3"),i("5319"),i("159b"),i("ddb0"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Scroll",t._b({attrs:{data:t.data,isLoading:t.isLoading,isEmpty:t.isEmpty,pageMode:!0,keyField:"id",isRetry:t.isRetry},on:{loadMoreData:t.loadMoreData},scopedSlots:t._u([{key:"content",fn:function(e){var a=e.item,o=e.index;return[i("div",{key:o,class:t.$style.wrap},[i("UserCard",t._g(t._b({key:a.id,class:t.$style.item,attrs:{data:a,showPop:t.showPop},scopedSlots:t._u([a.origin_source_info&&t.showSource?{key:"ext",fn:function(){return[i("div",[t._v(" 来自 "),a.origin_source_info.url?i("a",{attrs:{href:a.origin_source_info.url},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.goTarget(a.origin_source_info)}}},[t._v(t._s(a.origin_source_info.text))]):i("span",[t._v(t._s(a.origin_source_info.text))])])]},proxy:!0}:null],null,!0)},"UserCard",t.$attrs,!1),t.$listeners))],1)]}},{key:"afterContent",fn:function(){return[t._t("afterContent")]},proxy:!0}],null,!0)},"Scroll",t.$attrs,!1)),t._t("default")],2)}),F=[],R=(i("466d"),i("6701")),V=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{attrs:{align:"center",justify:"between"},nativeOn:{click:function(e){return t.goProfile(t.user.id)}}},[i("a-link",{class:t.$style.item,attrs:{"link-type":"old","style-type":"none",href:"/u/"+t.user.id},on:{click:function(t){t.preventDefault()}}},[i("woo-box",{attrs:{align:"center"}},[i("woo-avatar",{attrs:{size:50,verified:t.getVerifiedIcon(t.user),src:t.user.avatar_large,usercard:t.user.id}}),i("woo-box-item",{class:[t.$style.con,t.$style.f12],attrs:{align:"center"}},[i("div",{class:[t.$style.cla,t.$style.fb,"wbpro-textcut"]},[i("span",{attrs:{usercard:t.user.id}},[t._v(" "+t._s(t.user.screen_name))]),t.user.remark?i("span",[t._v("（"+t._s(t.user.remark)+"）")]):t._e(),i("IconFans",{attrs:{mbrank:t.user.mbrank,mbtype:t.user.mbtype,svip:t.user.svip,vvip:t.user.vvip,fansIcon:t.user.fansIcon}})],1),i("div",{class:[t.$style.clb,"wbpro-textcut"]},[t._v(" "+t._s(t.user.verified_reason||t.user.description||"暂无简介")+" ")]),i("div",{class:t.$style.clb},[t.$slots.ext?t._t("ext"):i("span",[t._v(" 粉丝 "+t._s(t.user.followers_count_str)+" ")])],2)])],1)],1),t.config.uid!==t.user.id?i("div",{class:t.$style.right},[i("FollowPop",{attrs:{show:t.show,uid:t.user.idstr,specialFo:t.user.special_follow,remark:t.user.remark,user:t.user},on:{"update:show":function(e){t.show=e},"update:specialFo":function(e){return t.$set(t.user,"special_follow",e)},"update:special-fo":function(e){return t.$set(t.user,"special_follow",e)},"close-pop":t.handleClosePop,"follow-change":t.handleFollowChange,"set-remark":t.handleSetRemark},nativeOn:{mouseenter:function(e){return t.handleMove(e)},mouseleave:function(e){return t.handleLeave(e)}}},[i("FollowBtn",t._b({attrs:{user:t.user,following:t.user.following,uid:t.user.idstr,doFoAction:!0,foToast:!0,followedBy:t.user.follow_me,showSpecialFo:!0,specialFo:t.user.special_follow,canUnfollow:!t.showPop,page:t.page,cardid:t.user.itemid},on:{click:t.follow,"is-following":t.handleFollowChange}},"FollowBtn",t.$attrs,!1))],1)],1):t._e(),t.showExtend?i("div",{class:t.$style.rightContent},[i("woo-pop",{class:t.$style.stbtn,attrs:{show:t.sortPopVisible},nativeOn:{mouseleave:function(e){t.sortPopVisible=!1}},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-fonticon",{attrs:{value:"ellipsis"},nativeOn:{mouseover:function(e){t.sortPopVisible=!0}}})]},proxy:!0}],null,!1,3577015593)},[i("woo-button",{class:t.$style.popBtn,attrs:{sort:"simple",kind:"default",size:"s"},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleRemoveFans(t.user)}}},[t._v(" 移除粉丝 ")])],1)],1):t._e()],1)},N=[],H=(i("7db0"),i("caad"),i("2532"),i("eba1")),z=i("af5a"),U=i("32d4"),G=i("fa20"),q={props:{showBtn:{type:Boolean,default:!0},data:{type:Object,default:function(){return{}}},page:String,showPop:Boolean,showExtend:{type:Boolean,default:!1}},data:function(){return{loading:!1,show:!1,sortPopVisible:!1,user:this.data}},computed:Object(r["a"])({},Object(l["c"])(["config"])),watch:{data:function(t){this.user=t}},methods:{getVerifiedIcon:G["c"],handleRemoveFans:function(t){var e=this;this.$_w_dialog({type:"confirm",title:"确认要移除粉丝？",message:"对方将不再关注你，且不会收到通知",action:function(){e.$http.post("/ajax/profile/destroyFollowers",{uid:t.idstr}).then((function(i){i.data.ok>0&&(t.follow_me=!1,e.$emit("after-remove",t),e.$_w_toast({type:"success",message:"已移除"}))}))}})},handleSetRemark:function(t){this.user.remark=t},handleLeave:function(t){this.show=!1,this.handleLayer(t,!1)},handleMove:function(t){this.showPop&&this.user.following&&(this.show=!0,this.$Bus.$emit("follow-pop-show",this.user.idstr),this.handleLayer(t,!0))},handleLayer:function(t,e){var i=window.event||t,a=i.path||i.composedPath&&i.composedPath();if(i=a.find((function(t){return t.className.includes("wbpro-scroller-item")})),i){var o=i.parentNode;e?o.setAttribute("more",1):o.removeAttribute("more")}},handleFollowChange:function(t){t||(this.user.special_follow=t,this.user.remark=""),this.user.following=t},handleClosePop:function(){var t=this.$el;while(t)t.className.includes("wbpro-scroller-item")?(t.parentNode.removeAttribute("more"),t=null):t=t.parentNode},shortNum:H["b"],goProfile:function(t){this.$router.push({name:"profile",params:{id:t}})}},components:{FollowPop:z["a"],IconFans:U["a"]}},W=q,Q=i("0a81");function J(t){this["$style"]=Q["default"].locals||Q["default"]}var K=Object(b["a"])(W,V,N,!1,J,null,null),Y=K.exports,X={props:{data:{type:Array,default:function(){return[]}},isEmpty:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1},isRetry:{type:Boolean,default:!1},showPop:Boolean,showSource:{type:Boolean,default:!0}},data:function(){return{}},methods:{loadMoreData:function(){this.isRetry=!1,this.$emit("loadMoreData")},goTarget:function(t){if(t.url){if(t.url.match(/^\/\//))return void(window.location.href=t.url);this.$router.push({path:t.url})}}},components:{UserCard:Y,Scroll:R["a"]}},Z=X,tt=i("986c");function et(t){this["$style"]=tt["default"].locals||tt["default"]}var it=Object(b["a"])(Z,M,F,!1,et,null,null),at=it.exports,ot=i("f51a"),nt=i("70e7"),st=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("SecBar",[i("Card",[i("Tab",{class:t.$style.tabs1,attrs:{tabs:t.tabList,cut:!1,colum:0,newCurIndex:t.newCurIndex},on:{changeTab:t.handleChangeTab}})],1)],1),i(t.componentName,{key:t.curTabId,tag:"component"})],1)},rt=[],lt=(i("c740"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.specialAtttention.users&&t.specialAtttention.users.length?i("Card",[i("user-list",{attrs:{title:t.specialAtttention.name,"angle-right-text":"查看更多",highlight:"",data:t.specialAtttention.users},on:{"angle-right-click":function(e){return t.handleCheckMore(t.specialAtttention.list_id)}}})],1):t._e(),i("Card",[i("list-title",{attrs:{title:t.title,"angle-right-text":"查看关注分组",highlight:""},on:{"angle-right-click":t.handleAngleRightClick}}),i("woo-divider"),i("woo-box",{class:t.$style.stit,attrs:{align:"center",justify:"between"}},[i("woo-box",[t.batchOperate?i("woo-button",{class:t.$style.stbtn,attrs:{sort:"simple",kind:"default",size:"s",fonticon:t.batchVisible?"":"manageP"},on:{click:t.changeBatchVisible}},[t._v(" "+t._s(t.batchVisible?"取消批量管理":"批量管理")+" ")]):t._e(),t.batchVisible?i("woo-box",{class:t.$style.stbtn,attrs:{align:"center"}},[i("woo-button",{class:t.$style.stbtn,attrs:{sort:"line",kind:"default",size:"s",disabled:0===t.groupCheckedList.length},on:{click:t.destroyBatch}},[t._v(" 取消关注 ")])],1):t._e(),i("woo-pop",{class:t.$style.stbtn,attrs:{gap:"10",show:t.sortPopVisible},on:{"click-outside":function(e){t.sortPopVisible=!1}},scopedSlots:t._u([{key:"ctrl",fn:function(){return[t.batchVisible?t._e():i("woo-button",{attrs:{sort:"simple",kind:"default",size:"s",fonticon:"angleDown",reverse:""},on:{click:function(e){t.sortPopVisible=!0}}},[t._v(" "+t._s("timeDown"===t.sortType?"最新发博":"最新关注")+" ")])]},proxy:!0}])},[i("div",[i("woo-button",{class:t.$style.popBtn,attrs:{sort:"simple",kind:"timeDown"===t.sortType?"default":"primary",size:"s"},on:{click:t.changeSortType}},[t._v(" 最新关注 ")]),i("woo-button",{class:t.$style.popBtn,attrs:{sort:"simple",kind:"timeDown"===t.sortType?"primary":"default",size:"s"},on:{click:function(e){return t.changeSortType("timeDown")}}},[t._v(" 最新发博 ")])],1)])],1),t.batchVisible?t._e():i("woo-input",{class:t.$style.stopt,attrs:{placeholder:"搜索好友"},on:{keypress:function(t){t.stopPropagation()},blur:t.handleBlur},scopedSlots:t._u([{key:"icon",fn:function(){return[i("woo-fonticon",{attrs:{value:"search"}})]},proxy:!0}],null,!1,1472353896),model:{value:t.searchContent,callback:function(e){t.searchContent=e},expression:"searchContent"}}),t.batchVisible?i("user-filter",{on:{"filter-change":t.handleFilterChange}}):t._e()],1),i("woo-divider"),i("UserFeed",{attrs:{batchVisible:t.batchVisible,data:t.follows.users,isLoading:t.isLoading,isNoData:t.isNoData,isEmpty:t.isEmpty,noDataText:t.noDataText},on:{loadMoreData:t.loadMoreData,"set-group":t.handleSetGroup},model:{value:t.groupCheckedList,callback:function(e){t.groupCheckedList=e},expression:"groupCheckedList"}}),i("GroupModal",{attrs:{visible:t.modalVisible,type:"set",selected:t.groupCheckedList},on:{"update:visible":function(e){t.modalVisible=e},"after-set-group":t.handleAfterSetGroup}})],1)],1)}),ct=[],ut=i("2909"),dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{class:t.$style.tit,attrs:{align:"center",justify:"between"}},[i("h3",{class:[t.$style.th3,t.$style.f14,t.$style.cla]},[t._v(t._s(t.title))]),t._t("right",[t.useAngleRight?i("a-link",{attrs:{linkType:"old",styleType:"none"},on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[i("woo-box",{class:[t.$style.topt,t.$style.f12,t.$style.clb,t.highlight&&t.$style.cll],attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return t.angleRightClick(e)}}},[t._t("rightText",[i("span",[t._v(t._s(t.angleRightText))])]),i("woo-fonticon",{attrs:{value:t.angleType,title:t.angleTitle}})],2)],1):t._e()])],2)},ht=[],pt={inheritAttrs:!1,props:{title:{type:String,default:""},angleRightText:{type:String,default:""},highlight:{type:Boolean,default:!1},angleType:{type:String,default:"angleRight"},angleTitle:{type:String,default:""},useAngleRight:{type:Boolean,default:!0}},setup:function(t,e){var i=e.emit,a=function(){i("angle-right-click")};return{angleRightClick:a}}},ft=pt,mt=i("9edd");function vt(t){this["$style"]=mt["default"].locals||mt["default"]}var _t=Object(b["a"])(ft,dt,ht,!1,vt,null,null),gt=_t.exports,bt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-pop",{attrs:{show:t.visible,align:"end",gap:6},on:{"click-outside":t.handleClickOutside},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-button",{class:t.$style.stbtn,attrs:{sort:"simple",kind:"primary",size:"s",fonticon:"screenS"},on:{click:function(e){t.visible=!t.visible}}},[t._v(" 筛选 ")])]},proxy:!0}])},[i("div",{class:t.$style.pop},[i("div",{class:t.$style.dl},[t._v("关注时间")]),i("woo-box",{attrs:{old:"",items:4,"gap-row":5}},t._l(t.txt,(function(e,a){return i("woo-box-item",{key:a},[i("woo-radio",{attrs:{size:"12",value:e.value},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v(" "+t._s(e.label)+" ")])],1)})),1),t.radio===t.FILTER_CODE_CUSTOM?i("div",[i("woo-box",{class:t.$style.popb1,attrs:{align:"center",justify:"between"}},[i("span",[t._v(t._s(t.customVal[0]))]),i("span",[t._v(t._s(t.customVal[1]))])]),i("div",{class:t.$style.popb2},[i("vue-slider",t._b({model:{value:t.customVal,callback:function(e){t.customVal=e},expression:"customVal"}},"vue-slider",t.sliderOptions,!1))],1)],1):t._e(),i("div",{class:t.$style.dl},[t._v("发博")]),i("woo-box",{attrs:{old:"",items:1,"gap-row":5}},[i("woo-box-item",[i("woo-radio",{attrs:{size:"12",value:t.FILTER_CODE_RENCENT_THIRTY_DAY_NOBLOG},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v(" 近30天未发博 ")])],1)],1),i("woo-box",{class:t.$style.pbtnb,attrs:{align:"center",justify:"center"}},[i("woo-button",{class:t.$style.pbtn,attrs:{sort:"flat",kind:"default"},on:{click:t.reset}},[t._v(" 重置 ")]),i("woo-button",{class:t.$style.pbtn,attrs:{sort:"flat",kind:"primary"},on:{click:t.confirm}},[t._v(" 确定 ")])],1)],1)])},yt=[],wt=(i("1276"),i("5a0c")),xt=i.n(wt),kt=i("4971"),$t=i.n(kt),Ct=(i("24df"),1),Ot=2,jt=3,Tt=4,Dt=5;function St(){var t=Object(m["n"])(!1),e=function(){t.value=!1};return{visible:t,handleClickOutside:e}}function It(t){var e=[{label:"近7天",value:Ct},{label:"近30天",value:Ot},{label:"近半年",value:jt},{label:"自定义",value:Tt}],i=Object(m["n"])(""),a=Object(m["n"])([]),o=Object(m["m"])({dotSize:10,height:2,enableCross:!1,tooltip:"none",railStyle:{background:"#ffe6cc"},data:[],processStyle:{background:getComputedStyle(document.documentElement).getPropertyValue("--w-brand")}});return Object(m["h"])((function(){t.$http.get("/ajax/profile/getFollowerRange").then((function(t){if(t.data.ok>0){var e=t.data.data,i=e.begin,n=e.end;i=xt()(1e3*i).format("YYYY.MM").split("."),n=xt()(1e3*n).format("YYYY.MM").split(".");var s=[];s[0]=+i[0],s[1]=+n[0];s[1];for(var r,l,c=s[1]-s[0],u=s[0],d=(s[1],[]),h=0;h<=c;h++){r=1,l=12,0===h&&(r=+i[1]),h===c&&(l=+n[1]);for(var p=r;p<=l;p++)d.push("".concat(u+h,".").concat(p<10?"0"+p:p))}o.data=d,a.value=[d[0],d[d.length-1]]}}))})),{txt:e,radio:i,sliderOptions:o,customVal:a}}function Lt(t,e,i){var a=t.radio,o=t.customVal,n=t.sliderOptions,s=function(){a.value="",o.value=[n.data[0],n.data[n.data.length-1]]},r=function(){a.value===Tt?(o.value,e("filter-change",a.value,{begin_time:xt()(o.value[0]).unix(),end_time:xt()(o.value[1]).unix()})):e("filter-change",a.value),i.value=!1};return{reset:s,confirm:r}}var Bt={setup:function(t,e){var i=e.root,a=e.emit,o=St(),n=o.visible,s=o.handleClickOutside,l=It(i),c=Lt(l,a,n);return Object(r["a"])(Object(r["a"])(Object(r["a"])({visible:n,handleClickOutside:s},l),c),{},{FILTER_CODE_RENCENT_THIRTY_DAY_NOBLOG:Dt,FILTER_CODE_CUSTOM:Tt})},components:{VueSlider:$t.a}},Pt=Bt,At=i("68bb");function Et(t){this["$style"]=At["default"].locals||At["default"]}var Mt=Object(b["a"])(Pt,bt,yt,!1,Et,null,null),Ft=Mt.exports,Rt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("list-title",t._g(t._b({attrs:{"link-type":"old","style-type":"none",useAngleRight:t.showCount<=t.data.length}},"list-title",t.$attrs,!1),t.$listeners)),i("woo-divider"),i("div",{class:t.$style.con1},[i("woo-box",{attrs:{old:"",items:t.showCount,"gap-row":10}},t._l(t.data,(function(t,e){return i("woo-box-item",{key:e},[i("user-card",{attrs:{user:t}})],1)})),1)],1)],1)},Vt=[],Nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a-link",{attrs:{"link-type":"old","style-type":"none",href:"/u/"+t.user.id},on:{click:[function(t){t.preventDefault()},function(e){return t.goProfile(t.user.id)}]}},[i("woo-box",{attrs:{direction:"y",align:"center"}},[i("woo-avatar",{attrs:{size:50,src:t.user.avatar_hd,verified:t.getVerifiedIcon(t.user),usercard:t.user.id}}),i("div",{class:[t.$style.con1h3,t.$style.f12,t.$style.cla,t.$style.cut],attrs:{usercard:t.user.id}},[t._v(" "+t._s(t.user.screen_name)+" ")])],1)],1)},Ht=[],zt={props:{user:{type:Object,default:function(){return{}}}},setup:function(t,e){var i=e.root,a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"feed";i.$router.push({name:"profile",params:{id:t},query:{tabtype:e}})};return{getVerifiedIcon:G["c"],goProfile:a}}},Ut=zt,Gt=i("74c7");function qt(t){this["$style"]=Gt["default"].locals||Gt["default"]}var Wt=Object(b["a"])(Ut,Nt,Ht,!1,qt,null,null),Qt=Wt.exports,Jt={props:{showCount:{type:Number,default:6},data:{type:Array,default:function(){return[]}}},components:{ListTitle:gt,UserCard:Qt}},Kt=Jt,Yt=i("68d4");function Xt(t){this["$style"]=Yt["default"].locals||Yt["default"]}var Zt=Object(b["a"])(Kt,Rt,Vt,!1,Xt,null,null),te=Zt.exports,ee=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Scroll",{attrs:{data:t.data,isLoading:t.isLoading,isNoData:t.isNoData,isEmpty:t.isEmpty,pageMode:!0,keyField:"id",skeleton:"",noDataText:t.noDataText},on:{loadMoreData:t.loadMoreData},scopedSlots:t._u([{key:"content",fn:function(e){var a=e.item,o=e.index;return[i("UserFeedCard",t._g({key:o,attrs:{canSelect:t.batchVisible,index:o,data:a},model:{value:t.checkedList,callback:function(e){t.checkedList=e},expression:"checkedList"}},t.$listeners))]}}])})],1)},ie=[],ae=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{class:t.$style.userFeedCard,attrs:{direction:"y"},nativeOn:{click:function(e){return e.preventDefault(),t.contentClick(e)}}},[i("woo-box",{class:t.$style.item,attrs:{align:"center"}},[i("a-link",{class:t.$style.left,attrs:{"link-type":"old","style-type":"none",href:"/u/"+t.user.id}},[i("woo-avatar",{attrs:{size:50,verified:t.getVerifiedIcon(t.user),src:t.user.avatar_hd||t.user.avatar_large,usercard:t.user.id}}),i("woo-box-item",{class:[t.$style.con,t.$style.f12],attrs:{align:"center"}},[i("woo-box",{class:[t.$style.cla,t.$style.fb,t.$style.cut],attrs:{align:"center"}},[i("span",{attrs:{usercard:t.user.id}},[t._v(t._s(t.user.screen_name))]),t.isVip(t.user)?i("IconVip",{attrs:{mbrank:t.user.mbrank,mbtype:t.user.mbtype,svip:t.user.svip,vvip:t.user.vvip}}):t._e()],1),i("div",{class:[t.$style.clb,t.$style.cut]},[t._v(" "+t._s(t.user.content1)+" ")]),i("div",{class:[t.$style.clb,t.$style.cut]},[t._v(t._s(t.user.content2))])],1)],1),i("div",{class:t.$style.right},[t.canSelect?i("woo-checkbox",{attrs:{value:t.user.idstr},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}):i("FollowPop",t._g({attrs:{hasGroup:t.hasGroup,show:t.show,uid:t.user.idstr,specialFo:t.user.special_follow,remark:t.user.remark,user:t.user},on:{"update:show":function(e){t.show=e},"update:specialFo":function(e){return t.$set(t.user,"special_follow",e)},"update:special-fo":function(e){return t.$set(t.user,"special_follow",e)},"close-pop":t.handleClosePop,"follow-change":t.handleFollowChange,"set-remark":t.handleSetRemark},nativeOn:{mouseenter:function(e){return t.handleMove(e)},mouseleave:function(e){return t.handleLeave(e)}}},t.$listeners),[i("FollowBtn",t._b({attrs:{user:t.user,following:t.user.following,uid:t.user.idstr,doFoAction:!0,foToast:!0,followedBy:t.user.follow_me,showSpecialFo:!0,specialFo:t.user.special_follow,canUnfollow:!t.showPop,page:t.page},on:{click:t.follow,"is-following":t.handleFollowChange}},"FollowBtn",t.$attrs,!1))],1)],1)],1),i("woo-divider",{class:t.$style.line})],1)},oe=[],ne=i("bfbe"),se=function(t,e){var i=e.root,a=e.vm,o=Object(m["p"])(t),n=o.data,s=Object(m["n"])(n),r=Object(m["n"])(!1),l=Object(m["n"])(!0);Object(m["s"])(n,(function(t){s.value=t}));var c=function(t){t||(s.value.special_follow=t,s.value.remark=""),s.value.following=t},u=function(){var t=a.$el;while(t)t.className&&t.className.includes("wbpro-scroller-item")?(t.parentNode.removeAttribute("more"),t=null):t=t.parentNode},d=function(t,e){var i=window.event||t,a=i.path||i.composedPath&&i.composedPath();if(i=a.find((function(t){return t.className&&t.className.includes("wbpro-scroller-item")})),i){var o=i.parentNode;e?o.setAttribute("more",1):o.removeAttribute("more")}},h=function(t){r.value=!1,d(t,!1)},p=function(t){l.value&&s.value.following&&(r.value=!0,i.$Bus.$emit("follow-pop-show",s.value.idstr),d(t,!0))},f=function(t){s.value.remark=t};return{handleFollowChange:c,show:r,handleClosePop:u,handleLeave:h,handleMove:p,user:s,isVip:G["d"],handleSetRemark:f}},re={props:{data:{type:Object,default:function(){return{}}},canSelect:{type:Boolean,default:!1},value:{type:[Array,String],default:function(){return""}},hasGroup:{type:Boolean,default:!0}},setup:function(t,e){var i=e.root,a=e.emit,o=Object(m["d"])().proxy,n=Object(m["p"])(t),s=n.canSelect,l=n.data,c=n.value,u=function(){s.value},d=function(){if(s.value){if(Array.isArray(c.value)){var t=[];c.value.includes(l.value.idstr)?t=c.value.filter((function(t){return t!==l.value.idstr})):(t=Object.assign([],c.value),t.push(l.value.idstr)),a("input",t)}}else i.$router.push({name:"profile",params:{id:l.value.idstr}})},h=se(t,{root:i,emit:a,vm:o});return Object(r["a"])({getVerifiedIcon:G["c"],triggerCheck:u,contentClick:d},h)},components:{FollowPop:z["a"],IconVip:ne["a"]}},le=re,ce=i("d5ec");function ue(t){this["$style"]=ce["default"].locals||ce["default"]}var de=Object(b["a"])(le,ae,oe,!1,ue,null,null),he=de.exports,pe={model:{prop:"checkedList",event:"checked-change"},props:{batchVisible:{type:Boolean,default:!1},data:{type:Array,default:function(){return[]}},isLoading:{type:Boolean,default:!1},isEmpty:{type:Boolean,default:!1},isNoData:{type:Boolean,default:!1},checkedList:{type:Array,default:function(){return[]}},noDataText:String},setup:function(t,e){var i=e.emit,a=function(t){i("loadMoreData",t)},o=Object(m["p"])(t),n=o.checkedList;return Object(m["s"])(n,(function(t){i("checked-change",t)})),{loadMoreData:a,checkedList:n}},components:{UserFeedCard:he,Scroll:R["a"]}},fe=pe,me=Object(b["a"])(fe,ee,ie,!1,null,null,null),ve=me.exports,_e=i("d4dd"),ge=i("b047"),be=i.n(ge),ye={name:"FollowContent",setup:function(t,e){var i=e.root,a="没有更多内容了",o=Object(m["n"])(a),n=!1,s=Object(m["n"])([]),l=Object(m["n"])(!1),c=Object(m["n"])("全部关注"),u=Object(m["n"])(!1),d=Object(m["n"])(""),h=Object(m["n"])(!1),p=Object(m["n"])(!1),f=Object(m["n"])([]);Object(m["s"])(f,(function(t,e){t.length>20&&(i.$_w_toast({type:"warn",message:"每次最多可选择20人"}),f.value=e)}));var v=function(){i.$router.push({name:"followGroup",params:{id:i.$route.params.id}})},_=function(){i.$http.get("/ajax/profile/getSwitch",{params:{type:"myFollowBatch"}}).then((function(t){t.data.ok>0&&(l.value=t.data.myFollowBatch)}))},g=Object(m["n"])({}),b=Object(m["n"])(!0),y=Object(m["n"])(!1),w=Object(m["n"])(!1),x=Object(m["n"])(!1),k=Object(m["n"])(!1),$=Object(m["m"])({page:1,next_cursor:""}),C=Object(m["m"])({}),O=function(){p.value=!1},j=function(t){i.$http.get("/ajax/profile/followContent",{params:t}).then((function(t){if(t.data.ok>0){var e=t.data.data;if(e.specialAttention&&(s.value=e.specialAttention),e.total_number&&(c.value="全部关注（".concat(e.total_number,"）")),e.follows){if(!n&&e.follows.has_filtered_attentions&&(n=!0),g.value=Object(r["a"])(Object(r["a"])({},e.follows),{},{users:[].concat(Object(ut["a"])(g.value.users||[]),Object(ut["a"])(e.follows.users))}),$.next_cursor=g.value.next_cursor,0===g.value.users.length&&(1===$.page&&0==e.follows.users.length||0==e.follows.users.length&&0===e.follows.previous_cursor))return w.value=!0,void(b.value=!1);if("timeDown"!==d.value||e.follows.next_cursor||e.follows.since_id||(o.value="此处仅展示近7天有发博的账号"),n&&(o.value="因疑似包含异常账号、触发博主自保护策略，部分账号暂不展示"),0===+e.follows.next_cursor||!e.follows.next_cursor)return b.value=!1,void(y.value=!0)}}}))},T=function(t){d.value=t,h.value=!1},D=function(){o.value=a,n=!1,$.page=1,$.next_cursor="",g.value={},b.value=!0,y.value=!1,w.value=!1,C=Object(m["m"])({}),x.value=!1,k.value=!1};Object(m["s"])(d,(function(t){D(),j(Object(r["a"])({sortType:d.value},$))}));var S=function(){u.value=!u.value,f.value=[],u.value||(D(),j(Object(r["a"])({sortType:d.value},$)))},I=function(){var t={};"timeDown"!==d.value&&($.page+=1),x.value&&(t.sortType="search",t.q=C.q),k.value&&(t.sortType="filter",t.filter_code=C.filter_code,t.begin_time=C.begin_time,t.end_time=C.end_time),j(Object(r["a"])(Object(r["a"])({sortType:d.value},$),t))},L=Object(m["n"])(""),B=be()((function(t){j(t)}),500);Object(m["s"])(L,(function(t){var e={};t?(x.value=!0,e={sortType:"search",q:t}):(x.value=!1,e=Object(r["a"])({sortType:d.value},$)),D(),B(e)}));var P=function(){i.$_w_dialog({type:"confirm",message:"确定取消关注吗？",action:function(){i.$http.post("/ajax/profile/destroyBatch",{uids:f.value.join(",")}).then((function(t){t.data.ok>0&&(i.$_w_toast({type:"success",message:"操作成功"}),g.value.users=g.value.users.filter((function(t){return!f.value.includes(t.idstr)})),f.value=[])}))}})},A=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};D(),t?(k.value=!0,C=Object(m["m"])(Object(r["a"])(Object(r["a"])({},C),{},{filter_code:t},e)),j(Object(r["a"])(Object(r["a"])({sortType:"filter",filter_code:t},$),e))):j(Object(r["a"])({sortType:d.value},$))};Object(m["h"])((function(){_(),j({sortType:"all"})}));var E=function(t){i.$router.push({name:"followGroup",params:{id:i.$route.params.id},query:{tabid:t}})},M=function(t){p.value=!0,f.value=[t]};return{handleAfterSetGroup:O,handleSetGroup:M,handleCheckMore:E,handleAngleRightClick:v,specialAtttention:s,batchVisible:u,modalVisible:p,changeBatchVisible:S,follows:g,isLoading:b,isNoData:y,isEmpty:w,loadMoreData:I,sortType:d,changeSortType:T,sortPopVisible:h,groupCheckedList:f,searchContent:L,destroyBatch:P,handleFilterChange:A,title:c,batchOperate:l,noDataText:o}},components:{ListTitle:gt,UserFeed:ve,UserList:te,UserFilter:Ft,GroupModal:_e["a"]}},we=ye,xe=i("6b32");function ke(t){this["$style"]=xe["default"].locals||xe["default"]}var $e=Object(b["a"])(we,lt,ct,!1,ke,null,null),Ce=$e.exports,Oe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._l(t.followCardData,(function(e,a){return i("Card",{key:a},[i("woo-box",{class:t.$style.tit,attrs:{align:"center",justify:"between"}},[i("h3",{class:[t.$style.th3,t.$style.f14,t.$style.cla]},[t._v(" "+t._s(e.name)+" ")])]),i("woo-divider"),i("div",t._l(e.list,(function(e,a){return i("div",{key:a},[i("TopicFeedCard",{attrs:{data:e},on:{"after-destroy":t.handleFixedAfterDestroy}}),i("woo-divider",{class:t.$style.line})],1)})),0)],1)})),i("Card",[i("woo-box",{class:t.$style.tit,attrs:{align:"center",justify:"between"}},[i("h3",{class:[t.$style.th3,t.$style.f14,t.$style.cla]},[t._v(" "+t._s(t.feedTitle)+" ")])]),i("woo-divider"),i("div",[i("Scroll",{attrs:{data:t.feedCardData,isLoading:t.isLoading,isNoData:t.isNoData,isEmpty:t.isEmpty,pageMode:!0,keyField:"index",skeleton:""},on:{loadMoreData:t.loadMoreData},scopedSlots:t._u([{key:"content",fn:function(e){var a=e.item,o=e.index;return[i("TopicFeedCard",{key:o,attrs:{data:a,pageType:t.pageType},on:{"after-destroy":t.handleAfterDestroy}})]}}])})],1)],1)],2)},je=[],Te=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{class:t.$style.topicFeedCard},[i("woo-box",{class:t.$style.item,attrs:{align:"center"}},[i("a-link",{class:t.$style.left,attrs:{"link-type":"old","style-type":"none",href:t.data.link},on:{click:function(e){return e.preventDefault(),t.goLink(t.data.link,t.data.linkType)}}},[i("woo-picture",{class:t.$style.pic,attrs:{src:t.data.pic,alt:"等比图",width:"50"}}),i("woo-box-item",{class:[t.$style.con,t.$style.f12],attrs:{align:"center"}},[i("div",{class:[t.$style.cla,t.$style.fb,t.$style.cut]},[t._v(" "+t._s(t.data.title)+" ")]),i("div",{class:[t.$style.clb,t.$style.cut]},[t._v(" "+t._s(t.data.content1)+" ")]),i("div",{class:t.$style.clb},[t._v(t._s(t.data.content2))])])],1),i("div",{class:t.$style.right},[i("FollowBtn",{attrs:{following:t.following,clickFoAction:!1},on:{click:function(e){return t.handleClickFoBtn("feed")}}})],1)],1)],1)},De=[];function Se(t,e){var i=t.root,a=t.emit,o=Object(m["p"])(e),n=o.data,s=o.pageType,r=Object(m["n"])(!0),l=function(){i.$_w_dialog({type:"confirm",message:"确定取消关注吗？",action:function(){var t=n.value.oid||n.value.idstr;i.$http.post("/ajax/profile/destroyPage",{oid:t,pageType:s.value}).then((function(t){t.data.ok>0&&t.data.data&&t.data.data.result&&a("after-destroy",n.value)}))}})};return{following:r,handleClickFoBtn:l}}var Ie={props:{data:{type:Object,default:function(){return{}}},pageType:String},setup:function(t,e){var i=e.root,a=e.emit,o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t&&("outlink"===e?window.open(t):i.$router.push({path:t}))},n=Se({root:i,emit:a},t);return Object(r["a"])({goLink:o},n)}},Le=Ie,Be=i("9e42");function Pe(t){this["$style"]=Be["default"].locals||Be["default"]}var Ae=Object(b["a"])(Le,Te,De,!1,Pe,null,null),Ee=Ae.exports;function Me(t){var e=Object(m["n"])([]),i=Object(m["n"])(""),a=Object(m["n"])([]),o=Object(m["n"])(!0),n=Object(m["n"])(!1),s=Object(m["n"])(!1),l=Object(m["n"])(""),c=Object(m["m"])({page:1}),u=function(c){t.$http.get("/ajax/profile/topicContent",{params:Object(r["a"])({tabid:t.$route.params.tabid},c)}).then((function(t){if(t.data.ok>0){var c=t.data.data,u=c.fixedData,d=c.name,h=c.list,p=(c.total_number,c.next_cursor),f=c.pageType,m=void 0===f?"":f;if(l.value=m,u&&Array.isArray(u)&&(a.value=u.filter((function(t){return t.list&&t.list.length}))),i.value=d,e.value=[].concat(Object(ut["a"])(e.value),Object(ut["a"])(h)).map((function(t,e){return Object(r["a"])(Object(r["a"])({},t),{},{index:e})})),0===e.value.length&&0===h.length)return o.value=!1,void(s.value=!0);0!==p&&0!==h.length||(o.value=!1,n.value=!0)}}))},d=function(t){a.value.forEach((function(e,i){a.value[i].list=e.list.filter((function(e){return t.oid&&e.oid?e.oid!==t.oid:!(!t.idstr||!e.idstr)&&e.idstr!==t.idstr}))}))},h=function(t){e.value=e.value.filter((function(e){return t.oid&&e.oid?e.oid!==t.oid:!(!t.idstr||!e.idstr)&&e.idstr!==t.idstr})),0===e.value.length&&(s.value=!0)},p=function(){c.page+=1,u(c)};return Object(m["h"])((function(){u()})),{followCardData:a,feedTitle:i,feedCardData:e,isLoading:o,isNoData:n,isEmpty:s,loadMoreData:p,handleFixedAfterDestroy:d,handleAfterDestroy:h}}var Fe={name:"FollowCard",setup:function(t,e){var i=e.root,a=Me(i);return Object(r["a"])({},a)},components:{TopicFeedCard:Ee,Scroll:R["a"]}},Re=Fe,Ve=i("55dc");function Ne(t){this["$style"]=Ve["default"].locals||Ve["default"]}var He=Object(b["a"])(Re,Oe,je,!1,Ne,null,null),ze=He.exports,Ue=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.cardData.length?t._e():i("Scroll",{attrs:{skeleton:"",data:[],isEmpty:t.isEmpty}}),i("Card",[t.cardData.length?i("div",[i("woo-box",{class:t.$style.stit,attrs:{align:"center",justify:"between"}},[t.isEditing?i("woo-box",{attrs:{align:"center"}},[i("woo-button",{class:t.$style.stbtn,attrs:{sort:"line",kind:"default",size:"s"},on:{click:t.changeStatus}},[t._v(" 取消管理 ")]),i("woo-button",{class:t.$style.stbtn,attrs:{sort:"line",kind:"default",size:"s"},on:{click:t.handleSelectAll}},[t._v(" "+t._s(t.selectedAll.length===t.selected.length&&0!==t.selectedAll.length?"取消全选":"全选")+" ")]),i("woo-button",{class:t.$style.stbtn,attrs:{sort:"line",kind:"default",size:"s",disabled:!t.canDelete},on:{click:t.handleDelete}},[t._v(" 删除 ")])],1):i("woo-box",{attrs:{align:"center"}},[i("woo-button",{class:t.$style.stbtn,attrs:{sort:"line",kind:"default",size:"s",fonticon:"manage"},on:{click:t.changeStatus}},[t._v(" 管理 ")])],1),i("div",{class:[t.$style.f12,t.$style.clb]},[t._v(" 此功能当前仅对部分用户开放，微博会员可优先体验 ")])],1)],1):t._e(),i("woo-divider"),t.cardData.length?i("div",t._l(t.cardData,(function(e,a){return i("div",{key:a},["block"===e.type?i("div",[i("ListTitle",{attrs:{useAngleRight:!1,title:e.title}}),i("woo-divider"),t._l(e.list,(function(a,o){return i("div",{key:o},[i("OftenVisitedCard",{attrs:{data:a,editable:t.isEditing},on:{"set-group":t.handleSetGroup},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),o!==e.list.length-1?i("woo-divider",{class:t.$style.line}):t._e()],1)}))],2):t._e(),i("woo-divider"),"list"===e.type?i("Record",{attrs:{data:e,editable:t.isEditing},on:{"set-group":t.handleSetGroup},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}):t._e()],1)})),0):t._e()],1),i("GroupModal",{attrs:{visible:t.modalVisible,type:"set",selected:t.groupCheckedList},on:{"update:visible":function(e){t.modalVisible=e},"after-set-group":t.handleAfterSetGroup}})],1)},Ge=[],qe=i("ade3"),We=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("UserFeedCard",t._g({attrs:{data:t.data.user,canSelect:t.editable},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t.$listeners)),t.data.recom?i("RecomModule",{attrs:{data:t.data.recom}}):t._e()],1)},Qe=[],Je=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.conin1},[i("h4",{class:[t.$style.th4,t.$style.f12,t.$style.clb]},[t._v(t._s(t.data.item_name))]),i("woo-box",{class:t.$style.in1box1,attrs:{old:""}},[t._l(t.data.users,(function(e,a){return i("woo-box-item",{key:a},[i("woo-avatar",{class:t.$style.in1item,attrs:{usercard:e.id,src:e.avatar_large}})],1)})),i("woo-box-item",[i("woo-box",{class:t.$style.in1opt,attrs:{align:"center",justify:"center"}},[i("woo-box",{class:t.$style.opt,attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){t.isUnfold=!t.isUnfold}}},[i("woo-fonticon",{attrs:{value:t.unfoldIconValue,title:t.unfoldIconTitle}})],1)],1)],1)],2),t.isUnfold?i("woo-box",{class:t.$style.conin2,attrs:{align:"center"}},[i("woo-box-item",{class:t.$style.cutout,attrs:{align:"center"}},[i("woo-box",{class:t.$style.in2box,attrs:{old:""}},t._l(t.recomData.slice(4*(t.page-1),4*t.page),(function(e,a){return i("woo-box-item",{key:a},[i("Card",{attrs:{bottomGap:!1}},[i("woo-box",{class:t.$style.in2item,attrs:{direction:"y",align:"center",justify:"center"}},[i("woo-avatar",{attrs:{usercard:e.id,size:50,verified:t.getVerifiedIcon(e),src:e.avatar_hd},nativeOn:{click:function(i){return t.$router.push({name:"profile",params:{id:e.id},query:{tabtype:"feed"}})}}}),i("div",{class:t.$style.in2text},[i("div",{class:[t.$style.cut,t.$style.f12,t.$style.fb,t.$style.cla],attrs:{usercard:e.id}},[t._v(" "+t._s(e.screen_name)+" ")]),i("div",{class:[t.$style.cut,t.$style.f12,t.$style.clb]},[t._v(" "+t._s(e.content1)+" ")])]),i("FollowBtn",{attrs:{uid:e.id,cardid:e.itemid}})],1)],1)],1)})),1)],1),t.page<t.pageCount?i("woo-box",{class:t.$style.opt,attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"angleRight",title:"向右"},nativeOn:{click:function(e){return t.next(e)}}})],1):t._e()],1):t._e()],1)},Ke=[];function Ye(t,e){var i=Object(m["p"])(t),a=i.data,o=Object(m["n"])(!1),n=Object(m["a"])((function(){return o.value?"angleUp":"angleDown"})),s=Object(m["a"])((function(){return o.value?"收起":"展开"})),r=Object(m["n"])([]),l=Object(m["n"])(1),c=Object(m["n"])(1),u=function(){l.value!==c.value&&(l.value+=1)},d=function(){1!==l.value&&(l.value-=1)};return Object(m["s"])(o,(function(t){t&&0===r.value.length&&e.$http.get("/ajax/profile/getRecenltyRecom",{params:{uid:a.value.uid,type:a.value.type}}).then((function(t){t.data.ok>0&&(r.value=t.data.data,c.value=Math.ceil(t.data.data.length/4))}))})),{recomData:r,isUnfold:o,unfoldIconValue:n,unfoldIconTitle:s,getVerifiedIcon:G["c"],next:u,prev:d,page:l,pageCount:c}}var Xe={props:{data:{type:Object,default:function(){return{}}}},setup:function(t,e){var i=e.root,a=Ye(t,i);return Object(r["a"])({},a)}},Ze=Xe,ti=i("ca78");function ei(t){this["$style"]=ti["default"].locals||ti["default"]}var ii=Object(b["a"])(Ze,Je,Ke,!1,ei,null,null),ai=ii.exports,oi={props:{data:{type:Object,default:function(){return{user:{},recom:{}}}},editable:{type:Boolean,default:!1},value:{type:Array,default:function(){return[]}}},setup:function(t,e){var i=e.emit,a=Object(m["p"])(t),o=a.value;return Object(m["s"])(o,(function(t){i("input",t)})),{}},components:{UserFeedCard:he,RecomModule:ai}},ni=oi,si=Object(b["a"])(ni,We,Qe,!1,null,null,null),ri=si.exports,li=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.data.list.length?i("div",[i("woo-box",{class:t.$style.tit,attrs:{align:"center",justify:"between"}},[i("h3",{class:[t.$style.th3,t.$style.f14,t.$style.cla]},[t._v(" "+t._s(t.data.title)+" ")])]),i("div",t._l(t.data.list.filter((function(t){return t.list&&t.list.length})),(function(e,a){return i("div",{key:a,class:t.$style.con2item},[i("woo-divider",{class:t.$style.con2line}),i("h4",{class:[t.$style.th4,t.$style.f12,t.$style.clb]},[t._v(t._s(e.title))]),t._l(e.list,(function(e,a){return i("div",{key:a,class:t.$style.wrap},[i("UserFeedCard",t._g({attrs:{data:e,canSelect:t.editable},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t.$listeners)),i("woo-divider",{class:t.$style.line})],1)}))],2)})),0)],1):t._e()},ci=[],ui={props:{data:{type:Object,default:function(){return{}}},value:{type:Array,default:function(){return[]}},editable:{type:Boolean,default:!1}},setup:function(t,e){var i=e.emit,a=Object(m["p"])(t),o=a.value;return Object(m["s"])(o,(function(t){i("input",t)})),{}},components:{UserFeedCard:he}},di=ui,hi=i("1732");function pi(t){this["$style"]=hi["default"].locals||hi["default"]}var fi=Object(b["a"])(di,li,ci,!1,pi,null,null),mi=fi.exports;function vi(){var t,e=Object(m["n"])(!1),i=Object(m["n"])([]),a=function(){e.value=!1,i.value=[]},o=function(t){e.value=!0,i.value=[t]};return t={modalVisible:e,handleAfterSetGroup:a},Object(qe["a"])(t,"modalVisible",e),Object(qe["a"])(t,"handleSetGroup",o),Object(qe["a"])(t,"groupCheckedList",i),t}function _i(){var t=Object(m["n"])([]),e=Object(m["n"])(!1);return{cardData:t,isEmpty:e}}function gi(t,e){var i=Object(m["n"])(!1),a=Object(m["n"])(!1),o=Object(m["n"])(!1),n=Object(m["n"])([]),s=Object(m["n"])([]),r=function(){a.value=!a.value,a.value||(n.value=[])};Object(m["s"])(n,(function(t){o.value=t.length}));var l=function(){t.$_w_dialog({type:"confirm",message:"确定删除？",action:function(){t.$http.post("/ajax/profile/deleteRecentlyVisited",{uids:n.value.join(",")}).then((function(i){if(i.data.ok>0&&i.data.data&&i.data.data.result)e.value.forEach((function(t,i){"block"===t.type&&(e.value[i].list=e.value[i].list.filter((function(t){return-1===n.value.indexOf(t.user&&t.user.idstr)}))),"list"===t.type&&t.list.forEach((function(t,a){e.value[i].list[a].list=e.value[i].list[a].list.filter((function(t){return-1===n.value.indexOf(t.idstr)}))}))})),n.value=[],t.$_w_toast({type:"success",message:"操作成功"});else{var a=i.data,o=a.error_code,s=a.message,r=a.btnConfirm,l=a.target_url;20577===o?t.$_w_dialog({type:"confirm",message:s,btnConfirm:r,action:function(){window.open(l)}}):t.$_w_toast({type:"error",message:"删除失败"})}}))}})},c=function(){s.value=[],e.value.forEach((function(t){"block"===t.type&&t.list.forEach((function(t){-1===s.value.indexOf(t.user.idstr)&&s.value.push(t.user.idstr)})),"list"===t.type&&t.list.forEach((function(t){t.list.forEach((function(t){-1===s.value.indexOf(t.idstr)&&s.value.push(t.idstr)}))}))})),s.value.length===n.value.length?n.value=[]:n.value=s.value};return{canEdit:i,isEditing:a,changeStatus:r,selected:n,canDelete:o,handleDelete:l,handleSelectAll:c,selectedAll:s}}var bi={name:"OftenVisited",setup:function(t,e){var i=e.root,a=_i(),o=a.cardData,n=a.isEmpty,s=gi(i,o),l=vi(),c=function(){i.$http.get("/ajax/profile/topicContent",{params:{tabid:i.$route.params.tabid}}).then((function(t){t.data.ok>0&&(o.value=t.data.data.data||[],0===o.value.length&&(n.value=!0))}))};return Object(m["h"])((function(){c()})),Object(r["a"])(Object(r["a"])({cardData:o,isEmpty:n},s),l)},components:{ListTitle:gt,OftenVisitedCard:ri,Scroll:R["a"],Record:mi,GroupModal:_e["a"]}},yi=bi,wi=i("c366");function xi(t){this["$style"]=wi["default"].locals||wi["default"]}var ki=Object(b["a"])(yi,Ue,Ge,!1,xi,null,null),$i=ki.exports,Ci={name:"FollowsList",setup:function(t,e){var i=e.root,a=Object(m["d"])().proxy,o=Object(m["n"])([]),n=Object(m["n"])(0),s=Object(m["n"])(""),r=Object(m["n"])(i.$route.params.tabid),l=Object(m["n"])(!0);Object(m["s"])((function(){return i.$route.params.tabid}),(function(t){if(l.value){r.value=i.$route.params.tabid;var e=o.value.findIndex((function(t){return t.id===i.$route.params.tabid}));e<0&&(e=0),s.value=c(o.value[e].id),n.value=e}}));var c=function(t){switch(t){case"231093_-_selffollowed":return"FollowContent";case"231093_-_recently":return"OftenVisited";default:return"FollowCard"}},u=function(t,e){n.value=e,s.value=c(t.id),a.$router.push({name:"myFollowTab",params:{tabid:t.id}})},d=function(){a.$http.get("/ajax/profile/tablist").then((function(t){if(t.data.ok>0){o.value=t.data.data.list||[];var e=o.value.findIndex((function(t){return t.id===a.$route.params.tabid}));-1===e&&(e=0),n.value=e,s.value=c(o.value[e].id)}}))};return Object(m["g"])((function(){l.value=!0})),Object(m["j"])((function(){l.value=!1})),Object(m["h"])((function(){d()})),{tabList:o,handleChangeTab:u,newCurIndex:n,componentName:s,curTabId:r}},components:{Tab:ot["a"],FollowContent:Ce,FollowCard:ze,OftenVisited:$i}},Oi=Ci,ji=i("35e1");function Ti(t){this["$style"]=ji["default"].locals||ji["default"]}var Di=Object(b["a"])(Oi,st,rt,!1,Ti,null,null),Si=Di.exports,Ii=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.showNewFansModule||t.showTopNewFans?i("Card",[t.showNewFansModule?i("ListTitle",{class:t.$style.title,attrs:{title:t.title},on:{"angle-right-click":t.handleClick},nativeOn:{click:function(e){return t.handleClick(e)}},scopedSlots:t._u([{key:"rightText",fn:function(){return[i("div",{class:t.$style.avatars},t._l(t.newFansList,(function(e,a){return i("woo-avatar",{key:a,class:t.$style.avatar,attrs:{size:26,src:e.avatar_hd}})})),1)]},proxy:!0}],null,!1,95694288)}):t._e(),t.showNewFansModule?i("woo-divider"):t._e(),t.showTopNewFans?i("Charts",{attrs:{followersfromData:t.topNewFans}}):t._e()],1):t._e(),t.showTopFans?i("UserList",{attrs:{"show-follow-btn":"",data:t.topFans}}):t._e(),t.showFansRank?i("UserList",{attrs:{data:t.fansRank,enablePop:""},scopedSlots:t._u([{key:"popContent",fn:function(){return[i("FansRankTips")]},proxy:!0}],null,!1,1082077500)}):t._e(),i("Card",[t.firstLoad?[i("ListTitle",{attrs:{title:t.allFansTitle,"angle-type":"angleDown","angle-title":"筛选"},on:{"angle-right-click":t.handleClick},scopedSlots:t._u([{key:"right",fn:function(){return[i("woo-box",{attrs:{align:"center",justify:"center"}},[i("woo-pop",{class:t.$style.stbtn,attrs:{align:"end",gap:"10",show:t.sortPopVisible},on:{"click-outside":function(e){t.sortPopVisible=!1}},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("div",{on:{click:function(e){t.sortPopVisible=!0}}},[i("woo-button",{attrs:{sort:"simple",kind:"default",size:"s",fonticon:"angleDown",reverse:""},on:{click:function(e){t.sortPopVisible=!0}}},[t._v(" "+t._s("fansCount"===t.sortType?"粉丝数倒序":"关注时间倒序")+" ")])],1)]},proxy:!0}],null,!1,276220429)},[i("div",[i("woo-button",{class:t.$style.popBtn,attrs:{sort:"simple",kind:"fansCount"===t.sortType?"primary":"default",size:"s"},on:{click:function(e){return t.changeSortType("fansCount")}}},[t._v(" 粉丝数倒序 ")]),i("woo-button",{class:t.$style.popBtn,attrs:{sort:"simple",kind:"fansCount"===t.sortType?"default":"primary",size:"s"},on:{click:function(e){return t.changeSortType("followTime")}}},[t._v(" 关注时间倒序 ")])],1)])],1)]},proxy:!0}],null,!1,1679500090)}),i("woo-divider"),"fansCount"===t.sortType?i("div",{class:t.$style.tips},[t._v(" 排序方式：当前排序条件每天更新一次，排序结果仅供参考。 ")]):t._e()]:t._e(),i("FollowFeed",{attrs:{buffer:25,skeleton:"",foText:"回粉",showFonticon:!1,data:t.fansList,isLoading:t.isLoading,isRetry:t.isRetry,isEmpty:t.isEmpty,page:"myFans",noDataText:t.noDataText,showExtend:""},on:{loadMoreData:function(e){return t.loadMoreData("fans")},"after-remove":t.handleAfterRemove}})],2)],1)},Li=[],Bi=i("15fd"),Pi=(i("96cf"),i("1da1")),Ai=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.chartsData.week?i("div",[i("woo-box",{class:t.$style.tit,attrs:{align:"center"}},[i("woo-box-item",{class:[t.$style.f14,t.$style.cla],attrs:{align:"center"}},[i("woo-box",{attrs:{align:"center"}},[t._v(" 7日粉丝来源 "),i("span",{class:t.$style.clb},[t._v(" ("+t._s(t.chartsData.week&&t.chartsData.week.date)+") ")]),i("Tips",{attrs:{"enable-pop":""},scopedSlots:t._u([{key:"popContent",fn:function(){return[i("p",[i("span",{staticClass:"fb"},[t._v("一、粉丝来源解决什么问题？")]),i("br"),t._v(" 通过粉丝来源分析可以帮助您更好地了解粉丝是从哪些场景增加的，方便更好地运营微博。 "),i("br"),i("span",{staticClass:"fb"},[t._v("二、粉丝来源的分类")]),i("br"),t._v(" 微博推荐：是由站方分配的，根据用户的兴趣定向推荐后关注您的粉丝。我们会优先推荐长期内容优质的博主，在一个领域持续深耕能获得更多推荐，并提升粉丝粘性； "),i("br"),t._v(" 内容场景：是您近期发布的视频之外，其他类型微博内容出现在热门流、搜索流、话题等场景，获取的粉丝； "),i("br"),t._v(" 视频场景：是您近期发布的视频内容出现在热门流、搜索流、话题等场景，获得的粉丝； "),i("br"),t._v(" 个人主页：通过各种渠道前往个人主页关注您的粉丝； "),i("br"),t._v(" 兴趣推荐：是站方将您按照用户兴趣推荐后关注您的粉丝，长期深耕一个领域，更容易补获有相关兴趣的粉丝。 "),i("br"),i("span",{staticClass:"fb"},[t._v("三、粉丝来源统计规则")]),i("br"),t._v(" 昨日粉丝来源分析：当您上一个自然日内新增粉丝数量≥100时，才能生成该饼图，当新增粉丝数量<100时，则饼图不显示； "),i("br"),t._v(" 近7日粉丝来源统计：当您近7个自然日内新增粉丝数量≥100时，才能生成该饼图，当新增粉丝数量<100时，则饼图不显示。 ")])]},proxy:!0}],null,!1,3579048447)})],1)],1)],1),i("div",{staticClass:"fans-from v-module",class:t.$style.wrap},[i("div",{staticClass:"card m-panel"},[i("woo-box",{attrs:{justify:"center"}},[t.chartWeek.list.length?i("charts",{attrs:{extra:t.extra,chart:t.chartWeek}}):t._e()],1)],1),i("woo-box",{class:t.$style.ext,attrs:{justify:"end"}},[t._v(" 更多数据请前往 "),i("a",{attrs:{href:"https://m.weibo.cn/c/report",target:"_blank"}},[t._v(" 数据日报 ")]),t._v(" 查看 ")])],1)],1):t._e()},Ei=[],Mi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.enablePop?i("woo-pop",{class:t.$style.help,attrs:{show:t.showHelp,direction:"down",align:"center",gap:"10"},nativeOn:{mouseover:function(e){t.showHelp=!0},mouseout:function(e){t.showHelp=!1}},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-tip",{attrs:{type:"help",gap:"10",inline:"",reverse:""}})]},proxy:!0}],null,!1,1633441275)},[i("div",{staticClass:"wbpro-texta",style:{width:t.popWidth+"px"}},[t._t("popContent")],2)]):t._e()},Fi=[],Ri={props:{enablePop:{type:Boolean,default:!1},popWidth:{type:Number,default:400}},setup:function(t){var e=Object(m["n"])(!1);return{showHelp:e}}},Vi=Ri,Ni=i("bcd8");function Hi(t){this["$style"]=Ni["default"].locals||Ni["default"]}var zi=Object(b["a"])(Vi,Mi,Fi,!1,Hi,null,null),Ui=zi.exports,Gi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{staticClass:"chart-area",attrs:{justify:"around"}},[i("div",{staticClass:"chart"},[i("v-chart",{attrs:{options:t.options}}),i("div",{staticClass:"desc"},[i("h3",[t._v(t._s(t.chart.total))]),i("p",[t._v(t._s(t.title))])])],1),t.hideLegend?t._e():i("woo-box",{staticClass:"label",attrs:{direction:"y",justify:"end"}},t._l(t.chartArr,(function(e,a){return i("div",{key:a,staticClass:"label-chard"},[i("div",{staticClass:"square",style:"background-image: linear-gradient(-90deg,"+e.cr.join(",")+");"}),i("div",{staticClass:"name"},[t._v(t._s(e.name))])])})),0)],1)},qi=[],Wi=i("9ca8"),Qi=(i("c037"),{name:"app",data:function(){return{chartOption:{},sum:0,list_show:[],chartArr:[],colorArr:[],noBlank:!1,labelArr:[],options:{}}},methods:{initCharts:function(){this.options={series:[{name:"粉丝来源",type:"pie",radius:["72%","85%"],startAngle:180,minAngle:22,hoverAnimation:!1,label:{normal:{formatter:"{d}%",fontFamily:"PingFang-SC-Medium",fontSize:"22px",color:"#999999"}},labelLine:{normal:{show:!1,length:4,length2:2}},data:this.list_show,itemStyle:{normal:{borderColor:"#FFFFFF",borderWidth:this.noBlank?0:4}}}],color:this.colorArr}},goDetail:function(){this.btnActionLog("source"),this.$router.push({hash:"extra"})}},created:function(){for(var t=this,e=[["#B09AFF","#917AF8"],["#78DCFF","#52C0FF"],["#6BEAB5","#00CB9B"],["#FFB973","#FF8C28"],["#FFE232","#FE9007"]],i=this.chart.list.sort((function(t,e){return t.index-e.index})),a=0;a<i.length;a++){var o=i[a];this.sum+=o.value}for(var n=0,s=[],r=0;r<i.length;r++){var l=i[r];n+=l.value/this.sum,s.push(n);var c=void 0;c=r?s[r-1]:0;var u={};c<.5?(u.t1=0,u.t2=1):(u.t1=1,u.t2=0),this.chartArr[r]={name:l.name,cr:e[r]},this.labelArr[r]=l.name,this.colorArr[r]={type:"linear",x:0,y:0,x2:1,y2:1,colorStops:[{offset:0,color:e[r][u.t1]},{offset:.8,color:e[r][u.t2]}],globalCoord:!0}}Object.assign(this.list_show,i),this.list_show=this.list_show.filter((function(t){return t.value>0})),this.list_show.length<=1&&(this.noBlank=!0),this.$nextTick((function(){t.initCharts()}))},components:{"v-chart":Wi["a"]},watch:{},props:["extra","chart","title","hideLegend"]}),Ji=Qi,Ki=(i("f666"),i("2830"),Object(b["a"])(Ji,Gi,qi,!1,null,"dc4d2ab4",null)),Yi=Ki.exports,Xi={data:function(){return{showHelp1:!1}},methods:{goDetail:function(){this.$router.push({hash:"about"})}},created:function(){},props:["extra","followersfromData"],components:{charts:Yi,Tips:Ui},computed:{chartsData:function(){return this.followersfromData},chartWeek:function(){var t=this.chartsData.week,e={};e.total=t.daily||t.total||0;var i=[];for(var a in t.each_source){var o=t.each_source[a];switch(a){case"recommend":i.push({name:"微博推荐",value:o,index:1});break;case"register":i.push({name:"兴趣推荐",value:o,index:4});break;case"content":i.push({name:"个人主页",value:o,index:3});break;case"profile":i.push({name:"内容场景",value:o,index:2});break;case"video":i.push({name:"视频场景",value:o,index:5});break}}return e.list=i,e}},watch:{}},Zi=Xi,ta=i("436c");function ea(t){this["$style"]=ta["default"].locals||ta["default"]}var ia=Object(b["a"])(Zi,Ai,Ei,!1,ea,null,null),aa=ia.exports,oa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.data.list&&t.data.list.length?i("Card",[i("div",{class:t.$style.list1},[i("woo-box",{class:t.$style.tit,attrs:{justify:"between",align:"center"}},[i("woo-box",{attrs:{align:"center"}},[i("div",[t._v(t._s(t.data.title))]),i("tips",{attrs:{"enable-pop":t.enablePop,"pop-width":600},scopedSlots:t._u([{key:"popContent",fn:function(){return[t._t("popContent")]},proxy:!0}],null,!0)})],1),i("woo-box",{class:t.$style.rightIcon,attrs:{align:"center"},nativeOn:{click:function(e){return t.chackMore(t.data)}}},[t._v(" 全部"),i("woo-fonticon",{class:t.$style.icon2,attrs:{value:"angleRight"}})],1)],1),i("woo-divider"),i("woo-box",{class:t.$style.list2,attrs:{justify:"start"}},t._l(t.data.list.slice(0,6),(function(e,a){return i("woo-box-item",{key:a,attrs:{grow:0,basis:"16.7%"}},[i("woo-box",{attrs:{direction:"y",align:"center"}},[i("woo-avatar",{class:t.$style.avatar,attrs:{size:40,src:e.avatar_hd,verified:t.getVerifiedIcon(e),usercard:e.id},nativeOn:{click:function(i){return t.goProfile(e.id)}}}),i("div",{staticClass:"wbpro-textcut",class:t.$style.h3,attrs:{usercard:e.id}},[t._v(" "+t._s(e.screen_name)+" ")]),i("div",{class:t.$style.h4},[t._v(t._s(e.title))]),t.showFollowBtn?i("FollowBtn",{class:t.$style.followBtn,attrs:{foText:"回粉",showFonticon:!1,following:e.following,uid:e.idstr,doFoAction:!0,foToast:!0,followedBy:e.follow_me,canUnfollow:""}}):t._e()],1)],1)})),1)],1)]):t._e()},na=[],sa={props:{data:{type:Object,default:function(){return{}}},showFollowBtn:{type:Boolean,default:!1},enablePop:{type:Boolean,default:!1}},data:function(){return{showHelp:!1}},methods:{getVerifiedIcon:G["c"],goProfile:function(t){this.$router.push({name:"profile",params:{id:t}})},chackMore:function(t){this.$router.push({name:"fansDetail",query:{type:t.type}})}},components:{Tips:Ui}},ra=sa,la=i("0fec");function ca(t){this["$style"]=la["default"].locals||la["default"]}var ua=Object(b["a"])(ra,oa,na,!1,ca,null,null),da=ua.exports,ha=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},pa=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("span",{staticClass:"fb"},[t._v("什么是粉丝互动")]),i("br"),t._v(" 微博为更好的体现博主对粉丝的影响力以及粉丝的互动排名情况，统一用“互动数”作为衡量指标。下面解答一下相关疑问~ "),i("br"),i("span",{staticClass:"fb"},[t._v("1. 什么是互动数？")]),i("br"),t._v(" 互动数是用户对博主互动行为的一个统计指标，包含对博主发布的内容的互动、以及在粉丝群内的发言。系统会记录每个用户对博主贡献的互动数。 "),i("br"),i("span",{staticClass:"fb"},[t._v("2. 互动数计算规则是什么？")]),i("br"),t._v(" a)用户对博主发布的内容（包括微博、评论、微博故事）产生的互动行为（包括转发、评论微博、赞微博、回复评论、赞评论）等都可以获得互动数得分，包含PC和移动的互动行为； "),i("br"),t._v(" b)用户在博主粉丝群内的发言；（注：粉丝数10万以上的博主可开通粉丝群） "),i("br"),t._v(" c)粉丝产生的互动数双倍记分，每个粉丝对博主发布的每条内容的重复互动、或每天在博主粉丝群的重复发言只记一次； "),i("br"),t._v(" d)当系统检测到用户有异常互动行为，这些互动将不会计算互动数。 "),i("br"),i("span",{staticClass:"fb"},[t._v("3. 粉丝互动榜是如何排序的？")]),i("br"),t._v(" a)粉丝互动榜是实时根据粉丝们所贡献的“互动数”大小，从高到低排序的； "),i("br"),t._v(" b)前1000名的粉丝会进入“粉丝互动榜”，如果你对博主的互动数没有达到前1000名，系统会显示“未进榜”； "),i("br"),t._v(" c)互动榜按自然月累计计分，每个月的1号0点会清零。 "),i("br"),i("span",{staticClass:"fb"},[t._v("4.在哪里能查看粉丝互动数？")]),i("br"),t._v(" 目前榜单仅在微博手机客户端可以查看： "),i("br"),t._v(" a)在我 - 粉丝 - 粉丝互动榜查看“我”的粉丝互动榜； "),i("br"),t._v(" b)在博主的个人主页 - 粉丝查看博主的粉丝互动榜； "),i("br"),t._v(" c)在博主的个人主页 - 主页签 - 影响力 - 查看更多，可浏览我与博主的互动数。 "),i("br"),i("span",{staticClass:"fb"},[t._v("5. 粉丝互动榜有什么用处？")]),i("br"),t._v(" a)对博主来说，在进行回馈粉丝的活动时，可优先考虑粉丝互动榜中排名比较靠前的核心粉丝； "),i("br"),t._v(" b)对粉丝来说，可通过提高自身排名，获得博主关注，并获得在粉丝中的影响力。 "),i("br"),i("span",{staticClass:"fb"},[t._v("6. 怎么提高粉丝互动榜排名？")]),i("br"),t._v(" 粉丝可根据互动数计算规则，对博主发布的内容增加转发、评论、赞、回复评论、赞评论，同时增加在粉丝群的发言，提高自身在粉丝互动榜中的排名。 ")])}],fa={},ma=fa,va=Object(b["a"])(ma,ha,pa,!1,null,null,null),_a=va.exports,ga=i("8d7e"),ba=20;function ya(t,e){var i=Object(m["p"])(e),a=i.title,o=i.list,n=Object(ga["b"])(["unread"]),s=n.unread,r=Object(m["n"])(s.value.follower),l=function(){t.$router.push({name:"fansDetail",query:{type:"new_follows",count:r.value}})};return{handleClick:l,showNewFansModule:r,title:a,newFansList:o}}function wa(){var t=Object(m["n"])({}),e=Object(m["a"])((function(){return Object.keys(t.value).length}));return{topNewFans:t,showTopNewFans:e}}function xa(){var t=Object(m["n"])({}),e=Object(m["a"])((function(){return Object.keys(t.value).length}));return{topFans:t,showTopFans:e}}function ka(){var t=Object(m["n"])({}),e=Object(m["a"])((function(){return Object.keys(t.value).length}));return{fansRank:t,showFansRank:e}}function $a(t){var e=Object(ga["b"])(["unread"]),i=e.unread,a=function(){t.$http.post("/ajax/message/remind",{type:"follower",value:0}).then((function(e){e.data.ok>0&&e.data.data.result&&t.$store.commit("updateUnread",Object(r["a"])(Object(r["a"])({},i.value),{},{follower:0}))}))};return Object(m["h"])((function(){i.value.follower&&a()})),{}}function Ca(){var t=Object(m["n"])(!1),e=Object(m["n"])(!1),i=Object(m["a"])((function(){return t.value||e.value})),a=Object(m["a"])((function(){return t.value?"智能反垃圾系统自动沉底了部分低质量用户，":e.value?"智能反垃圾系统自动清除了部分低质量用户，":""}));return{sinkStragety:t,filteredFans:e,showTips:i,tipsText:a}}function Oa(t,e,i){var a=Object(ga["b"])(["config"]),o=a.config,n=Object(m["n"])(!1),s=Object(m["n"])(!1),r=Object(m["n"])("fansCount"),l=Object(m["n"])(0),c=Object(m["n"])(0),u=Object(m["a"])((function(){return"全部粉丝（".concat(c.value||o.value.user.followers_count,"）")})),d=Object(m["n"])([]),h=Object(m["n"])(!0),p=Object(m["n"])(!1),f=Object(m["n"])(!1),v=Object(m["n"])(!1),_=new Set,g=Object(m["a"])((function(){return l.value>2e3?"因平台策略限制，部分账号暂不展示":i.value?"因疑似包含异常账号、触发博主自保护策略，部分账号暂不展示":"没有更多内容了"})),b=Object(m["n"])(2),y=function(t){r.value=t,s.value=!1,w(),x()},w=function(){d.value=[],h.value=!0,p.value=!1,f.value=!1,v.value=!1,_=new Set,l.value=0,b.value=1,e.value=!1,i.value=!1},x=function(){var a=Object(Pi["a"])(regeneratorRuntime.mark((function a(){var o,n,s,u,m,g,y,w,x,k;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return p.value&&(h.value=!0,p.value=!1),a.next=3,t({page:b.value,type:"fans",fansSortType:r.value}).catch((function(){p.value=!0,h.value=!1}));case 3:if(o=a.sent,o){a.next=8;break}return p.value=!0,h.value=!1,a.abrupt("return");case 8:if(n=o.users,s=void 0===n?[]:n,u=o.use_sink_stragety,m=o.has_filtered_fans,g=o.next_page,y=o.next_cursor,w=o.display_total_number,x=o.followers_count,c.value=x,l.value=w,"fansCount"===r.value?b.value=g:b.value+=1,e&&u&&(e.value=u),i&&m&&(i.value=m),k=[],s.forEach((function(t){_.has(t.id)||(k.push(t),_.add(t.id))})),d.value=d.value.concat(k),0!==s.length||0!==d.value.length||0!==k.length){a.next=21;break}return h.value=!1,f.value=!0,a.abrupt("return");case 21:if("fansCount"!==r.value){a.next=28;break}if(0!==g||0!==s.length){a.next=26;break}return h.value=!1,v.value=!0,a.abrupt("return");case 26:a.next=32;break;case 28:if(0!==y||0!==s.length){a.next=32;break}return h.value=!1,v.value=!0,a.abrupt("return");case 32:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),k=function(t){d.value=d.value.filter((function(e){return e.idstr!==t.idstr}))},$=function(){x()};return{sortPopVisible:s,sortType:r,changeSortType:y,allFansTitle:u,isLoading:h,isRetry:p,isEmpty:f,fansList:d,displayTotalNumber:l,loadMoreData:$,fansSet:_,noDataText:g,handleAfterRemove:k,page:b,firstLoad:n,isNoData:v}}var ja={props:{newFans:{type:Array,default:function(){return[]}}},setup:function(t,e){var i=e.root,a=Object(ga["b"])(["unread"]),o=a.unread,n=Object(m["m"])({title:"",list:[]}),s=function(t){return new Promise(function(){var e=Object(Pi["a"])(regeneratorRuntime.mark((function e(a,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i.$http.get("/ajax/friendships/friends",{params:Object(r["a"])({uid:i.$route.params.id,relate:"fans",newFollowerCount:o.value.follower,count:ba},t)}).then((function(t){t.data.ok>0?a(t.data):n()})).catch((function(){n()}));case 1:case"end":return e.stop()}}),e)})));return function(t,i){return e.apply(this,arguments)}}())},l=ya(i,n),c=wa(),u=c.topNewFans,d=Object(Bi["a"])(c,["topNewFans"]),h=xa(),p=h.topFans,f=Object(Bi["a"])(h,["topFans"]),v=ka(),_=v.fansRank,g=Object(Bi["a"])(v,["fansRank"]),b=Ca(),y=Oa(s,b.sinkStragety,b.filteredFans),w=y.fansList,x=y.displayTotalNumber,k=y.fansSet,$=y.page,C=y.firstLoad,O=y.sortType,j=Object(Bi["a"])(y,["fansList","displayTotalNumber","fansSet","page","firstLoad","sortType"]);return $a(i),Object(m["h"])(Object(Pi["a"])(regeneratorRuntime.mark((function t(){var e,i,a,o,r,l,c,d,h,f,m,v,g,b,y,j,T;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s({fansSortType:O.value});case 2:e=t.sent,i=e.new_follows,a=void 0===i?{}:i,o=e.top_newfans,r=void 0===o?{}:o,l=e.top_follows,c=void 0===l?{}:l,d=e.fans_rank,h=void 0===d?{}:d,f=e.users,m=void 0===f?[]:f,v=e.display_total_number,g=void 0===v?0:v,b=e.next_page,y=void 0===b?1:b,j=e.has_filtered_fans,void 0!==j&&j,T=e.use_sink_stragety,void 0!==T&&T,C.value=!0,n.title=a.title,n.list=a.list,u.value=r,p.value=c,_.value=h,m.forEach((function(t){k.has(t.id)||k.add(t.id)})),w.value=m,x.value=g,$.value=y;case 31:case"end":return t.stop()}}),t)})))),Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({},b),l),{},{topNewFans:u,topFans:p,fansRank:_,fansList:w,firstLoad:C,sortType:O,displayTotalNumber:x},d),f),g),j)},components:{ListTitle:gt,Charts:aa,UserList:da,FansRankTips:_a,FollowFeed:at}},Ta=ja,Da=i("acc3");function Sa(t){this["$style"]=Da["default"].locals||Da["default"]}var Ia=Object(b["a"])(Ta,Ii,Li,!1,Sa,null,null),La=Ia.exports,Ba="没有更多内容了",Pa={metaInfo:function(){return this.userInfo&&this.userInfo.screen_name?{title:"@".concat(this.userInfo.screen_name," 的").concat(this.tabList[this.curTab].title)}:{title:""}},data:function(){return{loading:!1,followed:!1,curTab:0,userInfo:{},follows:[],followsTotal:0,followsPage:1,followsSet:new Set,isLoading:!1,isRetry:!1,isEmpty:!1,isOver:!1,followExpose:!1,fans:[],fansTotal:0,fansPage:1,fansSet:new Set,isFansLoading:!1,isFansRetry:!1,isFansEmpty:!1,isFansOver:!1,fansExpose:!1,hasSetCount:!0,curUid:"",fanslist:{},topNewFans:{},noDataText:Ba}},computed:Object(r["a"])(Object(r["a"])({},Object(l["c"])(["unread","config"])),{},{isOwner:function(){return+this.$route.params.id===+this.config.uid},showNoContentButton:function(){if(0===this.curTab){if(this.followExpose)return!1;if(this.isOver)return!0}if(1===this.curTab){if(this.fansExpose)return!1;if(this.isFansOver)return!0}return!1},tabList:function(){return[{name:"关注",tabName:"关注列表",key:"follow",title:"关注列表"},{name:"粉丝",tabName:"全部粉丝",key:"fans",title:"全部粉丝"}]}}),watch:{$route:function(t,e){var i=t.query&&Object.keys(t.query).length&&t.query||{},a=i.relate,o=void 0===a?"":a;if("follow"===t.name)switch(o){case"fans":this.tabChange(1,!1,!0);break;default:this.tabChange(0,!1,!0);break}this.noDataText=Ba,this.isOwner&&"follow"===t.name&&"fans"===o&&this.handleActLog("visit")}},methods:{fansFormat:nt["a"],follow:function(){var t=this;this.loading=!0,setTimeout((function(){t.loading=!1,t.followed=!t.followed}),500)},tabChange:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.curTab=t,0!==this.curTab||this.isEmpty||(this.isLoading=!0,e&&this.$router.replace({name:"follow"}),i&&this.refreshFollow()),1!==this.curTab||this.isFansEmpty||(this.isFansLoading=!0,e&&this.$router.replace({name:"follow",query:{relate:"fans"}}),i&&this.refreshFans())},fetchUser:function(){var t=this,e=this.$route.params.id;this.$http.get("/ajax/profile/info",{params:{uid:e}}).then((function(e){t.loading=!1,e.data.ok>0&&(t.userInfo=e.data.data.user,t.$store.dispatch("setVerifiedType",t.userInfo.verified_type),t.$store.dispatch("setProfileUid",t.userInfo.id))}))},refreshFollow:function(){this.follows=[],this.followsTotal=0,this.followsPage=1,this.followsSet=new Set,this.isLoading=!1,this.isRetry=!1,this.isEmpty=!1,this.isOver=!1,this.followExpose=!1,this.fetchFollow()},refreshFans:function(){this.fans=[],this.fansTotal=0,this.fansPage=1,this.fansSet=new Set,this.isFansLoading=!1,this.isFansRetry=!1,this.isFansEmpty=!1,this.isFansOver=!1,this.fansExpose=!1,this.fetchFans()},fetchFollow:function(){var t=this;this.isLoading=!0,this.$http.get("/ajax/friendships/friends",{params:Object(r["a"])(Object(r["a"])({},this.$route.query),{},{page:this.followsPage,uid:this.$route.params.id})}).then((function(e){if(e.data.ok>0){var i=[];e.data.users.forEach((function(e){t.followsSet.has(e.id)||(i.push(e),t.followsSet.add(e.id))})),t.follows=t.follows.concat(i),t.followsTotal=e.data.total_number,t.followsPage++,0===t.follows.length&&0===e.data.users.length&&(t.isLoading=!1,t.isEmpty=!0),t.follows.length&&0===e.data.next_cursor&&(t.isOver=!0,t.isLoading=!1,t.followsTotal>200&&(t.noDataText="因平台策略限制、触发博主自保护策略，部分账号暂不展示"))}else e.data.relation_display?t.followExpose=!0:t.isEmpty=!0,t.isLoading=!1}))},clearRemind:function(){var t=this;this.hasSetCount||(this.$http.post("/ajax/message/remind",{type:"follower",value:0}).then((function(e){e.data.ok>0&&e.data.data.result&&t.$store.commit("updateUnread",Object(r["a"])(Object(r["a"])({},t.unread),{},{follower:0}))})),this.hasSetCount=!0)},fetchFans:function(){var t=this;this.isFansLoading=!0,this.isFansEmpty=!1;var e=this.unread.follower||0;this.clearRemind();var i=1===this.fansPage?"all":"fans";this.$http.get("/ajax/friendships/friends",{params:Object(r["a"])(Object(r["a"])({},this.$route.query),{},{page:this.fansPage,uid:this.$route.params.id,type:i,newFollowerCount:e})}).then((function(e){if(e.data.ok>0){var a=[],o=e.data,n=o.fans_rank,s=void 0===n?{}:n,r=o.new_follows,l=void 0===r?{}:r,c=o.top_follows,u=void 0===c?{}:c,d=o.top_newfans,h=void 0===d?{}:d;"all"===i&&(t.fanslist.new_follows=l,t.fanslist.top_follows=u,t.fanslist.fans_rank=s,t.topNewFans=h),e.data.users.forEach((function(e){t.fansSet.has(e.id)||(a.push(e),t.fansSet.add(e.id))})),t.fans=t.fans.concat(a),t.fansTotal=e.data.total_number,t.fansPage++,0===t.fans.length&&0===e.data.users.length&&(t.isFansLoading=!1,t.isFansEmpty=!0),t.fans.length&&0===e.data.next_cursor&&(t.isFansOver=!0,t.isFansLoading=!1,t.fansTotal>2e3&&(t.noDataText="因平台策略限制、触发博主自保护策略，部分账号暂不展示")),0!==e.data.next_cursor&&0===a.length&&(t.isFansLoading=!1,t.$nextTick((function(){t.isFansLoading=!0})))}else e.data.relation_display?t.fansExpose=!0:t.isFansEmpty=!0,t.isFansLoading=!1}))},loadMoreData:function(t){"fans"===t?this.fetchFans():this.fetchFollow()},handleActLog:function(t){var e={page:"myFans"};e&&e.page&&t&&this.toLog(Object(r["a"])(Object(r["a"])({},e),{},{actType:t}))}},created:function(){this.fetchUser();var t=this.$route.query.relate;this.curUid=+this.$route.params.id,"fans"===t?(this.curTab=1,this.hasSetCount=!this.unread.follower,this.isOwner||this.fetchFans()):this.fetchFollow()},components:{FollowFeed:at,Tab:ot["a"],FollowsList:Si,MyFanslist:La}},Aa=Pa,Ea=i("0c86");function Ma(t){this["$style"]=Ea["default"].locals||Ea["default"]}var Fa=Object(b["a"])(Aa,A,E,!1,Ma,null,null),Ra=Fa.exports,Va=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("Bar",{attrs:{"go-back":"",divide:""},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.title))]},proxy:!0}])}),i("feed-scroll",{attrs:{data:t.data,isLoading:t.isLoading,isRetry:t.isRetry,isEmpty:t.isEmpty,skeleton:!0},on:{loadMoreData:t.loadMoreData}}),t.halfYearTips?i("div",{staticClass:"m-tips m-tips-tp cursor",staticStyle:{"text-align":"center"}},[t._v(" "+t._s(t.halfYearTips)+" ")]):t._e()],1)},Na=[],Ha={name:"ProfileVideo",data:function(){return{data:[],isLoading:!1,isRetry:!1,isOver:!1,isEmpty:!1,page:1,halfYearTips:!1,midSet:new Set,pageType:""}},computed:Object(r["a"])(Object(r["a"])({},Object(l["c"])(["profileId"])),{},{title:function(){return this.$route.query.title||""},apiMap:function(){return{hot:"/ajax/profile/feature?containerid=231002".concat(this.$route.params.id,"_-_HOTMBLOG"),topic:"/ajax/profile/searchblog",video:"/ajax/profile/getFeatureContent?containerid=231800".concat(this.$route.params.id,"_-_CUSTOMVIDEO"),mblog:"/ajax/profile/feature?containerid=231800".concat(this.$route.params.id,"_-_CUSTOMMBLOG")}}}),watch:{$route:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("feature"===t.name&&["profile","nameProfile","customProfile"].indexOf(e.name)>-1){if(this.profileId!==this.$route.params.id)return void this.updateData();this.pageType!==t.params.type&&this.updateData()}},profileId:function(t,e){t!==e&&(this.pageType="")}},methods:{updateData:function(){var t=this;this.page=1,this.data=[],this.midSet=new Set,this.isOver=!1,this.isEmpty=!1,this.$nextTick((function(){t.getData(),t.pageType=t.$route.params.type}))},fetchUser:function(){var t=this,e=this.$route.params.id;this.$http.get("/ajax/profile/info",{params:{uid:e}}).then((function(e){e.data.ok>0&&(t.userInfo=e.data.data.user,t.$store.dispatch("setVerifiedType",t.userInfo.verified_type),t.$store.dispatch("setProfileUid",t.userInfo.id))}))},getData:function(){var t=this;this.isLoading=!0,this.isRetry=!1;var e=this.$route.params.type,i="";if("topic"===e){var a=this.$route.params.id;i="?q="+encodeURIComponent(this.title.replace("常用话题-",""))+"&uid=".concat(a)}this.$http.get(this.apiMap[e]+i+"&page=".concat(this.page)).then((function(i){var a=i.data;if("video"===e||"topic"===e)return t.data=t.data.concat(a.data.list),0===a.data.list.length&&0===t.data.length?(t.isLoading=!1,void(t.isEmpty=!0)):0===a.data.list.length?(t.isLoading=!1,void(t.isOver=!0)):void t.page++;if(0!==a.data.cards.length){var o=!0;t.data=t.data.concat(a.data.cards.filter((function(e){return 58===e.card_type&&(t.halfYearTips=e.name,t.isOver=!0,t.loading=!1,o=!1),[9,89,11].includes(e.card_type)&&e.mblog&&e.mblog.idstr&&!t.midSet.has(e.mblog.idstr)})).map((function(e){return e.mblog&&e.mblog.idstr&&t.midSet.add(e.mblog.idstr),Object(r["a"])(Object(r["a"])({},e.mblog),{},{user:Object(r["a"])(Object(r["a"])({},e.mblog.user),{},{following:!0})})}))),t.page++,t.isLoading=o}else t.isOver=!0})).catch((function(e){t.isLoading=!1,t.isRetry=!0}))},loadMoreData:function(){this.getData()}},created:function(){this.getData(),this.fetchUser()},components:{FeedScroll:c["default"]}},za=Ha,Ua=Object(b["a"])(za,Va,Na,!1,null,null,null),Ga=Ua.exports,qa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Bar",{attrs:{"go-back":"",divide:""},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.title)+" ")]},proxy:!0}])}),i("Card",{class:t.$style.detail,attrs:{bottomGap:!1}},[t.tips?i("woo-box",{class:t.$style.tips},[t._v(" "+t._s(t.tips)+" "),"fans_rank"===t.$route.query.type?i("Tips",{attrs:{"enable-pop":"",popWidth:600},scopedSlots:t._u([{key:"popContent",fn:function(){return[i("FansRankTips")]},proxy:!0}],null,!1,1082077500)}):t._e()],1):t._e(),i("Scroll",{attrs:{data:t.data,isLoading:t.loading,isEmpty:t.isEmpty,pageMode:!0,keyField:"id",noDataText:t.tipsText,skeleton:""},on:{loadMoreData:t.loadMoreData},scopedSlots:t._u([{key:"content",fn:function(e){var a=e.item,o=e.index;return[i("div",{class:t.$style.wrap},[i("UserCard",{key:o,class:t.$style.item,attrs:{foText:"special_attention"===t.$route.query.type?"关注":t.foText,user:a,title:a.screen_name,desc:a.verified_reason||a.description,ext:a.title||"粉丝: "+a.followers_count_str,page:t.pageType,showExtend:"myNewFollows"===t.pageType},on:{"after-remove":t.handleAfterRemove},scopedSlots:t._u([a.origin_source_info?{key:"ext",fn:function(){return[i("div",[t._v(" 来自 "),a.origin_source_info.url?i("a",{attrs:{href:a.origin_source_info.url},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.goTarget(a.origin_source_info)}}},[t._v(t._s(a.origin_source_info.text))]):i("span",[t._v(t._s(a.origin_source_info.text))])])]},proxy:!0}:null],null,!0)})],1)]}}])})],1)],1)},Wa=[],Qa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{attrs:{align:"center"},nativeOn:{click:function(e){return t.goProfile(t.user.id)}}},[i("woo-avatar",{attrs:{size:50,verified:t.getVerifiedIcon(t.user),src:t.user.avatar_large||t.user.avatar_hd,usercard:t.user.id}}),i("woo-box-item",{class:[t.$style.con,t.$style.f12],attrs:{align:"center"}},[i("div",{class:[t.$style.cla,t.$style.fb,"wbpro-textcut"]},[t._v(" "+t._s(t.title)+" "),i("IconFans",{attrs:{mbrank:t.user.mbrank,mbtype:t.user.mbtype,svip:t.user.svip,vvip:t.user.vvip,fansIcon:t.user.fansIcon}})],1),t.user.descStruct&&t.user.descStruct.labelDesc&&t.user.descStruct.labelDesc.length?i("div",{class:[t.$style.clb,"wbpro-textcut"]},t._l(t.user.descStruct.labelDesc,(function(e,a){return i("user-tag",{key:a,attrs:{highlight:e.highlight}},[t._v(t._s(e.suffix+" "+e.name))])})),1):i("div",{class:[t.$style.clb,"wbpro-textcut"]},[t._v(" "+t._s(t.desc)+" ")]),i("div",{class:t.$style.clb},[t.$slots.ext?t._t("ext"):i("span",[t._v(" "+t._s(t.ext)+" ")])],2)]),t.config.uid!==t.user.id?i("div",{class:t.$style.right},[i("FollowBtn",{key:t.index,class:t.$style.item,attrs:{foText:t.foText,showFonticon:!1,user:t.user,following:t.user.following,uid:t.user.idstr,doFoAction:!0,foToast:!0,followedBy:t.user.follow_me,canUnfollow:!0,page:t.page,cardid:t.user.itemid}})],1):t._e(),t.showExtend?i("div",{class:t.$style.rightContent},[i("woo-pop",{class:t.$style.stbtn,attrs:{show:t.sortPopVisible},nativeOn:{mouseleave:function(e){t.sortPopVisible=!1}},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-fonticon",{attrs:{value:"ellipsis"},nativeOn:{mouseover:function(e){t.sortPopVisible=!0}}})]},proxy:!0}],null,!1,3577015593)},[i("woo-button",{class:t.$style.popBtn,attrs:{sort:"simple",kind:"default",size:"s"},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleRemoveFans(t.user)}}},[t._v(" 移除粉丝 ")])],1)],1):t._e()],1)},Ja=[],Ka=i("23b5"),Ya={props:{showBtn:{type:Boolean,default:!0},user:{type:Object,default:function(){return{}}},title:String,desc:String,ext:String,page:String,foText:{type:String,default:"回粉"},showExtend:{type:Boolean,default:!1}},data:function(){return{followme:this.user.follow_me,followed:this.user.following,loading:!1,sortPopVisible:!1}},computed:Object(r["a"])({},Object(l["c"])(["config"])),methods:{getVerifiedIcon:G["c"],shortNum:H["b"],goProfile:function(t){this.$router.push({name:"profile",params:{id:t}})},handleRemoveFans:function(t){var e=this;this.$_w_dialog({type:"confirm",title:"确认要移除粉丝？",message:"对方将不再关注你，且不会收到通知",action:function(){e.$http.post("/ajax/profile/destroyFollowers",{uid:t.idstr}).then((function(i){i.data.ok>0&&(t.follow_me=!1,e.sortPopVisible=!1,e.$emit("after-remove",t),e.$_w_toast({type:"success",message:"已移除"}))}))}})}},components:{IconFans:U["a"],UserTag:Ka["a"]}},Xa=Ya,Za=i("cb91");function to(t){this["$style"]=Za["default"].locals||Za["default"]}var eo=Object(b["a"])(Xa,Qa,Ja,!1,to,null,null),io=eo.exports,ao={metaInfo:function(){return{title:this.title}},data:function(){return{isEmpty:!1,loading:!0,data:[],page:1,title:"",tips:"",uids:new Set,showTips:!1,tipsText:"没有更多内容了"}},watch:{$route:{handler:function(t,e){e||this.fetchUser();var i="";switch(t.query.type){case"new_follows":i="02";break;case"top_follows":i="03";break;case"fans_rank":i="04";break;default:break}"fansDetail"===t.name&&this.handleActLog("visit",i)},immediate:!0}},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(l["c"])(["unread","config"])),Object(l["d"])(["access"])),{},{pageType:function(){switch(this.$route.query.type){case"new_follows":return"myNewFollows";default:return""}}}),methods:{handleAfterRemove:function(t){this.data=this.data.filter((function(e){return e.idstr!==t.idstr}))},handleActLog:function(t,e){var i={page:"myFans",extValue:e};i&&i.page&&t&&this.toLog(Object(r["a"])(Object(r["a"])({},i),{},{actType:t}))},goTarget:function(t){if(t.url){if(t.url.match(/^\/\//))return void(window.location.href=t.url);this.$router.push({path:t.url})}},fetchUser:function(){var t=this,e=this.$route.params.id;this.$http.get("/ajax/profile/info",{params:{uid:e}}).then((function(e){e.data.ok>0&&(t.userInfo=e.data.data.user,t.$store.dispatch("setVerifiedType",t.userInfo.verified_type),t.$store.dispatch("setProfileUid",t.userInfo.id))}))},loadMoreData:function(){this.page+=1,this.fetchData()},fetchData:function(){var t=this,e="/ajax/friendships/friends",i=this.$route.query.type||"new_follows";"special_attention"===i&&(e="/ajax/profile/getSpecialAttention");var a=20,o={uid:this.$route.params.id,type:i,relate:"fans"};"new_follows"===i&&(o.newFollowerCount=this.$route.query.count),this.$http.get(e,{params:Object(r["a"])({page:this.page,count:a},o)}).then((function(e){if(e.data.ok>0){t.uids.size;var a=e.data[i];if(!a||0===Object.keys(a||{}).length)return t.loading=!1,void(t.isEmpty=!0);t.tips=a.tips,t.title=a.title;var o=a.list.filter((function(e){return!t.uids.has(e.id)&&(t.uids.add(e.id),!0)}));if(t.data=t.data.concat(o),"fans_rank"===i&&(t.data=t.data.map((function(t,e){return/^第/.test(t.title)?t:Object(r["a"])(Object(r["a"])({},t),{},{title:"第".concat(e+1,"名 ")+t.title})}))),a&&a.has_filtered_fans&&"myNewFollows"===t.pageType&&(t.showTips=!0,a.has_filtered_fans&&t.config.user.followers_count<=2e3&&(t.tipsText="因疑似包含异常账号、触发博主自保护策略，部分账号暂不展示")),a&&0===a.list.length&&0===t.data.length||0===o.length)return t.loading=!1,void(t.isEmpty=!0)}}))},goBack:function(){1===this.access.history.length?this.$router.push({path:"/"}):this.$router.go(-1)}},created:function(){this.fetchData()},components:{UserCard:io,Scroll:R["a"],Tips:Ui,FansRankTips:_a}},oo=ao,no=i("3a58");function so(t){this["$style"]=no["default"].locals||no["default"]}var ro=Object(b["a"])(oo,qa,Wa,!1,so,null,null),lo=ro.exports,co=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Card",[i("Bar",{attrs:{"go-back":""}}),i("Tab",{attrs:{keyField:"idstr",tabs:t.tabs,newCurIndex:t.tabIndex,"disable-outside-close":t.disableOutsideClose},on:{changeTab:t.handleChangeTab},scopedSlots:t._u([{key:"tabEnd",fn:function(){return[i("woo-box",{attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return t.editGroup(e)}}},[i("woo-button",{attrs:{sort:"line",kind:"primary",size:"xs"}},[t._v(" 管理 ")])],1)]},proxy:!0}])}),i("woo-divider"),t.enableBatchOperate&&t.feedData.length?i("woo-box",{class:t.$style.stit,attrs:{align:"center",justify:"between"}},[i("woo-box",{attrs:{align:"center"}},[i("woo-button",{class:t.$style.stbtn,attrs:{sort:"line",kind:"default",size:"s",fonticon:t.batchVisible?"":"manageP"},on:{click:t.changeBatchVisible}},[t._v(" "+t._s(t.batchVisible?"取消批量管理":"批量管理")+" ")]),t.batchVisible?i("woo-box",{class:t.$style.stbtn,attrs:{align:"center"}},[i("woo-button",{class:t.$style.stbtn,attrs:{sort:"line",kind:"default",size:"s",disabled:0===t.groupCheckedList.length},on:{click:t.setGroup}},[t._v(" 设置分组 ")]),i("woo-button",{class:t.$style.stbtn,attrs:{sort:"line",kind:"default",size:"s",disabled:0===t.groupCheckedList.length},on:{click:t.destroyBatch}},[t._v(" 取消关注 ")])],1):t._e()],1)],1):t._e(),i("UserFeed",{attrs:{batchVisible:t.batchVisible,data:t.feedData,isLoading:t.isLoading,isNoData:t.isNoData,isEmpty:t.isEmpty},on:{loadMoreData:t.loadMoreData,"set-group":t.handleSetGroup},model:{value:t.groupCheckedList,callback:function(e){t.groupCheckedList=e},expression:"groupCheckedList"}}),i("GroupModal",{attrs:{visible:t.modalVisible,type:t.type,selected:t.groupCheckedList,defaultGroup:t.defaultGroup},on:{"update:visible":function(e){t.modalVisible=e},"update-groups":t.handleUpdateGroups,"update-groups-order":t.handleUpdateGroupsOrder,"after-set-group":t.handleAfterSetGroup}})],1)},uo=[];function ho(t){var e=Object(m["n"])([]),i=Object(m["n"])(-1),a=Object(m["n"])(""),o=Object(m["n"])(!1),n=Object(m["n"])(!1),s=Object(m["n"])([]),r=Object(m["n"])([]),l=Object(m["n"])("edit"),c=Object(m["n"])(!0);Object(m["s"])(n,(function(t){Object(m["f"])((function(){o.value=t}))})),Object(m["s"])(s,(function(e,i){e.length>20&&(t.$_w_toast({type:"warn",message:"每次最多可选择20人"}),s.value=i)}));var u=function(e,o){i.value=o,a.value=e.idstr,s.value=[],r.value=[],t.$router.replace({name:"followGroup",query:{tabid:e.id}})},d=function(t){l.value="set",n.value=!0,s.value=[t],r.value=[];var i=e.value.find((function(t){return t.idstr===a.value}));0!==+a.value&&i&&"system"!==i.mode&&(r.value=[a.value])},h=function(t){e.value=Object(ut["a"])(t),n.value=!1},p=function(t){e.value=Object(ut["a"])(t)},f=function(){l.value="edit",n.value=!0},v=function(){var e=t.$route.params.id;t.$http.get("/ajax/profile/info",{params:{uid:e}}).then((function(e){if(e.data.ok>0){var i=e.data.data.user;t.$store.dispatch("setVerifiedType",i.verified_type),t.$store.dispatch("setProfileUid",i.id)}}))},_=function(){var o=t.$route.query.tabid;e.value.length&&(a.value=o,i.value=void 0===o?0:e.value.findIndex((function(t){return+t.idstr===+o})))};Object(m["s"])((function(){return t.$route.query.tabid}),(function(t){+a.value!==+t&&c.value&&_()}));var g=function(){t.$http.get("/ajax/profile/getGroups",{params:{showBilateral:1}}).then((function(t){t.data.ok>0&&(e.value=t.data.data.lists,_())}))},b=Object(ga["b"])(["needUpdateGroup"]),y=b.needUpdateGroup,w=Object(ga["a"])(["setGroupUpdateStatus"]),x=w.setGroupUpdateStatus;return Object(m["g"])((function(){c.value=!0,y.value&&(g(),x(!1))})),Object(m["j"])((function(){c.value=!1})),Object(m["h"])((function(){v(),g()})),{defaultGroup:r,handleSetGroup:d,groupCheckedList:s,tabs:e,tabIndex:i,tabId:a,handleChangeTab:u,handleUpdateGroups:h,handleUpdateGroupsOrder:p,modalVisible:n,disableOutsideClose:o,editGroup:f,type:l}}function po(t,e,i){var a=e.groupCheckedList,o=e.modalVisible,n=e.type,s=e.tabId,r=e.defaultGroup,l=i.feedData,c=i.isEmpty,u=Object(m["n"])(!1),d=Object(m["n"])(!1),h=function(){u.value=!u.value},p=function(e,i,n){e=e.split(","),o.value=!1,a.value=[],n||"0"!==t.$route.query.tabid||(n="0"),(n&&!e.includes(n)||n&&0===+n)&&(e.includes(s)||(l.value=l.value.filter((function(t){return-1===i.indexOf(t.idstr)})),0===l.value.length&&(c.value=!0)))},f=function(){t.$http.get("/ajax/profile/getSwitch",{params:{type:"myFollowBatch"}}).then((function(t){t.data.ok>0&&(d.value=t.data.myFollowBatch)}))},v=function(){n.value="set",o.value=!0,r.value=[s.value]},_=function(){t.$_w_dialog({type:"confirm",message:"确定取消关注吗？",action:function(){t.$http.post("/ajax/profile/destroyBatch",{uids:a.value.join(",")}).then((function(e){e.data.ok>0&&(t.$_w_toast({type:"success",message:"操作成功"}),l.value=l.value.filter((function(t){return!a.value.includes(t.idstr)})),a.value=[])}))}})};return Object(m["h"])((function(){f()})),{handleAfterSetGroup:p,batchVisible:u,destroyBatch:_,setGroup:v,changeBatchVisible:h,enableBatchOperate:d}}function fo(t,e){var i=e.tabIndex,a=e.tabs,o=e.tabId,n=(e.groupCheckedList,Object(m["n"])([])),s=Object(m["n"])(!0),l=Object(m["n"])(!1),c=Object(m["n"])(!1),u=Object(m["m"])({page:1}),d=function(){u.page+=1,h(Object(r["a"])({},u))},h=function(e){t.$http.get("/ajax/profile/getGroupMembers",{params:Object(r["a"])({list_id:a.value[i.value].idstr},e)}).then((function(t){if(t.data.ok>0){var e=t.data.data;if(n.value=[].concat(Object(ut["a"])(n.value),Object(ut["a"])(e.users)),0===e.users.length&&0===n.value.length)return s.value=!1,void(c.value=!0);if(0===+e.next_cursor||0===e.users.length)return s.value=!1,void(l.value=!0)}}))};return Object(m["s"])(o,(function(){u.page=1,n.value=[],s.value=!0,l.value=!1,c.value=!1,h(Object(r["a"])({},u))})),{isLoading:s,isNoData:l,isEmpty:c,loadMoreData:d,feedData:n}}var mo={metaInfo:function(){return{title:"关注分组"}},setup:function(t,e){var i=e.root,a=ho(i),o=fo(i,a),n=po(i,a,o);return Object(r["a"])(Object(r["a"])(Object(r["a"])({},a),n),o)},components:{Tab:ot["a"],GroupModal:_e["a"],UserFeed:ve}},vo=mo,_o=i("55af");function go(t){this["$style"]=_o["default"].locals||_o["default"]}var bo=Object(b["a"])(vo,co,uo,!1,go,null,null),yo=bo.exports;e["default"]=[{path:"u/:id",name:"profile",components:{main:o["a"],side:a["a"]},meta:{keepAlive:!0,title:"个人主页",channel:"profile"}},{path:"n/:name",name:"nameProfile",components:{main:o["a"],side:a["a"]},meta:{keepAlive:!0}},{path:"/u/page/follow/:id/followGroup",name:"followGroup",components:{main:yo,side:a["a"]},meta:{title:"个人主页",channel:"profile",keepAlive:!0}},{path:"/u/page/follow/:id",name:"follow",components:{main:Ra,side:a["a"]},children:[{path:":tabid",name:"myFollowTab",meta:{title:"个人主页",channel:"profile",keepAlive:!0}}],meta:{title:"个人主页",channel:"profile",keepAlive:!0}},{path:"/u/page/feature/:id/:type",name:"feature",components:{main:Ga,side:a["a"]},meta:{keepAlive:!0,channel:"profile",title:"个人主页"}},{path:"/u/page/fansdetail/:id",name:"fansDetail",components:{main:lo,side:a["a"]},meta:{channel:"profile",title:"个人主页"}},{path:"/u/page/like/:id",name:"like",meta:{keepAlive:!0,title:"个人主页",channel:"profile",pageType:"like"},components:{main:P,side:a["a"]}},{path:"/u/page/fav/:id",name:"fav",meta:{keepAlive:!0,title:"个人主页",channel:"profile",pageType:"fav"},components:{main:P,side:a["a"]}}]},"4fa9":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.options.sType},[i("div",{staticClass:"wb_cropper",staticStyle:{overflow:"hidden"},style:t.curStyle},[i("img",{ref:"image",staticStyle:{height:"1px",width:"1px"},on:{ready:t.onReady}})])])},o=[],n=(i("a9e3"),i("d3b7"),i("ac1f"),i("466d"),i("5319"),i("3835")),s=i("5530"),r=(i("96cf"),i("1da1")),l=(i("6107"),i("bab4")),c=i.n(l),u=i("7ec3"),d=i("5abd"),h=function(t){return new Promise((function(e){t.toBlob((function(t){return e(t)}))}))},p={props:{options:{type:Object,default:function(){return{}}},height:{type:Number,default:300},width:{},aspectRatio:{type:Number,default:4/3},autoRatio:{type:Object,default:function(){return{open:!1,ratio:[16/9,3/4]}}},source:{type:Number,default:0},opts:{type:Object,default:function(){return{}}}},data:function(){return{src:"",pid:null,instance:{},ready:!1,queue:[],cb:null}},methods:{setSrc:function(t,e){!/http[s]?:\/\/.*\.sinaimg.cn\/.*\/.*\..*/.test(t)||/\.sinaimg\.cn\/large/.test(t)||/\.sinaimg\.cn\/orj960/.test(t)||(t=t.replace(/\.sinaimg\.cn\/.*\//,(function(){return".sinaimg.cn/large/"}))),this.src=t,this.pid=null,this.cb=e},onReady:function(){this.cb&&this.cb(),this.cb=null;var t,e=this;e.ready=!0;while(t=e.queue.shift())t()},getWeiboURL:function(t){var e=arguments,i=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var o,n,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=e.length>1&&void 0!==e[1]&&e[1],n=e.length>2&&void 0!==e[2]?e[2]:{},l=i,a.abrupt("return",new Promise((function(e,a){var c=function(){var i=Object(r["a"])(regeneratorRuntime.mark((function i(){var r,c,p;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return r=l.instance.getCroppedCanvas(Object(s["a"])({imageSmoothingEnabled:!1,imageSmoothingQuality:"high"},n)),i.prev=1,i.next=4,h(r);case 4:if(c=i.sent,!o){i.next=8;break}return e(c),i.abrupt("return");case 8:return i.next=10,Object(u["a"])(c,l.opts,l.source);case 10:p=i.sent,l.pid=p,e(t?{url:Object(d["d"])(p),pid:p}:Object(d["d"])(p,"large")),i.next=18;break;case 15:i.prev=15,i.t0=i["catch"](1),a(i.t0);case 18:case"end":return i.stop()}}),i,null,[[1,15]])})));return function(){return i.apply(this,arguments)}}();!/http[s]?:\/\/.*\.sinaimg.cn\/.*\/.*\..*/.test(i.src)||Math.floor(i.getImageData().height)!==Math.floor(i.getCropBoxData().height)||Math.floor(i.getImageData().width)!==Math.floor(i.getCropBoxData().width)||o?l.instance.ready?c():l.queue.push(c):e(t?{url:i.src,pid:i.src.match(/\/\/.*\/.*\/(.*)\..*/)[1]}:i.src)})));case 4:case"end":return a.stop()}}),a)})))()},getNaturalData:function(){var t=this.getImageData(),e=t.naturalWidth,i=t.naturalHeight;return{width:e,height:i}},getData:function(){return this.instance.getData(!0)},setData:function(t){return this.instance.setData(t)},getCanvasData:function(){return this.instance.getCanvasData()},setCanvasData:function(t){return this.instance.setCanvasData(t)},getImageData:function(){return this.instance.getImageData()},getCropBoxData:function(){return this.instance.getCropBoxData()},setCropBoxData:function(t){return this.instance.setCropBoxData(t)},rotate:function(t){return this.instance.rotate(t)},move:function(t,e){return this.instance.moveTo(t,e)}},computed:{curStyle:function(){var t={height:"".concat(this.height,"px")};return this.width&&(t.width="".concat(this.width,"px")),t}},watch:{src:function(t){this.instance.replace(t.url||t),this.ready=!1},aspectRatio:function(t){this.instance.setAspectRatio(t)}},mounted:function(){var t=this,e=this;e.instance=new c.a(e.$refs.image,Object.assign({viewMode:1,dragMode:"move",autoCropArea:1,aspectRatio:this.aspectRatio,checkCrossOrigin:!0},e.options)),this.$refs.image.addEventListener("ready",(function(){var e=t.getImageData();if(t.autoRatio&&t.autoRatio.open){var i=Object(n["a"])(t.autoRatio.ratio,2),a=i[0],o=i[1];t.autoRatio.ratio?e.width/e.height>1?t.instance.setAspectRatio(a):t.instance.setAspectRatio(o):t.instance.setAspectRatio(e.width/e.height)}}))},beforeDestroy:function(){this.instance.destroy()}},f=p,m=(i("dd68"),i("3b0a"),i("2877")),v=Object(m["a"])(f,a,o,!1,null,null,null);e["a"]=v.exports},5055:function(t,e,i){"use strict";var a=i("eab1"),o=i.n(a);e["default"]=o.a},5057:function(t,e,i){t.exports={card:"Message_card_275nN",cardh3:"Message_cardh3_2y9Tc",cardicon:"Message_cardicon_2vSWu",cardh4:"Message_cardh4_2W4n6"}},"507a":function(t,e,i){"use strict";var a=i("0275"),o=i.n(a);e["default"]=o.a},5091:function(t,e,i){"use strict";var a=i("7437"),o=i.n(a);e["default"]=o.a},"50aa":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.wrap},[i("woo-divider",{class:t.$style.line}),i("card9",t._g(t._b({attrs:{card:t.card.left_element,isCardWrap:t.isCardWrap}},"card9",t.$attrs,!1),t.$listeners)),i("woo-divider"),i("card9",t._g(t._b({attrs:{card:t.card.right_element,isCardWrap:t.isCardWrap}},"card9",t.$attrs,!1),t.$listeners))],1)},o=[],n=i("47c6"),s={name:"card59",components:{card9:n["default"]},props:{card:{type:Object,default:function(){return{}}},isCardWrap:{type:Boolean,default:!1}}},r=s,l=i("2c07"),c=i("2877");function u(t){this["$style"]=l["default"].locals||l["default"]}var d=Object(c["a"])(r,a,o,!1,u,null,null);e["default"]=d.exports},"512b":function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_video",use:"woo_svg_video-usage",viewBox:"0 0 1024 1024",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" id="woo_svg_video"><path fill-rule="evenodd" clip-rule="evenodd" fill="currentColor" d="M864.845 88.586c51.966 0 94.092 42.127 94.092 94.092v658.644c0 51.966-42.126 94.092-94.092 94.092h-705.69c-51.966 0-94.092-42.126-94.092-94.092V182.678c0-51.966 42.126-94.092 94.092-94.092h705.69zm23.523 288.157H135.632v464.579c0 12.991 10.532 23.523 23.523 23.523h705.69c12.991 0 23.523-10.532 23.523-23.523V376.743zM446.071 500.238c4.837 0 9.591 1.372 13.807 3.985l139.695 86.581c13.556 8.402 18.364 27.322 10.739 42.259-2.529 4.953-6.244 9.046-10.739 11.833l-139.695 86.581c-13.556 8.402-30.728 3.104-38.353-11.833-2.371-4.645-3.617-9.884-3.617-15.213V531.269c0-17.138 12.609-31.031 28.163-31.031zm418.774-341.083h-94.139l-58.807 147.019h176.47V182.678c-.001-12.992-10.532-23.523-23.524-23.523zm-585.77 0h-119.92c-12.991 0-23.523 10.532-23.523 23.523v123.496h84.636l58.807-147.019zm205.826 0H349.644l-58.807 147.019h135.257l58.807-147.019zm215.236 0H555.471l-58.807 147.019 144.985.035a24.05 24.05 0 011.071-3.392l57.417-143.662z" /></symbol>'});s.a.add(r);e["default"]=r},"514e":function(t,e,i){t.exports={video:"HotVideoModule_video_hvgbd",pic:"HotVideoModule_pic_3Oi2c",icon:"HotVideoModule_icon_3iGt2",bed4:"HotVideoModule_bed4_2aBjC"}},"51ce":function(t,e,i){t.exports={b2t:"PublisherTopicPop_b2t_1Vvt4",box:"PublisherTopicPop_box_Pgs-u",gap:"PublisherTopicPop_gap_bcNpk",click:"PublisherTopicPop_click_1KZ-3",b1:"PublisherTopicPop_b1_3Y_qj",b1i1:"PublisherTopicPop_b1i1_vBXZi",b1t1:"PublisherTopicPop_b1t1_1cfzh",b1t2:"PublisherTopicPop_b1t2_2KWci",b2:"PublisherTopicPop_b2_2vkNI",btnbox:"PublisherTopicPop_btnbox_eeZrT",btn:"PublisherTopicPop_btn_-5oss",btn1:"PublisherTopicPop_btn1_3fmgD",btn2:"PublisherTopicPop_btn2_1HEQp",b2i:"PublisherTopicPop_b2i_1FPuI",b2i1:"PublisherTopicPop_b2i1_26ule",b2i2:"PublisherTopicPop_b2i2_2XKPZ",ipt1box:"PublisherTopicPop_ipt1box_Jj0Kr",ipt1:"PublisherTopicPop_ipt1_T_L_w",pos:"PublisherTopicPop_pos_3iZr0",icon:"PublisherTopicPop_icon_3IwXC",stitle:"PublisherTopicPop_stitle_3gxXb"}},"51f3":function(t,e,i){t.exports={box:"VideoList_box_qmt1n",wrap:"VideoList_wrap_1p_bo",tit:"VideoList_tit_3zGrQ",opt:"VideoList_opt_1AzwH",switch:"VideoList_switch_1-TPG",line2:"VideoList_line2_xF0fd",card:"VideoList_card_3zMRO",pic:"VideoList_pic_23Ax_",wrapX:"VideoList_wrapX_31pus",S:"VideoList_S_EGVWx",duration:"VideoList_duration_3Mewj",con:"VideoList_con_m240G",h3:"VideoList_h3__iPzy",active:"VideoList_active_2vKez",lr:"VideoList_lr_14Ggm",conin:"VideoList_conin_3-b7L",h4:"VideoList_h4_2YlRp",h4s:"VideoList_h4s_3ffhC",loadingIcon:"VideoList_loadingIcon_2JPXd",vPlus:"VideoList_vPlus_1wpFP",mask:"VideoList_mask_gYX5N"}},"51fb":function(t){t.exports=JSON.parse('[{"gid":"1028039999","title":"小时榜","containerid":"102803_ctg1_9999_-_ctg1_9999_home","fid":"102803_ctg1_9999_-_ctg1_9999_home"},{"gid":"1028038899","title":"昨日","containerid":"102803_ctg1_8899_-_ctg1_8899","fid":"102803_ctg1_8899_-_ctg1_8899"},{"gid":"1028038799","title":"前日","containerid":"102803_ctg1_8799_-_ctg1_8799","fid":"102803_ctg1_8799_-_ctg1_8799"},{"gid":"1028038698","title":"周榜","containerid":"102803_ctg1_8698_-_ctg1_8698","fid":"102803_ctg1_8698_-_ctg1_8698"},{"gid":"1028038998","title":"男榜","containerid":"102803_ctg1_8998_-_ctg1_8998","fid":"102803_ctg1_8998_-_ctg1_8998"},{"gid":"1028038997","title":"女榜","containerid":"102803_ctg1_8997_-_ctg1_8997","fid":"102803_ctg1_8997_-_ctg1_8997"}]')},"53a1":function(t,e,i){"use strict";var a=i("4692"),o=i.n(a);o.a},"53d2":function(t,e,i){},"541c":function(t,e,i){},"546b":function(t,e,i){"use strict";var a=i("21c1"),o=i.n(a);e["default"]=o.a},5492:function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_rsssuccess",use:"woo_svg_rsssuccess-usage",viewBox:"0 0 70 70",content:'<symbol fill="none" viewBox="0 0 70 70" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" id="woo_svg_rsssuccess"><pattern id="woo_svg_rsssuccess_c" height="1" patternContentUnits="objectBoundingBox" width="1"><image height="128" transform="scale(.00781)" width="128" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAADXhJREFUeF7tXQvQrdUYfp4ZSlGGoXInUYRySdFNqCSV4jRNSZFUQokkt6KrXLq45ajIlOaIUqkGNZKILqNOJeQyJCmiIhHmsZ58f76zz/n/vf9vvWvv/e39vTPfnH/mfOv91nrXs9f1fZ+X6GSqLcCpbn3XeHQAmHIQdADoADDlFpjy5ncjQAeAKbfAlDe/GwE6AEy5Baa8+d0I0AFgyi0w5c3vRoAOAFNugSlvfjcCdACYcgtMefOLjgCSng7g+QBWB3Bn7flL/W+S9055P4ys+UUAIOmjABYAeNKALftnDzh+BeCq6llM8q4B9XSvzdMCoQCQ9BwAiwCsNc969Hv9+goM1wC4DoBB8ad+hbr/72+BMABIehuAE/p/MuwNg2ExgCvTNHMeyd+EaZ4iRSEAkLQGgJtGaLd/GATVc243ZQzeE1EAuBjASwf/bNE3b6sBwaDoZA4LZANA0g4AvjamVv7ZzMhA8tIxreNIqxUBgMMBvG+krRjs41cAOJnkwsFen463IgDwHQAvaZG5rgawsAPC/3osAgBqUefXq9oBIQgAlwHYsKUgcLWnGggRI4BP/d7VYgDMVH0qgRABgF3TWf+XJgAAdSAcRvKcCWrTrE2JAMAjAfwQwNMmzGAfT+05lOTfJqxdSzQnGwDWJmkXAKdNoKF8zHwIyQsnsG0xu4AZw6TjYAPAQJhEOboCwn2T1riQEaAGgn0BfGrSjFS15wcVCC6apPaFAqCaDnwl7J3BFpNkqFpbDquA0Nbzj/g1wLI6WpI9gWaeZwJYCcDKtefBLQbId731JWmnlVZL+AgwqDUkrbAMUGwA4EXV8+hBdY3ovVsB7NP27eLIANCv0yQ9C8B6AF5YPc/rV2ZE/78vyc+M6NvZnx1bAPS2TNITAWwEYMvqWTW79XEKjiTZhhvRpVrcGgDUay7J64kZIPjfJ8T1ZWNNp5LcvXHpERVsJQB6wLBcDxjsnjYquYjk5qP6eJPvth4Ay5gq3gzAj3cgo5AbSXrX0wqZOADMWF3SKIFwN8mHtwEBEwuAMQDCrcnr6LHjDoKJB8CIgXABya3HGQRTA4AaEI4EcPAQO+UIku8f4vfm9ampA4CtI+nVAI4qEMI2m/F3IzmWTjNTCYAKBI8D4NHg9fP6yTR/+ZXj6FcwtQCoTQm+wvZo4MOl0rLeuF0gTT0AqtHA9w0eDV5WGAE3AthqnAJZOwDUelzSyQDeWBgEdijZjuTfC39nIPUdAHrMlK6pPwLg3QNZr/lLY3NvUAQAkuwqvklyFPW5vL2FV0sOFPaunXn+Wv39iyqs3P/e//c40MVIMgAMhJKy1ziEp4UDoKKHyQkUsSfuNwE44uhykneX7IXZdEvaKvkhXFDw23/0moOkGU9GJmEAkLR+FR8Q2Zh7Eu+Aw7q/4YfkbyOV99MlyV5JP0mOro/q927D/z+HpM8kRiaRAPCw/rCCLTELyP1AqMBwR8FvLaFakj2C7apWQg4ieUwJxYPoDAGApC8C2G2QDwa987vkXPqJdON2bJC+vmokXQvAHs/R8i+zq5D0lDd0yQZA+nXY/dtz9ijkcgDHkjxzGB+XdEviFihxw2cvY68H/jOMdtS/EQEAL/gcBzBKMQAMBAOimEjybsbrkBIu7UeRfG+xys+iOAIAZwDYadgVn+V7nhI8NXiKKCKSXlBR05XQvw1Jr3GGJhEAMD+fPXbHRYqvDyRtB+DrBRp8dQKAATY0mUQAzBjP65J3kPT5e7hIKhUHOdQDoggAjNMU0NvRnq8PIFmExk7ScQD2C0bXUEeBCACMwyKwXx98kKSDOkNFkskxLkk8ic8OVQwMbRSIAMAot4HzsfsZJHeeT4FB3pX0WgDR29ChjQLZALCRRnAQNEjfLOuda1Iw53ObFp6tnKTPAtg7WO9QRoEQAFQgKH0UHGVfs3ysTdK3jyEi6THVVOAEGVEylFEgEgAlLoOijLksPQaBL3pCpBBPUvFRIAwAM1YMuA4O6ZABlawY6X9QwKOo+CgQDoBqOuh1CLEH7jjKDSTNQxAikpwixzeHkfcFRUeBIgDotaak5QE8vgrj9r/1v00C4Tl0VGIG8TdFfVySg0Ait5xXJHdyT69FZCgA6FfzyplkGztLAgj7Rfb7bu3/DyT5sXm8P+urkuw8Ymr6p0Toq3RslMLOvx+o7wFVYwGAesMqMNgdy4AYJi3MriRDyC4L+BQeTbJIONvYAaC2mHwQACei8hP5a5rrh7Q5yWwewIrBxL6Nawb9aq9Px9nRp433V21sAVADgv3y3loB4RFBBp1Nza8BbEvSaeqyRJLvCHxXECVbkPx2lLIZPWMPgBoQfMgyA4RoO9T1nUJyj9wPVAtfrwWi3MhOIBl98TT+I0BvR0h6VYozOBFAya3lphFJpiTtAyCKQs7ZVNdMoeb/zgVnvXxrRoCehaIDTk6v+AMj7TGjaxHJEC8nSc5cFnVEvD3JUEeUVgKgNi2cBWD7EghIW7mQcG5J3l6+M6iOJ5HcM0hXOxaB/RpbMGWtA1G8Fc0SSc6o5sxqEfKHahoIi5Zq9QhQGwlK+egtSEfFX83tubRuMal0FG3dLiS/nFun1u0C+jVYkg9KHOMfKZeQ3CxXoaRDko5Dc/VU5U8k6cVliEzECFAbCczD44uoSNmd5Kk5Civq/ChqeQfMvjinPvWykwYAxyZ6vo10rb6SpBlEskRSVIbVex2sGkUwMVEAcA9J8q/DJ2YrZvXYkoV3Jmnv58YiyTuBkAsnABtHxRJOHAAqEESvB84l6YVmY5HkswCfCUTI20l+MkLRpALA2UjsmLFuhJEqHRuQ/FGOPkkmg4i47g7zYSgOgAr53k/7CNdJHhxg+dDE6P17AE678q00pF1M8ns5xu0tK8nh6g5bj5LjSe6fo0xSVBBNmKtYUQBI+gCADw9oNGcfPY7kogHf7/uapPN9otf3xcFeuN1HuiTvGuz1pd+S5KwihzctXyvn+4AVIu4FigAgGd5uXt46PaNBY88muUODcksVkeTkDR5homTrtCNozBtUXWSdF1SZ9Un6tjFLwgEgyXF4ER24LkmzcmSJpJMAZF/vVpXIyg1UxQ946osQZyzzrWiWhAJA0gGJctVJlyPkDpLZ5EyStgUQlQn8UpKb5jQurU3sdPLkHB1V2c+TdFKMLAkDgCS7QptCJVL2J3l8jkJJZvNwvSLyEJrCZfkcKhdJ51b+jjnNctnLSG6cqyQSAGa2KJEcIWL75YXljrnGqspvRtIRwY1Eku8EfDeQKyExDSEAkGR+XfPslhBvEV+eo1jSGxKLySk5Ompl9yTpdUUjCVwI3pLq4fiKLIkCgOdYz7WlJIs7R5ITON0ZVLljUjjZQU11SfLh1I+blq+VuyfFMmTzMmYDQNIqKYfubQENmkvFQpJ75XxD0sXm48vRUZU9K9G7vqapnrQr8a/25qble8otlzKWmmewsUQAwPN+aWarq0j6bKGxBB7CLCa5TtOKVN7CZj2NkFVJ+oCqsUQAoOT8P9Owm0lmMZFJMoGDiRxy5d5E7Zp10yjJp4kr51akcg/7eY6eCACY3PCInEoMUPY+kg4wbSySFgD4SmMFSxbMCitPdPq/BLB6QF2yTwMjAOBgjZCryTkMkn0oJMnzv9cBEbIKSdO9NxJJvveIiPjdMnkHZR11RwDAC6Jsx8k+lryOZFaEjSTP29c06rGlC61O0id6jSS5iPk+wLejubJT7uVZBACcKPmG3Jb0KZ99QRS8+l4nXVgtbtrmRCTxBQARqeb3Jvm5pvVwuWwAWEmiSnMw5do5FelTNvviI+UCspNIVKKmDUna4aSRSHJ+gAMbFV6y0HtIZqW2iQKASZqznCX6GGMNkl44ZUk6EYziNXaMXuPVt6SoddN+JE/IMUoUAByrZ48ee/tESyR7R4RHzu0k7dnUWNIi8BVpEXhhYwX/L5h1Qho2BVTTgIkcstC4DIOE5tSRFEFre37K/pm1gJO0FoAIEutsqruQEWCm4yTZW8b0LlGyWoqCCTtmDspu8iGSWVE+kh6Sciz8FIBZxZrKTeYeIJl1qhgKgGokUNMW9ZTbI53+Rd3gPaA6ZQL7NIC3NKzjaWktEhJ5lNLPOMp3YcN6uFj2GUDoFFBvSGb2TSeX3LFkpm1Jpol9agPjr0TS9QuRjO3gwSSPjqhE+AhQmw7MIu41wXyIks5M9K1Rjhtz2keSyaAGTRZtL9xNSuQkSoRSdqGzK92gcnriOX7doC/3e68YAKrpwKtlu4Y7OeJclC4menA8vg9IhiZViltPCXOljrdr+Q4poZNJpotIFc7mxFtzBX16zvf6w8woYVIUAD3TgokSDAg/DgxxUIg9ZO3bFnVAM2/DSPIRs+vm62YHlZq11KSMpnm7Nl39nj1vpQ0KJCYRO3f4wsp1cF38uB7OhOZTR+8+/txA9ZxFhgaA6Ip3+mIs0AEgxo6t1dIBoLVdF1PxDgAxdmytlg4Are26mIp3AIixY2u1dABobdfFVLwDQIwdW6ulA0Bruy6m4h0AYuzYWi0dAFrbdTEV7wAQY8fWaukA0Nqui6l4B4AYO7ZWSweA1nZdTMU7AMTYsbVaOgC0tutiKv5fifryrln67WMAAAAASUVORK5CYII="></image></pattern><linearGradient id="woo_svg_rsssuccess_a"><stop offset="0" stop-color="#ff8200" /><stop offset="1" stop-color="#ffce68" /></linearGradient><linearGradient id="woo_svg_rsssuccess_d" gradientUnits="userSpaceOnUse" x1="81" x2="40.019" xlink:href="#woo_svg_rsssuccess_a" y1="37.51" y2="-8.49"></linearGradient><linearGradient id="woo_svg_rsssuccess_b"><stop offset="0" stop-color="#ff911e" /><stop offset="1" stop-color="#ffd379" /></linearGradient><linearGradient id="woo_svg_rsssuccess_e" gradientUnits="userSpaceOnUse" x1="81" x2="40.019" xlink:href="#woo_svg_rsssuccess_b" y1="37.51" y2="-8.49"></linearGradient><linearGradient id="woo_svg_rsssuccess_f" gradientUnits="userSpaceOnUse" x1="65" x2="52.528" xlink:href="#woo_svg_rsssuccess_a" y1="50.764" y2="36.764"></linearGradient><linearGradient id="woo_svg_rsssuccess_g" gradientUnits="userSpaceOnUse" x1="65" x2="52.528" xlink:href="#woo_svg_rsssuccess_b" y1="50.764" y2="36.764"></linearGradient><mask id="woo_svg_rsssuccess_h" height="26" maskUnits="userSpaceOnUse" width="26" x="23" y="21"><path d="M23.636 21.364h25v25h-25z" fill="url(#woo_svg_rsssuccess_c)" /></mask><circle cx="35" cy="35" fill="url(#woo_svg_rsssuccess_d)" r="23" /><circle cx="35" cy="35" fill="url(#woo_svg_rsssuccess_e)" r="23" /><circle cx="51" cy="50" fill="url(#woo_svg_rsssuccess_f)" r="7" /><circle cx="51" cy="50" fill="url(#woo_svg_rsssuccess_g)" r="7" /><circle cx="51" cy="50" fill="#ffd850" r="7" /><path d="M48 50.036l2.143 2.143L54 48.32" opacity=".8" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.714" /><g mask="url(#woo_svg_rsssuccess_h)"><circle cx="35" cy="35" fill="#ffeca7" r="23" /></g></symbol>'});s.a.add(r);e["default"]=r},5500:function(t,e,i){"use strict";var a=i("454d"),o=i.n(a);e["default"]=o.a},"55af":function(t,e,i){"use strict";var a=i("fba8"),o=i.n(a);e["default"]=o.a},"55dc":function(t,e,i){"use strict";var a=i("42a3"),o=i.n(a);e["default"]=o.a},"566b":function(t){t.exports=JSON.parse('[{"title":"我的主页","type":"profile","alink":"/u","icon":"navProfile","groups":[]},{"title":"我的关注","type":"follow","alink":"/u/page/follow","icon":"navFollows","groups":[]},{"title":"我的粉丝","type":"fans","alink":"/u/page/follow","icon":"navFans","groups":[],"badge":true,"badgeKey":"follower"},{"title":"我的收藏","type":"fav","alink":"/u/page/fav","icon":"navCollect","groups":[]},{"title":"我的赞","type":"like","alink":"/u/page/like","icon":"navLike","groups":[]},{"title":"创作者中心","type":"creator","alink":"https://me.weibo.com","icon":"navSetup","groups":[],"target":"_blank"}]')},"56cf":function(t,e,i){t.exports={desc:"InterestModule_desc_2OEl2",right:"InterestModule_right_ZhVvO",userTags:"InterestModule_userTags_1KdoT",screenName:"InterestModule_screenName_3jEr0"}},"56d7":function(t,e,i){"use strict";i.r(e);i("5377");var a=i("5530"),o=(i("e260"),i("e6cf"),i("cca6"),i("a79d"),i("a026")),n=i("f2e8"),s=i.n(n),r=i("2f62"),l=(i("5abe"),i("85fe")),c=(i("d3b7"),i("ac1f"),i("3ca3"),i("466d"),i("ddb0"),i("2b3d"),i("3835")),u=(i("96cf"),i("1da1")),d=i("fc8e"),h=i.n(d),p=i("c54d");function f(t){for(var e in t)0===t[e]||t[e]||delete t[e]}h.a.defaults.withCredentials=!0,h.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",h.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded";var m={install:function(t){h.a.defaults.baseURL="",t.prototype.$http=h.a,t.http=h.a,h.a.interceptors.request.use((function(t){var e,i,a,o;t.headers["client-version"]=null===(e=window)||void 0===e||null===(i=e.$VERSION)||void 0===i?void 0:i.CLIENT,t.headers["server-version"]=null===(a=window)||void 0===a||null===(o=a.$VERSION)||void 0===o?void 0:o.SERVER;var n=t.params,s=t.data;return n&&f(n),s&&f(s),t}),(function(t){return Promise.reject(t)})),h.a.interceptors.response.use((function(e){var i;if(null===e||void 0===e||null===(i=e.config)||void 0===i?void 0:i.disabledDefault)return e;var a=e.data;if(a){if(-100===a.ok&&a.url){var o=new URL(a.url);"weibo.com"===o.host&&o.pathname.match(/^\/newlogin/)?t.prototype.$Bus.$emit("loginPop"):window.location.href=a.url}if(0===a.ok)switch(a.error_type){case"alert":a.btn||(a.btn={}),t.$_wooBus.$_w_dialog({type:"alert",touchclose:!1,message:a.msg,btnConfirm:a.btn.text,title:a.btn.title,action:function(){a.btn.url&&(window.location.href=a.btn.url)}});break;case"confirm":a.btn||(a.btn={}),t.$_wooBus.$_w_dialog({type:"confirm",message:a.msg,btnConfirm:a.btn.text||"确定",btnCancel:a.btn.cancelText||"取消",title:a.btn.title,action:function(){a.btn.url&&("_blank"===a.btn.target?window.open(a.btn.url):window.location.href=a.btn.url)}});break;case"toast":if(a.skip_toast)break;t.$_wooBus.$_w_toast({type:"warn",message:a.msg});break;case"link":a.url&&(window.location.href=a.url);default:}}return e}),function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(i){var a,o,n,s,r,l,u,d,f,m,v,_,g,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!i||!i.response){e.next=27;break}if("post"!==(null===(a=i.response)||void 0===a||null===(o=a.config)||void 0===o?void 0:o.method)){e.next=27;break}if(d=20062===(null===i||void 0===i||null===(n=i.response)||void 0===n?void 0:n.data.error_code),!d){e.next=23;break}return e.next=6,Object(p["b"])();case 6:if(f=e.sent,m=Object(c["a"])(f,2),v=m[0],_=m[1],!v){e.next=13;break}return Object(p["a"])(v),e.abrupt("return",Promise.reject(v));case 13:return e.prev=13,g=JSON.parse(i.response.config.data),g=Object.assign({},g,_),i.response.config.data=JSON.stringify(g),Object(p["a"])(v),e.abrupt("return",h.a.request(i.response.config));case 21:e.prev=21,e.t0=e["catch"](13);case 23:if(!(null===i||void 0===i||null===(s=i.response)||void 0===s||null===(r=s.config)||void 0===r?void 0:r.disabledDefault)){e.next=25;break}return e.abrupt("return",Promise.reject(i));case 25:b=i.response.data,(null===(l=i.response)||void 0===l||null===(u=l.config)||void 0===u?void 0:u.ignore_toast)||t.$_wooBus.$emit("wooToast",{type:"error",message:b.message?b.message:"获取数据失败"});case 27:return e.abrupt("return",Promise.reject(i));case 28:case"end":return e.stop()}}),e,null,[[13,21]])})));return function(t){return e.apply(this,arguments)}}())}};o["default"].use(m);var v=m,_=i("6dec"),g=(i("bc12"),i("52c4")),b=i.n(g);o["default"].use(b.a);var y=b.a,w=i("cfc1"),x=(i("5b5d"),i("ed09")),k=i("2b88"),$=i.n(k),C=i("63a6"),O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("QrcodeWrap"),i("PopCardWrap",{attrs:{hasDestination:""}}),i("router-view"),i("FollowGroup"),i("Viewer"),i("ModalPublish"),i("ModalComposer"),i("MicroReviewPop"),i("PublisherTopicPop"),i("woo-dialog",{nativeOn:{click:function(t){t.stopPropagation()}}}),i("woo-toast"),i("Layer"),i("MiniPlayer"),i("LoginPop"),i("VideoEidtor"),i("LayerCollect"),i("portal-target",{attrs:{name:"destination"}})],1)},j=[],T=(i("caad"),i("b0c0"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.visable?i("woo-modal",{class:t.$style.container,staticStyle:{"overflow-x":"hidden"},attrs:{animation:"slide-bottom","lock-screen":"","inside-scroll":""},on:{"after-enter":t.addMargin,"before-leave":t.removeMargin},nativeOn:{mousedown:function(e){return t.close(e)}}},[i("div",{ref:"layer",staticClass:"wbpro-layer",on:{mousedown:function(t){t.stopPropagation()}}},[i("woo-panel",{attrs:{border:"bottom"}},[i("woo-box",{staticClass:"wbpro-layer-tit"},[i("woo-box-item",{staticClass:"wbpro-layer-tit-text",attrs:{align:"center"},nativeOn:{click:function(e){return t.jumpLink(e)}}},[t._v(t._s(t.settings.title)+" "),t.settings.desc?i("span",{class:t.$style.desc},[t._v(t._s(t.settings.desc))]):t._e(),t.settings.descLink?i("woo-fonticon",{class:t.$style.qaCircle,attrs:{value:"qaCircle"}}):t._e()],1),i("woo-box",{staticClass:"wbpro-layer-tit-opt",attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return e.stopPropagation(),t.close(e)}}},[i("woo-fonticon",{attrs:{value:"cross"}})],1)],1)],1),i("Publisher",{class:t.$style.pub,attrs:{set:t.settings,"lock-screen":!1,toolsfliter:t.toolsfliter,sendDesc:t.sendDesc},on:{change:function(e){return t.publishChange(arguments)}}})],1)]):t._e()}),D=[],S=(i("a434"),i("fc5f")),I={data:function(){return{visable:!1,settings:{},isEmpty:!0,exist:!1,toolsfliter:[],sendDesc:""}},components:{Publisher:S["default"]},methods:{jumpLink:function(){var t;(null===(t=this.settings)||void 0===t?void 0:t.descLink)&&window.open(this.settings.descLink,"_blank")},addMargin:function(){if(this.$refs.layer){var t=this.$refs.layer.getBoundingClientRect(),e=t.y;this.$refs.layer.style.margin=e>50?"350px":"".concat(e>0?e+200:200-e,"px 350px 0")}},removeMargin:function(){this.$refs.layer&&(this.$refs.layer.style.margin="")},close:function(){var t=this;this.isEmpty?(this.visable=!1,this.toLog({luicode:this.$route.meta.uicode,page:"qPublisher",actType:"click",extValue:"13"})):this.$_w_dialog({type:"confirm",title:"确认关闭？",message:"关闭之后将不可恢复",action:function(){t.visable=!1,t.toLog({luicode:t.$route.meta.uicode,page:"qPublisher",actType:"click",extValue:"13"})}})},publishChange:function(t){switch(t[0]){case"date":this.isEmpty=t[1];break;case"close":this.visable=!1;break}},showModalPublish:function(){var t=this;this.$Bus.$on("showModalPublish",this.showModalPublishHandle),this.$once("hook:beforeDestroy",(function(){t.$Bus.$off("showModalPublish",t.showModalPublishHandle)}))},showModalPublishHandle:function(t){if(!this.visable){var e=["emoticon","image","hash","at","video","article","vote","place","stopic","vellipsis","timer","audio","assistCreation"];"modify"===t.action&&e.splice(4,1),this.toolsfliter=e,this.settings=t,this.visable=!0,this.sendDesc=t.sendDesc}}},watch:{$route:function(t){this.visable=!1}},mounted:function(){this.exist||(this.exist=!0,this.showModalPublish())}},L=I,B=i("1d1e"),P=i("2877");function A(t){this["$style"]=B["default"].locals||B["default"]}var E=Object(P["a"])(L,T,D,!1,A,null,null),M=E.exports,F=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-modal",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[i("div",{staticClass:"wbpro-layer"},[i("woo-panel",{attrs:{border:"none"}},[i("woo-box",{staticClass:"wbpro-layer-tit"},[i("woo-box-item",{staticClass:"wbpro-layer-tit-text",attrs:{align:"center"}}),i("woo-box",{staticClass:"wbpro-layer-tit-opt",attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return t.close(e)}}},[i("woo-fonticon",{attrs:{value:"cross"}})],1)],1)],1),i("div",{class:t.$style.box},["new"===t.collectType?i("woo-tip",{attrs:{type:"success",sort:"vertical"}},[t._v("收藏成功")]):i("woo-box",{attrs:{align:"center",justify:"center"}},[t._v("收藏标签管理")]),i("div",{class:t.$style.listout},[i("div",{class:[t.$style.list,"wbpro-scrollbar"]},[i("span",{class:t.$style.tit},[t._v("我的标签：")]),t._l(t.tags.tags,(function(e,a){return i("span",{key:a,class:[t.$style.tag,e.cur&&(0===e.id?t.$style.tag_all:t.$style.tag_cur)],on:{click:function(i){return t.changeTagCur(e)}}},[t._v(t._s(t.handleTagText(e)))])})),t.tags.tags.filter((function(t){return t.cur})).length<=2?i("span",{class:t.$style.check_container},[i("woo-input",{class:[t.$style.ipt,t.newTagFocus&&t.$style.ipt1],attrs:{placeholder:"创建新标签"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addNewTag(e)},"!blur":function(e){return t.blurNewTag(e)},"!focus":function(e){return t.focusNewTag(e)},compositionstart:function(e){return t.compositionstart(e)},compositionend:function(e){return t.curCompositionend(e)},keypress:function(t){t.stopPropagation()}},model:{value:t.newTag,callback:function(e){t.newTag=e},expression:"newTag"}}),t.newTagFocus?i("woo-fonticon",{class:t.$style.check,attrs:{value:"check"},nativeOn:{click:function(e){return t.addNewTag(e)}}}):t._e()],1):t._e()],2)]),i("woo-box",{class:t.$style.tip,attrs:{justify:"between"}},[i("div",[t._v("添加标签管理你的收藏")]),i("div",{class:t.$style.error},[t._v(t._s(t.error))])])],1),i("woo-box",{staticClass:"wbpro-layer-btn",attrs:{justify:"center"}},[i("woo-button",{staticClass:"wbpro-layer-btn-item",attrs:{sort:"flat",kind:"default"},on:{click:t.close}},[t._v("取消")]),i("woo-button",{staticClass:"wbpro-layer-btn-item",attrs:{sort:"flat",kind:"primary",disabled:Boolean(t.error)},on:{click:t.confirm}},[t._v("添加")])],1)],1)])},R=[],V=(i("99af"),i("4de4"),i("7db0"),i("a15b"),i("d81d"),i("45fc"),i("2909")),N=i("7496"),H={props:{},setup:function(t){var e=Object(x["d"])(),i=e.proxy,a=Object(N["a"])(),o=a.tags,n=a.error,s=a.getTags,r=a.addTag,l=a.reset,c=a.handleError,u=a.compositionend,d=a.compositionstart,h=Object(x["n"])(!1),p=Object(x["n"])(""),f=Object(x["n"])(""),m=Object(x["n"])("new"),v=Object(x["n"])([]),_=function(){if(!n.value&&f.value){var t={tag:f.value,cur:!1,id:new Date,count:0,new:!0};o.tags.push(t),k(t),f.value=""}},g=function(){h.value=!1};Object(x["s"])((function(){return f.value}),(function(t){c(f.value)})),Object(x["s"])((function(){return n.value}),(function(){if("仅限12个字符"===n.value){var t=function(t){for(var i="",a=0,o=0;o<t.length;o++){if(e.test(t[o])?a+=2:a++,!(a<=24))break;i+=t[o]}return i},e=/[^\x00-\xff]/;setTimeout((function(){f.value=t(f.value)}),300)}}));var b=function(){u((function(){c(f.value)}))},y=[];Object(x["k"])((function(){i.$Bus.$on("showLayerCollect",(function(t){var e=t.id,i=t.collect_type,a=t.tags;l(),p.value!==e&&(f.value=""),p.value=e,i&&(m.value=i),a?(y=a,v.value=a):v.value=[],s("",!0,!1).then((function(){a&&v.value.map((function(t){var e=o.tags.find((function(e){return e.id===t.id}));Object(x["o"])(e,"cur",!0)})),h.value=!0}))}))})),Object(x["l"])((function(){i.$Bus.$off("showLayerCollect",(function(t){h.value=!0}))}));var w=function(){var t=o.tags.filter((function(t){return t.cur&&t.id})).map((function(t){return t.tag})).join(",");r(p.value,t).then((function(t){var e,a=t.data;a.ok&&((e=v.value).splice.apply(e,[0,2].concat(Object(V["a"])(a.data.tags))),i.$Bus.$emit("tagRefresh"),h.value=!1)}))},k=function(t){if(o.tags.map((function(t){return t.id})),3===o.tags.filter((function(t){return t.cur})).length&&!t.cur)return n.value="最多可选2个自定义标签",void setTimeout((function(){n.value=""}),1e3);t.id&&(t.cur=!t.cur)},$=Object(x["n"])(!1),C=function(){$.value=!0},O=function(){$.value=!1,_()},j=function(t){var e=y.some((function(e){return e.id===t.id})),i=t.count+(t.id>0&&t.cur?e?0:1:e?-1:0);return"".concat(t.tag,"(").concat(i,")")};return{show:h,tags:o,newTag:f,collectType:m,error:n,newTagFocus:$,blurNewTag:O,focusNewTag:C,close:g,confirm:w,changeTagCur:k,addNewTag:_,curCompositionend:b,compositionstart:d,handleTagText:j}}},z=H,U=i("8d5f");function G(t){this["$style"]=U["default"].locals||U["default"]}var q=Object(P["a"])(z,F,R,!1,G,null,null),W=q.exports,Q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.modalVisible?i("woo-modal",{staticStyle:{"overflow-x":"hidden"},attrs:{animation:"slide-bottom","lock-screen":"","inside-scroll":"",align:"start"},on:{"before-enter":t.addMargin,"after-leave":t.removeMargin},nativeOn:{mousedown:function(e){return e.stopPropagation(),t.close(e)}}},[i("div",{key:t.time,ref:"layer",staticClass:"wbpro-layer",on:{mousedown:function(t){t.stopPropagation()}}},[i("woo-panel",{attrs:{border:"bottom"}},[i("woo-box",{staticClass:"wbpro-layer-tit"},[i("woo-box-item",{staticClass:"wbpro-layer-tit-text",attrs:{align:"center"}},[t._v("发布微评")]),i("woo-box",{staticClass:"wbpro-layer-tit-opt",attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return t.close(e)}}},[i("woo-fonticon",{attrs:{value:"cross"}})],1)],1)],1),i("div",{class:t.$style.box},[i("PublisherForm",{ref:"form",attrs:{storge:"micro_review",needTitle:t.needTitle,placeholder:t.placeholder,maxCount:4700,content:t.content,title:t.title},on:{"update:needTitle":function(e){t.needTitle=e},"update:need-title":function(e){t.needTitle=e},change:t.formChange,textcount:t.formTextCount,imageUpload:t.pasteImg,fromKeydownEnter:function(e){!t.sendDisabled&&t.toolbarPublish()},hide:function(e){return t.hideAllLayer("emotion")},titlechange:t.titlechange,"change-tool":t.changeTool,"update:title":function(e){t.title=e}}}),i("woo-box",{class:[t.$style.b1,t.$style.gap],attrs:{align:"center",justify:"between"}},[i("woo-box",{attrs:{align:"center"}},[i("div",[t._v("小标题")]),i("woo-box-item",{attrs:{align:"center"}},[i("woo-box",{attrs:{align:"center"}},t._l(t.microTitle,(function(e,a){return i("woo-box",{key:a,class:[t.$style.b1t1,t.$style.click],attrs:{align:"center"},nativeOn:{click:function(i){return t.inserText(e)}}},[i("span",{class:t.$style.icon,domProps:{innerHTML:t._s(e.name)}})])})),1)],1)],1),t.needTitle?t._e():i("woo-box",{class:[t.$style.b1t2,t.$style.click],attrs:{align:"center"},nativeOn:{click:function(e){return t.addTitle(e)}}},[i("woo-fonticon",{class:t.$style.b1i1,attrs:{value:"add"}}),i("span",[t._v("添加标题")])],1)],1),i("div",{class:[t.$style.b2,t.$style.gap]},[t._l(t.goodsTagList,(function(e,a){return i("span",{key:a,class:[t.$style.btnbox,t.$style.click]},[i("woo-box",{class:[t.$style.btn,t.$style.btn1],attrs:{align:"center"}},[i("woo-box-item",{class:t.$style.b2t,attrs:{align:"center"}},[t._v(t._s(e.desc))]),i("woo-fonticon",{class:[t.$style.b2i,t.$style.b2i1],attrs:{value:"cross"},nativeOn:{click:function(e){return t.deleteItem(a)}}})],1)],1)})),t.goodsTagList.length<4?i("span",{class:[t.$style.btnbox,t.$style.click]},[i("woo-box",{class:[t.$style.btn,t.$style.btn2],attrs:{align:"center"},nativeOn:{click:function(e){return e.stopPropagation(),t.showSearch()}}},[i("woo-fonticon",{class:[t.$style.b2i,t.$style.b2i2],attrs:{value:"add"}}),i("woo-box-item",{attrs:{align:"center"}},[t._v("关联物品")])],1),t.config?i("search",{ref:"search",attrs:{config:t.config},on:{add:t.addItem}}):t._e()],1):t._e()],2),i("div",{class:t.$style.gap},[i("div",{class:t.$style.box2},[i("PublisherImage",{ref:"image",attrs:{data:t.ModifyPic,canFoucs:!0,file:t.pasteImage,source:1},on:{change:t.imageChange}})],1),i("PublisherVideo",{ref:"video",attrs:{data:t.media,timerImage:this.set&&this.set.data&&this.set.data.videoImage},on:{edit:t.videoEdit,close:t.videoClose}}),i("PublisherTool",{ref:"tools",attrs:{formCount:t.formCount,data:t.publishData,action:t.toolAction,ispost:t.ispost,toolsfliter:t.toolsfliter,"tools-disable":t.toolsDisable},on:{change:t.toolbarChange,publish:t.toolbarPublish}}),i("div",{class:t.$style.pos},[i("PublisherEmoticon",{ref:"emoticon",on:{change:t.emoticonChange}}),i("PublisherVideoPop",{ref:"videopop",attrs:{"lock-screen":!1},on:{change:function(e){return t.videoChange(arguments)}}})],1)],1)],1)],1)]):t._e()},J=[],K=(i("841c"),i("1276"),i("072d")),Y=i("bb16"),X=i("26c2"),Z=i("f0ce"),tt=i("957f"),et=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.modalVisible,expression:"modalVisible"}],on:{click:function(t){t.stopPropagation()}}},[i("woo-pop",{class:t.$style.box,attrs:{show:"",direction:t.top?"up":"down",align:t.top?"end":"start"}},[i("div",{class:t.$style.iptbox},[i("woo-input",{class:t.$style.ipt,attrs:{placeholder:t.config.search_object_hint_more},nativeOn:{keypress:function(t){t.stopPropagation()}},model:{value:t.q,callback:function(e){t.q=e},expression:"q"}})],1),t.q?t._e():i("div",{class:t.$style.tab},[i("div",{class:t.$style.tabin},t._l(t.channel_list,(function(e,a){return i("a",{key:a,class:[a==t.channelIndex&&t.$style.curr],attrs:{href:""},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.changeChannel(e,a)}}},[t._v(t._s(e.name))])})),0)]),t.isEmpty?t._e():i("div",{class:t.$style.scroll},[i("Scroll",{attrs:{keyField:"scheme",data:t.items,isLoading:t.isLoading,isEmpty:t.isEmpty,isRetry:t.isRetry,isInCard:""},on:{loadMoreData:t.getMore},scopedSlots:t._u([{key:"content",fn:function(e){var a,o=e.item;return[i("woo-pop-item",{class:(a={},a[t.$style.item]=!0,a[t.$style.cur]=1===t.index,a),attrs:{cur:1===t.index},nativeOn:{click:function(e){return t.change(o)}}},[i("woo-picture",{class:t.$style.pic,attrs:{src:o.data.image,alt:""}}),i("woo-box-item",{class:t.$style.cut,attrs:{align:"center"}},[i("div",{class:[t.$style.h3]},[t._v(" "+t._s(o.desc)+" ")]),i("div",{class:t.$style.h4},[t._v(" "+t._s(o.data.description)+" ")])])],1)]}}],null,!1,2896184048)})],1)])],1)},it=[],at=i("6701"),ot=i("362c"),nt={mixins:[ot["a"]],props:{config:{type:Object,default:function(){return{relate_object_none:"关联物品/电影/地点等",relate_object_more:"关联物品",relate_object_max_num:4,search_object_hint_none:"搜索物品、电影、地点...",search_object_hint_more:"搜索物品",object_subtitles:"🌟亮点推荐：,💣雷点吐槽：",text_default:"种草生活好物，你的真实体验可以帮助更多人～"}}}},data:function(){return{q:"",page:1,items:[],isLoading:!0,isRetry:!1,isNoData:!1,isEmpty:!0,timeout:null,tablist:{},containerId:"",channelIndex:0,channel_list:[]}},components:{Scroll:at["a"]},mounted:function(){this.getChannel()},watch:{q:function(t){this.page=1,this.debounce(this.getMore,300)()}},methods:{getMore:function(){this.q?this.get():this.getChannel()},changeChannel:function(t,e){this.channelIndex=e,this.containerId=t.containerid,this.page=1,this.getChannel()},getChannel:function(){var t=this;this.isLoading=!0,this.isRetry=!1,this.isNoData=!1,this.isEmpty=!1,this.$http.get("/ajax/evaluation/tab_search",{params:{containerId:this.containerId,since_id:this.page}}).then((function(e){var i=e.data.data&&e.data.data.cards;i&&i.length&&e.data.ok?(t.isRetry=!1,t.items&&t.items.length?(1===t.page&&t.$set(t,"items",[]),t.$nextTick((function(){t.items=t.items.concat(i)}))):(t.items=[],t.$nextTick((function(){t.items=i}))),t.isLoading=!0,t.page=e.data.data.cardlistInfo.since_id,0!==i.length&&0!==t.page||(t.isNoData=!0,t.isLoading=!1)):0===t.items.length||""===t.q||1===t.page?(t.isEmpty=!0,t.items=[]):(t.isNoData=!0,t.isLoading=!1),t.channel_list=e.data.data.cardlistInfo.cardlist_head_cards[0].channel_list}))},change:function(t){this.$emit("add",t),this.hide()},get:function(){var t=this;!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isLoading=!0,this.isRetry=!1,this.isNoData=!1,this.isEmpty=!1,this.$http.get("/ajax/evaluation/query",{params:{q:this.q}}).then((function(e){e.data.data&&e.data.data.length&&e.data.ok?(t.isRetry=!1,t.items&&t.items.length?(t.$set(t,"items",[]),t.$nextTick((function(){t.items=t.items.concat(e.data.data)}))):(t.items=[],t.$nextTick((function(){t.items=e.data.data}))),t.isLoading=!0,t.page++,(0===e.data.data.length||e.data.data.length<1e4)&&(t.isNoData=!0,t.isLoading=!1)):0===t.items.length||""===t.q||1===t.page?(t.isEmpty=!0,t.items=[]):(t.isNoData=!0,t.isLoading=!1)}))},debounce:function(t,e){var i=this;return function(){null!==i.timeout&&clearTimeout(i.timeout),i.timeout=setTimeout(t,e)}}}},st=nt,rt=i("ea92");function lt(t){this["$style"]=rt["default"].locals||rt["default"]}var ct=Object(P["a"])(st,et,it,!1,lt,null,null),ut=ct.exports,dt=i("1259"),ht=i("9435"),pt={mixins:[ht["a"],ot["a"]],data:function(){return{config:null,placeholder:"",microTitle:[],goodsTagList:[],needTitle:!1,toolsfliter:["emoticon","image","hash","at","video"],review_object_title:[],review_oid:"",title:"",toolsDisable:[],formCount:{count:0,maxcount:0}}},components:{PublisherForm:K["a"],PublisherTool:Y["a"],PublisherImage:X["a"],PublisherVideo:Z["a"],PublisherVideoPop:tt["a"],PublisherEmoticon:dt["a"],search:ut},computed:Object(a["a"])({},Object(r["c"])(["composerConfig"])),watch:{modalVisible:function(t){t&&this.handleConfig()}},methods:Object(a["a"])(Object(a["a"])({},Object(r["b"])(["setComposerConfig"])),{},{addMargin:function(){this.$refs.layer&&(this.$refs.layer.style.margin="250px")},removeMargin:function(){this.$refs.layer&&(this.$refs.layer.style.margin="")},getDefault:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.initData(),t&&this.handleConfig()},close:function(){var t=this;this.dataEmpty?(this.$emit("change","close"),Object.assign(this.$data,this.$options.data()),this.getDefault()):this.$_w_dialog({type:"confirm",title:"确认关闭？",message:"关闭之后将不可恢复",action:function(){t.$emit("change","close"),Object.assign(t.$data,t.$options.data()),t.getDefault()}})},handleConfig:function(){var t,e,i,a,o=this;(null===this||void 0===this||null===(t=this.composerConfig)||void 0===t||null===(e=t.push_active)||void 0===e?void 0:e.evaluation_composer_data)?(this.config=null===(i=this.composerConfig)||void 0===i||null===(a=i.push_active)||void 0===a?void 0:a.evaluation_composer_data,this.config&&(this.placeholder=this.config.text_default,this.microTitle=this.config.object_subtitles.split(",").map((function(t){return{name:t,text:t}})))):this.$http.get("/ajax/statuses/config",{params:{type:"push_active"}}).then((function(t){t.data.ok&&(o.config=t.data.data.evaluation_composer_data,o.setComposerConfig({push_active:t.data.data}),o.config&&(o.placeholder=o.config.text_default,o.microTitle=o.config.object_subtitles.split(",").map((function(t){return{name:t,text:t}}))))}))},formTextCount:function(t){var e=t.count,i=t.maxcount;this.formCount={count:e,maxcount:i}},inserText:function(t){this.$refs.form.inserText(this.formCount&&this.formCount.count>0?"\n".concat(t.text,"\n"):"".concat(t.text,"\n")),this.$refs.form.addHeight(48)},deleteItem:function(t){if(this.goodsTagList.splice(t,1),t==this.goodsTagList.length){var e=this.goodsTagList.length-1;if(e<0)return void this.handleConfig();this.placeholder=this.goodsTagList[e].placeholder,this.microTitle=this.goodsTagList[e].data.sub_title}},addItem:function(t){var e=this.goodsTagList.some((function(e){return e.data.title===t.data.title}));e?this.$_w_toast({type:"error",message:"物品已存在"}):(this.placeholder=t.placeholder,this.microTitle=t.data.sub_title,this.goodsTagList.push(t))},showSearch:function(){this.$refs.search.show()},titlechange:function(t){this.title=t},changeTool:function(t){this.toolsDisable=t},addTitle:function(){var t=this;this.needTitle=!0,this.$nextTick((function(){t.$refs.form.onTitleHead()}))},closePopHandle:function(){this.hideAllLayer()},showReviewPopHandle:function(){var t=this;this.modalVisible=!0,this.$nextTick((function(){t.$refs.form.onhead(!1)}))}}),mounted:function(){var t=this;this.getDefault(!1),document.addEventListener("click",this.hideAllLayer),this.$Bus.$on("closePop",this.closePopHandle),this.$Bus.$on("showReviewPop",this.showReviewPopHandle),this.$once("hook:beforeDestroy",(function(){t.$Bus.$off("closePop",t.closePopHandle),t.$Bus.$off("showReviewPop",t.showReviewPopHandle)}))},beforeDestroy:function(){document.removeEventListener("click",this.hideAllLayer)}},ft=pt,mt=i("826d");function vt(t){this["$style"]=mt["default"].locals||mt["default"]}var _t=Object(P["a"])(ft,Q,J,!1,vt,null,null),gt=_t.exports,bt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.modalVisible?i("woo-modal",{staticStyle:{"overflow-x":"hidden"},attrs:{animation:"slide-bottom","lock-screen":"","inside-scroll":"",align:"start"},on:{"before-enter":t.addMargin,"after-leave":t.removeMargin},nativeOn:{mousedown:function(e){return e.stopPropagation(),t.close(e)}}},[i("div",{key:t.time,ref:"layer",staticClass:"wbpro-layer",on:{mousedown:function(t){t.stopPropagation()}}},[i("woo-panel",{attrs:{border:"bottom"}},[i("woo-box",{staticClass:"wbpro-layer-tit"},[t.topicItem?i("woo-box-item",{staticClass:"wbpro-layer-tit-text",attrs:{align:"center"}},[t._v("发布到"),i("span",{class:t.$style.stitle},[i("woo-fonticon",{attrs:{value:"stopic"}}),t._v(t._s(t.topicItem.title))],1)]):i("woo-box-item",{staticClass:"wbpro-layer-tit-text",attrs:{align:"center"}},[t._v("发布超话")]),i("woo-box",{staticClass:"wbpro-layer-tit-opt",attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return t.close(e)}}},[i("woo-fonticon",{attrs:{value:"cross"}})],1)],1)],1),i("div",{class:t.$style.box},[i("PublisherForm",{ref:"form",attrs:{placeholder:"掐指一算，此贴必火",maxCount:4700,content:t.content,title:t.title},on:{change:t.formChange,textcount:t.formTextCount,imageUpload:t.pasteImg,fromKeydownEnter:function(e){!t.sendDisabled&&t.toolbarPublish()},hide:function(e){return t.hideAllLayer("emotion")},titlechange:t.titlechange,"change-tool":t.changeTool,"update:title":function(e){t.title=e}}}),i("woo-box",{class:[t.$style.b2,t.$style.gap],attrs:{justify:"between",align:"top"}},[i("woo-box",{class:[t.$style.btnbox,t.$style.click],attrs:{align:"top"}},[i("woo-box",{class:[t.$style.btn,t.$style.btn2],attrs:{align:"center"},nativeOn:{click:function(e){return e.stopPropagation(),t.showSearch()}}},[i("woo-fonticon",{class:[t.$style.b2i,t.$style.b2i2],attrs:{value:"add"}}),i("woo-box-item",{attrs:{align:"center"}},[t._v("选择超话")])],1),i("PublisherTopicSearch",{directives:[{name:"show",rawName:"v-show",value:t.showTopic,expression:"showTopic"}],ref:"search",on:{select:t.changeFrom}})],1),1!==(t.topicItem&&t.topicItem.is_obturate)?i("div",{class:[t.$style.btnbox]},[i("woo-checkbox",{model:{value:t.sync_mblog,callback:function(e){t.sync_mblog=e},expression:"sync_mblog"}},[t._v("同步到微博")])],1):t._e()],1),i("div",{class:t.$style.gap},[i("div",{class:t.$style.box2},[i("PublisherImage",{ref:"image",attrs:{data:t.ModifyPic,canFoucs:!0,file:t.pasteImage,source:1,items:3,width:50},on:{change:t.imageChange}})],1),i("PublisherVideo",{ref:"video",attrs:{data:t.media,timerImage:this.set&&this.set.data&&this.set.data.videoImage},on:{edit:t.videoEdit,close:t.videoClose}}),i("PublisherTool",{ref:"tools",attrs:{formCount:t.formCount,data:t.publishData,action:t.toolAction,ispost:t.ispost,toolsfliter:t.toolsfliter,"tools-disable":t.toolsDisable,"visible-only":t.visibleOnly,"done-disabled":!(t.topicItem&&t.topicItem.topic_id)},on:{change:t.toolbarChange,publish:t.toolbarPublish}}),i("div",{class:t.$style.pos},[i("PublisherEmoticon",{ref:"emoticon",on:{change:t.emoticonChange}}),i("PublisherVideoPop",{ref:"videopop",attrs:{"lock-screen":!1},on:{change:function(e){return t.videoChange(arguments)}}})],1)],1)],1)],1)]):t._e()},yt=[],wt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.modalVisible,expression:"modalVisible"}],on:{click:function(t){t.stopPropagation()}}},[i("woo-pop",{class:t.$style.box,attrs:{show:"",direction:t.top?"up":"down",align:t.top?"end":"start"}},[i("div",{class:t.$style.iptbox},[i("woo-input",{class:t.$style.ipt,attrs:{placeholder:"搜索超话"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),i("div",{class:t.$style.tab,on:{mousewheel:function(e){return e.stopPropagation(),e.preventDefault(),t.tabScroll(e)},mousedown:function(e){return e.stopPropagation(),e.preventDefault(),t.tabDown(e)},mousemove:function(e){return e.stopPropagation(),e.preventDefault(),t.tabMove(e)},mouseup:function(e){return e.stopPropagation(),e.preventDefault(),t.tabUp(e)}}},[i("div",{ref:"tabs",class:t.$style.tabin,style:t.tabTran},t._l(t.cates,(function(e,a){return i("a",{key:a,class:t.curCate==a&&t.$style.curr,attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.changeCurCate(a)}}},[t._v(t._s(e.name))])})),0)]),i("woo-tip",{class:t.$style.tip1,attrs:{type:"warn",sort:"flat"}},[t._v("发布未关注超话时，系统会自动关注所选超话")]),i("div",{class:t.$style.scroll},[t.isEmpty?i("woo-tip",{class:t.$style.tip2,attrs:{type:"warn",sort:"vertical"}},[t._v("未找到相关超话")]):i("div",{class:t.$style.list},[i("Scroll",{attrs:{keyField:"scheme",data:t.list,isLoading:t.isLoading,isEmpty:t.isEmpty,isRetry:t.isRetry,isInCard:""},on:{loadMoreData:t.getList},scopedSlots:t._u([{key:"content",fn:function(e){var a=e.item;return[i("woo-box",{key:t.index,class:[t.$style.item,t.$style.item2,t.$style.hover,t.$style.click],attrs:{align:"center"},nativeOn:{click:function(e){return t.select(a)}}},[i("woo-picture",{class:t.$style.pic,attrs:{src:a.image,alt:""}}),i("woo-box-item",{class:t.$style.cut,attrs:{align:"center"}},[i("div",{class:[t.$style.h3,"wbpro-textcut"]},[i("woo-fonticon",{class:t.$style.icon,attrs:{value:"stopic"}}),t._v(t._s(a.title)+" ")],1),i("div",{class:[t.$style.h4,"wbpro-textcut"]},[i("span",[t._v(t._s(a.description))]),i("span")])])],1)]}}])})],1)],1)],1)],1)},xt=[],kt={mixins:[ot["a"]],components:{Scroll:at["a"]},setup:function(t,e){var i=e.root,a=e.emit,o=Object(x["n"])([]),n=Object(x["n"])([]),s=Object(x["n"])(0),r=Object(x["n"])(),l=Object(x["n"])(1),c=Object(x["n"])(!0),u=Object(x["n"])(!1),d=Object(x["n"])(!1),h=Object(x["n"])(!0);Object(x["s"])((function(){return r.value}),(function(t){l.value=1,n.value=[],c.value=!0,f(t)}));var p=function(t){i.$http.get("/ajax/stopic/cates").then((function(e){e.data.data&&(o.value=e.data.data),f(t.value)}))},f=function(t){c.value=!0,u.value=!1,d.value=!1,h.value=!1,i.$http.get("/ajax/stopic/list",{params:{sort_id:t?0:o.value[s.value].id,keyword:t,page:l.value}}).then((function(t){if(t.data.errno)n.value=[],c.value=!1,h.value=!0;else{if(1===l.value?n.value=t.data.data:n.value=n.value.concat(t.data.data),c.value=!0,l.value>=t.data.count)return d.value=!0,c.value=!1,void(0===n.value.length&&1===l.value&&(c.value=!1,h.value=!0));l.value+=1,0!==n.value.length&&0!==l.value||(d.value=!0,c.value=!1)}}))},m=function(t){l.value=1,s.value=t,n.value=[],c.value=!0,f()},v=function(t){a("select",t)};Object(x["k"])((function(){s.value=0,p("")}));var _=Object(x["n"])(0),g=Object(x["n"])({}),b=Object(x["a"])((function(){return"transform: translate(".concat(_.value,"px, 0px);")})),y=function(t){if(t.wheelDeltaX){var e=_.value+t.wheelDeltaX;e>0?e=0:g.value.scrollWidth-g.value.clientWidth+e<0&&(e=-(g.value.scrollWidth-g.value.clientWidth)),_.value=e}},w=Object(x["n"])(!1),k=0,$=function(t){w.value=!0,k=t.pageX},C=function(t){if(w.value){var e=k-t.pageX;if(k){var i=_.value-e;i>0?i=0:g.value.scrollWidth-g.value.clientWidth+i<0&&(i=-(g.value.scrollWidth-g.value.clientWidth)),_.value=i}}},O=function(t){w.value=!1};return{cates:o,list:n,keyword:r,changeCurCate:m,select:v,isLoading:c,isRetry:u,isNoData:d,isEmpty:h,getList:f,curCate:s,tabTran:b,tabScroll:y,tabs:g,tabDown:$,tabUp:O,tabMove:C}}},$t=kt,Ct=i("0b8a");function Ot(t){this["$style"]=Ct["default"].locals||Ct["default"]}var jt=Object(P["a"])($t,wt,xt,!1,Ot,null,null),Tt=jt.exports,Dt=i("4328"),St=i.n(Dt),It={setup:function(t,e){e.root,e.emit;var i=Object(x["n"])(!0),a=Object(x["n"])(null),o=Object(x["n"])(""),n=Object(x["n"])(["emoticon","image","hash","at","video"]),s=Object(x["n"])([]),r=Object(x["n"])(!1),l=Object(x["n"])(),c=Object(x["n"])(),u=Object(x["n"])();return{topicItem:c,showTopic:r,sync_mblog:i,config:a,placeholder:o,toolsfliter:n,toolsDisable:s,form:l,search:u}},mixins:[ht["a"],ot["a"]],data:function(){return{stopic:!0,config:null,placeholder:"",toolsfliter:["emoticon","image","hash","at","video"],title:"",formCount:{count:0,maxcount:0},visibleOnly:{visible:0,text:"公开",disabled:!1}}},components:{PublisherForm:K["a"],PublisherTool:Y["a"],PublisherImage:X["a"],PublisherVideo:Z["a"],PublisherVideoPop:tt["a"],PublisherEmoticon:dt["a"],PublisherTopicSearch:Tt},computed:Object(a["a"])({},Object(r["c"])(["composerConfig"])),watch:{modalVisible:function(t){this.form=this.$refs.form}},methods:Object(a["a"])(Object(a["a"])({},Object(r["b"])(["setComposerConfig"])),{},{formTextCount:function(t){var e=t.count,i=t.maxcount;this.formCount={count:e,maxcount:i}},changeFrom:function(t){var e=this,i=St.a.parse(t.st_url.split("?")[1]);this.$http("/ajax/stopic/curl",{params:i}).then((function(a){var o,n,s,r,l,c,u,d,h,p;a=a.data,0!==(null===(o=a)||void 0===o||null===(n=o.alert)||void 0===n?void 0:n.length)&&0!==(null===(s=a)||void 0===s||null===(r=s.toast)||void 0===r?void 0:r.length)?(e.$_w_toast({type:0===a.toast.type?"success":"warn",message:a.toast.title,hideDuration:650}),setTimeout((function(){e.$_w_dialog({type:"confirm",title:a.alert.title,message:a.alert.message,btnConfirm:a.alert.ok_title,action:function(){e.$refs.form.inserText("#".concat(t.title,"[超话]# "))}})}),1e3)):0!==(null===(l=a)||void 0===l||null===(c=l.toast)||void 0===c?void 0:c.length)?(e.$_w_toast({type:0===a.toast.type?"success":"warn",message:a.toast.title}),e.$refs.form.inserText("#".concat(t.title,"[超话]# "))):0!==(null===(u=a)||void 0===u||null===(d=u.alert)||void 0===d?void 0:d.length)?e.$_w_dialog({type:"confirm",title:a.alert.title,message:a.alert.message,btnConfirm:a.alert.ok_title,action:function(){e.$refs.form.inserText("#".concat(t.title,"[超话]# "))}}):e.$refs.form.inserText("#".concat(t.title,"[超话]# ")),0===(null===(h=a)||void 0===h||null===(p=h.alert)||void 0===p?void 0:p.length)&&(e.topicItem=t,e.topicItem.topic_id=i.oid),e.topicItem.is_obturate?(e.sync_mblog=!1,e.visibleOnly.text="仅超话粉丝可见"):e.visibleOnly.text="公开"}))},titlechange:function(t){this.title=t},addMargin:function(){this.$refs.layer&&(this.$refs.layer.style.margin="250px")},removeMargin:function(){this.$refs.layer&&(this.$refs.layer.style.margin="")},getDefault:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.initData(),this.sync_mblog=!0,this.config=null,this.placeholder="",this.toolsfliter=["emoticon","image","hash","at","video"],this.toolsDisable=[],this.showTopic=!1,this.topicItem=void 0},close:function(){var t=this;this.dataEmpty?(this.$emit("change","close"),Object.assign(this.$data,this.$options.data()),this.getDefault()):this.$_w_dialog({type:"confirm",title:"确认关闭？",message:"关闭之后将不可恢复",action:function(){t.$emit("change","close"),Object.assign(t.$data,t.$options.data()),t.getDefault()}})},inserText:function(t){this.$refs.form.inserText(this.formCount&&this.formCount.count>0?"\n".concat(t.text,"\n"):"".concat(t.text,"\n")),this.$refs.form.addHeight(48)},showSearch:function(){this.$refs.search.show()},changeTool:function(t){this.toolsDisable=t},closePopHandle:function(){this.hideAllLayer()},showTopicPopHandle:function(){var t=this;this.modalVisible=!0,this.$nextTick((function(){var e;null===t||void 0===t||null===(e=t.$refs)||void 0===e||e.form.onhead(!1)}))}}),mounted:function(){var t=this;this.getDefault(!1),document.addEventListener("click",this.hideAllLayer),this.$Bus.$on("closePop",this.closePopHandle),this.$Bus.$on("showTopicPop",this.showTopicPopHandle),this.$once("hook:beforeDestroy",(function(){t.$Bus.$off("closePop",t.closePopHandle),t.$Bus.$off("showTopicPop",t.showTopicPopHandle)}))},beforeDestroy:function(){document.removeEventListener("click",this.hideAllLayer)}},Lt=It,Bt=i("d68e");function Pt(t){this["$style"]=Bt["default"].locals||Bt["default"]}var At=Object(P["a"])(Lt,bt,yt,!1,Pt,null,null),Et=At.exports,Mt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Frame",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],attrs:{hasContent:Object.keys(t.weibodata).length||t.fetchContent},scopedSlots:t._u([{key:"back",fn:function(){return[i("woo-box",{class:t.$style.backButton,attrs:{justify:"center",align:"center",title:"关闭弹层"},nativeOn:{click:function(e){return t.closeViewer(e)}}},[i("woo-fonticon",{attrs:{value:"back"}})],1)]},proxy:!0},{key:"main",fn:function(){return[i("Viewer",{attrs:{datas:t.datas,updateVideo:t.updateVideo,relatedContent:t.relatedContent,nextVideoInfo:t.nextVideoInfo,fired:t.fired,autoplay:t.autoPlayCheck,outerPlayer:t.outerPlayer},on:{"close-event":t.handleCloseEvent,"switch-pic":t.updateWeibodata,"next-related-video":t.handleNextVideo,"switch-type":t.switchType}})]},proxy:!0},{key:"right",fn:function(){return[i("woo-box",{class:t.$style.right_box,attrs:{direction:"y"}},[i("woo-box",{class:[t.$style.content_box,"wbpro-scrollbar"],attrs:{direction:"y"}},[i("Feed",{class:t.$style.feed_box,attrs:{data:t.weibodata,hasToolbar:!0,high:!1,"toolbar-align":"left",toolbarFlatBtn:!0,hasMorePop:!1,hasContentMedia:!1,showTopTitle:!1,pagetype:t.pagetype,actLogData:{page:"videoDetail"},onFeedRetweet:t.feedRetweet,onFeedComment:t.feedComment,specificTime:t.specificTime,showIp:"",showCocreate:""},scopedSlots:t._u([{key:"customIcon",fn:function(){return[t.showRewardBtn?i("woo-box",{class:t.$style.rewardWrap,attrs:{align:"center",justify:"center",direction:"y"},nativeOn:{click:function(e){return e.stopPropagation(),t.handleRewardModal()}}},[i("woo-fonticon",{class:t.$style.rewardIcon,attrs:{value:"reward"}}),i("span",{class:t.$style.rewardText},[t._v("赞赏")])],1):t._e()]},proxy:!0}])}),i("woo-box-item",{attrs:{shrink:0,basis:"auto",grow:0}},["image"!==t.type||t.showReplyList?t._e():i("div",[i("div",{class:t.$style.title},[t._v("热门评论")])]),"video"===t.type&&t.weibodata.segment_id?i("div",[i("div",{class:t.$style.title},[t._v("相关视频")])]):"video"!==t.type||t.showReplyList?t._e():i("woo-tab",{class:t.$style.tab,attrs:{justify:"center"},on:{change:t.clickGroup}},t._l(t.tabs,(function(e,a){return i("woo-tab-item",{key:a,class:t.$style.tabitem,attrs:{cur:a===t.tabIndex,index:a,title:e.name}},[t._v(t._s(e.name))])})),1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showReplyList,expression:"showReplyList"}],ref:"replyEle",class:t.$style.barbox},[i("woo-box",{class:t.$style.bar,attrs:{align:"center",justify:"center"}},[i("woo-box",{class:t.$style.backicon,attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return t.goBack(e)}}},[i("woo-fonticon",{attrs:{value:"angleLeft"}})],1),i("div",{class:t.$style.reply_title_box},[t._v(" "+t._s(t.replyTitle)+" ")])],1)],1),i("woo-divider",{class:t.$style.line3})],1),t.weibodata.segment_id?t._e():i("woo-box",{directives:[{name:"show",rawName:"v-show",value:0===t.tabIndex,expression:"tabIndex === 0"}]},[i("weibo-build-comments",{class:t.$style.comments_main,attrs:{uid:t.config.uid,status:t.weibodata,showTips:!1,showTabs:!1,showReplyList:t.showReplyList,replyListType:"secondPage",pagetype:t.pagetype,showOpenPics:!1,showAllHoverRcl:!1,composerCallback:t.composerCallback,routerPaths:t.routerPaths,isNormal:t.config.isNormal},on:{clickRcl:t.clickRcl,updateShowReplyModal:t.updateShowReplyList,updateCommentsCount:t.updateCommentsCount,updateReplyTotal:t.updateReplyTotal}})],1),1===t.tabIndex&&"video"===t.type?i("div",[i("VideoList",{attrs:{loading:t.videoListLoading,data:t.relatedVideo,current:t.current,"fetch-related-video":t.fetchRelatedVideo,mid:t.defaultMid,"page-params":t.pageParams},on:{"change-video":t.handleVideoChange},model:{value:t.autoPlayCheck,callback:function(e){t.autoPlayCheck=e},expression:"autoPlayCheck"}})],1):t._e()],1),t.weibodata.segment_id?t._e():i("woo-box",{class:t.$style.composer_box},[i("div",{staticStyle:{width:"100%"}},[Object.keys(t.composerdata).length?i("MainComposer",{ref:"mainComposer",attrs:{data:t.composerdata,actLogData:{page:"videoDetail"},customLikeIcon:t.customLikeIcon},on:{changeComposerData:t.composerChangeWeibo}}):t._e()],1)])],1)]},proxy:!0}])}),i("reward-modal",{attrs:{show:t.showRewardModal,info:t.rewardBtnInfo},on:{close:t.handleClose}})],1)},Ft=[],Rt=(i("c740"),i("4160"),i("c975"),i("fb6a"),i("b680"),i("4fad"),i("b64b"),i("6062"),i("5319"),i("2ca0"),i("159b"),i("13d5"),i("2532"),i("ade3")),Vt=i("8c4f"),Nt=i("58ca"),Ht=i("641d"),zt=i("4360"),Ut=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Frame",{attrs:{state:t.mediaQ.noside?"noside":"",left:t.left},scopedSlots:t._u([{key:"top",fn:function(){return["login"!==t.$route.name||t.changeTab?t._e():i("LoginTopNav"),i("transition",{attrs:{name:t.transName}},[i("weibo-top-nav",{directives:[{name:"show",rawName:"v-show",value:"login"!==t.$route.name||t.showLoginTopNav,expression:"$route.name === 'login' ? showLoginTopNav : true"}],class:"login"===t.$route.name&&!t.changeTab&&t.$style.top})],1)]},proxy:!0},t.left?{key:"left",fn:function(){return[i("Nav",{attrs:{simple:t.mediaQ.min}})]},proxy:!0}:null,t.left?{key:"main",fn:function(){return[i("Main",{attrs:{side:!t.mediaQ.noside,min:t.mediaQ.min},scopedSlots:t._u([{key:"main",fn:function(){return[i("router-view",{attrs:{name:"main"}})]},proxy:!0},{key:"side",fn:function(){return[i("router-view",{attrs:{name:"side"}})]},proxy:!0}],null,!1,524720969)})]},proxy:!0}:null],null,!0)},[t.left?t._e():[i("Only",{scopedSlots:t._u([{key:"only",fn:function(){return[i("router-view",{attrs:{name:"only"}})]},proxy:!0}],null,!1,1211111656)})],i("BackTop",{class:t.$style.backTop,style:t.backPosition})],2)},Gt=[],qt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{class:t.$style.wrap,attrs:{direction:"y"}},[i("div",{class:t.$style.top},[t._t("top")],2),i("woo-box",{class:[t.$style.content,t.mediaQ.noside&&t.$style.noside1,t.mediaQ.min&&t.$style.noside2]},[i("div",{class:[t.left&&t.$style.side,t.mediaQ.min&&t.$style.narrow,t.isHome&&"grayTheme"]},[t._t("left")],2),i("div",{class:t.$style.main},[t._t("main")],2),t._t("default")],2)],1)},Wt=[],Qt={props:{left:{default:!0,type:Boolean}},computed:Object(a["a"])(Object(a["a"])({},Object(r["d"])(["mediaQ"])),{},{isHome:function(){return["home","mygroups","login"].includes(this.$route.name)}})},Jt=Qt,Kt=i("3d62");function Yt(t){this["$style"]=Kt["default"].locals||Kt["default"]}var Xt=Object(P["a"])(Jt,qt,Wt,!1,Yt,null,null),Zt=Xt.exports,te=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"nav",class:t.$style.main},[i("woo-panel",{class:[t.$style.inner,"wbpro-scrollbar",t.simple&&t.$style.simple],attrs:{border:"left,top,right","border-color":"var(--w-card-border)"}},[i("h2",{class:t.$style.title,domProps:{innerHTML:t._s(t.moduleTitle)}}),i("div",{class:t.$style.navWrap},[i(t.moduleName,{tag:"component"})],1)])],1)},ee=[],ie=i("200e"),ae={};ie.keys().forEach((function(t){var e="".concat(t.split(".")[1].split("/")[1]);ae[e]=ie(t).default}));var oe={components:ae},ne=i("0f32"),se=i.n(ne),re=i("fe2e"),le={mixins:[oe,re["a"]],props:{simple:Boolean},mounted:function(){var t=this;function e(){t.$refs.nav&&(t.$refs.nav.style.height=document.documentElement.offsetHeight-60+4+"px")}e(),this.throttleCallback=se()(e,50),window.addEventListener("resize",this.throttleCallback,!1)},beforeDestroy:function(){window.removeEventListener("resize",this.throttleCallback,!1)}},ce=le,ue=i("78c2");function de(t){this["$style"]=ue["default"].locals||ue["default"]}var he=Object(P["a"])(ce,te,ee,!1,de,null,null),pe=he.exports,fe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{class:[t.$style.wrap,t.min&&t.$style.auto],attrs:{tag:"main"}},[i("div",{class:[t.$style.main,t.$style.full]},[i("keep-alive",[t.$route.meta.keepAlive?t._t("main"):t._e()],2),t.$route.meta.keepAlive?t._e():t._t("main")],2),t.side?i("div",{class:t.$style.side},[i("div",{class:t.$style.sideMain,attrs:{id:"__sidebar"}},[t._t("side")],2)]):t._e()])},me=[],ve={name:"Main",props:{side:Boolean,min:Boolean}},_e=ve,ge=i("985c");function be(t){this["$style"]=ge["default"].locals||ge["default"]}var ye=Object(P["a"])(_e,fe,me,!1,be,null,null),we=ye.exports,xe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{class:[t.$style.wrap],attrs:{tag:"only"}},[i("div",{class:[t.$style.main,t.$style.full]},[i("keep-alive",[t.$route.meta.keepAlive?t._t("only"):t._e()],2),t.$route.meta.keepAlive?t._e():t._t("only")],2)])},ke=[],$e={name:"Only"},Ce=$e,Oe=i("40fb");function je(t){this["$style"]=Oe["default"].locals||Oe["default"]}var Te=Object(P["a"])(Ce,xe,ke,!1,je,null,null),De=Te.exports,Se=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"backTop-fade"}},[i("Card",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],class:t.$style.main,attrs:{bottomGap:!1,role:"button"},nativeOn:{click:function(e){return t.backTop(e)}}},[i("woo-box",{class:t.$style.mainin,attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"backTop"}})],1)],1)],1)},Ie=[],Le={data:function(){return{show:!1}},methods:{backTop:function(){window.scrollTo({top:0,behavior:"smooth"})},isScroll:function(){var t=window.pageYOffset||document.documentElement.scrollTop;this.show=t>0}},mounted:function(){this.isScroll(),window.addEventListener("scroll",se()(this.isScroll,100),!1)}},Be=Le,Pe=i("eaf6");i("f5bc");function Ae(t){this["$style"]=Pe["default"].locals||Pe["default"]}var Ee=Object(P["a"])(Be,Se,Ie,!1,Ae,null,null),Me=Ee.exports,Fe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"loginTopNavRef",class:[t.$style.box,t.mediaQ.min&&t.$style.boxmin,"grayTheme"]},[i("woo-box",{class:t.$style.wrap,attrs:{direction:"y",align:"center",justify:"center"}},[i("Logo",{class:t.$style.logo,attrs:{fontcolor:"#fff",logocolor:t.logoColor}}),i("div",{class:t.$style.searchbox},[i("Logo",{class:t.$style.logoS,attrs:{simple:"",logocolor:t.logoSColor}}),i("div",{class:t.$style.search},[i("woo-input",{class:t.$style.ipt,attrs:{placeholder:"搜索微博"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.toSearch(t.searchInput)}},scopedSlots:t._u([{key:"icon",fn:function(){return[i("woo-fonticon",{attrs:{value:"search"}})]},proxy:!0}]),model:{value:t.searchInput,callback:function(e){t.searchInput=e},expression:"searchInput"}}),i("woo-button",{class:t.$style.btn,attrs:{sort:"flat",kind:"primary",round:!1},nativeOn:{click:function(e){return t.toSearch(t.searchInput)}}},[t._v("搜索")])],1)],1),i("div",{class:t.$style.videoc},[i("video",{class:t.$style.video,attrs:{loop:"",autoplay:"",preload:"",muted:"",src:t.config.loginHeader.src,poster:t.config.loginHeader.poster},domProps:{muted:!0}},[t._v(" 抱歉，您的浏览器不支持内嵌视频 ")])])],1),t.mediaQ.noside?i("LoginCard",{class:t.$style.logincard,attrs:{noside:""}}):t._e()],1)},Re=[],Ve=i("16d4"),Ne=i("05cb"),He={components:{Logo:Ve["a"],LoginCard:Ne["a"]},data:function(){return{searchInput:"",searchKey:"searchWord",historySearch:[]}},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(r["c"])(["config"])),Object(r["d"])(["mediaQ"])),{},{logoColor:function(){return["tranparent","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]},logoSColor:function(){return["tranparent","tranparent","#FF8200","#FF8200","tranparent"]}}),mounted:function(){var t=this;if(this.$route.path.match(/\/search/g)&&this.$route.query.containerid){var e=St.a.parse(this.$route.query.containerid).q;this.searchInput=e}var i=new ResizeObserver((function(){t.$Bus.$emit("login-top-nav-change")}));i.observe(this.$refs.loginTopNavRef)},methods:{toSearch:function(t){t&&(window.localStorage&&(this.historySearch=JSON.parse(decodeURIComponent(localStorage.getItem(this.searchKey))),Array.isArray(this.historySearch)&&null!=this.historySearch||(this.historySearch=[]),this.historySearch.push({s:t}),localStorage.setItem(this.searchKey,window.encodeURIComponent(JSON.stringify(this.historySearch)))),this.config.enableSweibocom?window.open("//s.weibo.com/weibo?q=".concat(encodeURIComponent(t)),"_blank"):this.$router.push({path:"/search",query:{containerid:"100103type=1&q=".concat(t,"&t=0")}}))}}},ze=He,Ue=i("6019");function Ge(t){this["$style"]=Ue["default"].locals||Ue["default"]}var qe=Object(P["a"])(ze,Fe,Re,!1,Ge,null,null),We=qe.exports,Qe=(i("8b91"),document.documentElement),Je=Object(Rt["a"])({props:{left:{type:Boolean,default:!0}},components:{Frame:Zt,Nav:pe,Main:we,BackTop:Me,Only:De,LoginTopNav:We},data:function(){return{isRouterAlive:!0,showLoginTopNav:!1,isScroll:!0,isLoginHome:!1,transName:"fade",changeTab:!1}},beforeCreate:function(){Qe&&"index"!==!Qe.dataset.layout&&(Qe.dataset.layout="index")},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(r["d"])(["mediaQ"])),Object(r["c"])(["config"])),{},{backPosition:function(){var t,e;return this.mediaQ.noside&&(t="464px"),this.mediaQ.min&&(t=0,e="100%"),{left:e,marginLeft:t}},isNormal:function(){return this.config.isNormal}}),provide:function(){return{reload:this.reload}},methods:{reload:function(){var t=this;this.isRouterAlive=!1,this.$nextTick((function(){return t.isRouterAlive=!0}))},callback:function(t){},changeShowLoginTopNav:function(){var t=this;if("login"!==this.$route.name||this.changeTab)"login"===this.$route.name?(this.$Bus.$emit("showLoginTopNav",!0),this.showLoginTopNav=!0):this.transName="";else{var e=window.pageYOffset||document.documentElement.scrollTop;this.showLoginTopNav=e>230,setTimeout((function(){t.transName="fade"}),2e3)}},handleExpandLogin:function(){this.isLoginHome=!0,this.showLoginTopNav=!0},handleHideLogin:function(){this.isLoginHome=!1,this.changeTab=!0,this.changeShowLoginTopNav()}},beforeDestroy:function(){this.$Bus.$off("expandLogin",this.handleExpandLogin),this.$Bus.$off("hideLogin",this.handleHideLogin)},mounted:function(){this.$Bus.$on("expandLogin",this.handleExpandLogin),this.$Bus.$on("hideLogin",this.handleHideLogin),this.isNormal||(this.changeShowLoginTopNav(),this.isLoginHome=!0);var t=0,e=0,i=0,a=this;function o(){var o=window.pageYOffset||document.documentElement.scrollTop;a.dist=o,o>t?(1===e&&a.$Bus&&(a.isNormal||a.$Bus.$emit("login-top-nav-change"),a.$Bus.$emit("w-scroll-up")),e++,i=0):(1===i&&a.$Bus&&a.$Bus.$emit("w-scroll-down"),!a.isNormal&&0===o&&a.isScroll&&a.$Bus.$emit("login-top-nav-change"),i++,e=0),a.changeShowLoginTopNav(),t=o<=0?0:o,a.isScroll=!0}this.throttleCallback=se()(o,50),window.addEventListener("scroll",this.throttleCallback,!1)},watch:{$route:function(t,e){if(!this.isNormal){var i=window.pageYOffset||document.documentElement.scrollTop;i&&(this.isScroll=!1),this.changeShowLoginTopNav()}}}},"beforeDestroy",(function(){window.removeEventListener("scroll",this.throttleCallback,!1)})),Ke=Je,Ye=(i("bb0d"),i("8831"),i("3e66"));function Xe(t){this["$style"]=Ye["default"].locals||Ye["default"]}var Ze=Object(P["a"])(Ke,Ut,Gt,!1,Xe,null,null),ti=Ze.exports,ei=i("722e"),ii=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Bar",{attrs:{"go-back":"",divide:""},scopedSlots:t._u([t.curDetailWeiboData.user?{key:"title",fn:function(){return[t._v(t._s(t.curDetailWeiboData.user.remark?t.curDetailWeiboData.user.remark:t.curDetailWeiboData.user.screen_name))]},proxy:!0}:null],null,!0)}),t.deleteWb.status?i("Card",[t.deleteWb.qrcode?i("woo-box",{class:t.$style.empty,attrs:{align:"center",justify:"center"}},[i("div",{class:t.$style.qrcodeWrap},[i("QRCode",{class:t.$style.qrcode,attrs:{text:t.qrcodeText}}),i("div",{class:t.$style.text},[t._v(t._s(t.deleteWb.text))])],1)]):i("woo-box",{class:t.$style.empty,attrs:{align:"center",justify:"center"}},[i("woo-tip",{attrs:{type:"warn",sort:"vertical"}},[t._v(t._s(t.deleteWb.text))])],1)],1):i("Card",{class:t.$style.detail},[t.curDetailWeiboData.id?i("Feed",{key:t.curDetailWeiboData.id,class:t.$style.feed,attrs:{data:t.curDetailWeiboData,"touch-highlight":"","auto-play":!1,"has-toolbar":"","has-retweetbar":!0,"toolbar-align":"left","transform-text":!0,single:!0,specificTime:!0,actLogData:t.actLogData,onFeedRetweet:t.feedRetweet,onFeedComment:t.feedComment,onFeedLike:t.feedLikeList,onFeedLikeList:t.feedLikeList,enableMiniInteractive:!1,high:!0,showIp:!0}}):t._e(),i("woo-divider"),i("div",{class:t.$style.box},[t.showRCL&&"attitude"!==t.curTab?i("MainComposer",{class:t.$style.mar2,attrs:{single:!0,data:t.data,action:"comment"===t.curTab?"create":t.curTab,config:t.config,autoFoucs:!1,feedSingle:!0,id:"composerEle",actLogData:t.actLogData}}):t._e(),t.showRCL&&"attitude"!==t.curTab?i("woo-divider",{class:t.$style.mar1}):t._e(),t.showRCL?i("RepostCommentList",{ref:"rcList",attrs:{curTab:t.curTab,"transform-text":!0,actLogData:t.actLogData,weiboData:t.curDetailWeiboData},on:{showScrollBottom:t.showScrollBottom}}):t._e()],1)],1)],1)},ai=[],oi=i("7d02"),ni=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{ref:"rcListEle"},["repost"===t.curTab?[i("div",{class:t.$style.mar1},[i("Scroll",{attrs:{data:t.list,isLoading:t.isLoading,isRetry:t.isRetry,isNoData:t.isNoData,showNotLoginBottom:t.showNotLoginBottom,isInCard:!0,keyField:"index"},on:{loadMoreData:t.loadMoreData},scopedSlots:t._u([{key:"content",fn:function(e){var a=e.item,o=e.index;return[i("Repost",{attrs:{item:a,index:o,hotRepostTotal:t.hotRepostTotal,actLogData:t.actLogData,weiboData:t.weiboData}})]}}],null,!1,3545814447)})],1)]:t._e(),"comment"===t.curTab?[t.tipMsg?i("div",{class:t.$style.mar2},[i("woo-tip",{attrs:{type:"warn",sort:"flat","has-icon":!1}},[t._v(t._s(t.tipMsg))])],1):t._e(),t.filterGroup&&t.filterGroup.length?i("div",{staticClass:"wbpro-tab3"},[i("woo-box",{staticClass:"list",class:t.$style.tab,attrs:{align:"center"}},t._l(t.filterGroup,(function(e,a){return i("div",{key:a,staticClass:"item",class:-1===t.curTabIndex&&1===e.isDefault||t.curTabIndex===a?"curr":"",domProps:{innerHTML:t._s(e.title)},on:{click:function(i){return t.changeTabs(e.param,a,e.type)}}})})),0)],1):t._e(),t.approvalTips||t.headerText?i("div",{class:t.$style.mar3},[t.approvalTips?i("woo-box",{class:[t.$style.opt,t.$style.link],attrs:{align:"center"},nativeOn:{click:function(e){return t.toManage()}}},[i("span",{domProps:{innerHTML:t._s(t.approvalTips)}}),i("woo-box",{staticClass:"wbpro-iconbed",class:t.$style.bed1,attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"angleRight"}})],1)],1):t._e(),t.headerText?i("woo-box",{class:t.$style.opt,attrs:{align:"center"}},[i("span",{domProps:{innerHTML:t._s(t.headerText)}})]):t._e()],1):t._e(),i("div",{class:t.$style.mar1},[i("Scroll",{attrs:{data:t.list,isLoading:t.isLoading,isRetry:t.isRetry,isNoData:t.isNoData,showNotLoginBottom:t.showNotLoginBottom,sizeDependencies:["comments"],isInCard:!0,keyField:"index",noDataText:t.noDataText},on:{loadMoreData:t.loadMoreData},scopedSlots:t._u([{key:"content",fn:function(e){var a=e.item,o=e.index;return[i("Comment",{key:a&&a.id||o,attrs:{item:a,index:o,showReplyModal:t.showReplyModal,actLogData:t.actLogData,weiboData:t.weiboData},on:{updateReplyModal:t.updateReplyModal}})]}}],null,!1,2931282981)})],1)]:t._e(),"attitude"===t.curTab?[i("Scroll",{attrs:{data:t.list,isLoading:t.isLoading,isRetry:t.isRetry,isNoData:t.isNoData,showNotLoginBottom:t.showNotLoginBottom,isInCard:!0,keyField:"index"},on:{loadMoreData:t.loadMoreData},scopedSlots:t._u([{key:"content",fn:function(t){var e=t.item;return[i("Like",{attrs:{item:e}})]}}],null,!1,49185081)})]:t._e(),i("ReplyModal",{attrs:{commentData:t.commentData,actLogData:t.actLogData,weiboData:t.weiboData},on:{updateComments:t.updateComments,updateTotalNumber:t.updateTotalNumber},model:{value:t.showReplyModal,callback:function(e){t.showReplyModal=e},expression:"showReplyModal"}})],2),t.noRepComLike&&t.noListText?i("div",{class:t.$style.tip},[i("woo-tip",{attrs:{type:"warn",sort:"vertical"}},[t._v(" "+t._s(t.noListText)+" ")])],1):t._e(),t.loadMoreManuel?i("Card",{attrs:{bottomGap:!1}},[i("woo-box",{attrs:{align:"center",justify:"center"}},[i("woo-tip",{class:t.$style.tipbox,attrs:{type:"none",sort:"simple"},nativeOn:{click:function(e){e.stopPropagation(),"comment"===t.curTab?t.onLoadMoreComment():t.loadMoreData()}}},[t._v(" 点击加载更多... ")])],1)],1):t._e()],1)},si=[],ri=(i("4d63"),i("25f0"),i("498a"),i("e054")),li=i("eba1"),ci=i("c885"),ui=i("dd4e"),di=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.item.user&&t.item.user.idstr?i("div",{ref:"commentEle",staticClass:"wbpro-list"},[t.item.user&&t.item.user.idstr?i("div",{staticClass:"item1"},[i("woo-box",{staticClass:"item1in"},[i("div",[i("a-link",{attrs:{to:"/u/"+t.item.user.id}},[t.item.user&&t.item.user.idstr?i("woo-avatar",{key:t.item.user.profile_image_url,class:t.$style.cursor,attrs:{size:34,verified:t.getWeiboVerifiedIcon(t.item.user),src:t.item.user.profile_image_url,usercard:t.item.user.id}}):t._e()],1)],1),i("woo-box-item",{staticClass:"con1",class:t.$style.cut},[i("div",{staticClass:"text"},[t.item.user&&t.item.user.id?i("a-link",{attrs:{usercard:t.item.user.id,to:"/u/"+t.item.user.id}},[t._v(t._s(t.item.user.screen_name))]):t._e(),t.item.user&&t.item.user.id?i("IconVip",{attrs:{mbrank:t.item.user.mbrank,mbtype:t.item.user.mbtype,svip:t.item.user.svip,vvip:t.item.user.vvip}}):t._e()],1),i("woo-box",{staticClass:"info",attrs:{align:"center",justify:"between"}},[i("div",{staticClass:"wbpro-textcut",class:t.$style.desc},[t._v(" "+t._s(t.item.user.verified_reason||t.item.user.description)+" ")])])],1),t.item.user.id!==t.config.uid?i("woo-box",{attrs:{align:"center",justify:"between"}},[i("FollowBtn",{attrs:{following:t.item.user.following,uid:t.item.user.idstr,doFoAction:!0,foToast:!0,followedBy:t.item.user.follow_me}})],1):t._e()],1)],1):t._e()]):t._e()},hi=[],pi=i("0e00"),fi=i("bfbe"),mi=i("cc8d"),vi={name:"Like",props:["item"],computed:Object(a["a"])({},Object(r["c"])(["config"])),methods:{getWeiboVerifiedIcon:mi["a"]},components:{FollowBtn:pi["a"],IconVip:fi["a"]}},_i=vi,gi=(i("f377"),i("7f5e"));function bi(t){this["$style"]=gi["default"].locals||gi["default"]}var yi=Object(P["a"])(_i,di,hi,!1,bi,null,null),wi=yi.exports,xi=i("1b37"),ki=i("ffe6"),$i={name:"RepostComentList",data:function(){return{list:[],mid:"",isLoading:!0,isRetry:!1,isNoData:!1,showNotLoginBottom:!1,page:1,maxPage:1,max_id:"",count:20,filterGroup:[],curTabIndex:-1,showReplyModal:!1,commentData:{},noListText:"",noRepComLike:!1,isChangeId:!1,tipMsg:"",approvalTips:"",headerText:"",showFeedback:!0,hotRepostTotal:0,cancel:null,commentlistPos:0,noDataText:"没有更多内容了",loadMoreManuel:!1}},props:{weiboData:{type:Object,default:function(){return{}}},curTab:String,actLogData:Object},components:{Repost:ci["a"],Comment:ui["a"],Scroll:at["a"],ReplyModal:xi["a"],Like:wi},mounted:function(){var t=this;this.getList(),this.$Bus.$on("deleteComment",this.deleteCommentHandle),this.$Bus.$on("deleteRepost",this.deleteRepostHandle),this.$once("hook:beforeDestroy",(function(){t.$Bus.$off("deleteComment",t.deleteCommentHandle),t.$Bus.$off("deleteRepost",t.deleteRepostHandle)}))},watch:{"weiboData.idstr":function(t){t&&(this.curTab=this.$route.hash?this.$route.hash.slice(1):"comment",this.initApiData(),this.filterGroup=[],this.isChangeId=!0,this.getList())},curTab:function(t){t&&!this.isChangeId&&(this.initApiData(),this.filterGroup=[],this.getList())},composerCallback:function(t){var e,i,a;if((null===t||void 0===t||null===(e=t.data)||void 0===e||null===(i=e.status)||void 0===i?void 0:i.idstr)===(null===(a=this.weiboData)||void 0===a?void 0:a.idstr))if("comment"===this.curTab){if("create"===t.action&&t.ok){if(t.data.pic_ids&&t.data.pic_ids.length&&t.data.pic_ids[0]&&(t.data.pics=Object(ri["a"])(t.data.pic_ids)),!t.location&&(!this.isMy&&this.checkComment&&(t.data.approval_comment_type=1),this.curTabIndex=-1===this.curTabIndex?0:this.curTabIndex,!(this.filterGroup.length&&this.filterGroup[this.curTabIndex]&&this.approvalCommentsType&&this.filterGroup[this.curTabIndex].type===this.approvalCommentsType))){if(t.data.index=this.list.length?this.list[0].index-1:0,this.list.length&&this.list[0].idstr===t.data.idstr)return;this.list.unshift(t.data),this.noRepComLike=!1}this.weiboData.comments_count++,this.weiboData.comments_count_format=Object(li["b"])(this.weiboData.comments_count),this.$Bus.$emit("updateRCCount",{id:this.weiboData.idstr,value:[{name:"comments_count",val:this.weiboData.comments_count}]})}}else"repost"===this.curTab&&("repost"===t.action&&t.ok&&(this.hotRepostTotal&&(this.hotRepostTotal+=1,t.data.callBackRepost=!0),this.list.unshift(t.data),this.weiboData.reposts_count++,this.weiboData.reposts_count_format=Object(li["b"])(this.weiboData.reposts_count),this.$Bus.$emit("updateRCCount",{id:this.weiboData.idstr,value:[{name:"reposts_count",val:this.weiboData.reposts_count}]})),this.noRepComLike=!1)}},computed:Object(a["a"])(Object(a["a"])({},Object(r["c"])(["composerCallback","config"])),{},{moreButtonText:function(){var t={repost:"转发",comment:"评论",attitude:"赞"};return"点击展开更多".concat(t[this.curTab]||"")},isMy:function(){var t,e;return!!(null===(t=this.weiboData)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.id)&&this.weiboData.user.id===this.config.uid},cid:function(){return this.$route.query.cid},checkComment:function(){return this.weiboData&&2===this.weiboData.is_show_bulletin&&this.weiboData.comment_manage_info&&1===this.weiboData.comment_manage_info.approval_comment_type},approvalCommentsType:function(){if(this.filterGroup&&this.filterGroup.length){var t=this.filterGroup.findIndex((function(t){return"approvalComments"===t.type}));return this.filterGroup[t]&&this.filterGroup[t].type}return""},hashValue:function(){return this.$route.hash?this.$route.hash.slice(1):""}}),methods:{deleteCommentHandle:function(t){this.deleteComment(t)},deleteRepostHandle:function(t){this.deleteRepost(t)},initApiData:function(){this.page=1,this.max_id="",this.list=[],this.headerText="",this.approvalTips="",this.noRepComLike=!1},changeTabs:function(t,e,i){this.anchorTop(),this.curTabIndex=e,this.initApiData(),this.getList(t,i,"changeTabs"),this.$emit("showScrollBottom",!1)},getList:function(t,e,i){var o=this;this.cancel&&this.cancel(),this.loadMoreManuel=!1;var n={},s="",r={},l=this.$http.CancelToken,c=0===this.list.length?10:this.count;if(this.weiboData.idstr)if("repost"===this.curTab)s="/ajax/statuses/repostTimeline",r={id:this.weiboData.idstr,page:this.page,moduleID:"feed",count:c};else if("comment"===this.curTab)if("reload"===e&&(this.curTabIndex=0,this.filterGroup=[]),"approvalComments"===e)s="/ajax/approval/list",r={id:this.weiboData.idstr,max_id:this.max_id,count:c,filter_type:0,is_reload:1};else{if(this.$route.params.commentTabParms)n=this.$route.params.commentTabParms;else if(this.filterGroup&&this.filterGroup.length&&this.curTabIndex>=0&&this.filterGroup[this.curTabIndex].param){var u=this.filterGroup[this.curTabIndex].param,d=u.split("=")[0],h=u.split("=")[1];n[d]=h}s="/ajax/statuses/buildComments",r=Object(a["a"])(Object(a["a"])({},n),{},{is_reload:1,id:this.weiboData.idstr,is_show_bulletin:this.weiboData.is_show_bulletin,is_mix:0,max_id:this.max_id,count:c,anchor_id:this.cid,uid:this.weiboData.user.id,fetch_level:0,locale:Object(ki["a"])()})}else"attitude"===this.curTab&&(s="/ajax/statuses/likeShow",r={id:this.weiboData.idstr,attitude_type:0,attitude_enable:1,page:this.page,count:c});this.isLoading=!0,this.isRetry=!1,s&&this.$http.get(s,{params:r,cancelToken:new l((function(t){o.cancel=t}))}).then((function(t){var a;o.noDataText="没有更多内容了",o.isLoading=!1,o.noRepComLike=!1,o.noListText="";var n=t.data,s=[];if("approvalComments"===e&&(null===n||void 0===n?void 0:n.data)&&(n.max_id=n.data.max_id,n.total_number=n.data.total_number,n.data.comments&&n.data.comments.length&&(o.approvalTips="共".concat(n.total_number,"条待审评论（已隐藏所有回复），去“评论精选”中批量管理"),n.data=n.data.comments,n.data.map((function(t){t.button={text:"通过审核"}})))),1===o.page&&n.tip_msg&&"comment"===o.curTab&&(o.tipMsg=n.tip_msg),1===o.page&&0===(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.length)&&"comment"===o.curTab)return o.isMy&&o.checkComment&&(o.filterGroup.push({isDefault:1,type:"approvalComments",scheme:"",title:"待审评论"}),o.getList("",o.approvalCommentsType)),void(n.trendsText&&(o.noRepComLike=!0,o.$emit("showScrollBottom",!1),o.noListText=n.trendsText));if("repost"===o.curTab&&o.page<=n.max_page||n.data&&n.data.length||n.max_id&&"comment"===o.curTab){if(s=n.data,"repost"===o.curTab?(o.weiboData.reposts_count=n.total_number,o.weiboData.reposts_count_format=Object(li["b"])(o.weiboData.reposts_count),o.maxPage=n.max_page,1===o.page&&n.hot_reposts_total&&(o.hotRepostTotal=n.hot_reposts_total)):"comment"===o.curTab?(o.isMy&&o.checkComment&&n.filter_group&&n.filter_group.length&&n.filter_group.push({isDefault:0,type:"approvalComments",scheme:"",title:"待审评论"}),0===o.filterGroup.length&&n.filter_group&&n.filter_group.length&&1===o.page&&(o.filterGroup=n.filter_group,o.curTabIndex=o.filterGroup.findIndex((function(t){return 1===+t.isDefault}))),n.total_number>=0&&2!==o.weiboData.associated_type&&(o.weiboData.comments_count=n.total_number,o.weiboData.comments_count_format=Object(li["b"])(o.weiboData.comments_count)),1===o.page&&n.header_text&&(o.headerText=n.header_text),s.map((function(t){t.url_struct&&t.url_struct.length&&t.url_struct[0].pic_ids&&t.url_struct[0].pic_ids.length&&(t.pics=Object(ri["a"])(t.url_struct[0].pic_ids),t.pics=t.pics.map((function(t){var e;return(null===(e=t.url)||void 0===e?void 0:e.match(/\.gif/))&&(t.url=t.large.url),t})))}))):"attitude"===o.curTab&&2!==o.weiboData.associated_type&&(o.weiboData.attitudes_count=n.total_number,o.weiboData.attitudes_count_format=Object(li["b"])(o.weiboData.attitudes_count)),1===o.page&&n.tip_msg&&(o.tipMsg=n.tip_msg),1!==o.page||i||(o.commentlistPos=o.$refs.rcListEle.getBoundingClientRect().top,o.goAnchor()),o.page>=2&&!o.config.isNormal)return o.isNoData=!1,void(o.showNotLoginBottom=!0);o.list=o.list.concat(s),o.max_id=n.max_id,"comment"===o.curTab&&void 0!==n.max_id&&0===n.data.length?o.$nextTick((function(){o.isLoading=!1,o.loadMoreManuel=!0})):"repost"===o.curTab?o.$nextTick((function(){void 0!==n.max_page&&(o.list.length?o.isLoading=o.page<=n.max_page:o.loadMoreManuel=!0)})):o.isLoading=!0,"comment"===o.curTab&&0!==o.max_id&&n.data.length>0&&(o.isLoading=!1,o.$nextTick((function(){o.isLoading=!0}))),o.pageAdd=!0,o.$emit("showScrollBottom",!1)}return 1===o.page&&o.isMy&&o.checkComment&&"comment"===o.curTab&&0===o.filterGroup.length?(o.filterGroup.push({isDefault:1,type:"approvalComments",scheme:"",title:"待审评论"}),void o.getList("",o.approvalCommentsType)):"comment"===o.curTab&&!o.isMy&&o.checkComment&&n.data&&0===n.data.length&&2===o.page?(o.isLoading=!1,o.isRetry=!1,o.noRepComLike=!0,o.$emit("showScrollBottom",!1),void(o.noListText="博主已开启评论精选")):("repost"===o.curTab&&(o.page>=o.maxPage||"repost"!==o.curTab&&n.data&&0===n.data.length)&&(o.isLoading=!1,o.isRetry=!1,o.isNoData=!0,o.$emit("showScrollBottom",!0)),"comment"===o.curTab&&0===n.max_id&&(o.isLoading=!1,o.isRetry=!1,o.isNoData=!0,n.trendsText&&(o.noDataText=n.trendsText),o.$emit("showScrollBottom",!0)),("attitude"===o.curTab&&n.data&&0===n.data.length&&o.page>1||o.list.length===n.total_number)&&(o.isLoading=!1,o.isRetry=!1,o.isNoData=!0,o.$emit("showScrollBottom",!0)),(("repost"===o.curTab&&!n.next_cursor||"comment"===o.curTab&&!n.max_id||"attitude"===o.curTab&&0===n.total_number)&&0===o.list.length&&0===n.total_number||1===o.page&&0===o.list.length&&n.empty_tip)&&(o.noRepComLike=!0,o.$emit("showScrollBottom",!1),"repost"===o.curTab?o.noListText=n.empty_tip?n.empty_tip:"快来转发精彩内容吧":"comment"===o.curTab?o.approvalCommentsType?o.noListText="暂无需要审核的评论":!o.isMy&&o.checkComment?o.noListText="博主已开启评论精选":o.noListText="暂无评论，发表你的评论或看看推荐吧":"attitude"===o.curTab&&(o.noListText="还没有人赞过")),o.isChangeId=!1,void(o.pageAdd&&(o.page++,o.pageAdd=!1)))})).catch((function(t){t.message&&(o.isLoading=!1,o.isRetry=!0)}))},onLoadMoreComment:function(){this.isLoading=!0,this.loadMoreManuel=!1},loadMoreData:function(){var t;this.approvalCommentsType&&"approvalComments"===(null===this||void 0===this||null===(t=this.filterGroup[this.curTabIndex])||void 0===t?void 0:t.type)?this.getList("",this.approvalCommentsType):this.getList()},updateReplyModal:function(t){this.showReplyModal=t.show,this.commentData={id:t.id,total_number:t.total_number,rootComment:t.rootComment}},deleteComment:function(t){var e=this,i=t.cid,a=t.rootid;if(a)this.list.map((function(t){if(t.comments&&t.comments.length){var a=t.comments.findIndex((function(t){return t.idstr===i}));a>-1&&(t.comments.splice(a,1),t.total_number--,e.weiboData.comments_count--,e.weiboData.comments_count_format=Object(li["b"])(e.weiboData.comments_count),t.more_info&&t.more_info.highlight_text&&(t.more_info.highlight_text="共".concat(t.total_number,"条回复")))}}));else{var o=this.list.findIndex((function(t){return t.idstr===i}));o>-1&&(this.list.splice(o,1),this.weiboData.comments_count--,this.weiboData.comments_count_format=Object(li["b"])(this.weiboData.comments_count),this.list.length||(this.approvalCommentsType?(this.filterGroup=this.filterGroup.filter((function(t){return t.type===e.approvalCommentsType})),this.headerText="",this.page=1,this.getList("",this.approvalCommentsType)):(this.noRepComLike=!0,this.noListText="暂无评论，发表你的评论或看看推荐吧",this.filterGroup=[],this.$emit("showScrollBottom",!1))))}},deleteRepost:function(t){var e=this.list.findIndex((function(e){return e.idstr===t}));e>-1&&(this.list.splice(e,1),this.weiboData.reposts_count--,this.weiboData.reposts_count_format=Object(li["b"])(this.weiboData.reposts_count),this.list.length||(this.noRepComLike=!0,this.noListText="快来转发精彩内容吧"))},updateComments:function(t,e){this.list.map((function(i){i.comments&&i.comments.length&&(i.comments=t,i.more_info&&i.more_info.highlight_text&&(i.more_info.highlight_text="共".concat(e,"条回复")))}))},updateTotalNumber:function(t){this.list.map((function(e){e.comments&&e.comments.length&&e.more_info&&e.more_info.highlight_text&&(e.more_info.highlight_text="共".concat(t,"条回复"))}))},toManage:function(){window.open("/manage/approval/cmt?id=".concat(this.weiboData.idstr))},goAnchor:function(){var t=this;["repost","comment"].indexOf(this.hashValue)>-1&&("feed"===this.$route.params.from?setTimeout((function(){t.anchorTop()}),0):setTimeout((function(){document.getElementById("composerEle")&&document.getElementById("composerEle").scrollIntoView({block:"center",behavior:"smooth"})}),0))},fetchPropertyValue:function(t){var e=new RegExp("px","g"),i=getComputedStyle(document.documentElement);return+i.getPropertyValue(t).trim().replace(e,"")},anchorTop:function(){var t=this.fetchPropertyValue("--weibo-top-nav-height"),e=this.fetchPropertyValue("--header-height"),i=t+e;document.documentElement.scrollTop=this.commentlistPos-i}}},Ci=$i,Oi=i("a5d1");function ji(t){this["$style"]=Oi["default"].locals||Oi["default"]}var Ti=Object(P["a"])(Ci,ni,si,!1,ji,null,null),Di=Ti.exports,Si=i("7748"),Ii=i("92e8"),Li={name:"Detail",metaInfo:function(){if(this.data){var t="";if(this.data.text_raw){var e=Object(Ii["a"])(this.data.text_raw,!0);t=e.length>10?e.slice(0,10)+"...":e}return this.data.user&&this.data.user.screen_name&&(t+=" - @".concat(this.data.user.screen_name,"的微博")),t||(t="微博正文"),{title:t}}},data:function(){return{api:"/ajax/statuses/show",data:{},curTab:"comment",curListData:{},feedLocale:"zh-CN",showRCL:!1,action:"create",followinged:!1,deleteWb:{status:!1,text:""},showBottom:!1,actLogData:{page:"detail"},curDetailWeiboData:{}}},mounted:function(){var t=this;this.getData(),this.$Bus.$on("reloadDetail",this.reloadDetailHandle),this.$once("hook:beforeDestroy",(function(){t.$Bus.$off("reloadDetail",t.reloadDetailHandle)})),this.handleActLog("visit")},watch:{curTab:function(t){"repost"===t&&this.$set(this.data,"repostText","//@".concat(this.data.user.screen_name,":").concat(this.data.longTextContent_raw||this.data.text_raw))},$route:function(t,e){t&&["bidDetail","detail"].includes(t.name)&&(this.checkHashUpdate(t,e)&&this.getData(),this.hashValue||(this.curTab="comment"),this.handleActLog("visit"))}},beforeRouteLeave:function(t,e,i){["hot","home","mygroups"].indexOf(t.name)>-1&&(t.meta.keepAlive=!0),i()},computed:Object(a["a"])(Object(a["a"])({},Object(r["c"])(["curWeiboData","config"])),{},{qrcodeText:function(){return location.href},isMy:function(){var t,e;return!!(null===(t=this.curDetailWeiboData)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.id)&&this.curDetailWeiboData.user.id===this.config.uid},hashValue:function(){return this.$route.hash?this.$route.hash.slice(1):""}}),components:{Feed:oi["a"],RepostCommentList:Di,QRCode:Si["a"]},methods:Object(a["a"])(Object(a["a"])({},Object(r["b"])(["setCurWeiboData"])),{},{reloadDetailHandle:function(){var t=this;this.$nextTick((function(){t.getWB(),t.reloadRcList()}))},getData:function(){this.curDetailWeiboData={},this.showRCL=!1,this.getWB()},getWB:function(){var t=this;this.deleteWb={status:!1,text:""},this.$http.get(this.api,{params:{id:this.$route.params.id,locale:Object(ki["a"])()}}).then((function(e){e.data&&e.data.ok?(t.data=e.data,t.data.id_raw=t.$route.params.id,t.curDetailWeiboData=t.data,t.afterGetData(),t.correctRouter()):(27004===e.data.error_code?(t.deleteWb.status=!0,t.deleteWb.qrcode=!0):e.data.error_code&&(t.deleteWb.status=!0),t.deleteWb.text=e.data.message)})).catch((function(e){var i=e.response.data;(i.errno||i.error_code)&&(t.deleteWb.status=!0,t.deleteWb.text=i.message)}))},getExtend:function(){var t=this;this.$http.get("/ajax/statuses/extend",{params:{id:this.curDetailWeiboData.idstr}}).then((function(e){e.data&&e.data.ok&&(t.data=Object.assign({},t.data,{reads_count:e.data.reads_count}),t.curDetailWeiboData=t.data)}))},afterGetData:function(){window.scrollTo(0,0),this.isMy&&!this.curDetailWeiboData.reads_count&&this.getExtend(),["repost","comment","attitude"].indexOf(this.hashValue)>-1&&(this.curTab=this.hashValue,"repost"===this.curTab&&this.$set(this.data,"repostText","//@".concat(this.data.user.screen_name,":").concat(this.data.longTextContent_raw||this.data.text_raw))),this.showRCL=!0},reloadRcList:function(){this.showRCL&&(this.$refs.rcList.initApiData(),this.$refs.rcList.getList("","reload"))},feedRetweet:function(t){t.uid&&("repost"!==(null===t||void 0===t?void 0:t.type)?("repost"===this.hashValue&&this.reloadRcList(),this.curTab="repost",this.$route.params.from="",this.$router.replace({hash:this.curTab}).catch((function(t){}))):this.$router.push({name:"bidDetail",params:{uid:t.uid,id:t.mblogid}}))},feedComment:function(t){(null===t||void 0===t?void 0:t.uid)&&("repost"!==(null===t||void 0===t?void 0:t.type)?("comment"===this.hashValue&&this.reloadRcList(),this.curTab="comment",this.$route.params.from="",this.$router.replace({hash:this.curTab}).catch((function(t){}))):this.$router.push({name:"bidDetail",params:{uid:t.uid,id:t.mblogid}}))},feedLikeList:function(t){t.uid&&("attitude"===this.hashValue&&t&&"og"===t.type&&this.reloadRcList(),this.curTab="attitude",this.$router.replace({hash:this.curTab}).catch((function(t){})))},isFollowing:function(t){this.curDetailWeiboData.user&&(this.curDetailWeiboData.user.following=t,this.followinged=!0)},goAnchor:function(){["repost","comment"].indexOf(this.hashValue)>-1&&"feed"!==this.$route.params.from&&this.$nextTick((function(){document.getElementById("composerEle")&&document.getElementById("composerEle").scrollIntoView({block:"center",behavior:"smooth"})}))},showScrollBottom:function(t){this.showBottom=t},handleActLog:function(t){this.actLogData&&this.actLogData.page&&t&&this.toLog(Object(a["a"])(Object(a["a"])({},this.actLogData),{},{actType:t}))},checkHashUpdate:function(t,e){return t.path!==e.path},correctRouter:function(){var t,e,i,a;"detail"===this.$route.name&&(this.curDetailWeiboData.mblogid&&(null===(t=this.curDetailWeiboData)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.id)&&history.replaceState({},"","/".concat(null===(i=this.curDetailWeiboData)||void 0===i||null===(a=i.user)||void 0===a?void 0:a.id,"/").concat(this.curDetailWeiboData.mblogid)))}})},Bi=Li,Pi=i("698b");function Ai(t){this["$style"]=Pi["default"].locals||Pi["default"]}var Ei=Object(P["a"])(Bi,ii,ai,!1,Ai,null,null),Mi=Ei.exports,Fi=i("c66d"),Ri=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{key:t.time},[i("woo-box",{directives:[{name:"show",rawName:"v-show",value:t.showToast&&!t.videoEdit,expression:"showToast && !videoEdit"}],ref:"video",staticClass:"wbpro-layer",class:[t.$style.layer1,!t.hasnav&&t.$style.layer2],attrs:{align:"center",justify:"center",direction:"y"}},[i("woo-box",{staticStyle:{"margin-bottom":"40px"},attrs:{align:"center",direction:"y"}},[i("div",{class:t.$style.bg1}),i("woo-box",{class:t.$style.toastMsg},[1===t.toastType?i("div",["edit"===t.entry?i("span",[t._v("视频信息更改成功，稍等片刻自动更新")]):i("span",[t._v("视频已上传成功，将在转码完成后自动发出，请留意来自@微博视频 的私信通知")]),t.hasnav?i("a",{staticStyle:{"margin-left":"4px"},on:{click:t.goList}},[t._v("视频管理 >")]):t._e()]):2===t.toastType?i("div",[t._v(" 视频已定时成功，将在转码完成后进入定时微博列表，"),i("a",{attrs:{target:"_blank",href:"https://weibo.com/manage/schedule?type=0"}},[t._v("点击查看 ")])]):t._e()])],1),i("woo-box",[i("woo-button",{attrs:{sort:"flat",kind:"primary"},nativeOn:{click:function(e){return t.refresh(e)}}},[t._v("再发一条视频")])],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.videoEdit&&!t.showToast,expression:"!videoEdit && !showToast"}],ref:"video",staticClass:"wbpro-layer",class:[t.$style.layer,!t.hasnav&&t.$style.layer2]},[i("div",{class:t.$style.abox1},[i("div",{class:[t.$style.tit1,t.$style.gap1]},[t._v("上传视频")]),i("div",{class:[t.$style.text1,t.$style.gap2]},[t._v(" 请上传15GB以下的视频，请勿上传色情，反动等违法视频"),i("br")])]),i("div",{ref:"videoScroll",staticClass:"modal-scroll",class:t.$style.unmodal,on:{touchmove:function(t){t.stopPropagation()}}},[i("div",{class:t.$style.videobox},[i("div",{class:t.$style.top1},[t.showToast?t._e():i("VideoUpload",{ref:"video_upload",attrs:{entry:t.entry,type:t.channel,screenshot:t.screenshot.url,biz_type:t.biz_type},on:{edit:function(e){t.videoEdit=!0},"video-change":function(e){return t.uploadChange(arguments)},umVideo:t.umVideoChange}}),i("woo-divider",{directives:[{name:"show",rawName:"v-show",value:t.autoPublish||t.showMoreDetail,expression:"autoPublish || showMoreDetail"}],class:t.$style.gap1,attrs:{"border-color":"var(--w-card-border)"}})],1),t.autoPublish?i("div",[i("woo-box",{class:[t.$style.abox3,t.$style.gap2],attrs:{direction:"y",align:"center",justify:"center"}},[i("div",{class:t.$style.bg}),"edit"===t.entry?i("div",{class:t.$style.tit2},[t._v(" 视频上传完毕后，会自动替换原有微博 "),t.hasnav?i("a",{on:{click:t.goList}},[t._v("视频管理 >")]):t._e()]):i("div",{class:t.$style.tit2},[t._v(" 视频上传完毕后，会自动发布微博 "),i("a",{on:{click:function(e){return t.goList(!0)}}},[t._v("视频管理 >")])]),i("woo-box",[i("woo-button",{attrs:{sort:"flat",kind:"default"},nativeOn:{click:function(e){t.autoPublish=!1}}},[t._v("取消自动发布")]),i("woo-button",{staticStyle:{"margin-left":"24px"},attrs:{sort:"flat",kind:"primary"},nativeOn:{click:function(e){return t.refresh(e)}}},[t._v("再发一条视频")])],1)],1)],1):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showMoreDetail,expression:"showMoreDetail"}]},[i("div",{class:[t.$style.tit1,t.$style.gap1]},[t._v("基本信息")]),i("div",{class:t.$style.gap1},[i("woo-box",{class:t.$style.switch,attrs:{align:"center"}},[i("div",{class:t.$style.tit1},[t._v("类型"),i("span",[t._v("*")])]),i("woo-box",{class:t.$style.type,attrs:{align:"center"}},t._l(t.videoTypeDesc,(function(e,a){var o;return i("div",{key:a},[e.show?i("woo-radio",{class:(o={},o[t.$style.label3]=!0,o[t.$style.gray1]=e.value==t.type,o),attrs:{value:e.value,size:"16",disabled:1===e.value&&t.coCreationState&&t.coCreationState.coCreation},nativeOn:{click:function(i){1===e.value&&t.coCreationState&&t.coCreationState.coCreation&&t.showToastType()}},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v(t._s(e.name))]):t._e()],1)})),0)],1)],1),i("woo-divider",{class:t.$style.gap1,attrs:{"border-color":"var(--w-card-border)"}}),i("div",{class:[t.$style.tit1,t.$style.gap2]},[t._v("标题")]),i("div",{staticClass:"wbpro-form",class:[t.$style.top1,t.titleStatus],on:{click:function(e){return e.stopPropagation(),t.titleFocus(e)}}},[i("woo-box",[i("woo-box-item",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],ref:"titleInput",attrs:{type:"text",placeholder:"填写标题（0～30个字）",selectionEnd:""},domProps:{value:t.title},on:{blur:t.titleBlur,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.titleBlur(e)},keypress:function(t){t.stopPropagation()},input:function(e){e.target.composing||(t.title=e.target.value)}}})]),i("div",{staticClass:"num",domProps:{textContent:t._s(t.titleNumber+"/30")}})],1)],1),i("VideoScreenshot",{attrs:{edit:t.videoEdit,screenArray:t.screenArray,screenshot:t.screenshot.url,horizontal:t.horizontal,channel:!0},on:{edit:t.changeEdit,change:function(e){return t.changeVideoEdit(arguments)}}}),i("div",[i("woo-divider",{class:t.$style.gap1,attrs:{"border-color":"var(--w-card-border)"}}),i("div",{ref:"contribution",class:t.$style.gap1},[i("div",[i("div",{class:t.$style.gap2},[i("div",{class:t.$style.tit1},[t._v("分类")]),i("div",{class:t.$style.top1},[i("woo-box",{staticClass:"wbpro-select wbpor-pos error",class:t.$style.sort,attrs:{align:"center"},nativeOn:{click:function(e){e.stopPropagation(),t.showChannel=!0}}},[i("woo-box-item",{attrs:{align:"center"}},[t._v(t._s(t.channelText))]),i("woo-box",{staticClass:"opt",attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"caretDown"}})],1),i("VideoSort",{directives:[{name:"show",rawName:"v-show",value:t.showChannel,expression:"showChannel"}],ref:"videoSort",class:t.$style.sortin,attrs:{list:t.category?t.category:t.channelList},on:{change:function(e){return t.modifyChannel(arguments)}}})],1)],1)])])]),i("woo-divider",{class:t.$style.gap1,attrs:{"border-color":"var(--w-card-border)"}}),i("div",{class:t.$style.gap1},[i("woo-box",{class:t.$style.switch,attrs:{align:"center"}},[i("woo-box-item",{attrs:{align:"center"}},[i("woo-box",{attrs:{align:"center"}},[i("div",{class:[t.$style.gray1,t.$style.tit1]},[t._v("合集")]),i("woo-pop",{class:t.$style.help,attrs:{show:t.showAlbumPop,flow:"",direction:"right",align:"center",gap:"10"},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-fonticon",{class:t.$style.qa,attrs:{value:"qaCircle"},nativeOn:{mouseover:function(e){t.showAlbumPop=!0},mouseout:function(e){t.showAlbumPop=!1}}})]},proxy:!0}])},[i("div",{staticClass:"wbpro-texta",class:t.$style.helppop1},[i("h4",{staticClass:"fb"},[t._v("微博合集")]),i("p",[t._v(" 1、合集功能可以让你对自己的视频作品进行分类管理。 "),i("br"),t._v("2、发布视频时可以自己新建合集，也可以将视频加入到已创建的合集中。 "),i("br"),t._v("3、制作优秀的合集会被推荐到微博视频精选频道，让你获得更多的曝光和涨粉机会；视频被推荐的唯一标准是视频质量，不受粉丝量影响。 ")])])])],1)],1),i("div",[i("woo-switch",{ref:"checkAlbumRef",attrs:{size:.6875},model:{value:t.checkAlbum,callback:function(e){t.checkAlbum=e},expression:"checkAlbum"}})],1)],1),t.checkAlbum?i("div",[i("div",{class:t.$style.scroll},[t._l(t.albumList,(function(e,a){return i("woo-box",{key:a,class:t.$style.top2,attrs:{align:"center"}},[i("woo-checkbox",{class:t.$style.label2,attrs:{value:"check1",disabled:e.item_count>=500},nativeOn:{click:function(i){e.item_count>=500&&t.albumsMore()}},model:{value:e.checked,callback:function(i){t.$set(e,"checked",i)},expression:"item.checked"}}),i("woo-box-item",[i("div",{staticClass:"wbpro-form"},[i("woo-box",{attrs:{align:"center"}},[i("span",{class:t.$style.albumIcon}),i("woo-box-item",[i("input",{attrs:{type:"text",disabled:""},domProps:{value:e.value+(e.checked?"(更新至"+(e.item_count+1)+"集)":"(共"+e.item_count+"集)")},on:{keypress:function(t){t.stopPropagation()}}})])],1)],1)])],1)})),t.checkAddAlbum?i("woo-box",{class:t.$style.top2,attrs:{align:"center"}},[i("woo-checkbox",{class:t.$style.label2,attrs:{value:"check2",disabled:t.addAlbumObj.disabled},model:{value:t.addAlbumObj.checked,callback:function(e){t.$set(t.addAlbumObj,"checked",e)},expression:"addAlbumObj.checked"}}),i("woo-box-item",[i("div",{staticClass:"wbpro-form focus",class:{error:t.addAlbumObj.error}},[i("woo-box",{attrs:{align:"center"}},[i("woo-fonticon",{class:t.$style.icon1,attrs:{value:"album"}}),i("woo-box-item",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.addAlbumObj.message,expression:"addAlbumObj.message"}],ref:"addAlbumInput",attrs:{type:"text"},domProps:{value:t.addAlbumObj.message},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addAlbumEnter(e)},blur:t.addAlbumEnter,keypress:function(t){t.stopPropagation()},input:function(e){e.target.composing||t.$set(t.addAlbumObj,"message",e.target.value)}}})]),t.addAlbumObj.error?i("div",{staticClass:"num",domProps:{textContent:t._s(t.addAlbumObj.number+"/12")}}):t._e()],1)],1)])],1):t._e()],2),i("div",{class:t.$style.add},[i("woo-fonticon",{class:t.$style.icon,attrs:{value:"add"}}),i("span",{on:{click:function(e){return e.stopPropagation(),t.addAlbum(e)}}},[t._v("新建合集")])],1)]):t._e()],1),i("woo-divider",{class:t.$style.gap1,attrs:{"border-color":"var(--w-card-border)"}}),t.coCreateConfig.can_publish&&!this.um_video&&"edit"!==t.entry?i("CoCreation",{attrs:{coCreateConfig:t.coCreateConfig,type:1===t.type,visible:t.showCoCreation,timer:t.curTimer},on:{change:t.changeCoCreation}}):t._e(),i("div",{class:[t.$style.tit1,t.$style.gap2]},[t._v("设置")]),i("woo-box",{class:t.$style.gap4,attrs:{items:3,wrap:"wrap"}},[t.material_permission&&"edit"!==t.entry?i("woo-box-item",{class:t.$style.gap5},[i("woo-box",{class:t.$style.switch,attrs:{align:"center"}},[i("woo-box-item",{attrs:{align:"center"}},[i("woo-box",{attrs:{align:"center"}},[i("div",{class:[t.$style.gray1]},[t._v("版权视频")])])],1),i("div",[i("woo-switch",{attrs:{disabled:t.um_video,size:.6875},model:{value:t.copyright_video_switch,callback:function(e){t.copyright_video_switch=e},expression:"copyright_video_switch"}})],1)],1)],1):t._e(),t.material_permission&&"edit"!==t.entry?i("div",{staticStyle:{height:"22px"}},[i("woo-divider",{attrs:{"border-color":"#e3e3e3e3",direction:"y"}})],1):t._e(),i("woo-box-item",{class:t.$style.gap5},[i("woo-box",{class:t.$style.switch,attrs:{align:"center"}},[i("woo-box-item",{attrs:{align:"center"}},[i("woo-box",{attrs:{align:"center"}},[i("div",{class:[t.$style.gray1]},[t._v("允许下载")]),i("woo-pop",{class:t.$style.help,attrs:{show:t.showAllowDownloadPop,flow:"",direction:"right",align:"center",gap:"10"},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-fonticon",{class:t.$style.qa,attrs:{value:"qaCircle"},nativeOn:{mouseover:function(e){t.showAllowDownloadPop=!0},mouseout:function(e){t.showAllowDownloadPop=!1}}})]},proxy:!0}])},[i("div",{staticClass:"wbpro-texta",class:[t.$style.helppop1,t.$style.helppop3]},[i("h4",{staticClass:"fb"},[t._v("允许下载")]),i("p",{class:t.$style.fb1},[t._v(" 是否允许他人下载该视频 ")])])])],1)],1),i("div",[i("woo-switch",{attrs:{size:.6875},model:{value:t.checkAllowDownload,callback:function(e){t.checkAllowDownload=e},expression:"checkAllowDownload"}})],1)],1)],1),i("div",{staticStyle:{height:"22px"}},[i("woo-divider",{attrs:{"border-color":"#e3e3e3e3",direction:"y"}})],1),"edit"!==t.entry&&t.show_approval_reprint?i("woo-box-item",{class:t.$style.gap5},[i("woo-box",{class:[t.$style.switch],attrs:{align:"center"}},[i("woo-box-item",{attrs:{align:"center"}},[i("woo-box",{attrs:{align:"center"}},[i("div",{class:t.$style.gray1},[t._v("允许划重点")]),i("woo-pop",{class:t.$style.help,attrs:{show:t.showWeiboRepost,flow:"",direction:"right",align:"center",gap:"10"},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-fonticon",{class:t.$style.qa,attrs:{value:"qaCircle"},nativeOn:{mouseover:function(e){t.showWeiboRepost=!0},mouseout:function(e){t.showWeiboRepost=!1}}})]},proxy:!0}],null,!1,3277408324)},[i("div",{staticClass:"wbpro-texta",class:t.$style.helppop1},[i("h4",{staticClass:"fb"},[t._v("划重点说明")]),i("p",{class:!1},[t._v(" 若您的微博为公开，并设置为允许划重点，其他用户可在您的视频中划出一个精彩的重点时刻并发微博，发布后将注明视频来源于您，同时产生的播放量会计入您的微博下。 ")])])])],1)],1),i("div",[i("woo-switch",{attrs:{size:.6875},model:{value:t.forward_strategy,callback:function(e){t.forward_strategy=e},expression:"forward_strategy"}})],1)],1)],1):t._e(),i("woo-box-item",{class:t.$style.gap5},[t.play_config&&t.play_config.follower_watch_entire&&t.duration>180?i("woo-box",{class:[t.$style.switch],attrs:{align:"center"}},[i("woo-box-item",{attrs:{align:"center"}},[i("woo-box",{attrs:{align:"center"}},[i("div",{class:t.$style.gray1},[t._v(" "+t._s(t.play_config.follower_watch_entire.title)+" ")]),i("woo-pop",{class:t.$style.help,attrs:{show:t.fansShow,flow:"",direction:"right",align:"center",gap:"10"},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-fonticon",{class:t.$style.qa,attrs:{value:"qaCircle"},nativeOn:{mouseover:function(e){t.fansShow=!0},mouseout:function(e){t.fansShow=!1}}})]},proxy:!0}],null,!1,519309636)},[i("div",{staticClass:"wbpro-texta",class:t.$style.helppop1},[i("h4",{staticClass:"fb"},[t._v(" "+t._s(t.play_config.follower_watch_entire.pop_up_window_title)+" ")]),i("p",{domProps:{innerHTML:t._s(t.play_config.follower_watch_entire.pop_up_window_desc)}})])])],1)],1),i("div",[i("woo-switch",{attrs:{size:.6875},model:{value:t.follower_watch_entire,callback:function(e){t.follower_watch_entire=e},expression:"follower_watch_entire"}})],1)],1):t._e()],1),i("woo-box-item")],1)],1)],1)])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showMoreDetail&&"edit"!==t.entry,expression:"showMoreDetail && entry !== 'edit'"}],class:t.$style.box1},[i("div",{class:[t.$style.gray1,t.$style.tit1,t.formDisabled&&t.$style.tit2]},[t._v(" 设置微博内容 ")]),t.showToast?t._e():i("Publisher",{attrs:{doneDisabled:t.channelDisabled,channelData:t.successData,toolsfliter:["emoticon","hash","at","place","timer"],set:{action:"channel",publish:t.isDone,publishCallback:t.done,autoPublish:t.autoPublish&&"edit"!==this.entry&&!0!==this.replace,getSuccessData:t.getSuccessData,formDisabled:t.formDisabled},sendDesc:t.sendDesc,coCreation:t.coCreationState},on:{change:t.change,disabledCheck:t.disabledCheck}})],1),"edit"===t.entry&&t.showMoreDetail?i("woo-box",{staticStyle:{"margin-top":"30px",position:"relative"},attrs:{justify:"center"}},[i("div",{staticStyle:{position:"relative"}},[i("woo-button",{attrs:{disabled:t.channelDisabled,sort:"flat",kind:"primary"},on:{click:t.submitEditInfo}},[t._v(t._s(t.sendDesc))]),t.channelDisabled?i("div",{class:t.$style.btn1,on:{click:t.disabledCheck}}):t._e()],1)]):t._e()],1),i("VideoEdit",{ref:"videoEdit",attrs:{edit:t.videoEdit,screenArray:t.screenArray,screenshot:t.screenshot.url,horizontal:t.horizontal,channel:!0},on:{change:function(e){return t.changeVideoEdit(arguments)}}})],1)},Vi=[],Ni=(i("6c3f"),i("7ec3")),Hi=i("5abd"),zi=i("1e52"),Ui=i("59b0"),Gi=i("3095"),qi=i("9725"),Wi={metaInfo:function(){return{title:"视频发布"}},components:{VideoUpload:function(){return i.e("chunk-27ad31c8").then(i.bind(null,"dd52"))},VideoSort:function(){return i.e("chunk-04dd4069").then(i.bind(null,"f4d2"))},VideoEdit:function(){return i.e("chunk-5f89d2e3").then(i.bind(null,"434c"))},Publisher:function(){return Promise.resolve().then(i.bind(null,"fc5f"))},CoCreation:function(){return i.e("chunk-40dab75a").then(i.bind(null,"9cf6"))},VideoScreenshot:qi["a"]},props:{lockScreen:{type:Boolean,default:!0},iptType:{type:String,default:"",required:!1},editData:{type:String}},setup:function(t,e){var i=e.root,o=e.refs,n=Object(x["d"])().proxy,s=n.$route.query.oid,r=Object(x["n"])(["0","1","2","3"]),l=Object(zi["a"])(i,o),c=Object(Ui["a"])(o),u=Object(Gi["a"])(o,i,r,s),d=Object(x["n"])(!0),h=Object(x["n"])(!1),p=function(t){h.value=t,t&&(d.value=!0)},f=Object(x["n"])(),m=Object(x["n"])(!0),v=function(t){f.value=t};return Object(a["a"])(Object(a["a"])(Object(a["a"])({umVideoChange:p,changeCoCreation:v,showCoCreation:m,coCreationState:f,copyright_video_switch:d,um_video:h,supported_video_type:r},l),c),u)},data:function(){return{showToast:!1,toastType:1,autoPublish:!1,time:"",successData:void 0,content:"",show_approval_reprint:!1,visable:!1,videoEdit:!1,checkExposure:!1,showWeiboAlubum:!1,showWeiboRepost:!1,showVideoTagDetail:!1,screenshot:{url:"",pid:""},screenArray:[],type:void 0,uploadSuccess:void 0,videoDetails:{},videoTypeDesc:[{name:"原创",show:!0,value:0},{name:"二创",show:!0,value:2},{name:"转载",show:!0,value:1}],videoManMake:{0:{name:"原创",show:!0,desc:"独立拍摄，制作完成的内容"},2:{name:"二次创作",show:!0,desc:"译制、解说、混剪等对原有视频进行再创作"},3:{name:"版权",show:!0,desc:"综艺、电视剧、电影、赛事等版权方的视频"}},social_video_watermark:!0,showWaterMarkPop:!1,showAllowDownloadPop:!1,showVplusPop:!1,manMakeSelect:void 0,showManMake:!1,video_source:"",video_source_error:!1,resetData:{},forward_strategy:!0,approval_reprint:!1,follower_watch_entire:!1,duration:void 0,horizontal:void 0,horizontalCover:void 0,fansShow:!1,watermarkPop:!1,formDisabled:!1,entry:"publish",videoInfo:{},replace:!1,curTimer:!1}},computed:Object(a["a"])(Object(a["a"])({},Object(r["c"])(["config"])),{},{hasnav:function(){return"0"!==this.$route.query.hasnav},showMoreDetail:function(){return!this.autoPublish&&void 0!==this.uploadSuccess},sendDesc:function(){return!0!==this.uploadSuccess?"自动发布":"edit"===this.entry?"确认更改":"发布"},durationDesc:function(){return void 0===this.uploadSuccess?"投稿视频需大于1分钟":this.duration&&this.uploadSuccess||this.duration&&!this.uploadSuccess?this.duration>60?"":"投稿视频需大于1分钟":!this.duration&&this.uploadSuccess?"视频信息处理中":"视频上传中"},channelDisabled:function(){return!!(void 0===this.type||this.doneDisabled||this.$refs.video_upload&&"upload"===this.$refs.video_upload.status)||!(!this.checkExposure||this.channel_ids)},isDone:function(){return this.showMoreDetail,!(this.checkExposure&&!this.channel_ids)&&!!this.uploadSuccess}}),watch:{showManMake:function(t){var e=this;t&&this.$nextTick((function(){var t=e.$refs.videoScroll.scrollTop,i=e.$refs.videoScroll.getBoundingClientRect(),a=e.$refs.manMakeRef.$el.getBoundingClientRect();e.$refs.videoScroll.scrollTop=t+(a.top-i.top-52)}))},checkExposure:function(t){!1===t?(this.channelText="选择视频分类",this.tagInput="",this.tagList=[],this.recommendTagList=[],this.channelIndex=0,this.channel_ids="",this.subChannelIndex=0,this.type=void 0,this.supported_video_type=["0","1","2","3"],this.manMakeSelect=void 0):this.scrollToBottom()},uploadSuccess:function(t){"edit"===this.entry&&t&&this.autoPublish&&this.submitEditInfo()}},methods:{albumsMore:function(){this.$_wooBus.$_w_toast({type:"warn",message:"此合集内视频数量已达上限，请新建合集再添加视频"})},disabledCheck:function(){void 0===this.type&&(window.scroll(0,0),this.$_wooBus.$_w_toast({type:"warn",message:"请选择类型后再发布"}))},changeEdit:function(t){var e=this;this.videoEdit=!0,"upload"===t&&this.$nextTick((function(){e.$refs.videoEdit.$refs.file.click()}))},change:function(t,e){"close"==t?(this.$refs.video_upload.cancelMethods(),this.title="",this.handleReset(!0)):"auto"===t?this.autoPublish=!0:"closeShow"===t?(this.$refs.video_upload.cancelMethods(),this.title="",this.handleReset(!0),this.showToast=!0,this.toastType=e):"visible"===t?this.showCoCreation=0===e:"schedule_timestamp"===t&&(this.curTimer=e)},handleReset:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.show_approval_reprint;t&&(this.time=Date.now()),Object.assign(this.$data,this.$options.data()),this.show_approval_reprint=e},updateMd5:function(t){this.$refs.video_upload.updateMd5(t),this.$refs.video_upload.logUpload()},changeManMake:function(t){this.showManMake=!1,this.manMakeSelect=t},clickModal:function(){this.showChannel=!1,this.showManMake=!1},scrollToBottom:function(){var t=this;this.$nextTick((function(){t.$refs.videoScroll.scrollTop=t.$refs.videoScroll.scrollHeight}))},uploadChange:function(t){switch(t[0]){case"show":this.show();break;case"screenshot":var e,i;if(this.screenshot&&this.screenshot.url)this.screenArray.splice(0),(e=this.screenArray).push.apply(e,Object(V["a"])(t[1]));else(!this.screenshot||!this.screenshot.url)&&(this.screenshot=t[1][0]?t[1][0]:{url:"",pid:""}),this.screenArray.splice(0),(i=this.screenArray).push.apply(i,Object(V["a"])(t[1]));break;case"success":this.uploadSuccess=!0,this.videoDetails=t[1];break;case"start":this.autoPublish=!1,this.uploadSuccess=!1;break;case"init":this.autoPublish=!1,this.uploadSuccess=!1,this.screenshot={url:"",pid:""},this.screenArray=[],this.duration=void 0,this.horizontal=void 0,this.checkExposure=!1,this.checkAlbum=!1,this.forward_strategy=!0;break;case"cancel":this.uploadSuccess=void 0;break;case"replace":this.replace=!0;break;case"detail":t[1]&&t[1].width<t[1].height&&(this.horizontal=!0),t[1]&&t[1].duration&&(this.duration=t[1].duration);break}},changeVideoEdit:function(t){this.videoEdit=!1,0===t[0]?this.hide():"select"===t[0]?this.screenshot=this.screenArray[t[1]-1]:"change"===t[0]&&(this.screenshot=t[1].url,t[1].cover&&(this.horizontalCover=t[1].cover))},show:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.visable=!0,t&&this.dataInit(),!t&&(this.resetData=JSON.parse(JSON.stringify(this.$data)))},hide:function(){this.visable=!1},done:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.checkExposure,!this.uploadSuccess||!t||(this.successData=this.getSuccessData(),!0)},getSuccessData:function(){var t,e,i,o=[];this.albumList.forEach((function(t){t.checked&&o.push(t.id)}));var n=function(t){return t.split("/").slice(-1)[0].split(".")[0]},s={titles:[{title:this.title,default:"true"}],covers:[Object(a["a"])({url:this.screenshot.url,pid:this.screenshot.pid||this.screenshot.file_id},Object(Hi["c"])((null===this||void 0===this||null===(t=this.screenshot)||void 0===t?void 0:t.pid)?this.screenshot.pid:n(null===(e=this.screenshot)||void 0===e?void 0:e.url)))],free_duration:{start:0,end:30}};(null===(i=this.coCreationState)||void 0===i?void 0:i.coCreation)&&(s.cooperate_video=this.coCreationState.selectArr.map((function(t){return{uid:t.id,role:t.role}}))),this.um_video&&(s.um_video_switch="um_video"===this.um_video,s.is_vip_paid="vplus_video"===this.um_video),this.material_permission&&"edit"!==this.entry&&(s.copyright_video_switch=this.copyright_video_switch),"edit"===this.entry&&!0===this.replace&&(s.edit_object_id=this.videoDetails.media_id);var r=this.category?"homemade":"contribution";return"edit"!==this.entry?(s.type="video",s.media_id=this.videoDetails.media_id):"homemade"===r&&(s.homemade_changed=1),this.horizontalCover&&s.covers.push({type:1,pid:this.horizontalCover.pid,source:1}),s.resource={video_down:this.checkAllowDownload?1:0},s[r]={channel_ids:[this.channel_ids],type:this.type},this.show_approval_reprint&&(s.approval_reprint=this.forward_strategy?"1":"0"),this.follower_watch_entire&&(s.follower_watch_entire={enable:0}),this.checkAlbum&&(s.playlist={playlist_video:!0,album_ids:o.toString()}),s},submitEditInfo:function(){var t=this;if(this.isDone){var e=this.getSuccessData(),i={oid:this.oid,mid:this.videoInfo.mid,media:JSON.stringify(e)};this.$http.post("/ajax/multimedia/submitVideoEditInfo",i).then((function(e){e.data.ok>0&&e.data.data&&e.data.data.result&&(t.showToast=!0)})).catch((function(t){}))}else if(this.done(!1)&&this.$_w_dialog({btnConfirm:"我知道了",message:"设置自动发布成功！ 微博将于视频文件上传并转码完成后自动发出。在文件上传完毕前请勿关闭浏览器窗口",action:function(){t.change("auto")}}),this.done)return},showFiles:function(){this.handleReset(),this.$refs.video_upload.showFiles()},uploadscreenshot:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.screenshot.url=URL.createObjectURL(t.target.files[0]),i.next=3,Object(Ni["a"])(t.target.files[0]);case 3:a=i.sent,e.screenshot={url:Object(Hi["d"])(a),pid:a};case 5:case"end":return i.stop()}}),i)})))()},dataInit:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.channelListInit();case 1:case"end":return e.stop()}}),e)})))()},getVideoEditInfo:function(t){var e=this;this.$http.get("/ajax/multimedia/getVideoEditInfo",{params:{media_id:t}}).then((function(t){if(t.data&&t.data.ok>0){var i=t.data.data;if(i.video_info.editable)e.videoInfo=i&&i.video_info,e.videoInfo.height>e.videoInfo.width&&(e.horizontal=!0),e.videoInfo&&e.initEditVideoInfo(e.videoInfo);else{var a=i.video_info.reject_edit_reason||"抱歉，当前视频无法编辑";e.hasnav?e.$_wooBus.$_w_toast({type:"warn",message:a,action:function(){e.$router.push({name:"videoManage"})}}):e.$_wooBus.$_w_toast({type:"warn",message:a,autohide:!1,mask:!0})}}}),(function(t){e.$_wooBus.$_w_toast({type:"warn",message:"抱歉，当前视频无法编辑",action:function(){e.hasnav&&e.$router.push({name:"videoManage"})}})}))},initEditVideoInfo:function(t){var e,i=this;this.title=t.titles[0]&&t.titles[0].title,this.$nextTick((function(){i.titleBlur()})),this.screenshot={url:t.covers[0].url},t.current_playlists&&t.current_playlists.length>0&&(this.albumIds=t.current_playlists.map((function(t){return t.id})),this.checkAlbum=!0);var a=(null===t||void 0===t?void 0:t.homemade_info)&&(null===(e=Object.keys(null===t||void 0===t?void 0:t.homemade_info))||void 0===e?void 0:e.length)?t.homemade_info:null===t||void 0===t?void 0:t.contribution_info,o=null===a||void 0===a?void 0:a.first_level_channels,n=null===a||void 0===a?void 0:a.second_level_channels,s=0,r=0;if(o&&o[0]){this.checkExposure=!0;var l=this.category?this.category:this.channelList;l.forEach((function(t,e){t.channel_id===o[0].id&&(s=e,t.sub_channels&&t.sub_channels.length>0&&n&&n[0]&&t.sub_channels.forEach((function(t,e){t.sub_channel_id===n[0].id&&(r=e,i.modifyChannel(["main",s]),i.modifyChannel(["sub",r]))})))}))}this.type=null===a||void 0===a?void 0:a.type},refresh:function(){location.reload()},goList:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?window.open("https://me.weibo.com/content/video","_blank"):window.open("https://me.weibo.com/content/video")},closeChannel:function(){this.showChannel=!1},showToastType:function(){this.$_w_toast({type:"warn",message:"共创视频不可转载"})}},created:function(){"edit"===this.$route.query.entry&&(this.oid=this.$route.query.oid,this.entry=this.$route.query.entry,this.uploadSuccess=!0),window.addEventListener("click",this.closeChannel)},beforeDestroy:function(){window.removeEventListener("click",this.closeChannel)},mounted:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$http.get("/ajax/multimedia/getapproval").then((function(e){var i=e.data;i.ok&&(t.show_approval_reprint=i.showApprovalRepeat)})),e.next=3,t.channelListInit();case 3:i=t.$route.query.oid,"edit"===t.entry&&i&&t.getVideoEditInfo(i);case 5:case"end":return e.stop()}}),e)})))()}},Qi=Wi,Ji=(i("5f8b"),i("cf15"));function Ki(t){this["$style"]=Ji["default"].locals||Ji["default"]}var Yi=Object(P["a"])(Qi,Ri,Vi,!1,Ki,null,null),Xi=(Yi.exports,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{key:t.time},[i("Success",{attrs:{showToast:t.showToast,toastType:t.toastType,videoEdit:t.videoEdit,hasnav:t.hasnav}}),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.videoEdit&&!t.showToast,expression:"!videoEdit && !showToast"}],ref:"video",staticClass:"wbpro-layer",class:[t.$style.layer,!t.hasnav&&t.$style.layer2]},[!t.AudioAuth&&t.isAudio?i("CheckAudioAuth"):t._e(),t.AudioAuth||!t.isAudio?i("HeaderComment",{attrs:{showMoreDetail:t.autoPublish||t.showMoreDetail}}):t._e(),t.isRssAll?i("AudioAlbumHeader"):t._e(),t.isAudio&&t.AudioAuth||t.isVideo||t.isEdit?i("div",{ref:"videoScroll",staticClass:"modal-scroll",class:t.$style.unmodal,on:{touchmove:function(t){t.stopPropagation()}}},[i("div",{class:t.$style.videobox},[i("div",{class:t.$style.top1},[t.showToast||t.isRss?t._e():i("VideoUpload",{ref:"video_upload",attrs:{type:t.channel,screenshot:t.screenshot.url,biz_type:t.biz_type},on:{edit:function(e){t.videoEdit=!0},"video-change":function(e){return t.uploadChange(arguments)},umVideo:t.umVideoChange}}),i("woo-divider",{directives:[{name:"show",rawName:"v-show",value:t.autoPublish||t.showMoreDetail,expression:"autoPublish || showMoreDetail"}],class:t.$style.gap1,attrs:{"border-color":"var(--w-card-border)"}})],1),!t.isAudio||t.showMoreDetail||t.autoPublish?t._e():i("AddRss"),i("AutoState",{attrs:{hasnav:t.hasnav,autoPublish:t.autoPublish},on:{cancel:function(e){t.autoPublish=!1}}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showMoreDetail,expression:"showMoreDetail"}]},[t.isRssAll?t._e():i("div",{class:[t.$style.tit1,t.$style.gap1]},[t._v(" 基本信息 ")]),t.isVideo||t.isEdit?i("Type",{attrs:{coCreationState:t.coCreationState,showToastType:t.showToastType,type:t.type},on:{input:function(e){t.type=e}}}):t._e(),t.isRssAll?t._e():i("Title",{attrs:{content:t.title},on:{input:function(e){t.title=e}}}),t.isVideo||t.isEdit?i("VideoScreenshot",{attrs:{edit:t.videoEdit,screenArray:t.screenArray,screenshot:t.screenshot.url,horizontal:t.horizontal,channel:!0},on:{edit:t.changeEdit,change:function(e){return t.changeVideoEdit(arguments)}}}):t._e(),i("div",[t.isRssAll?t._e():i("woo-divider",{class:t.$style.gap1,attrs:{"border-color":"var(--w-card-border)"}}),t.isAudio?t._e():i("div",[i("div",{ref:"contribution",class:t.$style.gap1},[i("div",[i("div",{class:t.$style.gap2},[i("div",{class:t.$style.tit1},[t._v("分类")]),i("div",{class:t.$style.top1},[i("woo-box",{staticClass:"wbpro-select wbpor-pos error",class:t.$style.sort,attrs:{align:"center"},nativeOn:{click:function(e){e.stopPropagation(),t.showChannel=!0}}},[i("woo-box-item",{attrs:{align:"center"}},[t._v(t._s(t.channelText))]),i("woo-box",{staticClass:"opt",attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"caretDown"}})],1),i("VideoSort",{directives:[{name:"show",rawName:"v-show",value:t.showChannel,expression:"showChannel"}],ref:"videoSort",class:t.$style.sortin,attrs:{list:t.category?t.category:t.channelList},on:{change:function(e){return t.modifyChannel(arguments)}}})],1)],1)])])]),i("woo-divider",{class:t.$style.gap1,attrs:{"border-color":"var(--w-card-border)"}})],1),t.isAudio&&!t.isRssAll?i("AudioCover",{attrs:{title:"",src:t.AudioCoverSrc.src,curObj:{src:t.AudioCoverSrc.src}},on:{change:t.changeAudioCoverSrc}}):t._e(),t.isAudio&&!t.isRssAll?i("AudioDetail",{attrs:{AudioDetailContent:t.AudioDetailContent},on:{input:function(e){t.AudioDetailContent=e},state:function(e){t.AudioDetailContentState=e}}}):t._e(),t.isAudio&&t.showMoreDetail?i("AudioAlbum",{attrs:{cluster_id:t.cluster_id,is_new_cluster:t.is_new_cluster},on:{change:t.changeAudioAlbum}}):t._e(),t.isAudio?t._e():i("div",{class:t.$style.gap1},[i("woo-box",{class:t.$style.switch,attrs:{align:"center"}},[i("woo-box-item",{attrs:{align:"center"}},[i("woo-box",{attrs:{align:"center"}},[i("div",{class:[t.$style.gray1,t.$style.tit1]},[t._v("合集")]),i("Action",{attrs:{title:"微博合集",desc:" 1、合集功能可以让你对自己的视频作品进行分类管理。\n                          <br />2、发布视频时可以自己新建合集，也可以将视频加入到已创建的合集中。\n                          <br />3、制作优秀的合集会被推荐到微博视频精选频道，让你获得更多的曝光和涨粉机会；视频被推荐的唯一标准是视频质量，不受粉丝量影响。"}})],1)],1),i("div",[i("woo-switch",{ref:"checkAlbumRef",attrs:{size:.6875},model:{value:t.checkAlbum,callback:function(e){t.checkAlbum=e},expression:"checkAlbum"}})],1)],1),t.checkAlbum?i("div",[i("div",{class:t.$style.scroll},[t._l(t.albumList,(function(e,a){return i("woo-box",{key:a,class:t.$style.top2,attrs:{align:"center"}},[i("woo-checkbox",{class:t.$style.label2,attrs:{value:"check1",disabled:e.item_count>=500},nativeOn:{click:function(i){e.item_count>=500&&t.albumsMore()}},model:{value:e.checked,callback:function(i){t.$set(e,"checked",i)},expression:"item.checked"}}),i("woo-box-item",[i("div",{staticClass:"wbpro-form"},[i("woo-box",{attrs:{align:"center"}},[i("span",{class:t.$style.albumIcon}),i("woo-box-item",[i("input",{attrs:{type:"text",disabled:""},domProps:{value:e.value+(e.checked?"(更新至"+(e.item_count+1)+"集)":"(共"+e.item_count+"集)")},on:{keypress:function(t){t.stopPropagation()}}})])],1)],1)])],1)})),t.checkAddAlbum?i("woo-box",{class:t.$style.top2,attrs:{align:"center"}},[i("woo-checkbox",{class:t.$style.label2,attrs:{value:"check2",disabled:t.addAlbumObj.disabled},model:{value:t.addAlbumObj.checked,callback:function(e){t.$set(t.addAlbumObj,"checked",e)},expression:"addAlbumObj.checked"}}),i("woo-box-item",[i("div",{staticClass:"wbpro-form focus",class:{error:t.addAlbumObj.error}},[i("woo-box",{attrs:{align:"center"}},[i("woo-fonticon",{class:t.$style.icon1,attrs:{value:"album"}}),i("woo-box-item",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.addAlbumObj.message,expression:"addAlbumObj.message"}],ref:"addAlbumInput",attrs:{type:"text"},domProps:{value:t.addAlbumObj.message},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addAlbumEnter(e)},blur:t.addAlbumEnter,keypress:function(t){t.stopPropagation()},input:function(e){e.target.composing||t.$set(t.addAlbumObj,"message",e.target.value)}}})]),t.addAlbumObj.error?i("div",{staticClass:"num",domProps:{textContent:t._s(t.addAlbumObj.number+"/12")}}):t._e()],1)],1)])],1):t._e()],2),i("div",{class:t.$style.add},[i("woo-fonticon",{class:t.$style.icon,attrs:{value:"add"}}),i("span",{on:{click:function(e){return e.stopPropagation(),t.addAlbum(e)}}},[t._v("新建合集")])],1)]):t._e()],1),i("woo-divider",{class:t.$style.gap1,attrs:{"border-color":"var(--w-card-border)"}}),!t.coCreateConfig.can_publish||this.um_video||t.isRssAll||t.isEdit||t.isAudioEdit?t._e():i("CoCreation",{attrs:{coCreateConfig:t.coCreateConfig,type:1===t.type,visible:t.showCoCreation,timer:t.curTimer,showIcon:t.isAudio||t.isRss},on:{change:t.changeCoCreation}}),t.isAudio?t._e():i("div",{class:[t.$style.tit1,t.$style.gap2]},[t._v(" 设置 ")]),t.isAudio?t._e():i("woo-box",{class:t.$style.gap4,attrs:{items:3,wrap:"wrap"}},[t.material_permission&&"edit"!==t.entry?i("woo-box-item",{class:t.$style.gap5},[i("woo-box",{class:t.$style.switch,attrs:{align:"center"}},[i("woo-box-item",{attrs:{align:"center"}},[i("woo-box",{attrs:{align:"center"}},[i("div",{class:[t.$style.gray1]},[t._v("版权视频")])])],1),i("div",[i("woo-switch",{attrs:{disabled:t.um_video,size:.6875},model:{value:t.copyright_video_switch,callback:function(e){t.copyright_video_switch=e},expression:"copyright_video_switch"}})],1)],1)],1):t._e(),t.material_permission&&"edit"!==t.entry?i("div",{staticStyle:{height:"22px"}},[i("woo-divider",{attrs:{"border-color":"#e3e3e3e3",direction:"y"}})],1):t._e(),t.showAllowDownload?[i("woo-box-item",{class:t.$style.gap5},[i("woo-box",{class:t.$style.switch,attrs:{align:"center"}},[i("woo-box-item",{attrs:{align:"center"}},[i("woo-box",{attrs:{align:"center"}},[i("div",{class:[t.$style.gray1]},[t._v("允许下载")]),i("Action",{attrs:{title:"允许下载",desc:"是否允许他人下载该视频"}})],1)],1),i("div",[i("woo-switch",{attrs:{size:.6875},model:{value:t.checkAllowDownload,callback:function(e){t.checkAllowDownload=e},expression:"checkAllowDownload"}})],1)],1)],1),i("div",{staticStyle:{height:"22px"}},[i("woo-divider",{attrs:{"border-color":"#e3e3e3e3",direction:"y"}})],1)]:t._e(),"edit"!==t.entry&&t.show_approval_reprint?i("woo-box-item",{class:t.$style.gap5},[i("woo-box",{class:[t.$style.switch],attrs:{align:"center"}},[i("woo-box-item",{attrs:{align:"center"}},[i("woo-box",{attrs:{align:"center"}},[i("div",{class:t.$style.gray1},[t._v("允许划重点")]),i("Action",{attrs:{title:"划重点说明",desc:"若您的微博为公开，并设置为允许划重点，其他用户可在您的视频中划出一个精彩的重点时刻并发微博，发布后将注明视频来源于您，同时产生的播放量会计入您的微博下。"}})],1)],1),i("div",[i("woo-switch",{attrs:{size:.6875},model:{value:t.forward_strategy,callback:function(e){t.forward_strategy=e},expression:"forward_strategy"}})],1)],1)],1):t._e(),i("woo-box-item",{class:t.$style.gap5},[t.play_config&&t.play_config.follower_watch_entire&&t.duration>180?i("woo-box",{class:[t.$style.switch],attrs:{align:"center"}},[i("woo-box-item",{attrs:{align:"center"}},[i("woo-box",{attrs:{align:"center"}},[i("div",{class:t.$style.gray1},[t._v(" "+t._s(t.play_config.follower_watch_entire.title)+" ")]),i("Action",{attrs:{title:t.play_config.follower_watch_entire.pop_up_window_title,desc:t.play_config.follower_watch_entire.pop_up_window_desc}})],1)],1),i("div",[i("woo-switch",{attrs:{size:.6875},model:{value:t.follower_watch_entire,callback:function(e){t.follower_watch_entire=e},expression:"follower_watch_entire"}})],1)],1):t._e()],1),i("woo-box-item")],2)],1)],1)],1)]):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showMoreDetail&&!t.isEdit&&!t.isAudioEdit,expression:"showMoreDetail && !isEdit && !isAudioEdit"}],class:t.$style.box1},[i("div",{class:[t.$style.gray1,t.$style.tit1,t.formDisabled&&t.$style.tit2]},[t._v(" 设置微博内容 ")]),t.showToast?t._e():i("Publisher",{attrs:{doneDisabled:t.channelDisabled,channelData:t.successData,toolsfliter:["emoticon","hash","at","place","timer"],"visible-only":t.isRssAll?{visible:0,text:"公开",disabled:t.isAudio}:null,set:{content:t.publisherContent,action:"channel",publish:t.isDone,publishCallback:t.done,autoPublish:t.autoPublish&&"edit"!==this.entry&&!0!==this.replace,getSuccessData:t.getSuccessData,formDisabled:t.formDisabled},sendDesc:t.sendDesc,coCreation:t.coCreationState},on:{change:t.change,disabledCheck:t.disabledCheck}})],1),t.showMoreDetail&&t.isAudio?i("div",{class:t.$style.top40},[i("woo-checkbox",{class:t.$style.checkbox,model:{value:t.checkAudio,callback:function(e){t.checkAudio=e},expression:"checkAudio"}},[i("span",{class:t.$style.f12},[t._v(" 确认并保证，上传/同步/链接作品的行为不侵犯第三方的合法权益，亦不违反与第三方所签订的对用户有约束力的法律文件的规定 ")])])],1):t._e(),(t.isEdit||t.isAudioEdit)&&t.showMoreDetail?i("woo-box",{staticStyle:{"margin-top":"30px",position:"relative"},attrs:{justify:"center"}},[i("div",{staticStyle:{position:"relative"}},[i("woo-button",{attrs:{disabled:t.channelDisabled,sort:"flat",kind:"primary"},on:{click:t.submitEditInfo}},[t._v(t._s(t.sendDesc))]),t.channelDisabled?i("div",{class:t.$style.btn1,on:{click:t.disabledCheck}}):t._e()],1)]):t._e()],1),i("VideoEdit",{ref:"videoEdit",attrs:{edit:t.videoEdit,screenArray:t.screenArray,screenshot:t.screenshot.url,horizontal:t.horizontal,channel:!0},on:{change:function(e){return t.changeVideoEdit(arguments)}}}),t.showMoreDetail?t._e():i("AudioAction")],1)}),Zi=[],ta=i("8e18"),ea={metaInfo:function(){return{title:"".concat(this.isAudio?"音频":"视频","发布")}},components:{VideoUpload:function(){return i.e("chunk-27ad31c8").then(i.bind(null,"dd52"))},VideoSort:function(){return i.e("chunk-04dd4069").then(i.bind(null,"f4d2"))},VideoEdit:function(){return i.e("chunk-5f89d2e3").then(i.bind(null,"434c"))},Publisher:function(){return Promise.resolve().then(i.bind(null,"fc5f"))},CoCreation:function(){return i.e("chunk-40dab75a").then(i.bind(null,"9cf6"))},VideoScreenshot:qi["a"],HeaderComment:function(){return i.e("chunk-00e28620").then(i.bind(null,"cac3"))},Success:function(){return i.e("chunk-270c563c").then(i.bind(null,"f2e89"))},AutoState:function(){return i.e("chunk-7dc314a2").then(i.bind(null,"f761"))},Type:function(){return i.e("chunk-28e56bd2").then(i.bind(null,"3646"))},Title:function(){return i.e("chunk-57afd2f5").then(i.bind(null,"cc54"))},AudioAlbum:function(){return i.e("chunk-7b4a4194").then(i.bind(null,"f1b6"))},AudioCover:function(){return i.e("chunk-a2d6ac3c").then(i.bind(null,"c98a"))},AddRss:function(){return i.e("chunk-eea9667e").then(i.bind(null,"7cec"))},CheckAudioAuth:function(){return i.e("chunk-d6b0e3c6").then(i.bind(null,"c7de"))},AudioDetail:function(){return i.e("chunk-6dbb9528").then(i.bind(null,"d1e77"))},AudioAlbumHeader:function(){return i.e("chunk-0da4d737").then(i.bind(null,"5332"))},Action:function(){return i.e("chunk-64530502").then(i.bind(null,"489c"))},AudioAction:function(){return i.e("chunk-7c3f520c").then(i.bind(null,"be14"))}},props:{lockScreen:{type:Boolean,default:!0},iptType:{type:String,default:"",required:!1},editData:{type:String}},setup:function(t,e){var i=e.root,o=e.refs,n=Object(ta["a"])(),s=n.isVideo,r=n.isAudio,l=n.isAudioEdit,c=n.isEdit,u=n.entry,d=n.isRss,h=n.isRssAll,p=n.rss_url,f=n.guid,m=n.cluster_id,v=Object(x["d"])().proxy,_=v.$route.query.oid,g=Object(x["n"])(["0","1","2","3"]),b=Object(zi["a"])(i,o),y=Object(Ui["a"])(o),w=Object(Gi["a"])(o,i,g,_),k=Object(x["n"])(!0),$=Object(x["n"])(!1),C=Object(x["n"])(!0),O=Object(x["n"])(""),j=Object(x["n"])(!1),T=Object(x["n"])({src:""}),D=Object(x["n"])(!0),S=Object(x["n"])(""),I=Object(x["n"])(""),L=function(t){S.value=t},B=function(t){var e=t.src,i=t.pid;T.value.src=e,T.value.pid=i},P=function(t){$.value=t,t&&(k.value=!0)},A=Object(x["n"])(""),E=Object(x["n"])(),M=Object(x["n"])(!0),F=function(t){E.value=t},R=function(){d.value?i.$http.get("/ajax/multimedia/rss_publisher_config",{params:{rss_url:p.value,guid:f.value}}).then((function(t){var e,i,a=t.data,o=a.data.result;f.value&&o.title?(m.value=o.cluster_idStr,A.value=o.is_new_cluster,y.title.value=o.title,O.value=o.desc,T.value.src=null===(e=o.cover)||void 0===e?void 0:e.bmiddle_pic,T.value.pid=null===(i=o.cover)||void 0===i?void 0:i.pic_id,I.value=o.content?o.content:w.defaultStatus.value):o.cluster_idStr&&(m.value=o.cluster_idStr,A.value=o.is_new_cluster,I.value=o.content?o.content:w.defaultStatus.value)})):r.value&&(I.value=w.defaultStatus.value)};return Object(x["k"])((function(){})),Object(a["a"])(Object(a["a"])(Object(a["a"])({publisherContent:I,is_new_cluster:A,cluster_id:m,isRss:d,isRssAll:h,isVideo:s,isAudio:r,isAudioEdit:l,isEdit:c,entry:u,checkAudio:C,umVideoChange:P,changeCoCreation:F,showCoCreation:M,coCreationState:E,copyright_video_switch:k,um_video:$,supported_video_type:g,AudioDetailContent:O,AudioDetailContentState:j,AudioCoverSrc:T,AudioAuth:D,AudioAlbum:S,rss_url:p,guid:f,handleRssInit:R,changeAudioAlbum:L,changeAudioCoverSrc:B},b),y),w)},data:function(){return{showToast:!1,toastType:1,autoPublish:!1,time:"",successData:void 0,content:"",show_approval_reprint:!1,visable:!1,videoEdit:!1,checkExposure:!1,showWeiboAlubum:!1,showVideoTagDetail:!1,screenshot:{url:"",pid:""},screenArray:[],type:void 0,uploadSuccess:void 0,videoDetails:{},videoManMake:{0:{name:"原创",show:!0,desc:"独立拍摄，制作完成的内容"},2:{name:"二次创作",show:!0,desc:"译制、解说、混剪等对原有视频进行再创作"},3:{name:"版权",show:!0,desc:"综艺、电视剧、电影、赛事等版权方的视频"}},social_video_watermark:!0,showWaterMarkPop:!1,showVplusPop:!1,manMakeSelect:void 0,showManMake:!1,video_source:"",video_source_error:!1,resetData:{},forward_strategy:!0,approval_reprint:!1,follower_watch_entire:!1,duration:void 0,horizontal:void 0,horizontalCover:void 0,watermarkPop:!1,formDisabled:!1,videoInfo:{},replace:!1,curTimer:!1}},computed:Object(a["a"])(Object(a["a"])({},Object(r["c"])(["config"])),{},{hasnav:function(){return"0"!==this.$route.query.hasnav},showMoreDetail:function(){return!this.autoPublish&&void 0!==this.uploadSuccess||this.isRss},sendDesc:function(){return!0===this.uploadSuccess||this.isRss?this.isEdit||this.isAudioEdit?"确认更改":"发布":"自动发布"},durationDesc:function(){return void 0===this.uploadSuccess?"投稿视频需大于1分钟":this.duration&&this.uploadSuccess||this.duration&&!this.uploadSuccess?this.duration>60?"":"投稿视频需大于1分钟":!this.duration&&this.uploadSuccess?"视频信息处理中":"视频上传中"},channelDisabled:function(){if(this.isAudio){if(this.isRssAll){if(!this.checkAudio)return!0}else if(!this.title.trim()||!this.checkAudio||!this.AudioCoverSrc.src)return!0;if(this.AudioDetailContentState)return!0}return!!(void 0===this.type&&!this.isAudio||this.doneDisabled||this.$refs.video_upload&&"upload"===this.$refs.video_upload.status)||!(!this.checkExposure||this.channel_ids)},isDone:function(){return this.showMoreDetail,!(this.checkExposure&&!this.channel_ids)&&!(!this.uploadSuccess&&!this.isRss)}}),watch:{isRss:function(t){t&&this.handleRssInit()},showManMake:function(t){var e=this;t&&this.$nextTick((function(){var t=e.$refs.videoScroll.scrollTop,i=e.$refs.videoScroll.getBoundingClientRect(),a=e.$refs.manMakeRef.$el.getBoundingClientRect();e.$refs.videoScroll.scrollTop=t+(a.top-i.top-52)}))},checkExposure:function(t){!1===t?(this.channelText="选择视频分类",this.tagInput="",this.tagList=[],this.recommendTagList=[],this.channelIndex=0,this.channel_ids="",this.subChannelIndex=0,this.type=void 0,this.supported_video_type=["0","1","2","3"],this.manMakeSelect=void 0):this.scrollToBottom()},uploadSuccess:function(t){"edit"===this.entry&&t&&this.autoPublish&&this.submitEditInfo()}},methods:{albumsMore:function(){this.$_wooBus.$_w_toast({type:"warn",message:"此合集内视频数量已达上限，请新建合集再添加视频"})},disabledCheck:function(){this.isAudio&&(this.isRssAll?this.checkAudio||this.$_wooBus.$_w_toast({type:"warn",message:"请确认底部协议"}):this.title.trim()?this.AudioCoverSrc.src?this.checkAudio||this.$_wooBus.$_w_toast({type:"warn",message:"请确认底部协议"}):this.$_wooBus.$_w_toast({type:"warn",message:"请上传封面再发布"}):this.$_wooBus.$_w_toast({type:"warn",message:"请填写标题再发布"})),void 0!==this.type||this.isAudio||(window.scroll(0,0),this.$_wooBus.$_w_toast({type:"warn",message:"请选择类型后再发布"}))},changeEdit:function(t){var e=this;this.videoEdit=!0,"upload"===t&&this.$nextTick((function(){e.$refs.videoEdit.$refs.file.click()}))},change:function(t,e){var i,a;if("close"==t)null===(i=this.$refs)||void 0===i||null===(a=i.video_upload)||void 0===a||a.cancelMethods(),this.title="",this.handleReset(!0);else if("auto"===t)this.autoPublish=!0;else if("closeShow"===t){var o,n;null===(o=this.$refs)||void 0===o||null===(n=o.video_upload)||void 0===n||n.cancelMethods(),this.title="",this.handleReset(!0),this.showToast=!0,this.toastType=e}else"visible"===t?this.showCoCreation=0===e:"schedule_timestamp"===t&&(this.curTimer=e)},handleReset:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.show_approval_reprint;t&&(this.time=Date.now()),Object.assign(this.$data,this.$options.data()),this.show_approval_reprint=e},updateMd5:function(t){this.$refs.video_upload.updateMd5(t),!this.isRss&&this.$refs.video_upload.logUpload()},changeManMake:function(t){this.showManMake=!1,this.manMakeSelect=t},clickModal:function(){this.closeChannel(),this.showManMake=!1},scrollToBottom:function(){var t=this;this.$nextTick((function(){t.$refs.videoScroll.scrollTop=t.$refs.videoScroll.scrollHeight}))},uploadChange:function(t){switch(t[0]){case"show":this.show();break;case"screenshot":var e,i;if(this.screenshot&&this.screenshot.url)this.screenArray.splice(0),(e=this.screenArray).push.apply(e,Object(V["a"])(t[1]));else(!this.screenshot||!this.screenshot.url)&&(this.screenshot=t[1][0]?t[1][0]:{url:"",pid:""}),this.screenArray.splice(0),(i=this.screenArray).push.apply(i,Object(V["a"])(t[1]));break;case"success":this.uploadSuccess=!0,this.videoDetails=t[1];break;case"start":this.autoPublish=!1,this.uploadSuccess=!1;break;case"init":this.autoPublish=!1,this.uploadSuccess=!1,this.screenshot={url:"",pid:""},this.screenArray=[],this.duration=void 0,this.horizontal=void 0,this.checkExposure=!1,this.checkAlbum=!1,this.forward_strategy=!0;break;case"cancel":this.uploadSuccess=void 0;break;case"replace":this.replace=!0;break;case"detail":t[1]&&t[1].width<t[1].height&&(this.horizontal=!0),t[1]&&t[1].duration&&(this.duration=t[1].duration);break}},changeVideoEdit:function(t){this.videoEdit=!1,0===t[0]?this.hide():"select"===t[0]?this.screenshot=this.screenArray[t[1]-1]:"change"===t[0]&&(this.screenshot=t[1].url,t[1].cover&&(this.horizontalCover=t[1].cover))},show:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.visable=!0,t&&this.dataInit(),!t&&(this.resetData=JSON.parse(JSON.stringify(this.$data)))},hide:function(){this.visable=!1},done:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.isAudio&&this.actionLog({uicode:"30000840",actType:"7639"}),this.checkExposure,!this.uploadSuccess||!t||(this.successData=this.getSuccessData(),!0)},getSuccessData:function(){var t,e,i,o=[];this.albumList.forEach((function(t){t.checked&&o.push(t.id)}));var n,s,r=function(t){return t.split("/").slice(-1)[0].split(".")[0]},l={titles:[{title:this.title,default:"true"}],covers:[Object(a["a"])({url:this.screenshot.url,pid:this.screenshot.pid||this.screenshot.file_id},Object(Hi["c"])((null===this||void 0===this||null===(t=this.screenshot)||void 0===t?void 0:t.pid)?this.screenshot.pid:r(null===(e=this.screenshot)||void 0===e?void 0:e.url)))],free_duration:{start:0,end:30}};(null===(i=this.coCreationState)||void 0===i?void 0:i.coCreation)&&(l.cooperate_video=this.coCreationState.selectArr.map((function(t){return{uid:t.id,role:t.role}})),(null===(n=this.coCreateConfig)||void 0===n||null===(s=n.permanent_host)||void 0===s?void 0:s.length)?l.permanent_host=this.coCreateConfig.permanent_host.map((function(t){return t.uid})):l.permanent_host=[]);this.um_video&&(l.um_video_switch="um_video"===this.um_video,l.is_vip_paid="vplus_video"===this.um_video),this.material_permission&&"edit"!==this.entry&&(l.copyright_video_switch=this.copyright_video_switch),"edit"!==this.entry&&!this.isAudioEdit||!0!==this.replace||(l.edit_object_id=this.videoDetails.media_id);var c=this.category?"homemade":"contribution";if(this.isAudio){if(this.AudioCoverSrc.src&&(l.covers=[Object(a["a"])({url:this.AudioCoverSrc.src,pid:this.AudioCoverSrc.pid},Object(Hi["c"])(this.AudioCoverSrc.pid))]),this.isRssAll)l.rss={rss_url:this.rss_url,cluster_id:this.cluster_id};else if(this.isRss)l.rss={rss_url:this.rss_url,guid:this.guid};else{var u=this.videoDetails.media_id?this.videoDetails.media_id:this.oid.split(":")[1];l.media_id=u,l.fid="2373717:".concat(u)}l.type="audio",this.AudioAlbum&&(l.playlist={playlist_audio:!0,album_ids:this.AudioAlbum.toString()}),this.AudioDetailContent&&(l.desc=this.AudioDetailContent)}else this.isVideo?(l.type="video",l.media_id=this.videoDetails.media_id):"homemade"===c&&(l.homemade_changed=1);return this.horizontalCover&&l.covers.push({type:1,pid:this.horizontalCover.pid,source:1}),l.resource={video_down:this.checkAllowDownload?1:0},l[c]={channel_ids:[this.channel_ids],type:this.type},this.show_approval_reprint&&(l.approval_reprint=this.forward_strategy?"1":"0"),this.follower_watch_entire&&(l.follower_watch_entire={enable:0}),this.checkAlbum&&"audio"!==l.type&&(l.playlist={playlist_video:!0,album_ids:o.toString()}),l},submitEditInfo:function(){var t=this;if(this.isDone){var e=this.getSuccessData();this.isAudioEdit&&(e.media_id=this.oid.split(":")[1]);var i={oid:this.oid,mid:this.videoInfo.mid,media:JSON.stringify(e)};this.isAudioEdit&&(i.desc=this.AudioDetailContent),this.$http.post("/ajax/multimedia/submitVideoEditInfo",i).then((function(e){e.data.ok>0&&e.data.data&&e.data.data.result&&(t.showToast=!0)})).catch((function(t){}))}else if(this.done(!1)&&this.$_w_dialog({btnConfirm:"我知道了",message:"设置自动发布成功！ 微博将于".concat(this.isAudio?"音频":"视频","文件上传并转码完成后自动发出。在文件上传完毕前请勿关闭浏览器窗口"),action:function(){t.change("auto")}}),this.done)return},showFiles:function(){this.handleReset(),this.$refs.video_upload.showFiles()},uploadscreenshot:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.screenshot.url=URL.createObjectURL(t.target.files[0]),i.next=3,Object(Ni["a"])(t.target.files[0]);case 3:a=i.sent,e.screenshot={url:Object(Hi["d"])(a),pid:a};case 5:case"end":return i.stop()}}),i)})))()},dataInit:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.channelListInit();case 1:case"end":return e.stop()}}),e)})))()},getVideoEditInfo:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$http.get("/ajax/multimedia/get".concat(i?"Audio":"Video","EditInfo"),{params:{media_id:t}}).then((function(t){if(t.data&&t.data.ok>0){var a=t.data.data,o=a&&a[i?"audio_info":"video_info"];if(o.editable)e.videoInfo=o,e.videoInfo.height>e.videoInfo.width&&(e.horizontal=!0),e.videoInfo&&e.initEditVideoInfo(e.videoInfo);else{var n=o.reject_edit_reason||"抱歉，当前".concat(e.isAudio?"音频":"视频","无法编辑");e.hasnav?e.$_wooBus.$_w_toast({type:"warn",message:n,action:function(){e.$router.push({name:"videoManage"})}}):e.$_wooBus.$_w_toast({type:"warn",message:n,autohide:!1,mask:!0})}}}),(function(t){e.$_wooBus.$_w_toast({type:"warn",message:"抱歉，当前".concat(e.isAudio?"音频":"视频","无法编辑"),action:function(){e.hasnav}})}))},initEditVideoInfo:function(t){var e,i=this;this.title=t.titles[0]&&t.titles[0].title,this.screenshot={url:t.covers[0].url},this.isAudio&&(this.AudioCoverSrc.src=t.covers[0].url,this.AudioCoverSrc.pid=t.covers[0].url.match(/\/\/.*\/.*\/(.*)\..*/)[1],this.AudioDetailContent=t.audio_desc,t.current_playlists&&t.current_playlists.length>0&&(this.cluster_id=t.current_playlists.map((function(t){return t.id})).join(","))),t.current_playlists&&t.current_playlists.length>0&&(this.albumIds=t.current_playlists.map((function(t){return t.id})),this.checkAlbum=!0);var a=(null===t||void 0===t?void 0:t.homemade_info)&&(null===(e=Object.keys(null===t||void 0===t?void 0:t.homemade_info))||void 0===e?void 0:e.length)?t.homemade_info:null===t||void 0===t?void 0:t.contribution_info,o=null===a||void 0===a?void 0:a.first_level_channels,n=null===a||void 0===a?void 0:a.second_level_channels,s=0,r=0;if(o&&o[0]){this.checkExposure=!0;var l=this.category?this.category:this.channelList;l.forEach((function(t,e){t.channel_id===o[0].id&&(s=e,t.sub_channels&&t.sub_channels.length>0&&n&&n[0]&&t.sub_channels.forEach((function(t,e){t.sub_channel_id===n[0].id&&(r=e,i.modifyChannel(["main",s]),i.modifyChannel(["sub",r]))})))}))}this.type=null===a||void 0===a?void 0:a.type},refresh:function(){location.reload()},goList:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?window.open("https://me.weibo.com/content/video","_blank"):window.open("https://me.weibo.com/content/video")},closeChannel:function(){this.showChannel=!1},showToastType:function(){this.$_w_toast({type:"warn",message:"共创".concat(this.isAudio?"音":"视","频不可转载")})}},created:function(){this.isEdit&&(this.oid=this.$route.query.oid,this.entry=this.$route.query.entry,this.uploadSuccess=!0),this.isAudioEdit&&(this.oid=this.$route.query.oid,this.entry=this.$route.query.entry,this.uploadSuccess=!0),window.addEventListener("click",this.closeChannel)},beforeDestroy:function(){window.removeEventListener("click",this.closeChannel)},mounted:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$http.get("/ajax/multimedia/getapproval").then((function(e){var i=e.data;i.ok&&(t.show_approval_reprint=i.showApprovalRepeat)})),e.next=3,t.channelListInit();case 3:t.handleRssInit(),o=t.$route.query.oid,t.isEdit&&o&&t.getVideoEditInfo(o),t.isAudioEdit&&o&&t.getVideoEditInfo(o,!0),t.AudioAuth=null===(i=t.config.flags)||void 0===i?void 0:i.audio_auth,t.actionLog({uicode:"30000840",actType:"7635",ext:"is_authorized:".concat(null===(a=t.config.flags)||void 0===a?void 0:a.audio_auth)});case 9:case"end":return e.stop()}}),e)})))()}},ia=ea,aa=i("4d5c");function oa(t){this["$style"]=aa["default"].locals||aa["default"]}var na=Object(P["a"])(ia,Xi,Zi,!1,oa,null,null),sa=na.exports,ra=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"video",staticClass:"wbpro-layer",class:[t.$style.layer]},[i("div",{class:t.$style.layerin},[t.canPublishAll?i("woo-box",{class:t.$style.header,attrs:{align:"center"}},[i("div",{class:[t.$style.gray1,t.$style.tit1]},[t._v("选择音频")]),i("div",{class:[t.$style.gray2,t.$style.left6]},[t._v(" 以下为您在其他平台的节目信息，您可以选择单条发布微博，或者一键导入全部。 ")])]):t._e(),i("audioCard",{class:t.$style.gap1,attrs:{cover:t.rssInfo.image_url,textA:t.rssInfo.title,textB:t.rssInfo.desc}}),i("div",{class:t.$style.gap1},[i("woo-box",{class:t.$style.ltit,attrs:{align:"center"}},[i("woo-box-item",{class:t.$style.lcut,attrs:{align:"center"}},[i("div",{class:t.$style.ld1},[t._v("音频信息")])]),i("div",{class:t.$style.ld2},[t._v("上传时间")]),i("div",{class:t.$style.ld3},[t._v("音频时长")]),i("div",{class:t.$style.ld3},[t._v("发布状态")]),i("div",{class:t.$style.ld4},[t._v("操作")])],1),i("div",t._l(t.rssInfo.episodes,(function(e,a){return i("woo-box",{key:a,class:t.$style.litem,attrs:{align:"center"}},[i("woo-box-item",{class:t.$style.lcut,attrs:{align:"center"}},[i("div",{class:t.$style.ld1},[i("div",{class:t.$style.lt1},[t._v(" "+t._s(e.title)+" ")]),i("div",{class:t.$style.lt2},[t._v(" "+t._s(e.desc)+" ")])])]),i("div",{class:t.$style.ld2},[t._v(" "+t._s(t.formatDate(e.pub_date))+" ")]),i("div",{class:t.$style.ld3},[t._v(t._s(e.duration))]),i("div",{class:t.$style.ld3},[t._v(t._s(t.getState(e)))]),i("div",{class:t.$style.ld4},[e.is_published?[i("woo-button",{attrs:{sort:"simple",kind:"default",disabled:""}},[t._v("去发布")])]:[i("woo-button",{attrs:{sort:"simple",kind:"primary"},on:{click:function(i){return t.onPublish(e)}}},[t._v("去发布")])]],2)],1)})),1)],1),i("div",{class:t.$style.noContentText},[t._v("没有更多内容了")]),t.rssInfo.quick_publish&&t.rssInfo.quick_publish.enable&&t.canPublishAll?i("audioBottomBar",{attrs:{total:t.rssInfo.quick_publish&&t.rssInfo.quick_publish.total,unreleased:t.rssInfo.quick_publish&&t.rssInfo.quick_publish.unreleased},on:{"publish-all":t.onPublishAll}}):t._e()],1)])},la=[],ca=i("0d7d"),ua=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{class:t.$style.fixed},[i("woo-box",{class:t.$style.wrap,attrs:{align:"center",justify:"end"}},[i("div",{class:t.$style.text},[t._v(" 共"+t._s(t.total)+"集 未发布"),i("span",[t._v(t._s(t.unreleased)+"集")])]),i("woo-pop",{attrs:{show:t.show,direction:"up",align:"center",gap:"10"},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-button",{attrs:{disabled:!Boolean(t.unreleased),sort:"flat",kind:"primary"},nativeOn:{click:function(e){t.unreleased&&t.$emit("publish-all")}}},[t._v("一键发布全部")])]},proxy:!0}])},[i("audioPopText",{class:t.$style.pop},[t._v(" 可以一键导入该节目下未发布的所有音频，并发一条入驻微博告知粉丝 ")])],1)],1)],1),i("div",{class:t.$style.holder})])},da=[],ha=(i("a9e3"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.pop},[t._t("default")],2)}),pa=[],fa=i("4e90"),ma={};function va(t){this["$style"]=fa["default"].locals||fa["default"]}var _a=Object(P["a"])(ma,ha,pa,!1,va,null,null),ga=_a.exports,ba={components:{audioPopText:ga},props:{total:{type:Number,default:0},unreleased:{type:Number,default:0}},setup:function(){var t=Object(x["n"])(!1);return Object(x["k"])((function(){try{var e,i=localStorage.getItem("rss_publish_all_bubbles")||"";i=i.split(",").filter((function(t){return t}));var a=(null===(e=window.$CONFIG)||void 0===e?void 0:e.uid)+"";a&&!i.includes(a)&&(t.value=!0,setTimeout((function(){t.value=!1}),1e4),i.push(a),localStorage.setItem("rss_publish_all_bubbles",i.join(",")))}catch(o){}})),{show:t}}},ya=ba,wa=i("7bca");function xa(t){this["$style"]=wa["default"].locals||wa["default"]}var ka=Object(P["a"])(ya,ua,da,!1,xa,null,null),$a=ka.exports,Ca={setup:function(){var t=Object(x["d"])(),e=t.proxy,i=Object(x["n"])({}),a=function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(i){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/ajax/multimedia/getRssInfo",{params:{rssUrl:i}});case 2:if(a=t.sent,!(a.data.ok>0)){t.next=5;break}return t.abrupt("return",a.data.data.result);case 5:return t.abrupt("return",{});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(t){window.open("/upload/audio?rss_url=".concat(encodeURIComponent(i.value.rss_url),"&guid=").concat(encodeURIComponent(t.guid)))},n=function(){window.open("/upload/audio?rss_url=".concat(encodeURIComponent(i.value.rss_url)))},s=function(t){t=new Date(t);var e=new Date,i=(e-t)/1e3;if(i<86400)return"今天";if(i<864e3){var a=Math.floor(i/86400);return"".concat(a,"天前")}return t.getFullYear()===e.getFullYear()?"".concat(t.getMonth()+1<10?"0".concat(t.getMonth()+1):t.getMonth()+1,"-").concat(t.getDate()<10?"0".concat(t.getDate()):t.getDate()):"".concat(t.getFullYear(),"-").concat(t.getMonth()+1<10?"0".concat(t.getMonth()+1):t.getMonth()+1,"-").concat(t.getDate()<10?"0".concat(t.getDate()):t.getDate())},r=function(t){return t.is_published?"DONE"===t.episode_state?"已发布":t.episode_state?"发布中":void 0:"未发布"};Object(x["k"])(Object(u["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=e.$route.query.rss_url,t.next=3,a(o);case 3:i.value=t.sent;case 4:case"end":return t.stop()}}),t)}))));var l=Object(x["a"])((function(){return!e.$route.query.hide}));return{rssInfo:i,onPublish:o,onPublishAll:n,formatDate:s,getState:r,canPublishAll:l}},components:{AudioCard:ca["default"],AudioBottomBar:$a}},Oa=Ca,ja=i("07ed");function Ta(t){this["$style"]=ja["default"].locals||ja["default"]}var Da=Object(P["a"])(Oa,ra,la,!1,Ta,null,null),Sa=Da.exports,Ia=function(){return i.e("chunk-b345e28c").then(i.bind(null,"272f"))},La=function(){return i.e("chunk-4993102d").then(i.bind(null,"6c94"))},Ba=function(){return i.e("chunk-52a1040e").then(i.bind(null,"c978"))},Pa=function(){return i.e("chunk-71694339").then(i.bind(null,"9627"))},Aa=function(){return i.e("chunk-18d8b2bc").then(i.bind(null,"54af"))},Ea=function(){return i.e("chunk-77f0cd56").then(i.bind(null,"94b7"))},Ma=function(){return i.e("chunk-019705cd").then(i.bind(null,"8472"))},Fa=function(){return i.e("chunk-66e50bef").then(i.bind(null,"5ef4"))},Ra=function(){return i.e("chunk-912eab54").then(i.bind(null,"713a"))},Va=function(){return i.e("chunk-1cdfc59c").then(i.bind(null,"9270"))},Na=function(){return i.e("chunk-15f5a2fa").then(i.bind(null,"8a4d"))},Ha=function(){return i.e("chunk-997e78d4").then(i.bind(null,"02c9"))},za=function(){return i.e("chunk-8549274a").then(i.bind(null,"851e"))},Ua=function(){return i.e("chunk-074455b5").then(i.bind(null,"2950"))};o["default"].use(Vt["a"]),o["default"].use(Nt["a"]);var Ga=[],qa=Vt["a"].prototype.push;Vt["a"].prototype.push=function(t){return qa.call(this,t).catch((function(t){return t}))};var Wa=i("7191"),Qa=function(t){return t.keys().map(t)},Ja=[];function Ka(t,e,i){return t.hash?{selector:t.hash}:t.params.savePosition?{}:i||{x:0,y:0}}Qa(Wa).forEach((function(t){Ja.push.apply(Ja,Object(V["a"])(t.default))}));var Ya=[{path:"/manage",name:"manage",component:La,redirect:{name:"dataservice"},children:[{path:"/manage/frame",name:"frame",components:{side:Ba,main:Pa}},{path:"/manage/frameonly",name:"frameonly",components:{main:Pa}},{path:"dataservice",name:"dataservice",components:{side:Ba,main:Va}},{path:"dataservice/query",name:"querydata",components:{side:Ba,main:Aa}},{path:"schedule",name:"MngSchedule",components:{side:Ba,main:Ea}},{path:"evaluation",name:"MngEvaluation",components:{side:Ba,main:Ma},children:[{path:"choose",name:"ChooseUser",meta:{keepAlive:!0}},{path:"winner",name:"Winner",meta:{keepAlive:!0}}]},{path:"approval",name:"MngApproval",components:{side:Ba,main:Fa}},{path:"/manage/approval/cmt",name:"MngCmt",components:{side:Ba,main:Ra}},{path:"movie/datacenter",name:"mvData",components:{side:Ba,main:Na}},{path:"movie/marketing",name:"marketing",components:{side:Ba,main:Ha}},{path:"movie/mvInfoMng",name:"mvInfoMng",components:{side:Ba,main:za}},{path:"videoManage",name:"videoManage",components:{side:Ba,main:Ua}}]},{path:"/upload",name:"upload",component:Ia,props:function(t){return{desc:"channel"===t.name?"视频发布":"Audio"===t.name?"音频发布":""}},children:[{path:"channel",name:"channel",desc:"视频发布",components:{main:sa}},{path:"audio",name:"Audio",desc:"音频发布",meta:{uicode:Ht.uicode.audio},components:{main:sa}},{path:"rss",name:"RssDetail",desc:"选择音频",components:{main:Sa}}]},{path:"/",component:ti,children:[{path:"detail/:id",name:"detail",components:{main:Mi,side:ei["a"]}},{path:"/:uid(\\d+)/:id([0-9a-zA-Z]+)",name:"bidDetail",components:{main:Mi,side:ei["a"]},meta:{keepAlive:!0,uicode:Ht.uicode.detail}},{path:"chat",name:"chat"},{path:"setup",name:"setup"}].concat(Ga,Ja,[{path:":custom",name:"customProfile",components:{main:Fi["a"],side:ei["a"]},meta:{keepAlive:!0,title:"个人主页",channel:"profile"},alias:["p/:custom","p/:custom/*",":custom/:page"]}]),alias:"/u/:uid/home"}],Xa=new Vt["a"]({mode:"history",scrollBehavior:Ka,routes:Ya}),Za=function(t,e){return Object.keys(t).filter((function(t){return e.includes(t)})).reduce((function(e,i){return Object(a["a"])(Object(a["a"])({},e),{},Object(Rt["a"])({},i,t[i]))}),{})},to=["name","path","query","meta","params"],eo=[];window.performance&&1==performance.navigation.type&&(eo=JSON.parse(sessionStorage.getItem("history"))?JSON.parse(sessionStorage.getItem("history")):[]),Xa.beforeEach((function(t,e,i){"/search/weibo"===t.path&&i({path:"/search?containerid=".concat(encodeURIComponent("231522type=1&q=".concat(t.query.q,"&t=3")))}),eo.push(Za(t,to)),sessionStorage.setItem("history",JSON.stringify(eo)),zt["a"].commit("updateHistory",eo),i()}));var io=[],ao=function t(e,i){return e.map((function(e){var a="";i&&(a=i),e.children?(a+=e.path,t(e.children,a)):"/"===i?io.push(i+e.path.split("/:")[0]):io.push(i+"/"+e.path.split("/:")[0])})),io},oo=ao(Ya),no=Xa,so=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{class:t.$style.wrap},[t._t("back"),i("woo-box-item",{attrs:{grow:1}},[t._t("main")],2),t.hasContent?i("woo-box-item",{class:t.$style.right},[t._t("right")],2):t._e()],2)},ro=[],lo={props:{hasContent:Boolean}},co=lo,uo=i("4f3d");function ho(t){this["$style"]=uo["default"].locals||uo["default"]}var po=Object(P["a"])(co,so,ro,!1,ho,null,null),fo=po.exports,mo=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{class:t.$style.container,attrs:{direction:"y"},nativeOn:{mouseenter:function(e){return t.onMouseEnter(e)},mouseleave:function(e){return t.onMouseLeave(e)}}},["video"===t.type?i("div",{staticClass:"viewerVideoContainer",class:t.isMixVideo&&!t.needPlayer&&t.$style.mixVideoContainer,on:{click:function(t){t.stopPropagation()}}}):t._e(),"image"===t.type?i("div",{ref:"imgView",class:[t.$style.content,t.imgLoaded?"":t.$style.loading],attrs:{align:"center"}},[t.showTool?i("woo-box",{class:t.$style.toolbar,attrs:{align:"center"}},[t.showRotate?[i("woo-fonticon",{class:[t.$style.icon,t.$style.iconInLeftEdge,t.$style.cursor],attrs:{title:"旋转图片",value:"imgRotate"},nativeOn:{click:function(e){return t.handleRotateRight(e)}}}),i("woo-divider",{class:[t.$style.divider],attrs:{direction:"y"}})]:t._e(),i("woo-fonticon",{class:[t.$style.icon,t.$style.cursor],attrs:{title:"缩小图片",value:"imgZoomOut"},nativeOn:{click:function(e){return t.onZoomOut()}}}),i("span",{class:[t.$style.icon,t.$style.percent]},[t._v(t._s(t.imgScalePercent))]),i("woo-fonticon",{class:[t.$style.icon,t.$style.cursor],attrs:{title:"放大图片",value:"imgZoomIn"},nativeOn:{click:function(e){return t.onZoomIn()}}}),i("woo-divider",{class:[t.$style.divider],attrs:{direction:"y"}}),t.notInitStatus?i("woo-fonticon",{class:[t.$style.icon,t.$style.cursor],attrs:{title:"合适尺寸",value:"imgSizeS"},nativeOn:{click:function(e){return t.onAdaptive(e)}}}):i("woo-fonticon",{class:[t.$style.icon,t.$style.cursor],attrs:{title:"充满屏幕",value:"imgSizeB"},nativeOn:{click:function(e){return t.onExpand(e)}}}),i("woo-divider",{class:[t.$style.divider],attrs:{direction:"y"}}),i("span",{class:[t.$style.icon,t.$style.cursor,t.$style.textIcon],attrs:{title:"查看原始图片",value:"imgSizeO"},on:{click:t.goOrigin}},[t._v("原图")]),i("woo-fonticon",{class:[t.$style.icon,t.iconInRightEdge,t.$style.cursor],attrs:{title:"下载保存",value:"imgSave"},nativeOn:{click:function(e){return t.download(e)}}})],2):t._e(),!t.imgLoaded&&t.currSrc?i("circle-progress",{class:t.$style.cp,attrs:{visible:!t.imgLoaded}}):t._e(),i("div",{staticStyle:{width:"100%",height:"100%",position:"relative",overflow:"auto"}},[i("transition",{attrs:{name:"fade"}},[t.showPercentTag?i("woo-box",{class:t.$style.percentTag,attrs:{justify:"center",align:"center"},nativeOn:{click:function(t){t.stopPropagation()}}},[t._v(" "+t._s(t.imgScalePercent)+" ")]):t._e()],1),i("div",{ref:"imgWrap",class:[t.$style.wrap,t.isLongPic?t.$style.longPic:""],on:{click:t.back}},["image"===t.type?i("div",{ref:"imgCon",staticClass:"imgInstance",class:[t.$style.imgElm,t.enableMove&&t.$style.moveCursor],style:t.imgContainerStyle,on:{click:function(t){t.stopPropagation()}}},[t.showPayInfo?i("woo-box",{class:t.$style.pay,attrs:{align:"center",justify:"center",direction:"y"}},[i("p",[t._v("开通Ta的专属会员")]),i("p",[t._v("即可浏览图片和Ta的全部付费内容")]),i("woo-button",{class:t.$style.openBtn,attrs:{size:"m",sort:"flat",kind:"primary"},on:{click:t.goPay}},[i("span",{staticStyle:{"font-size":"14px"}},[t._v("立即开通")])])],1):t._e(),t.isLivephoto&&t.livePhotoEnded?i("img",{attrs:{src:t.httpsUpgrade(t.videoImagePoster)}}):t.isDynamic||t.isGif||t.isLivephoto?i("video",{directives:[{name:"show",rawName:"v-show",value:t.imgLoaded,expression:"imgLoaded"}],ref:"videoRef",class:t.$style.dynamicVideo,attrs:{preload:"",autoplay:"",src:t.upgradeProtocol(t.dynamicSrc)},domProps:{muted:!t.isLivephoto},on:{loadeddata:t.handleImgLoad,ended:t.onVideoEnded}}):i("img",{directives:[{name:"show",rawName:"v-show",value:t.imgLoaded,expression:"imgLoaded"}],key:t.currIndex,ref:"imgBox",attrs:{draggable:"false",src:t.httpsUpgrade(t.currSrc)},on:{load:t.handleImgLoad}}),t.inSafari?t._e():i("img",{directives:[{name:"show",rawName:"v-show",value:!t.imgLoaded,expression:"!imgLoaded"}],ref:"ghostImg",class:t.$style.ghostImg,staticStyle:{filter:"blur(1px)"},attrs:{src:t.httpsUpgrade(t.prevSrc)}})],1):t._e()])],1)],1):t._e(),"video"===t.type&&t.needPlayer?i("div",{class:[t.$style.videoContainer,t.isMixVideo&&t.$style.mixVideoContainer]},[t.needPlayer&&!t.resetPlayer?i("layer-player",{key:t.content.id,attrs:{"custom-options":t.customOptions,"page-info":t.content.page_info,content:t.content,"is-mix-video":t.isMixVideo},on:{ready:t.readyHandle}}):t._e()],1):t._e(),t.data.length>1&&0!==t.currIndex?i("woo-box",{class:[t.$style.angleLeft,t.$style.angleBtn],attrs:{justify:"center",align:"center"},nativeOn:{click:function(e){return e.stopPropagation(),t.handleChangeGallery("prev")}}},[i("woo-fonticon",{class:[t.$style.boldBtn],attrs:{value:"angleLeft"}})],1):t._e(),t.data.length>1&&t.currIndex!==t.originData.length-1?i("woo-box",{class:[t.$style.angleRight,t.$style.angleBtn],attrs:{justify:"center",align:"center"},nativeOn:{click:function(e){return e.stopPropagation(),t.handleChangeGallery("next")}}},[i("woo-fonticon",{class:[t.$style.boldBtn],attrs:{value:"angleRight"}})],1):t._e(),!t.hasPrevList||t.needPlayer&&!t.isMixVideo?t._e():i("woo-box",{class:t.$style.prevList,attrs:{justify:"center"}},[t.showPrevBtn?i("div",{class:t.$style.arrow,on:{click:t.prevList}},[t._v("<")]):t._e(),t._l(t.data,(function(e,a){return i("li",{key:a,class:[t.$style.prevItem,a===t.currIndex%t.prevMaxLength?t.$style.active:"",t.needPay&&0!==a?t.$style.prevPay:""],on:{click:function(e){return t.switchPic(a+t.currListIndex*t.prevMaxLength)}}},[i("div",[i("div",{class:t.$style.prevBorder}),i("img",{class:t.$style.prevImg,attrs:{src:t.httpsUpgrade(e.url)}}),"mixvideo"===e.type?i("woo-box",{class:t.$style.pos,attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{class:t.$style.icon2,attrs:{value:"play"}})],1):t._e(),e.data&&e.data.media_info?i("woo-box",{class:t.$style.videotime},[t._v(t._s(t.sec2time(e.data.media_info.duration)))]):t._e()],1)])})),t.showNextBtn?i("div",{class:t.$style.arrow,on:{click:t.nextList}},[t._v(">")]):t._e()],2)],1)},vo=[],_o=i("b85c"),go=function(t,e){var i=[],a=0;0===t.length?e&&"function"===typeof e&&e():t.forEach((function(o,n){i[n]=new Image,i[n].src=o,i[n].onload=i[n].onerror=function(){a++,a===t.length&&e&&"function"===typeof e&&e()}}))},bo=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"viewerVideo",class:[t.showInViewer?t.$style.inViewer:""]},[i("video-player",t._g(t._b({class:[t.$style.layerVideo,t.$attrs.isMixVideo&&t.$style.noBorderRadius]},"video-player",t.$attrs,!1),t.$listeners))],1)},yo=[],wo=i("41b2"),xo={components:{VideoPlayer:wo["a"]}},ko=xo,$o=i("0ce6");function Co(t){this["$style"]=$o["default"].locals||$o["default"]}var Oo=Object(P["a"])(ko,bo,yo,!1,Co,null,null),jo=Oo.exports,To=i("b12a"),Do=i("9b95"),So=i("b893"),Io=i("73d1"),Lo=i("1a83"),Bo=18,Po=690,Ao=function(){},Eo={name:"PictureView",mixins:[To["a"]],props:{datas:{type:Object,default:function(){return{}}},updateVideo:{type:Boolean,default:!1},relatedContent:{type:Object,default:function(){return{}}},nextVideoInfo:{type:Object,default:function(){return{}}},fired:Boolean,autoplay:Boolean,outerPlayer:Object},data:function(){var t=document.createElement("video"),e=t.canPlayType&&t.canPlayType("video/mp4");return t=null,{data:[],originData:[],currSrc:"",prevSrc:"",currIndex:-1,currListIndex:0,dirStatus:0,isLongPic:!1,imgLoaded:!1,type:"image",needPay:!1,prevMaxLength:Bo,imgContainerData:{},uid:"",player:null,needPlayer:!1,supportWebp:!1,resetPlayer:!1,preloadArr:[],customOptions:{},content:{},imgScaleValue:1,showPercentTag:!1,miniPreviewLoaded:!1,miniPreviewOptions:{},currStyle:{},currRotateStyle:{},enableMove:!1,showToolBecauseOfInPicture:!1,notInitStatus:!1,canPlayMov:e,livePhotoEnded:!1,mixVideoOid:""}},computed:Object(a["a"])(Object(a["a"])({},Object(r["c"])(["recomAutoplay","miniComposerIsNull","modalComposerIsShow","config","remainTime","videoInstance"])),{},{inSafari:function(){var t=navigator.userAgent;return t.match(/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i)||t.match(/version\/([\w\.]+).+?(mobile\s?safari|safari)/i)},videoImagePoster:function(){var t,e,i;return this.isGif?null===(i=this.originData[this.currIndex])||void 0===i?void 0:i.url:null===(t=this.originData[this.currIndex])||void 0===t||null===(e=t.mw2000)||void 0===e?void 0:e.url},imgScalePercent:function(){var t=this.originData[this.currIndex],e=t&&this.large2basic(t.geo)||{},i=e.width,a=void 0===i?1:i,o=this.imgContainerData.width/a;return(100*o).toFixed(0)+"%"},dynamicSrc:function(){var t;return(null===(t=this.originData[this.currIndex])||void 0===t?void 0:t.video)||""},isDynamic:function(){var t;return"dynamic"===(null===(t=this.originData[this.currIndex])||void 0===t?void 0:t.type)&&this.canPlayMov&&this.dynamicSrc},isLivephoto:function(){var t;return"livephoto"===(null===(t=this.originData[this.currIndex])||void 0===t?void 0:t.type)&&this.canPlayMov&&this.dynamicSrc},isGif:function(){var t;return"gif"===(null===(t=this.originData[this.currIndex])||void 0===t?void 0:t.type)&&this.canPlayMov&&this.dynamicSrc},isMixVideo:function(){var t;return"mixvideo"===(null===(t=this.originData[this.currIndex])||void 0===t?void 0:t.type)},showRotate:function(){return!this.isLongPic&&!this.isGif&&!this.isDynamic&&!this.isLivephoto},showPrevBtn:function(){return 0!==this.currListIndex},showNextBtn:function(){return Math.ceil(this.originData.length/Bo)!==this.currListIndex+1},hasPrevList:function(){return this.originData.length>1},showTool:function(){return"image"===this.type&&!this.needPay&&this.showToolBecauseOfInPicture&&!this.isMixVideo},showPayInfo:function(){return this.originData.length>0?this.needPay&&0!==this.currIndex:this.needPay},imgContainerStyle:function(){var t=this.imgContainerData,e=t.width,i=void 0===e?1:e,a=t.height,o=void 0===a?"auto":a,n=t.translateX,s=void 0===n?0:n,r=t.translateY,l=void 0===r?0:r,c=t.matrix,u=void 0===c?"":c,d=t.rotate,h=void 0===d?0:d,p="",f={translateX:function(){p+="translateX(".concat(s,"px) ")},translateY:function(){p+="translateY(".concat(l,"px) ")},rotate:function(){p+="rotate(".concat(h,"deg) ")},matrix:function(){u&&(p+="matrix(".concat(u,") "))}};return Object.keys(f).forEach((function(t){f[t]()})),{width:i+"px",height:"number"===typeof o?o+"px":o,transform:p}}}),watch:{imgContainerData:function(t){var e;if("image"===this.type){var i=null===(e=this.$refs.imgWrap)||void 0===e?void 0:e.getBoundingClientRect(),a=i.width,o=i.height;if(0===this.dirStatus||2===this.dirStatus)if(!this.isLongPic&&(t.width>a||t.height>o)||this.isLongPic&&t.width>a){var n;if(!this.enableMove)null===(n=this.$refs.imgCon)||void 0===n||n.addEventListener("pointerdown",this.onImageMoveStart);this.enableMove=!0}else{var s;this.enableMove=!1,null===(s=this.$refs.imgCon)||void 0===s||s.removeEventListener("pointerdown",this.onImageMoveStart)}else t.width>o||t.height>a?(this.enableMove||this.$refs.imgCon.addEventListener("pointerdown",this.onImageMoveStart),this.enableMove=!0):(this.enableMove=!1,this.$refs.imgCon.removeEventListener("pointerdown",this.onImageMoveStart))}},autoplay:function(t,e){t&&this.needPlayer&&this.player&&this.nextVideoInfo?this.player.getChild("nextVideo")||this.player.addChild("nextVideo",{cover:this.nextVideoInfo.cover_image,text:Object(Ii["a"])(this.nextVideoInfo.title),screen_name:Object(Ii["a"])(this.nextVideoInfo.nickname),playCount:this.nextVideoInfo.play_count,duration:this.nextVideoInfo.duration,countDownTime:5,show:!0}):this.player&&this.player.trigger("next-video-switch",!!t)},nextVideoInfo:function(t,e){t&&!Object.keys(e).length&&this.needPlayer&&this.player&&!this.mixVideoOid&&this.player.addChild("nextVideo",{cover:t.cover_image,text:Object(Ii["a"])(t.title),screen_name:Object(Ii["a"])(t.nickname),playCount:t.play_count,duration:t.duration,countDownTime:5,show:!0})},fired:function(t){t&&this.back(!1)},recomAutoplay:function(t){this.player&&this.player.trigger("next-video-switch",!!t)},updateVideo:function(t,e){var i,a,o,n=this;if(t)if(this.needPlayer=!0,this.$nextTick(Object(u["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n.player){t.next=9;break}return e=n.player.currentTime(),n.player&&n.player.el&&n.player.ended()&&(e=0),n.setRemainTime({id:n.content.mblogid,time:e,playing:!n.player.paused()}),t.next=6,n.disposePlayer();case 6:n.createPlayer(),t.next=10;break;case 9:n.createPlayer();case 10:case"end":return t.stop()}}),t)})))),null===(i=this.relatedContent)||void 0===i||null===(a=i.mix_media_info)||void 0===a||null===(o=a.items)||void 0===o?void 0:o.length){this.data=[];var s=this.relatedContent.mix_media_info.items;if(s.length){var r,l=Object(_o["a"])(s);try{for(l.s();!(r=l.n()).done;){var c=r.value;"pic"===c.type?this.data.push(Object(Lo["a"])(c.data,[c.id],this.relatedContent.pic_focus_point,!1)[0]):"video"===c.type&&this.data.push({type:"mixvideo",url:c.data.page_pic,data:c.data})}}catch(d){l.e(d)}finally{l.f()}}}else this.data=[]},datas:function(t){Object.keys(t).length&&this.init(t)},currIndex:{handler:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function i(){var a,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!(t<0)){i.next=2;break}return i.abrupt("return");case 2:if(e.currListIndex=Math.floor(t/Bo),e.data=e.originData.slice(e.currListIndex*Bo,(e.currListIndex+1)*Bo),e.isLongPic&&e.$refs.imgBox&&e.$refs.imgBox.scrollIntoView(),e.prevSrc=e.originData[t].url,e.originData[t].geo){i.next=10;break}return i.next=9,e.loadImgSize(e.originData[t]);case 9:e.originData[t]=i.sent;case 10:e.$nextTick((function(){e.currSrc=e.getRealSrc(e.originData[t])})),o=e.originData.length>18?null===(a=e.data[e.currListIndex])||void 0===a?void 0:a.type:e.data[t].type,"mixvideo"!==o&&e.updateImgContainerStyle(),e.indexChange.call(e,t);case 14:case"end":return i.stop()}}),i)})))()},immediate:!0},dirStatus:function(){if(this.notInitStatus=!1,this.imgScaleValue=1,0!==this.dirStatus){if(1===this.dirStatus||3===this.dirStatus){var t=this.originData[this.currIndex],e=t&&this.large2basic(t.geo),i=e.width,o=e.height,n=i/o,s={},r=this.$refs.imgWrap.getBoundingClientRect(),l=r.width,c=r.height;if(i<=c&&o<=l)s={width:i,height:o};else if(i<=c&&o>l)s={width:l*n,height:l};else if(i>c&&o<=l)s={width:c,height:c/n};else{var u=l/c;s=u>=1/n?{width:c,height:c/n}:{width:l*n,height:l}}if(1===this.dirStatus||3===this.dirStatus){var d=(l-s.width)/2,h=-(s.width-c-this.currStyle.height+s.height)/2,p=1===this.dirStatus?"0, -1, 1, 0, 0, 0":"0, 1, -1, 0, 0, 0";h=(c-s.height)/2,this.imgContainerData=Object.assign({},Object(a["a"])(Object(a["a"])({},s),{},{translateX:d,translateY:h,matrix:p}))}}else this.imgContainerData=Object.assign({},Object(a["a"])(Object(a["a"])({},this.currStyle),{},{matrix:"",rotate:180}));this.currRotateStyle=Object.assign({},{width:this.imgContainerData.width,height:this.imgContainerData.height})}else this.updateImgContainerStyle()}},methods:Object(a["a"])(Object(a["a"])({},Object(r["b"])(["updateRecomAutoplay","setRemainTime"])),{},{httpsUpgrade:So["d"],upgradeProtocol:function(t){return t.replace(/^http:/,"https:")},onVideoEnded:function(){var t;this.isLivephoto?this.livePhotoEnded=!0:null===(t=this.$refs.videoRef)||void 0===t||t.play()},onMouseEnter:function(){this.showToolBecauseOfInPicture=!0},onMouseLeave:function(){this.showToolBecauseOfInPicture=!1},onExpand:function(){var t=this.originData[this.currIndex],e=t&&this.large2basic(t.geo)||{},i=(e.width,this.$refs.imgWrap.getBoundingClientRect()),a=i.width;this.onZoomIn(a/this.currStyle.width)},onAdaptive:function(){this.imgScaleValue=1,this.dirStatus=0,this.notInitStatus=!1,this.updateImgContainerStyle()},onOriginal:function(){var t=this.originData[this.currIndex],e=t&&this.large2basic(t.geo)||{},i=e.width,a=void 0===i?1:i;this.onZoomIn(a/this.currStyle.width,a!==this.imgContainerData.width)},updatePercentTag:function(){var t=this;this.showPercentTag=!0,this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t.showPercentTag=!1}),1e3)},onZoomOut:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.notInitStatus=e,t)this.imgScaleValue=t;else if(this.imgScaleValue-=.25,this.imgScaleValue<.25)return void(this.imgScaleValue=.25);var i=this.$refs.imgWrap.getBoundingClientRect(),a=i.width,o=i.height,n=this.currStyle.width,s=this.currStyle.height;3!==this.dirStatus&&1!==this.dirStatus||(n=this.currRotateStyle.width,s=this.currRotateStyle.height);var r=(a-n*this.imgScaleValue)/2,l=(o-s*this.imgScaleValue)/2;this.isLongPic&&(l=0),this.imgContainerData=Object.assign({},this.imgContainerData,{width:n*this.imgScaleValue,height:s*this.imgScaleValue,translateX:r,translateY:l}),this.updatePercentTag()},onZoomIn:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.notInitStatus=e,t)this.imgScaleValue=t;else if(this.imgScaleValue+=.25,this.imgScaleValue>20)return void(this.imgScaleValue=20);var i=this.$refs.imgWrap.getBoundingClientRect(),a=i.width,o=i.height,n=this.currStyle.width,s=this.currStyle.height;3!==this.dirStatus&&1!==this.dirStatus||(n=this.currRotateStyle.width,s=this.currRotateStyle.height);var r=(a-n*this.imgScaleValue)/2,l=(o-s*this.imgScaleValue)/2;this.isLongPic&&(l=0),this.imgContainerData=Object.assign({},this.imgContainerData,{width:n*this.imgScaleValue,height:s*this.imgScaleValue,translateX:r,translateY:l}),this.updatePercentTag()},notify:function(){var t=this;this.miniComposerIsNull?this.$emit("next-related-video"):this.$_w_dialog({type:"confirm",message:"评论或转发内容尚未提交，确定播放下一个视频吗？",btnCancel:"留在这里",btnConfirm:"播放下一个",action:function(){t.$emit("next-related-video")}})},updateRecomAutoplayhandle:function(){this.updateRecomAutoplay(!1)},readyHandle:function(t){var e=this;this.player=t,t.hasClass("wbpv-size-large")||t.addClass("wbpv-size-large"),t.on("next-video-click",this.notify),t.on("next-video-count-down",this.notify),t.on("next-video-close",this.updateRecomAutoplayhandle),this.isMixVideo?this.remainTime&&this.content.mblogid===this.remainTime.id&&this.mixVideoOid&&t.currentTime(this.remainTime[this.mixVideoOid]):this.remainTime&&this.content.mblogid===this.remainTime.id&&(t.currentTime(this.remainTime.time),this.$nextTick((function(){e.remainTime.playing&&t.play()})))},createPurePlayer:function(t){var e={openLayerButton:!1,layerButton:!1};this.customOptions=Object.assign({},e,t)},createPlayer:function(){var t={openLayerButton:!1,layerButton:!1,autoplay:!this.mixVideoOid};this.recomAutoplay&&Object.keys(this.nextVideoInfo||{}).length&&!this.mixVideoOid&&(t.nextVideo={cover:this.nextVideoInfo.cover_image,text:Object(Ii["a"])(this.nextVideoInfo.title),screen_name:Object(Ii["a"])(this.nextVideoInfo.nickname),playCount:this.nextVideoInfo.play_count,duration:this.nextVideoInfo.duration,countDownTime:5,show:!0}),this.customOptions=t,this.content=this.relatedContent},cleanUpPics:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map((function(t){var e,i;return Object(a["a"])(Object(a["a"])({},t),{},{mw2000:{url:(null===t||void 0===t||null===(e=t.large)||void 0===e||null===(i=e.url)||void 0===i?void 0:i.replace("large","mw2000"))||""}})}))},init:function(t){var e,i=this,a=t.data,o=void 0===a?{}:a,n=t.type,s=t.indexChange,r=t.needPlayer,l=t.videoOptions,c=void 0===l?{}:l;this.type=n;var u=o.content;if(this.content=u||{},"image"===n||(null===o||void 0===o||null===(e=o.pics)||void 0===e?void 0:e.length)){var d=o.index,h=o.pics,p=o.uid,f=void 0===p?"":p;this.uid=f,this.originData=this.cleanUpPics(h),this.currIndex=d,this.indexChange=s||Ao,h.some((function(t){return t.isPay&&!t.isMy&&!t.isPaid}))&&(this.needPay=!0),this.data=this.originData.slice(this.currListIndex*Bo,(this.currListIndex+1)*Bo),this.checkLongPic(d);var m,v=[];if(this.originData.forEach((function(t){v.push(i.getRealSrc(t))})),v=v.filter((function(t){return!/\.gif/.test(t)})),go(v),o.mixVideoOid)this.loadPlayer(c,r),r&&(null===(m=this.originData[d])||void 0===m?void 0:m.data)&&(this.content.page_info=this.originData[d].data,this.mixVideoOid=this.originData[d].data.object_id)}else this.loadPlayer(c,r);this.toggleKeyEvent(!0)},loadPlayer:function(t,e){e&&(this.needPlayer=!0,Object.keys(t).length?this.createPurePlayer(t):this.createPlayer())},updateImgContainerStyle:function(){var t=this;if(!(this.currIndex<0)){var e=this.originData[this.currIndex],i=e&&this.large2basic(e.geo),a=i.width,o=i.height,n=a/o;setTimeout((function(){var e=t.$refs.imgWrap.getBoundingClientRect(),i=e.width,s=e.height;if(t.isLongPic)return i>=Po?a>Po?(t.imgContainerData={width:Po,translateX:(i-Po)/2},t.imgLoaded&&(t.imgContainerData.height=Po/n)):(t.imgContainerData={width:a,translateX:(i-a)/2},t.imgLoaded&&(t.imgContainerData.height=o)):(t.imgContainerData={width:i},t.imgLoaded&&(t.imgContainerData.height=i/n)),t.imgContainerData.translateY=0,void(t.currStyle=Object.assign({},t.imgContainerData));if(a<=i&&o<=s)t.imgContainerData={width:a,height:o,translateX:(i-a)/2,translateY:(s-o)/2};else if(a<=i&&o>s)t.imgContainerData={width:s*n,height:s,translateX:(i-s*n)/2};else if(a>i&&o<=s)t.imgContainerData={width:i,height:i/n,translateY:(s-i/n)/2};else{var r=i/s;t.imgContainerData=r>=n?{width:s*n,height:s,translateX:(i-s*n)/2}:{width:i,height:i/n,translateY:(s-i/n)/2}}t.currStyle=Object.assign({},t.imgContainerData)}),0)}},large2basic:function(t){return t||{width:Po,height:Po}},goPay:function(){if(Object.keys(this.content).length){var t=this.content,e=t.user.id,i=t.mid;window.open("https://vipclub.weibo.com/vmember/toopen?vuid=".concat(e,"&F=pic_").concat(i))}},prevList:function(){0!==this.currListIndex&&(this.currListIndex-=1),this.currIndex=(this.currListIndex+1)*Bo-1},nextList:function(){this.currListIndex<this.originData.length/Bo&&(this.currListIndex+=1),this.currIndex=this.currListIndex*Bo},keyPressFunction:function(t){switch(t.which){case 27:this.back();break;case 37:this.handleChange("prev");break;case 39:this.handleChange("next");break;default:break}},toggleKeyEvent:function(t){t?window.addEventListener("keydown",this.keyPressFunction):window.removeEventListener("keydown",this.keyPressFunction)},handleImgLoad:function(){this.imgLoaded=!0,this.isLongPic&&this.updateImgContainerStyle(),this.isLivephoto&&(this.$refs.videoRef=localStorage.getItem("V7_PLAYER_VOLUME")||.5)},loadImgSize:function(t){return new Promise((function(e){var i=new Image;i.src=t.url,i.complete?e(Object(a["a"])(Object(a["a"])({},t),{},{geo:{width:i.width,height:i.height}})):i.onload=function(){e(Object(a["a"])(Object(a["a"])({},t),{},{geo:{width:i.width,height:i.height}}))}}))},getRealSrc:function(t){if(t)return"gif"===t.type?t.url:t.mw2000&&t.mw2000.url||t.normal&&t.normal.url},disposePlayer:function(){var t=this;return new Promise((function(e){t.resetPlayer=!0,t.unbindPlayerEvent(),t.$nextTick((function(){t.player=null,t.resetPlayer=!1,e()}))}))},back:function(){var t=arguments,e=this;return Object(u["a"])(regeneratorRuntime.mark((function i(){var o,n,s,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(o=!(t.length>0&&void 0!==t[0])||t[0],!e.modalComposerIsShow){i.next=3;break}return i.abrupt("return");case 3:if(!e.needPlayer||!e.player){i.next=8;break}return e.isMixVideo&&e.mixVideoOid?(s=e.player.currentTime(),e.player&&e.player.el&&e.player.ended()&&(s=0),e.setRemainTime(Object(a["a"])(Object(a["a"])({},e.remainTime),{},(n={id:e.content.mblogid},Object(Rt["a"])(n,e.mixVideoOid,s),Object(Rt["a"])(n,"playing",!e.player.paused()),n)))):(r=e.player.currentTime(),e.player&&e.player.el&&e.player.ended()&&(r=0),e.setRemainTime({id:e.content.mblogid,time:r,playing:!e.player.paused()})),i.next=7,e.disposePlayer();case 7:e.needPlayer=!1;case 8:e.toggleKeyEvent(),e.resetData(),e.preloadArr=[],o&&e.$emit("close-event"),e.unbindPlayerEvent();case 13:case"end":return i.stop()}}),i)})))()},resetData:function(){this.data=[],this.originData=[],this.currSrc="",this.prevSrc="",this.currIndex=-1,this.currListIndex=0,this.dirStatus=0,this.isLongPic=!1,this.imgLoaded=!1,this.needPay=!1,this.imgContainerData={},this.uid="",this.customOptions={},this.content={},this.imgScaleValue=1,this.miniPreviewLoaded=!1,this.miniPreviewOptions={},this.showToolBecauseOfInPicture=!1,this.notInitStatus=!1,this.livePhotoEnded=!1},download:function(){var t=this.originData[this.currIndex].type;if("dynamic"!==this.originData[this.currIndex].type){this.actionLog({act_code:"4874",uicode:"20000397",fid:"232158",ext:"module:03|type:".concat(t)}),this.$emit("download");var e=this.originData[this.currIndex].pid;setTimeout((function(){window.location.href="/ajax/common/download?pid=".concat(e)}),500)}else{var i;window.open(null===(i=this.originData[this.currIndex])||void 0===i?void 0:i.video)}},goOrigin:function(){var t,e,i="",a=this.originData[this.currIndex].type;"dynamic"!==this.originData[this.currIndex].type?(i=(null===(t=this.originData[this.currIndex])||void 0===t?void 0:t.large)?this.originData[this.currIndex].large.url:this.currSrc,this.actionLog({act_code:"4874",uicode:"20000397",fid:"232158",ext:"module:05|type:".concat(a)}),window.open(i)):window.open(null===(e=this.originData[this.currIndex])||void 0===e?void 0:e.video)},handleChangeGallery:function(t){this.originData.length<=1||this.handleChange(t)},handleChange:function(t){var e=this.currIndex;e>-1&&e<this.originData.length&&("next"===t?e=(e+1)%this.originData.length:(0===e&&(e=this.originData.length),e-=1),this.switchPic(e),this.adPicsToLog(e),this.$emit("switch-pic",this.originData[e],!1,e))},switchPic:function(t){var e,i,o="";if("mixvideo"===(null===(e=this.originData[this.currIndex])||void 0===e?void 0:e.type)&&(o=this.originData[this.currIndex].data.object_id,this.videoInstance&&this.outerPlayer&&(this.outerPlayer.pause&&this.outerPlayer.pause(),this.videoInstance.style.display="none")),"mixvideo"===(null===(i=this.originData[t])||void 0===i?void 0:i.type)){var n;this.type="video",this.currIndex=t,this.needPlayer=!0,this.customOptions={openLayerButton:!1,layerButton:!1},(null===(n=this.originData[t])||void 0===n?void 0:n.data)&&(this.content.page_info=this.originData[t].data,this.mixVideoOid=this.originData[t].data.object_id)}else{if(this.type="image",this.currIndex===t)return;var s=new Image;s.src=this.getRealSrc(this.originData[t]),s.complete||(this.imgLoaded=!1),this.imgScaleValue=1,this.dirStatus=0,this.notInitStatus=!1,this.checkLongPic(t),this.currIndex=t,this.livePhotoEnded=!1,this.$emit("switch-pic",this.originData[t],!1,t),this.needPlayer=!1}this.player||this.$Bus.$emit("switch-mix-pic",this.player);var r=this.player||this.outerPlayer;if(r&&o){var l,c=0;try{c=r&&r.el&&r.currentTime()||0,r&&r.el&&r.ended()&&(c=0)}catch(u){}this.setRemainTime(Object(a["a"])(Object(a["a"])({},this.remainTime),{},(l={id:this.content.mblogid},Object(Rt["a"])(l,o,c),Object(Rt["a"])(l,"playing",!1),l)))}this.$emit("switch-type",this.type,this.mixVideoOid)},checkLongPic:function(t){var e=this.originData[t];if(e&&e.geo){var i=e&&e.geo,a=i.width,o=i.height,n=a/o;this.isLongPic=n<=.3}},handleRotateRight:function(){0===this.dirStatus&&(this.dirStatus=4),this.dirStatus=this.dirStatus-1},isSupportWebp:function(){try{return 0===document.createElement("canvas").toDataURL("image/webp",.5).indexOf("data:image/webp")}catch(t){return!1}},unbindPlayerEvent:function(){this.player&&(this.player.off("next-video-click",this.notify),this.player.off("next-video-count-down",this.notify),this.player.off("next-video-close",this.updateRecomAutoplayhandle))},adPicsToLog:function(t){if("image"===this.type&&this.content&&this.content.mark&&this.content.pic_infos){var e=this.content.pic_infos[this.content.pic_ids[t]];e&&e.actionlog&&e.actionlog.length&&e.actionlog[1]&&this.throwBatch(e.actionlog[1])}},updateMiniPreview:function(){var t=this.$refs.imgBox.getBoundingClientRect(),e=t.width,i=t.height,a=this.$refs.imgWrap.getBoundingClientRect(),o=a.width,n=a.height;this.miniPreviewLoaded=e>o||i>n,this.miniPreviewLoaded?this.miniPreviewOptions=Object.assign({},{imageWidth:e,imageHeight:i,wrapWidth:o,wrapHeight:n}):this.miniPreviewOptions={}},onMiniPreviewMove:function(t,e){var i=e.width,a=e.height,o=t.translateX,n=void 0===o?0:o,s=t.translateY,r=void 0===s?0:s,l=this.imgContainerData,c=l.width,u=l.height;this.$set(this.imgContainerData,"translateX",-n*c/i),0!==r&&this.$set(this.imgContainerData,"translateY",-r*u/a)},getPointer:function(t,e){var i=t.pageX,o=t.pageY,n={endX:i,endY:o};return e?n:Object(a["a"])({startX:i,startY:o},n)},onImageMoveStart:function(t){t.preventDefault(),t.stopPropagation(),window.addEventListener("pointermove",this.onImageMoveOver),window.addEventListener("pointerup",this.onImageMoveEnd),this.pointer=this.getPointer(t),this.wrapRect=this.$refs.imgWrap.getBoundingClientRect()},onImageMoveOver:function(t){t.preventDefault(),t.stopPropagation(),Object.assign(this.pointer,this.getPointer(t,!0));var e=this.pointer,i={x:e.endX-e.startX,y:e.endY-e.startY};if(0===this.dirStatus||2===this.dirStatus)this.wrapRect.width>=this.imgContainerData.width&&this.wrapRect.height<this.imgContainerData.height?(this.imgContainerData.translateY+=i.y,this.imgContainerData.translateY>0&&(this.imgContainerData.translateY=0),this.imgContainerData.translateY<this.wrapRect.height-this.imgContainerData.height&&(this.imgContainerData.translateY=this.wrapRect.height-this.imgContainerData.height)):this.wrapRect.width<this.imgContainerData.width&&this.wrapRect.height<this.imgContainerData.height?(this.imgContainerData.translateY+=i.y,this.imgContainerData.translateX+=i.x,this.imgContainerData.translateY>0&&(this.imgContainerData.translateY=0),this.imgContainerData.translateY<this.wrapRect.height-this.imgContainerData.height&&(this.imgContainerData.translateY=this.wrapRect.height-this.imgContainerData.height),this.imgContainerData.translateX>0&&(this.imgContainerData.translateX=0),this.imgContainerData.translateX<this.wrapRect.width-this.imgContainerData.width&&(this.imgContainerData.translateX=this.wrapRect.width-this.imgContainerData.width)):this.wrapRect.width<this.imgContainerData.width&&this.wrapRect.height>=this.imgContainerData.height&&(this.imgContainerData.translateX+=i.x,this.imgContainerData.translateX>0&&(this.imgContainerData.translateX=0),this.imgContainerData.translateX<this.wrapRect.width-this.imgContainerData.width&&(this.imgContainerData.translateX=this.wrapRect.width-this.imgContainerData.width));else if(this.wrapRect.height<=this.imgContainerData.width&&this.wrapRect.width>this.imgContainerData.height){this.imgContainerData.translateY+=i.y;var a=(this.imgContainerData.width-this.imgContainerData.height)/2;this.imgContainerData.translateY>a&&(this.imgContainerData.translateY=a),this.imgContainerData.translateY<this.wrapRect.height-this.imgContainerData.height-a&&(this.imgContainerData.translateY=this.wrapRect.height-this.imgContainerData.height-a)}else if(this.wrapRect.height<this.imgContainerData.width&&this.wrapRect.width<this.imgContainerData.height){this.imgContainerData.translateY+=i.y,this.imgContainerData.translateX+=i.x;var o=(this.imgContainerData.width-this.imgContainerData.height)/2;this.imgContainerData.translateY>o&&(this.imgContainerData.translateY=o),this.imgContainerData.translateY<this.wrapRect.height-this.imgContainerData.height-o&&(this.imgContainerData.translateY=this.wrapRect.height-this.imgContainerData.height-o);var n=(this.imgContainerData.height-this.imgContainerData.width)/2;this.imgContainerData.translateX>n&&(this.imgContainerData.translateX=n),this.imgContainerData.translateX<this.wrapRect.width-this.imgContainerData.width-n&&(this.imgContainerData.translateX=this.wrapRect.width-this.imgContainerData.width-n)}this.pointer.startX=e.endX,this.pointer.startY=e.endY},onImageMoveEnd:function(t){t.preventDefault(),t.stopPropagation(),window.removeEventListener("pointermove",this.onImageMoveOver),window.removeEventListener("pointerup",this.onImageMoveEnd)},sec2time:Io["a"]}),beforeDestroy:function(){this.unbindPlayerEvent()},components:{LayerPlayer:jo,CircleProgress:Do["a"]}},Mo=Eo,Fo=i("dd79");i("a1be");function Ro(t){this["$style"]=Fo["default"].locals||Fo["default"]}var Vo=Object(P["a"])(Mo,mo,vo,!1,Ro,"1ce932d0",null),No=Vo.exports,Ho=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.box},[i("div",{class:t.$style.wrap},[i("woo-box",{attrs:{align:"end"}},[i("woo-box-item",{attrs:{align:"end"}},[i("woo-box",{attrs:{align:"end"}},[i("div",{class:t.$style.tit},[t._v("接下来播放")])])],1),i("woo-box",{class:t.$style.opt,attrs:{align:"center"}},[t._v(" 自动播放 "),i("woo-switch",{class:t.$style.switch,on:{change:t.autoClick},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)],1),i("Scroll",{attrs:{data:t.data,isLoading:t.loadingStatus,isEmpty:t.isEmpty,pageMode:!1,keyField:"id",isInCard:!0},on:{loadMoreData:t.loadMoreData},scopedSlots:t._u([{key:"content",fn:function(e){var a=e.item,o=e.index;return[i("div",{class:[t.$style.card,t.$style.wrapX,t.current===o&&t.$style.active],on:{click:function(e){return t.$emit("change-video",o)}}},[i("woo-box",{class:t.$style.S,attrs:{align:"center"}},[i("woo-picture",{class:t.$style.pic,attrs:{"aspect-ratio":"16:9",src:t.httpsUpgrade(a.cover_image),loadLoad:"true"}},[t.getVideoMaskUrl(a.cover_image)?i("div",{class:t.$style.mask},[i("img",{attrs:{src:t.getVideoMaskUrl(a.cover_image)}})]):t._e(),t.duration?i("div",{class:t.$style.duration},[t._v(" "+t._s(a.duration)+" ")]):t._e(),a.isVPlus?i("div",{class:t.$style.vPlus}):t._e()]),i("woo-box-item",{class:t.$style.con},[i("div",{class:t.$style.h3,attrs:{title:a.title}},[t._v(" "+t._s(a.title)+" ")]),i("woo-box",{class:t.$style.lr,attrs:{align:"center"}},[i("woo-box-item",{class:t.$style.conin,attrs:{align:"center"}},[i("div",{class:[t.$style.h4,t.$style.h4s]},[t._v(" @"+t._s(a.nickname)+" ")]),"M"!==t.type?[i("div",{class:t.$style.h4},[t._v(" "+t._s(a.play_count)+" ")])]:t._e()],2)],1)],1)],1)],1)]}}])})],1)},zo=[],Uo={props:{data:{type:Array,default:function(){return[]}},loading:Boolean,value:Boolean,current:Number,fetchRelatedVideo:Function,mid:String,pageParams:{type:Object,default:function(){return{}}}},data:function(){return{isEmpty:!1,innerLoading:!0}},computed:{loadingStatus:function(){return this.loading&&this.innerLoading}},methods:Object(a["a"])(Object(a["a"])({},Object(r["b"])(["updateRecomAutoplay"])),{},{getVideoMaskUrl:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t&&t.replace&&t.replace("nmw690","thumb30")},httpsUpgrade:So["d"],autoClick:function(t){this.updateRecomAutoplay(t),this.$emit("input",t)},loadMoreData:function(){var t=this;this.loadingStatus&&this.fetchRelatedVideo&&this.fetchRelatedVideo("more",this.mid,this.pageParams,(function(e){"noData"===e&&(t.isEmpty=!0,t.innerLoading=!1)}))}}),components:{Scroll:at["a"]}},Go=Uo,qo=i("3f3b");function Wo(t){this["$style"]=qo["default"].locals||qo["default"]}var Qo=Object(P["a"])(Go,Ho,zo,!1,Wo,null,null),Jo=Qo.exports,Ko=i("d4ec"),Yo=i("bee2"),Xo=function(){function t(e,i){var a=this;if(Object(Ko["a"])(this,t),this.size=0,this.capacity="number"===typeof e?e:10,this.keymap=Object.create(null),this.head=void 0,this.tail=void 0,"number"===typeof i&&Math.min(1e4,i)>10){var o=Math.min(1e4,i)-1;setInterval((function(){a.size>1&&Date.now()-a.head.create>i&&a.shift()}),o)}}return Object(Yo["a"])(t,[{key:"has",value:function(t){var e=this.keymap[t];return!!e}},{key:"get",value:function(t,e){var i=this.keymap[t];return i?(i.create=Date.now(),i===this.tail||(i.newer&&(i.newer.older=i.older,i===this.head&&(this.head=i.newer)),i.older&&(i.older.newer=i.newer),i.newer=void 0,i.older=this.tail,this.tail&&(this.tail.newer=i),this.tail=i),e?i:i.value):i}},{key:"put",value:function(t,e){var i=this.get(t,!0);i||(i={key:t},this.tail?(this.tail.newer=i,i.older=this.tail):this.head=i,this.tail=i,this.keymap[t]=i,this.size++),i.create=Date.now(),i.value=e,this.size>this.capacity&&this.shift()}},{key:"shift",value:function(){var t=this.head;t&&(this.head=t.newer,this.head&&(this.head.older=void 0),delete this.keymap[t.key],this.size--)}}]),t}(),Zo=Xo,tn=(i("db1c"),i("bcdd")),en={data:function(){return{visible:!1,datas:{},composerdata:{},weibodata:{},tabs:[{name:"热门评论"},{name:"相关视频"}],tabIndex:0,type:"",showReplyList:!1,replyTitle:"",fetchContent:!1,curMid:"",commentsCount:0,relatedVideo:[],relatedVideoExist:new Set,player:null,updateVideo:!1,relatedContent:{},currentRelatedVideo:0,nextVideoInfo:{},videoListLoading:!1,autoPlayCheck:this.recomAutoplay,defaultMid:"",fired:!1,hadBack:!1,needPlayer:!1,subType:"",flowIndex:0,routerPaths:oo,recomParams:{},pageParams:{},scene:"feed",recomType:"common",pagetype:"viewer",specificTime:!1,showRewardBtn:!1,rewardBtnInfo:{},showRewardModal:!1,mixVideoOid:"",outerPlayer:null}},computed:Object(a["a"])(Object(a["a"])({},Object(r["c"])(["composerCallback","recomAutoplay","videoInstance","config","profileId","miniComposerIsNull"])),{},{current:function(){return 0===this.currentRelatedVideo?this.currentRelatedVideo:this.currentRelatedVideo-1},customLikeIcon:function(){var t,e;return null===(t=this.weibodata)||void 0===t||null===(e=t.customIcons)||void 0===e?void 0:e.find((function(t){return"like"===t.type}))},uicode:function(){return"video"===this.type?"20000396":"image"===this.type?"20000397":""}}),watch:{weibodata:{handler:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(e).length>0&&(this.composerdata=Object(a["a"])(Object(a["a"])({},e),{},{status:"mini",action:"create",storge:"miniComposer",onhead:!1}),this.showReplyList=!1,1===(null===e||void 0===e||null===(t=e.rewardInfo)||void 0===t?void 0:t.state)?(this.showRewardBtn=!0,this.rewardBtnLog("visit")):this.showRewardBtn=!1,e.rewardInfo?this.rewardBtnInfo=Object(a["a"])(Object(a["a"])({},e.rewardInfo),{},{log:{uicode:this.uicode}}):this.checkReward())},deep:!0},autoPlayCheck:function(t){this.handleChange(t)},recomAutoplay:{handler:function(t){this.autoPlayCheck=t},immediate:!0},$route:function(t,e){var i=this,o=t.fullPath.match(/(\?|\&)layerid/),n=t.fullPath.match(/(\?|\&)uid/);if(o||n){if(o){this.hadBack=!1;var s=t.fullPath.match(/layerid=(\d*)/g),r=s[0].replace("layerid=",""),l=this.cache.get(r)||{};Object.keys(l).length?("video"===l.type&&(l.needPlayer=!0,this.needPlayer=!0,this.visible=!0),this.handleShowViewer(l,!1)):window.history.replaceState({},"",window.location.search.replace(/&?layerid=(\d*)/g,""))}else if(n){this.hadBack=!1;var c=t.fullPath.match(/uid=(\d*)/g),u=c[0].replace("uid=",""),d=this.photoCache.get(u)||{};Object.keys(d).length?(this.visible=!0,this.handleShowViewer(d,!1)):window.history.replaceState({},"",window.location.search.replace(/(&?uid=(\d*))|(&?index=(\d*))/g,""))}}else if(e){if(e.fullPath.indexOf("layerid")>-1||!this.subType){var h=e.fullPath.match(/layerid=(\d*)/g);if(h&&h[0]){var p=h[0].replace("layerid=","");this.cache.put(p,this.datas)}else this.cache.put(this.defaultMid,this.datas);this.hadBack||this.beforeClose()}else if(e.fullPath.indexOf("uid")>-1||"imageFlow"===this.subType){var f=e.fullPath.match(/uid=(\d*)/g);if(f&&f[0]){var m=f[0].replace("uid=",""),v=e.fullPath.match(/index=(\d*)/g)&&e.fullPath.match(/index=(\d*)/g)[0].replace("index=","");this.photoCache.put(m,Object(a["a"])(Object(a["a"])({},this.datas),{},{data:Object(a["a"])(Object(a["a"])({},this.datas.data),{},{index:v})}))}else this.photoCache.put(this.profileId,Object(a["a"])(Object(a["a"])({},this.datas),{},{data:Object(a["a"])(Object(a["a"])({},this.datas.data),{},{index:this.flowIndex})}));this.hadBack||(this.beforeClose(),this.$nextTick((function(){i.hadBack=!1})))}window.removeEventListener("popstate",this.eventHandle),this.$nextTick((function(){i.hadBack=!1}))}}},methods:Object(a["a"])(Object(a["a"])({},Object(r["b"])(["updateRecomAutoplay"])),{},{composerChangeWeibo:function(t){for(var e=0,i=Object.entries(t);e<i.length;e++){var a=Object(c["a"])(i[e],2),o=a[0],n=a[1];this.$set(this.weibodata,o,n)}},closeViewer:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1?arguments[1]:void 0,a=function(){i&&"function"===typeof i&&i(),t.$Bus.$emit("hideModalComposer"),e&&t.cache.put(t.defaultMid,t.datas),window.history.back()};this.miniComposerIsNull?a():this.$_w_dialog({type:"confirm",message:"评论或转发内容尚未提交，确定退出吗？",btnCancel:"留在这里",btnConfirm:"退出",action:function(){a()}})},routerToggle:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2?arguments[2]:void 0;if("page"===t&&i){var n=window.location.search,s=n;n.indexOf("layerid")>-1&&(n=n.replace(/&?layerid=(\d)*/,"")),"imageFlow"===o?s?s.indexOf("uid")>-1?s=s.replace(/uid=(\d)*/,"uid=".concat(this.profileId)):s+="&uid=".concat(this.profileId,"&index=").concat(this.datas.data.index):s="?uid=".concat(this.profileId,"&index=").concat(this.datas.data.index):s?s.indexOf("layerid")>-1?s=s.replace(/layerid=(\d)*/,"layerid=".concat(i)):s+="&layerid=".concat(i):s="?layerid=".concat(i),window.location.search.match("layerid")&&s.match("layerid")?window.history.replaceState({},"",s):window.history.pushState({},"",s),this.eventHandle=function(){window.history.replaceState({},"",n),"imageFlow"!==e.subType?e.cache.put(i,Object(a["a"])({},e.datas)):e.photoCache.put(e.profileId,Object(a["a"])(Object(a["a"])({},e.datas),{},{data:Object(a["a"])(Object(a["a"])({},e.datas.data),{},{index:e.flowIndex})})),e.hadBack||e.beforeClose(),window.removeEventListener("popstate",e.eventHandle)},window.addEventListener("popstate",this.eventHandle)}else window.removeEventListener("hashchange",this.hashHandle),window.location.href.indexOf("#&viewer")>-1?window.history.replaceState({},"","#&viewer"):window.history.pushState({},"","#&viewer"),window.addEventListener("hashchange",this.hashHandle)},hashHandle:function(t){t&&t.oldURL.indexOf("#&viewer")>-1&&this.beforeClose()},updateWeibodata:function(t,e,i){var o=this,n=t.mid;if(this.subType&&n){this.flowIndex=i||0;var s=window.location.search.replace(/index=(\d*)/,"index=".concat(this.flowIndex));window.history.replaceState({},"",s)}this.fetchContent&&n!==this.curMid&&(this.curMid=n,this.fetchWeibodata(this.curMid,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.idstr===o.curMid&&(o.composerdata=Object(a["a"])(Object(a["a"])({},t),{},{status:"mini",action:"create",storge:"miniComposer",onhead:!1}),o.weibodata=Object(a["a"])({},t),o.relatedContent=o.weibodata,o.defaultMid=o.weibodata.idstr,e&&o.routerToggle("page",o.weibodata.idstr,o.subType))})))},switchScroll:function(t){t?(document.documentElement.style.overflow="hidden",document.documentElement.style.marginRight=this.getScrollBarWidth()+"px"):(document.documentElement.style.overflow="auto",document.documentElement.style.marginRight="")},getScrollBarWidth:function(){var t=document.createElement("p"),e={width:"100px",height:"100px",overflowY:"scroll"};Object.keys(e).forEach((function(i){t.style[i]=e[i]})),document.body.appendChild(t);var i=t.offsetWidth-t.clientWidth;return t.remove(),i},handleCloseEvent:function(){this.closeViewer(!0)},resetData:function(){var t=this;this.player=null,this.visible=!1,this.composerdata={},this.weibodata={},this.tabIndex=0,this.type="",this.fetchContent=!1,this.updateVideo=!1,this.relatedContent={},this.currentRelatedVideo=0,this.relatedVideo=[],this.relatedVideoExist=new Set,this.nextVideoInfo={},this.fired=!0,this.hadBack=!0,this.needPlayer=!1,this.subType="",this.switchScroll(),this.curMid="",this.scene="feed",this.recomType="common",this.recomParams={},this.pageParams={},this.$nextTick((function(){t.fired=!1,t.datas={},t.hadBack=!1}))},beforeClose:function(){this.resetData(),this.$Bus.$emit("closeViewer")},handleShowViewer:function(t){var e=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.switchScroll(!0),this.datas=t,this.type=t.type,this.specificTime=t.specificTime,this.subType=t.subType,this.needPlayer=t.needPlayer,this.recomParams=t.recomParams||{},this.scene=t.scene||"scene",this.recomType=t.recomType||"common",this.recomScene=t.recomScene||"all","video"===this.type&&(this.tabIndex=1),this.subType&&(this.flowIndex=t.data.index),this.visible=!0,this.fetchContent=t.fetchContent,this.fetchContent)this.updateWeibodata(t.data.pics[t.data.index],i,t.data.index);else if(t.data&&t.data.content){var o,n,s,r,l,c;if(this.composerdata=Object(a["a"])(Object(a["a"])({},t.data.content),{},{status:"mini",action:"create",storge:"miniComposer",onhead:!1}),this.weibodata=Object(a["a"])({},t.data.content),(null===(o=this.weibodata)||void 0===o||null===(n=o.page_info)||void 0===n||null===(s=n.media_info)||void 0===s?void 0:s.cooperate_video)&&(null===(r=this.weibodata)||void 0===r||null===(l=r.page_info)||void 0===l||null===(c=l.media_info)||void 0===c?void 0:c.cooperate_video_status)&&this.$http.get("/ajax/multimedia/getCocreateUserList",{params:{mid:this.weibodata.id}}).then((function(i){i.data.ok>0&&(e.$set(e.weibodata,"cocreate",i.data.list),t.data.content.cocreate=e.weibodata.cocreate)})),this.relatedContent=this.weibodata,"video"===this.type&&this.weibodata.idstr&&this.fetchRelatedVideo("first",this.weibodata.idstr),this.defaultMid=this.weibodata.idstr,this.mixVideoOid=t.data.mixVideoOid,this.outerPlayer=null,this.mixVideoOid){var u=this.datas.ext;this.outerPlayer=null===u||void 0===u?void 0:u.player}i&&this.routerToggle("page",this.weibodata.idstr,this.subType)}else this.routerToggle("page","",this.subType)},clickRcl:function(t){this.composerdata=Object(a["a"])(Object(a["a"])({},t.data.data),{},{status:"mini",storge:"miniComposer",onhead:!1}),this.$refs.mainComposer.$refs.miniComposer.$refs.form.onhead()},clickGroup:function(t){this.tabIndex=t},updateShowReplyList:function(t){var e=this;t&&(setTimeout((function(){e.$refs.replyEle.scrollIntoView({block:"start",behavior:"smooth"})}),500),this.showReplyList=t)},updateCommentsCount:function(t){this.$Bus.$emit("syncValueInList",{id:this.weibodata.idstr,value:[{name:"comments_count",val:t}]})},updateReplyTotal:function(t){this.replyTitle="".concat(t,"条回复")},goBack:function(){this.showReplyList=!1},fetchWeibodata:function(t,e){this.$http.get("/ajax/statuses/show",{params:{id:t,locale:Object(ki["a"])()}}).then((function(t){e(t.data)}))},formatData:function(t){var e=this,i=[];return t.map((function(t){var a,o,n,s,r,l,c;if(null===t||void 0===t||null===(a=t.mix_media_info)||void 0===a||null===(o=a.items)||void 0===o?void 0:o.length){var u,d=t.mix_media_info.items.find((function(t){return t.id===e.mixVideoOid}));if(null===d||void 0===d||null===(u=d.data)||void 0===u?void 0:u.media_info){var h,p,f=d.data.media_info;i.push({id:t.idstr,content:t,cover_image:d.data.page_pic,title:f.titles&&f.titles.length&&f.titles[0].title||f.next_title||t.text_raw||t.text,nickname:f.author_name||t.user&&t.user.screen_name,play_count:f.online_users,duration:e.sec2time(f.duration),isVPlus:null===(h=t.page_info)||void 0===h||null===(p=h.page_id)||void 0===p?void 0:p.startsWith("231418")})}}var m=null===t||void 0===t?void 0:t.page_info;if((null===(n=m)||void 0===n||null===(s=n.cards)||void 0===s?void 0:s.length)&&"video"===(null===(r=m)||void 0===r?void 0:r.object_type)&&!(null===(l=m)||void 0===l?void 0:l.media_info)&&(m=m.cards[0]),null===(c=m)||void 0===c?void 0:c.media_info){var v,_,g=m.media_info;i.push({id:t.idstr,content:t,cover_image:m.page_pic,title:g.titles&&g.titles.length&&g.titles[0].title||g.next_title||t.text_raw||t.text,nickname:g.author_name||t.user&&t.user.screen_name,play_count:g.online_users,duration:e.sec2time(g.duration),isVPlus:null===(v=m)||void 0===v||null===(_=v.page_id)||void 0===_?void 0:_.startsWith("231418")})}if(t.page_info&&t.page_info.slide_cover&&t.page_info.slide_cover.slide_videos){var b,y,w=t.page_info.slide_cover.slide_videos.length&&t.page_info.slide_cover.slide_videos[0];i.push({id:t.idstr,content:t,cover_image:t.page_info.page_pic,title:t.text_raw||t.text,nickname:t.user.screen_name,play_count:w.online_users||"",duration:e.sec2time(w.duration)||0,isVPlus:null===(b=t.page_info)||void 0===b||null===(y=b.page_id)||void 0===y?void 0:y.startsWith("231418")})}})),i},fetchRelatedVideo:function(t,e){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{page:1},n=arguments.length>3?arguments[3]:void 0;this.videoListLoading=!0;var s,r,l=[];switch(this.recomType){case"common":s="/ajax/multimedia/relatedVideoList",r=Object(a["a"])({scene:"feed",mid:e,page:1},o);break;case"profile_video":s="/ajax/profile/videoalbumdetail",r=Object(a["a"])(Object(a["a"])({},this.recomParams),o);break;case"profile_mini_video":s="/ajax/profile/gettinyvideo",r=Object(a["a"])(Object(a["a"])({},this.recomParams),o);break;case"profile_new_video":var c={like:"/ajax/profile/getLikeList",all:"/ajax/profile/getWaterFallContent",collection:"/ajax/profile/getCollectionList"};s=c[this.recomScene],r=Object(a["a"])(Object(a["a"])(Object(a["a"])({},this.$route.query),this.recomParams),o),l=this.recomParams.list||[],delete this.recomParams.list;break}var u=function(e){var a=e.list,o=e.next_cursor;0!==i.relatedVideo.length||i.relatedVideoExist.has(i.weibodata.id)||"profile_video"!==i.recomType&&"profile_new_video"!==i.recomType&&(i.relatedVideo.push(i.formatData([i.weibodata])[0]),i.relatedVideoExist.add(i.weibodata.id));var s=i.formatData(a);if(0===s.length)return i.videoListLoading=!1,n?void n("noData"):void 0;if(s.forEach((function(t){i.relatedVideoExist.has(t.id)||(i.relatedVideo.push(t),i.relatedVideoExist.add(t.id))})),"first"===t){var r=i.datas.ext;if(i.relatedVideo.length>1){var l=1;0!==i.currentRelatedVideo&&i.weibodata.idstr===i.relatedVideo[0].id&&(l+=1,i.currentRelatedVideo=1);var c=i.relatedVideo.findIndex((function(t){return(t&&t.id)===i.weibodata.idstr}));c>-1&&(i.currentRelatedVideo=c+1,l=i.currentRelatedVideo);var u=i.relatedVideo[l];if(r){var d=r.player;r.nextVideo;if(i.player=d,i.recomAutoplay){i.player.addChild("nextVideo",{cover:u.cover_image,text:Object(Ii["a"])(u.title),screen_name:Object(Ii["a"])(u.nickname),playCount:u.play_count,duration:u.duration,countDownTime:5,show:!0});var h=i,p=function(){var t=function(){i.$Bus.$emit("hideModalComposer"),h.updateVideo=!0,h.relatedContent=u.content,h.currentRelatedVideo=l+1,h.weibodata=u.content;var t=h.relatedVideo[h.currentRelatedVideo];h.nextVideoInfo=t,h.$nextTick((function(){h.videoInstance&&(h.player.pause(),h.videoInstance.style.display="none")}))};i.miniComposerIsNull?t():i.$_w_dialog({type:"confirm",message:"评论或转发内容尚未提交，确定播放下一个视频吗？",btnCancel:"留在这里",btnConfirm:"播放下一个",action:function(){t()}})};i.player.on("next-video-click",p),i.player.on("next-video-count-down",p),i.player.on("next-video-close",i.nextVideoCloseHandle),i.$once("hook:beforDestroy",(function(){i.player&&(i.player.off("next-video-click",p),i.player.off("next-video-count-down",p),i.player.off("next-video-close",i.nextVideoCloseHandle))}))}}else i.needPlayer&&(i.nextVideoInfo=u)}}if(i.pageParams=o?{cursor:o}:{page:i.pageParams.page+1},o&&-1===+o)return i.videoListLoading=!1,void(n&&n("noData"));n&&n("more")};l.length?u({list:l,next_cursor:r.next_cursor}):(this.pageParams=o,this.$http.get(s,{params:r}).then((function(t){t.data.ok>0&&u(t.data.data)})))},nextVideoCloseHandle:function(){this.updateRecomAutoplay(!1)},handleNextVideo:function(){var t=this,e=this.relatedVideo[this.currentRelatedVideo].content;e.idstr===this.weibodata.idstr&&(this.currentRelatedVideo+=1),this.relatedContent=this.relatedVideo[this.currentRelatedVideo].content,this.currentRelatedVideo+=1,this.updateVideo=!1,this.weibodata=this.relatedContent,this.$nextTick((function(){t.updateVideo=!0,t.nextVideoInfo=t.relatedVideo[t.currentRelatedVideo]}))},handleChange:function(t){this.player&&this.player.trigger("next-video-switch",!!t)},handleVideoChange:function(t){var e=this;this.current!==t&&(this.$nextTick((function(){e.videoInstance&&(e.player.pause(),e.videoInstance.style.display="none")})),this.currentRelatedVideo=t,this.handleNextVideo())},sec2time:function(t){var e=function(t,e){return("000"+t).slice(-1*e)},i=parseFloat(t).toFixed(3),a=Math.floor(i/60)%60,o=Math.floor(i-60*a);return e(a,2)+":"+e(o,2)},feedRetweet:function(t){t.id&&this.$Bus.$emit("showModalComposer",{title:"转发微博",data:{action:"repost",id:t.id,onhead:!1,lockScreen:!1,composerTextCount:!0}})},feedComment:function(t){this.tabIndex=0,t.id&&(this.composerdata={id:t.id,status:"mini",storge:"miniComposer",onhead:!1},this.$refs.mainComposer.$refs.miniComposer.$refs.form.onhead())},handleEnterMiniPlayer:function(t){this.closeViewer(!1,t)},checkReward:function(){var t=this;this.$http.get("/ajax/statuses/checkReward",{params:{mid:this.weibodata.mid,uid:this.weibodata.user.id,reward_scheme:{bid:"video"===this.type?"1000303201":"1000293251"},type:"pc"}}).then((function(e){if(e.data&&e.data.ok>0&&e.data.data){var i,o=e.data.data;t.rewardBtnInfo=Object(a["a"])(Object(a["a"])({},o),{},{log:{uicode:t.uicode}}),1===(null===(i=t.rewardBtnInfo)||void 0===i?void 0:i.state)?(t.showRewardBtn=!0,t.rewardBtnLog("visit")):t.showRewardBtn=!1}}))},handleRewardModal:function(){this.rewardBtnLog("click"),this.showRewardModal=!0,this.player&&this.player.pause()},handleClose:function(){this.showRewardModal=!1,this.player&&this.player.play()},rewardBtnLog:function(t){var e,i;this.actionLog({uicode:this.uicode,act_code:"visit"===t?"7161":"click"===t?"7162":"",ext:"vuid:".concat(null===(e=this.weibodata)||void 0===e||null===(i=e.user)||void 0===i?void 0:i.id)})},switchType:function(t,e){this.type=t,"video"===t&&e&&this.weibodata.idstr?(this.mixVideoOid=e,this.tabIndex=1,0===this.relatedVideo.length&&e&&this.fetchRelatedVideo("first",this.weibodata.idstr)):"image"===this.type&&(this.tabIndex=0)}}),components:{Frame:fo,Viewer:No,VideoList:Jo,Feed:oi["a"],RewardModal:tn["b"]},created:function(){this.cache=new Zo(100,0),this.photoCache=new Zo(100,0),this.$Bus.$on("showViewer",this.handleShowViewer)},mounted:function(){this.$Bus.$on("enterMiniPlayer",this.handleEnterMiniPlayer),this.$Bus.$on("closeViewerManual",this.closeViewer)},beforeDestroy:function(){this.$Bus.$off("showViewer",this.handleShowViewer),this.$Bus.$off("enterMiniPlayer",this.handleEnterMiniPlayer),this.$Bus.$off("closeViewerManual",this.closeViewer)}},an=en,on=i("5f2d");function nn(t){this["$style"]=on["default"].locals||on["default"]}var sn=Object(P["a"])(an,Mt,Ft,!1,nn,null,null),rn=sn.exports,ln=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("woo-modal",{attrs:{animation:"fade",stay:t.center}},[i("div",{class:t.$style.box},[i("div",{class:t.$style.h2},[t._v("欢迎使用全新版微博")]),i("ul",{class:t.$style.ul},[i("li",[t._v("去除页面繁冗信息，提升信息流阅读感受；")]),i("li",[t._v("增加全新深色模式，可随时切换；")]),i("li",[t._v("视频直播增加小窗播放功能，边刷微博边看视频；")])]),i("div",{class:t.$style.btnbox,on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.openNew(e)}}},[i("woo-button",{class:t.$style.btn,attrs:{sort:"flat",kind:"primary",fluid:"",size:"l"}},[t._v(" 开启全新之旅 ")])],1)])]):t._e()},cn=[],un={name:"Layer",data:function(){return{show:!1}},mounted:function(){var t=this;this.$Bus.$on("showModalGuideLayer",this.showModalGuideLayerHandle),this.$once("hook:beforeDestroy",(function(){t.$Bus.$off("showModalGuideLayer",t.showModalGuideLayerHandle)}))},methods:{showModalGuideLayerHandle:function(){this.show=!0},openNew:function(){this.saveFirstIn()},saveFirstIn:function(){var t=this;this.$http.get("/ajax/savefirstin").then((function(e){var i=e.data;i.ok>0&&i.data&&i.data.result&&(t.show=!1,t.$Bus.$emit("showDarkBubble"))}))}}},dn=un,hn=i("d510");function pn(t){this["$style"]=hn["default"].locals||hn["default"]}var fn=Object(P["a"])(dn,ln,cn,!1,pn,null,null),mn=fn.exports,vn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("GroupModal",{attrs:{visible:t.modalVisible,type:t.modelType,newSelected:t.selected,newGroup:t.defaultGroup},on:{"update:visible":function(e){t.modalVisible=e},"after-set-group":t.onAfterSetGroup}})},_n=[],gn=i("d4dd"),bn={setup:function(){var t=Object(x["d"])().proxy,e=Object(x["n"])("edit"),i=Object(x["n"])(!1),a=Object(x["n"])([]),o=Object(x["n"])([]),n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"edit",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];i.value=!i.value,e.value=t,a.value=n,o.value=s},s=function(){a.value=[],o.value=[]};return Object(x["k"])((function(){t.$Bus.$on("showEditGroup",n)})),Object(x["i"])((function(){t.$Bus.$off("showEditGroup",n)})),{modalVisible:i,modelType:e,selected:a,onAfterSetGroup:s,defaultGroup:o}},components:{GroupModal:gn["a"]}},yn=bn,wn=i("3fd0");function xn(t){this["$style"]=wn["default"].locals||wn["default"]}var kn=Object(P["a"])(yn,vn,_n,!1,xn,null,null),$n=kn.exports,Cn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],ref:"wrapRef",staticClass:"mini-player",class:t.$style.miniPlayer,style:t.miniPlayerStyle,on:{mousedown:t.handleMouseDown}},[i("video",{ref:"videoRef",staticClass:"wbp-video",class:t.$style.videoElm})])},On=[],jn=i("53ca"),Tn=i("8d7e"),Dn=i("20f3"),Sn=i("b047"),In=i.n(Sn),Ln=60,Bn={props:{src:{type:String,default:""}},setup:function(t){var e=null,i="",o={},n=!1,s={},r={x:0,y:0},l=Object(x["m"])({x:0,y:0}),c=Object(x["n"])(null),u=Object(x["n"])(null),d=Object(x["d"])().proxy,h=Object(x["n"])(!1),p=Object(x["a"])((function(){return{transform:"translate(".concat(l.x,"px, ").concat(l.y,"px)")}})),f=Object(Tn["a"])(["updateMiniPlayerActive","updateMiniPlayerStatus","setRemainTime"]),m=f.updateMiniPlayerActive,v=f.updateMiniPlayerStatus,_=f.setRemainTime,g=function(t){n=!0;var e=t.clientX,i=t.clientY,a=l.x,o=l.y;document.onmousemove=function(t){n&&(l.x=t.clientX-e+a,l.y=t.clientY-i+o,l.x+r.x<0&&(l.x=-r.x),l.x+r.x+r.width>window.innerWidth&&(l.x=window.innerWidth-r.width-r.x),l.y+r.y<Ln&&(l.y=Ln-r.y),l.y+r.y+r.height>window.innerHeight&&(l.y=window.innerHeight-r.height-r.y))},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,n=!1}},b=function(t){var a,n=t.currentTime,r=t.src,l=t.type,c=t.playStatus,u=t.title,d=t.mblogid,p=t.content,f=t.mixVideoInfo,_=void 0===f?{}:f,g=t.thumbnail,b=void 0===g?"":g;(m(!0),v({mblogid:d,currentTime:e.currentTime(),playStatus:!e.paused(),open:!0,mixVideoInfo:_}),h.value=!0,i=d,o=p,s=_,e)&&(e.src({src:r,type:l}),e.getChild("miniPlayerTitle").setTitle(u),null===(a=e.getChild("miniPlayerPodcast"))||void 0===a||a.setPodcast(b),e.ready((function(){window.$isSafari?e.one("loadedmetadata",(function(){e.currentTime(n)})):e.currentTime(n),c?(e.hasClass("wbpv-paused")&&(e.removeClass("wbpv-paused"),e.addClass("wbpv-playing")),e.play()):(e.hasClass("wbpv-playing")&&(e.removeClass("wbpv-playing"),e.addClass("wbpv-paused")),e.pause())})))},y=function(t){var a=Object(jn["a"])(t);"object"!==a&&"undefined"!==a||(t=!e.paused()),h.value=!1,m(!1),v({mblogid:i,currentTime:e.currentTime(),playStatus:t,open:!1}),e.pause()},w=In()((function(){var t=window.getComputedStyle(u.value);r.width=parseInt(t.width.replace("px","")),r.height=parseInt(t.height.replace("px","")),r.x=window.innerWidth-r.width-parseInt(t.right.replace("px","")),r.y=window.innerHeight-r.height-parseInt(t.bottom.replace("px",""))}),500),k=In()((function(){var t=e&&e.volume().toFixed(2)||.5;localStorage.setItem("V7_PLAYER_VOLUME",t)}),500),$=function(){if(e){var t=localStorage.getItem("V7_PLAYER_VOLUME")||.5;e.volume(t),e.on("volumechange",k)}},C=function(){var t=d.$route,n=(t.name,t.query);_({id:i,time:e.currentTime(),playing:!e.paused(),scene:"miniplayer"}),y(!1),n.layerid&&d.$Bus.$emit("closeViewerManual"),Object(x["f"])((function(){d.$Bus.$emit("showViewer",{type:"video",data:Object(a["a"])({content:o},s||{}),needPlayer:!0}),o={},s={}}))};return Object(x["k"])((function(){w(),window.addEventListener("resize",w),e=Object(Dn["a"])(c.value,{controls:!0,controlBar:{children:["progressControl"],miniPlayerTimeDisplay:{children:["currentTimeDisplay","timeDivider","durationDisplay"]}},miniPlayerTitle:!0,miniPlayerPodcast:!0,bigPlayButton:!1,miniPlayerControl:!0,address:!1,contextMenu:!1,volumeToast:!0}),e.one("loadstart",$),e.on("click-close-button",y),e.on("click-back-button",C),e.hotkeys&&e.hotkeys({alwaysCaptureHotkeys:!0,volumeStep:.1,seekStep:10,enableModifiersForNumbers:!1}),d.$Bus.$on("activate-miniplayer",b)})),Object(x["i"])((function(){window.removeEventListener("resize",w),e.off("click-close-button",y),e.off("volumechange",k),e&&e.dispose&&e.dispose(),e=null,d.$Bus.$off("activate-miniplayer",b)})),{miniPlayerStyle:p,videoRef:c,wrapRef:u,handleMouseDown:g,show:h}}},Pn=Bn,An=i("28f7");function En(t){this["$style"]=An["default"].locals||An["default"]}var Mn=Object(P["a"])(Pn,Cn,On,!1,En,null,null),Fn=Mn.exports,Rn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("woo-modal",{attrs:{"lock-screen":""},on:{close:t.close}},[i("div",{class:t.$style.wrap},[i("woo-box",{class:t.$style.close,attrs:{align:"center",justify:"end"}},[i("button",{class:[t.$style.btn,t.$style.btn1],on:{click:function(e){t.show=!1}}},[i("woo-fonticon",{attrs:{value:"cross"}})],1)]),i("woo-box",{class:t.$style.main,attrs:{align:"center",justify:"center"}},[i("woo-box-item",[i("woo-box",{attrs:{direction:"y",align:"center"}},[i("div",{class:t.$style.t1},[t._v("请选择如下方式登录微博")]),i("div",{class:t.$style.t2},[t._v(" 打开 微博手机APP - 我的 - 扫一扫 ")]),i("woo-box",{class:t.$style.crbox,attrs:{align:"center",justify:"between"}},[i("div",{class:t.$style.mabox},[i("img",{attrs:{src:t.qrcodeImg,alt:""}}),t.qrcodeTips.msg?i("woo-box",{class:t.$style.tip,attrs:{align:"center",justify:"center"}},[t.qrcodeTips.msg?i("woo-tip",{attrs:{type:t.qrcodeTips.type,sort:"vertical"}},[i("div",{class:t.$style.t1},[t._v(t._s(t.qrcodeTips.msg))]),t.qrcodeTips.btnText?i("a",{class:t.$style.t1,attrs:{href:"javascript:;"},on:{click:function(e){return e.preventDefault(),t.getQRcode()}}},[t._v(t._s(t.qrcodeTips.btnText))]):t._e()]):t._e()],1):t._e()],1),i("div",{class:t.$style.mabg})]),i("div",{class:t.$style.t3},[t._v(" 其他方式登录： ")]),i("woo-box",{class:[t.$style.t2,t.$style.text]},[i("a",{attrs:{target:"_blank",href:"//weibo.com/login.php"}},[t._v("账号登录")]),i("a",{attrs:{target:"_blank",href:"//weibo.com/login.php"}},[t._v("短信登录")])])],1)],1)],1)],1)]):t._e()},Vn=[],Nn=null,Hn=850,zn=600,Un=(window.innerWidth-Hn)/2,Gn=(window.innerHeight-zn)/2,qn="https://passport.weibo.com/sso/signin?entry=miniblog&source=miniblog&disp=popup",Wn=function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(e,i){try{if(t||(t=window.location.href),Nn=window.open("".concat(qn,"&url=").concat(encodeURIComponent(t)),"_blank","popup=true,width=".concat(Hn,",height=").concat(zn,",left=").concat(Un,",top=").concat(Gn,"px,location=no")),Nn){var a=function t(i){window.removeEventListener("message",t);var a="https://passport.weibo.com";i.origin===a&&e(i.data)};window.addEventListener("message",a)}else i("弹窗未弹出")}catch(o){i(o)}}))},Qn={props:["value"],setup:function(t,e){var i=e.root,a=e.emit,o=Object(x["p"])(t),n=o.value,s=Object(x["n"])(!1),r=Object(x["n"])(""),l=Object(x["n"])({type:"",msg:""}),c=null,d=function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(window.$CONFIG.enablePopLogin){t.next=3;break}return s.value=!0,t.abrupt("return");case 3:Wn().then((function(){window.location.reload()})).catch((function(){window.location.href="https://passport.weibo.com/sso/signin?entry=miniblog&source=miniblog"}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(x["k"])((function(){c=window.SINA_QRCODE_LOGIN,i.$Bus.$on("loginPop",d),i.$once("hook:beforeDestroy",(function(){i.$Bus.$off("loginPop",d)})),n.value&&(s.value=n.value),window.addEventListener("keydown",p)})),Object(x["s"])(n,(function(t){s.value=t})),Object(x["s"])(s,(function(t){a("input",t),t?(m(),v(),g()):_()}));var h=function(){s.value=!1},p=function(t){27!==t.keyCode&&27!==t.which||(s.value=!1)},f=function(){c||(c=window.SINA_QRCODE_LOGIN)},m=function(){f(),c&&c.set({entry:"miniblog",domain:"weibo.com"})},v=function(){l.value.msg&&(l.value.msg=""),f(),c?c.getQRcode((function(t){"20000000"==t.retcode?(r.value=t.data.image,c.start()):l.value={type:"error",msg:"出错了",btnText:"点击刷新"}})):l.value={type:"error",msg:"出错了",btnText:"点击刷新"}},_=function(){f(),c&&c.cancel()},g=function(){if(f(),c){c.register("qrcode_scanned",(function(t){l.value={type:"success",msg:"扫描成功"}})),c.register("qrcode_used",(function(t){v()})),c.register("qrcode_timeout",(function(t){l.value={type:"error",msg:"二维码已失效",btnText:"点击刷新"}})),c.register("qrcode_exception",(function(t){v()})),c.register("login_success",(function(t){window.location.replace(t)})),c.register("login_failure",(function(e){if("4069"==e.retcode){var i=e.msg.split("|");2==i.length&&i[1]?window.location.href=i[1]:v()}else{var a=t(e.retcode);l.value={type:"error",msg:a,btnText:"点击刷新"}}}));var t=function(t){var e="";switch(t){case"-1":case"-2":e="抱歉，系统开小差了";break;case"50114013":e="请稍后重试，或使用客户端登录微博（-100）";break;case"50114014":e="请稍后重试，或使用客户端登录微博（-101）";break;case"50114015":e="请稍后重试，或使用客户端登录微博（-102）";break;case"50114018":e="网络超时";break;default:e="登录失败("+t+")";break}return e}}};return{show:s,close:h,qrcodeImg:r,qrcodeTips:l,getQRcode:v}}},Jn=Qn,Kn=i("ca21");function Yn(t){this["$style"]=Kn["default"].locals||Kn["default"]}var Xn=Object(P["a"])(Jn,Rn,Vn,!1,Yn,null,null),Zn=Xn.exports,ts=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-modal",{directives:[{name:"show",rawName:"v-show",value:t.visable,expression:"visable"}],staticStyle:{"z-index":"900"},on:{close:t.close}},[i("woo-box",{class:[t.$style.layer,t.isScale&&t.$style.scale]},[i("div",{class:t.$style.lbox},[i("div",{class:t.$style.vdbox},[i("CommonPlayer",{class:t.$style.player,attrs:{options:t.playerOptions},on:{ready:t.readyHandle}}),i("div",{class:[t.$style.vote,"horizontal"===t.orientation?t.$style.vote1:t.$style.vote2]},[i("div",{class:t.$style.votetit},[t._v(t._s(t.voteForm.content||"问题"))]),i("div",{class:t.$style.voteitem},[t._v(" "+t._s(t.voteForm.optionContent1||"选项1")+" ")]),i("div",{class:t.$style.voteitem},[t._v(" "+t._s(t.voteForm.optionContent2||"选项2")+" ")])])],1),t.visable?i("VideoController",t._b({attrs:{disableVote:t.isAddVote},on:{"vote-time":t.onVoteTime,"current-time":t.onCurrentTime,"add-vote":t.addVote,stop:t.videoStop,videoPlay:t.videoPlay}},"VideoController",t.controller,!1)):t._e()],1),i("div",{class:t.$style.rbox},[i("woo-box",{class:t.$style.tit,attrs:{align:"center",justify:"between"}},[i("div",[t._v("视频投票")]),i("woo-fonticon",{class:t.$style.close,attrs:{value:"cross"},nativeOn:{click:function(e){return t.close(e)}}})],1),i("woo-divider",{attrs:{"border-color":"var(--w-card-border)"}}),i("div",{class:[t.$style.iptbox,t.isDisable&&t.$style.iptdis]},[i("div",{class:t.$style.itit},[t._v("问题")]),i("div",{class:t.$style.igap},[i("woo-input",{class:t.$style.ipt1,attrs:{disabled:t.isDisable,"count-limit":"",maxlength:12,placeholder:"请输入投票问题"},nativeOn:{input:function(e){return t.contentChange(e)}},model:{value:t.voteForm.content,callback:function(e){t.$set(t.voteForm,"content",e)},expression:"voteForm.content"}})],1),i("div",{class:t.$style.itit},[t._v("选项")]),i("div",{class:t.$style.igap},[i("woo-input",{class:t.$style.ipt1,attrs:{disabled:t.isDisable,"count-limit":"",maxlength:8,placeholder:"选项1"},nativeOn:{input:function(e){return t.contentChange(e)}},model:{value:t.voteForm.optionContent1,callback:function(e){t.$set(t.voteForm,"optionContent1",e)},expression:"voteForm.optionContent1"}})],1),i("div",{class:t.$style.igap},[i("woo-input",{class:t.$style.ipt1,attrs:{disabled:t.isDisable,"count-limit":"",maxlength:8,placeholder:"选项2"},nativeOn:{input:function(e){return t.contentChange(e)}},model:{value:t.voteForm.optionContent2,callback:function(e){t.$set(t.voteForm,"optionContent2",e)},expression:"voteForm.optionContent2"}})],1),i("div",{class:t.$style.itit},[t._v("出现时间")]),i("woo-box",{class:t.$style.igap,attrs:{align:"center"}},[i("woo-input",{class:[t.$style.ipt2&&t.$style.error],attrs:{disabled:t.isDisable,placeholder:"00"},on:{focus:t.focuHandle},nativeOn:{change:function(e){return t.voteStartTimeChange(e)}},model:{value:t.voteStartTimeArr[0],callback:function(e){t.$set(t.voteStartTimeArr,0,"string"===typeof e?e.trim():e)},expression:"voteStartTimeArr[0]"}}),i("span",{class:t.$style.it1},[t._v(":")]),i("woo-input",{class:[t.$style.ipt2&&t.$style.error],attrs:{disabled:t.isDisable,placeholder:"00"},on:{focus:t.focuHandle},nativeOn:{change:function(e){return t.voteStartTimeChange(e)}},model:{value:t.voteStartTimeArr[1],callback:function(e){t.$set(t.voteStartTimeArr,1,"string"===typeof e?e.trim():e)},expression:"voteStartTimeArr[1]"}}),i("span",{class:t.$style.it1},[t._v(":")]),i("woo-input",{class:[t.$style.ipt2&&t.$style.error],attrs:{disabled:t.isDisable,placeholder:"00"},on:{focus:t.focuHandle},nativeOn:{change:function(e){return t.voteStartTimeChange(e)}},model:{value:t.voteStartTimeArr[2],callback:function(e){t.$set(t.voteStartTimeArr,2,"string"===typeof e?e.trim():e)},expression:"voteStartTimeArr[2]"}})],1),i("div",{class:t.$style.itit},[t._v("投票有效期")]),i("div",{class:t.$style.igap},[i("multiselect",{attrs:{disabled:t.isDisable,options:t.TimeOptions.options,"show-labels":!1,searchable:!1,"custom-label":t.optionLabel},on:{select:t.TimeTypeSelect},model:{value:t.endTimeOption,callback:function(e){t.endTimeOption=e},expression:"endTimeOption"}})],1),i("woo-box",{class:t.$style.igap,attrs:{align:"center"}},[t.TimeOptions&&t.TimeOptions.custom_value?i("TimeSelect",{attrs:{"show-labels":!1,date:t.TimeOptions&&t.TimeOptions.custom_value,disabled:t.TimeOptions.custom_disabled},on:{select:t.CustomTimeSelect}}):t._e()],1),i("woo-box",{class:t.$style.ibtn,attrs:{align:"center",justify:"center"}},[i("woo-button",{attrs:{sort:"flat",kind:"default",disabled:t.isDisable},on:{click:t.formReset}},[t._v("重置")]),i("woo-button",{attrs:{sort:"flat",kind:"primary",disabled:t.doneDisabled},on:{click:t.formSubmit}},[t._v("提交")])],1)],1)],1)])],1)},es=[],is=(i("9129"),i("e607"),i("8e5f")),as=i.n(is),os=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",[i("v-date-picker",{ref:"select1",staticClass:"wbpro-datapicker",class:t.$style.ipt3,attrs:{attributes:t.select1.attributes,"min-date":new Date,"max-date":t.publisher?new Date((new Date).getTime()+6048e5):t.maxDate?t.maxDate:void 0,mode:"single",formats:t.select1.formats,disabled:t.disabled,color:"orange"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.inputValue,o=e.inputEvents;return[i("span",{staticClass:"wbpro-datapicker"},[i("input",t._g({domProps:{value:a}},o))])]}}]),model:{value:t.select1.value,callback:function(e){t.$set(t.select1,"value",e)},expression:"select1.value"}}),i("multiselect",{class:t.$style.ipt4,attrs:{options:t.select2.options,"show-labels":!1,searchable:!1,disabled:t.disabled,"custom-label":t.optionLabel},model:{value:t.select2.value,callback:function(e){t.$set(t.select2,"value",e)},expression:"select2.value"}}),i("multiselect",{class:t.$style.ipt4,attrs:{options:t.select3.options,"show-labels":!1,searchable:!1,disabled:t.disabled,"custom-label":t.optionLabel},model:{value:t.select3.value,callback:function(e){t.$set(t.select3,"value",e)},expression:"select3.value"}})],1)},ns=[],ss={props:{disabled:{type:Boolean,default:!1},date:{type:Number,default:new Date},publisher:{type:Boolean,default:!1},action:{type:String},id:{type:String},maxDate:{}},data:function(){return{select1:{value:new Date,attributes:[{}]},select2:{value:{label:"".concat((new Date).getHours()," 时"),value:(new Date).getHours()},options:new Array(24).join(".").split(".").map((function(t,e){return{label:"".concat(e," 时"),value:e}}))},select3:{value:{label:"".concat((new Date).getMinutes()," 分"),value:(new Date).getMinutes()},options:new Array(60).join(".").split(".").map((function(t,e){return{label:"".concat(e," 分"),value:e}}))}}},components:{Multiselect:as.a},methods:{setDate:function(){var t=new Date(this.date);this.select1.value=t,this.select2.value.value=t.getHours(),this.select2.value.label="".concat(t.getHours()," 时"),this.select3.value.value=t.getMinutes(),this.select3.value.label="".concat(t.getMinutes()," 分")},optionLabel:function(t){var e=t.label;return e},dispatchValue:function(){var t=new Date(this.select1.value),e=new Date((new Date).getTime()+6048e5);if(this.select2.options=new Array(24).join(".").split(".").map((function(t,e){return{label:"".concat(e," 时"),value:e}})),this.select3.options=new Array(60).join(".").split(".").map((function(t,e){return{label:"".concat(e," 分"),value:e}})),this.select1.value.getDate()===(new Date).getDate()){var i="schedule"===this.action&&this.id?new Date:new Date(this.date);this.select2.options=this.select2.options.filter((function(t){return t.value>=i.getHours()})),this.select2.value.value===(new Date).getHours()?this.select3.options=this.select3.options.filter((function(t){return t.value>=i.getMinutes()})):this.select3.options=new Array(60).join(".").split(".").map((function(t,e){return{label:"".concat(e," 分"),value:e}}))}else this.select1.value.getDate()===e.getDate()&&this.publisher&&(this.select2.options=this.select2.options.filter((function(t){return t.value<=e.getHours()})),this.select2.value.value===e.getHours()?this.select3.options=this.select3.options.filter((function(t){return t.value<e.getMinutes()})):this.select3.options=new Array(60).join(".").split(".").map((function(t,e){return{label:"".concat(e," 分"),value:e}})));this.maxDate&&(e=this.maxDate,this.select1.value.getDate()===e.getDate()&&(this.select2.options=this.select2.options.filter((function(t){return t.value<=e.getHours()})),this.select2.value.value===e.getHours()?this.select3.options=this.select3.options.filter((function(t){return t.value<e.getMinutes()})):this.select3.options=new Array(60).join(".").split(".").map((function(t,e){return{label:"".concat(e," 分"),value:e}})))),t.setHours(this.select2.value.value),t.setMinutes(this.select3.value.value),t.setSeconds(0),this.$emit("select",t.getTime())}},watch:{date:function(){this.setDate()},disabled:function(){this.$refs.select1.$children[0].$el.disabled=this.disabled},"select1.value":function(){this.dispatchValue()},"select2.value":function(){this.dispatchValue()},"select3.value":function(){this.dispatchValue()}},mounted:function(){this.dispatchValue(),this.date&&this.setDate(),this.$refs.select1.$children[0].$el.disabled=this.disabled}},rs=ss,ls=(i("8dd5"),i("9c5e"),i("e496"));function cs(t){this["$style"]=ls["default"].locals||ls["default"]}var us=Object(P["a"])(rs,os,ns,!1,cs,null,null),ds=us.exports,hs=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.vtbox},[i("woo-box",{class:t.$style.vtb1,attrs:{align:"center"}},[i("woo-button",{attrs:{disabled:t.disableVote,size:"s",sort:"flat",kind:"primary"},on:{click:t.onAddVote}},[t._v("添加投票")])],1),i("div",{ref:"dragBar",class:t.$style.vtb2},[i("woo-box",{class:t.$style.vtb21,attrs:{align:"center"}},[i("div",{class:t.$style.vtb21items},[t._l(t.list,(function(e,a){return i("div",{key:a,class:t.$style.vtb21item},[t._v(" "+t._s(e)+" ")])})),i("div",{class:t.$style.vtb21line,style:{left:t.lineLeft},on:{mousedown:t.onTimelineMouseDown}})],2),i("woo-box",{ref:"votebar",class:t.$style.vtb21p,attrs:{align:"center"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.disableVote,expression:"disableVote"}],class:t.$style.vtb21pr,style:{width:t.voteWidth}},[i("span",{class:t.$style.vtb21pri1,on:{mousedown:t.onVoteMouseDown}},[i("woo-fonticon",{attrs:{value:"caretUp"}}),t._v(" "+t._s(t.sec2time(t.voteTime))+" ")],1),i("span",{class:t.$style.vtb21prt1},[t._v("投票")])])])],1)],1)],1)},ps=[],fs={props:{disableVote:{type:Boolean,default:!1},duration:{type:Number,default:60},currentTime:{type:Number,default:0},voteTime:{type:Number,default:0},playStatus:{type:Number,default:0}},data:function(){return{thumbWidth:0,voteMouseDown:!1,voteMouseDownClientX:0,voteMouseDownTime:0,timelineMouseDown:!1,timelineMouseDownClientX:0,timelineMouseDownTime:0,initPlayStatus:1}},mounted:function(){this.thumbWidth=this.$refs.dragBar.clientWidth-22,this.voteBarLeft=this.$refs.dragBar.getBoundingClientRect().left+22,window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp)},beforeDestroy:function(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp)},computed:{list:function(){for(var t=5,e=this.duration/t,i=[],a=0;a<=t;a++)i.push(this.sec2time(a*e));return i},lineLeft:function(){var t=-5;return this.currentTime/this.duration*this.thumbWidth+t+"px"},voteWidth:function(){var t=((1-this.voteTime/this.duration)*this.thumbWidth).toFixed(1)||this.thumbWidth;return isNaN(t)?"".concat(this.thumbWidth,"px"):"".concat(t,"px")}},methods:{onAddVote:function(){this.disableVote||this.$emit("add-vote")},onToggleStatus:function(){this.$emit("toggle-status",this.videoStatus)},onVoteMouseDown:function(t){this.voteMouseDown=!0,this.voteMouseDownClientX=t.clientX,this.voteMouseDownTime=this.voteTime},onTimelineMouseDown:function(t){this.timelineMouseDown=!0,this.initPlayStatus=this.playStatus,this.timelineMouseDownClientX=t.clientX,this.timelineMouseDownTime=this.currentTime},onMouseMove:function(t){this.voteMouseDown&&this.onChangeVoteTime(t),this.timelineMouseDown&&this.onChangeTimeline(t)},onMouseUp:function(t){this.voteMouseDown=!1,this.voteMouseDownClientX=0,this.timelineMouseDown&&(1===this.initPlayStatus&&this.$emit("videoPlay"),this.timelineMouseDown=!1,this.timelineMouseDownClientX=0)},onChangeVoteTime:function(t){var e=this.voteBarLeft,i=(this.duration-5)/this.duration*this.thumbWidth,a=e+i;if(t.clientX>a){var o=this.duration-5;this.$emit("vote-time",o)}else{var n=t.clientX-this.voteMouseDownClientX,s=n/this.thumbWidth*this.duration,r=this.voteMouseDownTime+s;this.$emit("vote-time",Math.max(0,Number(r.toFixed(2))))}},onChangeTimeline:function(t){this.$emit("stop");var e=t.clientX-this.timelineMouseDownClientX,i=e/this.thumbWidth*this.duration,a=this.timelineMouseDownTime+i,o=a>=this.duration?this.duration:a;this.$emit("current-time",Math.max(0,Number(o)))},sec2time:function(t){var e=function(t,e){return("000"+t).slice(-1*e)},i=parseFloat(t).toFixed(3),a=Math.floor(i/60)%60,o=Math.floor(i-60*a);return e(a,2)+":"+e(o,2)}}},ms=fs,vs=i("bf5a");function _s(t){this["$style"]=vs["default"].locals||vs["default"]}var gs=Object(P["a"])(ms,hs,ps,!1,_s,null,null),bs=gs.exports,ys=i("41cc"),ws={data:function(){return{visable:!1,duration:0,orientation:"horizontal",voteForm:{content:"",optionContent1:"",optionContent2:"",mediaId:"",startTimeMs:0,validDay:"",validTime:""},endTimeOption:{label:"一周",value:7},TimeOptions:{options:[{label:"一天",value:1},{label:"一周",value:7},{label:"一个月",value:30},{label:"自定义",value:-1}],custom_value:new Date,custom_disabled:!0},textOptError:!1,doneDisabled:!0,player:null,playerOptions:{controls:!0,muted:!1,preload:"meta",autoplay:!0,poster:"",controlBar:!1},controller:{duration:0,currentTime:0,voteTime:0,playStatus:1},isAddVote:!1,voteStartTimeOld:[],voteStartTimeArr:[]}},created:function(){var t=this;this.$Bus.$on("showVideoEditor",this.showVideoEditorHandle),this.$once("hook:beforeDestroy",(function(){t.$Bus.$off("showVideoEditor",t.showVideoEditorHandle)}))},components:{Multiselect:as.a,TimeSelect:ds,CommonPlayer:ys["a"],VideoController:bs},watch:{player:function(){this.player.on("timeupdate",this.videoTimeChange),this.player.on("play",this.playHandle),this.player.on("pause",this.pauseHandle),this.player.on("ended",this.videoEnd)}},computed:{isDisable:function(){return!this.isAddVote}},methods:{videoStop:function(){this.player.pause()},videoPlay:function(){this.player.play()},playHandle:function(){this.controller.playStatus=1,this.duration=this.player.duration(),this.controller.duration=this.duration},pauseHandle:function(){this.controller.playStatus=0},focuHandle:function(){this.voteStartTimeOld=[].concat(this.voteStartTimeArr)},readyHandle:function(t){this.player=t},contentChange:function(){var t=[];t.push(this.voteForm.content),t.push(this.voteForm.optionContent1),t.push(this.voteForm.optionContent2),this.doneDisabled=t.some((function(t){return""===t}))},videoTimeChange:function(){var t=this.player.currentTime();this.controller.currentTime=t},videoEnd:function(){this.player.currentTime(0)},onVoteTime:function(t){this.player.pause(),this.controller.voteTime=t,this.voteStartTimeArr=this.sec2time(t)},onCurrentTime:function(t){this.controller.currentTime=t,this.player.currentTime(t)},showVideoEditorHandle:function(t){this.$route.query.hasnav&&(this.isScale=!0),this.blogId=t.id,this.visable=!0,this.orientation=t.orientation,this.voteForm.mediaId=t.media_id,this.duration=t.duration,this.controller.duration=this.duration,this.endTimeMs=1e3*t.duration;var e=t.stream_url;this.player&&this.player.src({src:e,type:"video/mp4"})},addVote:function(){this.isAddVote=!0,this.controller.voteTime=Math.min(this.controller.currentTime,this.duration-5),this.voteStartTimeArr=this.sec2time(this.controller.voteTime)},close:function(){var t=this;this.isAddVote?this.$_w_dialog({type:"confirm",title:"确认关闭？",message:"关闭之后将不可恢复",action:function(){t.visable=!1,t.formInit()}}):this.visable=!1,this.player.pause()},formReset:function(){var t=this;this.$_w_dialog({type:"confirm",title:"确认返回？",message:"该操作不可撤销确认返回到视频初始状态",action:function(){t.formInit()}})},formInit:function(){this.isAddVote=!1,this.initForm={content:"",optionContent1:"",optionContent2:"",startTimeMs:0,validDay:"",validTime:""},Object.assign(this.voteForm,this.initForm),this.textOptError=!1,this.endTimeMs=0,this.endTimeOption={label:"一周",value:7},this.TimeOptions.custom_disabled=!0,this.TimeOptions.custom_value=new Date,this.voteStartTimeArr=[],this.isAddVote=!1,this.player.currentTime(0),this.controller.currentTime=0,this.controller.voteTime=0},changeTitle:function(t){this.voteForm.content=t},changeText:function(t,e){this.voteForm["optionContent".concat(e+1)]=t},voteStartTimeChange:function(t){if(isNaN(Number(t.target.value)))this.voteStartTimeArr=[].concat(this.voteStartTimeOld);else{var e=this.timeToSecond(this.voteStartTimeArr),i=this.duration-5;e>i?(this.voteStartTimeArr=this.sec2time(i),this.$_w_toast({type:"warn",message:"投票结束时间最晚为结束前5s"})):e>this.duration?this.$_w_toast({type:"warn",message:"投票开始时间不能超过视频时长"}):this.controller.voteTime=e}},optionLabel:function(t){var e=t.label;return e},TimeTypeSelect:function(t){var e=t.value;this.voteForm.validDay=e,this.TimeOptions.custom_disabled=-1!=e},CustomTimeSelect:function(t){this.TimeOptions.custom_value=t,this.voteForm.validTime=t},sec2time:function(t){if(void 0===t||Number.isNaN(t))return"00";var e=Math.floor(t/3600),i=Math.floor((t-3600*e)/60),a=Math.floor(t-3600*e-60*i),o=[e,i,a];return o.forEach((function(t,e){t<10&&(o[e]="0".concat(t))})),o},timeToSecond:function(t){var e=t[0],i=t[1],a=t[2],o=Number(3600*e)+Number(60*i)+Number(a);return o},formSubmit:function(){var t=this,e=this.voteForm,i=e.content,a=e.optionContent1,o=e.optionContent2,n=parseInt(1e3*this.timeToSecond(this.voteStartTimeArr)),s=parseInt(this.endTimeMs),r=new FormData,l=-1===this.endTimeOption.value?0:this.endTimeOption.value,c=-1===this.endTimeOption.value?parseInt(this.voteForm.validTime):0;r.append("validDay",l),r.append("validTime",c),r.append("content",i),r.append("startTimeMs",n),r.append("endTimeMs",s),r.append("optionContent1",a),r.append("optionContent2",o),r.append("mediaId",this.voteForm.mediaId),this.$http.post("/ajax/video/addVote",r).then((function(e){t.$_w_toast({type:"success",message:"视频投票设置成功"}),t.formInit(),t.$Bus.$emit("videoVoteAdded",t.blogId),t.visable=!1})).catch((function(){}))}}},xs=ws,ks=i("2210");function $s(t){this["$style"]=ks["default"].locals||ks["default"]}var Cs=Object(P["a"])(xs,ts,es,!1,$s,null,null),Os=Cs.exports,js=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.popCard.show,expression:"popCard.show"}],staticClass:"popcard",class:t.$style.popcard,style:t.popStyle},[t.popCard.data.screen_name?i("div",{class:t.$style.layer},[i("div",{class:t.$style.box1,on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.onGoProfile(t.popCard.data.profile_url)}}},[i("div",{class:t.$style.box1pic},[i("woo-picture",{attrs:{"aspect-ratio":.365,src:t.replaceProfileDefaultCover(t.popCard.data.cover)}})],1),i("div",{class:t.$style.box1bg}),i("woo-box",{class:t.$style.box1in,attrs:{direction:"y",align:"center",justify:"center"}},[i("a-link",{attrs:{"link-type":"old","style-type":"none",href:"//weibo.com/"+t.popCard.data.profile_url},on:{click:function(e){return e.preventDefault(),t.onGoProfile(t.popCard.data.profile_url)}}},[i("woo-avatar",{class:t.$style.t11,attrs:{size:50,"icon-size":16,src:t.popCard.data.avatar,verified:t.getVerifiedIcon(t.popCard.data)}})],1),i("a-link",{class:t.$style.t12,attrs:{"link-type":"old","style-type":"none",href:"//weibo.com/"+t.popCard.data.profile_url},on:{click:function(e){return e.preventDefault(),t.onGoProfile(t.popCard.data.profile_url)}}},[t._v(" "+t._s(t.popCard.data.screen_name)),t.popCard.data.remark?i("span",[t._v("（"+t._s(t.popCard.data.remark)+"）")]):t._e()]),i("div",{class:t.$style.t13,attrs:{title:t.popCard.data.descText}},[t._v(" "+t._s(t.popCard.data.descText)+" ")])],1)],1),i("woo-box",{class:t.$style.box2,attrs:{direction:"y",align:"center",justify:"between"},nativeOn:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.onGoProfile(t.popCard.data.profile_url)}}},[i("woo-box",{attrs:{align:"center"}},[i("div",{class:t.$style.t21},[t._v(" 关注 "),i("a-link",{class:[t.$style.alink,t.$style.pointer],attrs:{"link-type":"old","style-type":"none",target:"_blank",href:t.getFansHref(t.popCard.data)},on:{click:function(t){t.stopPropagation()}}},[t._v(t._s(t.popCard.data.friends_count_str))])],1),i("div",{class:t.$style.t22},[i("woo-divider",{attrs:{direction:"y","border-color":"var(--w-layer-border)"}})],1),i("div",{class:t.$style.t21},[t._v(" 粉丝 "),i("a-link",{class:[t.$style.alink,t.$style.pointer],attrs:{"link-type":"old","style-type":"none",target:"_blank",href:t.getFansHref(t.popCard.data,"fans")},on:{click:function(t){t.stopPropagation()}}},[t._v(t._s(t.popCard.data.followers_count_str))])],1)]),t.popCard.data.isOwner?t._e():i("woo-box",{class:t.$style.buttons,attrs:{align:"center"}},[t.popCard.data.block?i("woo-button",{attrs:{sort:"line",kind:"default"},nativeOn:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.onBlockDestroy(e)}}},[t._v(" 解除黑名单 ")]):[t.isOwner?t._e():i("FollowPop",{class:t.$style.btn,attrs:{"has-group":"",show:t.popCard.followBtnShow,uid:t.popCard.data.idstr,"special-fo":t.popCard.data.special_follow,remark:t.popCard.data.remark,user:t.popCard.data},on:{"update:show":function(e){return t.$set(t.popCard,"followBtnShow",e)},"update:specialFo":function(e){return t.$set(t.popCard.data,"special_follow",e)},"update:special-fo":function(e){return t.$set(t.popCard.data,"special_follow",e)},"spfollow-change":t.spfollowChange,"follow-change":t.onFollowChange,"set-group":t.onSetGroup,"set-remark":t.handleSetRemark},nativeOn:{mouseenter:function(e){return t.handleMove(e)},mouseleave:function(e){return t.handleLeave(e)}}},[i("FollowBtn",{key:t.index,attrs:{mode:"all",sort:t.popCard.data.following?"line":"flat",kind:t.popCard.data.following?"default":"primary",size:"m",user:t.popCard.data,following:t.popCard.data.following,uid:t.popCard.data.id,"do-fo-action":!0,"fo-toast":!0,"followed-by":t.popCard.data.follow_me,"show-special-fo":!0,"special-fo":t.popCard.data.special_follow,page:"profile",lpage:t.lpage},on:{"is-following":t.onFollowChange}})],1),i("woo-button",{class:t.$style.btn,attrs:{sort:"line",kind:"default"},nativeOn:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.onGoChat(t.popCard.data.id)}}},[t._v(" "+t._s(t.getMessageText(t.popCard.data))+" ")]),i("woo-pop",{class:t.$style.pop,attrs:{show:t.popCard.moreVisible,align:"center"},on:{"click-outside":function(e){t.popCard.moreVisible=!1}},nativeOn:{mouseenter:function(e){t.popCard.moreVisible=!0},mouseleave:function(e){t.popCard.moreVisible=!1}},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-box",{class:t.$style.ellipsis,attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"ellipsis"}})],1)]},proxy:!0}],null,!1,3287736733)},[i("woo-pop-wrap",[t.popCard.data.follow_me?i("woo-pop-item",{nativeOn:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.onRemoveFans(e)}}},[t._v("移除粉丝")]):t._e(),t.popCard.data.block?t._e():i("woo-pop-item",{nativeOn:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.onBlock(e)}}},[t._v("加入黑名单")]),i("woo-pop-item",{nativeOn:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.onComplaint(e)}}},[t._v("投诉"+t._s(t.genderText))])],1)],1)]],2)],1)],1):i("div",{class:t.$style.layer},[i("div",{class:t.$style.box3},[t._v("抱歉，该昵称目前不存在哦(*^__^*)")])])])},Ts=[],Ds=i("af5a"),Ss=i("fa20"),Is={},Ls=3e5,Bs={components:{FollowPop:Ds["a"]},props:{data:{type:Object,default:function(){return{}}},destinationOffset:{type:Number,default:0}},setup:function(t){var e=Object(x["d"])().proxy,i=Object(x["m"])({show:!1,loading:!1,data:{},moreVisible:!1,followBtnShow:!1,left:0,top:0}),a=Object(x["a"])((function(){return i.show?{left:i.left+"px",top:i.top+"px"}:{}})),o=function(t){var e=t.status,i=t.uid;Is[i]&&(Is[i].following=e)},n=function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(i,a){var o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o="uid"===a?{id:i}:{screen_name:i},t.next=3,e.$http.get("/ajax/user/popcard/get",{params:o}).catch((function(){}));case 3:if(n=t.sent,0!==n.data.ok){t.next=6;break}return t.abrupt("return");case 6:return t.abrupt("return",n.data.data);case 7:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}(),s=function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(a){var o,s,r,l,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o=a.uid,s=a.name,r=a.rect,l=o||s,l){e.next=4;break}return e.abrupt("return");case 4:c=o?"uid":"name",i.show=!1,i.data={},Object(x["f"])(Object(u["a"])(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!Is[l]){e.next=4;break}return i.data=Is[l],i.show=!0,e.abrupt("return");case 4:return e.next=6,n(l,c);case 6:a=e.sent,a&&(Is[l]=a,i.data=Is[l],i.show=!0,o=Object.keys(i.data).length,i.left=o?r.left:r.emptyLeft,i.top=(o?r.top:r.emptyTop)-t.destinationOffset);case 8:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=function(){i.show=!1,i.loading=!1};Object(x["s"])((function(){return t.data}),(function(t){t?s(t):r()}),{deep:!0,immediate:!0});var l,c=function(t){window.open("//api.weibo.com/chat/#/chat?to_uid=".concat(t,"&source_from=")),r()},d=function(){i.data.following&&(i.followBtnShow=!0)},h=function(){i.followBtnShow=!1},p=Object(x["a"])((function(){return[{value:!0,label:"不看".concat(i.data.genderText,"的微博")},{value:!0,label:"禁止".concat(i.data.genderText,"与我互动")},{value:!0,label:"禁止".concat(i.data.genderText,"关注我")}]})),f=function(){e.$_w_dialog({type:"confirm",title:"屏蔽用户",message:"设置对@".concat(i.data.screen_name," 的屏蔽范围，全选即为拉黑用户"),checkbox:p.value,btnConfirm:"确定",action:function(){var t=i.data.id;e.$http.post("/ajax/statuses/filterUser",{uid:i.data.id,status:p.value[0].value?1:0,interact:p.value[1].value?1:0,follow:p.value[2].value?1:0}).then((function(a){a.data&&a.data.ok>0&&(i.data.id===t&&(i.data.block=!0),e.$_w_toast({type:"success",message:"已屏蔽"}))}))}})},m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"/u/page/follow/".concat(t.id,"?relate=").concat(e)},v=function(){window.open("https://service.account.weibo.com/reportspam?rid=".concat(i.data.id,"&type=3&from=1FFFF96039"))},_=function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=[],t.next=3,e.$http.get("/ajax/profile/getGroupList",{params:{uid:i.data.idstr}}).then((function(t){t.data.ok>0&&(a=t.data.data.map((function(t){return t.idstr})))})).catch((function(){}));case 3:e.$Bus.$emit("showEditGroup","set",[i.data.id],a);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(t){t||(i.data.remark="",i.data.special_follow=t),i.data.following=t,e.$Bus.$emit("update-following-status",{uid:i.data.id,status:t})},b=function(t){t&&(window.open("//weibo.com/".concat(t)),i.show=!1)},y=function(){e.$_w_dialog({type:"confirm",title:"确认要移除粉丝？",message:"对方将不再关注你，且不会收到通知",action:function(){e.$http.post("/ajax/profile/destroyFollowers",{uid:i.data.idstr}).then((function(t){t.data.ok>0&&(i.data.follow_me=!1,e.$_w_toast({type:"success",message:"已移除"}))}))}})},w=function(){e.$_w_dialog({type:"confirm",title:"确定解除黑名单吗？",action:function(){e.$http.post("/ajax/statuses/deleteFilters",{uid:i.data.id}).then((function(t){t.data.ok>0&&(i.data.block=!1,i.data.following=!1,i.data.special_follow=!1,i.data.follow_me=!1,i.data.remark="",e.$_w_toast({type:"success",message:"已解除"}))}))}})},k=function(){l=setInterval((function(){Is={}}),Ls)},$=Object(x["s"])((function(){return e.$route}),(function(){r()}));return Object(x["k"])((function(){k(),e.$Bus.$on("update-following-status",o)})),Object(x["i"])((function(){$&&"function"===typeof $&&$(),e.$Bus.$off("update-following-status",o),clearInterval(l),l=null})),{popCard:i,getVerifiedIcon:Ss["c"],onGoChat:c,handleMove:d,handleLeave:h,onBlock:f,onComplaint:v,getFansHref:m,onSetGroup:_,onFollowChange:g,onGoProfile:b,popStyle:a,onRemoveFans:y,onBlockDestroy:w,getMessageText:Ss["b"],replaceProfileDefaultCover:So["e"]}}},Ps=Bs,As=i("d10c");function Es(t){this["$style"]=As["default"].locals||As["default"]}var Ms=Object(P["a"])(Ps,js,Ts,!1,Es,null,null),Fs=Ms.exports,Rs=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.inDestination?t._e():i("div",[i("PopCard",{attrs:{data:t.popCardData}})],1),t.hasDestination?i("portal",{attrs:{to:t.destinationName}},[t.inDestination?i("div",[i("PopCard",{attrs:{data:t.popCardData,destinationOffset:t.destinationOffset}})],1):t._e()]):t._e()],1)},Vs=[],Ns={components:{PopCard:Fs},props:{hasDestination:{type:Boolean,default:!1},destinationName:{type:String,default:"popCardDestination"},destinationOffset:{type:Number,default:68}},setup:function(){var t=Object(x["d"])().proxy,e=Object(x["n"])({}),i=Object(x["n"])(!1),a=function(t,a){i.value=a,e.value=t},o=function(){e.value=null};return Object(x["h"])((function(){t.$Bus.$on("showPopCard",a),t.$Bus.$on("hidePopCard",o)})),Object(x["i"])((function(){t.$Bus.$off("showPopCard",a),t.$Bus.$off("hidePopCard",o)})),{popCardData:e,inDestination:i}}},Hs=Ns,zs=Object(P["a"])(Hs,Rs,Vs,!1,null,null,null),Us=zs.exports,Gs=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e===i)return!1;if(null===e||void 0===e?void 0:e.compareDocumentPosition)return((null===e||void 0===e?void 0:e.compareDocumentPosition(i))&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY;if((null===e||void 0===e?void 0:e.contains)&&(null===(t=i)||void 0===t?void 0:t.nodeType)===Node.ELEMENT_NODE)return null===e||void 0===e?void 0:e.contains(i);while(i=null===(a=i)||void 0===a?void 0:a.parentNode){var a;if(e===i)return!0}return!1},qs=400,Ws=200,Qs=6,Js=215,Ks=336,Ys=50,Xs=Ks;function Zs(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"usercard",e=Object(x["d"])().proxy,i=null,a=null,o=null,n=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return{};var i,a,o,n,s=t.getBoundingClientRect(),r={width:Ks,height:Js,emptyWidth:Xs,emptyHeight:Ys},l={height:window.innerHeight,width:window.innerWidth},c={top:Math.max(document.documentElement.scrollTop,document.body.scrollTop),left:Math.max(document.documentElement.scrollLeft,document.body.scrollLeft)};if(s.top<=l.height/2?(a=c.top+s.top+s.height+Qs,n=a):(a=c.top+s.top-r.height-Qs,n=c.top+s.top-r.emptyHeight-Qs),i=s.left,s.left+r.width>=l.width&&(i=l.width-r.width),o=s.left,s.left+r.emptyWidth>=l.width&&(o=l.width-r.emptyWidth),e){var u=+document.querySelector(".rightSide").dataset.scrollDistance||0;u<0&&(u=0),i=0,s.top<=l.height/2?(a=u+s.top+s.height+Qs,o=a):(a=u+s.top-r.height-Qs,o=u+s.top-r.emptyLeft-Qs),s.left+r.width>=l.width&&(i=l.width-r.width-s.left),s.left+r.emptyWidth>=l.width&&(o=l.width-r.emptyWidth-s.left)}return{left:i,top:a,emptyLeft:o,emptyTop:n}},s=function(e){var i=3,a=e;do{if(!a)return e;if(!a.getAttribute)return e;if(a.getAttribute(t))return a}while(i--&&(a=a.parentNode));return e},r=function(t,i,o,s){var r=n(t,s);clearTimeout(a),a=setTimeout((function(){e.$Bus.$emit("showPopCard",{uid:i,name:o,rect:r},s)}),qs)},l=function(){clearTimeout(a),a=setTimeout((function(){e.$Bus.$emit("hidePopCard")}),Ws)},c=function(e){var n=s(e.target);if(i!==n)if(Gs(document.querySelector(".popcard"),n))clearTimeout(a);else{var c=n.getAttribute(t);if(c){var u,d,h=n.getAttribute(t);h.startsWith("name=@")?d=h.replace("name=@",""):u=h;var p=!1;n.hasAttribute("popCardDestination")&&(p=!0),i=n,o=setTimeout((function(){r(i,u,d,p)}),300)}else o&&(clearTimeout(o),o=null),i=null,l()}};e.$router.beforeEach((function(t,e,i){o&&(clearTimeout(o),o=null),a&&(clearTimeout(a),a=null),i()})),Object(x["k"])((function(){document.body.addEventListener("mousemove",c)})),Object(x["i"])((function(){o&&(clearTimeout(o),o=null),a&&(clearTimeout(a),a=null),document.body.removeEventListener("mousemove",c)}))}var tr=i("87b4");function er(t){for(var e="",i=document.cookie.split("; "),a=0;a<i.length;a++){var o=i[a].split("=");if(o[0]==t){var n=unescape(o[1]);(""==e||n.length<e.length)&&(e=n)}}return e}var ir=er("SUBP"),ar=function(){var t=this,e=setInterval((function(){var i=er("SUBP");""==ir&&(ir=i),ir!==i&&(ir=i,or.bind(t)((function(i){i&&(t.$_w_dialog({type:"confirm",message:"登录状态发生了变化，请刷新页面",action:function(){location.reload()}}),clearInterval(e))})))}),5e3);return e},or=function(t){var e,i;this.$http.get("/ajax/statuses/config",{params:{type:"uid",loginUid:null===(e=window)||void 0===e||null===(i=e.$CONFIG)||void 0===i?void 0:i.uid}}).then((function(e){e.data&&+e.data.data!==+window.$CONFIG.uid?t(!0):t(!1)}))},nr={name:"App",metaInfo:{titleTemplate:"%s - ".concat("微博")},setup:function(){var t=Object(x["d"])(),e=t.proxy;Zs(),Object(tr["c"])();var i=null,a=function(){i&&(clearInterval(i),i=null)},o=function(){"visible"===document.visibilityState?(a(),i=ar.bind(e)()):a()};return o(),document.addEventListener("visibilitychange",o),Object(x["l"])((function(){a(),document.removeEventListener("visibilitychange",o)})),{}},components:{Viewer:rn,ModalPublish:M,Layer:mn,FollowGroup:$n,MicroReviewPop:gt,PublisherTopicPop:Et,MiniPlayer:Fn,LoginPop:Zn,VideoEidtor:Os,PopCardWrap:Us,LayerCollect:W,QrcodeWrap:tr["b"]},mounted:function(){var t,e=this;this.config.flags&&0===this.config.flags.can_welcome_layer&&this.$Bus.$emit("showModalGuideLayer"),(null===this||void 0===this||null===(t=this.composerConfig)||void 0===t?void 0:t.emoticon)||this.$http.get("/ajax/statuses/config").then((function(t){t.data.ok&&e.setComposerConfig(t.data.data)}))},computed:Object(a["a"])(Object(a["a"])({},Object(r["c"])(["config","composerConfig"])),{},{showGrayTheme:function(){return["home","mygroups","login"].includes(this.$route.name)}}),watch:{},methods:Object(a["a"])({},Object(r["b"])(["setComposerConfig"]))},sr=nr,rr=(i("034f"),Object(P["a"])(sr,O,j,!1,null,null,null)),lr=rr.exports,cr=i("3896");function ur(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=new Date(t);if(Number.isNaN(a.getTime())||"string"===typeof t&&(-1!==t.indexOf("-")||-1!==t.indexOf(".")))return t;var o=new Date,n=(o-a)/1e3;return"history"===e?"".concat(a.getFullYear(),"年").concat(a.getMonth()+1,"月").concat(a.getDate(),"日").concat(Object(cr["a"])(a.getHours()),":").concat(Object(cr["a"])(a.getMinutes()),":").concat(Object(cr["a"])(a.getSeconds())):e?"".concat(a.getFullYear().toString().slice(2),"-").concat(a.getMonth()+1,"-").concat(a.getDate()," ").concat(Object(cr["a"])(a.getHours()),":").concat(Object(cr["a"])(a.getMinutes())):n<86400?n<60?i.recently||"刚刚":n<3600?"".concat((n/60).toFixed()).concat(i.minute||"分钟前"):"".concat((n/3600).toFixed()).concat(i.hour||"小时前"):a.getFullYear()===o.getFullYear()&&a.getMonth()+1===o.getMonth()+1&&a.getDate()+1===o.getDate()?"".concat(i.yesterday||"昨天"," ").concat(Object(cr["a"])(a.getHours()),":").concat(Object(cr["a"])(a.getMinutes())):a.getFullYear()===o.getFullYear()?"".concat(a.getMonth()+1,"-").concat(a.getDate(),"   ").concat(Object(cr["a"])(a.getHours()),":").concat(Object(cr["a"])(a.getMinutes())):"".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate())}var dr=ur;function hr(){o["default"].filter("fromNow",dr)}var pr=hr,fr=(i("040b"),{install:function(t){t.directive("focus-visible",{bind:function(t){t.tabIndex=0,t.dataset.focusVisible=!0}})}}),mr=fr,vr=i("032e"),_r={};function gr(t){t.stopPropagation()}_r.install=function(t){t.directive("click-enter",{bind:function(t,e){t.action=function(t){e.modifiers.stop&&e.modifiers[t.type]&&gr(t),(Object(vr["a"])(t).return||"click"===t.type)&&e.value instanceof Function&&e.value()},t.addEventListener("click",t.action),t.addEventListener("keypress",t.action)},unbind:function(t){t.removeEventListener("click",t.action),t.removeEventListener("keypress",t.action)}})};var br=_r,yr=i("5857"),wr=i("8b4a"),xr={};function kr(t,e){t.preventDefault(),t.stopPropagation();var i=Object(ri["a"])([e]),a=0;o["default"].prototype.$Bus.$emit("showViewer",{data:{index:a,pics:i},type:"image"})}function $r(t,e){t&&o["default"].prototype.$http.post("/ajax/feed/throwbatch",{actionlog:t}).then((function(t){})),e&&e.length&&e.forEach((function(t){t.third_party_click&&Object(wr["a"])([t.third_party_click])}))}function Cr(t){o["default"].prototype.$http.get("/ajax/log/adProfileClick",{params:Object(a["a"])({},t)})}xr.install=function(t){t.directive("ahref",{bind:function(t,e,i){t.touchHandler=function(e){var a=e.target;while(a&&a!==t){if("a"===a.tagName.toLowerCase()&&a.href)break;a=a.parentNode}if(a&&a.href){var o="^https?://(m.weibo.com|www.weibo.com|weibo.com)",n=oo.some((function(t){var e=new RegExp("".concat(o).concat(t,"([/?#]|$)"));return"/"!==t&&e.test(a.href)})),s=i.context.data,r=i.context.$store._actions;if(n){var l=new RegExp(o),c=a.href.replace(l,"");e.preventDefault(),c.match(/\/search(\/weibo|\?containerid)/g)&&s&&s.mark&&s.topic_struct&&s.topic_struct.length&&r&&r.setCurWeiboData?(r.setCurWeiboData[0](s),s.promotion&&s.promotion.monitor_url&&$r("",s.promotion.monitor_url)):r&&r.setCurWeiboData&&r.setCurWeiboData[0]({});var u=/^\/n\/([\S]+)/,d=c.match(u);if(d&&s&&s.mark&&!i.context.$attrs.single){var h=decodeURIComponent(d[1]);Cr({screen_name:h,profile_entry_key:3,mark:s.mark}),s.promotion&&s.promotion.monitor_url&&$r("",s.promotion.monitor_url)}i.context.$router.push({path:c})}if(a.dataset.pid&&kr(e,a.dataset.pid),s&&s.mark&&s.url_struct&&s.url_struct.length){var p,f=Object(_o["a"])(s.url_struct);try{for(f.s();!(p=f.n()).done;){var m=p.value,v=Object(yr["a"])(m);v===a.href&&(m.actionlog||s.promotion&&s.promotion.monitor_url)&&$r(m.actionlog,s.promotion.monitor_url)}}catch(_){f.e(_)}finally{f.f()}}}},t.addEventListener("click",t.touchHandler)},unbind:function(t){t.removeEventListener("click",t.touchHandler)}})};var Or,jr,Tr=xr,Dr={install:function(t){t.directive("log",{bind:function(t,e){t&&"click"===e.arg&&(t.onClick=function(){var t=e.value||[];t.forEach((function(t){Object(_["a"])(t)}))},t.addEventListener("click",t.onClick,{capture:!0}))},unbind:function(t,e){"click"===e.arg&&(t.removeEventListener("click",t.onClick,{capture:!0}),t.onClick=null)}})}},Sr=Dr,Ir={install:function(t){t.use(mr),t.use(br),t.use(Tr),t.use(Sr)}},Lr=Ir,Br=i("5887"),Pr=i.n(Br),Ar=i("4a7a"),Er=i.n(Ar),Mr=(i("6dfc"),i("2b27")),Fr=i.n(Mr),Rr={props:{logPage:{type:String,default:""},logModule:{type:[String,Number],default:""}},computed:Object(a["a"])(Object(a["a"])({},Object(r["d"])(["access"])),{},{history:function(){return this.access.history},curUicode:function(){return this.$route.meta.uicode}}),methods:{toLog:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t.page,a=t.actType,o=t.extValue,n=t.lpage,s=t.fidName,r=t.luicode;if((!i||!a)&&!e)throw Error("缺少必要统计参数");this.actionLog({uicode:Ht.uicode[i]?Ht.uicode[i]:this.curUicode,fid:s?Ht.fid[s]:Ht.fid[i],act_code:Ht.act_code[a],ext:o?"module:".concat(o):"",luicode:r||(n?Ht.uicode[n]:this.getLuicode())})},actionLog:function(t,e){t=St.a.stringify(t);var i="/ajax/log/action?type=pic&".concat(t,"&t=").concat((new Date).getTime());this.$http.get(i)},getLuicode:function(){var t=this,e=this.history.filter((function(e){return e.meta.uicode!==t.curUicode}));return e&&e.length?e[e.length-1].meta.uicode:""}}},Vr=(i("32ed"),i("35a13"),i("7c5f")),Nr=i("d95a"),Hr=i("8531"),zr=i("9783"),Ur={name:"a-link",props:{linkType:{type:String,default:"router",validator:function(t){return["router","old"].indexOf(t)>-1}},styleType:{type:String,default:"default",validator:function(t){return["default","none","initial"].indexOf(t)>-1}}},render:function(t){var e="router"===this.linkType?"router-link":"a";return t(e,{props:this.$attrs,on:this.$listeners,class:this.$style[this.styleType]},this.$slots.default)}},Gr=Ur,qr=i("7011");function Wr(t){this["$style"]=qr["default"].locals||qr["default"]}var Qr=Object(P["a"])(Gr,Or,jr,!1,Wr,null,null),Jr=Qr.exports,Kr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Nav",{attrs:{"nav-cur":t.linkCurIndex||t.isCurIndex,"nav-items":t.channelsBadge,"link-items":t.links,"config-items":t.configs,"is-login":t.isLogin,"is-pc-new":t.isPcNew,user:t.config.user,"feedback-layer-show":t.feedbackLayerShow,"feedback-layer-type":t.feedbackLayerType,"config-layer-close":t.configClose,"search-words-relate-list":t.searchWordsRelateList,"search-user-relate-list":t.searchUserRelateList,"flag-set-bubble":t.config&&t.config.flags&&t.config.flags.dark_bubble,hasDark:!0,"enable-sweibocom":t.config.enableSweibocom,showAriaEntrance:t.config.showAriaEntrance,mediaQ:t.mediaQ},on:{"logo-tap":t.logoTap,"nav-ctrl-tap":t.tapHandle,"config-item-tap":t.configHandle,"config-closed":t.configClosed,"search-control-url":t.searchUrlHandle,"get-search-data":t.getSearchData,"to-links":t.toLinks,"pub-weibo":t.qPublish,feedbackClosed:t.feedbackClosed,"change-dark":t.changeDark,"login-tap":t.loginTap,"sign-tap":t.signTap,"v-on":t.$listeners}})},Yr=[],Xr=(i("a630"),i("4ec9"),i("9911"),function(){var t,e=this,i=e.$createElement,a=e._self._c||i;return a("div",[a("div",{class:[e.$style.wrap,e.isHome&&"grayTheme"],style:e.customSkin&&e.skinData,attrs:{role:"navigation"}},[a("woo-panel",{class:e.$style.panel,attrs:{border:"bottom","background-color":"var(--weibo-top-nav-panel-bgColor)","border-color":"var(--weibo-top-nav-panel-bd)"}},[a("woo-box",{class:e.$style.main,attrs:{align:"center"}},[a("woo-box",{class:e.$style.left,attrs:{align:"center"}},[e.showNALogo&&e.showLeftUSLogo?a("div",{class:e.$style.uslogo}):e._e(),a("a",{directives:[{name:"focus-visible",rawName:"v-focus-visible"},{name:"click-enter",rawName:"v-click-enter.click",value:e.logoClick,expression:"logoClick",modifiers:{click:!0}}],class:e.$style.logoWrap,attrs:{href:"/","aria-label":"Weibo"},on:{click:function(t){t.preventDefault()}}},[!e.logoUrl||e.customSkin?a("Icons",{class:e.$style.logo,attrs:{symbol:e.logoSymbol}}):a("div",{class:e.$style.logo},[a("img",{class:e.$style.logoImg,attrs:{src:e.logoUrl,alt:""}})])],1),a("woo-box",{class:e.$style.search,attrs:{align:"center"}},[a("SearchIcon",{directives:[{name:"focus-visible",rawName:"v-focus-visible"},{name:"click-enter",rawName:"v-click-enter.click.stop",value:function(){e.showSearch()},expression:"\n                () => {\n                  showSearch();\n                }\n              ",modifiers:{click:!0,stop:!0}}],ref:"searchIcon",class:[e.$style.icon,e.showNALogo&&e.showLeftUSLogo&&e.$style.iconblock]}),a("SearchBar",e._g(e._b({ref:"searchBar",class:(t={},t[e.$style.barhidden]=e.showNALogo&&e.showLeftUSLogo,t[e.$style.bar]=!0,t[e.$style.barForcus]=e.isFocus,t),attrs:{mediaQ:e.mediaQ,focus:e.isFocus},on:{blur:e.searchBlur,hideSearchInput:e.hideSearchInput,showSearchInput:e.showSearchInput,visibleChange:e.handleVisibleChange}},"SearchBar",e.$attrs,!1),e.$listeners))],1)],1),a("woo-box",{class:e.$style.mid,attrs:{justify:"center",align:"center"}},[e.showNALogo&&e.showRightUSLogo?a("div",{class:e.$style.uslogoRight}):e._e(),e.$slots.ctrls?a("div",[e._t("ctrls")],2):a("Ctrls",e._g(e._b({attrs:{mediaQ:e.mediaQ}},"Ctrls",e.$attrs,!1),e.$listeners))],1),a("woo-box",{class:e.$style.right,attrs:{align:"center",justify:"end"}},[e.$attrs["is-login"]?e._e():a("div",[a("LoginBtn",e._g({},e.$listeners))],1),e.$slots.links?a("div",[e._t("links")],2):e._e(),a("woo-pop",{class:e.mediaQ.noside?e.$style.fold:e.$style.nofold,attrs:{show:!e.mediaQ.noside||e.showFold,align:"end",gap:"6",flow:e.mediaQ.min},on:{"click-outside":function(t){e.showFold=!1}},scopedSlots:e._u([{key:"ctrl",fn:function(){return[a("IconBox",{directives:[{name:"focus-visible",rawName:"v-focus-visible"}],attrs:{mediaQ:e.mediaQ,toolName:"fold",title:"展开",icon:"fold"},nativeOn:{click:function(t){t.stopPropagation(),e.showFold=!e.showFold}}})]},proxy:!0}])},[a("woo-pop-wrap",{class:e.$style.popcon},[a("Links",e._g(e._b({attrs:{mediaQ:e.mediaQ,noDivider:!e.$attrs["is-login"],noGap:!e.$attrs["is-login"]}},"Links",e.$attrs,!1),e.$listeners)),e.$attrs["is-login"]?a("Configs",e._g(e._b({attrs:{mediaQ:e.mediaQ},on:{closeMenu:function(t){e.showFold=!1}}},"Configs",e.$attrs,!1),e.$listeners)):e._e(),e.hasDark?a("Dark",e._g(e._b({attrs:{mediaQ:e.mediaQ}},"Dark",e.$attrs,!1),e.$listeners)):e._e(),a("Pub",e._g(e._b({attrs:{mediaQ:e.mediaQ}},"Pub",e.$attrs,!1),e.$listeners)),e.showAriaEntrance?a("Aria",{attrs:{mediaQ:e.mediaQ}}):e._e()],1)],1)],1)],1)],1)],1),a("div",{class:e.$style.holder}),a("Feedback",e._g(e._b({attrs:{feedbackLayerType:e.feedbackLayerType},model:{value:e.showFeedback,callback:function(t){e.showFeedback=t},expression:"showFeedback"}},"Feedback",e.$attrs,!1),e.$listeners))],1)}),Zr=[],tl=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",[i("use",{attrs:{"xlink:href":"#woo_svg_nav_"+t.symbol}})])},el=[],il=i("855a");il.keys().forEach((function(t){return il(t)}));var al={props:{symbol:String}},ol=al,nl=Object(P["a"])(ol,tl,el,!1,null,null,null),sl=nl.exports,rl=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-tab",{class:t.$style.main,on:{change:t.tab}},[t._l(t.items,(function(e,a){return[i("a",{directives:[{name:"click-enter",rawName:"v-click-enter",value:function(){return t.clickHandle(a)},expression:"() => clickHandle(index)"}],key:a,class:t.$style.alink,attrs:{href:e.alink},on:{click:function(t){t.preventDefault()}}},[e?i("woo-tab-item",{class:t.$style.tab,attrs:{"aria-label":e.title,index:a,cur:t.navCur===a}},[e.popItems&&e.popItems.length?i("woo-pop",{attrs:{align:"center",flow:t.mediaQ.min,show:e.showPop},on:{"click-outside":function(i){return t.closePop(e.name)}},nativeOn:{mouseenter:function(i){return t.handleMove(e.name)},mouseleave:function(i){return t.handleLeave(e.name)}},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-box",{directives:[{name:"focus-visible",rawName:"v-focus-visible"}],class:[t.$style.item,e.src&&t.$style.avatarItem],attrs:{title:e.title,align:"center",justify:"center"},nativeOn:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.clickHandle(a)}}},[i("woo-badge",{attrs:{dot:"boolean"===typeof e.badge&&e.badge,value:("number"===typeof e.badge||"string"===typeof e.badge)&&e.badge,max:e.maxBadge?e.maxBadge:99,x:"21px",y:"-2px"}},[i("Icons",{class:t.$style.icon,attrs:{symbol:a===t.navCur?e.name+"Flat":e.name}})],1)],1)]},proxy:!0}],null,!0)},[i("woo-pop-wrap",{class:t.$style.pop},t._l(e.popItems,(function(e,a){return i("a-link",{key:a,class:t.$style.aPop,attrs:{linkType:"old",styleType:"none",href:e.href},on:{click:function(t){t.preventDefault()}}},[i("woo-pop-item",{class:t.$style.popitem,nativeOn:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.action()}}},[i("woo-box",{class:t.$style.popitembox},[i("woo-box-item",{attrs:{align:"center"}},[t._v(t._s(e.title))]),i("woo-badge",{attrs:{value:e.unread,max:99,dot:!1}})],1)],1)],1)})),1)],1):i("woo-box",{directives:[{name:"focus-visible",rawName:"v-focus-visible"}],class:[t.$style.item,e.src&&t.$style.avatarItem],attrs:{title:e.title,align:"center",justify:"center"}},[i("woo-badge",{attrs:{dot:"boolean"===typeof e.badge&&e.badge,value:("number"===typeof e.badge||"string"===typeof e.badge)&&e.badge,max:e.maxBadge?e.maxBadge:99,x:"21px",y:"-2px"}},[e.src?i("img",{class:[t.$style.icon,e.src&&t.$style.avatar],attrs:{src:e.src,alt:e.name}}):i("Icons",{class:t.$style.icon,attrs:{symbol:a===t.navCur?e.name+"Flat":e.name}})],1)],1)],1):t._e()],1)]}))],2)},ll=[],cl={components:{Icons:sl},inheritAttrs:!1,props:{navItems:Array,navCur:[Number,String],userInfo:Object,isNormal:Boolean,mediaQ:{type:Object,default:function(){return{}}}},data:function(){return{items:this.navItems}},mounted:function(){this.$Bus.$on("updateNavCur",this.onUpdateNavCur)},beforeDestroy:function(){this.$Bus.$off("updateNavCur",this.onUpdateNavCur)},watch:{navItems:function(t){this.items=t}},methods:{onUpdateNavCur:function(t){this.navCur=t},tab:function(t){this.navCur=t},clickHandle:function(t){this.$emit("nav-ctrl-tap",t)},handleLeave:function(t){var e=this.items.find((function(e){return e.name===t}));e.showPop=!1},handleMove:function(t){var e=this.items.find((function(e){return e.name===t}));e.showPop=!0},closePop:function(t){var e=this.items.find((function(e){return e.name===t}));e.showPop=!1}}},ul=cl,dl=i("7116");function hl(t){this["$style"]=dl["default"].locals||dl["default"]}var pl=Object(P["a"])(ul,rl,ll,!1,hl,null,null),fl=pl.exports,ml=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{class:!t.mediaQ.noside&&t.$style.box},[t.mediaQ.noside?t._e():i("woo-divider",{attrs:{"border-color":"var(--weibo-top-nav-line)",direction:"y"}}),i("IconBox",{attrs:{mediaQ:t.mediaQ,toolName:"aria",id:"cniil_wza",icon:"aria",title:"无障碍"},nativeOn:{click:function(e){return t.startAria(e)}}})],1)},vl=[],_l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{class:[t.$style.btn,t.mediaQ.noside&&"fold"!==t.toolName?t.$style.item:t.$style.wrap,"fold"===t.toolName&&t.$style.wrap,"pub"===t.toolName&&t.$style.pub,"aria"===t.toolName&&t.$style.aria],attrs:{align:"center",justify:t.mediaQ.noside&&"fold"!==t.toolName?"start":"center",tag:t.tag,title:("aria"!==t.toolName&&!t.mediaQ.noside||"fold"===t.toolName)&&t.title}},[i("Icons",{class:t.$style.icon,attrs:{symbol:t.icon}}),t.mediaQ.noside&&"fold"!==t.toolName||"aria"===t.toolName?i("span",[t._v(t._s(t.title))]):t._e()],1)},gl=[],bl={props:{tag:{type:String,default:"button"},title:String,icon:String,toolName:String,mediaQ:{type:Object,default:function(){return{}}}},components:{Icons:sl}},yl=bl,wl=i("cf14");function xl(t){this["$style"]=wl["default"].locals||wl["default"]}var kl=Object(P["a"])(yl,_l,gl,!1,xl,null,null),$l=kl.exports,Cl={props:{mediaQ:{type:Object,default:function(){return{}}}},components:{IconBox:$l},setup:function(){var t=function(){var t,e,i,a;"function"===typeof(null===(t=window)||void 0===t||null===(e=t.aria)||void 0===e?void 0:e.start)&&(null===(i=window)||void 0===i||null===(a=i.aria)||void 0===a||a.start())};return{startAria:t}}},Ol=Cl,jl=i("71af");function Tl(t){this["$style"]=jl["default"].locals||jl["default"]}var Dl=Object(P["a"])(Ol,ml,vl,!1,Tl,null,null),Sl=Dl.exports,Il=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{class:[t.mediaQ.noside?t.$style.itembox:t.$style.box,t.noGap&&t.$style.noGap],attrs:{align:"center"}},[t._l(t.linkItems,(function(e,a){return i("IconBox",{directives:[{name:"focus-visible",rawName:"v-focus-visible"}],key:a,attrs:{mediaQ:t.mediaQ,tag:"a",title:e.title,href:e.href,icon:e.name},nativeOn:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.clickHandle(e)}}})})),!t.linkItems.length||t.noDivider||t.mediaQ.noside?t._e():i("woo-divider",{class:t.$style.line,attrs:{"border-color":"var(--weibo-top-nav-line)",direction:"y"}})],2)},Ll=[],Bl={inheritAttrs:!1,components:{IconBox:$l},props:{linkItems:Array,noDivider:Boolean,noGap:Boolean,mediaQ:{type:Object,default:function(){return{}}}},methods:{clickHandle:function(t){this.$emit("to-links",t)}}},Pl=Bl,Al=i("de5c");function El(t){this["$style"]=Al["default"].locals||Al["default"]}var Ml=Object(P["a"])(Pl,Il,Ll,!1,El,null,null),Fl=Ml.exports,Rl=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("woo-pop",{attrs:{show:t.show,direction:"down",align:"end",gap:t.mediaQ.noside?-40:5,alignGap:t.mediaQ.noside?136:0},on:{"click-outside":t.close},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("IconBox",{directives:[{name:"focus-visible",rawName:"v-focus-visible"}],attrs:{mediaQ:t.mediaQ,title:"设置",icon:"configFlat"},nativeOn:{mousemove:function(e){return t.onMouseMove(e)},mouseleave:function(e){return t.onMouseLeave(e)}}})]},proxy:!0}])},[t.showItem?i("woo-pop-wrap",{ref:"menuList",class:t.$style.layer,style:t.menuListCustomStyle,nativeOn:{click:function(e){return t.onMenuItemClick(e)},mousemove:function(e){return t.onMenuListMouseMove(e)},mouseleave:function(e){return t.onMouseLeave(e)}}},t._l(t.configItems,(function(e,a){return i("div",{key:a},[e.divider?i("woo-divider"):t._e(),i("woo-box",{class:t.$style.alink,attrs:{old:"",tag:e.href?"a":"span",href:e.href},nativeOn:{click:function(t){t.preventDefault()}}},[e.name?i("woo-pop-item",{directives:[{name:"focus-visible",rawName:"v-focus-visible"},{name:"click-enter",rawName:"v-click-enter",value:function(){return t.clickHandle(a)},expression:"() => clickHandle(index)"}],attrs:{role:"button"}},[t._v(" "+t._s(e.name)+" ")]):t._e()],1)],1)})),0):t._e()],1),i("FeatureBubble",{class:t.$style.bubble,attrs:{flag:t.showBubble,configkey:"dark_bubble",content:"点击这里可以进行新版微博意见反馈",gap:t.mediaQ.noside?20:15,timeout:5}})],1)},Vl=[],Nl=i("9382"),Hl={inheritAttrs:!1,components:{IconBox:$l,FeatureBubble:Nl["a"]},props:{configItems:Array,configLayerClose:Boolean,flagSetBubble:Number,mediaQ:{type:Object,default:function(){return{}}}},data:function(){return{show:!1,showBubble:this.flagSetBubble,showItem:!1,timer:null,settingTimer:null,menuListCustomStyle:{}}},watch:{configLayerClose:function(t){t&&this.close()},show:function(t){var e=this;t?this.$nextTick((function(){e.menuListHeightAdjust()})):(this.menuListCustomStyle={},this.$emit("config-closed"))}},methods:{onMenuItemClick:function(){this.showMenu(),this.$emit("closeMenu")},onMouseLeave:function(){var t=this;clearTimeout(this.settingTimer),this.settingTimer=setTimeout((function(){t.showMenu()}),200)},onMouseMove:function(){var t=this;clearTimeout(this.settingTimer),this.settingTimer=setTimeout((function(){t.clickSet()}),200)},onMenuListMouseMove:function(){clearTimeout(this.settingTimer)},close:function(){this.show=!1},clickHandle:function(t){this.$emit("config-item-tap",t)},closeBubble:function(){this.showBubble=1,this.showItem=!1},clickSet:function(){clearTimeout(this.timer),this.showBubble||(this.showBubble=1),this.showMenu(!0),this.showItem=!0},showMenu:function(t){this.show=t},menuListHeightAdjust:function(){var t=this.$refs.menuList.$el;if(t){var e=t.getBoundingClientRect(),i=e.bottom,a=e.top,o=20;if(i>window.innerHeight)return void(this.menuListCustomStyle={height:"".concat(window.innerHeight-a-o,"px"),overflowY:"auto"})}}},beforeDestroy:function(){clearTimeout(this.timer),clearTimeout(this.settingTimer)}},zl=Hl,Ul=i("f84c");function Gl(t){this["$style"]=Ul["default"].locals||Ul["default"]}var ql=Object(P["a"])(zl,Rl,Vl,!1,Gl,null,null),Wl=ql.exports,Ql=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("IconBox",{directives:[{name:"focus-visible",rawName:"v-focus-visible"},{name:"click-enter",rawName:"v-click-enter",value:function(){return t.clickHandle()},expression:"() => clickHandle()"}],attrs:{mediaQ:t.mediaQ,toolName:"pub",title:"发微博",icon:t.mediaQ.noside?"pubFold":"pub"}})},Jl=[],Kl={inheritAttrs:!1,components:{IconBox:$l},props:{configKeypressClose:Boolean,mediaQ:{type:Object,default:function(){return{}}}},methods:{clickHandle:function(){this.$emit("pub-weibo")},callback:function(t){var e,i;"woo-input-main"===(null===t||void 0===t||null===(e=t.target)||void 0===e?void 0:e.className)&&"INPUT"===(null===t||void 0===t||null===(i=t.target)||void 0===i?void 0:i.nodeName)||110!==t.keyCode&&110!==t.which||this.clickHandle()}},mounted:function(){this.configKeypressClose||document.addEventListener("keypress",this.callback,!1)},beforeDestroy:function(){document.removeEventListener("keypress",this.callback,!1)}},Yl=Kl,Xl=Object(P["a"])(Yl,Ql,Jl,!1,null,null,null),Zl=Xl.exports,tc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{class:t.$style.wrap,attrs:{align:"center",justify:"center"}},[i("Icons",{class:t.$style.icon,attrs:{symbol:"search"}})],1)},ec=[],ic={components:{Icons:sl}},ac=ic,oc=i("76ad");function nc(t){this["$style"]=oc["default"].locals||oc["default"]}var sc,rc,lc=Object(P["a"])(ac,tc,ec,!1,nc,null,null),cc=lc.exports,uc=function(){var t,e,i,a,o,n=this,s=n.$createElement,r=n._self._c||s;return r("div",{class:n.$style.wrap},[r("woo-pop",{class:n.$style.main,attrs:{show:n.Isshow,fluid:"",flow:n.mediaQ.min},on:{"click-outside":n.closeAllBox},scopedSlots:n._u([{key:"ctrl",fn:function(){return[r("form",{on:{submit:function(t){return n.toSearch(n.searchInput,t)}}},[r("woo-input",{ref:"sInput",class:[n.$style.main,n.$style.iptbox],attrs:{placeholder:n.placeVal,"is-blur":n.isBlur,"is-focus":n.focus,round:"",debounce:""},on:{blur:n.InputBlur,focus:n.InputFocus},nativeOn:{compositionstart:function(t){return n.watchInputEditorStart(t)},compositionend:function(t){return n.watchInputEditorEnd(t)},keypress:function(t){return t.stopPropagation(),n.inputKeyPress(t)},keyup:[function(t){return!t.type.indexOf("key")&&n._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:n.upDo(t)},function(t){return!t.type.indexOf("key")&&n._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:n.downDo(t)}]},scopedSlots:n._u([{key:"icon",fn:function(){return[r("Icons",{attrs:{symbol:"search"},nativeOn:{click:function(t){return n.toSearch(n.searchInput)}}})]},proxy:!0}]),model:{value:n.searchInput,callback:function(t){n.searchInput="string"===typeof t?t.trim():t},expression:"searchInput"}})],1)]},proxy:!0}])},[n.Isshow&&!n.IsShowRelate?r("woo-pop-wrap",{class:(t={},t[n.$style.result]=!0,t[n.$style.rNoInputBox]=!0,t),attrs:{id:"historyBox"}},[n.SdataLenM>0||n.SdataLenU>0?[r("woo-box",{class:n.$style.SchTopBox,attrs:{align:"center"}},[r("woo-box-item",{class:n.$style.schTopTit},[n._v(" 最近搜索 ")]),r("woo-fonticon",{attrs:{title:"清空历史记录",value:"clear",kind:"dark"},nativeOn:{click:function(t){return n.clearAll(t)}}})],1),n.historySearch&&n.historySearch.length>0?r("div",{class:n.$style.keyWordsBox},n._l(n.historySearch,(function(t,e){var i;return r("woo-pop-item",{key:e,class:(i={},i[n.$style.rsItem]=!0,i[n.$style.rsHover]=n.hoverIndex===e,i),attrs:{id:"historyItem"+e},nativeOn:{mouseover:function(t){return t.stopPropagation(),n.mouseOverItem(e)}},scopedSlots:n._u([{key:"icon",fn:function(){return[r("woo-fonticon",{class:n.$style.iconCross,attrs:{title:"删除",value:"cross"},nativeOn:{click:function(t){return t.stopPropagation(),n.deleteItem(e)}}})]},proxy:!0}],null,!0)},[t&&t.s?r("woo-box-item",{staticStyle:{"min-width":"0px"},nativeOn:{click:function(e){return e.stopPropagation(),n.searchWeibo({sval:{s:t.s},t:1})}}},[r("a-link",{attrs:{"link-type":"old","style-type":"none",href:n.getSearchWeiboHref(t.s)},on:{click:function(t){t.preventDefault()}}},[r("woo-box",{class:n.$style.searchWords,attrs:{align:"center"}},[r("div",{class:n.$style.searchIcon},[r("woo-fonticon",{attrs:{value:"search"}})],1),r("div",{class:n.$style.searchText},[n._v(n._s(t.s))])])],1)],1):n._e(),t&&t.uid?r("woo-box-item",{staticStyle:{"min-width":"0px"},nativeOn:{click:function(e){return n.searchUser({userInfo:t})}}},[r("a-link",{attrs:{"link-type":"old","style-type":"none",href:"/u/"+t.uid},on:{click:function(t){t.preventDefault()}}},[r("woo-box",{attrs:{align:"center"}},[t.profile_url?r("woo-avatar",{attrs:{verified:n.getWeiboVerifiedIcon(t),size:34,src:t.profile_url}}):n._e(),r("woo-box-item",{class:n.$style.userInfoBox},[t.screen_name?r("h5",{class:n.$style.sName},[n._v(" "+n._s(t.screen_name)+" ")]):n._e(),t.verified_reason?r("p",{class:n.$style.sDesc},[n._v(" "+n._s(t.verified_reason)+" ")]):n._e(),!t.verified_reason&&t.description?r("p",{class:n.$style.sDesc},[n._v(" "+n._s(t.description)+" ")]):n._e(),!t.followers_count||t.description||t.verified_reason?n._e():r("p",{class:n.$style.sDesc},[n._v(" 粉丝："+n._s(n.fansFormat(t.followers_count))+" ")])])],1)],1)],1):n._e()],1)})),1):n._e()]:r("woo-box",{class:(e={},e[n.$style.weiboTopBox]=!0,e[n.$style.noDataBox]=!0,e),attrs:{align:"center",justify:"center"}},[r("div",{class:n.$style.nodataIcon},[r("woo-tip",{attrs:{type:"warn",sort:"vertical"}},[n._v("暂无搜索内容")])],1)])],2):n._e(),n.IsShowRelate?r("woo-pop-wrap",{class:(i={},i[n.$style.result]=!0,i[n.$style.rInputBox]=!0,i)},[r("div",{class:n.$style.rWeibo},[r("a-link",{attrs:{"link-type":"old","style-type":"none",href:"/search?containerid="+encodeURIComponent("100103type=1&q="+n.searchNoUpDown+"&t=2")},on:{click:function(t){t.preventDefault(),t.stopPropagation()}}},[r("woo-box",{class:(a={},a[n.$style.weiboTopBox]=!0,a[n.$style.topCur]=String(n.inRelativeWrapCur)+String(n.inRelativeCur)==="00",a),nativeOn:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.searchWeibo({sval:{s:n.searchNoUpDown},t:2})}}},[r("woo-box-item",{class:n.$style.weiboNameReTitTop},[r("span",[n._v("“")]),r("span",{class:n.$style.maxText},[n._v(n._s(n.searchNoUpDown))]),r("span",[n._v("”")]),r("span",[n._v("相关微博")])]),r("woo-fonticon",{attrs:{value:"angleRight"}})],1)],1),n.searchWordsRelateList.length>0?n._l(n.searchWordsRelateList,(function(t,e){var i;return r("woo-pop-item",{key:e,class:(i={},i[n.$style.rsItem]=!0,i[n.$style.rsItemCur]=String(n.inRelativeWrapCur)+String(n.inRelativeCur)==="0"+String(e+1),i)},[r("woo-box-item",{staticStyle:{"min-width":"0px"},nativeOn:{click:function(e){return e.stopPropagation(),n.searchWeibo({keywords:{s:t.suggestion},t:2})}}},[r("a-link",{attrs:{"link-type":"old","style-type":"none",href:"/search?containerid="+encodeURIComponent("100103type=1&q="+t.suggestion+"&t=2")},on:{click:function(t){t.preventDefault()}}},[r("div",{class:n.$style.weiboList},[r("woo-box-item",[r("woo-box",{attrs:{align:"center"}},[r("div",{class:n.$style.searchIcon},[r("woo-fonticon",{attrs:{value:"search"}})],1),t.suggestion?r("woo-box-item",{class:n.$style.weiboName},[n._v(n._s(t.suggestion))]):n._e(),t.top_flag&&2!==t.top_flag?r("div",{class:n.$style.iconHot},[r("span",[n._v("热")])]):n._e()],1)],1)],1)])],1)],1)})):n._e()],2),r("div",{class:n.$style.rUser},[r("a-link",{attrs:{"link-type":"old","style-type":"none",href:"/search?containerid="+encodeURIComponent("100103type=3&q="+n.searchNoUpDown+"&t=2")},on:{click:function(t){t.preventDefault(),t.stopPropagation()}}},[r("woo-box",{class:(o={},o[n.$style.weiboTopBox]=!0,o[n.$style.topCur]=String(n.inRelativeWrapCur)+String(n.inRelativeCur)==="10",o),nativeOn:{click:function(t){return n.searchUser({sval:{s:n.searchNoUpDown}})}}},[r("woo-box-item",{class:n.$style.weiboNameReTitTop},[r("span",[n._v("“")]),r("span",{class:n.$style.maxText},[n._v(n._s(n.searchNoUpDown))]),r("span",[n._v("”")]),r("span",[n._v("相关用户")])]),r("woo-fonticon",{attrs:{value:"angleRight"}})],1)],1),n.searchUserRelateList.length>0?n._l(n.searchUserRelateList,(function(t,e){var i;return r("woo-pop-item",{key:t.id,class:(i={},i[n.$style.rsItem]=!0,i[n.$style.rsItemCur]=String(n.inRelativeWrapCur)+String(n.inRelativeCur)==="1"+String(e+1),i)},[r("woo-box-item",{staticStyle:{"min-width":"0px"},nativeOn:{click:function(e){return n.searchUser({userInfo:{verified_reason:t.verified_reason,profile_url:t.profile_image_url,uid:t.id,screen_name:t.screen_name,followers_count:t.followers_count,description:t.description,verified:t.verified,verified_type:t.verified_type,verified_type_ext:t.verified_type_ext}})}}},[r("a-link",{attrs:{"link-type":"old","style-type":"none",href:"/u/"+(t.idstr||t.id)},on:{click:function(t){t.preventDefault()}}},[r("woo-box",{attrs:{align:"center"}},[r("woo-avatar",{attrs:{verified:n.getWeiboVerifiedIcon(t),size:34,src:t.profile_image_url}}),r("woo-box-item",{class:n.$style.userInfoBox},[r("h5",{class:n.$style.sName},[n._v(n._s(t.screen_name))]),t.verified_reason?r("p",{class:n.$style.sDesc},[n._v(" "+n._s(t.verified_reason)+" ")]):n._e(),!t.verified_reason&&t.description?r("p",{class:n.$style.sDesc},[n._v(" "+n._s(t.description)+" ")]):n._e(),!t.followers_count||t.description||t.verified_reason?n._e():r("p",{class:n.$style.sDesc},[n._v(" 粉丝："+n._s(n.fansFormat(t.followers_count))+" ")])])],1)],1)],1)],1)})):n._e()],2)]):n._e()],1)],1)},dc=[],hc=i("70e7"),pc={name:"a-link",props:{linkType:{type:String,default:"router",validator:function(t){return["router","old"].includes(t)}},styleType:{type:String,default:"weibo",validator:function(t){return["weibo","none"].includes(t)}}},render:function(t){var e="router"===this.linkType?"router-link":"a";return t(e,{props:this.$attrs,on:this.$listeners,class:this.$style[this.styleType]},this.$slots.default)}},fc=pc,mc=i("c297");function vc(t){this["$style"]=mc["default"].locals||mc["default"]}var _c=Object(P["a"])(fc,sc,rc,!1,vc,null,null),gc=_c.exports,bc={name:"SearchBar",components:{Icons:sl,ALink:gc},inheritAttrs:!1,props:{searchWordsRelateList:Array,searchUserRelateList:Array,focus:Boolean,enableSweibocom:Boolean,inOutside:Boolean,mediaQ:{type:Object,default:function(){return{}}}},data:function(){return{show:!1,search:"search",searchInput:"",historySearch:[],hoverIndex:-1,SdataLen:0,border:!1,showRelateBox:!1,watchWord:"",placeVal:"搜索微博",isBlur:!1,searchKey:"",isEditing:!1,isChineseEditing:!1,isKeyUpDown:!1,inRelativeWrapCur:0,inRelativeCur:-1,searchNoUpDown:"",fromHotSearch:!1,timer:null}},watch:{show:function(t){this.$emit("visibleChange",t)},focus:function(t,e){t&&this.InputFocus()},searchInput:function(t){var e=this;t.length>0?(this.isBlur||(this.show=!0),this.isKeyUpDown||(this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout((function(){e.$emit("get-search-data",t),e.searchNoUpDown=t,e.showRelateBox=!0,e.timer=null}),300))):(this.showRelateBox=!1,this.inRelativeWrapCur=0,this.inRelativeCur=-1)},$route:function(t,e){if(t.path.match(/\/search/g)){if(t.query.containerid){var i=St.a.parse(t.query.containerid).q;this.searchInput=i,this.fromHotSearch=!0,this.show=!1,this.$emit("showSearchInput",!0)}}else this.inOutside?t.$route&&t.$route.query.q&&(this.searchInput=this.$route.query.q,this.fromHotSearch=!0,this.show=!1,this.$emit("showSearchInput",!0)):this.searchInput=""}},computed:{SdataLenM:function(){return this.SdataLen},Isshow:function(){return this.show},IsShowRelate:function(){return this.showRelateBox},hishoverIndex:function(){return this.hoverIndex}},mounted:function(){if(this.$route&&this.$route.path.match(/\/search/g)){if(this.$route.query.containerid){var t=St.a.parse(this.$route.query.containerid).q;this.searchInput=t,this.fromHotSearch=!0,this.show=!1,this.$emit("showSearchInput",!0)}}else this.inOutside&&this.$route.query.q&&(this.searchInput=this.$route.query.q,this.fromHotSearch=!0,this.show=!1,this.$emit("showSearchInput",!0))},created:function(){var t=[];this.$attrs.user&&this.$attrs.user.id?this.searchKey="searchWord"+this.$attrs.user.id:this.searchKey="searchWord";try{t=JSON.parse(decodeURIComponent(localStorage.getItem(this.searchKey)))}catch(e){throw localStorage.removeItem(this.searchKey,[]),t=JSON.parse(decodeURIComponent(localStorage.getItem(this.searchKey))),Error(e)}Array.isArray(t)&&(this.historySearch=t),this.historySearch&&this.historySearch.length>0&&(this.SdataLen=this.historySearch.length)},methods:{getSearchWeiboHref:function(t){return this.enableSweibocom?"//s.weibo.com/weibo?q=".concat(encodeURIComponent(t)):"/search?containerid=".concat(encodeURIComponent("100103type=1&q=".concat(t,"&t=1")))},watchInputEditorStart:function(){this.isEditing=!0,this.isChineseEditing=!0},watchInputEditorEnd:function(){this.isEditing=!0,this.isChineseEditing=!1},inputKeyPress:function(){this.isKeyUpDown=!1,this.isEditing=!1},upDo:function(){this.isChineseEditing||(this.isKeyUpDown=!0,this.showRelateBox?(-1===this.inRelativeWrapCur&&(this.inRelativeWrapCur=1),0===this.inRelativeWrapCur&&0===this.inRelativeCur&&(this.inRelativeCur=this.searchUserRelateList.length+1,this.inRelativeWrapCur=1),1===this.inRelativeWrapCur&&0===this.inRelativeCur&&(this.inRelativeCur=this.searchWordsRelateList.length+1,this.inRelativeWrapCur=0),this.inRelativeCur--,0===this.inRelativeWrapCur?this.inRelativeCur>0?this.searchInput=this.searchWordsRelateList[this.inRelativeCur-1].suggestion:this.searchInput=this.searchNoUpDown:this.inRelativeCur>0?this.searchInput=this.searchUserRelateList[this.inRelativeCur-1].screen_name:this.searchInput=this.searchNoUpDown):(this.upDownScroll("up"),this.hoverIndex>=0&&this.historySearch[this.hoverIndex]&&(this.searchInput=this.historySearch[this.hoverIndex].s?this.historySearch[this.hoverIndex].s:"")))},downDo:function(){this.isChineseEditing||(this.isKeyUpDown=!0,this.showRelateBox?(2===this.inRelativeWrapCur&&(this.inRelativeWrapCur=-1),0===this.inRelativeWrapCur&&this.inRelativeCur===this.searchWordsRelateList.length&&(this.inRelativeCur=-1,this.inRelativeWrapCur++),1===this.inRelativeWrapCur&&this.inRelativeCur===this.searchUserRelateList.length&&(this.inRelativeCur=-1,this.inRelativeWrapCur=0),this.inRelativeCur++,0===this.inRelativeWrapCur?this.inRelativeCur>0?this.searchInput=this.searchWordsRelateList[this.inRelativeCur-1].suggestion:this.searchInput=this.searchNoUpDown:this.inRelativeCur>0?this.searchInput=this.searchUserRelateList[this.inRelativeCur-1].screen_name:this.searchInput=this.searchNoUpDown):(this.upDownScroll("down"),this.historySearch[this.hoverIndex]&&(this.searchInput=this.historySearch[this.hoverIndex].s?this.historySearch[this.hoverIndex].s:"")))},mouseOverItem:function(t){this.isKeyUpDown||(this.hoverIndex=t),this.isKeyUpDown=!1},upDownScroll:function(t){var e=document.documentElement.clientHeight,i=document.querySelector("#historyBox");if("down"===t){this.hoverIndex===this.SdataLen&&(this.hoverIndex=-1,i.scrollTo(0,0)),this.hoverIndex++;var a=document.querySelector("#historyItem"+this.hoverIndex);if(a){var o=a.getBoundingClientRect().bottom;o>e&&i.scrollTo(0,i.scrollTop+a.offsetHeight)}}if("up"===t){-1===this.hoverIndex&&(this.hoverIndex=this.SdataLen),this.hoverIndex--;var n=document.querySelector("#historyItem"+this.hoverIndex);if(n){var s=n.getBoundingClientRect().bottom;this.hoverIndex===this.SdataLen-1?i.scrollTo(0,s):s<e&&i.scrollTo(0,i.scrollTop-n.offsetHeight)}}},closeAllBox:function(){this.clearUpDownObj(),this.$emit("blur",!this.isBlur)},InputBlur:function(){this.placeVal="搜索微博",this.isBlur=!0,this.$emit("blur",!this.isBlur)},InputFocus:function(){if(this.fromHotSearch)return this.fromHotSearch=!1,this.isBlur=!0,void this.$emit("blur",!this.isBlur);this.isBlur=!1,this.$emit("blur",!this.isBlur),this.placeVal="",this.show=!0,this.searchInput.length>0?(this.showRelateBox=!0,this.searchNoUpDown=this.searchInput):this.showRelateBox=!1},searchWeibo:function(t){t.keywords&&t.keywords.s&&t.keywords.s.length>0&&(this.setLocalStorage(t.keywords),this.$emit("search-control-url",{path:"/search",query:{containerid:"100103type=1&q=".concat(t.keywords.s,"&t=").concat(t.t),q:t.keywords.s},type:"weibo"}),this.searchInput=t.keywords.s),t.sval&&t.sval.s&&t.sval.s.length>0&&(this.setLocalStorage(t.sval),this.$emit("search-control-url",{path:"/search",query:{containerid:"100103type=1&q=".concat(t.sval.s,"&t=").concat(t.t),q:t.sval.s},type:"weibo"}),this.searchInput=t.sval.s),this.clearUpDownObj()},searchUser:function(t){t.userInfo&&t.userInfo&&t.userInfo.uid&&(this.setLocalStorage(t.userInfo),this.$emit("search-control-url",{path:"/u/".concat(t.userInfo.uid),type:"profile"})),t.sval&&t.sval.s.length>0&&(this.setLocalStorage(t.sval),this.$emit("search-control-url",{path:"/search",query:{containerid:"100103type=3&q=".concat(t.sval.s,"&t=1"),q:t.sval.s},type:"user"}),this.searchInput=t.sval.s),this.clearUpDownObj()},clearUpDownObj:function(){this.show=!1,this.showRelateBox=!1,this.isBlur=!0,this.isKeyUpDown=!1,this.hoverIndex=-1,this.inRelativeWrapCur=0,this.inRelativeCur=-1,this.searchNoUpDown="",this.fromHotSearch=!1},toSearch:function(t,e){if(e.preventDefault(),this.isEditing)this.isEditing=!1;else{if(this.isBlur=!0,this.$emit("blur",!this.isBlur),this.searchInput)if(1===this.inRelativeWrapCur)if(this.inRelativeCur>0){var i=this.searchUserRelateList[this.inRelativeCur-1];this.$set(i,"uid",i.id),this.$set(i,"profile_url",i.profile_image_url),this.searchUser({userInfo:i})}else this.searchUser({sval:{s:this.searchNoUpDown}});else this.searchWeibo({sval:{s:t},t:0});else!this.showRelateBox&&this.show&&this.searchUser({userInfo:this.historySearch[this.hoverIndex]});this.clearUpDownObj()}},setLocalStorage:function(t){var e=this;if(!window.localStorage)throw Error("浏览器不支持localStorage");var i=null;try{i=JSON.parse(decodeURIComponent(localStorage.getItem(this.searchKey))),null==i?(t.s&&t.s.length>0&&this.historySearch.push(t),t.uid&&this.historySearch.push(t),this.historySearch.length>0&&(this.SdataLen=this.historySearch.length),localStorage.setItem(this.searchKey,window.encodeURIComponent(JSON.stringify(this.historySearch)))):(this.historySearch=i,this.historySearch.forEach((function(i,a){t.s&&t.s.length>0&&i.s&&t.s===i.s&&e.historySearch.splice(a,1),t.uid&&i.uid&&t.uid===i.uid&&e.historySearch.splice(a,1)})),this.SdataLenM<20||this.historySearch.pop(),this.historySearch.unshift(t),this.historySearch.length>0&&(this.SdataLen=this.historySearch.length),localStorage.setItem(this.searchKey,window.encodeURIComponent(JSON.stringify(this.historySearch))))}catch(a){throw Error(a)}},deleteItem:function(t){this.historySearch.splice(t,1),this.historySearch.length>0?this.SdataLen=this.historySearch.length:(this.SdataLen=0,this.show=!1,this.hoverIndex=-1);try{localStorage.setItem(this.searchKey,window.encodeURIComponent(JSON.stringify(this.historySearch)))}catch(e){throw Error(e)}},clearAll:function(){try{localStorage.removeItem(this.searchKey,[]),this.historySearch.splice(0,this.SdataLen),this.SdataLen=0}catch(t){throw Error(t)}},getWeiboVerifiedIcon:mi["a"],fansFormat:hc["a"]}},yc=bc,wc=i("8841");function xc(t){this["$style"]=wc["default"].locals||wc["default"]}var kc=Object(P["a"])(yc,uc,dc,!1,xc,null,null),$c=kc.exports,Cc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Modal",{class:t.$style.feedbackBox,scopedSlots:t._u([{key:"title",fn:function(){return[t._v("感谢你提供宝贵的产品建议")]},proxy:!0},{key:"content",fn:function(){var e,a;return[i("div",{class:t.$style.scroll3,on:{touchmove:function(t){t.stopPropagation()}}},[i("div",{class:t.$style.content},["feedback_intercept"===t.type?i("div",{class:t.$style.desc},[t._v(" 即将回到原版微博，你是否遇到了某个产品问题？希望在此得到你的反馈。 ")]):t._e(),i("div",{class:t.$style.item},[t._v("你在哪个页面遇到了问题？")]),i("woo-box",[i("woo-box-item",{class:(e={},e[t.$style.cur]=t.selectedEmpty,e)},[i("v-select",{attrs:{placeholder:"请选择产品模块",options:t.options},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),i("div",{class:t.$style.item},[t._v("描述你的问题（500字以内）")]),i("Form",{class:(a={},a[t.$style.cur]=t.textEmpty,a),attrs:{maxCount:500,sizeConfig:{height:"48px",width:"100%",maxHeight:100}},on:{textcount:t.formTextCount,change:t.textChange}}),i("div",{class:t.$style.num,domProps:{innerHTML:t._s(t.formCount.count+"/"+t.formCount.maxcount)}}),i("div",{class:t.$style.item},[t._v("上传图片附件")]),i("PublisherImage",{ref:"image",on:{change:t.imageChange}})],1),i("woo-box",{class:t.$style.btn,attrs:{align:"center",justify:"center"}},[i("woo-button",{class:t.$style.cancel,attrs:{sort:"line",kind:"default"},nativeOn:{click:function(e){return t.cancel(e)}}},[t._v("取消")]),i("woo-button",{attrs:{sort:"flat",kind:"primary"},nativeOn:{click:function(e){return t.submit(e)}}},[t._v(" 提交")])],1)],1)]},proxy:!0}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})},Oc=[],jc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.visible?i("woo-modal",{attrs:{animation:"pop","lock-screen":""}},[i("div",{staticClass:"wbpro-layer"},[i("woo-panel",{attrs:{border:"bottom"}},[i("woo-box",{staticClass:"wbpro-layer-tit"},[i("woo-box-item",{staticClass:"wbpro-layer-tit-text",attrs:{align:"center"}},[t._t("title")],2),i("woo-box",{staticClass:"wbpro-layer-tit-opt",attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"cross"},nativeOn:{click:function(e){t.visible=!1}}})],1)],1)],1),t._t("content")],2)]):t._e()},Tc=[],Dc={name:"ReplyModal",props:{value:{type:Boolean,default:!1}},data:function(){return{visible:!1}},mounted:function(){this.value&&(this.visible=!0)},watch:{value:function(t){this.visible=t},visible:function(t){this.$emit("input",t)}}},Sc=Dc,Ic=Object(P["a"])(Sc,jc,Tc,!1,null,null,null),Lc=Ic.exports,Bc=function(){var t,e,i=this,a=i.$createElement,o=i._self._c||a;return o("div",{staticClass:"wbpro-form",class:(t={focus:i.form_focus,error:i.form_error},t[i.$style.wbproform]=!0,t),on:{click:function(t){t.stopPropagation()}}},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:i.text,expression:"text"}],ref:"form",class:(e={},e[i.$style.input]=!0,e[i.$style.wrap]=i.text&&i.wrap,e),style:"width:"+i.sizeConfig.width+";height:"+i.sizeConfig.height+";",attrs:{placeholder:i.placeholder},domProps:{value:i.text},on:{focus:i.focus,keypress:function(t){t.stopPropagation()},keydown:[function(t){return!t.type.indexOf("key")&&i._k(t.keyCode,"enter",13,t.key,"Enter")?null:i.keydown_enter(t)},function(t){return!t.type.indexOf("key")&&i._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),i.keydown_down(t))},function(t){return!t.type.indexOf("key")&&i._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),i.keydown_up(t))}],input:function(t){t.target.composing||(i.text=t.target.value)}}})])},Pc=[],Ac={8:"backspace",9:"tab",12:"clear",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",91:"meta",93:"meta",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",108:"return",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ec={0:")",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",a:"A",b:"B",c:"C",d:"D",e:"E",f:"F",g:"G",h:"H",i:"I",j:"J",k:"K",l:"L",m:"M",n:"N",o:"O",p:"P",q:"Q",r:"R",s:"S",t:"T",u:"U",v:"V",w:"W",x:"X",y:"Y",z:"Z","`":"~","-":"_","=":"+",";":":",",":"<",".":">","/":"?","\\":"|","'":'"',"[":"{","]":"}"},Mc=["8","9","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","45","46","91","93","96","97","98","99","100","101","102","103","104","105","106","107","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","144","145","191"],Fc={};Mc.forEach((function(t){return Fc[t]=Ac[t]}));var Rc=function(t){var e=Fc[t.which],i=Ac[t.which],a={},o="";return a[i]=!0,t.altKey&&"alt"!==e&&(o+="alt+",a["alt"]=!0),t.ctrlKey&&"ctrl"!==e&&(o+="ctrl+",a["ctrl"]=!0),t.metaKey&&!t.ctrlKey&&"meta"!==e&&(o+="meta+",a["meta"]=!0),t.shiftKey&&"shift"!==e&&(o+="shift+",a["shift"]=!0),t.which>=65&&t.which<=90&&(a["a-z"]=!0),(t.which>=48&&t.which<=57||t.which>=96&&t.which<=105)&&(a["0-9"]=!0),(t.which>=106&&t.which<=111&&108!==t.which||t.which>=186&&t.which<=222||t.which>=48&&t.which<=57&&!0===a.shift)&&(a["symbol"]=!0),e?a[o+e]=!0:(a[o+i]=!0,a[o+Ec[i]]=!0,"shift+"===o&&(a[Ec[i]]=!0)),a},Vc=Rc,Nc=document.selection,Hc=function(t){if(!Nc)try{return t.selectionStart}catch(o){return 0}var e=0,i=Nc.createRange(),a=document.body.createTextRange();try{a.moveToElementText(t)}catch(n){}for(e;a.compareEndPoints("StartToStart",i)<0;e++)a.moveStart("character",1);return e},zc=function(t){return t.value.slice(0,Hc(t))},Uc=function(t,e,i){if(t.focus(),Nc){var a=t.createTextRange();a.collapse(1),a.moveStart("character",e),a.moveEnd("character",i-e),a.select()}else t.setSelectionRange(e,i)},Gc=function(t,e,i,a){if(t.focus(),a=a||0,!Nc){var o=t.value,n=i-a,s=n+e.length;return t.value=o.slice(0,n)+e+o.slice(i,o.length),void Uc(t,s,s)}var r=Nc.createRange();r.moveStart("character",-a),r.text=e},qc=function(t,e){t.focus();var i=t.value,a=Qc(t),o=a.length;if(0==a.length)Gc(t,e,Wc(t));else{var n=Wc(t);if(Nc){var s=Nc.createRange();s.text=e,Jc(t,n+e.length)}else t.value=i.slice(0,n)+e+i.slice(n+o,i.length),Jc(t,n+e.length)}},Wc=function(t){var e=0;if(Nc){t.focus();var i=Nc.createRange(),a=i.duplicate();a.moveToElementText(t),a.setEndPoint("EndToEnd",i),t.selectionStartIE=a.text.length-i.text.length,t.selectionEndIE=t.selectionStartIE+i.text.length,e=t.selectionStartIE}else(t.selectionStart||"0"==t.selectionStart)&&(e=t.selectionStart);return e},Qc=function(t){var e="",i=function(t){return void 0!=t.selectionStart&&void 0!=t.selectionEnd?t.value.substring(t.selectionStart,t.selectionEnd):""};return e=window.getSelection?i(t):Nc.createRange().text,e},Jc=function(t,e,i){if(e=null==e?t.value.length:e,i=null==i?0:i,t.focus(),t.createTextRange){var a=t.createTextRange();a.move("character",e),a.moveEnd("character",i),a.select()}else t.setSelectionRange&&t.setSelectionRange(e,e+i)},Kc=function(t,e,i){i=null==i?{}:i,i.rcs=null==i.rcs?t.value.length:1*i.rcs,i.rccl=null==i.rccl?0:1*i.rccl;var a=t.value,o=a.slice(0,i.rcs),n=a.slice(i.rcs+i.rccl,""==a?0:a.length);t.value=o+e+n,this.setCursor(t,i.rcs+(null==e?0:e.length))},Yc={selectionStart:Hc,selectionBefore:zc,selectText:Uc,insertText:Gc,replaceText:qc,getCursorPos:Wc,getSelectedText:Qc,setCursor:Jc,unCoverInsertText:Kc},Xc=null!=window.mozInnerScreenX,Zc=document.createElement("div"),tu=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e[0]instanceof Array?e[0].map((function(t){return t+e[1]})):e[1]instanceof Array?e[1].map((function(t){return e[0]+t})):void 0},eu=["direction","boxSizing","width","height","borderStyle","lineHeight","letterSpacing","wordSpacing","tabSize","MozTabSize"].concat(Object(V["a"])(tu("offset",["X","Y"])),Object(V["a"])(tu(tu("border",["Top","Right","Bottom","Left"]),"Width")),Object(V["a"])(tu("padding",["Top","Right","Bottom","Left"])),Object(V["a"])(tu("font",["Style","Variant","Weight","Stretch","Size","SizeAdjust","Family"])),Object(V["a"])(tu("text",["Align","Transform","Indent","Decoration"])),Object(V["a"])(tu("font",["Style","Variant","Weight","Stretch","Size","SizeAdjust"]))),iu=function(t,e){document.body.appendChild(Zc);var i=Zc.style,a=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,o="INPUT"===t.nodeName;o||(i.wordWrap="break-word"),i.whiteSpace="pre-wrap",i.position="absolute",i.visibility="hidden",i.overflow="hidden",eu.forEach((function(t){o&&"lineHeight"===t?i.lineHeight=a.height:i[t]=a[t]})),Xc&&t.scrollHeight>parseInt(a.height)&&(i.overflowY="scroll"),Zc.textContent=t.value.substring(0,e),o&&(Zc.textContent=Zc.textContent.replace(/\s/g," "));var n=document.createElement("span");n.textContent=t.value.substring(e)||"|",Zc.appendChild(n);var s={top:n.offsetTop-t.scrollTop+parseInt(a["borderTopWidth"]),left:n.offsetLeft+parseInt(a["borderLeftWidth"]),height:parseInt(a["lineHeight"])};return document.body.removeChild(Zc),s},au=function(t){if(!t)return 0;var e=t.match(/[^\x00-\xff]/g);return t.length+(e?e.length:0)},ou={props:{content:{type:String,default:""},placeholder:{type:String,default:""},composer:{type:Boolean,default:!1},maxCount:{type:Number,default:5e3},status:{type:String,default:""},sizeConfig:{type:Object,default:function(){return{height:"48px",width:"100%",maxHeight:200}}},storge:{type:Boolean,default:!1},suggestSwitch:{type:Boolean,default:!0}},data:function(){return{text:"",form_focus:!1,form_error:!1,suggest:{},quick:!1,wrap:!1}},methods:{clickBlur:function(){this.blur()},onhead:function(){var t=this;this.form_focus=!0,this.$refs.form.select(),this.$nextTick((function(){t.$refs.form&&t.$refs.form.setSelectionRange&&t.$refs.form.setSelectionRange(0,0)}))},click:function(){this.keyup({target:this.$refs.form})},blur:function(){var t=this;this.form_focus=!1,this.$refs.form.blur(),setTimeout((function(){t.suggest={}}),15)},focus:function(){this.$emit("hide"),this.form_focus=!0},keyup:function(t){var e=t.target,i=Yc.selectionStart(e),a=e.value.substr(0,i),o=e.value.substr(i,1),n=a.match(/([@|#])([a-z0-9\u4e00-\u9fa5_-]{0,20})$/i);if(null!=n&&this.suggestSwitch){var s=iu(e,a.slice(0,-"".concat(n[1]).concat(n[2]).length).length);if(n[2]==this.suggest.word&&n.index==this.suggest.type_start)return;this.suggest={type:n[1],type_start:n.index,word:n[2],back_word:o,left:s.left,top:s.top+s.height,quick:a.match(/.*(\s)$/)&&""===a.match(/.*(\s)$/)[1],form:this.$refs.form}}else this.suggest={}},keydown_down:function(t){this.$refs.suggest.keydown(t)},keydown_up:function(t){this.$refs.suggest.keyup(t)},keydown_enter:function(t){if(null!=this.suggest.type)return this.$refs.suggest.keyenter(t),t.preventDefault();var e=Vc(t);return e["ctrl+return"]||e["meta+return"]?t.preventDefault():void 0},suggestSelect:function(t){var e=this,i=e.suggest.type_start,a=e.suggest.type_start+e.suggest.word.length+1,o="";if(null!=t)switch(e.suggest.type){case"@":o="@".concat(t.screen_name," ");break;case"#":"#"==e.suggest.back_word&&(a+=1),o="".concat(e.suggest.type).concat(t).concat(e.suggest.type," ");break;case"$":"$"==e.suggest.back_word&&(a+=1),o="".concat(e.suggest.type).concat(t).concat(e.suggest.type," ");break}Yc.selectText(e.$refs.form,i,a),Yc.replaceText(e.$refs.form,o),e.text=e.$refs.form.value},inserText:function(t){var e=this;Yc.replaceText(e.$refs.form,t),e.text=e.$refs.form.value}},watch:{form_focus:function(t){this.$emit("focuschange",t)},content:function(t){this.text=t,this.storge&&localStorage.setItem("from_content",t)},text:function(t){var e=this;this.$refs.form.style.height=this.sizeConfig.height,this.$nextTick((function(){e.$refs.form.style.height="".concat(Math.min(e.$refs.form.scrollHeight,e.sizeConfig.maxHeight||200),"px")})),this.$emit("change",t);var i=t.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"00000000000000000000"),a=Math.ceil(au(i)/2);if("mini"===this.status){var o=16*a;o>this.$refs.form.clientWidth-64?this.wrap=!0:this.wrap=!1}this.form_error=a>this.maxCount,this.$emit("textcount",{count:a,maxcount:this.maxCount})}},mounted:function(){if(this.text=this.content,!this.text&&this.storge){var t=localStorage.getItem("from_content")||"";this.text=t}window.addEventListener("click",this.clickBlur)},beforeDestroy:function(){window.removeEventListener("click",this.clickBlur)}},nu=ou,su=i("664d");function ru(t){this["$style"]=su["default"].locals||su["default"]}var lu=Object(P["a"])(nu,Bc,Pc,!1,ru,null,null),cu=lu.exports,uu=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{directives:[{name:"show",rawName:"v-show",value:t.upload_list.length>=0,expression:"upload_list.length >= 0"}],attrs:{old:"","gap-row":4,"gap-col":4,items:6},nativeOn:{dragover:function(t){t.stopPropagation(),t.preventDefault()},drop:function(t){t.stopPropagation(),t.preventDefault()}}},[t._l(t.upload_list,(function(e,a){return i("woo-box-item",{key:a,attrs:{draggable:"true"},nativeOn:{dragstart:function(e){return t.onDragStart(arguments[0],a)},dragover:function(e){return e.preventDefault(),t.onDragEnter(arguments[0],a)},dragend:function(e){return e.preventDefault(),t.onDragEnd(e)}}},[i("div",{class:t.$style.picbed},[!e.crop&&e.url?i("woo-picture",{class:t.$style.pic,attrs:{src:e.url}}):t._e(),e.crop&&e.url?i("div",{class:t.$style.focuspic,style:t.getCropViewStyle(e)}):t._e(),e.status<3?i("woo-box",{class:t.$style.loading,attrs:{align:"center",justify:"center"}},[i("woo-spinner",{attrs:{size:"32px",color:"#fff"}})],1):t._e(),i("woo-fonticon",{class:t.$style.close,attrs:{title:"删除",value:"close",kind:"dark",abovePic:""},nativeOn:{click:function(e){return t.delItem(a)}}})],1)])})),i("woo-box-item",{directives:[{name:"show",rawName:"v-show",value:t.upload_list.length<18&&0!=t.upload_list.length||0===t.upload_list.length,expression:"\n      (upload_list.length < 18 && upload_list.length != 0) ||\n      upload_list.length === 0\n    "}]},[i("div",{class:t.$style.picbed,attrs:{title:"添加"}},[i("FileUpload",{ref:"file_upload",on:{change:t.change}})],1)])],2)},du=[];function hu(t){t=String(t);var e,i="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D";"undefined"==typeof e&&(e=0);var a=0,o=0;e^=-1;for(var n=0,s=t.length;n<s;n++)o=255&(e^t.charCodeAt(n)),a="0x"+i.substr(9*o,8),e=e>>>8^a;return-1^e}var pu=function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bmiddle",a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("undefined"==typeof i&&(i="bmiddle"),"undefined"==typeof a&&(a=!1),"w"==t[9]||"y"==t[9]&&t.length>=32){var o=1+(3&hu(t)),n="g"==t[21]?"gif":"jpg";e=a?"w"==t[9]?"https://ww"+o+".sinaimg.cn/"+i+"/"+t+"."+n:"https://wx"+o+".sinaimg.cn/"+i+"/"+t+"."+n:"w"==t[9]?"http://ww"+o+".sinaimg.cn/"+i+"/"+t+"."+n:"http://wx"+o+".sinaimg.cn/"+i+"/"+t+"."+n}else{var s=1+(15&parseInt(t.substr(-2,2),16));e=a?"https://ss"+s+".sinaimg.cn/"+i+"/"+t+"&690":"http://ss"+s+".sinaimg.cn/"+i+"/"+t+"&690"}return e},fu=(i("ace4"),function(){var t=window.$CONFIG&&window.$CONFIG.user.watermark||{};return St.a.stringify(t)}),mu=function(t){return new Promise((function(e){var i=new FileReader;i.onload=function(t){return e(t.target.result)},i.onerror=function(){return e("")},i.readAsArrayBuffer(t)}))},vu=function(t){return new Promise(function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(i){var a,o,n,s,r,l,c,u,d,h,p,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,mu(t);case 2:if(a=e.sent,o=new DataView(a),e.prev=4,n=0,s=o.byteLength,65496==o.getUint16(0,!1)){e.next=9;break}return e.abrupt("return",i(1));case 9:if(!(n<s)){e.next=17;break}if(65505!=o.getUint16(n,!1)){e.next=14;break}return e.abrupt("break",17);case 14:n+=2;case 15:e.next=9;break;case 17:if(!(n>=s)){e.next=19;break}return e.abrupt("return",i(1));case 19:if(r=n,l=r+4,1165519206==o.getUint32(l,!1)){e.next=23;break}return e.abrupt("return",i(1));case 23:c=l+6,u=18761==o.getUint16(c,!1),d=c+o.getUint32(c+4),h=o.getUint16(d,u),p=d+2,f=0;case 29:if(!(f<h)){e.next=35;break}if(274!=o.getUint16(p+12*f,u)){e.next=32;break}return e.abrupt("return",i(o.getUint16(p+12*f+8,u)));case 32:f++,e.next=29;break;case 35:return e.abrupt("return",i(1));case 38:return e.prev=38,e.t0=e["catch"](4),e.abrupt("return",i(1));case 41:case"end":return e.stop()}}),e,null,[[4,38]])})));return function(t){return e.apply(this,arguments)}}())},_u=function(t,e,i,a){switch(t){case 2:e.transform(-1,0,0,1,i,0);break;case 3:e.transform(-1,0,0,-1,i,a);break;case 4:e.transform(1,0,0,-1,0,a);break;case 5:e.transform(0,1,1,0,0,0);break;case 6:e.transform(0,1,-1,0,a,0);break;case 7:e.transform(0,-1,-1,0,a,i);break;case 8:e.transform(0,-1,1,0,0,i);break;default:e.transform(1,0,0,1,0,0)}return e},gu=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{orientation:1,maxWidth:1500};(t instanceof File||t instanceof Blob)&&(t=(window.URL||window.webkitURL).createObjectURL(t));var i=e.maxWidth,a=e.orientation;return new Promise((function(e,o){var n=new Image;n.onerror=o,n.onload=function(t){var o=t.target,s=document.createElement("canvas"),r=s.getContext("2d"),l=o.width,c=o.height;[5,6,7,8].indexOf(a)>-1?(0!=i&&c>i&&(l=parseInt(o.width/o.height*i,10),c=i),s.width=c,s.height=l):(0!=i&&l>i&&(l=i,c=parseInt(i/o.width*o.height,10)),s.width=l,s.height=c),r=_u(a,r,l,c),r.drawImage(n,0,0,l,c),s.toBlob((function(t){return e(t)}))},n.src=t}))},bu=function(t){var e="系统异常";!1===navigator.onLine&&(e="网络未连接"),"ECONNABORTED"==t.code&&(e="上传超时"),this.code=-100,this.message="上传图片失败:".concat(e)},yu=function(t){var e={1:"用户未登录",2:"上传数据无效",3:"回调地址无效",4:"未找到上传文件",5:"无权上传",6:"上传uid无效",7:"未指定返回信息类型",8:"上传数据出错",9:"上传MIME类型不支持",10:"上传文件大小无效",11:"存储出错",12:"上传EXIF信息过长",13:"上传回调出错",14:"回调返回出错",15:"错误的请求"},i=Math.abs(t);this.code=t,this.message="上传图片失败:".concat(e[i]||"未知错误","(").concat(t,")")},wu=function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){var i,a,o,n,s,r,l=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=l.length>1&&void 0!==l[1]?l[1]:{},a="","image/gif"==e.type){t.next=8;break}return t.next=5,mu(e);case 5:a=t.sent,t.next=14;break;case 8:return t.next=10,vu(e);case 10:return i.orientation=t.sent,t.next=13,gu(e,i);case 13:a=t.sent;case 14:return t.prev=14,n=0===i.watermark?"":fu(),s="//picupload.weibo.com/interface/pic_upload.php?app=miniblog&s=json&p=1&data=1&".concat(n),r=h.a.create(),delete r.defaults.headers.common["X-Requested-With"],t.next=21,r.request({url:s,method:"post",data:a,withCredentials:!0,timeout:12e4,xsrfCookieName:null});case 21:o=t.sent,t.next=27;break;case 24:throw t.prev=24,t.t0=t["catch"](14),new bu(t.t0);case 27:if(o.data.code&&"A00006"==o.data.code){t.next=29;break}throw new yu(o.data.data&&o.data.data.count);case 29:return t.abrupt("return",o.data.data.pics.pic_1.pid);case 30:case"end":return t.stop()}}),t,null,[[14,24]])})));return function(e){return t.apply(this,arguments)}}(),xu=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{class:t.$style.box,attrs:{align:"center",justify:"center",direction:"y"}},[i("woo-fonticon",{class:t.$style.icon,attrs:{value:"add"}}),t.label?i("div",{class:t.$style.text},[t._v(t._s(t.label))]):t._e(),i("input",{ref:"file",class:t.$style.file,attrs:{type:"file",accept:".jpg, .jpeg, .bmp, .gif, .png",multiple:""},on:{change:t.change}})],1)},ku=[],$u={props:{label:{type:String,default:""}},methods:{change:function(t){this.$emit("change",t)},showFiles:function(){this.$refs.file.click()}}},Cu=$u,Ou=i("cb9c");function ju(t){this["$style"]=Ou["default"].locals||Ou["default"]}var Tu=Object(P["a"])(Cu,xu,ku,!1,ju,null,null),Du=Tu.exports,Su={props:{data:{type:String,default:""},onlyOne:{type:Boolean,default:!1}},data:function(){return{upload_list:[],uploading:!1,dragList:[],dragId:null}},components:{FileUpload:Du},watch:{data:function(){this.data&&(this.upload_list=this.pid2imgs(),this.$emit("change","end",this.upload_list))}},methods:{onBodyDragOver:function(t){t.preventDefault()},onDragStart:function(t,e){var i=this;i.uploading||(i.dragId=e,i.dragList=Array.from(i.upload_list),document.body.addEventListener("dragover",i.onBodyDragOver))},onDragEnter:function(t,e){var i=this;if(e!==i.dragId&&null!==i.dragId){var a=Array.from(i.dragList);Array.prototype.splice.apply(a,[e,0].concat(Object(V["a"])(a.splice(i.dragId,1)))),i.dragId=e,i.dragList=a,i.$set(i,"upload_list",a),t.preventDefault()}},onDragEnd:function(t){var e=this;document.body.removeEventListener("dragover",e.onBodyDragOver)},getCropViewStyle:function(t){var e=90/t.crop.cropWidth;return"background: url(".concat(t.url,") no-repeat -").concat(t.crop.left*e,"px -").concat(t.crop.top*e,"px / ").concat(t.crop.width*e,"px ").concat(t.crop.height*e,"px;")},onItemChange:function(t,e){var i=this;i.$set(i.upload_list,t,e),this.$emit("change","start",this.upload_list),i.uploadFiles()},delItem:function(t){this.upload_list.splice(t,1),this.$emit("change","remove",this.upload_list)},uploadFiles:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var i,a,o,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=t,!i.uploading){e.next=3;break}return e.abrupt("return");case 3:if(i.uploading=!0,a=i.upload_list.filter((function(t){return 1==t.status})),!(a.length>0)){e.next=13;break}return o=a.splice(0,1),n=Object(c["a"])(o,1),s=n[0],s.status=2,t.$emit("change","upload-start",t.upload_list),e.next=11,wu(s.file).then((function(e){s.status=3,s.url=pu(e,"orj360"),s.pid=e,delete s.file,t.$emit("change","upload-end",t.upload_list)}));case 11:return i.uploading=!1,e.abrupt("return",i.uploadFiles());case 13:t.$emit("change","end",t.upload_list),i.uploading=!1;case 15:case"end":return e.stop()}}),e)})))()},change:function(t){var e=this,i=this;Array.from(t.target.files).map((function(t){i.upload_list.length<18&&(i.upload_list.push({url:"",file:t,status:1}),e.$emit("change","add",e.upload_list))})),this.$emit("change","start",this.upload_list),i.uploadFiles(),t.target.value=""},showFiles:function(){this.$refs.file_upload.showFiles()},pid2imgs:function(){return this.data&&this.data.split(",").map((function(t){return{pid:t,status:3,url:pu(t,"orj360")}}))}},mounted:function(){this.data&&(this.upload_list=this.pid2imgs())}},Iu=Su,Lu=i("4984");function Bu(t){this["$style"]=Lu["default"].locals||Lu["default"]}var Pu=Object(P["a"])(Iu,uu,du,!1,Bu,null,null),Au=Pu.exports,Eu={name:"Feedback",components:{Modal:Lc,PublisherImage:Au,Form:cu},props:{value:{type:Boolean,default:!1},feedbackLayerType:{type:String,default:""}},data:function(){return{show:!1,selected:"",options:["页面UI相关问题","发布相关问题","浏览相关问题","账号相关问题","其他问题"],text:"",formCount:{count:0,maxcount:500},textError:!1,selectedEmpty:!1,textEmpty:!1,pic_ids:"",type:this.feedbackLayerType,pcOldUrl:"https://weibo.com"}},mounted:function(){this.value&&(this.show=!0)},watch:{value:function(t){this.show=t},show:function(t){this.selected="",this.text="",this.formCount.count=0,this.$emit("input",t)},selected:function(t){t&&(this.selectedEmpty=!1)},feedbackLayerType:function(t){t&&(this.type=t)}},methods:{formTextCount:function(t){var e=t.count,i=t.maxcount;this.formCount={count:e,maxcount:i}},textChange:function(t){t&&(this.text=t,this.textEmpty=!1)},imageChange:function(t,e){"end"==t&&(this.pic_ids=e.map((function(t){return t.url.replace(/orj360/i,"large")})).join(","))},cancel:function(){this.show=!1},submit:function(){var t=this;this.selected||(this.selectedEmpty=!0),this.text||(this.textEmpty=!0),this.selected&&this.text&&this.$http.post("/ajax/savefeedback",{page:this.selected,question:this.text,pic_ids:this.pic_ids}).then((function(e){e.data.ok>0&&e.data.data&&e.data.data.result&&(t.$_wooBus.$emit("wooToast",{type:"success",message:"提交成功",autohide:!0,hideDuration:1e3}),t.show=!1)})).catch((function(){t.$_wooBus.$emit("wooToast",{type:"error",message:"提交失败",autohide:!0,hideDuration:1e3}),t.show=!1}))}}},Mu=Eu,Fu=(i("037a"),i("90f4"));function Ru(t){this["$style"]=Fu["default"].locals||Fu["default"]}var Vu=Object(P["a"])(Mu,Cc,Oc,!1,Ru,null,null),Nu=Vu.exports,Hu=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.box},[i("FeatureBubble",{attrs:{flag:t.flagDarkBubble,configkey:"dark_bubble",content:t.bubbleTips,timeout:10,width:220},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("IconBox",{directives:[{name:"focus-visible",rawName:"v-focus-visible"},{name:"click-enter",rawName:"v-click-enter",value:t.changeDark,expression:"changeDark"}],attrs:{mediaQ:t.$attrs.mediaQ,title:1===t.darkMode?"日间模式":"夜间模式",icon:1===t.darkMode?"sun":"moon"}})]},proxy:!0}])})],1)},zu=[],Uu=i("85a7"),Gu={inheritAttrs:!1,name:"Dark",components:{IconBox:$l,FeatureBubble:Nl["a"]},props:{flagDarkBubble:Number},data:function(){return{darkMode:0}},created:function(){var t=this,e=this.$attrs.user&&this.$attrs.user.id;this.darkMode=Object(Uu["a"])(e),this.$Bus.$on("changeDarkSet",this.changeDark),this.$once("hook:beforeDestroy",(function(){t.$Bus.$off("changeDarkSet",t.changeDark)}))},computed:{bubbleTips:function(){var t="";return t=1===this.darkMode?"已跟随操作系统进入“深色模式”，点击切换试试吧":"已跟随操作系统进入“浅色模式”，点击切换试试吧",t}},methods:{changeDark:function(){this.darkMode=0===this.darkMode?1:0,this.$emit("change-dark",this.darkMode),this.$Bus.$emit("updateDarkSet",this.darkMode)}}},qu=Gu,Wu=i("2e94");function Qu(t){this["$style"]=Wu["default"].locals||Wu["default"]}var Ju=Object(P["a"])(qu,Hu,zu,!1,Qu,null,null),Ku=Ju.exports,Yu=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",[i("a",{class:[t.$style.btn,t.$style.btna],on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.login()}}},[t._v("登录")]),i("a",{class:[t.$style.btn,t.$style.btnb],on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.sign()}}},[t._v("注册")])])},Xu=[],Zu={name:"LoginBtn",inheritAttrs:!1,methods:{login:function(){this.$emit("login-tap")},sign:function(){this.$emit("sign-tap")}}},td=Zu,ed=i("84db");function id(t){this["$style"]=ed["default"].locals||ed["default"]}var ad=Object(P["a"])(td,Yu,Xu,!1,id,null,null),od=ad.exports,nd={name:"weibo-top-nav-base",components:{Icons:sl,Ctrls:fl,Links:Fl,Configs:Wl,Pub:Zl,SearchIcon:cc,SearchBar:$c,Feedback:Nu,Dark:Ku,LoginBtn:od,Aria:Sl,IconBox:$l},inheritAttrs:!1,props:{feedbackLayerShow:Boolean,feedbackLayerType:String,hasDark:Boolean,showAriaEntrance:Boolean,ajaxBaseUrl:{type:String,default:""},mediaQ:{type:Object,default:function(){return{}}},showRightUSLogo:Boolean,showLeftUSLogo:{type:Boolean,default:!0}},data:function(){return{isFocus:!1,searchBtn:!1,showFeedback:this.feedbackLayerShow,showNALogo:!1,logoType:"logo",imgSrc:"",logoUrl:"",skinData:{},customSkin:!1,showFold:!1}},watch:{feedbackLayerShow:function(t){this.showFeedback=t},showFeedback:function(t){t||this.$emit("feedbackClosed")}},created:function(){this.getNavConfig()},computed:{isHome:function(){return["home","mygroups","login"].includes(this.$route.name)},hasSkinData:function(){try{return Object.keys(this.skinData).length}catch(t){return!1}},logoSymbol:function(){return this.customSkin&&this.hasSkinData?"logoYy":this.showNALogo?"logoNA":this.logoType}},methods:{getNavConfig:function(){var t=this,e=this.ajaxBaseUrl+"/ajax/getNavConfig";this.$http.get(e).then((function(e){e.data.ok>0&&(t.showNALogo=e.data.inNA,t.logoType=e.data.logoType||"logo",t.logoUrl=e.data.logoUrl||"",t.skinData=e.data.skin||{},t.customSkin=e.data.customSkin||!1)}))},logoClick:function(){this.$emit("logo-tap")},showSearch:function(){this.$refs.searchBar.$el.style.visibility="visible",this.$refs.searchIcon.$el.style.visibility="hidden",this.isFocus=!0,this.searchBtn=!0},searchBlur:function(t){this.isFocus=t},showSearchInput:function(t){t&&this.showSearch()},hideSearchInput:function(t){t&&this.searchBtn&&(this.$refs.searchBar.$el.style.visibility="hidden",this.$refs.searchIcon.$el.style.visibility="visible")},handleVisibleChange:function(t){t||(this.$refs.searchBar.$el.style.visibility="",this.$refs.searchIcon.$el.style.visibility="")}}},sd=nd,rd=i("ab53");function ld(t){this["$style"]=rd["default"].locals||rd["default"]}var cd=Object(P["a"])(sd,Xr,Zr,!1,ld,null,null),ud=cd.exports,dd={computed:{links:function(){var t=[];return this.isLogin&&t.push({name:"game",title:"游戏",href:"//game.weibo.com/?topnav=1&mod=logo&wvr=6"}),t}}},hd={data:function(){return{configs:[{name:"账号设置",type:"router",routerName:"setting",routerPath:"//weibo.com/set/index"},{name:"V认证",href:"//verified.weibo.com/verify"},{name:"会员中心",href:"//vip.weibo.com"},{name:"账号安全",href:"//security.weibo.com/account/security"},{name:"隐私设置",type:"router",routerName:"privacy",routerPath:"//weibo.com/set/privacy"},{name:"消息设置",type:"router",routerName:"messageSet",routerPath:"//weibo.com/set/message"},{name:"屏蔽设置",type:"router",routerName:"shield",routerPath:"//weibo.com/set/shield"},{name:"使用偏好",type:"router",routerName:"prefer",routerPath:"//weibo.com/set/prefer"},{name:"意见反馈",href:"",type:"feedback"},{name:"帮助中心",href:"//kefu.weibo.com?cs_source=7"},{divider:!0,name:"退出",href:"",type:"logout"}]}}},pd={data:function(){return{channels:[{name:"home",src:"",title:"首页",router:"home",link:"https://weibo.com",reload:!0,badge:0,alink:"/"},{name:"hot",src:"",title:"推荐",router:"hot",link:"https://weibo.com/hot",reload:!0,badge:0,alink:"/hot"},{name:"tv",src:"",title:"视频",router:"",link:"https://weibo.com/tv",reload:!1,badge:0,alink:"/tv"},{name:"messages",src:"",title:"消息",router:"messages",link:"https://weibo.com/messages/index",reload:!0,badge:0,alink:""},{name:"profile",src:"//tva1.sinaimg.cn/default/images/default_avatar_male_180.gif",title:"",router:"",link:"",reload:!0,badge:0,maxBadge:999,alink:""}]}}},fd={data:function(){return{message:[{title:"@我的",type:"atMe",icon:"navAtme",groups:[],name:"atWeibo",parmas:{},unread:"",setUnreadTag:["mention_status","all_mention_cmt"],unreadTag:"mention_status"},{title:"评论",type:"cmt",icon:"navComment",groups:[],name:"cmtInbox",parmas:{},unread:"",setUnreadTag:["cmt"],unreadTag:"cmt"},{title:"赞",type:"likeInbox",icon:"navLike",groups:[],name:"likeInbox",parmas:{},unread:"",setUnreadTag:["attitude"],unreadTag:"attitude"},{title:"私信",type:"privateChat",icon:"navChat",name:"privateChat",groups:[],unread:"",setUnreadTag:["chatPro"]},{title:"群通知",type:"groupchat",icon:"navGroup",name:"groupchat",groups:[],unread:"",setUnreadTag:["chat_group_notice"]}]}}},md=i("ed5d"),vd=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.mention_status,a=void 0===i?0:i,o=t.all_mention_cmt,n=void 0===o?0:o,s=t.cmt,r=void 0===s?0:s,l=t.attitude,c=void 0===l?0:l,u=t.chat_group_notice,d=void 0===u?0:u,h=t.chatPro,p=void 0===h?0:h,f=t.attention_mention_status,m=void 0===f?0:f,v=t.attention_mention_cmt,_=void 0===v?0:v,g=t.attention_cmt,b=void 0===g?0:g,y=t.dm_total,w=void 0===y?0:y,x=t.chat_group_client,k=void 0===x?0:x,$=t.dm_pub_total,C=void 0===$?0:$,O=t.remind_settings,j=void 0===O?{}:O,T=t.chat_group_pc,D=void 0===T?0:T,S=a+n+r+c+d+p;if(S=S<0?0:S,e.message){var I=e.message,L=I.at_me,B=I.comment,P=I.in_like,A=I.groupchat_notify_receive,E=I.chat_group_notify;2===L&&m+_||3===L&&a+n||2===B&&b||3===B&&r||2===P&&c||2===A&&2===E&&d||0!==p&&(w||k||!(C&&(0===j.msgbox||2===j.msgbox)||!C&&D))||(S=!1);var M=("number"===typeof S||"string"===typeof S)&&S;(1===L||2==L&&!(m+_))&&a+n&&M&&(S-=a+n),2==L&&m+_&&(S=S-(a+n)+(m+_)),(1===B||2===B&&!b)&&r&&M&&(S-=r),2===B&&b&&(S=S-r+b),1===P&&c&&M&&(S-=c),2===A&&1===E&&M&&(S-=d)}return S},_d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.get_unfollow_message;if(t&&1==t.code){var a={},o=t.data;return a.time=(new Date).getTime(),a.dm_pub_total=o.dm_pub_total||0,a.chat_group_client=o.chat_group_client||0,void 0===o.remind_settings.msgbox?a.allcountNum:(-1==o.remind_settings.msgbox?(a.allcountNum=0,a.msgbox=-1):0==o.remind_settings.msgbox||2==o.remind_settings.msgbox?(a.allcountNum=(o.dm_total||0)+(o.chat_group_client||0),a.msgbox=2):(a.allcountNum=(o.dm_total||0)+(o.chat_group_client||0)+(i&&o.dm_pub_total||0),a.msgbox=0),a.allcountNum)}},gd={name:"weibo-top-nav",components:{Nav:ud},mixins:[dd,hd,pd,re["a"],fd],data:function(){return{configClose:!1,vip:!1,mes24Flag:!1,searchWordsRelateList:[],searchUserRelateList:[],feedbackLayerShow:!1,feedbackLayerType:"",linkCurIndex:0,actLogData:{},pcOldUrl:"https://weibo.com",isClick:!0}},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(r["d"])(["mediaQ"])),Object(r["c"])(["unread","config","common"])),{},{channelsBadge:function(){var t=this;return this.channels.map((function(e){if("home"===e.name)return Object(a["a"])(Object(a["a"])({},e),{},{badge:t.unread.status>0?"NEW":0});if("messages"===e.name){var i,o,n,s,r,l="",c=[],u=!1,d=vd(t.unread,null===(i=t.config)||void 0===i||null===(o=i.flags)||void 0===o?void 0:o.settings);if(null===t||void 0===t||null===(n=t.config)||void 0===n||null===(s=n.flags)||void 0===s||null===(r=s.settings)||void 0===r?void 0:r.message){var h=t.config.flags.settings.message,p=h.at_me,f=h.comment;d&&[2,3].includes(p)&&t.unread.mention_status+t.unread.all_mention_cmt?2==p&&t.unread.attention_mention_status?l="/at/weibo?filter_by_author=1":2==p&&t.unread.attention_mention_cmt?l="/at/comment?filter_by_author=1":t.unread.mention_status?l="/at/weibo":t.unread.all_mention_cmt&&(l="/at/comment"):l=d&&[2,3].includes(f)&&t.unread.cmt?2===f&&t.unread.attention_cmt?"/comment/inbox?filter_by_author=1":"/comment/inbox":d&&t.unread.attitude?"/like/inbox":t.vip?"/messages/summary":"/at/weibo",c=t.handleMessageData(t.message),u=!1}return Object(a["a"])(Object(a["a"])({},e),{},{badge:d,alink:l,router:l&&l.slice(1),popItems:c,showPop:u})}var m,v,_,g,b,y;return"profile"===e.name?t.isLogin?Object(a["a"])(Object(a["a"])({},e),{},{src:t.config.user&&t.config.user.avatar_large||"//tva1.sinaimg.cn/default/images/default_avatar_male_180.gif",title:t.config.user&&t.config.user.screen_name,router:"u/".concat(t.config.user&&(null===(m=t.config)||void 0===m||null===(v=m.user)||void 0===v?void 0:v.idstr)),alink:"/u/".concat(t.config.user&&(null===(_=t.config)||void 0===_||null===(g=_.user)||void 0===g?void 0:g.idstr)),badge:t.unread.follower||0}):{name:"login",router:"u/".concat(t.config.user&&(null===(b=t.config)||void 0===b||null===(y=b.user)||void 0===y?void 0:y.idstr)),noFlat:!0}:e}))},isCurIndex:function(){var t=this;if(this.channelsBadge){var e=0;return e=this.channelsBadge.findIndex((function(e){return e.name===t.moduleName})),e}},isPcNew:function(){var t,e,i,a;return 7===(null===(t=this.config)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.pc_new)&&1===(null===(i=this.config)||void 0===i||null===(a=i.flags)||void 0===a?void 0:a.back_v6)},isLogin:function(){return this.config.isNormal}}),created:function(){this.isLogin?this.userType():this.linkCurIndex=1;var t=this.config.user&&this.config.user.id,e=Object(Uu["a"])(t);if(Object(Uu["b"])(e),this.updateDarkMode&&"function"===typeof this.updateDarkMode){var i={uid:t,mode:e};this.updateDarkMode(i)}},watch:{mediaQ:{handler:function(t){},immediate:!0},unread:function(t){this.handleNavDot(),this.message=this.handleUnread(this.message,t.type)}},methods:Object(a["a"])(Object(a["a"])({},Object(r["b"])(["updateDarkMode"])),{},{userType:function(){this.$store.commit("updateUserType",this.vip),"messageIndex"===this.$route.name&&(Object(md["a"])({unreadTag:"mention_status"}),this.$router.replace({path:"/at/weibo"}))},getMesInfo:function(){var t=this,e="/ajax/message/msgList",i={type:"all"};this.$http.get(e,{params:i}).then((function(e){if(e&&e.data&&1===+e.data.ok){var i=e.data.data.list;i.length&&(t.mes24Flag=!0)}t.$store.commit("update24Info",t.mes24Flag),"messageIndex"===t.$route.name&&(t.mes24Flag?t.$router.replace({path:"/messages/all?type=all"}):t.$router.replace({path:"/at/weibo"}))})).catch((function(t){throw new Error(t)}))},logoTap:function(){if(this.handleActLog("click",5),!this.isLogin)return this.$router.push({path:"/newlogin",query:{url:this.$route.query.url||encodeURIComponent("https://weibo.com")}}),this.$Bus.$emit("reload","hot"),void this.$Bus.$emit("expandLogin");"home"!==this.$route.name&&(this.$router.push({path:"/"}),this.$route.meta.type="topnav"),this.$Bus.$emit("reload","home")},tapHandle:function(t){if(this.isClick)if(this.preventRepeatClick(),this.handleActLog("click",t),this.channelsBadge[t].router){var e=this.channelsBadge[t].router;if(this.isLogin){var i=this.$route.meta.channel;this.linkCurIndex=0,"home"===e&&(e=""),this.$router.push({path:"/"+e}),""===e&&(this.$route.meta.type="topnav"),this.channelsBadge[t].reload&&this.$Bus.$emit("reload",this.channelsBadge[t].name,i)}else this.linkCurIndex=1,this.$Bus.$emit("updateNavCur",this.linkCurIndex),"hot"!==e&&this.$Bus.$emit("loginPop"),"hot"===e&&(this.$router.push({path:"/newlogin",query:{url:this.$route.query.url||encodeURIComponent("https://weibo.com")}}),this.$Bus.$emit("reload","hot"),this.$Bus.$emit("hideLogin"))}else this.channelsBadge[t].link&&(this.isLogin||"messages"!==this.channelsBadge[t].name?(this.linkCurIndex=t,window.location.href=this.channelsBadge[t].link):(this.linkCurIndex=1,this.$Bus.$emit("updateNavCur",this.linkCurIndex),this.$Bus.$emit("loginPop")))},configHandle:function(t){if(this.configs[t].href)return window.open(this.configs[t].href,"_blank"),!1;"feedback"===this.configs[t].type?(this.configClose=!0,this.feedbackLayerShow=!0,this.feedbackLayerType=this.configs[t].type):"feedback_intercept"===this.configs[t].type?this.changeVersion():"logout"===this.configs[t].type?this.logout():"router"===this.configs[t].type&&(this.configClose=!0,this.$router.push({name:this.configs[t].routerName}))},logout:function(){this.configClose=!0,this.$_w_dialog({type:"confirm",title:"确认退出微博么？",action:function(){var t="miniblog",e=encodeURIComponent("");window.location.href="https://login.sina.com.cn/sso/logout.php?entry=".concat(t,"&r=").concat(e)}})},feedbackClosed:function(){this.feedbackLayerShow=!1},configClosed:function(){this.configClose=!1},searchUrlHandle:function(t){var e;!this.config.enableSweibocom||"weibo"!==t.type&&"user"!==t.type?this.$router.push({path:t.path,query:t.query}):window.open("//s.weibo.com/weibo?q=".concat(encodeURIComponent(null===t||void 0===t||null===(e=t.query)||void 0===e?void 0:e.q)),"_blank")},getSearchData:function(t){var e=this;this.$http.get("/ajax/side/search",{params:{q:t}}).then((function(t){if(t.data.ok>0){var i=t.data.data;i.hotquery&&i.hotquery.length>3?e.searchWordsRelateList=i.hotquery.slice(0,3):i.hotquery&&(e.searchWordsRelateList=i.hotquery),e.searchUserRelateList=i.users}})).catch((function(t){throw new Error(t)}))},toLinks:function(t){t&&t.href&&("game"===t.name&&this.handleActLog("click",6),window.open(t.href,"_blank"))},qPublish:function(){this.handleActLog("click",8),this.isLogin?this.$Bus.$emit("showModalPublish",{modify:!1,title:"快捷发布",data:{log:{act_code:"4314",ext:"act_type: 002"},actLogData:{page:"qPublisher"}}}):this.$Bus.$emit("loginPop")},handleActLog:function(t,e){this.actLogData={page:"topNavBar",extValue:"0".concat(e+1)},this.actLogData&&this.actLogData.page&&t&&this.toLog(Object(a["a"])(Object(a["a"])({},this.actLogData),{},{actType:t}))},changeVersion:function(){var t=this;s()("//weibo.com/ajax/changeversion?status=6",{},(function(e,i){!e&&i&&1===i.ok?window.location.href=t.pcOldUrl:i&&0===i.ok&&i.msg&&t.$_w_toast({type:"warn",message:i.msg||"切换失败，请稍后重试"})}))},changeDark:function(t){var e=1===t?"dark":"light",i={uid:this.config.uid,mode:t},a=new Map(JSON.parse(window.localStorage.getItem("darkModeHistory"))),o=JSON.stringify(Array.from(a.set(this.config.uid,t).entries()));document.documentElement.dataset.theme=e,localStorage.setItem("darkMode",JSON.stringify(i)),localStorage.setItem("darkModeHistory",o),this.updateDarkMode&&"function"===typeof this.updateDarkMode&&this.updateDarkMode(i)},loginTap:function(){this.$Bus.$emit("loginPop")},signTap:function(){window.open("https://weibo.com/signup/signup.php")},handleMessageData:function(t){var e=this,i=[];if(Array.isArray(t)){if(i=t.filter((function(t){return t.setUnreadTag&&t.setUnreadTag.length>0&&!t.dot&&t.unread>0})),this.config&&this.config.flags&&this.config.flags.settings&&this.config.flags.settings.message){var a=this.config.flags.settings.message,o=a.at_me,n=a.comment,s=a.in_like;this.unread.mention_status=this.unread.mention_status||0,this.unread.all_mention_cmt=this.unread.all_mention_cmt||0,this.unread.cmt=this.unread.cmt||0,this.unread.attitude=this.unread.attitude||0,this.unread.attention_mention_status=this.unread.attention_mention_status||0,this.unread.attention_mention_cmt=this.unread.attention_mention_cmt||0,this.unread.attention_cmt=this.unread.attention_cmt||0;var r,l=Object(_o["a"])(i);try{var c=function(){var t=r.value,i="";switch(t.name){case"atWeibo":2==o&&e.unread.attention_mention_status?i="/at/weibo?filter_by_author=1":2==o&&e.unread.attention_mention_cmt?i="/at/comment?filter_by_author=1":e.unread.mention_status?i="/at/weibo":e.unread.all_mention_cmt&&(i="/at/comment"),t.href=i,t.action=function(){t.showPop=!1,e.$route.name==t.name&&e.$_wooBus.$emit("repeatClick",t.type),e.$router.push({path:i})};break;case"cmtInbox":i=2===n&&e.unread.attention_cmt?"/comment/inbox?filter_by_author=1":"/comment/inbox",t.href=i,t.action=function(){t.showPop=!1,e.$route.name==t.name&&e.$_wooBus.$emit("repeatClick",t.type),e.$router.push({path:i})};break;case"likeInbox":2===s&&e.unread.attitude&&(i="/like/inbox"),t.href=i,t.action=function(){t.showPop=!1,e.$route.name==t.name&&e.$_wooBus.$emit("repeatClick",t.type),e.$router.push({path:i})};break;case"privateChat":i="https://api.weibo.com/chat",t.href=i,t.action=function(){window.open(i,"privateChat")};break;case"groupchat":i="https://api.weibo.com/chat/#/chat?to_uid=-101",t.href=i,t.action=function(){window.open(i,"privateChat")};break;default:break}};for(l.s();!(r=l.n()).done;)c()}catch(u){l.e(u)}finally{l.f()}}return i}},handleUnread:function(t,e){var i=this;return t.map((function(t,e){if("atMe"===t.type?(i.unread.attention_mention_status=i.unread.attention_mention_status||0,i.unread.attention_mention_cmt=i.unread.attention_mention_cmt||0,i.config&&i.config.flags&&i.config.flags.settings&&i.config.flags.settings.message&&2===i.config.flags.settings.message.at_me&&i.unread.attention_mention_status+i.unread.attention_mention_cmt?t.setUnreadTag=["attention_mention_status","attention_mention_cmt"]:t.setUnreadTag=["mention_status","all_mention_cmt"]):"cmt"===t.type&&(i.config&&i.config.flags&&i.config.flags.settings&&i.config.flags.settings.message&&2===i.config.flags.settings.message.comment&&i.unread.attention_cmt?t.setUnreadTag=["attention_cmt"]:t.setUnreadTag=["cmt"]),t.setUnreadTag&&t.setUnreadTag.length>0){var a=0;t.setUnreadTag.map((function(t){return a+=i.unread[t]||0,t})),t.unread=a}})),t},handleNavDot:function(){if(this.config&&this.config.flags&&this.config.flags.settings&&this.config.flags.settings.message){var t=this.config.flags.settings.message,e=t.at_me,i=t.comment,a=t.in_like,o=t.groupchat_notify_receive,n=t.chat_group_notify;if(e){var s=this.message.find((function(t){return"atMe"===t.type}));s&&(1===e?s.dot=!0:2===e?this.unread.attention_mention_status||this.unread.attention_mention_cmt?s.dot=!1:s.dot=!0:3===e&&(s.dot=!1))}if(i){var r=this.message.find((function(t){return"cmt"===t.type}));r&&(1===i?r.dot=!0:2===i?this.unread.attention_cmt?r.dot=!1:r.dot=!0:3===i&&(r.dot=!1))}if(a){var l=this.message.find((function(t){return"likeInbox"===t.type}));l&&(1===a?l.dot=!0:2===a&&(l.dot=!1))}if(o){var c=this.message.find((function(t){return"groupchat"===t.type}));c&&2===o&&(1===n?c.dot=!0:2===n&&(c.dot=!1))}}if(!this.unread||this.unread.dm_total||this.unread.chat_group_client){var u=this.message.find((function(t){return"privateChat"===t.type}));u.dot=!1}else{var d=this.message.find((function(t){return"privateChat"===t.type}));d&&(this.unread.dm_pub_total&&(0===this.unread.remind_settings.msgbox||2===this.unread.remind_settings.msgbox?d.dot=!0:1===this.unread.remind_settings.msgbox&&(d.dot=!1)),!this.unread.dm_pub_total&&this.unread.chat_group_pc&&(d.dot=!0))}},preventRepeatClick:function(){var t=this;this.isClick&&(this.isClick=!1,setTimeout((function(){t.isClick=!0}),1e3))}})},bd=gd,yd=Object(P["a"])(bd,Kr,Yr,!1,null,null,null),wd=yd.exports;wd.install=function(t){t.component(wd.name,wd),t.use(mr),t.use(br)};var xd=wd,kd=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Comments",{attrs:{list:t.list,tipMsg:t.showTips&&t.tipMsg,approvalTips:t.showTips&&t.approvalTips,headerText:t.showTips&&t.headerText,commentTabs:t.showTabs&&t.commentTabs,replyTabs:t.showTabs&&t.replyTabs,commentLoading:t.commentLoading,replyLoading:t.replyLoading,commentRetry:t.commentRetry,replyRetry:t.replyRetry,commentEmpty:t.commentEmpty,commentEmptyText:t.commentEmptyText,commentNoData:t.commentNoData,commentShowNotLoginBottom:t.commentShowNotLoginBottom,showReplyModal:t.showReplyModal,replyListType:t.replyListType,replyList:t.replyList,replyTotal:t.replyTotal,rootComment:t.rootComment,showRcl:t.showRcl,openApp:t.openApp,isMy:t.isMy,uid:t.uid,id:t.curWeiboData.idstr,routerPaths:t.routerPaths,showOpenPics:t.showOpenPics,showAllHoverRcl:t.showAllHoverRcl,hasGoAnchor:t.hasGoAnchor,pagetype:t.pagetype},on:{loadMoreData:t.loadMoreData,"tabs-change":t.tabsChange,"approval-manage":t.approvalManage,"comment-viewPic":t.commentViewPic,"comment-toReplyList":t.commentToReplyList,"comment-toProfile":t.commentToProfile,"comment-toCheck":t.commentToCheck,"comment-goAnchor":t.commentGoAnchor,"reply-goAnchor":t.replyGoAnchor,"iconList-repost":t.iconListRepost,"iconList-comment":t.iconListComment,"iconList-like":t.iconListLike,"iconList-delete":t.iconListDelete,"iconList-report":t.iconListReport,updateShowReplyModal:t.updateShowReplyModal}})},$d=[],Cd=function(t,e){return t&&t.map((function(t){return{url:Hi["d"](t,"orj360"),geo:Hi["c"](t),large:{url:Hi["d"](t,"large")},webp:{url:Hi["d"](t,"webp720")},normal:{url:Hi["d"](t,"mw1024")},pid:t,focus_point:e&&e.length&&e.find((function(e){return e.pic_id===t}))&&e.find((function(e){return e.pic_id===t})).focus_point,type:Hi["b"](t)}}))};i("6b93");function Od(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"zh-CN",a=["","K","M","G","T"];"zh-CN"===i?a=["","万","亿"]:"zh-TW"===i&&(a=["","萬","億"]);var o="zh-CN"===i||"zh-TW"===i?4:3,n=Math.floor(Math.log10(Math.abs(t))/o),s=Math.min(n,a.length-1),r=a[s],l=parseFloat(t/Math.pow(10,s*o));return(1==s&&l>=100||2==s&&l<1||2==s&&l>=100)&&(e=0),s<1?t:parseFloat((t/Math.pow(10,s*o)).toFixed(e))+r}var jd=function(){var t,e=this,i=e.$createElement,a=e._self._c||i;return a("div",{class:(t={},t[e.$style.wrap]=!0,t[e.$style.scroll]=e.showReplyModal,t)},[e.openApp&&e.openApp.show?a("div",{class:e.$style.mask,on:{click:e.toOpenApp}}):e._e(),[e.tipMsg?a("woo-tip",{class:e.$style.mar2,attrs:{type:"warn",sort:"flat","has-icon":!1}},[e._v(e._s(e.tipMsg))]):e._e(),a("Tabs",e._g(e._b({attrs:{filterGroup:e.commentTabs,kind:"comment"},on:{"tabs-change":e.tabsChange}},"Tabs",e.$attrs,!1),e.$listeners)),e.approvalTips||e.headerText?a("div",{class:e.$style.mar3},[e.approvalTips?a("woo-box",{class:[e.$style.opt,e.$style.link],attrs:{align:"center"},nativeOn:{click:function(t){return e.toManage()}}},[a("span",{domProps:{innerHTML:e._s(e.approvalTips)}}),a("woo-box",{staticClass:"wbpro-iconbed",class:e.$style.bed1,attrs:{align:"center",justify:"center"}},[a("woo-fonticon",{attrs:{value:"angleRight"}})],1)],1):e._e(),e.headerText?a("woo-box",{class:e.$style.opt,attrs:{align:"center"}},[a("span",{domProps:{innerHTML:e._s(e.headerText)}})]):e._e()],1):e._e(),a("Scroll",e._g(e._b({directives:[{name:"show",rawName:"v-show",value:!e.commentEmpty&&(!e.showReplyModal&&"secondPage"===e.replyListType||"pop"===e.replyListType),expression:"\n        !commentEmpty &&\n        ((!showReplyModal && replyListType === 'secondPage') ||\n          replyListType === 'pop')\n      "}],class:e.$style.mar1,attrs:{data:e.list,isLoading:e.commentLoading,isRetry:e.commentRetry,isNoData:e.commentNoData,showNotLoginBottom:e.commentShowNotLoginBottom,sizeDependencies:["comments"],isInCard:!0},scopedSlots:e._u([{key:"content",fn:function(t){var i=t.item,o=t.index;return[a("Comment",e._g(e._b({attrs:{item:i,index:o,showReplyModal:e.showReplyModal,showRcl:e.showRcl,routerPaths:e.routerPaths,showOpenPics:e.showOpenPics,showAllHoverRcl:e.showAllHoverRcl,hasGoAnchor:e.hasGoAnchor}},"Comment",e.$attrs,!1),e.$listeners))]}}])},"Scroll",e.$attrs,!1),e.$listeners))],a("ReplyModal",e._g(e._b({directives:[{name:"show",rawName:"v-show",value:"pop"===e.replyListType,expression:"replyListType === 'pop'"}],attrs:{rootComment:e.rootComment,replyTabs:e.replyTabs,replyLoading:e.replyLoading,replyRetry:e.replyRetry,showRcl:e.showRcl,routerPaths:e.routerPaths,showOpenPics:e.showOpenPics,showAllHoverRcl:e.showAllHoverRcl,hasGoAnchor:e.hasGoAnchor},model:{value:e.showReplyModal,callback:function(t){e.showReplyModal=t},expression:"showReplyModal"}},"ReplyModal",e.$attrs,!1),e.$listeners)),a("ReplyList",e._g(e._b({directives:[{name:"show",rawName:"v-show",value:"secondPage"===e.replyListType,expression:"replyListType === 'secondPage'"}],attrs:{rootComment:e.rootComment,replyTabs:e.replyTabs,replyLoading:e.replyLoading,replyRetry:e.replyRetry,showRcl:e.showRcl,routerPaths:e.routerPaths,showOpenPics:e.showOpenPics,showAllHoverRcl:e.showAllHoverRcl},model:{value:e.showReplyModal,callback:function(t){e.showReplyModal=t},expression:"showReplyModal"}},"ReplyList",e.$attrs,!1),e.$listeners)),e.commentEmpty&&e.commentEmptyText?a("div",{class:e.$style.tip},[a("woo-tip",{attrs:{type:"warn",sort:"vertical"}},[e._v(" "+e._s(e.commentEmptyText)+" ")])],1):e._e(),a("Viewer")],2)},Td=[],Dd=function(){var t,e=this,i=e.$createElement,a=e._self._c||i;return e.filterGroup&&e.filterGroup.length?a("div",{staticClass:"wbpro-tab3"},[a("woo-box",{staticClass:"list",class:(t={},t[e.$style.tab]="comment"===e.kind,t[e.$style.tab2]="reply"===e.kind,t),attrs:{align:"center"}},e._l(e.filterGroup,(function(t,i){return a("div",{key:i,staticClass:"item",class:-1===e.curTabIndex&&1===t.isDefault||e.curTabIndex===i?"curr":"",domProps:{innerHTML:e._s(t.title)},on:{click:function(a){return e.changeTabs(t.param,i,t.type)}}})})),0)],1):e._e()},Sd=[],Id={name:"Tabs",data:function(){return{curTabIndex:-1}},props:{filterGroup:Array,kind:String},methods:{changeTabs:function(t,e,i){this.curTabIndex=e;var a={param:t,type:i};this.$emit("tabs-change",a,e)}}},Ld=Id,Bd=i("ea46");function Pd(t){this["$style"]=Bd["default"].locals||Bd["default"]}var Ad=Object(P["a"])(Ld,Dd,Sd,!1,Pd,null,null),Ed=Ad.exports,Md=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.container},[i("div",{class:t.$style.wrap},[Object.keys(t.data).length?i("div",{class:t.$style.main},[i("DynamicScroller",{class:t.$style.scroller,attrs:{items:t.data,"min-item-size":300,buffer:t.buffer,keyField:"scrollid","page-mode":t.pageMode,id:"scroller"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.item,o=e.index,n=e.active;return[i("DynamicScrollerItem",{staticClass:"wbpro-scroller-item",attrs:{item:a,active:n,"data-index":o,"data-active":n,"size-dependencies":t.sizeDependenciesVal(a)}},[t._t("content",null,{item:a,index:o})],2)]}},{key:"after",fn:function(){return[t.retry||t.loading?i("Card",{class:[t.isInCards&&t.$style.isInCards,t.isInCard&&t.$style.isInCard],attrs:{bottomGap:!1}},[i("woo-box",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:t.handleVisibilityChange,intersection:{rootMargin:t.buffer+"px 0px"}},expression:"{\n                callback: handleVisibilityChange,\n                intersection: {\n                  rootMargin: `${buffer}px 0px`\n                }\n              }"}],class:t.$style.nextPage,attrs:{align:"center",justify:"center"}},[t.retry?i("woo-tip",{class:t.$style.tipbox,attrs:{type:"warn",sort:"simple"},nativeOn:{click:function(e){return t.handleRetry(e)}}},[t._v("内容加载失败，请点击重试")]):t._e(),t.loading?i("woo-spinner",{class:t.$style.loadingIcon}):t._e()],1)],1):t._e()]},proxy:!0}],null,!0)})],1):t._e(),Object.keys(t.data).length&&t.nodata&&!t.loading&&t.showScrollBottom?i("Bottom",{attrs:{text:t.noDataText}}):t.notLoginText&&!t.loading&&t.showNotLoginBottom?i("Bottom",{attrs:{text:t.notLoginText,click:!0},on:{handleBottomText:function(e){return t.handleBottomText()}}}):t.empty?[i("Card",{attrs:{bottomGap:!1}},[i("woo-box",{class:t.$style.empty,attrs:{align:"center",justify:"center"}},[i("woo-tip",{attrs:{type:"warn",sort:"vertical"}},[t._v(t._s(t.emptyText))])],1)],1)]:0==t.data.length?[t.skeleton?t._l(4,(function(t){return i("Skeleton",{key:t})})):[t.loading?i("woo-box",{class:t.$style.initLoad,attrs:{justify:"center"}},[i("woo-spinner",{class:t.$style.loadingIcon})],1):t._e()]]:t._e()],2)])},Fd=[],Rd=i("da58"),Vd=i("0d47"),Nd={name:"Scroll",props:{data:Array,keyField:String,isLoading:{type:Boolean,default:!1},isRetry:{type:Boolean,default:!1},isEmpty:{type:Boolean,default:!1},emptyText:{type:String,default:"暂无内容"},isNoData:{type:Boolean,default:!0},noDataText:{type:String,default:"没有更多内容了"},showScrollBottom:{type:Boolean,default:!0},notLoginText:{type:String,default:"请登录后查看更多精彩内容"},showNotLoginBottom:{type:Boolean,default:!1},skeleton:{type:Boolean,default:!1},sizeDependencies:{type:Array,default:function(){return[]}},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},isInCards:{type:Boolean,default:!1},isInCard:{type:Boolean,default:!1}},data:function(){return{loading:this.isLoading,retry:this.isRetry,empty:this.isEmpty,nodata:this.isNoData}},mounted:function(){this.loading=this.isLoading,this.retry=this.isRetry,this.empty=this.isEmpty,this.nodata=this.isNoData},watch:{data:function(t){t&&!this.keyField&&t.map((function(t,e){t.scrollid=e}))},isLoading:function(t){this.loading=t},isRetry:function(t){this.retry=t},isEmpty:function(t){this.empty=t},isNoData:function(t){this.nodata=t}},methods:{handleVisibilityChange:function(t,e){this.loading&&t&&e&&this.data.length>0&&(this.isRetry=!1,this.$emit("loadMoreData"))},handleRetry:function(){this.$emit("loadMoreData")},sizeDependenciesVal:function(t){if(this.sizeDependencies&&this.sizeDependencies.length){var e=[];return this.sizeDependencies.map((function(i){if(i.indexOf(".")>-1){var a,o=i.split("."),n=t,s=Object(_o["a"])(o);try{for(s.s();!(a=s.n()).done;){var r=a.value;if(!t[r]){e.push("");break}r!==o[o.length-1]?t=t[r]:(e.push(t[r]),t=n)}}catch(l){s.e(l)}finally{s.f()}}else e.push(t[i])})),e}return[]},handleBottomText:function(){this.$Bus.$emit("loginPop")}},components:{Skeleton:Rd["a"],Bottom:Vd["a"],Card:Nr["a"]}},Hd=Nd,zd=(i("25bb"),i("7dd03"));function Ud(t){this["$style"]=zd["default"].locals||zd["default"]}var Gd=Object(P["a"])(Hd,Md,Fd,!1,Ud,null,null),qd=Gd.exports,Wd=function(){var t,e=this,i=e.$createElement,a=e._self._c||i;return a("div",{ref:"commentEle",staticClass:"wbpro-list"},[e.item.idstr?a("div",{staticClass:"item1",class:{"wbpro-highlight":e.cid==e.item.idstr&&!e.rid&&e.hasGoAnchor}},[a("woo-box",{staticClass:"item1in"},[e.item.user?a("woo-avatar",{directives:[{name:"log",rawName:"v-log:click",value:e.getCommentClickLog(e.item,e.$attrs.uid),expression:"getCommentClickLog(item, $attrs.uid)",arg:"click"}],key:e.item.user.profile_image_url,attrs:{size:34,verified:e.getWeiboVerifiedIcon(e.item.user),src:e.item.user.profile_image_url,usercard:e.item.user.id},nativeOn:{click:function(t){return t.stopPropagation(),e.toProfile(e.item.user.id)}}}):e._e(),a("woo-box-item",{staticClass:"con1"},[a("div",{staticClass:"text"},[e.item.user&&e.item.user.id?a("a",{directives:[{name:"log",rawName:"v-log:click",value:e.getCommentClickLog(e.item,e.$attrs.uid),expression:"getCommentClickLog(item, $attrs.uid)",arg:"click"}],attrs:{usercard:e.item.user.id},on:{click:function(t){return t.stopPropagation(),e.toProfile(e.item.user.id)}}},[e._v(e._s(e.item.user.screen_name))]):e._e(),a("IconFans",{attrs:{mbrank:e.item.user&&e.item.user.mbrank,mbtype:e.item.user&&e.item.user.mbtype,svip:e.item.user&&e.item.user.svip,vvip:e.item.user&&e.item.user.vvip,fansIcon:e.item.user&&e.item.user.fansIcon}}),e._v(":"),e.item.text?a("span",{directives:[{name:"outahref",rawName:"v-outahref"}],domProps:{innerHTML:e._s(e.item.text)}}):e._e()],1),e.item.pics&&e.item.pics.length?e._l(e.item.pics,(function(t,i){return a("div",{key:i,staticClass:"media",on:{click:function(t){return t.stopPropagation(),e.viewPic(i,e.item.pics)}}},[a("woo-picture",{key:t.url,attrs:{src:t.url,alt:"等比图"}})],1)})):e._e(),a("woo-box",{ref:"info",staticClass:"info",attrs:{align:"center",justify:"between"}},[a("div",[e._v(" "+e._s(e._f("fromNow")(e.item.created_at,!0))+" "),e.item.source?a("span",[e._v(" "+e._s(e.item.source))]):e._e(),1===e.item.approval_comment_type?a("span",[e._v("审核评论中，仅自己可见")]):e._e()]),e.item.button?e._e():a("IconList",e._g(e._b({attrs:{iconsName:e.iconsName(e.item.user&&e.item.user.id),widthCount:!0,likeType:"comment",data:e.iconsData(e.item)}},"IconList",e.$attrs,!1),e.$listeners))],1)],2),e.item.button?a("woo-box",{attrs:{align:"center",justify:"between"}},[e.check?a("woo-button",{attrs:{sort:"simple",kind:"default",size:"s",disabled:""}},[e._v("已通过")]):a("woo-button",{class:e.$style.button,attrs:{sort:"line",size:"s",kind:"primary",loading:e.loading,disabled:e.loading},nativeOn:{click:function(t){return e.toCheck(t)}}},[e._v(" "+e._s(e.item.button.text)+" ")])],1):e._e()],1),a("div",{staticClass:"list2"},[e.item.comments&&e.item.comments.length?[e._l(e.item.comments,(function(t,i){return a("div",{key:t.id,staticClass:"item2"},[a("div",{staticClass:"con2"},[a("div",{staticClass:"text"},[t.user&&t.user.id?a("a",{directives:[{name:"log",rawName:"v-log:click",value:e.getCommentClickLog(t,e.$attrs.uid),expression:"getCommentClickLog(comments, $attrs.uid)",arg:"click"}],attrs:{usercard:t.user.id},on:{click:function(i){return i.stopPropagation(),e.$router.push({path:"/u/"+t.user.id})}}},[e._v(e._s(t.user.screen_name))]):e._e(),!e.getWeiboVerifiedIcon(t.user)||t.user.fansIcon&&t.user.fansIcon.isAuthor?e._e():[t.user&&t.user.fansIcon&&"ai_assistant"!==t.user.fansIcon.name?a("woo-icon",{staticClass:"iconv",attrs:{symbol:e.getWeiboVerifiedIcon(t.user)}}):e._e()],a("IconFans",{attrs:{mbrank:t.user&&t.user.mbrank,mbtype:t.user&&t.user.mbtype,fansIcon:t.user&&t.user.fansIcon,svip:t.user&&t.user.svip,vvip:t.user&&t.user.vvip}}),e._v(":"),t.text?a("span",{directives:[{name:"outahref",rawName:"v-outahref"}],domProps:{innerHTML:e._s(t.text)}}):e._e()],2),t.pics&&t.pics.length?e._l(t.pics,(function(i,o){return a("div",{key:o,staticClass:"media",on:{click:function(i){return i.stopPropagation(),e.viewPic(o,t.pics)}}},[a("woo-picture",{key:i.url,attrs:{src:i.url,alt:"等比图"}})],1)})):e._e(),a("woo-box",{staticClass:"info",attrs:{align:"center",justify:"between"}},[a("div",[e._v(" "+e._s(e._f("fromNow")(t.created_at,!0))+" "),1===t.approval_comment_type?a("span",[e._v("审核评论中，仅自己可见")]):e._e()]),a("IconList",e._g(e._b({attrs:{iconsName:e.iconsCommentsName(t.user&&t.user.id),widthCount:!0,likeType:"comment",data:e.iconsData(t,e.item,i)}},"IconList",e.$attrs,!1),e.$listeners))],1)],2)])})),e.item.more_info&&e.item.more_info.highlight_text?a("div",{staticClass:"item2"},[a("div",{staticClass:"text",on:{click:function(t){return t.stopPropagation(),e.toReplyList()}}},[a("a",{attrs:{href:"javascript:;"}},[e._v(e._s(e.item.more_info.highlight_text)),a("woo-fonticon",{attrs:{value:"caretDown"}})],1)])]):e._e()]:e.item.more_info?a("div",{staticClass:"item2"},[a("div",{staticClass:"con2"},[e.item.more_info.text&&e.item.more_info.user_list&&e.item.more_info.user_list.length?a("div",{staticClass:"text"},[a("a-link",{attrs:{to:"/u/"+e.item.more_info.user_list[0].id,usercard:e.item.more_info.user_list[0].id}},[a("span",{class:(t={},t[e.$style.cut]="viewer"===e.$attrs.pagetype,t)},[e._v(e._s(e.item.more_info.user_list[0].screen_name))])]),e._v(" 等人 "),a("span",{class:[e.$style.toreply,e.$style.cursor],on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toReplyList()}}},[e._v(" "+e._s(e.item.more_info.highlight_text)+" "),a("woo-fonticon",{attrs:{value:"caretDown"}})],1)],1):e.item.more_info.highlight_text?a("div",{staticClass:"text",on:{click:function(t){return t.stopPropagation(),e.toReplyList()}}},[a("a",{attrs:{href:"javascript:;"}},[e._v(e._s(e.item.more_info.highlight_text)),a("woo-fonticon",{attrs:{value:"caretDown"}})],1)]):e._e()])]):e._e()],2)],1):e._e()])},Qd=[],Jd=function(t){return Object(Ss["c"])(t)},Kd=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.$attrs.showRcl?i("woo-box",{staticClass:"opt"},t._l(t.iconsName,(function(e,a){var o,n;return i("woo-box",{key:a,staticClass:"wbpro-iconbed",class:(o={optHover:1===e.hover},o[t.$style.autoIcon]="like"===e.name,o),attrs:{align:"center",justify:"center"},nativeOn:{click:function(i){return i.stopPropagation(),t.handleIcons(e.name)}}},["like"===e.name?i("woo-like",{class:(n={optHover:1===e.hover},n[t.$style.likebox]=!0,n),attrs:{original:"","with-count":t.widthCount,like:t.valueLike,count:t.shortNum(t.data.like_counts),title:e.title},on:{status:t.like}}):"screen"===e.name?i("woo-pop",{attrs:{show:t.showPop,direction:"up",align:"end",gap:"10"},on:{"click-outside":t.closePop},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-fonticon",{attrs:{value:e.name,title:e.title},nativeOn:{click:function(e){return t.handlePop(e)}}})]},proxy:!0}],null,!0)},[i("woo-pop-wrap",t._l(t.popList,(function(e,a){return i("woo-pop-item",{key:a,class:t.$style.config,nativeOn:{click:function(t){return t.stopPropagation(),e.action()}}},[t._v(" "+t._s(e.name)+" ")])})),1)],1):i("woo-fonticon",{attrs:{value:e.name,title:e.title}})],1)})),1):t._e()},Yd=[],Xd=(i("cc0f"),{data:function(){return{showPop:!1,showPopList:{}}},created:function(){var t=this;this.$Bus.$on("closePop",this.closePopHandle),this.$once("hook:beforeDestroy",(function(){t.$Bus.$off("closePop",t.closePopHandle)}))},methods:{closePopHandle:function(){this.closePop()},clickPop:function(){this.showPop||this.$Bus.$emit("closePop"),this.showPop=!this.showPop},closePop:function(){this.showPop=!1;for(var t=0,e=Object.keys(this.showPopList);t<e.length;t++){var i=e[t];this.showPopList[i]=!1}},initShowPopList:function(t){this.showPopList=t},clickPopList:function(t){this.$Bus.$emit("closePop");for(var e=0,i=Object.keys(this.showPopList);e<i.length;e++){var a=i[e];t===a?this.showPopList[t]=!0:this.showPopList[a]=!1}}}}),Zd={name:"IconList",props:{iconsName:{type:Array,default:function(){return[]}},widthCount:{type:Boolean,default:!1},likeType:{type:String,default:"weibo"},data:{type:Object,default:function(){}}},data:function(){return{valueLike:this.data.liked,checkShieldValue:[{value:!1,label:"不看他的微博"},{value:!0,label:"禁止他与我互动"},{value:!1,label:"禁止他关注我"}]}},mounted:function(){var t=this;this.$CommentsBus.$on("updateLike",(function(e){e===t.data.idstr&&(t.valueLike=!t.valueLike,t.data.like_counts=t.valueLike?t.data.like_counts+1:t.data.like_counts-1)}))},mixins:[Xd],computed:{popList:function(){var t=this;return[{name:"屏蔽@".concat(this.data.screen_name),action:function(){t.filterUser()}},{name:"屏蔽关键词",action:function(){t.showPop=!1,window.open("https://weibo.com/set/shield?type=keyword")}}]}},methods:{handleIcons:function(t){switch(t){case"delete":this.delete();break;case"report":this.report();break;case"retweet":this.retweet();break;case"comment":this.comment();break}},delete:function(){this.$emit("iconList-delete",this.data)},report:function(){var t={type:this.likeType,mblogid:this.data.mblogid,id:this.data.id};this.$emit("iconList-report",t)},handlePop:function(){this.clickPop()},close:function(){this.closePop()},filterUser:function(){var t=this;this.showPop=!1,this.$_w_dialog({type:"confirm",title:"屏蔽用户",message:"设置对@".concat(this.data.screen_name," 的屏蔽范围，全选即为拉黑用户"),checkbox:this.checkShieldValue,btnConfirm:"确定",action:function(){t.$http.post("/ajax/statuses/filterUser",{uid:t.uid,screen_name:t.data.screen_name,status:t.checkShieldValue[0].value?1:0,interact:t.checkShieldValue[1].value?1:0,follow:t.checkShieldValue[2].value?1:0}).then((function(e){e.data&&e.data.ok&&t.$_w_toast({type:"success",message:"已屏蔽"})}))}}),this.handleActLog("click")},retweet:function(){var t="";this.data&&this.data.id&&(t="//@".concat(this.data.screen_name,":").concat(this.data.text),this.data.rootid&&(t+=" //@".concat(this.data.rootscreen_name,":").concat(this.data.roottext)));var e={title:"转发@".concat(this.data.screen_name," 的评论"),data:{action:"repost",content:t,id:this.data.ogid,cid:this.data.id,screen_name:this.data.screen_name,onhead:!0,lockScreen:!1}};this.$emit("iconList-repost",e)},comment:function(){var t={title:"回复@".concat(this.data.screen_name),data:{action:"reply",id:this.data.ogid,cid:this.data.id,location:this.data.location,screen_name:this.data.screen_name,onhead:!0}};this.$emit("iconList-comment",t)},like:function(){var t={type:this.likeType,id:this.data.idstr,valueLike:this.valueLike};this.$emit("iconList-like",t)},shortNum:function(t,e,i){return Od(t,e,i)}}},th=Zd,eh=i("848d");function ih(t){this["$style"]=eh["default"].locals||eh["default"]}var ah=Object(P["a"])(th,Kd,Yd,!1,ih,null,null),oh=ah.exports,nh=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isVip&&t.withVip||t.fansIcon?i("span",{class:t.$style.cursor,on:{click:function(e){return t.toScheme()}}},[t.isVip&&!t.iconName&&t.withVip&&!t.isAuthor?i("IconVip",{class:t.$style.vip,attrs:{mbrank:t.mbrank,mbtype:t.mbtype,svip:t.svip,vvip:t.vvip}}):t._e(),t.iconName||t.fansIcon&&t.fansIcon.isAuthor?i("span",{class:t.$style.fans},["ai_assistant"===t.iconName?i("img",{class:[t.$style.custom],attrs:{src:t.fansIcon.icon_url}}):t._e(),"loyal_fans"===t.iconName?i("img",{class:[t.$style.custom],attrs:{src:t.fansIcon.icon_url}}):t._e(),"gold_fans"===t.iconName&&t.fansIcon.url?i("img",{class:t.$style.custom,attrs:{src:t.fansIcon.url}}):t._e(),t.isAuthor?i("span",{class:[t.$style.fansin,t.$style.author]}):t._e()]):t._e()],1):t._e()},sh=[],rh=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isVip?i("woo-icon",{class:t.$style.icon,attrs:{symbol:"vip",level:+t.mbrank,svip:t.svip,vvip:t.vvip,"aria-label":"vip"+t.mbrank},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toVip(e)}}}):t._e()},lh=[],ch={name:"IconVip",props:{mbrank:Number,mbtype:Number,svip:Number,vvip:Number},computed:{isVip:function(){return this.mbrank&&this.mbtype&&2!==this.mbtype}},methods:{toVip:function(){window.open("https://vip.weibo.com/personal?from=main")}}},uh=ch,dh=i("a96b");function hh(t){this["$style"]=dh["default"].locals||dh["default"]}var ph=Object(P["a"])(uh,rh,lh,!1,hh,null,null),fh=ph.exports,mh={name:"IconFans",props:{withVip:{type:Boolean,default:!0},mbrank:Number,mbtype:Number,svip:Number,vvip:Number,fansIcon:Object},computed:{isVip:function(){return this.mbrank&&this.mbtype&&2!==this.mbtype},iconName:function(){return this.fansIcon&&this.fansIcon.name},isAuthor:function(){return this.fansIcon&&this.fansIcon.isAuthor}},methods:{toScheme:function(){this.fansIcon&&this.fansIcon.scheme&&window.open(this.fansIcon.scheme)}},components:{IconVip:fh}},vh=mh,_h=i("38bb");function gh(t){this["$style"]=_h["default"].locals||_h["default"]}var bh=Object(P["a"])(vh,nh,sh,!1,gh,null,null),yh=bh.exports;function wh(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=new Date(t);if(Number.isNaN(a.getTime())||"string"===typeof t&&(-1!==t.indexOf("-")||-1!==t.indexOf(".")))return t;var o=new Date,n=(o-a)/1e3;return"history"===e?"".concat(a.getFullYear(),"年").concat(a.getMonth()+1,"月").concat(a.getDate(),"日").concat(Object(cr["a"])(a.getHours()),":").concat(Object(cr["a"])(a.getMinutes()),":").concat(Object(cr["a"])(a.getSeconds())):e?a.getFullYear()===o.getFullYear()?"".concat(a.getMonth()+1,"-").concat(a.getDate(),"       ").concat(Object(cr["a"])(a.getHours()),":").concat(Object(cr["a"])(a.getMinutes())):"".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate(),"       ").concat(Object(cr["a"])(a.getHours()),":").concat(Object(cr["a"])(a.getMinutes())):n<86400?n<60?i.recently||"刚刚":n<3600?"".concat((n/60).toFixed()).concat(i.minute||"分钟前"):"".concat((n/3600).toFixed()).concat(i.hour||"小时前"):a.getDate()+1===o.getDate()?"".concat(i.yesterday||"昨天"," ").concat(Object(cr["a"])(a.getHours()),":").concat(Object(cr["a"])(a.getMinutes())):a.getFullYear()===o.getFullYear()?"".concat(a.getMonth()+1,"-").concat(a.getDate(),"   ").concat(Object(cr["a"])(a.getHours()),":").concat(Object(cr["a"])(a.getMinutes())):"".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate())}var xh=wh,kh=i("997f"),$h={name:"Comment",props:["item","index","hasGoAnchor"],inheritAttrs:!1,data:function(){return{pics:[],loading:!1,check:!1}},filters:{fromNow:xh},mounted:function(){var t=this;this.hasGoAnchor&&this.goAnchor(),this.$CommentsBus.$on("updateCheckBtn",(function(e){t.item.idstr===e&&(t.loading=!0,setTimeout((function(){t.loading=!1,t.check=!t.check}),500))}))},components:{IconList:oh,IconFans:yh},computed:{cid:function(){return this.$route.query.cid},rid:function(){return this.$route.query.rid}},methods:{getCommentClickLog:kh["a"],toProfile:function(t){this.$emit("comment-toProfile",t)},getWeiboVerifiedIcon:Jd,viewPic:function(t,e){this.$emit("comment-viewPic",t,e)},toReplyList:function(){this.$emit("comment-toReplyList",{show:!0,id:this.item.idstr,total_number:this.item.total_number,rootComment:this.item})},goAnchor:function(){var t={ele:this.$refs.commentEle,item:this.item};this.$emit("comment-goAnchor",t)},toCheck:function(){var t={check:this.check,id:this.item.idstr};this.$emit("comment-toCheck",t)},iconsData:function(t,e,i){return Object(kh["b"])("comment",t,e,this.index,i,this.$attrs.id)},iconsName:function(t){var e=[{name:"retweet",title:"转发",hover:this.$attrs.showAllHoverRcl?1:0},{name:"comment",title:"评论",hover:this.$attrs.showAllHoverRcl?1:0},{name:"like",title:"赞",hover:this.$attrs.showAllHoverRcl?1:0}];return(this.$attrs.isMy||this.$attrs.uid===t)&&e.unshift({name:"delete",title:"删除",hover:1}),this.$attrs.uid!==t&&"viewer"!==this.$attrs.pagetype&&e.unshift({name:"report",title:"投诉",hover:1},{name:"screen",title:"屏蔽",hover:1}),e},iconsCommentsName:function(t){var e=[{name:"retweet",title:"转发",hover:0},{name:"comment",title:"评论",hover:0},{name:"like",title:"赞",hover:0}];return(this.$attrs.isMy||this.$attrs.uid===t)&&e.unshift({name:"delete",title:"删除",hover:1}),this.$attrs.uid!==t&&"viewer"!==this.$attrs.pagetype&&e.unshift({name:"report",title:"投诉",hover:1},{name:"screen",title:"屏蔽",hover:1}),e}}},Ch=$h,Oh=(i("01c8"),i("a878"),i("2264"));function jh(t){this["$style"]=Oh["default"].locals||Oh["default"]}var Th=Object(P["a"])(Ch,Wd,Qd,!1,jh,null,null),Dh=Th.exports,Sh=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Modal",{class:t.$style.zIndex,scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.replyTotal)+"条回复 ")]},proxy:!0},{key:"content",fn:function(){return[i("div",{class:t.$style.scroll3,on:{touchmove:function(t){t.stopPropagation()}}},[i("div",{staticClass:"wbpro-list"},[i("div",{staticClass:"item1"},[t.rootComment&&t.rootComment.idstr?i("woo-box",{staticClass:"item1in"},[t.rootComment.user?i("woo-avatar",{directives:[{name:"log",rawName:"v-log:click",value:t.getCommentClickLog(t.rootComment,t.$attrs.uid),expression:"getCommentClickLog(rootComment, $attrs.uid)",arg:"click"}],key:t.rootComment.user.profile_image_url,attrs:{size:34,verified:t.getWeiboVerifiedIcon(t.rootComment.user),src:t.rootComment.user.profile_image_url,usercard:t.rootComment.user.id},nativeOn:{click:function(e){return e.stopPropagation(),t.toProfile(t.rootComment.user.id)}}}):t._e(),i("woo-box-item",{staticClass:"con1"},[i("div",{staticClass:"text"},[t.rootComment.user?i("a",{directives:[{name:"log",rawName:"v-log:click",value:t.getCommentClickLog(t.rootComment,t.$attrs.uid),expression:"getCommentClickLog(rootComment, $attrs.uid)",arg:"click"}],attrs:{usercard:t.rootComment.user.id},on:{click:function(e){return e.stopPropagation(),t.toProfile(t.rootComment.user.id)}}},[t._v(t._s(t.rootComment.user.screen_name))]):t._e(),i("IconFans",{attrs:{mbrank:t.rootComment.user&&t.rootComment.user.mbrank,mbtype:t.rootComment.user&&t.rootComment.user.mbtype,svip:t.rootComment.user&&t.rootComment.user.svip,vvip:t.rootComment.user&&t.rootComment.user.vvip,fansIcon:t.rootComment.user&&t.rootComment.user.fansIcon}}),t._v(":"),i("span",{directives:[{name:"outahref",rawName:"v-outahref"}],domProps:{innerHTML:t._s(t.rootComment.text)}})],1),t.rootComment.pics&&t.rootComment.pics.length?t._l(t.rootComment.pics,(function(e,a){return i("div",{key:a,staticClass:"media",on:{click:function(e){return e.stopPropagation(),t.viewPic(a,t.rootComment.pics)}}},[i("woo-picture",{key:e.url,attrs:{src:e.url,alt:"等比图"}})],1)})):t._e(),i("woo-box",{staticClass:"info",attrs:{align:"center",justify:"between"}},[i("div",[t._v(" "+t._s(t._f("fromNow")(t.rootComment.created_at,!0))+" "),t.rootComment.source?i("span",[t._v(" "+t._s(t.rootComment.source))]):t._e(),t.rootComment.translate_source&&t.rootComment.translated?i("span",[t._v(" "+t._s(t.rootComment.translate_source))]):t._e()]),i("IconList",t._g(t._b({attrs:{iconsName:t.iconsName(t.rootComment.user&&t.rootComment.user.id,t.rootComment),widthCount:!0,likeType:"comment",data:t.iconsData(t.rootComment),translated:t.rootComment.translated},on:{"translate-finish":function(e){return t.onTranslateFinish(t.rootComment,e)},"translate-recover":function(){return t.onTranslateRecover(t.rootComment)}}},"IconList",t.$attrs,!1),t.$listeners))],1)],2)],1):t._e(),i("Tabs",{attrs:{filterGroup:t.replyTabs,kind:"reply"},on:{"tabs-change":t.tabsChange}}),i("div",{staticClass:"list2"},[i("Scroll",{attrs:{data:t.replyList,isLoading:t.replyLoading,isRetry:t.replyRetry,isNoData:!1,isInCard:!0},on:{loadMoreData:t.loadMoreData},scopedSlots:t._u([{key:"content",fn:function(e){var a=e.item,o=e.index;return[i("Reply",t._g(t._b({attrs:{rootComment:t.rootComment,item:a,index:o}},"Reply",t.$attrs,!1),t.$listeners))]}}])})],1)],1)])])]},proxy:!0}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})},Ih=[],Lh=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.visible?i("woo-modal",{attrs:{animation:"pop","lock-screen":""}},[i("div",{staticClass:"wbpro-layer"},[i("woo-panel",{attrs:{border:"bottom"}},[i("woo-box",{staticClass:"wbpro-layer-tit"},[i("woo-box-item",{staticClass:"wbpro-layer-tit-text",attrs:{align:"center"}},[t._t("title")],2),i("woo-box",{staticClass:"wbpro-layer-tit-opt",attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"cross"},nativeOn:{click:function(e){t.visible=!1}}})],1)],1)],1),t._t("content")],2)]):t._e()},Bh=[],Ph={name:"ReplyModal",props:{value:{type:Boolean,default:!1}},data:function(){return{visible:!1}},mounted:function(){this.value&&(this.visible=!0),window.addEventListener("keydown",this.keyDownEsc)},watch:{value:function(t){this.visible=t},visible:function(t){this.$emit("input",t)}},methods:{keyDownEsc:function(t){27!==t.keyCode&&27!==t.which||(this.visible=!1)}},beforeDestroy:function(){window.removeEventListener("keydown",this.keyDownEsc)}},Ah=Ph,Eh=Object(P["a"])(Ah,Lh,Bh,!1,null,null,null),Mh=Eh.exports,Fh=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.item.idstr?i("div",{ref:"replyEle",staticClass:"item2",class:{"wbpro-highlight":t.rid==t.item.idstr&&t.hasGoAnchor}},[i("div",{staticClass:"con2"},[i("div",{staticClass:"text"},[t.item.user?i("a",{directives:[{name:"log",rawName:"v-log:click",value:t.getCommentClickLog(t.item,t.$attrs.uid),expression:"getCommentClickLog(item, $attrs.uid)",arg:"click"}],on:{click:function(e){return e.stopPropagation(),t.toProfile(t.item.user.id)}}},[t._v(t._s(t.item.user.screen_name))]):t._e(),!t.getWeiboVerifiedIcon(t.item.user)||t.item.user.fansIcon&&t.item.user.fansIcon.isAuthor?t._e():[t.item.user&&t.item.user.fansIcon&&"ai_assistant"!==t.item.user.fansIcon.name?i("woo-icon",{staticClass:"iconv",attrs:{symbol:t.getWeiboVerifiedIcon(t.item.user)}}):t._e()],i("IconFans",{attrs:{mbrank:t.item.user&&t.item.user.mbrank,mbtype:t.item.user&&t.item.user.mbtype,svip:t.item.user&&t.item.user.svip,vvip:t.item.user&&t.item.user.vvip,fansIcon:t.item.user&&t.item.user.fansIcon}}),t._v(":"),i("span",{directives:[{name:"outahref",rawName:"v-outahref"}],domProps:{innerHTML:t._s(t.item.text)}})],2),i("woo-box",{staticClass:"info",attrs:{align:"center",justify:"between"}},[i("div",[t._v(" "+t._s(t._f("fromNow")(t.item.created_at,!0))+" "),t.item.source?i("span",[t._v(" "+t._s(t.item.source))]):t._e(),1===t.item.approval_comment_type?i("span",[t._v("审核评论中，仅自己可见")]):t._e()]),i("IconList",t._g(t._b({attrs:{iconsName:t.iconsCommentsName(t.item.user&&t.item.user.id),widthCount:!0,likeType:"comment",data:t.iconsData(t.item,t.rootComment,t.index)}},"IconList",t.$attrs,!1),t.$listeners))],1)],1)]):t._e()},Rh=[],Vh={name:"Reply",props:["rootComment","item","index","hasGoAnchor"],inheritAttrs:!1,mounted:function(){this.hasGoAnchor&&this.goAnchor()},filters:{fromNow:xh},computed:{rid:function(){return this.$route.query.rid}},methods:{getCommentClickLog:kh["a"],getWeiboVerifiedIcon:Jd,toProfile:function(t){this.$emit("comment-toProfile",t)},viewPic:function(t,e){this.$emit("comment-viewPic",t,e)},iconsData:function(t,e,i){return Object(kh["b"])("reply",t,e,0,i,this.$attrs.id)},goAnchor:function(){this.$emit("reply-goAnchor",{ele:this.$refs.replyEle,item:this.item})},iconsCommentsName:function(t){var e=[{name:"retweet",title:"转发",hover:0},{name:"comment",title:"评论",hover:0},{name:"like",title:"赞",hover:0}];return(this.$attrs.isMy||this.$attrs.uid===t)&&(e[0]={name:"delete",title:"删除",hover:1}),"viewer"!==this.$attrs.pagetype&&e.unshift({name:"report",title:"投诉",hover:1}),e}},components:{IconList:oh,IconFans:yh}},Nh=Vh,Hh=Object(P["a"])(Nh,Fh,Rh,!1,null,null,null),zh=Hh.exports,Uh=i("a2ba"),Gh={name:"ReplyModal",props:{value:{type:Boolean,default:!1},rootComment:{type:Object,default:function(){}},replyList:Array,replyTotal:Number,replyTabs:Array,replyLoading:Boolean,replyRetry:Boolean},inheritAttrs:!1,data:function(){return{show:!1}},mounted:function(){this.value&&(this.show=!0)},filters:{fromNow:xh},watch:{value:function(t){this.show=t},show:function(t){this.$emit("input",t)}},methods:{getCommentClickLog:kh["a"],onTranslateRecover:Uh["b"],onTranslateFinish:Uh["a"],getWeiboVerifiedIcon:Jd,viewPic:function(t,e){this.$emit("comment-viewPic",t,e)},loadMoreData:function(){this.$emit("loadMoreData",{kind:"reply"})},iconsData:function(t,e,i){return Object(kh["b"])("reply",t,e,0,i,this.$attrs.id)},tabsChange:function(t,e){var i={type:t,kind:"reply",index:e};this.$emit("tabs-change",i)},toProfile:function(t){this.$emit("comment-toProfile",t)},iconsName:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[{name:"report",title:"投诉",hover:1},{name:"translate",title:"翻译",hover:1,hide:!(null===e||void 0===e?void 0:e.translate)},{name:"retweet",title:"转发",hover:this.$attrs.showAllHoverRcl?1:0},{name:"comment",title:"评论",hover:this.$attrs.showAllHoverRcl?1:0},{name:"like",title:"赞",hover:this.$attrs.showAllHoverRcl?1:0}];return(this.$attrs.isMy||this.$attrs.uid===t)&&(i[0]={name:"delete",title:"删除",hover:1}),i.filter((function(t){return!t.hide}))}},components:{Modal:Mh,Scroll:qd,IconList:oh,Reply:zh,Tabs:Ed,IconFans:yh}},qh=Gh,Wh=i("c7aa");function Qh(t){this["$style"]=Wh["default"].locals||Wh["default"]}var Jh=Object(P["a"])(qh,Sh,Ih,!1,Qh,null,null),Kh=Jh.exports,Yh=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("div",{staticClass:"wbpro-list"},[i("div",{staticClass:"item1"},[t.rootComment&&t.rootComment.id?i("woo-box",{staticClass:"item1in"},[t.rootComment.user?i("woo-avatar",{directives:[{name:"log",rawName:"v-log:click",value:t.getCommentClickLog(t.rootComment,t.$attrs.uid),expression:"getCommentClickLog(rootComment, $attrs.uid)",arg:"click"}],key:t.rootComment.user.profile_image_url,attrs:{size:34,verified:t.getWeiboVerifiedIcon(t.rootComment.user),src:t.rootComment.user.profile_image_url,usercard:t.rootComment.user.id},nativeOn:{click:function(e){return e.stopPropagation(),t.toProfile(t.rootComment.user.id)}}}):t._e(),i("woo-box-item",{staticClass:"con1"},[i("div",{staticClass:"text"},[t.rootComment.user?i("a",{directives:[{name:"log",rawName:"v-log:click",value:t.getCommentClickLog(t.rootComment,t.$attrs.uid),expression:"getCommentClickLog(rootComment, $attrs.uid)",arg:"click"}],attrs:{usercard:t.rootComment.user.id},on:{click:function(e){return e.stopPropagation(),t.toProfile(t.rootComment.user.id)}}},[t._v(t._s(t.rootComment.user.screen_name))]):t._e(),i("IconFans",{attrs:{mbrank:t.rootComment.user&&t.rootComment.user.mbrank,mbtype:t.rootComment.user&&t.rootComment.user.mbtype,svip:t.rootComment.user&&t.rootComment.user.svip,vvip:t.rootComment.user&&t.rootComment.user.vvip,fansIcon:t.rootComment.user&&t.rootComment.user.fansIcon}}),t._v(":"),i("span",{directives:[{name:"outahref",rawName:"v-outahref"}],domProps:{innerHTML:t._s(t.rootComment.text)}})],1),t.rootComment.pics&&t.rootComment.pics.length?t._l(t.rootComment.pics,(function(e,a){return i("div",{key:a,staticClass:"media",on:{click:function(e){return e.stopPropagation(),t.viewPic(a,t.rootComment.pics)}}},[i("woo-picture",{key:e.url,attrs:{src:e.url,alt:"等比图"}})],1)})):t._e(),i("woo-box",{staticClass:"info",attrs:{align:"center",justify:"between"}},[i("div",[t._v(" "+t._s(t._f("fromNow")(t.rootComment.created_at,!0))+" "),t.rootComment.source?i("span",[t._v(" "+t._s(t.rootComment.source))]):t._e()]),i("IconList",t._g(t._b({attrs:{iconsName:t.iconsName(t.rootComment.user&&t.rootComment.user.id),widthCount:!0,likeType:"comment",data:t.iconsData(t.rootComment)}},"IconList",t.$attrs,!1),t.$listeners))],1)],2)],1):t._e(),i("Tabs",{attrs:{filterGroup:t.replyTabs,kind:"reply"},on:{"tabs-change":t.tabsChange}}),i("div",{staticClass:"list2"},[i("Scroll",{attrs:{data:t.replyList,isLoading:t.replyLoading,isRetry:t.replyRetry,isNoData:!1,isInCard:!0},on:{loadMoreData:t.loadMoreData},scopedSlots:t._u([{key:"content",fn:function(e){var a=e.item,o=e.index;return[i("Reply",t._g(t._b({attrs:{rootComment:t.rootComment,item:a,index:o,hasGoAnchor:t.hasGoAnchor}},"Reply",t.$attrs,!1),t.$listeners))]}}],null,!1,4161636259)})],1)],1)]):t._e()},Xh=[],Zh={name:"ReplyList",props:{value:{type:Boolean,default:!1},rootComment:{type:Object,default:function(){}},replyList:Array,replyTotal:Number,replyTabs:Array,replyLoading:Boolean,replyRetry:Boolean,hasGoAnchor:Boolean},inheritAttrs:!1,data:function(){return{show:!1}},mounted:function(){this.value&&(this.show=!0)},filters:{fromNow:xh},watch:{value:function(t){this.show=t},show:function(t){this.$emit("input",t)}},methods:{getCommentClickLog:kh["a"],getWeiboVerifiedIcon:Jd,viewPic:function(t,e){this.$emit("comment-viewPic",t,e)},loadMoreData:function(){this.$emit("loadMoreData",{kind:"reply"})},iconsData:function(t,e,i){return Object(kh["b"])("reply",t,e,0,i,this.$attrs.id)},tabsChange:function(t,e){var i={type:t,kind:"reply",index:e};this.$emit("tabs-change",i)},toProfile:function(t){this.$emit("comment-toProfile",t)},iconsName:function(t){var e=[{name:"retweet",title:"转发",hover:this.$attrs.showAllHoverRcl?1:0},{name:"comment",title:"评论",hover:this.$attrs.showAllHoverRcl?1:0},{name:"like",title:"赞",hover:this.$attrs.showAllHoverRcl?1:0}];return(this.$attrs.isMy||this.$attrs.uid===t)&&(e[0]={name:"delete",title:"删除",hover:1}),"viewer"!==this.$attrs.pagetype&&e.unshift({name:"report",title:"投诉",hover:1}),e}},components:{Scroll:qd,IconList:oh,Reply:zh,Tabs:Ed,IconFans:yh}},tp=Zh,ep=Object(P["a"])(tp,Yh,Xh,!1,null,null,null),ip=ep.exports,ap=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],class:t.$style.container,attrs:{direction:"y"}},[i("woo-box",{class:t.$style.backButton,attrs:{justify:"center",align:"center"},nativeOn:{click:function(e){return t.back(e)}}},[i("woo-fonticon",{class:t.$style.backIcon,attrs:{value:"close"}})],1),t.showTool?i("woo-box",{class:t.$style.tools},[i("woo-box",{class:t.$style.download,attrs:{justify:"center",align:"center"},nativeOn:{click:function(e){return t.download(e)}}},[i("woo-fonticon",{attrs:{value:"download"}})],1),t.isLongPic?t._e():i("woo-box",{class:t.$style.textButton,attrs:{align:"center"},nativeOn:{click:function(e){return t.handleRotateRight(e)}}},[i("woo-fonticon",{class:t.$style.textIcon,attrs:{value:"rotateR"}}),t._v("向右旋转 ")],1),Object.keys(t.content).length?i("woo-box",{class:t.$style.textButton,attrs:{align:"center"},nativeOn:{click:function(e){return t.goOrigin(e)}}},[i("woo-fonticon",{class:t.$style.textIcon,attrs:{value:"search"}}),t._v("查看原图 ")],1):t._e()],1):t._e(),i("div",{ref:"imgView",class:[t.$style.content,t.imgLoaded?"":t.$style.loading],attrs:{align:"center"},on:{click:t.back}},[i("div",{staticStyle:{width:"100%",height:"100%",position:"relative",overflow:"auto"}},[i("div",{ref:"imgWrap",class:[t.$style.wrap,t.isLongPic?t.$style.longPic:""]},["image"===t.type?i("div",{ref:"imgCon",staticClass:"imgInstance",class:[t.$style.imgElm],style:t.imgContainerStyle,on:{click:function(t){t.stopPropagation()}}},[t.showPayInfo?i("woo-box",{class:t.$style.pay,attrs:{align:"center",justify:"center",direction:"y"}},[i("p",[t._v("开通Ta的专属会员")]),i("p",[t._v("即可浏览图片和Ta的全部付费内容")]),i("woo-button",{class:t.$style.openBtn,attrs:{size:"m",sort:"flat",kind:"primary"},on:{click:t.goPay}},[i("span",{staticStyle:{"font-size":"14px"}},[t._v("立即开通")])])],1):t._e(),i("img",{directives:[{name:"show",rawName:"v-show",value:t.imgLoaded,expression:"imgLoaded"}],key:t.currIndex,ref:"imgBox",attrs:{draggable:"false",src:t.currSrc},on:{load:t.handleImgLoad}}),i("img",{directives:[{name:"show",rawName:"v-show",value:!t.imgLoaded,expression:"!imgLoaded"}],ref:"ghostImg",class:t.$style.ghostImg,staticStyle:{filter:"blur(1px)"},attrs:{src:t.prevSrc}})],1):t._e()])])])],1)},op=[],np=i("323e"),sp=i.n(np),rp=(i("a5d8"),function(t,e){var i=[],a=0;0===t.length?e&&"function"===typeof e&&e():t.forEach((function(o,n){i[n]=new Image,i[n].src=o,i[n].onload=i[n].onerror=function(){a++,a===t.length&&e&&"function"===typeof e&&e()}}))}),lp=18,cp=function(){},up={name:"picture-view",props:{},data:function(){return{visible:!1,data:[],originData:[],currSrc:"",prevSrc:"",currIndex:-1,currListIndex:0,dirStatus:0,isLongPic:!1,imgLoaded:!1,type:"image",content:{},needPay:!1,prevMaxLength:lp,viewerLocale:"zh-CN",imgContainerStyle:{},uid:"",needPlayer:!1,playerLoaded:!1,supportWebp:!1,preloadArr:[]}},computed:{showPrevBtn:function(){return 0!==this.currListIndex},showNextBtn:function(){return Math.ceil(this.originData.length/lp)!==this.currListIndex+1},hasPrevList:function(){return this.originData.length>1},rotateStyle:function(){if(0===this.dirStatus)return{};if(1===this.dirStatus||3===this.dirStatus){var t=this.realRect,e=t.width,i=t.height,o={position:"relative"},n=this.$refs.imgWrap.getBoundingClientRect(),s=n.width,r=n.height;return e>=i?o.width=r+"px":o.height=s+"px",1===this.dirStatus?Object(a["a"])(Object(a["a"])({},o),{},{transform:"matrix(0, -1, 1, 0, 0, 0)"}):Object(a["a"])(Object(a["a"])({},o),{},{transform:"matrix(0, 1, -1, 0, 0, 0)"})}return{transform:"rotate(180deg)"}},showTool:function(){return"image"===this.type&&!this.needPay},showPayInfo:function(){return this.originData.length>0?this.needPay&&0!==this.currIndex:this.needPay},showCursor:function(){return this.originData.length>1}},watch:{currIndex:{handler:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!(t<0)){i.next=2;break}return i.abrupt("return");case 2:if(e.currListIndex=Math.floor(t/lp),e.data=e.originData.slice(e.currListIndex*lp,(e.currListIndex+1)*lp),e.isLongPic&&e.$refs.imgBox.scrollIntoView(),e.prevSrc=e.originData[t].url,e.originData[t].geo){i.next=10;break}return i.next=9,e.loadImgSize(e.originData[t]);case 9:e.originData[t]=i.sent;case 10:e.$nextTick((function(){"gif"===e.originData[t].type?e.currSrc=e.originData[t].large.url:e.supportWebp&&e.originData[t].webp&&e.originData[t].webp.url?e.currSrc=e.originData[t].webp.url:e.currSrc=e.originData[t].normal.url})),e.updateImgContainerStyle(),e.indexChange.call(e,t);case 13:case"end":return i.stop()}}),i)})))()},immediate:!0},dirStatus:function(){if(0!==this.dirStatus)if(1===this.dirStatus||3===this.dirStatus){var t=this.originData[this.currIndex],e=t&&this.large2mw690(t.geo),i=e.width,o=e.height,n=i/o,s={},r=this.$refs.imgWrap.getBoundingClientRect(),l=r.width,c=r.height;if(i<=c&&o<=l)s={width:i+"px",height:o+"px"};else if(i<=c&&o>l)s={width:l*n+"px",height:l+"px"};else if(i>c&&o<=l)s={width:c+"px",height:c/n+"px"};else{var u=l/c;s=u>=1/n?{width:c+"px",height:c/n+"px"}:{width:l*n+"px",height:l+"px"}}1===this.dirStatus?this.imgContainerStyle=Object(a["a"])(Object(a["a"])({},s),{},{transform:"matrix(0, -1, 1, 0, 0, 0)"}):this.imgContainerStyle=Object(a["a"])(Object(a["a"])({},s),{},{transform:"matrix(0, 1, -1, 0, 0, 0)"})}else this.imgContainerStyle=Object(a["a"])(Object(a["a"])({},this.currStyle),{},{transform:"rotate(180deg)"});else this.updateImgContainerStyle()}},mounted:function(){sp.a.configure({showSpinner:!1})},created:function(){var t=this;this.supportWebp=this.isSupportWebp(),this.$CommentsBus.$on("showCommentsViewer",(function(e){var i=e.data,a=void 0===i?{}:i,o=e.type,n=e.indexChange;e.needPlayer,e.videoOptions;t.type=o;var s=a.content;if(t.content=s||{},"image"===o){var r=a.index,l=a.pics,c=a.uid;t.uid=c||"",t.originData=l,t.currIndex=r,t.indexChange=n||cp,l.some((function(t){return t.isPay}))&&(t.needPay=!0),t.visible&&(t.data=t.originData.slice(t.currListIndex*lp,(t.currListIndex+1)*lp)),t.checkLongPic(r),t.$nextTick((function(){sp.a.start()}))}t.toggleKeyEvent(!0),t.routerToggle(!0),t.$nextTick((function(){t.switchScroll(!0),t.visible=!0}))}))},methods:{updateImgContainerStyle:function(){var t=this;if(!(this.currIndex<0)){var e=this.originData[this.currIndex],i=e&&this.large2mw690(e.geo),a=i.width,o=i.height,n=a/o;setTimeout((function(){var e=t.$refs.imgWrap.getBoundingClientRect(),i=e.width,s=e.height;if(t.isLongPic)t.imgContainerStyle=a>i?{width:i+"px"}:{width:a+"px"};else{if(a<=i&&o<=s)t.imgContainerStyle={width:a+"px",height:o+"px"};else if(a<=i&&o>s)t.imgContainerStyle={width:s*n+"px",height:s+"px"};else if(a>i&&o<=s)t.imgContainerStyle={width:i+"px",height:i/n+"px"};else{var r=i/s;t.imgContainerStyle=r>=n?{width:s*n+"px",height:s+"px"}:{width:i+"px",height:i/n+"px"}}t.currStyle=Object.assign({},t.imgContainerStyle)}}),0)}},large2mw690:function(t){if(!t)return{width:690,height:690};var e=t.width,i=t.height;return e>=690?{width:690,height:Math.round(690*i/e)}:{width:e,height:i}},goPay:function(){if(Object.keys(this.content).length){var t=this.content,e=t.user.id,i=t.mid;window.open("https://vipclub.weibo.com/vmember/toopen?vuid=".concat(e,"&F=pic_").concat(i))}},keyPressFunction:function(t){switch(t.keyCode){case 27:this.back();break;case 37:this.handleChange("prev");break;case 39:this.handleChange("next");break;default:break}},toggleKeyEvent:function(t){t?window.addEventListener("keydown",this.keyPressFunction):window.removeEventListener("keydown",this.keyPressFunction)},handleImgLoad:function(){var t=this;this.imgLoaded=!0,sp.a.done(),this.$nextTick((function(){var e,i,a=[];0===t.currIndex?(e=t.originData.length-1,i=t.currIndex+1):t.currIndex===t.originData.length-1?(e=t.currIndex-1,i=0):(e=t.currIndex-1,i=t.currIndex+1),t.originData.length>1&&(t.preloadArr.includes(t.currIndex)||t.preloadArr.push(t.currIndex),!t.preloadArr.includes(e)&&e>-1&&(t.preloadArr.push(e),a.push(t.getRealSrc(t.originData[e]))),!t.preloadArr.includes(i)&&i>-1&&(t.preloadArr.push(i),a.push(t.getRealSrc(t.originData[i]))),rp(a))}))},loadImgSize:function(t){return new Promise((function(e){var i=new Image;i.src=t.url,i.complete?e(Object(a["a"])(Object(a["a"])({},t),{},{geo:{width:i.width,height:i.height}})):i.onload=function(){e(Object(a["a"])(Object(a["a"])({},t),{},{geo:{width:i.width,height:i.height}}))}}))},getRealSrc:function(t){return"gif"===t.type?t.large.url:this.supportWebp&&t.webp&&t.webp.url?t.webp.url:t.normal.url},back:function(){this.toggleKeyEvent(),this.routerToggle(),this.switchScroll(),this.resetData(),sp.a.done(),this.$Bus.$emit("closeViewer"),this.visible=!1,this.preloadArr=[]},resetData:function(){this.data=[],this.originData=[],this.currSrc="",this.prevSrc="",this.currIndex=-1,this.currListIndex=0,this.dirStatus=0,this.isLongPic=!1,this.imgLoaded=!1,this.needPay=!1,this.imgContainerStyle={},this.uid=""},download:function(){this.$emit("download");var t=this.originData[this.currIndex].large.url;window.location.href="/ajax/common/download?url=".concat(encodeURIComponent(t))},goOrigin:function(){var t=document.createElement("a");t.setAttribute("target","_blank");var e=this.content,i=e.user.id,a=e.mid,o=e.pic_ids;t.href="https://photo.weibo.com/".concat(i,"/wbphotos/large/mid/").concat(a,"/pid/").concat(o[this.currIndex]),t.click()},handleChangeGallery:function(t){this.originData.length<=1||this.handleChange(t)},handleChange:function(t){var e=this.currIndex;e>-1&&e<this.originData.length&&("next"===t?e=(e+1)%this.originData.length:(0===e&&(e=this.originData.length),e-=1),this.switchPic(e))},switchPic:function(t){this.currIndex!==t&&(sp.a.start(),this.imgLoaded=!1,this.dirStatus=0,this.checkLongPic(t),this.currIndex=t)},checkLongPic:function(t){var e=this.originData[t];if(e&&e.geo){var i=e&&e.geo,a=i.width,o=i.height,n=a/o;this.isLongPic=n<=.3}},handleRotateRight:function(){0===this.dirStatus&&(this.dirStatus=4),this.dirStatus=this.dirStatus-1},switchScroll:function(t){t?(document.documentElement.style.overflowY="hidden",document.documentElement.style.marginRight=this.getScrollBarWidth()+"px"):(document.documentElement.style.overflowY="scroll",document.documentElement.style.marginRight="")},routerToggle:function(t){t?(window.addEventListener("hashchange",this.hashChange),"&viewer"===window.location.href.split("#")[1]?window.history.replaceState({},"viewer","#&viewer"):window.history.pushState({},"viewer","#&viewer")):(window.removeEventListener("hashchange",this.hashChange),window.location.href.split("#")[1]&&(window.history.length>2?window.history.back():history.replaceState(null,"",location.pathname+location.search)))},hashChange:function(t){t&&t.oldURL.indexOf("&viewer")&&this.back()},getScrollBarWidth:function(){var t=document.createElement("p"),e={width:"100px",height:"100px",overflowY:"scroll"};Object.keys(e).forEach((function(i){t.style[i]=e[i]})),document.body.appendChild(t);var i=t.offsetWidth-t.clientWidth;return t.remove(),i},isSupportWebp:function(){try{return 0===document.createElement("canvas").toDataURL("image/webp",.5).indexOf("data:image/webp")}catch(t){return!1}}}},dp=up,hp=i("4352");function pp(t){this["$style"]=hp["default"].locals||hp["default"]}var fp=Object(P["a"])(dp,ap,op,!1,pp,null,null),mp=fp.exports,vp={name:"weibo-build-comments-base",components:{Tabs:Ed,Scroll:qd,Comment:Dh,ReplyModal:Kh,ReplyList:ip,Viewer:mp},props:{list:Array,tipMsg:String,approvalTips:String,headerText:String,commentTabs:Array,replyTabs:Array,commentLoading:Boolean,commentRetry:Boolean,commentEmpty:Boolean,commentEmptyText:String,commentNoData:Boolean,commentShowNotLoginBottom:Boolean,replyLoading:Boolean,replyRetry:Boolean,showReplyModal:Boolean,replyListType:{type:String,default:"pop"},rootComment:Object,showRcl:Boolean,openApp:Object,routerPaths:Array,showOpenPics:Boolean,showAllHoverRcl:Boolean,hasGoAnchor:Boolean},inheritAttrs:!1,watch:{showReplyModal:function(t){this.$emit("updateShowReplyModal",t)}},methods:{toOpenApp:function(){this.openApp.scheme&&(window.location.href=this.openApp.scheme)},tabsChange:function(t,e){var i={type:t,kind:"comment",index:e};this.$emit("tabs-change",i)}}},_p=vp,gp=i("97e8");function bp(t){this["$style"]=gp["default"].locals||gp["default"]}var yp,wp=Object(P["a"])(_p,jd,Td,!1,bp,null,null),xp=wp.exports,kp={name:"weibo-build-comments",components:{Comments:xp},data:function(){return{curWeiboData:this.status,list:[],replyList:[],replyTabCurIndex:-1,replyTotal:0,mid:"",commentLoading:!0,replyLoading:!0,commentRetry:!1,replyRetry:!1,commentEmptyText:"",commentEmpty:!1,commentNoData:!1,commentShowNotLoginBottom:!1,page:1,max_id:0,reply_max_id:0,commentTabs:[],replyTabs:[],curTabIndex:-1,showReplyModal:this.showReplyList,rootComment:{},commentData:{},isChangeId:!1,tipMsg:"",approvalTips:"",headerText:""}},mounted:function(){this.getList()},props:{status:{type:Object,default:function(){return{idstr:"",is_show_bulletin:"",comment_manage_info:{approval_comment_type:0},user:{id:""}}}},uid:{type:Number},composerCallback:{type:Object,default:null},showTips:{type:Boolean,default:!0},showApprovalComment:{type:Boolean,default:!0},showTabs:{type:Boolean,default:!0},showRcl:{type:Boolean,default:!0},openApp:{type:Object,default:function(){return{show:!1,scheme:""}}},routerPaths:{type:Array,default:function(){return[]}},showReplyList:{type:Boolean,default:!1},replyListType:{type:String,default:"pop"},showOpenPics:{type:Boolean,default:!0},showAllHoverRcl:{type:Boolean,default:!1},hasGoAnchor:{type:Boolean,default:!1},pagetype:{type:String,default:""},isNormal:{type:Boolean,default:!0}},computed:{isMy:function(){var t,e;return!!(null===(t=this.curWeiboData)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.id)&&this.curWeiboData.user.id===this.uid},cid:function(){return this.$route.query.cid},rid:function(){return this.$route.query.rid},checkComment:function(){return this.showApprovalComment&&this.curWeiboData&&2===this.curWeiboData.is_show_bulletin&&this.curWeiboData.comment_manage_info&&1===this.curWeiboData.comment_manage_info.approval_comment_type},approvalCommentsType:function(){if(this.commentTabs&&this.commentTabs.length){var t=this.commentTabs.findIndex((function(t){return"approvalComments"===t.type}));return this.commentTabs[t]&&this.commentTabs[t].type}return""}},watch:{status:function(t){t&&(this.curWeiboData=t,this.initApiData(),this.commentTabs=[],this.isChangeId=!0,this.list=[],this.getList())},showReplyList:function(t){this.showReplyModal=t},showReplyModal:function(t){t&&(this.reply_max_id=0,this.replyList=[],this.getReplyList())},replyTotal:function(t){this.$emit("updateReplyTotal",t)},composerCallback:function(t){if("create"===t.action&&t.ok){if(t.data.pic_ids&&t.data.pic_ids.length&&t.data.pic_ids[0]&&(t.data.pics=Cd(t.data.pic_ids)),!t.location&&(!this.isMy&&this.checkComment&&(t.data.approval_comment_type=1),this.curTabIndex=-1===this.curTabIndex?0:this.curTabIndex,!(this.commentTabs.length&&this.commentTabs[this.curTabIndex]&&this.approvalCommentsType&&this.commentTabs[this.curTabIndex].type===this.approvalCommentsType))){if(this.list.length&&this.list[0].idstr===t.data.idstr)return;this.list.unshift(t.data),this.commentEmpty=!1}this.curWeiboData.comments_count++,this.curWeiboData.comments_count_format=Od(this.curWeiboData.comments_count),this.$emit("updateCommentsCount",this.curWeiboData.comments_count_format)}if("reply"===t.action&&t.ok)if(this.showReplyModal){if(0===t.location[0]||t.location[1]){!this.isMy&&this.checkComment&&(t.data.approval_comment_type=1),this.replyList.unshift(t.data),this.replyTotal++;var e,i=Object(_o["a"])(this.list);try{for(i.s();!(e=i.n()).done;){var a=e.value;t.data.rootidstr===a.idstr&&a.comments&&a.comments.length&&a.more_info&&a.more_info.highlight_text&&(a.more_info.highlight_text="共".concat(this.replyTotal,"条回复"))}}catch(r){i.e(r)}finally{i.f()}}}else if(t.location[0]>=0||t.location[1]>=0){var o,n=Object(_o["a"])(this.list);try{for(n.s();!(o=n.n()).done;){var s=o.value;if(s.idstr===t.data.rootidstr){if(t.data.pic_ids&&t.data.pic_ids.length&&t.data.pic_ids[0]&&(t.data.pics=Cd(t.data.pic_ids)),s.comments&&s.comments.length){if(!this.isMy&&this.checkComment&&(t.data.approval_comment_type=1),s.comments.length&&s.comments[0].idstr===t.data.idstr)return;s.comments.unshift(t.data),s.total_number++,s.more_info&&s.more_info.highlight_text&&(s.more_info.highlight_text="共".concat(s.total_number,"条回复"))}else this.$set(s,"comments",[t.data]),s.total_number=1;this.curWeiboData.comments_count++,this.curWeiboData.comments_count_format=Od(this.curWeiboData.comments_count),this.$emit("updateCommentsCount",this.curWeiboData.comments_count_format)}}}catch(r){n.e(r)}finally{n.f()}}}},methods:{initApiData:function(){this.page=1,this.max_id=0,this.reply_max_id=0,this.headerText="",this.approvalTips=""},tabsChange:function(t){this.initApiData(),t&&"reply"===t.kind?(this.replyList=[],this.replyTabCurIndex=t.index,this.getReplyList()):t&&"comment"===t.kind&&(this.list=[],this.curTabIndex=t.index,this.getList(t.param,t.type))},getList:function(t,e){var i=this,o={};if(this.commentTabs&&this.commentTabs.length&&this.curTabIndex>=0&&this.commentTabs[this.curTabIndex].param){var n=this.commentTabs[this.curTabIndex].param,s=n.split("=")[0],r=n.split("=")[1];o[s]=r}var l="",c={};this.curWeiboData.idstr&&("reload"===e&&(this.curTabIndex=0,this.commentTabs=[]),"approvalComments"===e?(l="/ajax/approval/list",c={id:this.curWeiboData.idstr,max_id:this.max_id,count:20,filter_type:0,is_reload:1}):(l="/ajax/statuses/buildComments",c=Object(a["a"])(Object(a["a"])({},o),{},{is_reload:1,id:this.curWeiboData.idstr,is_show_bulletin:this.curWeiboData.is_show_bulletin,is_mix:0,max_id:this.max_id,count:20,uid:this.curWeiboData.user.id,fetch_level:0,locale:Object(ki["a"])(),expand_text:0}))),this.commentLoading=!0,this.commentRetry=!1,l&&this.$http.get(l,{params:c}).then((function(t){i.commentLoading=!1,i.commentEmpty=!1,i.commentEmptyText="";var e=t.data,a=[];if(e.data&&e.data.comments&&e.data.comments.length&&(i.approvalTips="共".concat(e.data.total_number,"条待审评论（已隐藏所有回复），去“评论精选”中批量管理"),e.max_id=e.data.max_id,e.data=e.data.comments,e.data.map((function(t){t.button={text:"通过审核"}}))),e.data&&e.data.length||e.max_id){if(a=e.data,i.isMy&&i.checkComment&&e.filter_group&&e.filter_group.length&&e.filter_group.push({isDefault:0,type:"approvalComments",scheme:"",title:"待审评论"}),e.filter_group&&e.filter_group.length&&(i.commentTabs=e.filter_group,i.curTabIndex=i.commentTabs.findIndex((function(t){return 1===+t.isDefault}))),1===i.page&&e.header_text&&(i.headerText=e.header_text),a.map((function(t){t.url_struct&&t.url_struct.length&&t.url_struct[0].pic_ids&&t.url_struct[0].pic_ids.length&&(t.pics=Cd(t.url_struct[0].pic_ids),t.pics=t.pics.map((function(t){var e;return(null===(e=t.url)||void 0===e?void 0:e.match(/\.gif/))&&(t.url=t.large.url),t})))})),1===i.page&&e.tip_msg&&(i.tipMsg=e.tip_msg),i.page>=2&&!i.isNormal)return i.commentNoData=!1,void(i.commentShowNotLoginBottom=!0);i.list=i.list.concat(a),i.max_id=e.max_id,i.commentLoading=!0}return 1===i.page&&i.isMy&&i.checkComment&&0===i.commentTabs.length?(i.commentTabs.push({isDefault:1,type:"approvalComments",scheme:"",title:"待审评论"}),void i.getList("",i.approvalCommentsType)):!i.isMy&&i.checkComment&&e.data&&0===e.data.length&&2===i.page?(i.commentEmpty=!0,void(i.commentEmptyText="博主已开启评论精选")):((0===e.max_id||e.data&&0===e.data.length&&i.page>1)&&(i.commentLoading=!1,i.commentRetry=!1),(!i.max_id&&0===i.list.length||0===e.total_number||1===i.page&&0===i.list.length)&&(i.commentEmpty=!0,i.approvalCommentsType?i.commentEmptyText="暂无需要审核的评论":!i.isMy&&i.checkComment?i.commentEmptyText="博主已开启评论精选":i.commentEmptyText=t.data.trendsText||"快来发表你的评论吧"),i.page++,void(i.isChangeId=!1))})).catch((function(){i.commentLoading=!1,i.commentRetry=!0}))},getReplyList:function(){var t=this;this.replyLoading=!0,this.replyRetry=!1;var e={};if(this.replyTabs&&this.replyTabs.length){var i=this.replyTabs[this.replyTabCurIndex].param,o=i.split("=")[0],n=i.split("=")[1];e[o]=n}this.$http.get("/ajax/statuses/buildComments",{params:Object(a["a"])(Object(a["a"])({},e),{},{is_reload:1,id:this.commentData.id,is_show_bulletin:2,is_mix:1,fetch_level:1,max_id:this.reply_max_id,count:20,uid:this.curWeiboData.user.id})}).then((function(e){if(t.replyLoading=!1,e.data&&e.data.ok){var i=e.data,a=i.data;0===t.replyTabs.length&&i.filter_group&&i.filter_group.length&&(t.replyTabs=i.filter_group,t.replyTabCurIndex=t.replyTabs.findIndex((function(t){return 1===+t.isDefault}))),t.replyList=t.replyList.concat(a),t.replyLoading=!0,t.reply_max_id=i.max_id,t.replyTotal=i.total_number,0===t.reply_max_id&&(t.replyLoading=!1,t.replyRetry=!1)}else t.replyLoading=!1,t.replyRetry=!1})).catch((function(){t.replyLoading=!1,t.replyRetry=!0}))},loadMoreData:function(t){t&&"reply"===t.kind?this.getReplyList():this.approvalCommentsType?this.getList("",this.approvalCommentsType):this.getList()},updateShowReplyModal:function(t){this.showReplyModal=t,"secondPage"===this.replyListType&&this.$emit("updateShowReplyModal",t)},deleteComment:function(t){var e=this,i=t.cid,a=t.rootid;if(a)this.list.map((function(t){if(t.comments&&t.comments.length){var e=t.comments.findIndex((function(t){return t.idstr===i}));e>-1&&(t.comments.splice(e,1),t.total_number--,t.more_info&&t.more_info.highlight_text&&(t.more_info.highlight_text="共".concat(t.total_number,"条回复")))}}));else{var o=this.list.findIndex((function(t){return t.idstr===i}));o>-1&&(this.list.splice(o,1),this.list.length||(this.approvalCommentsType?(this.commentTabs=this.commentTabs.filter((function(t){return t.type===e.approvalCommentsType})),this.headerText="",this.page=1,this.getList("",this.approvalCommentsType)):(this.commentEmpty=!0,this.commentEmptyText="快来发表你的评论吧",this.commentTabs=[])))}},deleteReplyList:function(t){var e=this,i=this.replyList.findIndex((function(e){return e.idstr===t}));if(i>-1){if(this.replyList.splice(i,1),this.replyTotal--,[0,1].indexOf(i)>-1){var a=[];this.replyList[0]&&a.push(this.list[0]),this.replyList[1]&&a.push(this.list[1]),this.list.map((function(t){t.comments&&t.comments.length&&(t.comments=a,t.more_info&&t.more_info.highlight_text&&(t.more_info.highlight_text="共".concat(e.replyTotal,"条回复")))}))}this.replyTotal||(this.show=!1)}},approvalManage:function(){window.open("/manage/approval/cmt?id=".concat(this.curWeiboData.idstr))},commentToProfile:function(t){t&&("viewer"===this.pagetype?this.$router.push({path:"/u/".concat(t)}):window.open("https://weibo.com/u/".concat(t)))},commentToCheck:function(t){var e=this;t.check||this.$http.post("/ajax/approval/update_comment_state",{cids:[t.id+":1"].join(",")}).then((function(i){i.data&&i.data.ok&&i.data.data&&i.data.data.result&&e.$CommentsBus.$emit("updateCheckBtn",t.id)}))},commentViewPic:function(t,e){this.showOpenPics?this.$CommentsBus.$emit("showCommentsViewer",{data:{index:t,pics:e},type:"image"}):e[0]&&e[0].large&&e[0].large.url&&window.open(e[0].large.url)},commentToReplyList:function(t){if(this.showReplyModal=t.show,this.commentData={id:t.id,total_number:t.total_number,rootComment:t.rootComment},this.commentData&&this.commentData.rootComment){var e=this.commentData.rootComment;e.url_struct&&e.url_struct.length&&e.url_struct[0].pic_ids&&e.url_struct[0].pic_ids.length&&(e.pics=Cd(e.url_struct[0].pic_ids)),this.rootComment=e}},commentGoAnchor:function(t){var e=this;+this.cid===+t.item.idstr&&(t.ele.scrollIntoView({block:"center",behavior:"smooth"}),setTimeout((function(){e.rid&&e.commentToReplyList({show:!0,id:t.item.idstr,total_number:t.item.total_number,rootComment:t.item})}),1500))},replyGoAnchor:function(t){+this.rid===+t.item.idstr&&t.ele&&t.ele.scrollIntoView({block:"center",behavior:"smooth"})},iconListRepost:function(t){var e=t.type,i=t.mblogid,a=t.id;"weibo"===e?"rid=".concat(i,"&type=1"):"comment"===e&&"rid=".concat(a,"&type=2"),this.$Bus.$emit("showModalComposer",t)},iconListComment:function(t){"pop"===this.replyListType?this.$Bus.$emit("showModalComposer",t):"secondPage"===this.replyListType&&this.$emit("clickRcl",{type:"comment",data:t})},iconListLike:function(t){var e=this,i=t.type,a=t.id,o=t.valueLike,n="",s={};"weibo"===i?(s={id:a},n=o?"cancelLike":"setLike"):"comment"===i&&(s={object_id:a,object_type:"comment"},n=o?"destroyLike":"updateLike"),this.$http.post("/ajax/statuses/".concat(n),s).then((function(t){t.data&&t.data.ok&&e.$CommentsBus.$emit("updateLike",a)}))},iconListDelete:function(t){var e=this,i=t.rootid,a=[{value:!1,label:"同时将此用户加入黑名单"}];this.$_w_dialog({type:"confirm",title:"确定删除".concat(i||"reply"===t.type?"回复":"评论","么？"),btnConfirm:"确定",checkbox:this.isMy&&this.uid!==t.uid?a:[],action:function(){var o={};a[0].value&&(o={uid:t.uid,screen_name:t.screen_name,status:0,interact:1,follow:0}),e.$http.post("/ajax/statuses/destroyComment",{cid:t.id,filter:o}).then((function(a){a.data&&a.data.ok&&(i&&"reply"===t.type?e.deleteReplyList(t.idstr):e.deleteComment({cid:t.idstr,rootid:i}),"reply"!==t.type||i||(e.showReplyModal=!1),e.$_w_toast({type:"success",message:"删除成功"}))}))}})},iconListReport:function(t){var e="";"weibo"===t.type?e="rid=".concat(t.mblogid,"&type=1"):"comment"===t.type&&(e="rid=".concat(t.id,"&type=2")),window.open("https://service.account.weibo.com/reportspam?".concat(e,"&from=1FFFF96039"))}}},$p=kp,Cp=Object(P["a"])($p,kd,$d,!1,null,null,null),Op=Cp.exports,jp={};function Tp(t,e){t.preventDefault(),t.stopPropagation();var i=Cd([e]),a=0;o["default"].prototype.$CommentsBus.$emit("showCommentsViewer",{data:{index:a,pics:i},type:"image"})}jp.install=function(t){t.directive("outahref",{bind:function(t,e,i){yp=function(e){var a=e.target;while(a&&a!==t){if(a&&a.tagName&&"a"===a.tagName.toLowerCase()&&a.href)break;a=a.parentNode}if(a&&a.href){var o=i.context.$attrs.showOpenPics,n=i.context.$attrs.routerPaths,s=window.location.hostname;if(n&&n.length){var r=n.some((function(t){var e=new RegExp("^(http|https)?://".concat(s).concat(t,"([/?#]|$)"));return"/"!==t&&e.test(a.href)}));if(r){var l=new RegExp("^(http|https)?://".concat(s));e.preventDefault(),i.context.$router.push({path:a.href.replace(l,"")})}}o&&a.dataset.pid&&Tp(e,a.dataset.pid)}},t.addEventListener("click",yp)},unbind:function(t){t.removeEventListener("click",yp)}})};var Dp=jp,Sp={install:function(t){t.use(Dp),t.use(Sr)}},Ip=Sp;Op.install=function(t){t.component(Op.name,Op),t.prototype.$CommentsBus=new t,t.use(Ip)};var Lp=Op,Bp=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isShow?i("woo-box",[t.data&&"mini"!==t.data.status&&t.config.user&&t.config.user.avatar_large?i("woo-avatar",{class:t.$style.mar2,attrs:{size:34,verified:t.getVerifiedIcon(t.config.user),src:t.config.user.avatar_large}}):t._e(),Object.keys(t.detail).length?i("woo-box-item",[t.data&&"mini"!==t.data.status?i("Composer",{attrs:{data:t.detail,actLogScene:t.actLogScene},on:{composerChange:t.composerChange,changeIndex:t.changeIndex}}):i("MiniComposer",{ref:"miniComposer",attrs:{data:t.detail,actLogScene:t.actLogScene,customLikeIcon:t.customLikeIcon},on:{datachange:function(e){return t.detailChange(arguments)}}})],1):t._e()],1):t._e()},Pp=[],Ap=i("40a8"),Ep=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{key:t.time,ref:"composer"},[i("div",[i("PublisherForm",{ref:"form",attrs:{content:t.comment,placeholder:t.data&&t.data.placeholder,compser:!0,maxCount:t.maxCount,"size-config":{height:t.data&&t.data.single?"24px":"48px"},showPic:!t.disableImgUpload},on:{change:t.formChange,textcount:t.formTextCount,imageUpload:t.pasteImg,fromKeydownEnter:function(e){!t.sendDisabled&&t.publish()}}})],1),i("div",{class:t.$style.box2},[i("PublisherImage",{ref:"image",attrs:{onlyOne:!0,data:t.pic_id,statusChange:t.statusChange,file:t.pasteImage,source:"repost"===t.data.action?2:3},on:{change:t.imageChange}})],1),i("div",{class:t.$style.mar1},[i("woo-box",{attrs:{align:"center"}},[i("woo-box",{class:t.$style.iconbox2,attrs:{old:""}},[i("woo-box-item",{class:t.$style.iconitem,nativeOn:{click:function(e){return e.stopPropagation(),t.click("emoticon")}}},[i("woo-box",{staticClass:"wbpro-iconbed",attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"emoticon",title:"表情"}})],1)],1),i("woo-box-item",{class:t.$style.iconitem,nativeOn:{mousedown:function(t){t.stopPropagation()},click:function(e){e.stopPropagation(),!t.disableImgUpload&&t.click("image")}}},[i("woo-box",{staticClass:"wbpro-iconbed",class:[{disabled:t.disableImgUpload},t.$style.file],attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"image",title:"图片"}})],1)],1)],1),"repost"===t.data.action?i("woo-box-item",{attrs:{align:"center"}},[i("woo-checkbox",{class:t.$style.check,model:{value:t.is_comment,callback:function(e){t.is_comment=e},expression:"is_comment"}},[t._v("同时评论")])],1):i("woo-box-item",{attrs:{align:"center"}},[i("woo-checkbox",{class:t.$style.check,model:{value:t.is_repost,callback:function(e){t.is_repost=e},expression:"is_repost"}},[t._v("同时转发")])],1),t.formCount.count>0?i("woo-panel",{class:t.$style.count,attrs:{border:"right"}},[t.formCount.count>t.formCount.maxcount?i("span",{class:t.$style.error},[t._v(t._s(t.formCount.maxcount-t.formCount.count))]):t._e(),t.formCount.count<=t.formCount.maxcount?i("span",[t._v(" "+t._s(t.formCount.count)+" ")]):t._e()]):t._e(),"repost"===t.data.action?i("visible",{ref:"visible",attrs:{initVisible:t.visable},on:{beforeSelect:function(e){return t.changeIndex()},change:function(e){return t.iconShowChange(arguments)}}}):t._e(),i("woo-button",{staticClass:"disabled",class:t.$style.btn,attrs:{sort:"flat",kind:"primary",disabled:t.sendDisabled},on:{click:t.publish}},[t._v(t._s(t.buttonText))])],1)],1),i("div",{staticClass:"wbpro-pos"},[i("PublisherEmoticon",{ref:"emoticon",on:{change:t.emoticonChange}})],1)])},Mp=[],Fp=function(){var t,e,i=this,a=i.$createElement,o=i._self._c||a;return o("div",{staticClass:"wbpro-form",class:(t={focus:i.form_focus,error:i.form_error},t[i.$style.wbproform]=!0,t),on:{click:function(t){t.stopPropagation()}}},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:i.text,expression:"text"}],ref:"form",class:(e={},e[i.$style.input]=!0,e[i.$style.wrap]=i.text&&i.wrap,e),style:"width:"+i.sizeConfig.width+";height:"+i.sizeConfig.height+";",attrs:{placeholder:i.placeholder},domProps:{value:i.text},on:{focus:i.focus,keyup:function(t){return t.preventDefault(),i.keyup(t)},keypress:function(t){t.stopPropagation()},mouseup:i.keyup,keydown:[function(t){return!t.type.indexOf("key")&&i._k(t.keyCode,"enter",13,t.key,"Enter")?null:i.keydown_enter(t)},function(t){return!t.type.indexOf("key")&&i._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:i.keydown_down(t)},function(t){return!t.type.indexOf("key")&&i._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:i.keydown_up(t)}],compositionstart:i.ready_start,compositionend:i.ready_end,input:function(t){t.target.composing||(i.text=t.target.value)}}}),o("PublisherSuggest",{ref:"suggest",class:i.$style.suggest,attrs:{text:i.text,suggest:i.suggest},on:{select:i.suggestSelect}})],1)},Rp=[],Vp=function(){var t=this,e=t.$createElement,i=t._self._c||e;return""===t.title||t.nb?t._e():i("woo-box",{class:t.$style.container,style:"left:"+t.gg.left+"px;top:"+t.gg.top+"px;",attrs:{direction:"y"},nativeOn:{mousedown:function(t){t.stopPropagation()}}},[t.group?t._e():i("woo-box-item",{class:t.$style.title},[t._v(t._s(t.title))]),i("woo-box-item",{ref:"scroll",class:t.$style.list},["@"===t.act_type?i("div",t._l(t.list,(function(e,a){return i("woo-box-item",{key:a,ref:"scrollItem",refInFor:!0,class:[a==t.selectIndex?t.$style.active:"",t.$style.item],nativeOn:{mousedown:function(e){return e.stopPropagation(),t.click(a)},mousemove:function(e){t.selectIndex=a}}},[t._v(t._s(e.screen_name+e.remark))])})),1):i("div",t._l(t.list,(function(e,a){return i("woo-box-item",{key:a,ref:"scrollItem",refInFor:!0,class:[a==t.selectIndex?t.$style.active:"",t.$style.item],nativeOn:{mousedown:function(i){return i.stopPropagation(),t.click(a,e)},mousemove:function(e){t.selectIndex=a}}},[t._v(t._s(e))])})),1)])],1)},Np=[],Hp={data:function(){return{selectIndex:0,list:[],title:"",nb:!1,gg:{left:0,top:0},act_type:""}},props:{suggest:{type:Object,default:function(){}},group:{type:Boolean,default:!1},text:{type:String,default:""}},methods:{keyup:function(){this.$refs.scroll&&this.$refs.scroll.$el&&(this.selectIndex--,this.selectIndex<0&&(this.selectIndex=Math.max(this.list.length-1,0)),this.selectIndex===this.list.length-1?this.$refs.scroll.$el.scrollTop=this.$refs.scroll.$el.scrollHeight:this.$refs.scroll.$el.scrollTop-=this.$refs.scrollItem[0].$el.clientHeight)},keydown:function(){this.$refs.scroll&&this.$refs.scroll.$el&&(this.selectIndex++,this.selectIndex>=this.list.length&&(this.selectIndex=0),0===this.selectIndex?this.$refs.scroll.$el.scrollTop=0:this.$refs.scroll.$el.scrollTop+=this.$refs.scrollItem[0].$el.clientHeight)},keyenter:function(){var t=this.list[this.selectIndex];t&&(this.$emit("select",t,this.suggest),this.list=[],this.title="")},click:function(t,e){this.selectIndex=t,this.keyenter(),e&&this.$emit("change",e.page_objectid)}},watch:{text:function(t){var e=t.toString().match(/.*(\s)$/);e&&" "===e[1]?this.nb=!0:this.nb=!1},suggest:function(t){var e=this,i=this;if(null==t.word)return i.title="",void(i.selectIndex=NaN);""===t.word&&i.$set(i,"list",[]);var a={"@":"attention","#":"topic",$:"stock"},o=i.suggest.type;this.act_type=o,a[o]&&i.$http.get("/ajax/mblog/".concat(a[o],"?q=").concat(t.word),{withCredentials:!0,baseURL:"/"}).then((function(a){var n=a.data,s=n.data;if(s.length>0&&(i.selectIndex=0),!e.nb){var r=s.map((function(t){if("@"==o){var e=t.remark?"(".concat(t.remark,")"):t.remark;return{screen_name:t.screen_name,remark:e}}return"#"==o?t.topic:"$"==o?t.stock:void 0}));if(i.$set(i,"list",r),e.list.length){var l=e.list.length>6?238:34*(e.list.length+1),c=187;if(t.form){if(t.form.getBoundingClientRect()){var u=t.form.getBoundingClientRect();l+u.top+t.top>document.body.clientHeight?e.gg.top=t.top-l-40:e.gg.top=t.top,c+t.left+u.left>document.body.clientWidth?e.gg.left=t.left-c+20:e.gg.left=t.left}}else e.gg={top:t.top,left:t.left}}else e.gg={top:t.top,left:t.left};"@"==o&&(i.title=0==t.word.length?"选择最近@的人或直接输入":"选择昵称或轻敲空格完成输入",0==s.length&&(i.title="轻敲空格完成输入")),"#"==o&&(i.title="想用什么话题"),"$"==o&&(i.title="输入股票名/股票代码")}}))}}},zp=Hp,Up=i("7676");function Gp(t){this["$style"]=Up["default"].locals||Up["default"]}var qp=Object(P["a"])(zp,Vp,Np,!1,Gp,null,null),Wp=qp.exports,Qp={8:"backspace",9:"tab",12:"clear",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",91:"meta",93:"meta",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",108:"return",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Jp={0:")",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",a:"A",b:"B",c:"C",d:"D",e:"E",f:"F",g:"G",h:"H",i:"I",j:"J",k:"K",l:"L",m:"M",n:"N",o:"O",p:"P",q:"Q",r:"R",s:"S",t:"T",u:"U",v:"V",w:"W",x:"X",y:"Y",z:"Z","`":"~","-":"_","=":"+",";":":",",":"<",".":">","/":"?","\\":"|","'":'"',"[":"{","]":"}"},Kp=["8","9","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","45","46","91","93","96","97","98","99","100","101","102","103","104","105","106","107","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","144","145","191"],Yp={};Kp.forEach((function(t){return Yp[t]=Qp[t]}));var Xp=function(t){var e=Yp[t.which],i=Qp[t.which],a={},o="";return a[i]=!0,t.altKey&&"alt"!==e&&(o+="alt+",a["alt"]=!0),t.ctrlKey&&"ctrl"!==e&&(o+="ctrl+",a["ctrl"]=!0),t.metaKey&&!t.ctrlKey&&"meta"!==e&&(o+="meta+",a["meta"]=!0),t.shiftKey&&"shift"!==e&&(o+="shift+",a["shift"]=!0),t.which>=65&&t.which<=90&&(a["a-z"]=!0),(t.which>=48&&t.which<=57||t.which>=96&&t.which<=105)&&(a["0-9"]=!0),(t.which>=106&&t.which<=111&&108!==t.which||t.which>=186&&t.which<=222||t.which>=48&&t.which<=57&&!0===a.shift)&&(a["symbol"]=!0),e?a[o+e]=!0:(a[o+i]=!0,a[o+Jp[i]]=!0,"shift+"===o&&(a[Jp[i]]=!0)),a},Zp=Xp,tf=document.selection,ef=function(t){if(!tf)try{return t.selectionStart}catch(o){return 0}var e=0,i=tf.createRange(),a=document.body.createTextRange();try{a.moveToElementText(t)}catch(n){}for(e;a.compareEndPoints("StartToStart",i)<0;e++)a.moveStart("character",1);return e},af=function(t){return t.value.slice(0,ef(t))},of=function(t,e,i){if(t.focus(),tf){var a=t.createTextRange();a.collapse(1),a.moveStart("character",e),a.moveEnd("character",i-e),a.select()}else t.setSelectionRange(e,i)},nf=function(t,e,i,a){if(t.focus(),a=a||0,!tf){var o=t.value,n=i-a,s=n+e.length;return t.value=o.slice(0,n)+e+o.slice(i,o.length),void of(t,s,s)}var r=tf.createRange();r.moveStart("character",-a),r.text=e},sf=function(t,e){t.focus();var i=t.value,a=lf(t),o=a.length;if(0==a.length)nf(t,e,rf(t));else{var n=rf(t);if(tf){var s=tf.createRange();s.text=e,cf(t,n+e.length)}else t.value=i.slice(0,n)+e+i.slice(n+o,i.length),cf(t,n+e.length)}},rf=function(t){var e=0;if(tf){t.focus();var i=tf.createRange(),a=i.duplicate();a.moveToElementText(t),a.setEndPoint("EndToEnd",i),t.selectionStartIE=a.text.length-i.text.length,t.selectionEndIE=t.selectionStartIE+i.text.length,e=t.selectionStartIE}else(t.selectionStart||"0"==t.selectionStart)&&(e=t.selectionStart);return e},lf=function(t){var e="",i=function(t){return void 0!=t.selectionStart&&void 0!=t.selectionEnd?t.value.substring(t.selectionStart,t.selectionEnd):""};return e=window.getSelection?i(t):tf.createRange().text,e},cf=function(t,e,i){if(e=null==e?t.value.length:e,i=null==i?0:i,t.focus(),t.createTextRange){var a=t.createTextRange();a.move("character",e),a.moveEnd("character",i),a.select()}else t.setSelectionRange&&t.setSelectionRange(e,e+i)},uf=function(t,e,i){i=null==i?{}:i,i.rcs=null==i.rcs?t.value.length:1*i.rcs,i.rccl=null==i.rccl?0:1*i.rccl;var a=t.value,o=a.slice(0,i.rcs),n=a.slice(i.rcs+i.rccl,""==a?0:a.length);t.value=o+e+n,this.setCursor(t,i.rcs+(null==e?0:e.length))},df={selectionStart:ef,selectionBefore:af,selectText:of,insertText:nf,replaceText:sf,getCursorPos:rf,getSelectedText:lf,setCursor:cf,unCoverInsertText:uf},hf=null!=window.mozInnerScreenX,pf=document.createElement("div"),ff=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e[0]instanceof Array?e[0].map((function(t){return t+e[1]})):e[1]instanceof Array?e[1].map((function(t){return e[0]+t})):void 0},mf=["direction","boxSizing","width","height","borderStyle","lineHeight","letterSpacing","wordSpacing","tabSize","MozTabSize"].concat(Object(V["a"])(ff("offset",["X","Y"])),Object(V["a"])(ff(ff("border",["Top","Right","Bottom","Left"]),"Width")),Object(V["a"])(ff("padding",["Top","Right","Bottom","Left"])),Object(V["a"])(ff("font",["Style","Variant","Weight","Stretch","Size","SizeAdjust","Family"])),Object(V["a"])(ff("text",["Align","Transform","Indent","Decoration"])),Object(V["a"])(ff("font",["Style","Variant","Weight","Stretch","Size","SizeAdjust"]))),vf=function(t,e){document.body.appendChild(pf);var i=pf.style,a=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,o="INPUT"===t.nodeName;o||(i.wordWrap="break-word"),i.whiteSpace="pre-wrap",i.position="absolute",i.visibility="hidden",i.overflow="hidden",mf.forEach((function(t){o&&"lineHeight"===t?i.lineHeight=a.height:i[t]=a[t]})),hf&&t.scrollHeight>parseInt(a.height)&&(i.overflowY="scroll"),pf.textContent=t.value.substring(0,e),o&&(pf.textContent=pf.textContent.replace(/\s/g," "));var n=document.createElement("span");n.textContent=t.value.substring(e)||"|",pf.appendChild(n);var s={top:n.offsetTop-t.scrollTop+parseInt(a["borderTopWidth"]),left:n.offsetLeft+parseInt(a["borderLeftWidth"]),height:parseInt(a["lineHeight"])};return document.body.removeChild(pf),s},_f=function(t){if(!t)return 0;var e=t.match(/[^\x00-\xff]/g);return t.length+(e?e.length:0)},gf={props:{content:{type:String,default:""},placeholder:{type:String,default:"有什么新鲜事想分享给大家？"},composer:{type:Boolean,default:!1},maxCount:{type:Number,default:5e3},status:{type:String,default:""},sizeConfig:{type:Object,default:function(){return{height:"48px",width:"100%",maxHeight:200}}},storge:{type:Boolean,default:!1},suggestSwitch:{type:Boolean,default:!0},showPic:{type:Boolean,default:!1}},components:{PublisherSuggest:Wp},data:function(){return{text:"",form_focus:!1,form_error:!1,suggest:{},quick:!1,wrap:!1,isready:!0}},methods:{ready_start:function(t){this.isready=!1},ready_end:function(t){this.isready=!0},clickBlur:function(){this.blur()},onhead:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.form_focus=!0,this.$refs.form.select(),this.$nextTick((function(){t.$refs.form&&e?df.setCursor(t.$refs.form,0):!e&&t.$refs.form&&(df.setCursor(t.$refs.form),t.$refs.form.scrollTop=t.$refs.form.scrollHeight)}))},click:function(){this.keyup({target:this.$refs.form})},blur:function(){var t=this;this.form_focus=!1,this.$refs.form.blur(),setTimeout((function(){t.suggest={}}),15)},focus:function(){this.$emit("hide"),this.form_focus=!0},keyup:function(t){var e=t.target,i=df.selectionStart(e),a=e.value.substr(0,i),o=e.value.substr(i,1),n=a.match(/([@|#|$])([a-z0-9\u4e00-\u9fa5_-]{0,20})$/i);if(null!=n&&this.suggestSwitch){var s=vf(e,a.slice(0,-"".concat(n[1]).concat(n[2]).length).length);if(n[2]==this.suggest.word&&n.index==this.suggest.type_start)return;this.suggest={type:n[1],type_start:n.index,word:n[2],back_word:o,left:s.left,top:s.top+s.height,quick:a.match(/.*(\s)$/)&&""===a.match(/.*(\s)$/)[1],form:this.$refs.form}}else this.suggest={}},keydown_down:function(t){Object.keys(this.suggest).length&&(t.preventDefault(),this.$refs.suggest.keydown(t))},keydown_up:function(t){Object.keys(this.suggest).length&&(t.preventDefault(),this.$refs.suggest.keyup(t))},keydown_enter:function(t){if(null!=this.suggest.type&&this.isready)return this.$refs.suggest.keyenter(t),t.preventDefault();var e=Zp(t);return e["ctrl+return"]||e["meta+return"]?(this.$emit("fromKeydownEnter"),t.preventDefault()):void 0},suggestSelect:function(t){var e=this,i=e.suggest.type_start,a=e.suggest.type_start+e.suggest.word.length+1,o="";if(null!=t)switch(e.suggest.type){case"@":o="@".concat(t.screen_name," ");break;case"#":"#"==e.suggest.back_word&&(a+=1),o="".concat(e.suggest.type).concat(t).concat(e.suggest.type," ");break;case"$":"$"==e.suggest.back_word&&(a+=1),o="".concat(e.suggest.type).concat(t).concat(e.suggest.type," ");break}df.selectText(e.$refs.form,i,a),df.replaceText(e.$refs.form,o),e.text=e.$refs.form.value},inserText:function(t){var e=this;df.replaceText(e.$refs.form,t),e.text=e.$refs.form.value}},watch:{form_focus:function(t){this.$emit("focuschange",t)},content:function(t){this.text=t,this.storge&&localStorage.setItem(this.storge,t)},text:function(t){var e=this;this.$refs.form.style.height=this.sizeConfig.height,this.$nextTick((function(){e.$refs.form.style.height="".concat(Math.min(e.$refs.form.scrollHeight,e.sizeConfig.maxHeight||200),"px")})),this.$emit("change",t);var i=t.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"00000000000000000000"),a=Math.ceil(_f(""===i.trim()?"":i)/2);if("mini"===this.status){var o=16*a;o>this.$refs.form.clientWidth-64?this.wrap=!0:this.wrap=!1}this.form_error=a>this.maxCount,this.$emit("textcount",{count:a,maxcount:this.maxCount})}},mounted:function(){var t=this;if(this.text=this.content,!this.text&&this.storge){var e=localStorage.getItem(this.storge)||"";this.text=e}window.addEventListener("mousedown",this.clickBlur),this.$refs.form.addEventListener("paste",(function(e){var i=e.clipboardData&&e.clipboardData.items,a=null;if(i&&i.length)for(var o=0;o<i.length;o++){if("text/rtf"===i[o].type)break;if(-1!==i[o].type.indexOf("image")){if(e.preventDefault(),!t.showPic)return;a=i[o].getAsFile(),t.$emit("imageUpload",a)}}}))},beforeDestroy:function(){window.removeEventListener("mousedown",this.clickBlur)}},bf=gf,yf=i("cfb4");function wf(t){this["$style"]=yf["default"].locals||yf["default"]}var xf=Object(P["a"])(bf,Fp,Rp,!1,wf,null,null),kf=xf.exports,$f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{directives:[{name:"show",rawName:"v-show",value:t.upload_list.length>0,expression:"upload_list.length > 0"}],attrs:{old:"","gap-row":4,"gap-col":4,items:6},nativeOn:{dragover:function(t){t.stopPropagation(),t.preventDefault()},drop:function(t){t.stopPropagation(),t.preventDefault()}}},[t._l(t.upload_list,(function(e,a){return i("woo-box-item",{key:a,attrs:{draggable:"true"},nativeOn:{dragstart:function(e){return t.onDragStart(arguments[0],a)},dragover:function(e){return e.preventDefault(),t.onDragEnter(arguments[0],a)},dragend:function(e){return e.preventDefault(),t.onDragEnd(e)}}},[i("div",{class:t.$style.picbed},[!e.crop&&e.url?i("woo-picture",{class:t.$style.pic,attrs:{src:e.url}}):t._e(),e.crop&&e.url&&t.upload_list.length?i("div",{class:t.$style.focuspic,style:t.getCropViewStyle(e)}):t._e(),e.status<3?i("woo-box",{class:t.$style.loading,attrs:{align:"center",justify:"center"}},[i("woo-spinner",{attrs:{size:"32px",color:"#fff"}})],1):t._e(),i("woo-fonticon",{class:t.$style.close,attrs:{title:"删除",value:"close",kind:"dark",abovePic:""},nativeOn:{click:function(e){return t.delItem(a)}}}),e.status>2&&t.canFoucs?i("woo-box",{class:t.$style.focus,attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return t.editItem(a)}}},[i("woo-fonticon",{class:t.$style.icon,attrs:{value:"focus"}}),t._v(" 焦点 ")],1):t._e()],1)])})),i("woo-box-item",{directives:[{name:"show",rawName:"v-show",value:t.upload_list.length<18&&0!=t.upload_list.length&&!(t.onlyOne&&1===t.upload_list.length),expression:"\n      upload_list.length < 18 &&\n      upload_list.length != 0 &&\n      !(onlyOne && upload_list.length === 1)\n    "}]},[i("div",{class:t.$style.picbed,attrs:{title:"添加"}},[i("FileUpload",{ref:"file_upload",on:{change:t.change}})],1)]),i("ImageEdit",{ref:"imgEdit",on:{change:t.onItemChange}})],2)},Cf=[];function Of(t){t=String(t);var e,i="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D";"undefined"==typeof e&&(e=0);var a=0,o=0;e^=-1;for(var n=0,s=t.length;n<s;n++)o=255&(e^t.charCodeAt(n)),a="0x"+i.substr(9*o,8),e=e>>>8^a;return-1^e}var jf=function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bmiddle",a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("undefined"==typeof i&&(i="bmiddle"),"undefined"==typeof a&&(a=!1),"w"==t[9]||"y"==t[9]&&t.length>=32){var o=1+(3&Of(t)),n="g"==t[21]?"gif":"jpg";e=a?"w"==t[9]?"https://ww"+o+".sinaimg.cn/"+i+"/"+t+"."+n:"https://wx"+o+".sinaimg.cn/"+i+"/"+t+"."+n:"w"==t[9]?"http://ww"+o+".sinaimg.cn/"+i+"/"+t+"."+n:"http://wx"+o+".sinaimg.cn/"+i+"/"+t+"."+n}else{var s=1+(15&parseInt(t.substr(-2,2),16));e=a?"https://ss"+s+".sinaimg.cn/"+i+"/"+t+"&690":"http://ss"+s+".sinaimg.cn/"+i+"/"+t+"&690"}return e},Tf=i("69a0"),Df=i.n(Tf),Sf=i("5a0c"),If=i.n(Sf),Lf=function(t){for(var e="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",i=e.split(" ").map((function(t){return parseInt(t,16)})),a=-1,o=0,n=t.length;o<n;o++)a=a>>>8^i[255&(a^t.charCodeAt(o))];return(-1^a)>>>0},Bf=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,Pf=function(t,e,i){return new Promise((function(a){var o=new FileReader;o.onload=function(t){return a(t.target.result)},o.readAsArrayBuffer(Bf.call(t,e,i))}))},Af=function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){var i,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.size,a=new Df.a.ArrayBuffer,t.next=4,Pf(e,0,i);case 4:return o=t.sent,a.append(o),t.abrupt("return",a.end());case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Ef=function(){var t=window.$CONFIG&&window.$CONFIG.user&&window.$CONFIG.user.watermark||{};return St.a.stringify(t)},Mf=function(t){return new Promise((function(e){var i=new FileReader;i.onload=function(t){return e(t.target.result)},i.onerror=function(){return e("")},i.readAsArrayBuffer(t)}))},Ff=function(t){return new Promise((function(e){var i=new FileReader;i.onload=function(t){return e(t.target.result)},i.onerror=function(){return e("")},i.readAsBinaryString(t)}))},Rf=function(t){var e="系统异常";!1===navigator.onLine&&(e="网络未连接"),"ECONNABORTED"==t.code&&(e="上传超时"),this.code=-100,this.message="上传图片失败:".concat(e),Hf({pathname:"/interface/upload",pic_content:this.message,pic_err:JSON.stringify(t)})},Vf=function(t){var e={1:"用户未登录",2:"上传数据无效",3:"回调地址无效",4:"未找到上传文件",5:"无权上传",6:"上传uid无效",7:"未指定返回信息类型",8:"上传数据出错",9:"上传MIME类型不支持",10:"上传文件大小无效",11:"存储出错",12:"上传EXIF信息过长",13:"上传回调出错",14:"回调返回出错",15:"错误的请求","-1":"没有登录","-2":"没有收到POST数据","-3":"没有指定cb参数","-4":"没有发现提交上传文件","-5":"该app没有开放图片上传服务","-6":"uid非法","-7":"参数s值不支持","-8":"数据上传失败","-9":"文件mime类型不支持","-10":"文件字节数超过限制","-11":"存储错误","-12":"图片exif信息超长(2k)"},i=Math.abs(t);this.code=t,this.message="上传图片失败:".concat(e[i]||"未知错误","(").concat(t,")")},Nf=function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){var i,a,o,n,s,r,l,c,d,p,f,m,v,_,g,b,y,w,x,k,$=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=$.length>1&&void 0!==$[1]?$[1]:{},a=$.length>2&&void 0!==$[2]?$[2]:0,o=$.length>3&&void 0!==$[3]?$[3]:1,n="picupload.weibo.com",s="","image/gif"==e.type){t.next=11;break}return t.next=8,Mf(e);case 8:s=t.sent,t.next=14;break;case 11:return t.next=13,Mf(e);case 13:s=t.sent;case 14:if(t.prev=14,l=+new Date,c=0===i.watermark?"":Ef(),a){t.next=26;break}return d="//".concat(n,"/interface/pic_upload.php?app=miniblog&s=json&p=1&data=1&").concat(c),p=h.a.create(),delete p.defaults.headers.common["X-Requested-With"],t.next=23,p.request({url:d,method:"post",data:s,withCredentials:!0,timeout:12e4,xsrfCookieName:null,headers:{"Content-Type":"multipart/form-data"}});case 23:r=t.sent,t.next=46;break;case 26:return t.t0=Lf,t.next=29,Ff(e);case 29:return t.t1=t.sent,v=(0,t.t0)(t.t1),t.next=33,Af(e).catch((function(t){throw new Error("计算image MD5失败(".concat(t.message,")"))}));case 33:_=t.sent,g={file_source:o,cs:v,ent:"miniblog",appid:339644097,uid:window.$CONFIG&&window.$CONFIG.uid||window.$CONFIG&&window.$CONFIG.user&&(null===(f=window.$CONFIG)||void 0===f||null===(m=f.user)||void 0===m?void 0:m.id),raw_md5:_,ori:1,mpos:0!==i.watermark&&window.$CONFIG&&window.$CONFIG.user&&window.$CONFIG.user.watermark&&window.$CONFIG.user.watermark.markpos,nick:0!==i.watermark&&window.$CONFIG&&window.$CONFIG.user&&window.$CONFIG.user.watermark&&window.$CONFIG.user.watermark.nick,request_id:l,file_size:e.size},b=St.a.stringify(g),y="//".concat(n,"/interface/upload.php?").concat(b),p=h.a.create(),delete p.defaults.headers.common["X-Requested-With"];try{performance.mark("imageUpload",{detail:{request_id:l,fileSize:e.size}})}catch(C){}return w=If()().unix(),x=h.a.CancelToken,k=x.source(),t.next=45,p.request({url:y,method:"post",data:s,withCredentials:!0,timeout:12e4,xsrfCookieName:null,cancelToken:k.token,onUploadProgress:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){var i,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=e.loaded,a=If()().unix()-w,a>3&&"image.api.weibo.com"!==n&&(o=i/1024/a,o<25&&k.cancel("hostUpdate"));case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()});case 45:r=t.sent;case 46:t.next=56;break;case 48:if(t.prev=48,t.t2=t["catch"](14),"hostUpdate"!==t.t2.message){t.next=55;break}return n="image.api.weibo.com",t.abrupt("return",Nf(e,i,a,o));case 55:throw new Rf(t.t2);case 56:if(!r.data.ret){t.next=60;break}return t.abrupt("return",r.data.pic.pid);case 60:if(!1!==r.data.ret){t.next=64;break}throw new Vf(r.data.errno);case 64:if(r.data.code&&"A00006"==r.data.code){t.next=66;break}throw new Vf(r.data.data&&r.data.data.count);case 66:return t.abrupt("return",r.data.data.pics.pic_1.pid);case 67:case"end":return t.stop()}}),t,null,[[14,48]])})));return function(e){return t.apply(this,arguments)}}();function Hf(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="https://weibo.com/ajax/log/rum",i=new FormData;function a(t,e){try{if(!t||t&&!t.startsWith("http"))return"";for(var i=new URL(t).search.substring(1),a=i.split("&"),o=0;o<a.length;o++){var n=a[o].split("=");if(n[0]==e)return n[1]}}catch(s){}return""}function o(t){for(var e=document.cookie,i=e.split(";"),a=0;a<i.length;a++){var o=i[a].split("=");if(t===o[0].trim())return o[1]}return""}i.append("entry",JSON.stringify(t)),i.append("request_id",a(t.name,"request_id")),fetch(e,{keepalive:!0,method:"POST",headers:{"X-Xsrf-Token":o("XSRF-TOKEN")},body:i})}var zf=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.visable?i("woo-modal",{attrs:{animation:"slide-bottom","lock-screen":t.visable},nativeOn:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"wbpro-layer",nativeOn:{click:function(t){t.stopPropagation()}}},[i("woo-panel",{attrs:{border:"bottom"}},[i("woo-box",{staticClass:"wbpro-layer-tit"},[i("woo-box-item",{staticClass:"wbpro-layer-tit-text",attrs:{align:"center"}},[t._v("选取图片焦点")])],1)],1),i("div",{class:t.$style.editbox},[i("Cropper",{ref:"cropper",attrs:{options:t.cropConf,height:560}}),i("div",{class:t.$style.tip},[i("span",[t._v("*")]),t._v("微博发布后,缩略图会参考此焦点进行展示,而不是直接使用它作为裁切 ")])],1),i("woo-box",{staticClass:"wbpro-layer-btn",attrs:{justify:"center"}},[i("woo-button",{staticClass:"wbpro-layer-btn-item",attrs:{sort:"flat",kind:"default"},nativeOn:{click:function(e){return e.stopPropagation(),t.cancel(e)}}},[t._v(" 取消 ")]),i("woo-button",{staticClass:"wbpro-layer-btn-item",attrs:{sort:"flat",kind:"primary"},nativeOn:{click:function(e){return t.update(e)}}},[t._v("完成")])],1),i("FileUpload",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"file_upload",on:{change:t.change}})],1)]):t._e()},Uf=[],Gf=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{overflow:"hidden"},style:{height:t.height+"px"}},[i("img",{ref:"image",staticStyle:{height:"1px",width:"1px"},on:{ready:t.onReady}})])},qf=[],Wf=(i("6107"),i("bab4")),Qf=i.n(Wf),Jf=function(t){return new Promise((function(e){t.toBlob((function(t){return e(t)}))}))},Kf={props:{options:{type:Object,default:function(){return{}}},height:{type:Number,default:300},aspectRatio:{type:Number,default:4/3}},data:function(){return{src:"",pid:null,instance:{},ready:!1,queue:[]}},methods:{setSrc:function(t){this.src=t,this.pid=null},onReady:function(){var t,e=this;e.ready=!0;while(t=e.queue.shift())t()},getWeiboURL:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=e,i.abrupt("return",new Promise((function(e,i){var o=function(){var i=Object(u["a"])(regeneratorRuntime.mark((function i(){var o,n,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return o=a.instance.getCroppedCanvas({width:1e3,imageSmoothingEnabled:!1,imageSmoothingQuality:"high"}),i.next=3,Jf(o);case 3:return n=i.sent,i.next=6,Nf(n);case 6:s=i.sent,a.pid=s,e(t?{url:jf(s),pid:s}:jf(s));case 9:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}}();a.instance.ready?o():a.queue.push(o)})));case 2:case"end":return i.stop()}}),i)})))()},getNaturalData:function(){var t=this.instance.getImageData(),e=t.naturalWidth,i=t.naturalHeight;return{width:e,height:i}},getData:function(){return this.instance.getData(!0)}},watch:{src:function(t){this.instance.replace(t),this.ready=!1}},mounted:function(){var t=this;t.instance=new Qf.a(t.$refs.image,Object.assign({viewMode:1,dragMode:"move",autoCropArea:1,aspectRatio:this.aspectRatio},t.options))}},Yf=Kf,Xf=(i("dd68"),Object(P["a"])(Yf,Gf,qf,!1,null,null,null)),Zf=Xf.exports,tm={components:{Cropper:Zf,FileUpload:function(){return Promise.resolve().then(i.bind(null,"7126"))}},data:function(){return{visable:!1,imgData:null,itemId:null,cropConf:{viewMode:3,autoCropArea:.6,aspectRatio:1,minCropBoxWidth:80,minCropBoxHeight:80,zoomOnWheel:!1}}},methods:{showFiles:function(){this.$refs.file_upload.showFiles()},show:function(t,e){var i=this;i.imgData=e,i.itemId=t,i.visable=!0,i.$nextTick((function(){i.$refs.cropper.setSrc(jf(e.pid,"bmiddle"))}))},cancel:function(){var t=this;t.imgData.crop=null,t.$emit("change",t.itemId,t.imgData),t.visable=!1},update:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var i,a,o,n,s,r,l,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=t;try{a=t.$refs.cropper.getNaturalData(),o=t.$refs.cropper.getData(!0),n=Math.max(o.y,0),s=Math.max(o.x,0),r=Math.max(a.width,0),l=Math.max(a.height,0),c=Math.max(o.width,0),u=Math.max(o.height,0),i.imgData.crop={top:n,left:s,width:r,height:l,cropWidth:c,cropHeight:u,per:{top:n/l,left:s/r,width:c/r,height:u/l}},i.$emit("change",i.itemId,i.imgData)}catch(d){}finally{i.visable=!1}case 2:case"end":return e.stop()}}),e)})))()},change:function(t){var e=this;if(t&&t.target&&t.target.files&&t.target.files[0]){if(void 0!==t.target.files[0]){var i=t.target.files[0];e.$refs.cropper.setSrc(URL.createObjectURL(i)),e.imgData={url:"",file:t.target.files[0],status:1}}t.target.value=""}}}},em=tm,im=i("c13f");function am(t){this["$style"]=im["default"].locals||im["default"]}var om=Object(P["a"])(em,zf,Uf,!1,am,null,null),nm=om.exports,sm=i("7126"),rm={props:{data:{type:String,default:""},onlyOne:{type:Boolean,default:!1},statusChange:{type:Boolean,default:!1},canFoucs:{type:Boolean,default:!1},file:{type:File},source:{type:Number,default:1}},data:function(){return{upload_list:[],uploading:!1,dragList:[],dragId:null}},components:{FileUpload:sm["default"],ImageEdit:nm},watch:{file:function(t){this.upload_list.length<18&&(!this.onlyOne||1!==this.upload_list.length)&&(this.upload_list.push({url:"",file:t,status:1}),this.$emit("change","add",this.upload_list)),this.$emit("change","start",this.upload_list),this.uploadFiles()},data:function(){this.data?(this.upload_list=this.pid2imgs(),this.$emit("change","end",this.upload_list)):(this.uploading=!1,this.upload_list.splice(0,this.upload_list.length),this.$emit("change","remove",this.upload_list))},statusChange:function(t){this.uploading=!1,this.upload_list.splice(0,this.upload_list.length),this.$emit("change","remove",this.upload_list)}},methods:{onBodyDragOver:function(t){t.preventDefault()},onDragStart:function(t,e){var i=this;i.uploading||(i.dragId=e,i.dragList=Array.from(i.upload_list),document.body.addEventListener("dragover",i.onBodyDragOver))},onDragEnter:function(t,e){var i=this;if(e!==i.dragId&&null!==i.dragId){var a=Array.from(i.dragList);Array.prototype.splice.apply(a,[e,0].concat(Object(V["a"])(a.splice(i.dragId,1)))),i.dragId=e,i.dragList=a,i.$set(i,"upload_list",a),t.preventDefault()}},onDragEnd:function(t){var e=this;document.body.removeEventListener("dragover",e.onBodyDragOver)},getCropViewStyle:function(t){var e=90/t.crop.cropWidth;return"background: url(".concat(t.url,") no-repeat -").concat(t.crop.left*e,"px -").concat(t.crop.top*e,"px / ").concat(t.crop.width*e,"px ").concat(t.crop.height*e,"px;")},onItemChange:function(t,e){var i=this;i.$set(i.upload_list,t,e),this.$emit("change","start",this.upload_list),i.uploadFiles()},editItem:function(t){var e=this;e.$refs.imgEdit.show(t,e.upload_list[t])},delItem:function(t){this.upload_list.splice(t,1),this.$emit("change","remove",this.upload_list)},uploadFiles:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var i,a,o,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=t,!i.uploading){e.next=3;break}return e.abrupt("return");case 3:if(i.uploading=!0,a=i.upload_list.filter((function(t){return 1==t.status})),!(a.length>0)){e.next=13;break}return o=a.splice(0,1),n=Object(c["a"])(o,1),s=n[0],s.status=2,t.$emit("change","upload-start",t.upload_list),e.next=11,Nf(s.file,{},1,t.source).then((function(e){s.status=3,s.url=jf(e,"bmiddle"),s.pid=e,delete s.file,t.$emit("change","upload-end",t.upload_list)}),(function(e){delete s.file,t.uploading=!1,t.upload_list.splice(0,t.upload_list.length),t.$emit("change","remove",t.upload_list),t.$_w_toast({type:"warn",message:e.message}),i.uploading=!1}));case 11:return i.uploading=!1,e.abrupt("return",i.uploadFiles());case 13:t.$emit("change","end",t.upload_list),i.uploading=!1;case 15:case"end":return e.stop()}}),e)})))()},change:function(t){var e=this,i=this;Array.from(t.target.files).map((function(t){i.upload_list.length<18&&(!e.onlyOne||1!==e.upload_list.length)&&(i.upload_list.push({url:"",file:t,status:1}),e.$emit("change","add",e.upload_list))})),this.$emit("change","start",this.upload_list),i.uploadFiles(),t.target.value=""},showFiles:function(){this.$refs.file_upload.showFiles()},pid2imgs:function(){return this.data&&this.data.split(",").map((function(t){return{pid:t,status:3,url:jf(t,"orj360")}}))}},mounted:function(){this.data&&(this.upload_list=this.pid2imgs())}},lm=rm,cm=i("c105");function um(t){this["$style"]=cm["default"].locals||cm["default"]}var dm=Object(P["a"])(lm,$f,Cf,!1,um,null,null),hm=dm.exports,pm=i("928a"),fm={name:"Composer",data:function(){return{id:"",cid:"",comment:this.data&&this.data.content?Object(Ap["a"])(this.data.content,!0):"",pic_id:"",is_repost:!1,comment_ori:!1,is_comment:!1,time:Date.now(),formCount:{count:0,maxcount:140},imgUploadDisable:!1,imgUploadDisableForce:!1,loadedImgUploadPermission:!1,statusChange:!1,pasteImage:null,ispost:!1,visible:0,share_id:"",intersectionObserver:null}},props:["data","actLogScene"],components:{PublisherForm:kf,PublisherEmoticon:dt["a"],PublisherImage:hm,visible:pm["a"]},methods:Object(a["a"])(Object(a["a"])({},Object(r["b"])(["setComposerCallBack","setMiniComposerIsNull"])),{},{checkAllowShowPic:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.loadedImgUploadPermission){e.next=4;break}return e.abrupt("return");case 4:if(void 0===t.data.imgUploadDisableForce){e.next=8;break}return t.imgUploadDisableForce=t.data.imgUploadDisableForce,t.loadedImgUploadPermission=!0,e.abrupt("return");case 8:return e.prev=8,e.next=11,t.$http.get("/ajax/statuses/checkAllowCommentWithPic",{params:{id:t.data.id}});case 11:i=e.sent,i.data.ok>0&&(t.imgUploadDisableForce=!i.data.result,t.$emit("composerChange",{key:"imgUploadDisableForce",value:t.imgUploadDisableForce})),e.next=17;break;case 15:e.prev=15,e.t0=e["catch"](8);case 17:t.loadedImgUploadPermission=!0;case 18:case"end":return e.stop()}}),e,null,[[8,15]])})))()},logs:function(t){this.toLog&&this.toLog(Object(a["a"])({luicode:this.$route.meta.uicode,page:"repost"==this.data.action?"forwardComposer":"composer"},t),!0)},iconShowChange:function(t){var e=Object(c["a"])(t,2),i=e[0],a=e[1];switch(i){case"share_id":this.share_id=a;break;case"visible":this.visible=a;break}},changeIndex:function(){this.$emit("changeIndex")},closePopHandle:function(){this.hideAllLayer()},pasteImg:function(t){this.pasteImage=t},formTextCount:function(t){var e=t.count,i=t.maxcount;this.formCount={count:e,maxcount:i},e>0&&this.data.composerTextCount?this.setMiniComposerIsNull(!1):this.setMiniComposerIsNull(!0)},click:function(t){var e={emoticon:"01",image:"02"};switch(this.logs({actType:"click",extValue:e[t]}),t){case"emoticon":this.data&&this.data.callback&&this.data.callback(),this.changeIndex(),this.$refs.emoticon.show();break;case"image":this.$refs.image.showFiles();break}},emoticonChange:function(t){"→_→"===t.text?this.$refs.form.inserText(t.text):"[最右]"===t.phrase?this.$refs.form.inserText("→_→"):this.$refs.form.inserText("[".concat(t.text,"]"))},imageChange:function(t,e){this.statusChange=!1,"end"==t?(this.pic_id=e.map((function(t){return t.pid})).join(","),this.$emit("composerChange",e.map((function(t){return t.pid})).join(","))):"remove"==t?(this.pic_id=e.map((function(t){return t.pid})).join(","),this.$emit("composerChange",e.map((function(t){return t.pid})).join(",")),this.imgUploadDisable=!1):"upload-start"==t&&(this.$emit("composerChange","upload-start".concat(e.map((function(t){return t.pid})).join(","))),this.imgUploadDisable=!0)},hideAllLayer:function(){this.$refs.emoticon&&this.$refs.emoticon.hide(),this.$refs.visible&&this.$refs.visible.close()},formChange:function(t){localStorage.setItem("composer",JSON.stringify({action:this.data.action,comment:t,idstr:this.data.idstr,id:this.data.id,cid:this.data.cid})),this.comment=t,this.$emit("change",t),this.$emit("composerChange",t)},publish:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var i,a,o,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.ispost=!0,i="repost"===t.data.action?"/statuses/normal_repost":"reply"===t.data.action?"/comments/reply":"/comments/create",e.prev=2,a={id:t.data.idstr||t.data.id,cid:t.data.cid,comment:t.comment,pic_id:t.pic_id,is_repost:t.is_repost?1:0,comment_ori:t.comment_ori?1:0,is_comment:t.is_comment?1:0,actLogScene:t.actLogScene},"repost"===t.data.action&&(a.visible=t.visible,a.share_id=t.share_id),["create","repost"].includes(t.data.action)&&t.data.mark&&(a.mark=t.data.mark,a.rid=t.data.rid,a.luicode=t.$route.meta.uicode),e.next=8,h.a.post("/ajax".concat(i),St.a.stringify(a));case 8:o=e.sent,o&&o.data&&o.data.ok>0&&!o.data.error&&(n=o.data.msg?o.data.msg:"/statuses/normal_repost"===i?"转发成功":"评论成功",t.$_w_toast({type:"success",message:n}),t.$emit("change","close"),t.forCommentList(o.data),t.data.composerTextCount&&t.setMiniComposerIsNull(!0),Object.assign(t.$data,t.$options.data()),t.time=Date.now(),t.$emit("change","success"),t.$emit("dataChange",!0),t.logs({actType:"/statuses/normal_repost"===i?"repost":"attitude"}),s=JSON.parse(localStorage.getItem("composer")),s&&s.idstr===t.data.idstr&&s.action===t.data.action&&s.id===t.data.id&&s.cid===t.data.cid&&localStorage.setItem("composer",JSON.stringify({}))),e.next=14;break;case 12:e.prev=12,e.t0=e["catch"](2);case 14:t.ispost=!1;case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))()},forCommentList:function(t){t.location=this.data.location,t.action=this.data.action,"repost"===this.data.action&&(t.data=t.data.statuses),this.pic_id&&(t.data.pic_ids=this.pic_id.split(",")),t.data.composer_ori_idstr=this.data.idstr,this.setComposerCallBack(t)},focusComposer:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.form&&this.$refs.form.onhead(void 0!==this.data.onhead?this.data.onhead:t)},init:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if((null===this||void 0===this?void 0:this.data)&&Object.keys(this.data).length){var e=this.data;this.action=e.action;var i=JSON.parse(localStorage.getItem("composer")),a=e.content?Object(Ap["a"])(e.content,!0):e.content;i&&i.idstr===this.data.idstr&&i.action===this.data.action&&i.id===this.data.id&&i.cid===this.data.cid?(this.comment=i.comment,t&&this.focusComposer("create"!==i.action)):(this.comment=a,t&&this.focusComposer()),this.pic_id="",this.statusChange=!0}}}),computed:Object(a["a"])(Object(a["a"])({},Object(r["c"])(["config","composerConfig"])),{},{maxCount:function(){var t,e,i,a,o;return"repost"===this.data.action&&(null===(t=window.$REFRESHCONIFG)||void 0===t||null===(e=t.data)||void 0===e||null===(i=e.ab_test)||void 0===i?void 0:i.pc_repost_long)?(null===this||void 0===this||null===(a=this.composerConfig)||void 0===a||null===(o=a.push_active)||void 0===o?void 0:o.repost_input_limits)||1e3:140},disableImgUpload:function(){return this.imgUploadDisableForce&&"repost"!==this.data.action?this.imgUploadDisableForce:this.imgUploadDisable},contentExist:function(){var t,e;return""===this.pic_id&&((null===this||void 0===this||null===(t=this.comment)||void 0===t?void 0:t.trim())?null===this||void 0===this||null===(e=this.comment)||void 0===e?void 0:e.trim():"")===(this.data.content?Object(Ap["a"])(this.data.content,!0):"")},buttonText:function(){return this.data.buttonText?this.data.buttonText:"repost"===this.data.action?"转发":this.data.cid?"回复":"评论"},sendDisabled:function(){return!!this.ispost||(0!=this.formCount.count||"repost"!==this.data.action)&&(0==this.formCount.count&&!this.pic_id||this.formCount.count>this.formCount.maxcount)}}),watch:{is_repost:function(t){this.logs({actType:"click",ext:"03"})},is_comment:function(t){this.logs({actType:"click",ext:"03"})},data:{handler:function(t,e){t.id===e.id&&t.action===e.action&&t.longTextContent===e.longTextContent&&t.longTextContent_raw===e.longTextContent_raw||this.init(!0)},deep:!0},$route:function(){this.$emit("change","success")},contentExist:function(t){this.$emit("dataChange",t)},"data.action":{handler:function(t){"repost"!==t&&this.checkAllowShowPic()},immediate:!0}},mounted:function(){var t=this;document.addEventListener("click",this.hideAllLayer),this.$Bus.$on("closePop",this.closePopHandle),this.$once("hook:beforeDestroy",(function(){t.$Bus.$off("closePop",t.closePopHandle)})),this.intersectionObserver=new IntersectionObserver((function(e){t.init(e[0].intersectionRatio>0)})),this.intersectionObserver.observe(this.$refs.composer)},beforeDestroy:function(){document.removeEventListener("click",this.hideAllLayer),this.IntersectionObserver&&this.IntersectionObserver.disconnect()}},mm=fm,vm=i("4ccb");function _m(t){this["$style"]=vm["default"].locals||vm["default"]}var gm=Object(P["a"])(mm,Ep,Mp,!1,_m,null,null),bm=gm.exports,ym=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-panel",{class:t.$style.box,attrs:{border:"top"}},[t.active?i("woo-box",{attrs:{justify:"between"}},[i("div",{class:t.$style.top_active},[t.data.screen_name?i("span",[t._v(" "+t._s(t.data&&"repost"===t.data.action?"转发":t.data&&"reply"===t.data.action?"回复":"评论")+" "+t._s(t.name?t.name:"@"+t.data.screen_name)+" "),"repost"===t.data.action?i("span",[t._v("的微博")]):t._e()]):i("span",[t._v(" "+t._s(t.data&&"repost"===t.data.action?"转发微博":"发评论")+" ")])]),i("div",[i("woo-fonticon",{attrs:{title:"取消",value:"close",kind:"dark"},nativeOn:{click:function(e){return e.preventDefault(),t.cancel(e)}}})],1)]):t._e(),i("div",{class:t.$style.box2},[i("PublisherImage",{ref:"image",attrs:{onlyOne:!0,data:t.pic_id,statusChange:t.statusChange,file:t.pasteImage,source:"repost"===t.data.action?2:3},on:{change:t.imageChange}})],1),i("woo-box",{class:[t.active&&t.$style.boxat,t.$style.boxb]},[i("woo-box-item",{nativeOn:{click:function(t){t.stopPropagation()}}},[i("woo-box",{attrs:{align:"end"}},[i("woo-box-item",[i("PublisherForm",{ref:"form",attrs:{content:t.comment,placeholder:t.data.placeholder,compser:!0,maxCount:t.maxCount,status:t.active&&"mini","size-config":{height:"24px"},storge:"miniComposer"},on:{change:t.formChange,textcount:t.formTextCount,focuschange:t.activeChange,fromKeydownEnter:function(e){!t.sendDisabled&&t.publish()},imageUpload:t.pasteImg}})],1),i("woo-box",{class:t.$style.iconbox0},[i("div",{staticClass:"wbpro-pos"},[i("PublisherEmoticon",{ref:"emoticon",attrs:{top:1},on:{change:t.emoticonChange}})],1)]),i("woo-box",{class:t.$style.iconbox1,attrs:{old:"",align:"center"}},[i("woo-box-item",{class:t.$style.iconitem,attrs:{align:"center"}},[t.formCount.count>t.formCount.maxcount?i("span",{class:t.$style.error},[t._v(t._s(t.formCount.maxcount-t.formCount.count))]):t._e()]),i("woo-box-item",{class:t.$style.iconitem,nativeOn:{click:function(e){return e.stopPropagation(),t.click("emoticon")}}},[i("woo-box",{staticClass:"wbpro-iconbed",attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"emoticon",title:"表情"}})],1)],1),i("woo-box-item",{class:t.$style.iconitem,nativeOn:{click:function(e){e.stopPropagation(),!t.disableImgUpload&&t.click("image")}}},[i("woo-box",{staticClass:"wbpro-iconbed",class:[{disabled:t.disableImgUpload},t.$style.file],attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"image",title:"图片"}})],1)],1)],1),i("woo-button",{class:t.$style.btn,attrs:{sort:"flat",kind:"primary",disabled:t.sendDisabled},nativeOn:{click:function(e){return e.stopPropagation(),t.publish(e)}}},[t._v(" "+t._s(t.data&&"repost"===t.data.action?"转发":t.data&&"reply"===t.data.action?"回复":"评论")+" ")])],1)],1),i("woo-box",{class:t.$style.optbox,attrs:{align:"center"},nativeOn:{click:function(t){t.stopPropagation()}}},[0===t.data.share_repost_type?i("woo-box",{attrs:{align:"center"}},[i("woo-pop",{attrs:{show:t.show,direction:"up",custom:"message"},on:{"click-outside":t.close},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("div",{class:t.$style.opt,on:{click:function(e){t.show=!t.show}}},[i("span",{class:t.$style.iconbox2},[i("woo-fonticon",{class:t.$style.icon,attrs:{value:"retweet"}})],1)])]},proxy:!0}],null,!1,2161917907)},[i("woo-pop-wrap",t._l(t.retweetPopList,(function(e,a){return i("woo-pop-item",{key:a,nativeOn:{click:function(t){return t.stopPropagation(),e.action(t)}}},[t._v(" "+t._s(e.name)+" ")])})),1)],1)],1):t._e(),i("woo-box",{class:t.$style.opt,attrs:{align:"center"},nativeOn:{click:function(e){return e.stopPropagation(),t.likeHandle(e)}}},[t.customLikeIcon?i("woo-like-diy",{class:t.$style.customlikebox,attrs:{title:t.customLikeIcon.text,likeUrl:t.customLikeIcon.likeUrl,likedUrl:t.customLikeIcon.likedUrl,like:t.valueLike,"with-count":!1}}):i("woo-like",{class:t.$style.likebox,attrs:{like:t.valueLike,"with-count":!1}})],1)],1)],1)],1)},wm=[],xm=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{class:t.$style.main,on:{click:t.toggle}},[i("span",{class:t.$style.iconWrap},[i("img",{class:t.$style.icon,attrs:{src:t.likeValue,alt:""}})]),!t.withCount||t.noZero&&!t.counter?t._e():i("span",{class:[t.$style.count,t.active&&t.$style.liked],domProps:{textContent:t._s(t.counter)}})])},km=[],$m={name:"woo-like-diy",props:{like:{type:Boolean,defaulf:!1},likeText:{type:String,default:"赞"},count:{type:[Number,String],default:0},withCount:{type:Boolean,default:!0},static:{type:Boolean,default:!1},original:{type:Boolean,default:!1},noZero:{type:Boolean,default:!1},likeUrl:String,likedUrl:String},data:function(){return{active:this.like}},watch:{like:function(t){this.active=t}},computed:{iconClass:function(){return{"is-large":this.large}},likeValue:function(){return this.active?this.likedUrl:this.likeUrl},counter:{get:function(){return 0!==this.count||this.original?this.count:this.likeText},set:function(){this.count=this.active?this.count+1:this.count-1}}},methods:{toggle:function(){this.static||this.$emit("status",this.active)}}},Cm=$m,Om=i("5cdf");function jm(t){this["$style"]=Om["default"].locals||Om["default"]}var Tm=Object(P["a"])(Cm,xm,km,!1,jm,null,null),Dm=Tm.exports,Sm={name:"MiniComposer",data:function(){return{show:!1,active:!1,id:"",cid:"",comment:this.data&&this.data.content||"",pic_id:"",is_repost:!1,comment_ori:!1,is_comment:!1,time:Date.now(),formCount:{count:0,maxcount:140},imgUploadDisable:!1,statusChange:!1,valueLike:1==this.data.attitudes_status,defaultData:JSON.stringify(this.data)&&JSON.parse(JSON.stringify(this.data)),attitudes_count:"",feedLocale:"zh-CN",placeholder:"",pasteImage:null,ispost:!1,imgUploadDisableForce:!1,loadedImgUploadPermission:!1}},props:["data","customLikeIcon"],components:{PublisherForm:kf,PublisherEmoticon:dt["a"],PublisherImage:hm,WooLikeDiy:Dm},methods:Object(a["a"])(Object(a["a"])({},Object(r["b"])(["setComposerCallBack","setMiniComposerIsNull","setCurWeiboData"])),{},{tolog:function(t){this.toLog&&this.toLog(Object(a["a"])({luicode:this.$route.meta.uicode,page:"repost"===this.data.action?"forwardComposer":"composer"},t),!0)},pasteImg:function(t){this.pasteImage=t},reset:function(t,e){return this.data.number_display_strategy?Object(li["a"])(+t,this.data.number_display_strategy,e,this.feedLocale):Object(li["b"])(t,1,this.feedLocale)},cancel:function(){this.$emit("datachange","reset",this.defaultData),this.$emit("datachange","placeholder","发布你的评论"),this.active=!1,this.$refs.form.blur()},likeHandle:function(t){var e=this,i="",a={};a={id:String(this.data.idstr)},i=this.valueLike?"cancelLike":"setLike",this.$http.post("/ajax/statuses/".concat(i),a).then((function(t){t.data&&t.data.ok>0&&(e.valueLike=!e.valueLike,e.data.attitudes_count=e.valueLike?e.data.attitudes_count+1:e.data.attitudes_count-1,e.data.attitudes_status=e.valueLike?1:0,e.setCurWeiboData(e.data),e.$emit("datachange","data",{attitudes_status:e.data.attitudes_status,attitudes_count:e.data.attitudes_count}),e.$Bus.$emit("syncValueInList",{id:e.data.idstr,value:[{name:"attitudes_status",val:e.data.attitudes_status},{name:"attitudes_count",val:e.data.attitudes_count}]}))}))},handleCurWeiboData:function(t,e){this.curWeiboData&&this.curWeiboData.idstr===this.data.idstr&&(this.curWeiboData[t]=e)},close:function(){this.show=!1},activeChange:function(t){t&&(this.active=t)},formTextCount:function(t){var e=t.count,i=t.maxcount;this.formCount={count:e,maxcount:i},0===e?this.setMiniComposerIsNull(!0):this.setMiniComposerIsNull(!1)},click:function(t){var e={emoticon:"01",image:"02"};switch(this.tolog({actType:"click",extValue:e[t]}),t){case"emoticon":this.$refs.emoticon.show();break;case"image":this.$refs.image.showFiles();break}},emoticonChange:function(t){"→_→"===t.text?this.$refs.form.inserText(t.text):"[最右]"===t.phrase?this.$refs.form.inserText("→_→"):this.$refs.form.inserText("[".concat(t.text,"]")),this.$refs.emoticon.hide()},imageChange:function(t,e){this.statusChange=!1,"end"==t?this.pic_id=e.map((function(t){return t.pid})).join(","):"remove"==t?(this.pic_id=e.map((function(t){return t.pid})).join(","),this.imgUploadDisable=!1):"upload-start"==t&&(this.imgUploadDisable=!0)},hideAllLayer:function(){this.$refs.emoticon&&this.$refs.emoticon.hide()},formChange:function(t){this.comment=t,this.$emit("change",t)},publish:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var i,a,o,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.ispost=!0,e.prev=1,i="repost"===t.data.action?"/statuses/normal_repost":"reply"===t.data.action?"/comments/reply":"/comments/create",e.next=5,h.a.post("/ajax".concat(i),St.a.stringify({id:t.data.idstr||t.data.id,cid:t.data.cid,comment:t.comment,pic_id:t.pic_id,is_repost:t.is_repost?1:0,comment_ori:t.comment_ori?1:0,is_comment:t.is_comment?1:0}));case 5:a=e.sent,a&&a.data&&a.data.ok&&!a.data.error&&(o=a.data.msg?a.data.msg:"/statuses/normal_repost"===i?"转发成功":"评论成功",t.$_w_toast({type:"success",message:o}),t.$emit("change","close"),a.data.location=t.data.location,a.data.action=t.data.action,"repost"===t.data.action&&(a.data.data=a.data.data.statuses),t.pic_id&&(a.data.data.pic_ids=t.pic_id.split(",")),t.setComposerCallBack(a.data),t.handleCurWeiboRepostAndComment(t.data.action),n=t.defaultData,Object.assign(t.$data,t.$options.data()),t.time=Date.now(),t.defaultData=n,t.$emit("change","success"),t.cancel(),t.data.storge&&localStorage.setItem(t.data.storge,""),t.tolog({actType:"/statuses/normal_repost"===i?"repost":"attitude"})),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](1);case 11:t.ispost=!1;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()},handleCurWeiboRepostAndComment:function(t){"create"===t&&"#repost"===this.$route.hash?(this.curWeiboData.comments_count+=1,this.handleCurWeiboData("comments_count",this.curWeiboData.comments_count&&this.curWeiboData.comments_count+1)):("repost"===t&&"#comment"===this.$route.hash||"repost"===t&&""===this.$route.hash)&&(this.data.reposts_count+=1,this.handleCurWeiboData("reposts_count",this.data.reposts_count+=1))},feedFastRepost:function(){var t=this,e="";this.data.retweeted_status&&this.data.retweeted_status.idstr&&(e="//@".concat(this.data.user.screen_name,":").concat(this.data.text_raw)),this.$http.post("/ajax/statuses/repost",{id:this.data.idstr,status:e,is_comment:0,is_fast:1}).then((function(e){e.data&&e.data.ok&&e.data.statuses&&(t.$_w_toast({type:"success",message:"已发送"}),e.data.action="repost",e.data.data=e.data.statuses,t.setComposerCallBack(e.data),t.handleCurWeiboRepostAndComment("repost"))}))},checkAllowShowPic:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.loadedImgUploadPermission){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,t.$http.get("/ajax/statuses/checkAllowCommentWithPic",{params:{id:t.data.id}});case 5:i=e.sent,i.data.ok>0&&(t.imgUploadDisableForce=!i.data.result),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](2);case 11:t.loadedImgUploadPermission=!0;case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))()}}),computed:Object(a["a"])(Object(a["a"])({},Object(r["c"])(["curWeiboData","config","composerConfig"])),{},{maxCount:function(){var t,e,i,a,o;return"repost"===this.data.action&&(null===(t=window.$REFRESHCONIFG)||void 0===t||null===(e=t.data)||void 0===e||null===(i=e.ab_test)||void 0===i?void 0:i.pc_repost_long)?(null===this||void 0===this||null===(a=this.composerConfig)||void 0===a||null===(o=a.push_active)||void 0===o?void 0:o.repost_input_limits)||1e3:140},disableImgUpload:function(){return this.imgUploadDisableForce&&"repost"!==this.data.action?this.imgUploadDisableForce:this.imgUploadDisable},likeCount:function(){return this.reset(this.data.attitudes_count,4)},repostsCount:function(){return this.reset(this.data.reposts_count,4)},retweetPopList:function(){var t=this;return[{name:"快转",action:function(){t.close(),t.feedFastRepost()}},{name:"转发",action:function(){t.$Bus.$emit("showModalComposer",{title:"转发微博",data:{action:"repost",content:"",id:t.data.idstr}})}}]},sendDisabled:function(){return!!this.ispost||(0!=this.formCount.count||"repost"!==this.data.action)&&(0==this.formCount.count&&!this.pic_id||this.formCount.count>this.formCount.maxcount)}}),watch:{is_repost:function(t){this.tolog({actType:"click",ext:"03"})},is_comment:function(t){this.tolog({actType:"click",ext:"03"})},data:{handler:function(t,e){this.valueLike=t.attitudes_status,this.pic_id="",this.statusChange=!0,t.user&&(this.active=!1,this.$refs.form.blur(),this.defaultData=JSON.stringify(this.data)&&JSON.parse(JSON.stringify(this.data)))},deep:!0},"data.action":{handler:function(t){"repost"!==t&&this.checkAllowShowPic()},immediate:!0}},mounted:function(){document.addEventListener("click",this.hideAllLayer)},beforeDestroy:function(){document.removeEventListener("click",this.hideAllLayer),this.setMiniComposerIsNull(!0),this.data.storge&&localStorage.setItem(this.data.storge,"")}},Im=Sm,Lm=i("5894");function Bm(t){this["$style"]=Lm["default"].locals||Lm["default"]}var Pm=Object(P["a"])(Im,ym,wm,!1,Bm,null,null),Am=Pm.exports,Em={name:"MainComposer",props:{actLogScene:String,actLogData:{type:Object,default:function(){return{page:"",extValue:""}}},autoFoucs:{type:Boolean,default:!0},data:{type:Object},action:{type:String,default:"create"},single:{type:Boolean,default:!1},feedSingle:{type:Boolean,default:!1},config:{type:Object,default:function(){return{user:{avatar_large:"https://wx1.sinaimg.cn/webp720/b1ddaa35ly8gdi9pgxqp9j20ru0rut9w.jpg",verified_type:-1,verified_type_ext:0}}}},deep:{type:Boolean,default:!0},callback:{type:Function},customLikeIcon:Object},data:function(){return{detail:{},handleLong:!1}},watch:{data:{handler:function(t){this.handleFocus(t),this.isShow(),(this.deep||!this.handleLong&&(t.longTextContent||t.longTextContent_raw))&&this.handlerActionData(t.action,t)},deep:!0},action:function(t){this.handleFocus(this.data),this.handlerActionData(t,this.data)},config:{handler:function(t){t&&t.user&&Object.keys(t.user).length||(this.config={user:{avatar_large:"https://wx1.sinaimg.cn/webp720/b1ddaa35ly8gdi9pgxqp9j20ru0rut9w.jpg",verified_type:-1,verified_type_ext:0}})},deep:!0}},components:{Composer:bm,MiniComposer:Am},methods:{changeIndex:function(){this.$emit("changeIndex")},isShow:function(){var t=this.data;return!!t.getRcList&&(!(!t.rcList||!t.getRcList||!t.idstr&&!t.id)||!(t.rcList||!t.idstr&&!t.id))},composerChange:function(t){this.deep||((null===t||void 0===t?void 0:t.key)?this.$set(this.data,t.key,t.value):this.$set(this.data,"wb_composer_comment",t))},getVerifiedIcon:Ss["c"],detailChange:function(t){if("reset"===t[0])return t[1]&&(this.detail=t[1]),void(this.detail.action="create");"change"!==t[0]?"data"!==t[0]?("success"===t[0]&&(this.detail.content=""),this.detail[t[0]]=t[1]):this.$emit("changeComposerData",t[1]):this.$emit("datachange",t[1],t[2])},handlerActionData:function(t,e){t=t||(this.action?this.action:"create"),(e.longTextContent||e.longTextContent_raw)&&(this.handleLong=!0),(e.repostText||e.content)&&Boolean(e.retweeted_status||e.status)&&"repost"===t&&(e.repostText=Object(Ap["a"])(e.repostText||e.content,!0));var i="reply"===t?"发布你的回复":"repost"===t?"说说分享心得":"发布你的评论",o=Boolean(e.retweeted_status||e.status)&&Boolean("repost"===t)?e.repostText:"";o=o||e.storge&&localStorage.getItem(e.storge)||"",this.detail=Object(a["a"])(Object(a["a"])({},e),{},{attitudes_count:e.attitudes_count,report:!!e.retweeted_status,name:e.retweeted_status&&e.retweeted_status.user&&e.retweeted_status.user.screen_name,single:this.single,composerAutoFocus:this.detail.composerAutoFocus,placeholder:i,content:o,action:t,callback:this.callback})},handleFocus:function(t){var e=this.autoFoucs;t.rcList&&t.rcList.length&&!this.feedSingle||"feed"==this.$route.params.from&&this.feedSingle?e=!1:(t.getRcList||this.feedSingle)&&(e=!0),this.$set(this.detail,"composerAutoFocus",e)}},mounted:function(){this.handleFocus(this.data),this.handlerActionData(this.data.action,this.data)}},Mm=Em,Fm=i("23dc");function Rm(t){this["$style"]=Fm["default"].locals||Fm["default"]}var Vm=Object(P["a"])(Mm,Bp,Pp,!1,Rm,null,null),Nm=Vm.exports,Hm=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.visable?i("woo-modal",{staticStyle:{"overflow-x":"hidden"},attrs:{animation:"slide-bottom","lock-screen":!t.settings||!t.settings.data||void 0===t.settings.data.lockScreen||t.settings.data.lockScreen,"inside-scroll":""},on:{"after-enter":t.addMargin,"before-leave":t.removeMargin},nativeOn:{mousedown:function(e){return t.close(e)}}},[i("div",{ref:"layer",staticClass:"wbpro-layer",on:{mousedown:function(t){t.stopPropagation()}}},[i("woo-panel",{attrs:{border:"bottom"}},[i("woo-box",{staticClass:"wbpro-layer-tit"},[i("woo-box-item",{staticClass:"wbpro-layer-tit-text",attrs:{align:"center"}},[t._v(" "+t._s(t.settings&&t.settings.title?t.settings.title:t.settings.data&&"repost"===t.settings.data.action?"转发":"reply"===t.settings.data.action?"回复":"评论")+" ")]),i("woo-box",{staticClass:"wbpro-layer-tit-opt",attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return e.stopPropagation(),t.close(e)}}},[i("woo-fonticon",{attrs:{value:"cross"}})],1)],1)],1),i("Composer",{class:t.$style.pub,attrs:{data:t.settings.data},on:{change:function(e){return t.changeComposer(arguments)},dataChange:t.changeData}})],1)]):t._e()},zm=[],Um={name:"ModalComposer",data:function(){return{visable:!1,settings:{},isEmpty:!0,closeFn:void 0}},components:{Composer:bm},watch:{visable:function(t){var e=this;this.setModalComposerIsShow(t),this.$refs.layer&&(this.$refs.layer.style.margin=t?"350px":""),this.closeFn=function(t){switch(event.which){case 27:e.$nextTick((function(){e.close()}));break}},t?window.addEventListener("keydown",this.closeFn):window.removeEventListener("keydown",this.closeFn)}},methods:Object(a["a"])(Object(a["a"])({},Object(r["b"])(["setModalComposerIsShow","setMiniComposerIsNull"])),{},{changeData:function(t){this.isEmpty=t},addMargin:function(){this.$refs.layer&&(this.$refs.layer.style.margin="350px")},removeMargin:function(){this.$refs.layer&&(this.$refs.layer.style.margin="")},close:function(){var t=this;this.isEmpty?(this.setModalComposerIsShow(!1),this.setMiniComposerIsNull(!0),window.removeEventListener("keydown",this.closeFn),this.visable=!1):this.$_w_dialog({type:"confirm",title:"确认关闭？",message:"关闭之后将不可恢复",action:function(){t.visable=!1,t.isEmpty=!0}})},changeComposer:function(t){switch(t[0]){case"success":this.visable=!1;break}},showModalComposerHandle:function(t){t.data.composerAutoFocus=!0,this.settings=t,this.visable=!0,t.data.placeholder||(t.data.placeholder="reply"===t.data.action?"发布你的回复":"repost"===t.data.action?"说说分享心得":"发布你的评论")},hideModalComposerHandle:function(t){var e=this;this.isEmpty||!t?this.visable=!1:this.$_w_dialog({type:"confirm",title:"确认关闭？",message:"关闭之后将不可恢复",action:function(){e.visable=!1}})}}),mounted:function(){var t=this;this.$Bus.$on("showModalComposer",this.showModalComposerHandle),this.$Bus.$on("hideModalComposer",this.hideModalComposerHandle),this.$once("hook:beforeDestroy",(function(){t.$Bus.$off("showModalComposer",t.showModalComposerHandle),t.$Bus.$off("hideModalComposer",t.hideModalComposerHandle)}))}},Gm=Um,qm=i("dcc7");function Wm(t){this["$style"]=qm["default"].locals||qm["default"]}var Qm=Object(P["a"])(Gm,Hm,zm,!1,Wm,null,null),Jm=Qm.exports,Km={composer:bm,MainComposer:Nm,ModalComposer:Jm},Ym={install:function(t){Object.keys(Km).forEach((function(e){t.component(Km[e].name,Km[e])}))}},Xm=Ym,Zm=9e5,tv=null;function ev(){var t,e,i=Object(x["d"])(),a=i.proxy,o=void 0;"BroadcastChannel"in window&&(null===(t=window.$CONFIG)||void 0===t||null===(e=t.flags)||void 0===e?void 0:e.broadcast)&&(o=new BroadcastChannel("WEIBO_HEARTBEAT"));var n=function(){var t,e,i=(Date.now()-((null===(t=window)||void 0===t||null===(e=t.$REFRESHCONIFG)||void 0===e?void 0:e.time)||0))/Zm;i>=1&&a.$http.get("/ajax/config/get_config").then((function(t){var e;if(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data){var i=t.data.data;window.$REFRESHCONIFG={data:i,time:Date.now()},s(window.$REFRESHCONIFG)}}))},s=function(t){o&&o.postMessage(t)},r=function(t){o&&(o.onmessage=function(t){var e,i,a=t.origin;if("https://weibo.com"===a&&(null===t||void 0===t||null===(e=t.data)||void 0===e||null===(i=e.data)||void 0===i?void 0:i.ab_test)){var o=t.data;window.$REFRESHCONIFG=o}})};Object(x["k"])((function(){l()}));var l=function(){r(),n(),tv=setInterval((function(){n()}),Zm)};return Object(x["l"])((function(){o&&o.close(),tv&&clearInterval(tv)})),{refreshConfig:n}}o["default"].use(l["a"]),o["default"].use(w["a"]),o["default"].use(pr),o["default"].use(Lr),o["default"].use(Pr.a,{firstDayOfWeek:2}),o["default"].use(Fr.a),o["default"].use(xd),o["default"].use(Lp),o["default"].use(Xm),o["default"].use(x["b"]),o["default"].mixin(Rr),o["default"].use($.a),o["default"].use({install:function(t){t.prototype.$Bus=new t}});var iv=navigator.userAgent;function av(){new o["default"]({store:zt["a"],router:no,WooUI:y,ajax:v,log:_["b"],theme:C["a"],render:function(t){return t(lr)},name:"App",created:function(){var t=this,e=this;this.updateConfig(window.$CONFIG),this.config=Object(a["a"])({},window.$CONFIG),window.$CONFIG.isNormal&&(this.refreshRemind(),setInterval((function(){t.refreshRemind()}),3e4),document.addEventListener("visibilitychange",e.refreshRemind)),this.setAutoPlay(this.config.uid)},setup:function(){ev()},methods:Object(a["a"])(Object(a["a"])({},Object(r["b"])(["updateConfig","updateUnread","updateRecomAutoplay"])),{},{setAutoPlay:function(t){var e={};try{e=JSON.parse(localStorage.getItem("autoplaySigns")||"")||{}}catch(i){}this.updateRecomAutoplay(!!e[t])},refreshRemind:function(){var t=this;s()("https://rm.api.weibo.com/2/remind/push_count.json?trim_null=1&with_dm_group=1&with_reminding=1&with_settings=1&exclude_attitude=1&with_chat_group_notice=1&source=339644097&with_chat_group=1&with_dm_unread=1",{},(function(e,i){if(!e&&i&&1===i.code&&i.data){var o=_d(i,window.$CONFIG.flags.get_unfollow_message);t.updateUnread(Object(a["a"])(Object(a["a"])({},i.data),{},{chatPro:o}))}}))}})}).$mount("#app")}window.$isSafari=/safari/i.test(iv)&&!/chrome/i.test(iv),o["default"].component("Icons",Vr["default"]),o["default"].component("Card",Nr["a"]),o["default"].component("Bar",Hr["a"]),o["default"].component("SecBar",zr["a"]),o["default"].component("FollowBtn",pi["a"]),o["default"].component("ALink",Jr),o["default"].component("v-select",Er.a),o["default"].config.productionTip=!1,av()},5730:function(t,e,i){t.exports={avatar:"MyFanslist_avatar_FNXzY",avatars:"MyFanslist_avatars_2tGir",stbtn:"MyFanslist_stbtn_32FS9",popBtn:"MyFanslist_popBtn_2iFR0",tips:"MyFanslist_tips_3XGbO",fansTips:"MyFanslist_fansTips_3hsfS",title:"MyFanslist_title_3-T70"}},5779:function(t,e,i){t.exports={cut:"MovieItem_cut_1jpGb",pic:"MovieItem_pic_whOBy",con:"MovieItem_con_29YDT",p1:"MovieItem_p1_19cXA",p2:"MovieItem_p2_26tmk",p3:"MovieItem_p3_1QFbO",t11:"MovieItem_t11_3Ika8",t12:"MovieItem_t12_2dlO7",t22:"MovieItem_t22_3nj2-",t23:"MovieItem_t23_16veO",cutout:"MovieItem_cutout_2jVML",tag:"MovieItem_tag_1A5n_",tag1:"MovieItem_tag1_2I6DD",tag2:"MovieItem_tag2_3r0Bi"}},"578b":function(t,e,i){t.exports={feed:"Home_feed_3o7ry",home:"Home_home_16VbE",wrap:"Home_wrap_XXu6Z",card:"Home_card_1ylVo",emptyPic:"Home_emptyPic_30wte"}},"57f4":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.box},[i("woo-picture",{class:t.$style.pic,attrs:{src:t.image,"aspect-ratio":t.optAspectratio}}),t.loading?i("woo-box",{class:[t.$style.pos,t.loadingText&&t.$style.posb],attrs:{align:"center",justify:"center",direction:"y"}},[i("woo-spinner",{attrs:{size:"32px",color:"#fff"}}),t.loadingText?i("woo-box",{class:t.$style.posc},[t._v(t._s(t.loadingText))]):t._e()],1):t._e(),t.reupload?i("woo-box",{class:t.$style.pos,attrs:{align:"center",justify:"center",direction:"y"}},[i("woo-fonticon",{class:t.$style.icon,attrs:{value:"refresh"},nativeOn:{click:function(e){return t.$("refresh",e)}}}),i("div",{class:t.$style.text},[t._v("重新上传")])],1):t._e(),i("div",{class:t.$style.opt},[t.optReplace?i("woo-button",{class:t.$style.btn,attrs:{sort:"flat",size:"xs",kind:"default",fonticon:"replace"},nativeOn:{click:function(e){return t.$emit("replace",e)}}},[t._v("修改封面")]):t._e(),t.optEdit?i("woo-fonticon",{class:t.$style.btn,attrs:{title:"编辑",value:"edit",kind:"dark",abovePic:""},nativeOn:{click:function(e){return t.$emit("edit",e)}}}):t._e(),t.optClose?i("woo-fonticon",{class:t.$style.btn,attrs:{title:"删除",value:"close",kind:"dark",abovePic:""},nativeOn:{click:function(e){return t.$emit("close",e)}}}):t._e()],1),t._t("default")],2)},o=[],n={props:{image:{type:String,default:""},loading:{type:Boolean,default:!1},reupload:{type:Boolean,default:!1},optReplace:{type:Boolean,default:!1},optEdit:{type:Boolean,default:!1},optClose:{type:Boolean,default:!1},optAspectratio:{type:String,default:"4:3"},loadingText:{type:String,default:""}}},s=n,r=i("ae81"),l=i("2877");function c(t){this["$style"]=r["default"].locals||r["default"]}var u=Object(l["a"])(s,a,o,!1,c,null,null);e["default"]=u.exports},5820:function(t,e,i){t.exports={cut:"VideoEditor_cut_1rgl3",layer:"VideoEditor_layer_xcZ3M",scale:"VideoEditor_scale_3Ypq0",lbox:"VideoEditor_lbox_2ZAvv",vdbox:"VideoEditor_vdbox_3qYGk",player:"VideoEditor_player_3CTn4",vtop:"VideoEditor_vtop_11tGJ",vote:"VideoEditor_vote_2h-PI",vote1:"VideoEditor_vote1_bS9pm",vote2:"VideoEditor_vote2_1eioZ",votetit:"VideoEditor_votetit_fHHPM",voteitem:"VideoEditor_voteitem_1fUzA",vtbox:"VideoEditor_vtbox_JOp-m",vtb1:"VideoEditor_vtb1_ktA7v",vtb1btn:"VideoEditor_vtb1btn_1ybpC",vtb1t:"VideoEditor_vtb1t_rWEOb",rbox:"VideoEditor_rbox_hQp-T",tit:"VideoEditor_tit_1fB2H",close:"VideoEditor_close_im0LN",iptbox:"VideoEditor_iptbox_WpL7p",itit:"VideoEditor_itit_3qrlr",igap:"VideoEditor_igap_3FifU",ipt1:"VideoEditor_ipt1_3anq9",ipt2:"VideoEditor_ipt2_cW61Y",it1:"VideoEditor_it1_3Gcz1",ipt3:"VideoEditor_ipt3_2LkGr",ipt4:"VideoEditor_ipt4_3H1eR",ibtn:"VideoEditor_ibtn_8oQt8",iptdis:"VideoEditor_iptdis_296LT",vtb2:"VideoEditor_vtb2_dSQ6O",vtb21:"VideoEditor_vtb21_3JkzB",vtb21gap:"VideoEditor_vtb21gap_1XxlO",vtb21item:"VideoEditor_vtb21item_SvSdB",vtb21p:"VideoEditor_vtb21p_2Aiuf",vtb21pr:"VideoEditor_vtb21pr_UEYWq",vtb21pri1:"VideoEditor_vtb21pri1_2UToE",vtb21prt1:"VideoEditor_vtb21prt1_Z1zZn",vtb21line:"VideoEditor_vtb21line_3FYBM"}},5857:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));i("d3b7"),i("ac1f"),i("3ca3"),i("5319"),i("2ca0"),i("ddb0"),i("2b3d");var a=function(t){var e=/sinaweibo:\/\/([\w.]+\/?)\S*/,i=e.test(t);return i?"https://m.weibo.cn/api/scheme?scheme=".concat(encodeURIComponent(t)):t},o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var e=/^http(s)?:/;if(e.test(t.long_url)){try{var i=/weibo\.(com|cn)$/,o=new URL(t.long_url);if(o&&o.hostname&&i.test(o.hostname))return t.long_url}catch(n){}return"//weibo.cn/sinaurl?u=".concat(encodeURIComponent(t.long_url))}return t&&t.page_id&&t.page_id.startsWith("230677")&&t.ori_url?a(t.ori_url):"place"===t.object_type?"//weibo.com/p/".concat(t.page_id):t.short_url&&t.short_url.startsWith("http")?t.short_url.replace(/^http:/,"https:"):t.h5_target_url}catch(n){return""}}},5894:function(t,e,i){"use strict";var a=i("732d"),o=i.n(a);e["default"]=o.a},5978:function(t,e,i){"use strict";var a=i("4540"),o=i.n(a);e["default"]=o.a},"59b0":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var a=i("ed09"),o=i("6c3f");function n(t){var e=Object(a["n"])(""),i=Object(a["n"])(""),n=Object(a["n"])(0),s=Object(a["n"])(!1);Object(a["s"])(e,(function(t){t&&t.length>0?n.value=Math.ceil(Object(o["a"])(t)/2):n.value=0,n.value>30?(n.value>30&&(e.value=Object(o["d"])(t,30)),i.value="error",s.value=!0):n.value>=0&&(i.value="focus",s.value=!1)}));var r=function(){""===i.value&&(t.titleInput.focus(),i.value="focus")},l=function(){t.titleInput.blur(),"error"!==i.value&&(i.value="")};return{title:e,titleStatus:i,titleNumber:n,doneDisabled:s,titleFocus:r,titleBlur:l}}},"59cb":function(t,e,i){"use strict";var a=i("40fc"),o=i.n(a);e["default"]=o.a},"5a2e":function(t,e,i){"use strict";var a=i("eb51"),o=i.n(a);e["default"]=o.a},"5abd":function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"d",(function(){return s})),i.d(e,"a",(function(){return r}));i("d3b7");function a(t){t=String(t);var e,i="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D";"undefined"==typeof e&&(e=0);var a=0,o=0;e^=-1;for(var n=0,s=t.length;n<s;n++)o=255&(e^t.charCodeAt(n)),a="0x"+i.substr(9*o,8),e=e>>>8^a;return-1^e}var o=function(t){return"g"==t[21]?"gif":"jpg"},n=function(t){if(t.length>=32&&t[22]>="1"){var e=parseInt(t.substr(23,3),36),i=parseInt(t.substr(26,3),36);return{width:e,height:i}}},s=function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bmiddle",o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("undefined"==typeof i&&(i="bmiddle"),"undefined"==typeof o&&(o=!1),"w"==t[9]||"y"==t[9]&&t.length>=32){var n=1+(3&a(t)),s="g"==t[21]?"gif":"jpg";e=o?"w"==t[9]?"https://ww"+n+".sinaimg.cn/"+i+"/"+t+"."+s:"https://wx"+n+".sinaimg.cn/"+i+"/"+t+"."+s:"w"==t[9]?"http://ww"+n+".sinaimg.cn/"+i+"/"+t+"."+s:"http://wx"+n+".sinaimg.cn/"+i+"/"+t+"."+s}else{var r=1+(15&parseInt(t.substr(-2,2),16));e=o?"https://ss"+r+".sinaimg.cn/"+i+"/"+t+"&690":"http://ss"+r+".sinaimg.cn/"+i+"/"+t+"&690"}return e};function r(t){return new Promise((function(e,i){var a=new FileReader;a.readAsDataURL(t),a.onload=function(){e(a.result)},a.onerror=function(t){i(t)}}))}},"5af3":function(t,e,i){},"5b23":function(t,e,i){},"5b53":function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_ai",use:"woo_svg_ai-usage",viewBox:"0 0 1024 1024",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" id="woo_svg_ai"><path fill="currentColor" d="M500.835 167.968c23.102 0 43.315 15.539 49.255 37.864l179.716 675.539c2.895 10.881-3.579 22.048-14.461 24.943-1.71.455-3.472.685-5.241.685h-96.579c-35.391 0-66.156-24.291-74.366-58.716l-110.658-464a10.195 10.195 0 00-19.188-1.87L250.015 731.245c-2.339 5.121-.083 11.168 5.038 13.507 1.328.607 2.771.921 4.231.921l120.505.036c14.074.004 25.48 11.417 25.476 25.492a25.518 25.518 0 01-.801 6.332l-18.502 72.035c-8.682 33.8-39.15 57.432-74.048 57.432H94.452C52.229 907 18 872.771 18 830.548a76.455 76.455 0 017.737-33.513l292.837-600.442a50.967 50.967 0 0145.81-28.626h136.451zm314.219 203.871c34.894 0 65.361 23.627 74.046 57.423l116.228 452.277c2.802 10.905-3.766 22.017-14.671 24.82a20.392 20.392 0 01-5.074.642h-88.68c-34.453 0-64.649-23.044-73.741-56.275l-123.979-453.12c-2.971-10.86 3.424-22.073 14.284-25.045a20.375 20.375 0 015.38-.723h96.207zM731.548 117c55.539 0 105.274 43.356 111.086 96.839l9.291 73.763c.119.891.178 1.79.178 2.689 0 9.855-6.99 18.077-16.283 19.975l-4.11.412h-79.115c-55.539 0-105.274-43.356-111.086-96.839-5.811-53.483 34.5-96.839 90.039-96.839z" /></symbol>'});s.a.add(r);e["default"]=r},"5b5d":function(t,e,i){},"5bb5":function(t,e,i){t.exports={list:"Keyword_list_21Lhx",itemin:"Keyword_itemin_2NgWF",avatar:"Keyword_avatar_LXROM",pic:"Keyword_pic_2tZu7",cut:"Keyword_cut_1zLFg",opt:"Keyword_opt_-eKWW",btn:"Keyword_btn_1vCnR"}},"5bf2":function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_nav_logoYy",use:"woo_svg_nav_logoYy-usage",viewBox:"0 0 90 30",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 90 30" id="woo_svg_nav_logoYy"><mask id="woo_svg_nav_logoYy_a" fill="#fff"><path d="M.257.642h24.837v18.902H.257z" fill-rule="evenodd" /></mask><mask id="woo_svg_nav_logoYy_b" fill="#fff"><path d="M.28.654h5.148v4.971H.28z" fill-rule="evenodd" /></mask><mask id="woo_svg_nav_logoYy_c" fill="#fff"><path d="M.57.654h4.795v4.971H.571z" fill-rule="evenodd" /></mask><g fill="none" fill-rule="evenodd"><path d="M2.715 20.11c0 4.203 5.6 7.613 12.506 7.613 6.907 0 12.506-3.41 12.506-7.613s-5.6-7.612-12.506-7.612c-6.907 0-12.506 3.409-12.506 7.612" fill="transparent" /><path d="M15.513 27.102c-6.114.59-11.39-2.111-11.788-6.035-.397-3.922 4.239-7.581 10.35-8.172 6.115-.591 11.39 2.11 11.789 6.032.395 3.924-4.238 7.584-10.35 8.175M27.74 14.078c-.521-.152-.878-.255-.604-.924.59-1.45.65-2.701.011-3.593-1.2-1.675-4.48-1.584-8.239-.045 0-.001-1.18.505-.878-.41.579-1.818.49-3.34-.409-4.219-2.039-1.995-7.464.075-12.115 4.62C2.023 12.914 0 16.523 0 19.643c0 5.97 7.831 9.598 15.492 9.598 10.043 0 16.724-5.702 16.724-10.231 0-2.737-2.358-4.29-4.476-4.932M34.409 3.154C31.984.526 28.405-.476 25.103.21c-.764.16-1.251.894-1.088 1.64.162.747.914 1.224 1.678 1.063 2.35-.487 4.891.226 6.617 2.093a6.687 6.687 0 011.452 6.647c-.241.727.165 1.505.91 1.74.743.235 1.54-.162 1.782-.888V12.5a9.393 9.393 0 00-2.045-9.346" fill="currentColor" /><path d="M30.684 6.44c-1.181-1.28-2.923-1.766-4.532-1.432a1.188 1.188 0 00-.935 1.413c.14.64.787 1.053 1.442.913v.002a2.366 2.366 0 012.217.698c.578.626.733 1.479.484 2.227h.002a1.187 1.187 0 00.783 1.5c.64.199 1.326-.142 1.532-.768a4.57 4.57 0 00-.993-4.553M15.85 19.996c-.213.358-.686.53-1.057.38-.364-.146-.479-.545-.27-.897.212-.349.666-.52 1.03-.378.369.131.501.535.297.895m-1.947 2.445c-.593.921-1.859 1.325-2.812.9-.94-.418-1.217-1.49-.626-2.388.583-.897 1.808-1.295 2.754-.907.958.4 1.263 1.463.684 2.395m2.22-6.526c-2.909-.741-6.197.676-7.46 3.183-1.287 2.555-.042 5.392 2.897 6.32 3.043.96 6.632-.512 7.88-3.269 1.23-2.697-.306-5.474-3.317-6.234M46.554 12.454h7.399l.395-1.29H46.95zM55.267 9.389l1.486-4.93h-1.5l-1.087 3.615h-1.873l1.533-5.092h-1.404l-1.535 5.092h-1.873l1.09-3.615h-1.407l-1.483 4.93zM41.457 9.968c2.483-1.869 5.654-4.619 7.63-6.98l-1.773.017c-1.483 1.737-3.052 3.15-5.108 4.74zM54.081 16.004s-1.62 1.103-2.674 1.694l1.04-3.389s-6.166-.039-6.276 0c-.391 1.804-.789 3.68-2.548 4.992a31.478 31.478 0 01-.703 2.279c1.918-1.576 3.196-2.116 4.206-5.495l.148-.485h3.279l-.545 1.775c-.188.807-1.175 1.695-1.175 1.695l.778 1.13c.55-.378 3.965-2.374 3.965-2.374zM47.165 8.29h-1.501a44.707 44.707 0 01-5.383 5.433l-.677 2.165c0 .018-.002.037 0 .055.331-.269.895-.744 1.48-1.23.603-.538 1.031-.913 1.283-1.13l-2.523 8.23h1.5l3.167-10.326c.842-.916 2.015-2.3 2.654-3.198" fill="currentColor" /><path d="M57.798 14.874c-.269-1.775-.073-4.033.582-6.775a3.29 3.29 0 00.262-.244h2.715c-1.125 2.853-2.312 5.192-3.56 7.02zm1.732-8.391c.836-1.12 1.555-2.487 2.026-3.496h-1.46c-1.67 3.01-2.393 4.33-4.478 6.714-.222.776-.402 1.4-.728 2.434.499-.416 1.187-.977 1.573-1.455-.349 2.15-.35 4.087-.003 5.807-1.048 1.185-1.265 1.568-3.852 3.29-.262.862-.36 1.102-.733 2.198 2.321-1.668 3.952-3.012 4.89-4.035.615 1.453 2.02 2.933 2.985 4.063.324-.822.363-.913.67-1.727-1.29-1.29-2.183-2.955-2.367-3.79 1.671-1.988 3.272-4.866 4.801-8.63h1.311l.42-1.373z" fill="currentColor" /><path d="M20.934 6.474H16.72l-.397 1.292h4.216zm-4.981 2.501l-.396 1.292h4.214l.397-1.292zM10.82 6.474l-.396 1.292h4.307l.397-1.292zm-.767 2.501l-.396 1.292h4.308l.395-1.292zm11.95-6.293h3.09l-.397 1.292h-7.21l-.397 1.29h5.808l-2.255 7.37h-1.592l.35-1.158h-4.216l-.342 1.156h-1.59l.342-1.156H9.287l-.36 1.179H7.331L9.6 5.263h5.9l.394-1.289H8.871l.397-1.292h7.024l.637-2.04h1.591l-.637 2.04h3.84zM7.953 16.025l1.478-.733a27.158 27.158 0 012.25 2.266l-1.53.64c-.58-.7-1.312-1.421-2.198-2.173zm-2.638-2.29h11.612l.346-1.128h1.686l-.346 1.129h3.652l-.37 1.209h-3.654l-.693 2.261c-.367 1.395-1.517 2.096-3.453 2.096-1.122 0-2.324-.027-2.324-.027s.241-.748.408-1.376c.939.06 1.838.031 2.15.031.938 0 1.464-.296 1.584-.887l.643-2.098H4.945zM6.036.643h1.687L6.101 5.991h2.153l-.421 1.37H5.679L1.943 19.545H.257L3.993 7.362H1.746l.42-1.371h2.248z" fill="currentColor" mask="url(#woo_svg_nav_logoYy_a)" transform="translate(63.296 2.326)" /><path d="M85.613 5.388h-1.6l.543-1.747h1.6z" fill="currentColor" /><g fill="currentColor"><path d="M44.627 24.692l.012-.02-.687.01-1.225 1.931-1 1.548-.17-3.489-.759.01-1.161 1.906-.968 1.556-.135-3.472-.794.02h-.027l.22 4.692.719-.009 1.15-1.898.96-1.552.17 3.46h.765l1.925-3.083 1.017-1.61z" /><path d="M4.497 2.644l-2.177.019h-.747c.172-.446.419-.687.761-.928a1.984 1.984 0 011.158-.385c.302 0 .542.07.712.21.397.42.346.828.293 1.084M3.662.654c-.712 0-1.382.233-1.992.692A3.472 3.472 0 00.414 3.16c-.22.732-.17 1.332.15 1.784.319.452.854.682 1.589.682A3.3 3.3 0 003.73 5.23c.428-.228.767-.515 1.012-.867.035-.047.074-.092.106-.14l-.008-.001.012-.018-.753-.131c-.413.545-.896.767-1.668.767-.37 0-.69-.122-.952-.364-.23-.215-.337-.512-.128-1.252l3.913-.014c.245-.843.216-1.487-.085-1.912C4.88.87 4.367.654 3.662.654" mask="url(#woo_svg_nav_logoYy_b)" transform="translate(44.115 23.888)" /><path d="M51.318 24.687l-1.085 3.664-.305 1.013h.005l-.005.02h.848l1.09-3.68.305-1.012h-.006l.006-.02zM52.692 23.05h-.006l.006-.02-.915.014-.23.81-.066.213h.006l-.006.019h.912l.232-.822zM56.795 27.093c-.167.538-.43.968-.782 1.278-.352.308-.744.465-1.162.465-.327 0-.608-.104-.837-.312-.227-.205-.29-.542-.187-.999l.315-1.02c.17-.377.433-.685.783-.92.35-.236.702-.355 1.048-.355.442 0 .728.161.873.491.146.331.128.791-.05 1.372m-.511-2.551c-.534 0-1.04.203-1.492.596a3.688 3.688 0 00-.335.305l.546-1.875.157-.519h-.006l.006-.018-.853.014-1.472 4.945-.414 1.374h.005l-.005.02.654-.013.148-.439.121-.317c.215.595.69.898 1.415.898.657 0 1.269-.239 1.82-.71s.937-1.062 1.146-1.758c.244-.808.22-1.434-.069-1.86-.29-.426-.752-.643-1.372-.643M62.432 27.005c-.192.606-.48 1.059-.853 1.345-.374.286-.775.43-1.193.43-.411 0-.718-.136-.913-.407-.193-.27-.19-.728.01-1.361.19-.601.475-1.045.846-1.32.369-.277.764-.416 1.172-.416.394 0 .699.136.908.407.207.27.216.714.023 1.322m-.718-2.463c-.69 0-1.346.226-1.943.672s-1.015 1.047-1.24 1.792c-.213.707-.184 1.306.086 1.784.273.48.785.723 1.525.723.73 0 1.404-.234 2.004-.696a3.5 3.5 0 001.235-1.796c.212-.701.174-1.295-.113-1.767s-.81-.712-1.554-.712M64.135 28.322l-.229.828-.064.214h.006l-.006.02h1.203l.233-.84.066-.216h-.006l.006-.02z" /><path d="M3.761.654c-.704 0-1.342.239-1.894.71A3.71 3.71 0 00.713 3.146C.506 3.832.526 4.423.77 4.902c.247.48.75.723 1.492.723a2.72 2.72 0 001.507-.443c.405-.26.73-.62.973-1.078.028-.05.06-.097.088-.15l-.007-.001c.003-.006.008-.011.01-.018l-.74-.106c-.405.756-.9 1.093-1.6 1.093-.435 0-.726-.164-.866-.486-.16-.358-.156-.765.01-1.32.152-.5.328-.906.695-1.267.353-.342.726-.502 1.174-.502.377 0 .654.094.823.279.16.174.219.437.207.788v.018h.001c0 .007.003.011.002.019l.809-.142c.06-.482-.043-.885-.305-1.192C4.78.809 4.348.654 3.76.654" mask="url(#woo_svg_nav_logoYy_c)" transform="translate(66.173 23.888)" /><path d="M85.231 24.82c-.222-.185-.522-.277-.889-.277-.615 0-1.176.257-1.665.75a3.627 3.627 0 00-.346.369 1.067 1.067 0 00-.285-.784c-.206-.223-.508-.335-.898-.335-.558 0-1.089.227-1.57.668-.123.106-.244.22-.363.35l.188-.686.055-.183h-.005l.005-.02-.735.015-1.086 3.664-.305 1.013h.005l-.005.02.815-.015.844-2.795c.119-.397.34-.584.69-.854.335-.262.682-.394 1.03-.394a.85.85 0 01.617.248c.162.158.196.29.07.708l-.708 2.42-.2.662h.004l-.004.02.825-.015.794-2.63c.151-.5.403-.749.788-1.012.366-.25.71-.377 1.023-.377.224 0 .41.06.551.182.143.122.215.252.218.396.001.108-.02.177-.07.33l-.061.195-.67 2.287-.189.624h.006l-.006.02h.827l.881-2.92c.132-.438.19-.766.179-1.004-.013-.24-.132-.454-.355-.64M75.842 27.005c-.192.606-.478 1.059-.852 1.345-.374.286-.776.43-1.193.43-.412 0-.719-.136-.913-.407-.194-.27-.19-.728.01-1.361.191-.601.475-1.045.845-1.32.37-.277.764-.416 1.172-.416.394 0 .7.136.908.407.207.27.216.714.023 1.322m-.717-2.463c-.692 0-1.346.226-1.944.672a3.416 3.416 0 00-1.24 1.792c-.213.707-.184 1.306.086 1.784.274.48.786.723 1.525.723.73 0 1.404-.234 2.005-.696a3.512 3.512 0 001.236-1.796c.212-.701.173-1.295-.114-1.767-.288-.472-.81-.712-1.554-.712" /></g></g></symbol>'});s.a.add(r);e["default"]=r},"5cdf":function(t,e,i){"use strict";var a=i("18ac"),o=i.n(a);e["default"]=o.a},"5cf2":function(t,e,i){t.exports={fixed:"AudioBottomBar_fixed_L7J0S",holder:"AudioBottomBar_holder_3iLIH",wrap:"AudioBottomBar_wrap_30fpJ",text:"AudioBottomBar_text_26gMO",pop:"AudioBottomBar_pop__kbHO"}},"5cf7":function(t,e,i){t.exports={wrap:"card9_wrap_-f2L0"}},"5d01":function(t,e,i){"use strict";var a=i("0ffa"),o=i.n(a);e["default"]=o.a},"5e3e":function(t,e,i){"use strict";i("99af"),i("7db0"),i("4160"),i("c975"),i("a15b"),i("fb6a"),i("b64b"),i("07ac"),i("4d63"),i("ac1f"),i("25f0"),i("466d"),i("5319");var a=i("53ca"),o=i("5530"),n=i("92e8"),s=i("2f62"),r=i("5857"),l=i("ec26");e["a"]={computed:Object(o["a"])({},Object(s["c"])(["composerConfig","config"])),methods:{isSuperTopic:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return!(!t||!(null===e||void 0===e?void 0:e.length))&&e.find((function(e){return e.short_url===t}))},transText:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,o={url:"(http|https)://[a-zA-Z0-9$%&~_#/.\\-;:=,?]{5,}",stock:"\\$([^\\$]+)\\$",br:"\\n",singleQuote:"(&|&amp;)#39;"},n=/@[\u4e00-\u9fa5|\uE7C7-\uE7F3|\w_\-·]+/g,s=/(\[.*?\])(?!#)/g,r=new RegExp(Object.values(o).join("|"),"g"),c=/[A-Za-z0-9]+([_\.][A-Za-z0-9]+)*@([A-Za-z0-9\-]+\.)+[A-Za-z]{2,6}/g,u=/#([^#]+)#/g,d=[],h=[];return e&&(e=e.replace(c,(function(t){if(t.match(n)){var e=t.match(n);d.push(e&&e[0])}return t})),e=e.replace(/&#39;/g,"'"),e=e.replace(n,(function(e){return-1!==d.indexOf(e)?e:t.transUser(e)})),e=e.replace(u,(function(e){var o=e.slice(0,1);if("#"===o&&"#&#"!==e&&!t.isSuperTopic(e,a)){var n=Object(l["a"])();return h.push({key:e,value:t.transTopic(e,i),substitute:n}),n}return e})),e=e.replace(r,(function(e){if(e){var o=e.slice(0,1);if("\n"===e)return t.transBr();if("h"===o||a){var n=Object(l["a"])();return h.push({key:e,value:t.transUrl(e,a,i),substitute:n}),n}return e}})),e=e.replace(u,(function(e){var o=e.slice(0,1);if("#"===o&&t.isSuperTopic(e,a)){var n=Object(l["a"])();return h.push({key:e,value:t.transUrl(e,a,i),substitute:n}),n}}))),e=e.replace(s,(function(e){return t.transEmoji(e)})),h.forEach((function(t){e=e.replace(t.substitute,t.value)})),e},resetUrl:function(t){var e=/sinaweibo:\/\/([\w.]+\/?)\S*/,i=e.test(t);return i?"https://m.weibo.cn/api/scheme?scheme=".concat(encodeURIComponent(t)):t},transEmoji:function(t){var e,i=this.formateEmoji([],null===this||void 0===this||null===(e=this.composerConfig)||void 0===e?void 0:e.emoticon),a=i.find((function(e){return e.phrase===t})),o=t.slice(1,-1);return a?'<img alt="['.concat(o,']" title="[').concat(o,']" src="').concat(a.url,'" />'):t},transUrl:function(t,e,i,a){var o=e&&e.find((function(e){return e.short_url===t})),s=/(http|https):\/\/([\w.]+\/?)\S*/,l='<a target="_blank"';if(o&&o.short_url&&o.short_url===t){if(e=Object(r["a"])(o),o.url_title=o.url_title&&Object(n["a"])(o.url_title),o.hide)return"";if(o&&o.url_type_pic){if(o.pic_infos&&o.pic_ids&&o.pic_infos["".concat(o.pic_ids[0])]){var c=o.pic_infos["".concat(o.pic_ids[0])].large.url;c=c.replace("http://","https://"),l+=" data-pid=".concat(Object.keys(o.pic_infos)[0],'  href="').concat(c,'"')}else o.page_id&&o.page_id.indexOf("100808")>-1?l+=' href="https://weibo.com/p/'.concat(o.page_id,'"'):l+=' href="'.concat(this.resetUrl(e),'"');l+='><img class="icon-link" src="'.concat(o.url_type_pic.slice(0,-4)+"_default.png",'"/>').concat(o.url_title,"</a>")}else l+=' href="'.concat(this.resetUrl(e),'">').concat(o.url_title,"</a>")}else{if(t&&"#"===t.slice(0,1))return this.transTopic(t,i);if(!s.test(t))return t;var u=/^http:\/\/t\.cn/;u.test(t)&&(t=t.replace(/http:/,"https:")),l+=' href="'.concat(t,'"><img class="icon-link" src="https://h5.sinaimg.cn/upload/2015/09/25/3/timeline_card_small_web_default.png"/>网页链接</a>')}return l},transTopic:function(t,e){var i=t&&t.slice(1,-1),a=e&&e.find((function(t){return t.topic_title===i&&1===t.is_invalid}));if(a)return t;var o="",n="";return this.config.enableSweibocom?(o="//s.weibo.com/weibo?q=".concat(encodeURIComponent(t)),n="_blank"):o="/search?containerid=".concat(encodeURIComponent("231522type=1&q=".concat(t,"&t=3"))),'<a href="'.concat(o,'" target="').concat(n,'">').concat(t,"</a>")},transUser:function(t){var e=t.slice(1);return e?"<a href=/n/".concat(e,' usercard="name=').concat(t,'">').concat(t,"</a>"):t},transBr:function(){return"<br />"},formateEmoji:function(t,e){for(var i in e){if("object"!==Object(a["a"])(e[i])||null===e[i]){t.push(e);break}this.formateEmoji(t,e[i])}return t}}}},"5e3ee":function(t,e,i){"use strict";var a=i("67ff"),o=i.n(a);e["default"]=o.a},"5e70":function(t,e,i){t.exports={wrap:"SearchBar_wrap_14lCd",main:"SearchBar_main_1wk2T",iptbox:"SearchBar_iptbox_oYj_6",result:"SearchBar_result_1bQmd",rNoInputBox:"SearchBar_rNoInputBox_2zUHw",rInputBox:"SearchBar_rInputBox_2teJu",rsUl:"SearchBar_rsUl_2hSk1",rsItem:"SearchBar_rsItem_220Kh",rsItemCur:"SearchBar_rsItemCur_3it11",iconCross:"SearchBar_iconCross_3RTNd",rsHover:"SearchBar_rsHover_1nh3A",searchText:"SearchBar_searchText_1DPX1",Schtext:"SearchBar_Schtext_3A0bs",fontOrg:"SearchBar_fontOrg_yO93A",sName:"SearchBar_sName_2U6Wq",sDesc:"SearchBar_sDesc_u7VCT",SchTopBox:"SearchBar_SchTopBox_KhS76",schTopTit:"SearchBar_schTopTit_3-WD_",userBox:"SearchBar_userBox_o-uaf",keyWordsBox:"SearchBar_keyWordsBox_lcPFd",userInfoBox:"SearchBar_userInfoBox_SFu2y",searchWords:"SearchBar_searchWords_2t4ab",searchIcon:"SearchBar_searchIcon_2xH6V",weiboTopBox:"SearchBar_weiboTopBox_3UYif",topCur:"SearchBar_topCur_g8Mk8",weiboName:"SearchBar_weiboName_1lJCN",weiboNameReTitTop:"SearchBar_weiboNameReTitTop_1oH_C",maxText:"SearchBar_maxText_Y8oAx",rWeibo:"SearchBar_rWeibo_YdBa9",iconHot:"SearchBar_iconHot_2AI3h",rUser:"SearchBar_rUser_q77FK",weiboList:"SearchBar_weiboList_3xb3t",flexDirection:"SearchBar_flexDirection_3Etng",noDataBox:"SearchBar_noDataBox_3DYkR",nodataIcon:"SearchBar_nodataIcon_16D4H",noText:"SearchBar_noText_18xoo",dialogTips:"SearchBar_dialogTips_2Elbq"}},"5f2d":function(t,e,i){"use strict";var a=i("0502"),o=i.n(a);e["default"]=o.a},"5f8b":function(t,e,i){"use strict";var a=i("48be"),o=i.n(a);o.a},"5fa4":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",[t.showTimeZone?[i("woo-box",{class:t.$style.new_picker,attrs:{align:"center"}},[i("woo-box",{class:t.$style.select1,attrs:{align:"center"}},[i("multiselect",{attrs:{options:t.timezone.options,"show-labels":!1,searchable:!1,disabled:t.disabled,"custom-label":t.optionLabel},model:{value:t.timezone.value,callback:function(e){t.$set(t.timezone,"value",e)},expression:"timezone.value"}})],1),i("div",{staticStyle:{height:"16px"}},[i("woo-divider",{attrs:{direction:"y","border-color":"#D7D7D7"}})],1),i("v-date-picker",{ref:"select1",staticClass:"wbpro-datapicker",attrs:{attributes:t.select1.attributes,"min-date":t.handleMinDate,"max-date":t.handleMaxDate,mode:t.mode,color:"orange",formats:t.select1.formats,disabled:t.disabled,"valid-hours":t.validHours,timezone:t.timezone.value.value?"Asia/Shanghai":"",is24hr:""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.inputValue,o=e.inputEvents;return[i("span",{staticClass:"wbpro-datapicker"},[i("input",t._g({class:t.$style.picker,domProps:{value:a}},o))])]}}],null,!1,228750164),model:{value:t.select1.value,callback:function(e){t.$set(t.select1,"value",e)},expression:"select1.value"}})],1)]:[i("woo-box",{class:t.$style.select,staticStyle:{width:"109px"},attrs:{align:"center"}},[i("v-date-picker",{ref:"select1",attrs:{color:"orange",attributes:t.select1.attributes,"min-date":new Date,"max-date":t.publisher?new Date((new Date).getTime()+6048e5):t.maxDate?t.maxDate:void 0,mode:"single",formats:t.select1.formats,disabled:t.disabled},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.inputValue,o=e.inputEvents;return[i("span",{staticClass:"wbpro-datapicker"},[i("input",t._g({ref:"select1",staticStyle:{width:"109px"},attrs:{disabled:t.disabled},domProps:{value:a}},o))])]}}]),model:{value:t.select1.value,callback:function(e){t.$set(t.select1,"value",e)},expression:"select1.value"}})],1),i("woo-box",{class:t.$style.select,staticStyle:{width:"93px"},attrs:{align:"center"}},[i("multiselect",{attrs:{options:t.select2.options,"show-labels":!1,searchable:!1,disabled:t.disabled,"custom-label":t.optionLabel},model:{value:t.select2.value,callback:function(e){t.$set(t.select2,"value",e)},expression:"select2.value"}})],1),i("woo-box",{class:t.$style.select,staticStyle:{width:"95px"},attrs:{align:"center"}},[i("multiselect",{attrs:{options:t.select3.options,"show-labels":!1,searchable:!1,disabled:t.disabled,"custom-label":t.optionLabel},model:{value:t.select3.value,callback:function(e){t.$set(t.select3,"value",e)},expression:"select3.value"}})],1)]],2)},o=[],n=(i("4de4"),i("a15b"),i("d81d"),i("a9e3"),i("ac1f"),i("1276"),i("e607"),i("8e5f")),s=i.n(n),r=i("5a0c"),l=i.n(r),c=i("0ecf"),u=i.n(c),d=i("1953"),h=i.n(d);l.a.extend(u.a),l.a.extend(h.a);var p={props:{mode:{type:String,default:"dateTime"},disabled:{type:Boolean,default:!1},date:{type:Number,default:new Date},publisher:{type:Boolean,default:!1},action:{type:String},id:{type:String},maxDate:{},timezoneInit:{type:Number}},data:function(){return{validHours:{},timezone:{value:{label:"本地时间",value:0},options:[{label:"本地时间",value:0},{label:"北京时间",value:1}]},select1:{value:new Date,attributes:[{}]},select2:{value:{label:"".concat((new Date).getHours()," 时"),value:(new Date).getHours()},options:new Array(24).join(".").split(".").map((function(t,e){return{label:"".concat(e," 时"),value:e}}))},select3:{value:{label:"".concat((new Date).getMinutes()," 分"),value:(new Date).getMinutes()},options:new Array(60).join(".").split(".").map((function(t,e){return{label:"".concat(e," 分"),value:e}}))}}},computed:{showTimeZone:function(){var t,e,i;return this.publisher&&"true"===(null===(t=window.$REFRESHCONIFG)||void 0===t||null===(e=t.data)||void 0===e||null===(i=e.ab_test)||void 0===i?void 0:i.pc_time_zone)&&"Asia/Shanghai"!==l.a.tz.guess()},handleMinDate:function(){return l()().toDate()},handleMaxDate:function(){return this.publisher?l()().add(7,"day").toDate():this.maxDate?this.maxDate:void 0}},components:{Multiselect:s.a},methods:{setDate:function(){this.timezoneInit&&(this.timezone.value={label:"北京时间",value:1});var t=l()(this.date);this.select1.value=t.toDate(),this.select2.value.value=t.hour(),this.select2.value.label="".concat(t.hour()," 时"),this.select3.value.value=t.minute(),this.select3.value.label="".concat(t.minute()," 分")},optionLabel:function(t){var e=t.label;return e},handleValue:function(){var t=this;this.timezone.value.value?l.a.tz.setDefault("Asia/Shanghai"):l.a.tz.setDefault();var e="schedule"===this.action&&this.id||!this.publisher?l()().tz():l()(this.date).tz(),i=l()().add(7,"day").tz(),a=l()(this.select1.value).tz(),o=function(){t.$nextTick((function(){t.select1.value=l()().add(10,"minute").toDate(),s()}))},n=function(){t.$nextTick((function(){t.select1.value=i.toDate(),s()}))},s=function(){t.$emit("select",{time:l()(t.select1.value).valueOf(),timezone:t.timezone.value.value})};a.date()===l()().date()?(this.validHours={min:e.hour()},(a.hour()===e.hour()&&a.minute()<e.minute()||a.hour()<e.hour())&&o()):l()().month()===a.month&&a.date()<l()().date()?(this.validHours={min:e.tz().hour()},o()):l()().month()===a.month&&a.date()===i.date()?(this.validHours={max:i.hour()},(a.hour()===i.hour()&&a.minute()>i.minute()||a.hour()>i.hour())&&n()):l()().month()===a.month&&a.date()>i.date()?(this.validHours={max:i.hour()},n()):this.validHours={},s()},dispatchValue:function(){var t=new Date(this.select1.value),e=new Date((new Date).getTime()+6048e5);if(this.select2.options=new Array(24).join(".").split(".").map((function(t,e){return{label:"".concat(e," 时"),value:e}})),this.select3.options=new Array(60).join(".").split(".").map((function(t,e){return{label:"".concat(e," 分"),value:e}})),this.select1.value.getDate()===(new Date).getDate()){var i="schedule"===this.action&&this.id||!this.publisher?new Date:new Date(this.date);this.select2.options=this.select2.options.filter((function(t){return t.value>=i.getHours()})),this.select2.value.value===(new Date).getHours()?this.select3.options=this.select3.options.filter((function(t){return t.value>=i.getMinutes()})):this.select3.options=new Array(60).join(".").split(".").map((function(t,e){return{label:"".concat(e," 分"),value:e}}))}else this.select1.value.getDate()===e.getDate()&&this.publisher&&(this.select2.options=this.select2.options.filter((function(t){return t.value<=e.getHours()})),this.select2.value.value===e.getHours()?this.select3.options=this.select3.options.filter((function(t){return t.value<e.getMinutes()})):this.select3.options=new Array(60).join(".").split(".").map((function(t,e){return{label:"".concat(e," 分"),value:e}})));this.maxDate&&(e=this.maxDate,this.select1.value.getDate()===e.getDate()&&(this.select2.options=this.select2.options.filter((function(t){return t.value<=e.getHours()})),this.select2.value.value===e.getHours()?this.select3.options=this.select3.options.filter((function(t){return t.value<e.getMinutes()})):this.select3.options=new Array(60).join(".").split(".").map((function(t,e){return{label:"".concat(e," 分"),value:e}})))),t.setHours(this.select2.value.value),t.setMinutes(this.select3.value.value),t.setSeconds(0),this.$emit("select",t.getTime())}},watch:{disabled:function(){this.$refs.select1.$children[0].$el.disabled=this.disabled},"timezone.value":function(){this.handleValue()},"select1.value":function(){this.showTimeZone?this.handleValue():this.dispatchValue()},"select2.value":function(){this.dispatchValue()},"select3.value":function(){this.dispatchValue()}},mounted:function(){this.dispatchValue(),this.date&&this.setDate(),this.$refs.select1.$children[0].$el.disabled=this.disabled}},f=p,m=(i("8dd5"),i("9c5e"),i("484c")),v=i("2877");function _(t){this["$style"]=m["default"].locals||m["default"]}var g=Object(v["a"])(f,a,o,!1,_,null,null);e["a"]=g.exports},"5fc1":function(t,e,i){t.exports={album:"ProfileAlbum_album_1RhEw",tit:"ProfileAlbum_tit_3iMm6",item:"ProfileAlbum_item_2bkJV",date:"ProfileAlbum_date_1kCr6",m:"ProfileAlbum_m_24O4p",y:"ProfileAlbum_y_2dSeV",ul:"ProfileAlbum_ul_11Z3L",box:"ProfileAlbum_box_2moJW",gif:"ProfileAlbum_gif_2U8bY",live:"ProfileAlbum_live_3i9jh",time:"ProfileAlbum_time_1hOju",placelist:"ProfileAlbum_placelist_3hJ6K",gifVideo:"ProfileAlbum_gifVideo_1SSrK",gifVideoWrap:"ProfileAlbum_gifVideoWrap_163JL"}},"5fc8":function(t,e,i){t.exports={pic:"VPlus_pic_H5xmq",icon:"VPlus_icon_2yneQ",bubble:"VPlus_bubble_25zkC",triangle:"VPlus_triangle_1xAuM",itemin:"VPlus_itemin_309nn",svg:"VPlus_svg_2MUTY",text:"VPlus_text_RvllB",disabled:"VPlus_disabled_2vQxl",file:"VPlus_file_n7Xjc"}},"5fde":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-button",{class:t.$style.followbtn,attrs:{sort:"line",size:"s",disabled:t.newFollowing,kind:t.newFollowing?"default":"primary"},nativeOn:{click:function(e){return e.stopPropagation(),t.follow(e)}}},[i("woo-fonticon",{class:t.$style.icon,attrs:{value:t.newFollowing?"check":"add"}}),t._v(" "+t._s(t.newFollowing?"已关注":"关注")+" ")],1)},o=[],n=(i("a623"),i("d81d"),i("d3b7"),i("3ca3"),i("ddb0"),i("5530")),s=i("b12a"),r={props:["following","followings","uid","uids","followcardid","uicode","fid","page","mark","rid","monitor_url"],name:"follow-btn",data:function(){return{newFollowing:this.followings?this.followings.every((function(t){return t})):this.following}},mixins:[s["a"]],watch:{following:function(t){this.newFollowing=this.followings?this.followings.every((function(t){return t})):t},followings:function(t){this.newFollowing=t.every((function(t){return t}))}},methods:{follow:function(){var t=this,e={friend_uid:this.uid,followcardid:this.followcardid,uicode:this.uicode,fid:this.fid,page:this.page};this.mark&&(e=Object(n["a"])(Object(n["a"])({},e),{},{mark:this.mark,rid:this.rid}),this.thirdMonitor(this.monitor_url,"click")),this.uids?Promise.all([this.uids.map((function(e){return t.$http.post("/ajax/friendships/create",{friend_uid:e,followcardid:t.followcardid,uicode:t.uicode,fid:t.fid,page:t.page}).catch((function(){}))}))]).then((function(e){t.$_w_toast({type:"success",message:"关注成功"}),t.newFollowing=!t.newFollowing,t.$emit("updateFollowing",t.newFollowing)})):this.$http.post("/ajax/friendships/create",e).then((function(e){e.data&&e.data.ok>0&&(t.$_w_toast({type:"success",message:"关注成功"}),t.newFollowing=!t.newFollowing,t.$emit("updateFollowing",t.newFollowing))})).catch((function(){}))}}},l=r,c=i("6d1f"),u=i("2877");function d(t){this["$style"]=c["default"].locals||c["default"]}var h=Object(u["a"])(l,a,o,!1,d,null,null);e["a"]=h.exports},6019:function(t,e,i){"use strict";var a=i("2f22"),o=i.n(a);e["default"]=o.a},6061:function(t,e,i){t.exports={btn:"IconBox_btn_10GoC",wrap:"IconBox_wrap_W3Oz_",icon:"IconBox_icon_1dS2Y",pub:"IconBox_pub_1zIJ8",aria:"IconBox_aria_3Dj8o",item:"IconBox_item_31D9Z"}},"60a6":function(t,e,i){"use strict";var a=i("b7d6"),o=i.n(a);e["default"]=o.a},6109:function(t,e,i){t.exports={file:"CropperPop_file_24GDE",editbox:"CropperPop_editbox_3-S0s",tip:"CropperPop_tip_3WsYw"}},6187:function(t,e,i){t.exports={wrap:"Frame_wrap_3g67Q",top:"Frame_top_2ybWw",content:"Frame_content_3XrxZ",noside1:"Frame_noside1_3M1rh",noside2:"Frame_noside2_1lBwY",side:"Frame_side_3G0Bf",narrow:"Frame_narrow_NKDio"}},"61e0":function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_nav_game",use:"woo_svg_nav_game-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="woo_svg_nav_game"><path d="M7.838 1.001a2.024 2.024 0 011.571.658c.184.215.325.463.416.731.037.124.067.25.087.378.023.204.024.41.005.613l.167-.056c.294-.094.595-.162.9-.204a3.64 3.64 0 011.787.123c.497.188.908.551 1.157 1.021.238.592.254 1.25.045 1.852.611.233 1.15.622 1.563 1.129a3.2 3.2 0 01.682 1.886c.017.6-.118 1.194-.393 1.728l-.074.117c-.082.17-.177.333-.284.488a7.783 7.783 0 01-.308.415 7.576 7.576 0 01-1.633 1.471 8.804 8.804 0 01-2.362 1.16c-.918.273-1.866.434-2.823.477C8.133 15 7.95 15 7.764 15a11.09 11.09 0 01-2.413-.25 8.98 8.98 0 01-2.557-.99 6.422 6.422 0 01-1.76-1.39l-.1-.122-.06-.074a4.1 4.1 0 01-.844-2.14A7.956 7.956 0 010 9.276c.036-.6.165-1.19.383-1.75.236-.627.54-1.225.904-1.786.392-.595.832-1.157 1.317-1.679a12.362 12.362 0 012.382-2.057c.19-.124.392-.245.58-.346.212-.115.43-.216.654-.304a4.532 4.532 0 011.618-.354zM5.168 6.9a.738.738 0 00-.738.738v.738h-.841a.738.738 0 10.103 1.472h.738v.738l.007.1a.738.738 0 001.47-.1v-.738h.737l.1-.004a.738.738 0 00-.1-1.474h-.738v-.732l-.006-.1a.738.738 0 00-.732-.638zm5.167 2.942a.738.738 0 100 1.476.738.738 0 000-1.476zM8.86 8.37a.738.738 0 100 1.476.738.738 0 000-1.476zm2.953 0a.738.738 0 100 1.476.738.738 0 000-1.476zm-1.477-1.476a.738.738 0 100 1.476l.1-.007a.738.738 0 00-.1-1.47z" fill="currentColor" fill-rule="evenodd" /></symbol>'});s.a.add(r);e["default"]=r},"624e":function(t,e,i){},"62ab":function(t,e,i){t.exports={box:"PublisherMcomment_box_2opBv",del:"PublisherMcomment_del_2ZKFx",star:"PublisherMcomment_star_1r8j9",ssout:"PublisherMcomment_ssout_3JOYt",icon:"PublisherMcomment_icon_1yHoa",ss2:"PublisherMcomment_ss2_2LKsF",gap:"PublisherMcomment_gap__Jmpe"}},"62d0":function(t,e,i){"use strict";var a=i("8ab1"),o=i.n(a);e["default"]=o.a},"62fe":function(t,e,i){t.exports={item:"FollowPop_item_1GgQ0"}},"632c":function(t,e,i){},"63a6":function(t,e,i){"use strict";(function(t){i("d3b7"),i("3ca3"),i("ddb0"),i("2b3d");var a=i("a026"),o={},n=function(){try{var e=new t.URL("b","http://a");return e.pathname="c%20d","http://a/c%20d"===e.href&&e.searchParams}catch(i){return!1}};if(n()){var s=new URL(window.location.href),r=s.searchParams.get("theme");o.install=function(){if(r){var t=document.documentElement;t&&(t.dataset.theme=r)}},a["default"].use(o)}e["a"]=o}).call(this,i("c8ba"))},"641d":function(t){t.exports=JSON.parse('{"act_code":{"refresh":5006,"visit":4288,"follow":14000008,"publish":4867,"repost":4868,"comment":4869,"attitude":4870,"fastRepost":4871,"videoPlay":4872,"searchSubmit":4873,"click":4874,"enterDetail":6458,"creatorCardVisit":6841,"creatorCardClick":6842},"uicode":{"audio":30000840,"home":20000390,"detail":20000391,"myProfile":20000392,"profile":20000393,"topNavBar":20000394,"videoPlayer":20000395,"videoLayer":20000396,"iamgeLayer":20000397,"myFollows":20000416,"follows":20000417,"myFans":20000418,"fans":20000419,"fav":20000420,"myLike":20000421,"profileHomeTab":20000422,"profileBlogTab":20000423,"profileVideoTab":20000424,"profileTimyVideoTab":20000425,"profileImageAlbumTab":20000426,"profileArticleTab":20000427,"hotWeiboTab":20000405,"hotListTab":20000406,"hotTopicTab":20000407,"hotWordTab":20000408,"searchResult":20000428,"publisher":20000398,"qPublisher":20000399,"forwardComposer":20000400,"composer":20000401,"messgaeSummary":20000409,"messgaeSummaryDetail":20000410,"messageAt":20000411,"messageComment":20000412,"messageLike":20000413,"messageChat":20000414,"messageGroupNotice":20000415,"manageDataserviceQuery":20000432},"fid":{"home":232150,"detail":232152,"myProfile":232180,"profile":232182,"topNavBar":232154,"videoPlayer":232164,"videoLayer":232156,"iamgeLayer":232158,"myFollows":232204,"follows":232206,"myFans":232208,"fans":232210,"fav":232212,"myLike":232214,"profileHomeTab":232216,"profileBlogTab":232218,"profileVideoTab":232220,"profileTimyVideoTab":232222,"profileImageAlbumTab":232224,"profileArticleTab":232226,"hotWeiboTab":232184,"hotListTab":232186,"hotTopicTab":232188,"hotWordTab":232191,"searchHot":232294,"searchUser":232292,"searchNow":232290,"searchAtten":232288,"searchVideo":232286,"searchImage":232284,"searchTopic":232282,"publisher":232160,"qPublisher":232166,"forwardComposer":232168,"composer":232174,"messgaeSummary":232192,"messgaeSummaryDetail":232194,"messageAt":232196,"messageComment":232198,"messageLike":232200,"messageChat":232202,"messageGroupNotice":232178}}')},6445:function(t,e,i){t.exports={stit:"FollowContent_stit_2LFWx",stbtn:"FollowContent_stbtn_2WkHD",stopt:"FollowContent_stopt_2GSkt",popBtn:"FollowContent_popBtn_1d7yL"}},"645f":function(t,e,i){t.exports={tip:"RepostCommentList_tip_2O5W-",mar1:"RepostCommentList_mar1_3VHkS",mar2:"RepostCommentList_mar2_bSuVs",mar3:"RepostCommentList_mar3_2rWGV",tab:"RepostCommentList_tab_qC-oC",bed1:"RepostCommentList_bed1_nvwRi",opt:"RepostCommentList_opt_doZh1",link:"RepostCommentList_link_3pk67",divider:"RepostCommentList_divider_3sMGv",more:"RepostCommentList_more_2wwY5",moreText:"RepostCommentList_moreText_3GFMI",icon2:"RepostCommentList_icon2_31eFD",tipbox:"RepostCommentList_tipbox_1_e7B"}},"64c1":function(t,e,i){"use strict";var a=i("d764"),o=i.n(a);e["default"]=o.a},"64cb":function(t,e,i){"use strict";var a=i("a65d"),o=i.n(a);e["default"]=o.a},6536:function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_nav_logo",use:"woo_svg_nav_logo-usage",viewBox:"0 0 90 30",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 90 30" id="woo_svg_nav_logo"><mask id="woo_svg_nav_logo_a" fill="#fff"><path d="M.257.642h24.837v18.902H.257z" fill-rule="evenodd" /></mask><mask id="woo_svg_nav_logo_b" fill="#fff"><path d="M.28.654h5.148v4.971H.28z" fill-rule="evenodd" /></mask><mask id="woo_svg_nav_logo_c" fill="#fff"><path d="M.57.654h4.795v4.971H.571z" fill-rule="evenodd" /></mask><g fill="none" fill-rule="evenodd"><path d="M2.715 20.11c0 4.203 5.6 7.613 12.506 7.613 6.907 0 12.506-3.41 12.506-7.613s-5.6-7.612-12.506-7.612c-6.907 0-12.506 3.409-12.506 7.612" fill="#fefefe" /><path d="M15.513 27.102c-6.114.59-11.39-2.111-11.788-6.035-.397-3.922 4.239-7.581 10.35-8.172 6.115-.591 11.39 2.11 11.789 6.032.395 3.924-4.238 7.584-10.35 8.175M27.74 14.078c-.521-.152-.878-.255-.604-.924.59-1.45.65-2.701.011-3.593-1.2-1.675-4.48-1.584-8.239-.045 0-.001-1.18.505-.878-.41.579-1.818.49-3.34-.409-4.219-2.039-1.995-7.464.075-12.115 4.62C2.023 12.914 0 16.523 0 19.643c0 5.97 7.831 9.598 15.492 9.598 10.043 0 16.724-5.702 16.724-10.231 0-2.737-2.358-4.29-4.476-4.932" fill="#d52c2b" /><path d="M34.409 3.154C31.984.526 28.405-.476 25.103.21c-.764.16-1.251.894-1.088 1.64.162.747.914 1.224 1.678 1.063 2.35-.487 4.891.226 6.617 2.093a6.687 6.687 0 011.452 6.647c-.241.727.165 1.505.91 1.74.743.235 1.54-.162 1.782-.888V12.5a9.393 9.393 0 00-2.045-9.346" fill="#e79115" /><path d="M30.684 6.44c-1.181-1.28-2.923-1.766-4.532-1.432a1.188 1.188 0 00-.935 1.413c.14.64.787 1.053 1.442.913v.002a2.366 2.366 0 012.217.698c.578.626.733 1.479.484 2.227h.002a1.187 1.187 0 00.783 1.5c.64.199 1.326-.142 1.532-.768a4.57 4.57 0 00-.993-4.553" fill="#e79115" /><path d="M15.85 19.996c-.213.358-.686.53-1.057.38-.364-.146-.479-.545-.27-.897.212-.349.666-.52 1.03-.378.369.131.501.535.297.895m-1.947 2.445c-.593.921-1.859 1.325-2.812.9-.94-.418-1.217-1.49-.626-2.388.583-.897 1.808-1.295 2.754-.907.958.4 1.263 1.463.684 2.395m2.22-6.526c-2.909-.741-6.197.676-7.46 3.183-1.287 2.555-.042 5.392 2.897 6.32 3.043.96 6.632-.512 7.88-3.269 1.23-2.697-.306-5.474-3.317-6.234" fill="#060101" /><path d="M46.554 12.454h7.399l.395-1.29H46.95zM55.267 9.389l1.486-4.93h-1.5l-1.087 3.615h-1.873l1.533-5.092h-1.404l-1.535 5.092h-1.873l1.09-3.615h-1.407l-1.483 4.93zM41.457 9.968c2.483-1.869 5.654-4.619 7.63-6.98l-1.773.017c-1.483 1.737-3.052 3.15-5.108 4.74zM54.081 16.004s-1.62 1.103-2.674 1.694l1.04-3.389s-6.166-.039-6.276 0c-.391 1.804-.789 3.68-2.548 4.992a31.478 31.478 0 01-.703 2.279c1.918-1.576 3.196-2.116 4.206-5.495l.148-.485h3.279l-.545 1.775c-.188.807-1.175 1.695-1.175 1.695l.778 1.13c.55-.378 3.965-2.374 3.965-2.374zM47.165 8.29h-1.501a44.707 44.707 0 01-5.383 5.433l-.677 2.165c0 .018-.002.037 0 .055.331-.269.895-.744 1.48-1.23.603-.538 1.031-.913 1.283-1.13l-2.523 8.23h1.5l3.167-10.326c.842-.916 2.015-2.3 2.654-3.198" fill="currentColor" /><path d="M57.798 14.874c-.269-1.775-.073-4.033.582-6.775a3.29 3.29 0 00.262-.244h2.715c-1.125 2.853-2.312 5.192-3.56 7.02zm1.732-8.391c.836-1.12 1.555-2.487 2.026-3.496h-1.46c-1.67 3.01-2.393 4.33-4.478 6.714-.222.776-.402 1.4-.728 2.434.499-.416 1.187-.977 1.573-1.455-.349 2.15-.35 4.087-.003 5.807-1.048 1.185-1.265 1.568-3.852 3.29-.262.862-.36 1.102-.733 2.198 2.321-1.668 3.952-3.012 4.89-4.035.615 1.453 2.02 2.933 2.985 4.063.324-.822.363-.913.67-1.727-1.29-1.29-2.183-2.955-2.367-3.79 1.671-1.988 3.272-4.866 4.801-8.63h1.311l.42-1.373z" fill="currentColor" /><path d="M20.934 6.474H16.72l-.397 1.292h4.216zm-4.981 2.501l-.396 1.292h4.214l.397-1.292zM10.82 6.474l-.396 1.292h4.307l.397-1.292zm-.767 2.501l-.396 1.292h4.308l.395-1.292zm11.95-6.293h3.09l-.397 1.292h-7.21l-.397 1.29h5.808l-2.255 7.37h-1.592l.35-1.158h-4.216l-.342 1.156h-1.59l.342-1.156H9.287l-.36 1.179H7.331L9.6 5.263h5.9l.394-1.289H8.871l.397-1.292h7.024l.637-2.04h1.591l-.637 2.04h3.84zM7.953 16.025l1.478-.733a27.158 27.158 0 012.25 2.266l-1.53.64c-.58-.7-1.312-1.421-2.198-2.173zm-2.638-2.29h11.612l.346-1.128h1.686l-.346 1.129h3.652l-.37 1.209h-3.654l-.693 2.261c-.367 1.395-1.517 2.096-3.453 2.096-1.122 0-2.324-.027-2.324-.027s.241-.748.408-1.376c.939.06 1.838.031 2.15.031.938 0 1.464-.296 1.584-.887l.643-2.098H4.945zM6.036.643h1.687L6.101 5.991h2.153l-.421 1.37H5.679L1.943 19.545H.257L3.993 7.362H1.746l.42-1.371h2.248z" fill="currentColor" mask="url(#woo_svg_nav_logo_a)" transform="translate(63.296 2.326)" /><path d="M85.613 5.388h-1.6l.543-1.747h1.6z" fill="currentColor" /><g fill="currentColor"><path d="M44.627 24.692l.012-.02-.687.01-1.225 1.931-1 1.548-.17-3.489-.759.01-1.161 1.906-.968 1.556-.135-3.472-.794.02h-.027l.22 4.692.719-.009 1.15-1.898.96-1.552.17 3.46h.765l1.925-3.083 1.017-1.61z" /><path d="M4.497 2.644l-2.177.019h-.747c.172-.446.419-.687.761-.928a1.984 1.984 0 011.158-.385c.302 0 .542.07.712.21.397.42.346.828.293 1.084M3.662.654c-.712 0-1.382.233-1.992.692A3.472 3.472 0 00.414 3.16c-.22.732-.17 1.332.15 1.784.319.452.854.682 1.589.682A3.3 3.3 0 003.73 5.23c.428-.228.767-.515 1.012-.867.035-.047.074-.092.106-.14l-.008-.001.012-.018-.753-.131c-.413.545-.896.767-1.668.767-.37 0-.69-.122-.952-.364-.23-.215-.337-.512-.128-1.252l3.913-.014c.245-.843.216-1.487-.085-1.912C4.88.87 4.367.654 3.662.654" mask="url(#woo_svg_nav_logo_b)" transform="translate(44.115 23.888)" /><path d="M51.318 24.687l-1.085 3.664-.305 1.013h.005l-.005.02h.848l1.09-3.68.305-1.012h-.006l.006-.02zM52.692 23.05h-.006l.006-.02-.915.014-.23.81-.066.213h.006l-.006.019h.912l.232-.822zM56.795 27.093c-.167.538-.43.968-.782 1.278-.352.308-.744.465-1.162.465-.327 0-.608-.104-.837-.312-.227-.205-.29-.542-.187-.999l.315-1.02c.17-.377.433-.685.783-.92.35-.236.702-.355 1.048-.355.442 0 .728.161.873.491.146.331.128.791-.05 1.372m-.511-2.551c-.534 0-1.04.203-1.492.596a3.688 3.688 0 00-.335.305l.546-1.875.157-.519h-.006l.006-.018-.853.014-1.472 4.945-.414 1.374h.005l-.005.02.654-.013.148-.439.121-.317c.215.595.69.898 1.415.898.657 0 1.269-.239 1.82-.71s.937-1.062 1.146-1.758c.244-.808.22-1.434-.069-1.86-.29-.426-.752-.643-1.372-.643M62.432 27.005c-.192.606-.48 1.059-.853 1.345-.374.286-.775.43-1.193.43-.411 0-.718-.136-.913-.407-.193-.27-.19-.728.01-1.361.19-.601.475-1.045.846-1.32.369-.277.764-.416 1.172-.416.394 0 .699.136.908.407.207.27.216.714.023 1.322m-.718-2.463c-.69 0-1.346.226-1.943.672s-1.015 1.047-1.24 1.792c-.213.707-.184 1.306.086 1.784.273.48.785.723 1.525.723.73 0 1.404-.234 2.004-.696a3.5 3.5 0 001.235-1.796c.212-.701.174-1.295-.113-1.767s-.81-.712-1.554-.712M64.135 28.322l-.229.828-.064.214h.006l-.006.02h1.203l.233-.84.066-.216h-.006l.006-.02z" /><path d="M3.761.654c-.704 0-1.342.239-1.894.71A3.71 3.71 0 00.713 3.146C.506 3.832.526 4.423.77 4.902c.247.48.75.723 1.492.723a2.72 2.72 0 001.507-.443c.405-.26.73-.62.973-1.078.028-.05.06-.097.088-.15l-.007-.001c.003-.006.008-.011.01-.018l-.74-.106c-.405.756-.9 1.093-1.6 1.093-.435 0-.726-.164-.866-.486-.16-.358-.156-.765.01-1.32.152-.5.328-.906.695-1.267.353-.342.726-.502 1.174-.502.377 0 .654.094.823.279.16.174.219.437.207.788v.018h.001c0 .007.003.011.002.019l.809-.142c.06-.482-.043-.885-.305-1.192C4.78.809 4.348.654 3.76.654" mask="url(#woo_svg_nav_logo_c)" transform="translate(66.173 23.888)" /><path d="M85.231 24.82c-.222-.185-.522-.277-.889-.277-.615 0-1.176.257-1.665.75a3.627 3.627 0 00-.346.369 1.067 1.067 0 00-.285-.784c-.206-.223-.508-.335-.898-.335-.558 0-1.089.227-1.57.668-.123.106-.244.22-.363.35l.188-.686.055-.183h-.005l.005-.02-.735.015-1.086 3.664-.305 1.013h.005l-.005.02.815-.015.844-2.795c.119-.397.34-.584.69-.854.335-.262.682-.394 1.03-.394a.85.85 0 01.617.248c.162.158.196.29.07.708l-.708 2.42-.2.662h.004l-.004.02.825-.015.794-2.63c.151-.5.403-.749.788-1.012.366-.25.71-.377 1.023-.377.224 0 .41.06.551.182.143.122.215.252.218.396.001.108-.02.177-.07.33l-.061.195-.67 2.287-.189.624h.006l-.006.02h.827l.881-2.92c.132-.438.19-.766.179-1.004-.013-.24-.132-.454-.355-.64M75.842 27.005c-.192.606-.478 1.059-.852 1.345-.374.286-.776.43-1.193.43-.412 0-.719-.136-.913-.407-.194-.27-.19-.728.01-1.361.191-.601.475-1.045.845-1.32.37-.277.764-.416 1.172-.416.394 0 .7.136.908.407.207.27.216.714.023 1.322m-.717-2.463c-.692 0-1.346.226-1.944.672a3.416 3.416 0 00-1.24 1.792c-.213.707-.184 1.306.086 1.784.274.48.786.723 1.525.723.73 0 1.404-.234 2.005-.696a3.512 3.512 0 001.236-1.796c.212-.701.173-1.295-.114-1.767-.288-.472-.81-.712-1.554-.712" /></g></g></symbol>'});s.a.add(r);e["default"]=r},"65a0":function(t,e,i){t.exports={container:"Viewer_container_1TaVY",status:"Viewer_status_1sqFK",high:"Viewer_high_mQpkT",low:"Viewer_low_2yVwv",content:"Viewer_content_2n9Yd",longPic:"Viewer_longPic_1nZoe",loading:"Viewer_loading_XhRSU",backButton:"Viewer_backButton_Z14BC",backIcon:"Viewer_backIcon_11GpS",tools:"Viewer_tools_AoqLL",download:"Viewer_download_d7Q0f",textButton:"Viewer_textButton_1I20J",textIcon:"Viewer_textIcon_3Fuos",wrap:"Viewer_wrap_wiuaz",angles:"Viewer_angles_3n_DG",angleBtn:"Viewer_angleBtn_xILdQ",angleLeft:"Viewer_angleLeft_3albN",angleRight:"Viewer_angleRight_18nht",boldBtn:"Viewer_boldBtn_39S3P",imgElm:"Viewer_imgElm_3_IRH",pay:"Viewer_pay_28u03",openBtn:"Viewer_openBtn_kWlbL",infos:"Viewer_infos_3YXuR",infosIcon:"Viewer_infosIcon_rfTpL",infoBlock:"Viewer_infoBlock_11E8r",prevList:"Viewer_prevList_2m7LM",arrow:"Viewer_arrow_ptIFz",prevItem:"Viewer_prevItem_HzaWB",prevPay:"Viewer_prevPay_108J2",prevImg:"Viewer_prevImg_2yDpp",active:"Viewer_active_2Bpnz",prevBorder:"Viewer_prevBorder_3Zepk",prev:"Viewer_prev_1vjvD",next:"Viewer_next_2ZBDS",video:"Viewer_video_32m2K",videoContainer:"Viewer_videoContainer_3Qt7B",show:"Viewer_show_8yAOl"}},"65ac":function(t,e,i){t.exports={cut2:"AudioCard_cut2_3eZyq",cardM:"AudioCard_cardM_3tszt",cpic:"AudioCard_cpic_2DVUl",ccut:"AudioCard_ccut_1qKhV",cardS:"AudioCard_cardS_3dEtV",t1:"AudioCard_t1_1hruM",t2:"AudioCard_t2_123TQ",cbtn:"AudioCard_cbtn_1dwlR",cl:"AudioCard_cl_3bMNc",icon:"AudioCard_icon_1ZTON"}},"662c":function(t,e,i){t.exports={box:"Monograph_box_2GW4h",bt:"Monograph_bt_eP7N9",bi1:"Monograph_bi1_3ZH7H",bi2:"Monograph_bi2_re2LK"}},"664d":function(t,e,i){"use strict";var a=i("9d96"),o=i.n(a);e["default"]=o.a},6651:function(t,e,i){t.exports={vip:"IconFans_vip_Vk3-M",fans:"IconFans_fans_dNNKy",fansin:"IconFans_fansin_2OH05",bigfans:"IconFans_bigfans_1STkC",bigfans1:"IconFans_bigfans1_3xUfV",bigfans2:"IconFans_bigfans2_12GEq",bigfans3:"IconFans_bigfans3_dJrkb",bigfans4:"IconFans_bigfans4_NSlg1",bigfans5:"IconFans_bigfans5_26Rvd",bigfans6:"IconFans_bigfans6_3uLbC",bigfans7:"IconFans_bigfans7_JYyJ2",author:"IconFans_author_2wiC3",custom:"IconFans_custom_2-Vwf",cursor:"IconFans_cursor_171Le"}},6654:function(t,e,i){t.exports={loyal:"Comment_loyal_3y_Ld",vip:"Comment_vip_3x_Ay",button:"Comment_button_3ecUi",cursor:"Comment_cursor_2D2XL",toreply:"Comment_toreply_wbBX8",associate_text:"Comment_associate_text_3jv43"}},6662:function(t,e,i){"use strict";var a=i("c57b"),o=i.n(a);e["default"]=o.a},6689:function(t,e,i){},6701:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.container},[i("div",{class:t.$style.wrap},[Object.keys(t.data).length?i("div",{class:t.$style.main},[i("DynamicScroller",{class:t.$style.scroller,attrs:{items:t.data,"min-item-size":300,buffer:t.buffer,keyField:"scrollid","page-mode":t.pageMode,id:"scroller"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.item,o=e.index,n=e.active;return[i("DynamicScrollerItem",{staticClass:"wbpro-scroller-item",attrs:{item:a,active:n,"data-index":o,"data-active":n,"size-dependencies":t.sizeDependenciesVal(a)}},[t._t("content",null,{item:a,index:o})],2)]}},{key:"after",fn:function(){return[t.retry||t.loading||t.loadMoreManuel?i("Card",{class:[t.isInCards&&t.$style.isInCards,t.isInCard&&t.$style.isInCard],attrs:{bottomGap:!1}},[i("woo-box",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:t.handleVisibilityChange,intersection:{rootMargin:t.buffer+"px 0px"}},expression:"{\n                callback: handleVisibilityChange,\n                intersection: {\n                  rootMargin: `${buffer}px 0px`\n                }\n              }"}],class:t.$style.nextPage,attrs:{align:"center",justify:"center"}},[t.retry?i("woo-tip",{class:t.$style.tipbox,attrs:{type:"warn",sort:"simple"},nativeOn:{click:function(e){return t.handleRetry(e)}}},[t._v("内容加载失败，请点击重试 ")]):t.loadMoreManuel?i("woo-tip",{class:t.$style.tipbox,attrs:{type:"none",sort:"simple"},nativeOn:{click:function(e){return t.handleLoadMoreManuel(e)}}},[t._v("点击加载更多... ")]):t.loading?i("woo-spinner",{class:t.$style.loadingIcon}):t._e()],1)],1):t._e()]},proxy:!0}],null,!0)})],1):t._e(),t._t("afterContent"),Object.keys(t.data).length&&t.nodata&&!t.loading&&t.showScrollBottom?i("Bottom",{attrs:{text:t.noDataText}}):t.notLoginText&&!t.loading&&t.showNotLoginBottom?i("Bottom",{attrs:{text:t.notLoginText,click:!0},on:{handleBottomText:function(e){return t.handleBottomText()}}}):t.empty?[i("Card",{attrs:{bottomGap:!1}},[i("woo-box",{class:t.$style.empty,attrs:{align:"center",justify:"center"}},[i("woo-tip",{attrs:{type:"warn",sort:"vertical"}},[t._v(t._s(t.emptyText))])],1)],1)]:0==t.data.length?[t.skeleton?t._l(4,(function(t){return i("Skeleton",{key:t})})):[t.loading?i("woo-box",{class:t.$style.initLoad,attrs:{justify:"center"}},[i("woo-spinner",{class:t.$style.loadingIcon})],1):t._e()]]:t._e()],2)])},o=[],n=(i("c975"),i("d81d"),i("a9e3"),i("ac1f"),i("1276"),i("b85c")),s=i("da58"),r=i("0d47"),l={name:"Scroll",props:{data:Array,keyField:String,isLoading:{type:Boolean,default:!1},isRetry:{type:Boolean,default:!1},isEmpty:{type:Boolean,default:!1},emptyText:{type:String,default:"暂无内容"},isNoData:{type:Boolean,default:!0},noDataText:{type:String,default:"没有更多内容了"},notLoginText:{type:String,default:"请登录后查看更多精彩内容"},showNotLoginBottom:{type:Boolean,default:!1},showScrollBottom:{type:Boolean,default:!0},skeleton:{type:Boolean,default:!1},sizeDependencies:{type:Array,default:function(){return[]}},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!0},isInCards:{type:Boolean,default:!1},isInCard:{type:Boolean,default:!1},loadMoreManuel:{type:Boolean,default:!1}},data:function(){return{loading:this.isLoading,retry:this.isRetry,empty:this.isEmpty,nodata:this.isNoData}},mounted:function(){this.loading=this.isLoading,this.retry=this.isRetry,this.empty=this.isEmpty,this.nodata=this.isNoData},watch:{data:{handler:function(t){t&&t.map((function(t,e){t.scrollid=e}))},immediate:!0},isLoading:function(t){this.loading=t},isRetry:function(t){this.retry=t},isEmpty:function(t){this.empty=t},isNoData:function(t){this.nodata=t}},methods:{handleLoadMoreManuel:function(){this.$emit("loadMoreData")},handleVisibilityChange:function(t,e){this.loading&&t&&e&&this.data.length>0&&(this.isRetry=!1,this.$emit("loadMoreData","visibleChange"))},handleRetry:function(){this.$emit("loadMoreData")},sizeDependenciesVal:function(t){if(this.sizeDependencies&&this.sizeDependencies.length){var e=[];return this.sizeDependencies.map((function(i){if(i.indexOf(".")>-1){var a,o=i.split("."),s=t,r=Object(n["a"])(o);try{for(r.s();!(a=r.n()).done;){var l=a.value;if(!t[l]){e.push("");break}l!==o[o.length-1]?t=t[l]:(e.push(t[l]),t=s)}}catch(c){r.e(c)}finally{r.f()}}else e.push(t[i])})),e}return[]},handleBottomText:function(){this.$Bus.$emit("loginPop")}},components:{Skeleton:s["a"],Bottom:r["a"]}},c=l,u=(i("85c5"),i("fb31")),d=i("2877");function h(t){this["$style"]=u["default"].locals||u["default"]}var p=Object(d["a"])(c,a,o,!1,h,null,null);e["a"]=p.exports},"672f":function(t,e,i){"use strict";var a=i("39d7"),o=i.n(a);e["default"]=o.a},"674c":function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_loading2",use:"woo_svg_loading2-usage",viewBox:"0 0 1024 1024",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" id="woo_svg_loading2"><circle clip-rule="evenodd" fill="currentColor" fill-rule="evenodd" cx="110.2" cy="512" r="85"><animate attributeName="cy" values="512;372;512;512;512;512" dur="1s" begin="0s" repeatCount="indefinite"></animate></circle><circle clip-rule="evenodd" fill="currentColor" fill-rule="evenodd" cx="512" cy="512" r="85"><animate attributeName="cy" values="512;442;372;442;512;512;512;512;512;512;512;" dur="1s" begin="0.1s" repeatCount="indefinite"></animate></circle><circle clip-rule="evenodd" fill="currentColor" fill-rule="evenodd" cx="913.8" cy="512" r="85"><animate attributeName="cy" values="512;372;512;512;512;512;" dur="1s" begin="0.2s" repeatCount="indefinite"></animate></circle></symbol>'});s.a.add(r);e["default"]=r},6768:function(t,e,i){t.exports={tag:"UserTag_tag_1HxlL",highlight:"UserTag_highlight_1hGTM"}},6798:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.authorInfo.id?i("woo-box",{class:[t.$style.bg,t.type&&t.$style[""+t.type]],attrs:{align:"center",justify:"center",direction:"y"}},[i("img",{class:t.$style.imgtext,attrs:{src:"https://h5.sinaimg.cn/upload/1005/891/2021/06/15/afterpatchtext.png"}}),i("div",{class:t.$style.title},[t._v("我的微博视频号")]),i("woo-box",{class:t.$style.userinfo,attrs:{align:"center"}},[i("woo-avatar",{class:t.$style.avatar,attrs:{size:t.type?42:64,src:t.authorInfo.avatar_hd,verified:t.getWeiboVerifiedIcon(t.authorInfo)},nativeOn:{click:function(e){"bg1"!==t.type&&t.goProfile()}}}),i("woo-box",{class:t.$style.info,attrs:{direction:"y"}},[i("woo-box",{attrs:{align:"center"}},[i("span",{class:t.$style.name,on:{click:function(e){"bg1"!==t.type&&t.goProfile()}}},[t._v(t._s(t.authorInfo.screen_name))]),i("img",{class:t.$style.icon,attrs:{src:"https://h5.sinaimg.cn/upload/1059/799/2021/04/01/videotab.png"}})]),i("span",{class:t.$style.subtext},[t._v("粉丝 "+t._s(t.authorInfo.followers_count_str)+" | 关注 "+t._s(t.fanNumberFormat(t.authorInfo.friends_count)))])],1),t.showFollowBtn?i("FollowBtn",{attrs:{uid:t.authorInfo.id,following:t.authorInfo.following,followedBy:t.authorInfo.follow_me,cardid:t.cardid},on:{"is-following":function(e){t.authorInfo.following=!0}}}):t._e(),"bg1"===t.type?i("woo-button",{attrs:{size:"s",kind:"primary",fonticon:"add"}},[t._v(" 关注 ")]):t._e()],1),"bg1"!==t.type?i("div",{class:t.$style.replay,on:{click:t.replay}},[0!==t.countDown?i("span",[t._v(t._s(t.countDown)+"s ")]):i("span",[t._v("重播")])]):t._e()],1):t._e()},o=[],n=(i("99af"),i("fb6a"),i("a9e3"),i("460b")),s=i("cc8d"),r=i("8d7e"),l=i("ed09"),c={props:{type:{type:String},info:{type:Object,default:function(){return{}}},videoActive:{type:Boolean,default:!1},pageInfo:{type:Object,default:function(){return{}}},duration:{type:Number,default:5}},setup:function(t){var e=Object(l["p"])(t),i=e.videoActive,a=Object(l["d"])().proxy,o=Object(l["n"])(t.duration),c=null,u=!1,d=Object(r["b"])(["config"]),h=d.config,p=Object(l["a"])((function(){var e,i,a;return"bg1"===t.type?(null===(e=h.value)||void 0===e?void 0:e.user)||{}:(null===t||void 0===t||null===(i=t.pageInfo)||void 0===i||null===(a=i.media_info)||void 0===a?void 0:a.author_info)||{}})),f=Object(l["a"])((function(){var e,i,a;return"".concat(null===t||void 0===t||null===(e=t.pageInfo)||void 0===e||null===(i=e.page_id)||void 0===i?void 0:i.slice(0,6),"0018_").concat(encodeURIComponent(null===t||void 0===t||null===(a=t.pageInfo)||void 0===a?void 0:a.object_id))})),m=Object(l["a"])((function(){var t,e,i=null===(t=h.value)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.idstr;return p.value.idstr!==i})),v=function(){a.$router.push({name:"profile",params:{id:p.value.idstr}})},_=function(){a.$emit("replay")},g=function t(){if(o.value<1)return clearTimeout(c),void(c=null);u||(c=setTimeout((function(){o.value-=1,t()}),1e3))};return Object(l["s"])(i,(function(t){t?(u=!1,g()):c&&(u=!0)})),Object(l["k"])((function(){g()})),{replay:_,countDown:o,authorInfo:p,fanNumberFormat:n["a"],showFollowBtn:m,goProfile:v,getWeiboVerifiedIcon:s["a"],cardid:f}}},u=c,d=i("b371"),h=i("2877");function p(t){this["$style"]=d["default"].locals||d["default"]}var f=Object(h["a"])(u,a,o,!1,p,null,null);e["a"]=f.exports},6799:function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_replace",use:"woo_svg_replace-usage",viewBox:"0 0 1024 1024",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" id="woo_svg_replace"><path fill="currentColor" d="M920.822 813.436c8.324 0 15.072 6.747 15.072 15.072v45.216c0 8.324-6.748 15.072-15.072 15.072H634.458v80.86c0 2.35-.549 4.651-1.584 6.727l-1.909 2.922c-4.263 5.115-11.198 6.691-17.076 4.389l-4.152-2.46-169.375-141.149a15.07 15.07 0 01-5.423-11.578c0-6.936 4.686-12.779 11.065-14.533l4.007-.538h470.811zM804.016 59.847c38.647 0 70.499 29.092 74.852 66.57l.507 8.789V512h-75.359V135.205H163.465v753.589h226.077v75.359H163.465c-38.647 0-70.499-29.092-74.852-66.57l-.507-8.789V135.205c0-38.647 29.092-70.498 66.57-74.852l8.788-.507h640.552zm-47.78 507.973l4.152 2.46 169.376 141.147a15.07 15.07 0 015.423 11.578c0 6.936-4.686 12.779-11.065 14.533l-4.007.538H449.303c-8.324 0-15.072-6.747-15.072-15.072v-45.216c0-8.324 6.748-15.072 15.072-15.072l286.364-.075v-80.785c0-2.35.549-4.651 1.584-6.727l1.909-2.922c4.263-5.113 11.198-6.689 17.076-4.387zM544.028 436.641c8.324 0 15.072 6.748 15.072 15.072v45.216c0 8.324-6.748 15.072-15.072 15.072H272.735c-8.324 0-15.072-6.748-15.072-15.072v-45.216c0-8.324 6.748-15.072 15.072-15.072h271.293zm150.717-188.397c8.324 0 15.072 6.748 15.072 15.072v45.216c0 8.324-6.748 15.072-15.072 15.072h-422.01c-8.324 0-15.072-6.748-15.072-15.072v-45.216c0-8.324 6.748-15.072 15.072-15.072h422.01z" /></symbol>'});s.a.add(r);e["default"]=r},"67ff":function(t,e,i){t.exports={tit:"cardHotSearch_tit_2lo7I",btn:"cardHotSearch_btn_1Kf37"}},6882:function(t,e,i){"use strict";var a=i("d463"),o=i.n(a);e["default"]=o.a},"68bb":function(t,e,i){"use strict";var a=i("ef95"),o=i.n(a);e["default"]=o.a},"68d4":function(t,e,i){"use strict";var a=i("ff22"),o=i.n(a);e["default"]=o.a},"68f6":function(t,e,i){"use strict";var a=i("380d"),o=i.n(a);e["default"]=o.a},"68f8":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{class:t.$style.box,attrs:{align:"center",justify:"center",direction:"y"}},[i("woo-fonticon",{class:t.$style.icon,attrs:{value:"add"}}),t.label?i("div",{class:t.$style.text},[t._v(t._s(t.label))]):t._e(),i("input",{ref:"file",class:t.$style.file,attrs:{type:"file",accept:t.accept,multiple:""},on:{change:t.change}})],1)},o=[],n=i("ed09"),s={props:{label:{type:String,default:""},accept:{default:".jpg, .jpeg, .bmp, .gif, .png, .heif, .heic"}},emit:["change"],setup:function(t,e){var i=e.emit,a=Object(n["n"])(),o=function(t){i("change",t)},s=function(){Object(n["f"])((function(){a.value.click()}))};return{change:o,showFiles:s,file:a}}},r=s,l=i("0c87"),c=i("2877");function u(t){this["$style"]=l["default"].locals||l["default"]}var d=Object(c["a"])(r,a,o,!1,u,null,null);e["default"]=d.exports},"698b":function(t,e,i){"use strict";var a=i("7b97"),o=i.n(a);e["default"]=o.a},"69f31":function(t,e,i){"use strict";var a=i("05e3"),o=i.n(a);e["default"]=o.a},"6a74":function(t,e,i){t.exports={wrap:"FansDetail_wrap_v30dK",line:"FansDetail_line_3FGM4",item:"FansDetail_item_3Fq15",tit:"FansDetail_tit_14z4n",bed3:"FansDetail_bed3_1Obd4",bed32:"FansDetail_bed32_28DcJ",f14:"FansDetail_f14_2oXhi",cla:"FansDetail_cla_2x3qD",clb:"FansDetail_clb_14qRU",nodata:"FansDetail_nodata_2B_YG",back:"FansDetail_back_9F4OM",detail:"FansDetail_detail_3thWH",tips:"FansDetail_tips_2noLe",fansTips:"FansDetail_fansTips_2a6tN",iconEmpty:"FansDetail_iconEmpty_2Pi93",emptyCard:"FansDetail_emptyCard_1fwsd"}},"6a94":function(t,e,i){"use strict";var a=i("bdbc"),o=i.n(a);e["default"]=o.a},"6b32":function(t,e,i){"use strict";var a=i("6445"),o=i.n(a);e["default"]=o.a},"6b6c":function(t,e,i){"use strict";i.r(e);var a=i("0b70"),o=i("722e");e["default"]=[{path:"newlogin",name:"login",components:{main:a["a"],side:o["a"]},meta:{keepAlive:!0,channel:"hot"}}]},"6b71":function(t,e,i){t.exports={sideMain:"SideIndex_sideMain_3jrwf"}},"6ba7":function(t,e,i){t.exports={main:"Nav_main_32v4H",inner:"Nav_inner_1QCVO",title:"Nav_title_1pHFq"}},"6c3f":function(t,e,i){"use strict";i.d(e,"d",(function(){return c})),i.d(e,"a",(function(){return l})),i.d(e,"c",(function(){return u})),i.d(e,"b",(function(){return d}));i("99af"),i("c19f"),i("ace4"),i("d3b7"),i("ac1f"),i("3ca3"),i("5319"),i("1276"),i("5cc6"),i("9a8c"),i("a975"),i("735e"),i("c1ac"),i("d139"),i("3a7b"),i("d5d6"),i("82f8"),i("e91f"),i("60bd"),i("5f96"),i("3280"),i("3fcc"),i("ca91"),i("25a1"),i("cd26"),i("3c5d"),i("2954"),i("649e"),i("219c"),i("170b"),i("b39a"),i("72f7"),i("ddb0"),i("2b3d"),i("96cf");var a=i("1da1"),o=i("4328"),n=i.n(o),s=i("fc8e"),r=i.n(s),l=(i("7ec3"),i("5abd"),function(t){for(var e=0,i=0;i<t.length;i++){var a=t[i];/[^\x00-\xff]/.test(a)?e+=2:e+=1}return e}),c=function(t,e){for(var i="",a=0,o=0,n=t.length,s=/\uD83C|\uD83D/,r=0;r<t.length;r++){var l=t[r];if(/[^\x00-\xff]/.test(l)?a+=2:a+=1,n-o<3&&s.test(t[o])||a>2*e){s.test(i[i.length-1])&&(i=i.replace(/[\uD83C|\uD83D]$/,""));break}i+=l,o++}return i},u=function(t){return r.a.get("/ajax/multimedia/user_playlists_get?"+n.a.stringify(t)).then((function(t){return t.data}))},d=function(t,e){var i="/ajax/multimedia/publish_display_config";return t&&(i=i+"?oid="+t),r.a.get(i).then(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(i){var a,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=i.data.data,!e){t.next=12;break}return o="/ajax/multimedia/audio/publish_display_config",t.prev=3,t.next=6,r.a.get(o);case 6:n=t.sent,Object.assign(a,n.data.data),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](3);case 12:return t.abrupt("return",a);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}())}},"6cf2":function(t,e,i){"use strict";i("d81d"),i("a434");e["a"]={methods:{deleteWeiboInList:function(t,e){var i=-1;return e.map((function(e,a){e.idstr===t&&(i=a)})),i>-1&&e.splice(i,1),e}}}},"6cf9":function(t,e,i){t.exports={wrap:"title_wrap_3e__u",icon:"title_icon_3Wc-F",title:"title_title_1DVuO",trendsTitle:"title_trendsTitle_3BttD",more:"title_more_1wv26",titleBox:"title_titleBox_3bh5X",border:"title_border_3oCvT"}},"6d0b":function(t,e,i){t.exports={feed:"FeatureContent_feed_1ZQOu",footer:"FeatureContent_footer_2iXui",more:"FeatureContent_more_s32uZ",featureBlock:"FeatureContent_featureBlock_2qGQR"}},"6d1f":function(t,e,i){"use strict";var a=i("486a"),o=i.n(a);e["default"]=o.a},"6dec":function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));i("99af");var a=i("4328"),o=i.n(a),n=i("a026"),s=i("fc8e"),r=i.n(s);function l(t,e){t=o.a.stringify(t);var i="/ajax/log/action?type=pic&".concat(t,"&t=").concat((new Date).getTime());r.a.get(i)}var c={install:function(t){t.mixin({methods:{actionLog:l}})}};n["default"].use(c),e["b"]=c},"6e09":function(t,e,i){t.exports={box:"Aria_box_3ZDlW"}},"6e32":function(t,e,i){"use strict";var a=i("03ac"),o=i.n(a);e["default"]=o.a},"6e6a":function(t,e,i){t.exports={list:"User_list_2zeti",itemin:"User_itemin_24R0K",avatar:"User_avatar_3XibI",pic:"User_pic_3xDid",cut:"User_cut_3WwUB",opt:"User_opt_39hFR",btn:"User_btn_2RTHQ",pop:"User_pop_2gqSd",popwrap:"User_popwrap_2stML",popitem:"User_popitem_3nOAh",cursor:"User_cursor_2qTH-"}},"6f40":function(t,e,i){t.exports={select:"ImageSelect_select_1gNX0",container:"ImageSelect_container_2Mvp6",item:"ImageSelect_item_2C5DL",check:"ImageSelect_check_2hi4I",check_bg:"ImageSelect_check_bg_3bCtR",icon:"ImageSelect_icon_2g49v"}},"6f6b":function(t,e,i){"use strict";var a=i("6e6a"),o=i.n(a);e["default"]=o.a},"6f82":function(t,e,i){"use strict";var a=i("1625"),o=i.n(a);e["default"]=o.a},7011:function(t,e,i){"use strict";var a=i("a68a"),o=i.n(a);e["default"]=o.a},"70a0":function(t,e,i){t.exports={text:"CopyRight_text_W-XaK",item:"CopyRight_item_B5tHx",title:"CopyRight_title_SBQ4K",icon:"CopyRight_icon_1uc9j",content:"CopyRight_content_3NVLX",contentItem:"CopyRight_contentItem_2cb23",cricon:"CopyRight_cricon_3Apzk",arrow:"CopyRight_arrow_3rKJc",erweimaLayer:"CopyRight_erweimaLayer_3t49x",erweima:"CopyRight_erweima_1HEP8",aria:"CopyRight_aria_1Dnvr"}},"70b3":function(t,e,i){t.exports={line:"toolbarAnother_line_3JlBp",main:"toolbarAnother_main_3VSNc",side:"toolbarAnother_side_1RvJ5",item:"toolbarAnother_item_LM9pX",simple:"toolbarAnother_simple_1tX5O",btn:"toolbarAnother_btn_3TU1X",icon:"toolbarAnother_icon_3jSg0",left:"toolbarAnother_left_Fvh0j",right:"toolbarAnother_right_2NLdG",primary:"toolbarAnother_primary_1xsCV",slot:"toolbarAnother_slot_2Qawg",center:"toolbarAnother_center_hQYdB",num:"toolbarAnother_num_3UXmT",config:"toolbarAnother_config_aN7br",retweetIcon:"toolbarAnother_retweetIcon_3RfZ0",commentIcon:"toolbarAnother_commentIcon_1Uavg",iconWrap:"toolbarAnother_iconWrap_6wEJE",wrap:"toolbarAnother_wrap_307tJ",cur:"toolbarAnother_cur_15l51"}},"70e7":function(t,e,i){"use strict";e["a"]=function(t){return t<1e5?t:t>1e8?Math.ceil(t/1e6)/100+"亿":Math.floor(t/1e4)+"万"}},7116:function(t,e,i){"use strict";var a=i("2f6a"),o=i.n(a);e["default"]=o.a},7126:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{class:t.$style.box,attrs:{align:"center",justify:"center",direction:"y"}},[i("woo-fonticon",{class:t.$style.icon,attrs:{value:"add"}}),t.label?i("div",{class:t.$style.text},[t._v(t._s(t.label))]):t._e(),i("input",{ref:"file",class:t.$style.file,attrs:{type:"file",accept:".jpg, .jpeg, .bmp, .gif, .png, .heif, .heic",multiple:""},on:{change:t.change}})],1)},o=[],n={props:{label:{type:String,default:""}},methods:{change:function(t){this.$emit("change",t)},showFiles:function(){this.$refs.file.click()}}},s=n,r=i("cfec"),l=i("2877");function c(t){this["$style"]=r["default"].locals||r["default"]}var u=Object(l["a"])(s,a,o,!1,c,null,null);e["default"]=u.exports},7191:function(t,e,i){var a={"./home.js":"9f25","./hot.js":"b44a","./login.js":"6b6c","./message.js":"b746","./profile.js":"4fa5","./search.js":"808e","./setting.js":"34b3"};function o(t){var e=n(t);return i(e)}function n(t){if(!i.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}o.keys=function(){return Object.keys(a)},o.resolve=n,t.exports=o,o.id="7191"},"7191f":function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_place",use:"woo_svg_place-usage",viewBox:"0 0 1024 1024",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" id="woo_svg_place"><path fill="currentColor" d="M512.386 56.07c192.762.204 350.181 153.998 356.28 345.325l.183 11.524c0 87.804-55.301 204.488-147.569 341.371-41.241 60.966-85.391 119.914-131.88 176.126-16.985 21.344-41.907 34.677-69.059 37.113l-8.207.401c-30.524-.25-58.931-14.097-77.256-37.166a2298.48 2298.48 0 01-132.19-176.522c-92.236-136.835-147.537-253.518-147.537-341.323 0-196.638 159.846-356.641 356.501-356.849h.734zm-.697 70.405c-157.764.167-286.133 128.662-286.133 286.444 0 69.015 50.952 176.523 135.479 301.921 39.942 59.039 82.693 116.127 128.535 171.593 4.415 5.555 10.648 9.274 17.357 10.577l4.989.492 5.107-.49c5.089-.977 9.861-3.333 13.911-6.936l3.793-4.014a2224.985 2224.985 0 00128.206-171.174c84.56-125.447 135.512-232.956 135.512-301.971 0-154.276-122.727-280.552-275.66-286.244l-11.096-.198zm.351 108.297c98.32.11 177.998 79.787 178.108 178.187-.11 98.321-79.788 177.998-178.187 178.108-95.248-.107-172.999-74.885-177.867-168.947l-.241-9.161 35.189-.077-35.189-.003c.107-95.248 74.885-173 169.019-177.866l9.168-.241zm0 70.405c-57.02.064-103.678 44.349-107.526 100.406l-.256 7.376.256 7.297c3.848 56.057 50.503 100.342 107.447 100.407 59.499-.067 107.716-48.284 107.782-107.703-.067-59.5-48.283-107.717-107.703-107.783z" /></symbol>'});s.a.add(r);e["default"]=r},"71ad":function(t,e,i){"use strict";var a=i("14b1"),o=i.n(a);e["default"]=o.a},"71af":function(t,e,i){"use strict";var a=i("6e09"),o=i.n(a);e["default"]=o.a},7228:function(t,e,i){t.exports={item:"SchoolInfo_item_1yy_o",del:"SchoolInfo_del_vd3Dk",icon:"SchoolInfo_icon_27c7o"}},"722e":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"wrap",staticClass:"rightSide",class:[t.$style.sideBox,t.isOverPage?t.$style.posFixed:t.$style.posSticky,t.isHome&&"grayTheme",t.unfoldCopyright&&t.$style.unfoldCopyright],style:!t.isOverPage||t.showLoginNav?t.top:""},[i("portal-target",{attrs:{name:"popCardDestination"}}),t.isLoaded?t._e():i("woo-box",{class:t.$style.loading,attrs:{align:"center",justify:"center"}},[i("woo-spinner",{attrs:{size:"32px"}})],1),i("div",{ref:"side"},[!t.isNormal&&t.isLoaded?i("LoginCard"):t._e(),i(t.getCurrentSide,{tag:"component",on:{loaded:t.childLoad}}),t.isLoaded&&t.isHome&&t.isNormal?i("TipsAd",{attrs:{posid:"pc_login_banner_right",adHeight:"303",bottomGap:!1,topGap:!0,adBackground:!0,closeBtnKind:"notext"},on:{loaded:t.childLoad}}):t.isLoaded&&t.isLoginPage?i("TipsAd",{attrs:{posid:"pc_unlogin_banner_right",adHeight:"152",bottomGap:!1,topGap:!0,page:"login",closeBtnKind:"notext"},on:{loaded:t.childLoad}}):t._e()],1),t.isLoaded?i("CopyRight",{class:t.isOverPage?t.$style.fixcr:"",on:{loaded:t.childLoad,change:t.onCopyrightChange}}):t._e()],1)},o=[],n=(i("caad"),i("c975"),i("b0c0"),i("5530")),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"sideBox",class:["wbpro-side-main",t.$style.sideMain]},[t._l(t.cardsData,(function(e){return[e&&e.display?i(e.card_type,{key:e.cardid,tag:"component",attrs:{curCardData:e},on:{clickCard:t.getClickCard,loaded:t.loadDone}}):t._e()]}))],2)},r=[],l=(i("99af"),i("d3b7"),i("3ca3"),i("ddb0"),i("2909")),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Card",{staticClass:"wbpro-side",class:t.$style.hide},[i("woo-box",{class:t.$style.top,attrs:{align:"center",justify:"center"}},[t.proData.user?i("woo-picture",{class:t.$style.pic,attrs:{"aspect-ratio":.326,src:t.proData.user.cover_image_phone?t.proData.user.cover_image_phone.replace(/crop.0.0.640.640.640/i,"mw690").split(";")[0]:t.defaultImg}}):t._e(),i("div",{class:t.$style.avaImgBox},[t.proData.user&&t.proData.user.id?i("a-link",{attrs:{"link-type":"old","style-type":"none",href:"/u/"+(t.proData.user&&t.proData.user.id)},on:{click:function(t){t.preventDefault()}}},[t.proData.user?i("woo-avatar",{attrs:{verified:t.getWeiboVerifiedIcon(t.proData.user),size:50,src:t.proData.user.avatar_large},nativeOn:{click:function(e){return t.toProfile(t.proData.user.id)}}}):t._e()],1):i("woo-avatar",{class:t.$style.cursor,attrs:{size:50,src:""}})],1)],1),t.proData.user&&t.proData.user.screen_name?i("woo-box",{staticClass:"f14 cla",attrs:{align:"center",justify:"center"}},[t._v(t._s(t.proData.user.screen_name)),t.proData.user&&t.proData.user.id?i("IconVip",{attrs:{mbrank:t.proData.user.mbrank,mbtype:t.proData.user.mbtype,svip:t.proData.user.svip,vvip:t.proData.user.vvip}}):t._e()],1):t._e(),i("woo-box",{staticClass:"wbpro-side-card1 col-3",class:t.$style.num,attrs:{"gap-row":10}},[i("woo-box-item",{class:t.$style.item,nativeOn:{click:function(e){return t.toFollowList(t.proData.user.id)}}},[t.proData.user&&(t.proData.user.friends_count||0===+t.proData.user.friends_count)?i("a-link",{attrs:{"link-type":"old","style-type":"none",href:"/u/page/follow/"+(t.proData.user&&t.proData.user.id)},on:{click:function(t){t.preventDefault()}}},[i("woo-box",{attrs:{direction:"y",align:"center"}},[i("div",{staticClass:"f14 cla"},[t._v(" "+t._s(t.fansFormat(t.proData.user.friends_count))+" ")]),i("div",{staticClass:"f12 clb"},[t._v("关注")])])],1):t._e()],1),i("woo-box-item",{class:t.$style.item,nativeOn:{click:function(e){return t.toFansList(t.proData.user.id)}}},[t.proData.user&&(t.proData.user.followers_count||0===+t.proData.user.followers_count)?i("a-link",{attrs:{"link-type":"old","style-type":"none",href:"/u/page/follow/"+(t.proData.user&&t.proData.user.id)+"?relate=fans"},on:{click:function(t){t.preventDefault()}}},[i("woo-box",{attrs:{direction:"y",align:"center"}},[i("div",{staticClass:"f14 cla"},[t.config.uid===t.proData.user.id?i("woo-badge",{class:t.$style.unRead,attrs:{value:t.unread.follower,max:99}},[t._v(" "+t._s(t.fansFormat(t.proData.user.followers_count))+" ")]):i("div",[t._v(t._s(t.proData.user.followers_count_str))])],1),i("div",{staticClass:"f12 clb"},[t._v("粉丝")])])],1):t._e()],1),i("woo-box-item",{class:t.$style.item,nativeOn:{click:function(e){return t.toProfile(t.proData.user.id,"feed")}}},[t.proData.user&&(t.proData.user.statuses_count||0===+t.proData.user.statuses_count)?i("a-link",{attrs:{"link-type":"old","style-type":"none",href:"/u/"+(t.proData.user&&t.proData.user.id)+"?tabtype=feed"},on:{click:function(t){t.preventDefault()}}},[i("woo-box",{attrs:{direction:"y",align:"center"}},[t.proData.user&&(t.proData.user.statuses_count||0===+t.proData.user.statuses_count)?i("div",{staticClass:"f14 cla"},[t._v(" "+t._s(t.fansFormat(t.proData.user.statuses_count))+" ")]):t._e(),i("div",{staticClass:"f12 clb"},[t._v("微博")])])],1):t._e()],1)],1),t.isDetailVal?i("div",[i("woo-divider"),i("div",{staticClass:"wbpro-side-card2"},[i("div",{staticClass:"wbpro-side-panel"},[t.proData.user&&t.proData.user.verified?i("woo-box",{staticClass:"item",attrs:{align:"start"}},[i("woo-box",{staticClass:"icon",attrs:{align:"center"}},[i("i",{staticClass:"woo-font woo-font--proV",attrs:{"aria-hidden":"true"}})]),i("woo-box-item",{staticClass:"con"},[t.proData.user.verified_reason?i("span",[t._v(t._s(t.proData.user.verified_reason))]):t._e()])],1):t._e(),i("woo-divider")],1),i("div",{staticClass:"wbpro-side-panel"},[t.proData.user?i("woo-box",{staticClass:"item",attrs:{align:"start"}},[i("woo-box",{staticClass:"icon",attrs:{align:"center"}},[i("woo-fonticon",{attrs:{value:"proBintro",title:"简介"}})],1),i("woo-box-item",{staticClass:"con"},[t.proData.user.description?i("span",[t._v(t._s(t.proData.user.description))]):i("span",[t._v("暂无简介")])])],1):t._e(),i("woo-divider")],1),i("div",{staticClass:"wbpro-side-panel"},[t.proData.user?i("woo-box",{staticClass:"item",attrs:{align:"start"}},[i("woo-box",{staticClass:"icon",attrs:{align:"center"}},[i("woo-fonticon",{attrs:{value:"proIntro",title:"基本信息"}})],1),[1,2,3,4,5,6,7].includes(t.proData.user.verified_type)?i("woo-box-item",{staticClass:"con"},[t.proData.user.company?i("span",[t._v(t._s(t.proData.user.company))]):t._e(),t.proData.user.location?i("span",[t._v(t._s(t.proData.user.location))]):t._e()]):i("woo-box-item",{staticClass:"con"},[t.gender?i("span",[t._v(t._s(t.gender))]):t._e(),t.proData.user.birthday?i("span",[t._v(t._s(t.proData.user.birthday))]):t._e(),t.proData.user.location?i("span",[t._v(t._s(t.proData.user.location))]):t._e()])],1):t._e(),i("woo-divider")],1)])],1):t._e()],1)},u=[],d=i("2f62"),h=i("cc8d"),p=i("70e7"),f=i("bfbe"),m={name:"cardProfile",props:{curCardData:{type:Object},idType:{type:String,default:"mid",validator:function(){return["mid","uid"]>-1}}},data:function(){return{proData:{},feedLocale:"zh-CN",userMoreInfo:{},userID:0,defaultImg:"http://ww1.sinaimg.cn/crop.0.0.640.640.640/549d0121tw1egm1kjly3jj20hs0hsq4f.jpg"}},mounted:function(){},watch:{},created:function(){var t=this.$route.params.id;t?this.getData(t):this.getData()},computed:Object(n["a"])(Object(n["a"])({},Object(d["c"])(["unread","config"])),{},{isDetailVal:function(){var t=["detail","bidDetail","follow","feature"].indexOf(this.$route.name)>-1;return!!t},gender:function(){return this.proData&&this.proData.user&&this.proData.user.gender?"f"===this.proData.user.gender?"女":"男":null}}),methods:{getData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$http.get("/ajax/side/cards/sideUser",{params:{id:e,idType:this.idType}}).then((function(e){e.data.ok>0&&(t.proData=Object.assign({},e.data.data),t.$nextTick((function(){t.$emit("loaded",!0)})))})).catch((function(t){throw new Error(t)}))},fansFormat:p["a"],getWeiboVerifiedIcon:h["a"],toProfile:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t&&(this.actionLog({act_code:"4302"}),this.$router.push({name:"profile",params:{id:t},query:{tabtype:e}}))},toFollowList:function(t){this.config.isNormal?t&&(this.actionLog({act_code:"4302"}),this.$router.push({name:"follow",params:{id:t}})):this.$Bus.$emit("loginPop")},toFansList:function(t){this.config.isNormal?t&&(this.actionLog({act_code:"4302"}),this.$router.push({name:"follow",params:{id:t},query:{relate:"fans"}})):this.$Bus.$emit("loginPop")}},components:{IconVip:f["a"]}},v=m,_=i("b1f3"),g=i("2877");function b(t){this["$style"]=_["default"].locals||_["default"]}var y=Object(g["a"])(v,c,u,!1,b,null,null),w=y.exports,x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.curCardData&&t.curCardData.card_item?i("div",[t._l(t.curCardData.card_item,(function(e){return[i("a-link",{key:e.cardid,attrs:{"link-type":"old","style-type":"none",href:e.url},on:{click:function(t){t.preventDefault()}}},[e.display?i("Card",{staticClass:"wbpro-side",nativeOn:{click:function(i){return t.toScheme(e.url,e.cardid)}}},[e.display?t._l(e.card_group,(function(e,a){return i("div",{key:a},[i(e.card_type,{tag:"component",attrs:{cardsData:e},on:{loaded:t.isloadDone}})],1)})):t._e()],2):t._e()],1)]}))],2):t._e()},k=[],$=(i("4160"),i("159b"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.cardsData.title?i("woo-box",{staticClass:"wbpro-side-tit",attrs:{align:"center"}},[i("woo-box-item",{staticClass:"f16 fm cla",attrs:{align:"center"}},[t._v(" "+t._s(t.cardsData.title)+" ")])],1):t._e(),i("woo-divider")],1)}),C=[],O={props:{cardsData:{type:Object}},data:function(){return{}},components:{},created:function(){},watch:{},computed:{}},j=O,T=i("68f6");function D(t){this["$style"]=T["default"].locals||T["default"]}var S=Object(g["a"])(j,$,C,!1,D,null,null),I=S.exports,L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.cardsData.items.length>0?i("woo-box",{staticClass:"wbpro-side-card1",class:"col-"+t.colNum},[t._l(t.cardsData.items,(function(e,a){return[i("woo-box-item",{key:a},[i("woo-box",{attrs:{direction:"y",align:"center"}},[i("div",{style:{color:e.title_color}},[i("Trend",{attrs:{sort:e.is_arr,size:t.size}},[e.title||0===e.title?i("span",{style:{color:e.title_color}},[t._v(" "+t._s(t.sideDataFormat(e.title)))]):t._e()])],1),i("div",{staticClass:"f14 cla wbpro-textcut"},[t._v(t._s(e.desc_main))]),i("div",{staticClass:"f12 clb wbpro-textcut"},[t._v(t._s(e.desc_sub))])])],1)]}))],2):t._e()},B=[],P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{class:t.$style.box,style:t.trendSize,attrs:{align:"center"}},[i("span",{class:t.$style.text},[t._t("default")],2),t.sort?i("woo-fonticon",{class:t.$style.icon,attrs:{value:t.sort}}):t._e()],1)},A=[],E=(i("a9e3"),{name:"Trend",data:function(){return{}},props:{sort:{type:String},size:{type:[Number,String]}},created:function(){},computed:{trendSize:function(){return"font-size: ".concat(this.size/40,"rem")}}}),M=E,F=i("22f2");function R(t){this["$style"]=F["default"].locals||F["default"]}var V=Object(g["a"])(M,P,A,!1,R,null,null),N=V.exports,H=function(t){return t<1e4?t:t>=1e4&&t<1e5?Math.floor(100*t/1e4)/100+"万":t>=1e5&&t<1e6?Math.floor(10*t/1e4)/10+"万":t>=1e6&&t<1e8?Math.floor(t/1e4)+"万":t>=1e8&&t<1e9?Math.floor(100*t/1e8)/100+"亿":t>=1e9?"10亿+":void 0},z={props:{cardsData:{type:Object}},data:function(){return{itemData:this.cardsData}},components:{Trend:N},created:function(){this.sideDataFormat=H},watch:{cardsData:{handler:function(t,e){this.itemData=Object.assign(this.itemData,t)},deep:!0}},computed:{size:function(){return this.cardsData.items&&2===this.cardsData.items.length?"50":"40"},colNum:function(){var t;return this.cardsData.items&&(t=this.cardsData.items.length,t>4&&(t=4)),t}},methods:{},updated:function(){var t=this;setTimeout((function(){t.$nextTick((function(){t.$emit("loaded",!0)}))}),0)}},U=z,G=i("5500");function q(t){this["$style"]=G["default"].locals||G["default"]}var W=Object(g["a"])(U,L,B,!1,q,null,null),Q=W.exports,J=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{staticClass:"wbpro-side-card-3",class:"col-"+t.colNum,attrs:{direction:"y"}},[t.cardsData.items&&t.cardsData.items.length>0?i("woo-box",{staticClass:"row"},[t._l(t.cardsData.items,(function(e,a){return[i("woo-box-item",{key:a},[i("woo-box",{attrs:{direction:"y",align:"center"}},[i("woo-box",{class:t.$style.title,attrs:{align:"center"}},[t._v(" "+t._s(t.formatData(e.title))+" ")]),i("div",{staticClass:"f12 clb wbpro-textcut"},[t._v(" "+t._s(e.desc_sub)+" ")])],1)],1)]}))],2):t._e(),t.cardsData.icons.length>0?i("woo-box",{staticClass:"row"},[t._l(t.cardsData.icons,(function(e,a){return[i("woo-box-item",{key:a,nativeOn:{click:function(i){return i.preventDefault(),i.stopPropagation(),t.toUrl(e.url,a+1)}}},[e.url?i("a-link",{attrs:{"link-type":"old","style-type":"none",href:e.url},on:{click:function(t){t.preventDefault()}}},[i("woo-box",{class:t.$style.box,attrs:{direction:"y",align:"center"}},[i("woo-fonticon",{class:[t.$style.icon,t.$style["c"+(a+1)]],attrs:{value:e.fonticon}}),i("div",{staticClass:"f12 cla wbpro-textcut",class:t.$style.name},[t._v(" "+t._s(e.name)+" ")])],1)],1):t._e()],1)]}))],2):t._e(),t.cardsData.button&&t.cardsData.button.url?i("a-link",{attrs:{"link-type":"old","style-type":"none",href:t.cardsData.button.url},on:{click:function(t){t.preventDefault()}}},[t.cardsData.button.name?i("woo-box",{staticClass:"wbpro-side-opt f13 clf",class:t.$style.btn,attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.toUrl(t.cardsData.button.url,6)}}},[i("span",[t._v(t._s(t.cardsData.button.name))]),i("woo-box",{staticClass:"wbpro-iconbed",attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"angleRight"}})],1)],1):t._e()],1):t._e()],1)},K=[],Y=(i("b680"),{props:{cardsData:{type:Object}},data:function(){return{itemData:this.cardsData}},created:function(){this.toLog({actType:"creatorCardVisit"},!0)},watch:{cardsData:{handler:function(t,e){this.itemData=Object.assign(this.itemData,t)},deep:!0}},computed:{colNum:function(){var t,e,i=4;return(null===(t=this.cardsData)||void 0===t||null===(e=t.items)||void 0===e?void 0:e.length)&&(i=this.cardsData.items.length,i>4&&(i=4)),i}},methods:{toUrl:function(t,e){t&&(this.toLog({actType:"creatorCardClick",extValue:e},!0),window.open(t))},formatData:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return isNaN(Number(t))?t:t>=1e8?(t=(t/1e8).toFixed(e),"".concat(t.toLocaleString(),"亿")):t>=1e4?(t=(t/1e4).toFixed(e),"".concat(t.toLocaleString(),"万")):t<=-1e8?(t=(t/1e8).toFixed(e),"".concat(t.toLocaleString(),"亿")):t<=-1e4?(t=(t/1e4).toFixed(e),"".concat(t.toLocaleString(),"万")):"".concat((+t).toLocaleString())}},updated:function(){var t=this;setTimeout((function(){t.$nextTick((function(){t.$emit("loaded",!0)}))}),0)}}),X=Y,Z=i("ed22");function tt(t){this["$style"]=Z["default"].locals||Z["default"]}var et=Object(g["a"])(X,J,K,!1,tt,null,null),it=et.exports,at={name:"cardService",props:{curCardData:{type:Object}},data:function(){return{sData:[]}},mounted:function(){},created:function(){this.getData()},methods:{getData:function(){var t=this;this.$http.get("/ajax/side/cards/sideBusiness",{params:{}}).then((function(e){e.data.ok>0&&(t.sData=e.data.data,t.curCardData.card_item.forEach((function(e,i){t.sData.forEach((function(i,a){i.cardid===e.cardid&&e.card_group.forEach((function(a){if(i.list){if("1001_business_01"===i.cardid){var o;if(t.$set(e,"display",!0),"SideCard1"===a.card_type)t.$set(a,"title",null===i||void 0===i||null===(o=i.list)||void 0===o?void 0:o.name)}else{var n=!1;i.list.length&&i.list.forEach((function(t){t.title>0&&(n=!0)})),n&&t.$set(e,"display",!0)}var s,r,l,c;if("SideCard2"===a.card_type&&a.items.forEach((function(e,a){t.$set(e,"title",i.list[a].title),t.$set(e,"title_color",i.list[a].title_color),t.$set(e,"is_arr",i.list[a].is_arr),t.$set(e,"desc_sub",i.list[a].desc_sub)})),"SideCard3"===a.card_type)t.$set(a,"items",null===i||void 0===i||null===(s=i.list)||void 0===s?void 0:s.data),t.$set(a,"icons",null===i||void 0===i||null===(r=i.list)||void 0===r?void 0:r.icons),t.$set(a,"button",null===i||void 0===i||null===(l=i.list)||void 0===l?void 0:l.button),t.$set(e,"url",null===i||void 0===i||null===(c=i.list)||void 0===c?void 0:c.url)}}))}))})))})).catch((function(t){throw new Error(t)}))},toScheme:function(t,e){if(t){if("1001_business_01"===e)return this.actionLog({act_code:"4303"}),void window.open(t);"1001_business_02"===e?this.actionLog({act_code:"4399"}):"1001_business_03"===e&&this.actionLog({act_code:"4400"});var i=this.$router.resolve({name:"",params:{},path:t});window.open(i.href,"_blank")}this.$emit("clickCard",e)},isloadDone:function(t){var e=this;t&&this.$nextTick((function(){e.$emit("loaded",!0)}))}},components:{SideCard1:I,SideCard2:Q,SideCard3:it}},ot=at,nt=Object(g["a"])(ot,x,k,!1,null,null,null),st=nt.exports,rt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.curCardData&&t.curCardData.card_item?i("div",[t._l(t.curCardData.card_item,(function(e){return[e.display?i("Card",{key:e.cardid,staticClass:"wbpro-side"},["1001_-_toMyProfile"===e.cardid?[e.url?i("a-link",{attrs:{to:e.url}},[i("woo-box",{staticClass:"wbpro-side-opt f13 clf",attrs:{align:"center",justify:"center"}},[i("span",[t._v(t._s(e.name))]),i("woo-box",{staticClass:"wbpro-iconbed",attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"angleRight"}})],1)],1)],1):i("woo-box",{staticClass:"wbpro-side-opt f13 clf nocusor",attrs:{align:"center",justify:"center"}},[i("span",[t._v(t._s(e.name))]),i("woo-box",{staticClass:"wbpro-iconbed",class:t.$style.nocusor,attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"angleRight"}})],1)],1)]:[i("a-link",{attrs:{"link-type":"old","style-type":"none",href:e.url},on:{click:function(t){t.preventDefault()}}},[i("woo-box",{staticClass:"wbpro-side-opt f13 clf",attrs:{align:"center",justify:"center"},nativeOn:{click:function(i){return t.toScheme(e.url)}}},[i("span",[t._v(t._s(e.name))]),i("woo-box",{staticClass:"wbpro-iconbed",attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"angleRight"}})],1)],1)],1)]],2):t._e()]}))],2):t._e()},lt=[],ct={name:"cardScheme",props:{curCardData:{type:Object}},data:function(){return{}},mounted:function(){this.$emit("loaded",!0)},watch:{},created:function(){},methods:{toScheme:function(t){if(t){var e=this.$router.resolve({name:"",params:{},path:t});window.open(e.href,"_blank")}},toSchemeIn:function(t){this.$router.push({path:t})}},components:{}},ut=ct,dt=i("59cb");function ht(t){this["$style"]=dt["default"].locals||dt["default"]}var pt=Object(g["a"])(ut,rt,lt,!1,ht,null,null),ft=pt.exports,mt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.curCardData.display?i("Card",{staticClass:"wbpro-side"},[i("div",[i("woo-box",{class:["wbpro-side-tit",t.$style.tit],attrs:{align:"center"}},[i("woo-box-item",{staticClass:"f16 fm cla",attrs:{align:"center"}},[t._v(" 微博热搜 ")]),i("woo-box",{attrs:{align:"center"},nativeOn:{click:function(e){return t.refreshHot(e)}}},[i("woo-fonticon",{staticClass:"f14 clb",attrs:{value:"refresh"}}),i("span",{staticClass:"f13 clb"},[t._v("点击刷新")])],1)],1),i("div",{staticClass:"wbpro-side-card7"},[t.TopWords?t._l(t.TopWords,(function(e,a){return i("div",{key:a,staticClass:"wbpro-side-panel"},[i("a-link",{attrs:{to:t.toSearch(e.topic_flag,e.word,"hotgov",e),target:t.searchTarget}},[i("woo-box",{staticClass:"con",attrs:{align:"center"}},[i("div",{staticClass:"rank top"},[i("woo-fonticon",{attrs:{value:"top2"}})],1),e.word?i("div",{staticClass:"wbpro-textcut f14 cla",attrs:{title:t.deleteNumSign(e.word)}},[t._v(" "+t._s(t.deleteNumSign(e.word))+" ")]):t._e(),e.is_hot&&1===e.is_hot?i("div",{staticClass:"icon"},[i("span",{staticClass:"wbpro-icon-search-tp1",style:{background:e.icon_desc_color}},[t._v(t._s(e.icon_desc))])]):t._e()])],1)],1)})):t._e(),t._l(t.bandList,(function(e,a){return i("div",{key:e.index,staticClass:"wbpro-side-panel"},[i("a-link",{attrs:{to:t.toSearch(e.topic_flag,e.word,"",e),target:t.searchTarget}},[i("woo-box",{staticClass:"con",attrs:{align:"center"}},[1===e.dot_icon?i("span",{staticClass:"wbpro-icon-doticon"}):i("div",{staticClass:"rank",class:{"wbpro-fontnum-rank":e.rank>=0?e.rank<3:a<3}},[t._v(" "+t._s(e.rank>=0?e.rank+1:a+1)+" ")]),e.word?i("div",{staticClass:"wbpro-textcut f14 cla",attrs:{title:e.word}},[t._v(" "+t._s(e.word)+" ")]):t._e(),e.num&&!e.dot_icon?i("div",{staticClass:"f13 clb"},[t._v(" "+t._s(t.formateNum(e.num))+" ")]):t._e(),i("div",{staticClass:"icon"},[e.small_icon_desc_color&&e.small_icon_desc?i("span",{staticClass:"wbpro-icon-search-",style:{background:e.small_icon_desc_color}},[t._v(t._s(e.small_icon_desc)+" ")]):t._e()])])],1)],1)}))],2),i("div",{staticClass:"wbpro-side-bottom"},[i("a-link",{attrs:{to:{path:t.path}}},[i("woo-box",{staticClass:"wbpro-side-opt f13 clf",class:t.$style.btn,attrs:{align:"center",justify:"center"}},[i("span",[t._v("查看完整热搜榜单")]),i("woo-box",{staticClass:"wbpro-iconbed",attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"angleRight"}})],1)],1)],1)],1)],1)]):t._e()],1)},vt=[],_t=(i("c740"),i("fb6a"),i("ac1f"),i("5319"),i("4328")),gt=i.n(_t),bt={name:"cardHotSearch",props:{curCardData:{type:Object}},data:function(){return{bandList:[],TopWord:""}},computed:Object(n["a"])(Object(n["a"])({},Object(d["c"])(["config"])),{},{path:function(){return this.config.isNormal?"/hot/search":"/newlogin?tabtype=search"},searchTarget:function(){return this.config.enableSweibocom?"_blank":""}}),created:function(){this.getHotData()},methods:{getHotData:function(){var t=this;this.$http.get("/ajax/side/hotSearch",{}).then((function(e){if(e.data.ok>0){if(t.bandList=e.data.data.realtime,t.TopWords=e.data.data.hotgovs,t.bandList.length>0){var i=t.bandList.findIndex((function(t){return 10===t.rank}));t.bandList=t.bandList.slice(0,i)}t.$nextTick((function(){t.$emit("loaded",!0)}))}})).catch((function(t){throw new Error(t)}))},deleteNumSign:function(t){return t.replace(/#/g,"")},getIcon:function(t){var e="",i="wbpro-icon-search-tp";switch(+t){case 1:e="新",i+="2";break;case 2:e="热",i+="1";break;case 4:e="爆",i+="5";break;case 16:e="沸",i+="3";break}return{icon:e,iconClass:i}},getAdIcon:function(t){var e="",i="wbpro-icon-search-tp";switch(t){case"jian":e="商",i+="4";break;case"hot":e="热",i+="1";break;case"new":e="新",i+="2";break}return{icon:e,iconClass:i}},formateNum:function(t){return Math.round(10*t/1e4)/10+"万"},toSearch:function(t,e,i,a){var o=a.topic_ad,n=void 0===o?"":o,s="";if(e){if(s=e,+t>0&&(i||(s="#"+e+"#")),this.config.enableSweibocom){var r=gt.a.stringify({q:s,topic_ad:n});return{path:"//s.weibo.com/weibo?".concat(r)}}return{path:"/search",query:{containerid:"100103type=1&q=".concat(s,"&t=3")}}}return{}},refreshHot:function(){this.getHotData()}}},yt=bt,wt=(i("0628"),i("5e3ee"));function xt(t){this["$style"]=wt["default"].locals||wt["default"]}var kt=Object(g["a"])(yt,mt,vt,!1,xt,null,null),$t=kt.exports,Ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.Userlist.length>0?i("Card",{staticClass:"wbpro-side"},[i("div",[i("woo-box",{staticClass:"wbpro-side-tit",attrs:{align:"center"}},[i("woo-box-item",{staticClass:"f16 fm cla",attrs:{align:"center"}},[t._v("你可能感兴趣的人")]),i("woo-box",{attrs:{align:"center"},nativeOn:{click:function(e){return t.onRefresh(e)}}},[i("woo-fonticon",{staticClass:"f14 clb",attrs:{value:"refresh"}}),i("span",{staticClass:"f13 clb"},[t._v("换一换")])],1)],1),i("woo-divider")],1),t._l(t.Userlist,(function(e,a){return i("div",{key:a,staticClass:"wbpro-side-card4 wbpro-side-panel wbpro-side-hover",on:{click:function(i){return t.toProfile(e.user.id)}}},[a>=3*(t.pageSize-1)&&a<=3*(t.pageSize-1)+3-1?[i("a-link",{attrs:{"link-type":"old","style-type":"none",href:"/u/"+e.user.id},on:{click:function(t){t.preventDefault()}}},[i("woo-box",{staticClass:"item",attrs:{align:"center"}},[e.user&&e.user.avatar_large?i("woo-avatar",{attrs:{popCardDestination:"",usercard:e.user.id,size:50,verified:t.getWeiboVerifiedIcon(e.user),src:e.user.avatar_large}}):t._e(),i("woo-box-item",{staticClass:"con",attrs:{align:"center"}},[e.user&&e.user.screen_name?i("div",{staticClass:"f15 cla wbpro-textcut"},[t._v(" "+t._s(e.user.screen_name)+" ")]):t._e(),e.user&&e.user.verified_reason?i("div",{staticClass:"f13 clb wbpro-textcut"},[t._v(" "+t._s(e.user.verified_reason)+" ")]):t._e(),e.user&&!e.user.verified_reason&&e.user.description?i("div",{staticClass:"f13 clb wbpro-textcut"},[t._v(" "+t._s(e.user.description)+" ")]):t._e()]),i("div",{staticClass:"right"},[i("FollowBtn",{attrs:{following:e.followed,uid:e.user.id,doFoAction:!0,foToast:!1,canUnfollow:!1,cardid:e.itemid},on:{"is-following":t.isFollowed},nativeOn:{click:function(e){return e.stopPropagation(),t.follow(a)}}})],1)],1)],1),i("woo-divider")]:t._e()],2)}))],2):t._e()],1)},Ot=[],jt=(i("d81d"),{name:"cardInterested",data:function(){return{sinceId:"",pageTotal:0,pageSize:1,Userlist:[],followShip:"",curFollowed:!1,curFollowedIndex:-1,loading:!1}},created:function(){this.getInterested()},methods:{onRefresh:function(){this.getInterested()},getWeiboVerifiedIcon:h["a"],getInterested:function(){var t=this;this.loading||(this.loading=!0,this.$http.get("/ajax/side/cards/sideInterested",{params:{since_id:this.sinceId,count:3}}).then((function(e){t.loading=!1,e.data.ok>0&&(t.sinceId=e.data.data.since_id,e.data.data.users&&e.data.data.users.length>0&&(t.Userlist=e.data.data.users.map((function(t){return t=Object.assign(t,{followed:!1,loading:!1}),t}))),t.$nextTick((function(){t.$emit("loaded",!0)})))})).catch((function(e){throw t.loading=!1,new Error(e)})))},nextPage:function(){this.pageSize!==this.pageTotal&&this.pageSize++},prePage:function(){1!==this.pageSize&&this.pageSize--},isFollowed:function(t){this.curFollowed=t,this.curFollowed&&this.$set(this.Userlist[this.curFollowedIndex],"followed",this.curFollowed)},follow:function(t){this.curFollowedIndex=t},toProfile:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t&&window.open("/u/".concat(t,"?lpage=homeRecom&tabtype=").concat(e))}}}),Tt=jt,Dt=Object(g["a"])(Tt,Ct,Ot,!1,null,null,null),St=Dt.exports,It={name:"Side",data:function(){return{params:{},getCardId:"",getParamId:"",isLoaded:!1,getLoadedArr:[]}},watch:{$route:function(t,e){if(!this.$route.name||"detail"!==this.$route.name&&"bidDetail"!==this.$route.name)"search"===this.$route.name&&(this.initData([]),this.getCardsData({from:"search"})),"detail"!==e.name&&"search"!==e.name&&"bidDetail"!==e.name||(this.getParamId="",this.initData([]),this.getCardsData());else{var i=this.$route.params.id;this.getParamId||(this.getParamId=String(i)),"detail"===e.name||"bidDetail"===e.name?this.getParamId!==i&&(this.initData([]),i&&(this.params={id:i,from:"detail"},this.getCardsData(this.params)),this.getParamId=i):(this.initData([]),i&&(this.params={id:i,from:"detail"},this.getCardsData(this.params)))}}},computed:Object(n["a"])({},Object(d["c"])(["cardsData"])),beforeDestroy:function(){this.$Bus.$off("login-top-nav-change",this.updateSideScroll)},mounted:function(){this.$Bus.$on("login-top-nav-change",this.updateSideScroll)},created:function(){if(!this.$route.name||"detail"!==this.$route.name&&"bidDetail"!==this.$route.name)this.$route.name&&"search"===this.$route.name?(this.initData([]),this.getCardsData({from:"search"})):(this.initData([]),this.getCardsData());else{var t=this.$route.params.id;t&&(this.getParamId||(this.getParamId=String(t)),this.params={id:t,from:"detail"},this.initData([]),this.getCardsData(this.params))}},methods:Object(n["a"])(Object(n["a"])({},Object(d["b"])(["initData","updateData"])),{},{updateSideScroll:function(){this.$emit("loaded",!0)},getCardsData:function(t){var e=this;this.$http.get("/ajax/side/cards",{params:t}).then((function(t){if(t.data.ok>0){var i=[];i=t.data.data,e.initData(i)}})).catch((function(t){throw new Error(t)}))},getClickCard:function(t){this.getCardId=t},getLoaded:function(t){return new Promise((function(e,i){t?e(t):i("卡片加载失败")}))},loadDone:function(t){var e=this;this.getLoadedArr=[].concat(Object(l["a"])(this.getLoadedArr),[this.getLoaded(t)]);var i=Promise.all(this.getLoadedArr);i.then((function(t){e.$nextTick((function(){e.$emit("loaded",!0)}))}),(function(t){}))}}),components:{cardProfile:w,cardService:st,cardScheme:ft,cardHotSearch:$t,cardInterested:St}},Lt=It,Bt=i("11d5");function Pt(t){this["$style"]=Bt["default"].locals||Bt["default"]}var At=Object(g["a"])(Lt,s,r,!1,Pt,null,null),Et=At.exports,Mt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wbpro-side-main"},[i("Card",{staticClass:"wbpro-side"},[i("Title",{attrs:{title:"基本资料"},scopedSlots:t._u([{key:"titleright",fn:function(){return[i("woo-box",{staticClass:"wbpro-iconbed",class:t.$style.bed2,attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"setup"}})],1)]},proxy:!0}])}),i("div",{staticClass:"wbpro-side-card2"},[i("BoxItem2",{scopedSlots:t._u([{key:"icon",fn:function(){return[i("woo-fonticon",{attrs:{value:"proIntro"}})]},proxy:!0},{key:"item",fn:function(){return[i("span",[t._v("男")]),i("span",[t._v("1988-01-20")]),i("span",[t._v("水瓶")]),i("span",[t._v("北京")])]},proxy:!0}])}),i("BoxItem2",{scopedSlots:t._u([{key:"icon",fn:function(){return[i("woo-fonticon",{attrs:{value:"proMarr"}})]},proxy:!0},{key:"item",fn:function(){return[t._v("未婚")]},proxy:!0}])}),i("BoxItem2",{scopedSlots:t._u([{key:"icon",fn:function(){return[i("woo-fonticon",{attrs:{value:"proCom"}})]},proxy:!0},{key:"item",fn:function(){return[i("p",[t._v("北京微梦创科网络科技有限公司")]),i("p",[t._v("北京XXX有限公司")]),i("p",[t._v("北京XXX有限公司")]),i("p",[t._v("北京XXX有限公司")])]},proxy:!0}])}),i("BoxItem2",{scopedSlots:t._u([{key:"icon",fn:function(){return[i("woo-fonticon",{attrs:{value:"proEdu"}})]},proxy:!0},{key:"item",fn:function(){return[i("p",[t._v("北京大学")]),i("p",[t._v("北京101中学")]),i("p",[t._v("清华附中")]),i("p",[t._v("北京第一小学")])]},proxy:!0}])})],1)],1),i("Card",{staticClass:"wbpro-side"},[i("Title",{attrs:{title:"账号信息"},scopedSlots:t._u([{key:"titleright",fn:function(){return[i("woo-box",{staticClass:"wbpro-iconbed",class:t.$style.bed2,attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"setup"}})],1)]},proxy:!0}])}),i("div",{staticClass:"wbpro-side-card2"},[i("BoxItem2",{scopedSlots:t._u([{key:"icon",fn:function(){return[i("woo-fonticon",{attrs:{value:"proProf"}})]},proxy:!0},{key:"item",fn:function(){return[t._v("报纸-机关报")]},proxy:!0}])}),i("BoxItem2",{scopedSlots:t._u([{key:"icon",fn:function(){return[i("woo-fonticon",{attrs:{value:"proBintro"}})]},proxy:!0},{key:"item",fn:function(){return[t._v("这里最多展示70个文字这里最多展示70个文字这里最多展示70个文字这里最多展示70个文字这里最多展示70个文字这里最多展示70个文字这里最多展示70个文字")]},proxy:!0}])}),i("BoxItem2",{scopedSlots:t._u([{key:"icon",fn:function(){return[i("woo-fonticon",{attrs:{value:"proTime"}})]},proxy:!0},{key:"item",fn:function(){return[t._v("2019-09-29（注册）")]},proxy:!0}])}),i("BoxItem2",{scopedSlots:t._u([{key:"icon",fn:function(){return[i("woo-fonticon",{attrs:{value:"proCredit"}})]},proxy:!0},{key:"item",fn:function(){return[t._v("信用极好")]},proxy:!0}])}),i("BoxItem2",{scopedSlots:t._u([{key:"icon",fn:function(){return[i("woo-fonticon",{attrs:{value:"proTel"}})]},proxy:!0},{key:"item",fn:function(){return[t._v("6071-5566")]},proxy:!0}])}),i("BoxItem2",{scopedSlots:t._u([{key:"icon",fn:function(){return[i("woo-fonticon",{attrs:{value:"proEmail"}})]},proxy:!0},{key:"item",fn:function(){return[t._v("yaoxing@123.com")]},proxy:!0}])}),i("BoxItem2",{scopedSlots:t._u([{key:"icon",fn:function(){return[i("woo-fonticon",{attrs:{value:"proLink"}})]},proxy:!0},{key:"item",fn:function(){return[i("a",{attrs:{href:""}},[t._v("www.yaoxing.com")])]},proxy:!0}])})],1)],1),i("Card",{staticClass:"wbpro-side"},[i("Title",{attrs:{title:"我与他的微关系"},scopedSlots:t._u([{key:"titleright",fn:function(){return[i("woo-box",{staticClass:"wbpro-iconbed",class:t.$style.bed3,attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"angleRight"}})],1)]},proxy:!0}])}),i("div",{staticClass:"wbpro-side-card3"},[i("div",{staticClass:"tit f12 clb"},[t._v("我关注的人也关注了他（12）")]),i("woo-box",t._l(4,(function(e){return i("woo-box-item",{key:e},[i("woo-box",{attrs:{direction:"y",align:"center"}},[i("woo-avatar",{attrs:{size:50,src:"//tva4.sinaimg.cn/crop.0.32.687.687.180/621ff2c2jw1em78i0mk5kj20j60y3117.jpg"}}),i("div",{staticClass:"f12 cla wbpro-textcut"},[t._v("迪丽热巴迪丽热巴")])],1)],1)})),1)],1)],1),i("Card",{staticClass:"wbpro-side"},[i("Title",{attrs:{title:"热点视频"}}),i("woo-box",{class:t.$style.video,attrs:{align:"center",justify:"center"}},[i("woo-picture",{class:t.$style.pic,attrs:{"aspect-ratio":.562,src:"//tva4.sinaimg.cn/crop.0.32.687.687/621ff2c2jw1em78i0mk5kj20j60y3117.jpg"}}),i("woo-fonticon",{class:t.$style.icon,attrs:{value:"play"}})],1)],1),i("Card",{staticClass:"wbpro-side"},[i("Title",{attrs:{title:"粉丝群"},scopedSlots:t._u([{key:"titleright",fn:function(){return[i("woo-box",{staticClass:"wbpro-iconbed",class:t.$style.bed32,attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"angleLeft"}})],1),i("div",{staticClass:"f12 cla",class:t.$style.page},[t._v("1/8")]),i("woo-box",{staticClass:"wbpro-iconbed",class:t.$style.bed3,attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"angleRight"}})],1)]},proxy:!0}])}),t._l(3,(function(e){return i("BoxItem3",{key:e,attrs:{item:{avatar:"",mtitle:"铁粉红包群",stitle:"90人",stext:"群主：来来去去"}},scopedSlots:t._u([{key:"itemright",fn:function(){return[1===e?i("woo-button",{attrs:{sort:"line",kind:"primary",size:"s"}},[t._v("空降")]):t._e(),2===e?i("woo-button",{attrs:{sort:"line",kind:"primary",size:"s"}},[t._v("聊天")]):t._e(),3===e?i("woo-box",{staticClass:"wbpro-iconbed",class:t.$style.bed4,attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"group"}})],1):t._e()]},proxy:!0}],null,!0)})}))],2),i("Card",{staticClass:"wbpro-side"},[i("Title",{attrs:{title:"社属媒体"},scopedSlots:t._u([{key:"titleright",fn:function(){return[i("woo-box",{staticClass:"wbpro-iconbed",class:t.$style.bed32,attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"angleLeft"}})],1),i("div",{staticClass:"f12 cla",class:t.$style.page},[t._v("1/8")]),i("woo-box",{staticClass:"wbpro-iconbed",class:t.$style.bed3,attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"angleRight"}})],1)]},proxy:!0}])}),i("BoxItem3",{attrs:{item:{avatar:"",mtitle:"铁粉红包群",stitle:"90人"}},scopedSlots:t._u([{key:"itemright",fn:function(){return[i("woo-button",{class:t.$style.btn,attrs:{sort:"line",size:"s",kind:t.followed?"default":"primary",loading:t.loading,disabled:t.loading}},[t._v(t._s(t.followed?"已关注":"关注"))])]},proxy:!0}])})],1)],1)},Ft=[],Rt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("woo-box",{staticClass:"wbpro-side-tit",attrs:{align:"center"}},[i("woo-box-item",{staticClass:"f16 fm cla",attrs:{align:"center"}},[t._v(t._s(t.title))]),t._t("titleright")],2),i("woo-divider")],1)},Vt=[],Nt={props:{title:String}},Ht=Nt,zt=Object(g["a"])(Ht,Rt,Vt,!1,null,null,null),Ut=zt.exports,Gt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wbpro-side-panel"},[i("woo-box",{staticClass:"item",attrs:{align:"start"}},[i("woo-box",{staticClass:"icon",attrs:{align:"center"}},[t._t("icon")],2),i("woo-box-item",{staticClass:"con"},[t._t("item")],2)],1),i("woo-divider")],1)},qt=[],Wt={},Qt=Wt,Jt=Object(g["a"])(Qt,Gt,qt,!1,null,null,null),Kt=Jt.exports,Yt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wbpro-side-card4 wbpro-side-panel"},[i("woo-box",{staticClass:"item",attrs:{align:"center"}},[i("woo-avatar",{attrs:{size:50,src:"//tva4.sinaimg.cn/crop.0.32.687.687.180/621ff2c2jw1em78i0mk5kj20j60y3117.jpg"}}),i("woo-box-item",{staticClass:"con"},[i("div",{staticClass:"f15 cla"},[t._v(t._s(t.item.mtitle))]),i("div",{staticClass:"f13 clb"},[t._v(t._s(t.item.stitle))]),t.item.stext?i("div",{staticClass:"clb wbpro-textcut"},[t._v(t._s(t.item.stext))]):t._e()]),i("div",{staticClass:"right"},[t._t("itemright")],2)],1),i("woo-divider")],1)},Xt=[],Zt={props:["item"]},te=Zt,ee=Object(g["a"])(te,Yt,Xt,!1,null,null,null),ie=ee.exports,ae={data:function(){return{loading:!1,followed:!1}},components:{Title:Ut,BoxItem2:Kt,BoxItem3:ie}},oe=ae,ne=i("224e");function se(t){this["$style"]=ne["default"].locals||ne["default"]}var re=Object(g["a"])(oe,Mt,Ft,!1,se,null,null),le=re.exports,ce=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wbpro-side-main"},[t.showCardInterested&&!t.showInterestRecomCard?i("CardInterested"):t._e(),t.showCardProfile?i("CardProfile",t._g({attrs:{"id-type":"uid"}},t.$listeners)):t._e(),t.showInterestRecomCard?i("InterestModule",t._g({},t.$listeners)):t._l(t.subComponents,(function(e,a){return i(a+"Module",{key:a,tag:"component",attrs:{data:e,uid:t.profileId}})}))],2)},ue=[],de=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("GroupModule",{attrs:{data:t.recomUser,title:"关注推荐",page:"profileRecom"}})],1)},he=[],pe=(i("25f0"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.totalCount?i("Card",{staticClass:"wbpro-side"},[i("div",[i("woo-box",{staticClass:"wbpro-side-tit",attrs:{align:"center"}},[i("woo-box-item",{staticClass:"f16 fm cla",attrs:{align:"center"}},[t._v(t._s(t.title))]),t.totalCount>t.pageSize?i("woo-box",{staticClass:"wbpro-side-tit-angle",attrs:{align:"center"}},[i("woo-box",{staticClass:"wbpro-iconbed",attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return t.prevPage(e)}}},[i("woo-fonticon",{attrs:{value:"angleLeft"}})],1),i("span",{staticClass:"f13 cla"},[t._v(t._s(t.page)+"/"+t._s(t.pageTotal))]),i("woo-box",{staticClass:"wbpro-iconbed",attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return t.nextPage(e)}}},[i("woo-fonticon",{attrs:{value:"angleRight"}})],1)],1):t._e()],1),i("woo-divider")],1),t._l(t.data.slice((t.page-1)*t.pageSize,t.page*t.pageSize),(function(e){return i("UserModule",t._b({key:e.id,attrs:{user:e}},"UserModule",t.$attrs,!1))}))],2):t._e()}),fe=[],me=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wbpro-side-card4 wbpro-side-panel wbpro-side-hover",on:{click:function(e){return t.goProfile(t.user)}}},[i("woo-box",{staticClass:"item",attrs:{align:"center"}},[i("a-link",{attrs:{"link-type":"old","style-type":"none",href:"/u/"+(t.user.idstr||t.user.id)},on:{click:function(t){t.preventDefault()}}},[i("woo-avatar",{attrs:{popCardDestination:"",usercard:t.user.id,size:50,src:t.user.avatar_large||t.user.profile_image_url,verified:t.getVerifiedIcon(t.user)}})],1),i("woo-box-item",{staticClass:"con",attrs:{align:"center"}},[i("a-link",{attrs:{"link-type":"old","style-type":"none",href:"/u/"+(t.user.idstr||t.user.id)},on:{click:function(t){t.preventDefault()}}},[i("div",{staticClass:"f15 cla wbpro-textcut",attrs:{popCardDestination:"",usercard:t.user.id}},[t._v(" "+t._s(t.user.screen_name||t.user.nick)+" ")]),i("div",{staticClass:"f13 clb wbpro-textcut"},[t._v(" "+t._s(t.user.verified_reason||t.user.description||t.user.desc||"")+" ")])])],1),i("div",{staticClass:"right"},[i("FollowBtn",{attrs:{following:t.user.following,uid:t.user.idstr,doFoAction:!0,foToast:!0,followedBy:t.user.follow_me,page:t.page,lpage:t.lpage}})],1)],1),i("woo-divider")],1)},ve=[],_e=i("0e00"),ge=i("f085"),be=i("fa20"),ye={mixins:[ge["a"]],props:{user:{type:Object,default:function(){return{}}},page:String},data:function(){return{}},methods:{getVerifiedIcon:be["c"],goProfile:function(t){this.$router.push({name:"profile",params:{id:t.id||t.uid},query:{lpage:"profileRecom"}})}},components:{FollowBtn:_e["a"]}},we=ye,xe=(i("15dc"),i("c4db"));function ke(t){this["$style"]=xe["default"].locals||xe["default"]}var $e=Object(g["a"])(we,me,ve,!1,ke,null,null),Ce=$e.exports,Oe={props:{title:String,data:{type:Array,default:function(){return[]}},pageSize:{type:Number,default:4},dataCount:{type:Number}},data:function(){return{page:1}},computed:{totalCount:function(){return this.dataCount||this.data.length},pageTotal:function(){return Math.ceil(this.totalCount/this.pageSize)}},methods:{nextPage:function(){this.page!==this.pageTotal&&(this.page=this.page+1,this.$emit("next",this.page))},prevPage:function(){1!==this.page&&(this.page=this.page-1,this.$emit("prev",this.page))}},components:{UserModule:Ce}},je=Oe,Te=Object(g["a"])(je,pe,fe,!1,null,null,null),De=Te.exports,Se={name:"recomModule",props:{data:Array,default:function(){return[]}},data:function(){return{page:1,pageTotal:1,status:{}}},computed:Object(n["a"])(Object(n["a"])({},Object(d["c"])(["profileId"])),{},{recomUser:function(){var t,e;return(null===(t=this.data)||void 0===t||null===(e=t.recomm_users)||void 0===e?void 0:e.map((function(t){return t.user})))||[]}}),methods:{nextPage:function(){this.page!==this.pageTotal&&(this.page=this.page+1)},prevPage:function(){1!==this.page&&(this.page=this.page-1)},follow:function(t){var e=this;this.status[t].followed||(this.status[t].loading=!0,this.$http.post("/ajax/friendships/create",{friend_uid:t.toString()}).then((function(){e.status[t].loading=!1,e.status[t].followed=!e.status[t].followed})).catch((function(){})))},goProfile:function(t){this.$router.push({name:"profile",params:{id:t}})}},components:{GroupModule:De}},Ie=Se,Le=(i("0e65"),i("0c79"));function Be(t){this["$style"]=Le["default"].locals||Le["default"]}var Pe=Object(g["a"])(Ie,de,he,!1,Be,"d76109a8",null),Ae=Pe.exports,Ee=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.list.length?i("Card",{staticClass:"wbpro-side"},[i("div",[i("woo-box",{staticClass:"wbpro-side-tit",attrs:{align:"center"}},[i("woo-box-item",{staticClass:"f16 fm cla",attrs:{align:"center"}},[t._v("粉丝群")]),t.list.length>3?i("woo-box",{staticClass:"wbpro-side-tit-angle",attrs:{align:"center"}},[i("woo-box",{staticClass:"wbpro-iconbed",attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return t.prevPage(e)}}},[i("woo-fonticon",{attrs:{value:"angleLeft"}})],1),i("span",{staticClass:"f13 cla"},[t._v(t._s(t.page)+"/"+t._s(t.pageTotal))]),i("woo-box",{staticClass:"wbpro-iconbed",attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return t.nextPage(e)}}},[i("woo-fonticon",{attrs:{value:"angleRight"}})],1)],1):t._e()],1),i("woo-divider")],1),t._l(t.list.slice(3*(t.page-1),3*t.page),(function(e){return i("div",{key:e.round_avatar,staticClass:"wbpro-side-card4 wbpro-side-panel wbpro-side-hover"},[i("woo-box",{staticClass:"item",attrs:{align:"center"}},[i("woo-avatar",{attrs:{size:50,src:e.round_avatar}}),i("woo-box-item",{staticClass:"con",attrs:{align:"center"}},[i("div",{staticClass:"f15 cla wbpro-textcut"},[t._v(t._s(e.name))]),e.member_count>=1e3?i("div",{staticClass:"f13 clb"},[t._v("千人群")]):i("div",{staticClass:"f13 clb"},[t._v(t._s(e.member_count)+"人")]),i("div",{staticClass:"f13 clb wbpro-textcut"},[t._v("群主："+t._s(e.owner_name))])]),i("a-link",{attrs:{"link-type":"old","style-type":"none",href:e.group_url},on:{click:function(t){t.preventDefault()}}},[i("div",{staticClass:"right",on:{click:function(i){return t.join(e.group_url)}}},[i("woo-button",{attrs:{sort:"line",kind:"primary",size:"s"}},[t._v(" "+t._s(t.data.is_owner?"空降":"加入群")+" ")])],1)])],1),i("woo-divider")],1)}))],2):t._e()},Me=[],Fe={name:"fansgroupModule",props:{data:{type:Object,default:function(){return{}}}},data:function(){return{page:1}},computed:{list:function(){return this.data.affiliated_groups||[]},pageTotal:function(){return Math.ceil(this.data.affiliated_groups.length/3)}},methods:{join:function(t){window.open(t)},nextPage:function(){this.page!==this.pageTotal&&(this.page=this.page+1)},prevPage:function(){1!==this.page&&(this.page=this.page-1)}}},Re=Fe,Ve=Object(g["a"])(Re,Ee,Me,!1,null,null,null),Ne=Ve.exports,He=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.videoSrc?i("div",[i("Card",{staticClass:"wbpro-side"},[i("div",[i("woo-box",{staticClass:"wbpro-side-tit",attrs:{align:"center"}},[i("woo-box-item",{staticClass:"f16 fm cla",attrs:{align:"center"}},[t._v("热点视频")])],1),i("woo-divider")],1),i("woo-box",{class:t.$style.video,attrs:{align:"center",justify:"center"}},[i("embed",{staticStyle:{height:"100%",width:"100%"},attrs:{src:t.videoSrc}})])],1)],1):t._e()},ze=[],Ue={name:"hotVideoModule",data:function(){return{videoSrc:""}},computed:Object(n["a"])({},Object(d["c"])(["profileId"])),mounted:function(){var t=this;this.$http.get("/ajax/profile/side/hotvideo",{params:{owner_id:this.profileId}}).then((function(e){e.data.ok>0&&(t.videoSrc=e.data.data.video_src)}))}},Ge=Ue,qe=i("a4d1");function We(t){this["$style"]=qe["default"].locals||qe["default"]}var Qe=Object(g["a"])(Ge,He,ze,!1,We,null,null),Je=Qe.exports,Ke=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.data.length?i("div",[i("Card",{staticClass:"wbpro-side"},[i("div",[i("woo-box",{staticClass:"wbpro-side-tit",attrs:{align:"center"}},[i("woo-box-item",{staticClass:"f16 fm cla",attrs:{align:"center"}},[t._v("常用功能")])],1),i("woo-divider")],1),t._l(t.data,(function(e,a){return i("div",{key:a,staticClass:"wbpro-side-card4 wbpro-side-panel wbpro-side-hover"},[e?i("woo-box",{staticClass:"item",attrs:{align:"center"},nativeOn:{click:function(i){return t.join(e.button,e.type)}}},[e.pic?i("woo-avatar",{attrs:{size:50,src:e.pic}}):t._e(),i("woo-box-item",{staticClass:"con",attrs:{align:"center"}},[e.title?i("div",{staticClass:"f15 cla",domProps:{textContent:t._s(e.title)}}):t._e()]),e.button?i("a-link",{attrs:{"link-type":"old","style-type":"none",href:e.button.url},on:{click:function(t){t.preventDefault()}}},[i("div",{staticClass:"right"},[e.button.text?i("woo-button",{attrs:{sort:"line",kind:"primary",size:"s"},domProps:{textContent:t._s(e.button.text)}}):t._e()],1)]):t._e()],1):t._e(),i("woo-divider")],1)}))],2)],1):t._e()},Ye=[],Xe=(i("7db0"),i("ed09")),Ze={name:"serviceModule",props:{data:{type:Array,default:function(){return[]}},uid:{type:[Number,String]}},setup:function(t,e){var i=e.emit,a=Object(Xe["d"])().proxy,o=Object(Xe["p"])(t),s=o.data,r=o.uid,l=Object(Xe["n"])(!1),c=Object(Xe["n"])({});Object(Xe["k"])((function(){u()}));var u=function(){var t;if(null===(t=s.value)||void 0===t?void 0:t.length){var e,i=s.value.find((function(t){return"reward"===t.type}));if(null===i||void 0===i||null===(e=i.button)||void 0===e?void 0:e.params){var o=i.button.params.welfare;a.actionLog({uicode:"20000393",act_code:"7165",ext:"vuid:".concat(r.value,"|welfare:").concat(o)})}}},d=function(t,e){(null===t||void 0===t?void 0:t.url)?window.open(t.url):"reward"===e&&(a.actionLog({uicode:"20000393",act_code:"7166",ext:"vuid:".concat(r.value,"|welfare:").concat(t.params.welfare)}),l.value=!0,c.value=Object(n["a"])(Object(n["a"])({},t.params),{},{log:{uicode:"20000393"}}),a.$Bus.$emit("handleRewardModal",{show:l.value,info:c.value}))};return Object(Xe["k"])((function(){i("loaded",!0)})),{data:s,join:d,show:l,rewardInfo:c}}},ti=Ze,ei=i("b4d3");function ii(t){this["$style"]=ei["default"].locals||ei["default"]}var ai=Object(g["a"])(ti,Ke,Ye,!1,ii,null,null),oi=ai.exports,ni=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wbpro-side-main"},t._l(t.personalList,(function(t){return i("div",{key:t.key},["image"===t.key?i("ImageModule",{attrs:{data:t.data,title:t.title}}):i("CardSubModule",{attrs:{data:t.data,type:t.key,title:t.title}})],1)})),0)},si=[],ri=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.data.length?i("Card",{staticClass:"wbpro-side"},[i("div",[i("woo-box",{staticClass:"wbpro-side-tit",attrs:{align:"center"}},[i("woo-box-item",{staticClass:"f16 fm cla",attrs:{align:"center"}},[t._v(t._s(t.title))]),t.data.length>3?i("woo-box",{staticClass:"wbpro-side-tit-angle",attrs:{align:"center"}},[i("woo-box",{staticClass:"wbpro-iconbed",attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return t.prevPage(e)}}},[i("woo-fonticon",{attrs:{value:"angleLeft"}})],1),i("span",{staticClass:"f13 cla"},[t._v(t._s(t.page)+"/"+t._s(t.pageCount))]),i("woo-box",{staticClass:"wbpro-iconbed",attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return t.nextPage(e)}}},[i("woo-fonticon",{attrs:{value:"angleRight"}})],1)],1):t._e()],1),i("woo-divider")],1),["movie","book","music"].includes(t.type)?i("div",{staticClass:"wbpro-side-card5"},[i("woo-box",{attrs:{old:"",items:3,"gap-row":4}},t._l(t.data.slice((t.page-1)*t.pageSize,t.page*t.pageSize),(function(e){return i("woo-box-item",{key:e.pic},[i("a-link",{attrs:{"link-type":"old","style-type":"none",href:t.getLandUrl(e)},on:{click:function(t){t.preventDefault()}}},[i("woo-box",{attrs:{direction:"y"}},[["movie","book"].includes(t.type)?i("woo-picture",{staticClass:"pic cursor",attrs:{"aspect-ratio":"1.238",src:e.pic},nativeOn:{click:function(i){return t.openLand(e)}}}):i("woo-picture",{staticClass:"pic cursor",attrs:{src:e.pic},nativeOn:{click:function(i){return t.openLand(e)}}}),i("div",{staticClass:"f15 cla wbpro-textcut"},[t._v(t._s(e.title_sub))])],1)],1)],1)})),1)],1):t._e(),["topic"].includes(t.type)?i("div",t._l(t.data.slice((t.page-1)*t.pageSize,t.page*t.pageSize),(function(e){return i("div",{key:e.pic,staticClass:"wbpro-side-card4 wbpro-side-panel wbpro-side-hover"},[i("a-link",{attrs:{"link-type":"old","style-type":"none",href:t.getLandUrl(e)},on:{click:function(t){t.preventDefault()}}},[i("woo-box",{staticClass:"item cursor",attrs:{align:"center"},nativeOn:{click:function(i){return t.openLand(e)}}},[i("woo-picture",{staticClass:"pic",attrs:{width:"60",src:e.pic}}),i("woo-box-item",{staticClass:"con",attrs:{align:"center"}},[i("div",{staticClass:"f15 cla wbpro-textcut"},[t._v(t._s(e.title_sub))]),i("div",{staticClass:"f13 clb wbpro-textcut"},[t._v(" "+t._s(e.desc)+" ")])])],1),i("woo-divider")],1)],1)})),0):t._e()]):t._e()},li=[],ci=(i("466d"),{props:{data:{type:Array,default:function(){return[]}},type:String,title:String,pageSize:{type:Number,default:3}},data:function(){return{page:1}},computed:{pageCount:function(){return Math.ceil(this.data.length/this.pageSize)}},methods:{getLandUrl:function(t){if(t&&t.scheme){var e=t.scheme.match(/(containerid=).*$/),i=e&&e[0].replace(/containerid=/,"");return"https://weibo.com/p/".concat(i)}return""},openLand:function(t){window.open(this.getLandUrl(t))},nextPage:function(){this.page!==this.pageCount&&(this.page=this.page+1)},prevPage:function(){1!==this.page&&(this.page=this.page-1)}}}),ui=ci,di=(i("07c8"),i("30b0"));function hi(t){this["$style"]=di["default"].locals||di["default"]}var pi=Object(g["a"])(ui,ri,li,!1,hi,"2121c8d5",null),fi=pi.exports,mi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.data&&t.data.length?i("div",[i("Card",{staticClass:"wbpro-side"},[i("div",[i("woo-box",{staticClass:"wbpro-side-tit",attrs:{align:"center"}},[i("woo-box-item",{staticClass:"f16 fm cla",attrs:{align:"center"}},[t._v("精选照片")])],1),i("woo-divider")],1),i("div",{staticClass:"wbpro-side-card6"},[1===t.dataLength?i("woo-box",{attrs:{wrap:"wrap","gap-row":4,"gap-col":4,items:3}},t._l(1,(function(e){return i("woo-box-item",{key:e},[i("woo-picture",{staticClass:"pic cursor",attrs:{src:t.data[0].pic_middle},nativeOn:{click:function(e){t.viewLarge(t.data.slice(0,1).map((function(t){return t.pic_id})),0)}}})],1)})),1):t._e(),2===t.dataLength?i("woo-box",{attrs:{wrap:"wrap","gap-row":4,"gap-col":4,items:3}},t._l(t.data,(function(e,a){return i("woo-box-item",{key:e.pic_middle},[i("woo-picture",{staticClass:"pic cursor",attrs:{src:e.pic_middle},nativeOn:{click:function(e){t.viewLarge(t.data.slice(0,2).map((function(t){return t.pic_id})),a)}}})],1)})),1):t._e(),3===t.dataLength?i("woo-box",{attrs:{wrap:"wrap","gap-row":4,"gap-col":4,items:3}},t._l(t.data,(function(e,a){return i("woo-box-item",{key:e.pic_middle},[i("woo-picture",{staticClass:"pic cursor",attrs:{src:e.pic_middle},nativeOn:{click:function(e){t.viewLarge(t.data.slice(0,3).map((function(t){return t.pic_id})),a)}}})],1)})),1):t._e(),4===t.dataLength?i("woo-box",{attrs:{wrap:"wrap","gap-row":4,"gap-col":4,items:3}},[i("woo-box-item",{attrs:{basis:"50%"}},[i("woo-picture",{staticClass:"pic cursor",attrs:{src:t.data[0].pic_middle},nativeOn:{click:function(e){t.viewLarge(t.data.slice(0,4).map((function(t){return t.pic_id})),0)}}})],1),i("woo-box-item",{attrs:{basis:"50%"}},[i("woo-picture",{staticClass:"pic cursor",attrs:{src:t.data[1].pic_middle},nativeOn:{click:function(e){t.viewLarge(t.data.slice(0,4).map((function(t){return t.pic_id})),1)}}})],1),i("woo-box-item",[i("woo-picture",{staticClass:"pic cursor",attrs:{src:t.data[2].pic_middle},nativeOn:{click:function(e){t.viewLarge(t.data.slice(0,4).map((function(t){return t.pic_id})),2)}}})],1),i("woo-box-item",[i("woo-picture",{staticClass:"pic cursor",attrs:{src:t.data[3].pic_middle},nativeOn:{click:function(e){t.viewLarge(t.data.slice(0,4).map((function(t){return t.pic_id})),3)}}})],1)],1):t._e(),5===t.dataLength?i("woo-box",{attrs:{wrap:"wrap","gap-row":4,"gap-col":4,items:3}},[i("woo-box-item",{attrs:{basis:"50%"}},[i("woo-picture",{staticClass:"pic cursor",attrs:{src:t.data[0].pic_middle},nativeOn:{click:function(e){t.viewLarge(t.data.slice(0,5).map((function(t){return t.pic_id})),0)}}})],1),i("woo-box-item",{attrs:{basis:"50%"}},[i("woo-picture",{staticClass:"pic cursor",attrs:{src:t.data[1].pic_middle},nativeOn:{click:function(e){t.viewLarge(t.data.slice(0,5).map((function(t){return t.pic_id})),1)}}})],1),t._l(t.data.slice(2,5),(function(e,a){return i("woo-box-item",{key:e.pic_middle},[i("woo-picture",{staticClass:"pic cursor",attrs:{src:e.pic_middle},nativeOn:{click:function(e){t.viewLarge(t.data.slice(0,5).map((function(t){return t.pic_id})),a)}}})],1)}))],2):t._e(),t.dataLength>5?i("woo-box",{attrs:{wrap:"wrap","gap-row":4,"gap-col":4,items:3}},t._l(t.data.slice(0,6),(function(e,a){return i("woo-box-item",{key:e.pic_middle},[i("woo-picture",{staticClass:"pic cursor",attrs:{src:e.pic_middle},nativeOn:{click:function(e){t.viewLarge(t.data.map((function(t){return t.pic_id})),a)}}})],1)})),1):t._e()],1)])],1):t._e()},vi=[],_i=i("ee33"),gi={mixins:[_i["a"]],props:{data:{type:Array,default:function(){return[]}},type:String,title:String,pageSize:{type:Number,default:3}},computed:{dataLength:function(){return this.data&&this.data.length}}},bi=gi,yi=(i("ff62"),i("9c86"));function wi(t){this["$style"]=yi["default"].locals||yi["default"]}var xi=Object(g["a"])(bi,mi,vi,!1,wi,"92b739fe",null),ki=xi.exports,$i={name:"personlizeModule",props:{data:Object},data:function(){return{listMap:[{key:"image",title:"精选照片"},{key:"movie",title:"喜欢的电影"},{key:"music",title:"喜欢的音乐"},{key:"book",title:"喜欢的图书"},{key:"topic",title:"最近参与的超话"}]}},computed:Object(n["a"])(Object(n["a"])({},Object(d["c"])(["profileId"])),{},{personalList:function(){var t=this,e=[];return this.listMap.forEach((function(i){t.data[i.key]&&e.push(Object(n["a"])(Object(n["a"])({},i),{},{data:t.data[i.key]}))})),e}}),components:{CardSubModule:fi,ImageModule:ki}},Ci=$i,Oi=i("a592");function ji(t){this["$style"]=Oi["default"].locals||Oi["default"]}var Ti=Object(g["a"])(Ci,ni,si,!1,ji,null,null),Di=Ti.exports,Si=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._l(t.list,(function(e){return i("GroupModule",{key:e.index,attrs:{data:e.data.items[0].users.map((function(t){return Object.assign({},t,{idstr:t.uid,following:2===t.status||3===t.status,follow_me:1===t.status||3===t.status})})),title:e.data.card_title.title,dataCount:e.data.items[0].total_number,pageSize:e.data.items[0].module_size,page:"profileCustom"},on:{next:function(i){return t.dynamicLoad(e,i)}}})})),1)},Ii=[],Li=(i("4de4"),i("6062"),{name:"customModule",props:{data:{type:Array,default:function(){return[]}}},computed:{list:function(){var t=this.data;return t.sort((function(t,e){return t.index-e.index}))}},methods:{dynamicLoad:function(t,e){var i,a,o,n,s;(null===t||void 0===t||null===(i=t.data)||void 0===i||null===(a=i.items[0])||void 0===a?void 0:a.total_number)!==(null===t||void 0===t||null===(o=t.data)||void 0===o||null===(n=o.items[0])||void 0===n||null===(s=n.users)||void 0===s?void 0:s.length)&&this.$http.get("/ajax/profile/getMoreCustomUser",{params:{type:t.type,page:e,uid:t.profile_uid}}).then((function(e){if(e.data.ok>0){var i=new Set(t.data.items[0].users.map((function(t){return t.uid}))),a=e.data.data.filter((function(t){return!i.has(t.uid)}));t.data.items[0].users=t.data.items[0].users.concat(a)}}))}},components:{GroupModule:De}}),Bi=Li,Pi=Object(g["a"])(Bi,Si,Ii,!1,null,null,null),Ai=Pi.exports,Ei=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.Userlist.length>0?i("Card",{staticClass:"wbpro-side"},[i("div",[i("woo-box",{staticClass:"wbpro-side-tit",attrs:{align:"center"}},[i("woo-box-item",{staticClass:"f16 fm cla",attrs:{align:"center"}},[t._v("根据你的兴趣推荐")]),i("woo-box",{staticClass:"wbpro-side-tit-angle",attrs:{align:"center"}},[i("woo-box",{staticClass:"wbpro-iconbed",attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return t.prePage(e)}}},[i("woo-fonticon",{attrs:{value:"angleLeft"}})],1),i("span",{staticClass:"f13 cla"},[t._v(t._s(t.pageSize)+"/"+t._s(t.pageTotal))]),i("woo-box",{staticClass:"wbpro-iconbed",attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return t.nextPage(e)}}},[i("woo-fonticon",{attrs:{value:"angleRight"}})],1)],1)],1),i("woo-divider")],1),t._l(t.Userlist,(function(e,a){return i("div",{key:a,staticClass:"wbpro-side-card4 wbpro-side-panel wbpro-side-hover",on:{click:function(i){return t.toProfile(e.id)}}},[a>=(t.pageSize-1)*t.showCount&&a<=(t.pageSize-1)*t.showCount+t.showCount-1?[i("a-link",{attrs:{"link-type":"old","style-type":"none",href:"/u/"+e.id},on:{click:function(t){t.preventDefault()}}},[i("woo-box",{staticClass:"item",attrs:{align:"start"}},[e&&e.avatar_large?i("woo-avatar",{attrs:{popCardDestination:"",usercard:e.id,size:50,verified:t.getWeiboVerifiedIcon(e),src:e.avatar_large}}):t._e(),i("woo-box-item",{staticClass:"con",attrs:{align:"center"}},[i("woo-box",{attrs:{justify:"between",align:"center"}},[e&&e.screen_name?i("div",{staticClass:"f15 cla wbpro-textcut",class:t.$style.screenName,attrs:{popCardDestination:"",usercard:e.id}},[t._v(" "+t._s(e.screen_name)+" ")]):t._e(),i("div",{staticClass:"right",class:t.$style.right},[i("FollowBtn",{attrs:{size:"xs",following:e.followed,uid:e.id,doFoAction:!0,foToast:!1,canUnfollow:!1,cardid:e.itemid},on:{"is-following":t.isFollowed},nativeOn:{click:function(e){return e.stopPropagation(),t.follow(a)}}})],1)]),e.descStruct&&e.descStruct.labelDesc.length?i("div",{class:t.$style.userTags},t._l(e.descStruct.labelDesc,(function(e,a){return i("user-tag",{key:a,attrs:{highlight:e.highlight}},[t._v(t._s(e.suffix+e.name))])})),1):t._e(),e.descStruct?i("div",{staticClass:"f13 clb",class:t.$style.desc},[t._v(" "+t._s(e.descStruct.textDesc)+" ")]):t._e()],1)],1)],1),i("woo-divider")]:t._e()],2)}))],2):t._e()],1)},Mi=[],Fi=(i("9129"),i("23b5")),Ri=15,Vi={name:"cardInterested",props:{data:{type:Object,default:function(){return{}}}},setup:function(t,e){var i=e.emit,a=10,o=!1,n=-1,s=Object(Xe["n"])([]),r=Object(Xe["a"])((function(){var t=s.value.length;return t%a===0?t/a:Math.floor(t/a)+1})),l=Object(Xe["n"])(1),c=Object(Xe["d"])().proxy,u=function(){c.$http.get("/ajax/friendships/fanslistRecom",{count:20}).then((function(t){t.data.ok>0&&(s.value=t.data.list.map((function(t){var e=0;if(t.descStruct&&t.descStruct.labelDesc){var i=t.descStruct.labelDesc,a=[];return i.forEach((function(t,i){var o=t.suffix&&t.suffix.length||0;t.suffix=o>0?t.suffix+" ":"";var n=0;Number.isNaN(+t.name)||(t.name=t.followers_count_str),n=t.name.length;var s=o+n;if(e<=Ri){if(e+s>Ri){var r=Ri-e;o>=r?t.suffix=t.suffix.slice(0,r):t.name=t.name.slice(0,r-i)+"..."}a.push(t),e+=s}})),t.descStruct.labelDesc=a,t}})),i("loaded",!0))})).catch((function(t){throw new Error(t)}))},d=function(){l.value!==r.value&&l.value++},p=function(){1!==l.value&&l.value--},f=function(t){o=t,o&&(s.value[n]["followed"]=o)},m=function(t){n=t},v=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t&&c.$router.push({name:"profile",params:{id:t},query:{tabtype:e}})};return Object(Xe["h"])((function(){u()})),{getWeiboVerifiedIcon:h["a"],pageTotal:r,pageSize:l,Userlist:s,nextPage:d,prePage:p,toProfile:v,follow:m,isFollowed:f,showCount:a}},components:{UserTag:Fi["a"]}},Ni=Vi,Hi=i("e50f");function zi(t){this["$style"]=Hi["default"].locals||Hi["default"]}var Ui=Object(g["a"])(Ni,Ei,Mi,!1,zi,null,null),Gi=Ui.exports,qi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:t.visibilityChanged,intersection:{threshold:0,rootMargin:t.rootMargin}},expression:"{\n    callback: visibilityChanged,\n    intersection: {\n      threshold: 0,\n      rootMargin\n    }\n  }"}]},[t.showSelector?i("Card",{ref:"contentRef",staticClass:"wbpro-side",style:t.contentStyle},[i("div",[i("woo-box",{staticClass:"wbpro-side-tit",attrs:{align:"center"}},[i("woo-tab",{staticClass:"f15 cla",class:t.$style.tabs,attrs:{justify:"around",animate:"","animate-duration":500},on:{change:t.handleTabChange}},t._l(t.tabs,(function(e,a){return i("woo-tab-item",{key:a,class:t.$style.tabsItem,attrs:{index:a,cur:t.curTab===e.key}},[i("div",{class:t.$style.btn},[t._v(t._s(e.label))])])})),1)],1),i("woo-divider"),"time"===t.curTab?i("div",[i("v-calendar",{class:t.$style.calendar,attrs:{attributes:t.attributes,"min-date":t.minDate,"max-date":t.maxDate},on:{dayclick:t.clickDay,daymouseenter:t.mouseEnterDay}})],1):t._e(),"advanced"===t.curTab?i("div",{class:t.$style.con2},[i("div",{class:[t.$style.c2tit,t.$style.c2tit2]},[t._v("类型")]),i("woo-box",{attrs:{old:"",items:3,"gap-row":0,"gap-col":10}},t._l(t.radioOptions,(function(e){return i("woo-box-item",{key:e.key},[i("woo-radio",{class:t.$style.c2radio,attrs:{value:e.key},on:{change:t.changeMblogType},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v(" "+t._s(e.label)+" ")])],1)})),1),0===t.radio?[i("woo-divider",{class:t.$style.c2line}),i("woo-box",{class:t.$style.keywords,attrs:{align:"center"}},[i("div",{class:[t.$style.c2tit,t.$style.c2tit1]},[t._v("关键词")]),i("woo-box-item",[i("woo-input",{class:t.$style.c2ipt,attrs:{placeholder:t.placeholder},on:{blur:t.handleKeywordInput},nativeOn:{keypress:function(t){t.stopPropagation()},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleKeywordInput(e)}},scopedSlots:t._u([{key:"icon",fn:function(){return[i("woo-fonticon",{class:t.$style.c2icon,attrs:{value:"search"}})]},proxy:!0}],null,!1,3852962999),model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1)],1),t.topics.length?[i("woo-divider",{class:t.$style.c2line}),i("div",{class:[t.$style.c2tit,t.$style.c2tit2]},[t._v("常用话题")]),i("div",{class:t.$style.c2list},t._l(t.topics,(function(e,a){return i("span",{key:a,class:t.$style.c2tag,attrs:{title:"#"+e+"#"},on:{click:function(i){return t.searchTopic("#"+e+"#")}}},[i("span",{class:t.$style.c2t1},[i("woo-fonticon",{class:t.$style.c2i1,attrs:{value:"hash"}})],1),i("span",[t._v("#")]),i("span",{class:t.$style.c2t2},[t._v(t._s(e))]),i("span",[t._v("#")])])})),0)]:t._e()]:t._e()],2):t._e(),t.showReset?i("div",{staticStyle:{"margin-top":"12px"}},[i("woo-divider"),i("woo-box",{staticClass:"wbpro-side-tit",class:t.$style.reset,attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return t.handleReset(e)}}},[i("woo-fonticon",{staticClass:"f14 clb icon",attrs:{value:"refresh"}}),i("span",{staticClass:"f13 clb"},[t._v(" 重置 ")])],1)],1):t._e()],1)]):t._e(),i("Card",{style:t.ghostStyle})],1)},Wi=[],Qi=(i("b64b"),i("498a"),i("8d7e")),Ji=i("8b91");function Ki(t,e){var i=Object(Xe["d"])().proxy,a=Object(Qi["b"])(["profileId","selectorCache"]),o=a.profileId,n=(a.selectorCache,Object(Xe["n"])(!1)),s=Object(Xe["n"])(!1),r=Object(Xe["n"])(),l=Object(Xe["n"])(new Date),c=Object(Xe["n"])(null),u=Object(Xe["n"])(null),d=Object(Xe["a"])((function(){var t;return c.value?[{key:"today",highlight:!0,dates:{start:c.value,end:null!==(t=u.value)&&void 0!==t?t:c.value}}]:null})),h=function(t){var e=t.getFullYear(),i=t.getMonth()+1;1===String(i).length&&(i="0".concat(i));var a=t.getDate();return 1===String(a).length&&(a="0".concat(a)),"".concat(e,"/").concat(i,"/").concat(a)},p=function(a){var n=a.date;if(c.value&&u.value?s.value?(c.value=n,u.value=null,s.value=!1):s.value=!0:null===c.value?c.value=n:null===u.value&&(u.value=n,s.value=!0),c.value&&r.value&&c.value.getTime()<r.value.getTime()?c.value=r.value:c.value&&l.value&&c.value.getTime()>l.value.getTime()&&(c.value=l.value),u.value&&l.value&&u.value.getTime()>l.value.getTime()?u.value=l.value:u.value&&r.value&&u.value.getTime()<r.value.getTime()&&(u.value=r.value),s.value&&c.value&&u.value){i.actionLog({uicode:e.value,act_code:6255,ext:"searchType:001|targetUid:".concat(o.value)});var d={feature:4},p=c.value,f=u.value;p.getTime()>f.getTime()&&(p=u.value,f=c.value);var m=p.getFullYear(),v=p.getMonth()+1,_=p.getDate();if(p!==f){var g=f.getFullYear(),b=f.getMonth()+1,y=f.getDate();d.title="".concat(m,"年").concat(v,"月").concat(_,"日到").concat(g,"年").concat(b,"月").concat(y,"日的微博")}else d.title="".concat(m,"年").concat(v,"月").concat(_,"日的微博");var w=h(p),x=new Date(w).getTime();d.starttime=parseInt(x/1e3);var k=h(f),$=864e5,C=new Date(k).getTime()+$;d.endtime=parseInt(C/1e3),t(d)}},f=function(t){if(null!==c.value&&!s.value){var e=t.date;u.value=e}},m=function(){0!==o.value&&i.$http.get("/ajax/profile/mbloghistory",{params:{uid:o.value}}).then((function(t){if(t.data.ok>0){var e,a=null!==(e=t.data.data)&&void 0!==e?e:{},o=Object.keys(a).sort((function(t,e){return t-e}));n.value=o.length>0;var s=a[o[0]][0];1===s.length&&(s="0".concat(s)),r.value=new Date("".concat(o[0],"/").concat(s,"/01")),Object(Xe["f"])((function(){i.$emit("loaded",!0)}))}}))};Object(Xe["s"])(o,(function(t){0!==t&&m()}),{immediate:!0});var v=function(){c.value=null,u.value=null,s.value=!1};return{reset:v,minDate:r,maxDate:l,attributes:d,visible:n,clickDay:p,mouseEnterDay:f}}function Yi(t,e){var i=Object(Xe["d"])().proxy,a=Object(Qi["b"])(["profileId","profileGender","config","selectorCache"]),o=a.profileId,n=a.profileGender,s=a.config,r=a.selectorCache,l=Object(Xe["n"])([{label:"全部微博",key:0,title:""},{label:"原创微博",key:1,title:"ta的原创微博"},{label:"热门微博",key:2,title:"ta的热门微博"},{label:"赞过的微博",key:3,title:"ta赞过的微博"},{label:"付费微博",key:17,title:"ta的付费微博"}]),c=0,u="";o.value===r.value.profileId&&(c=r.value.feature||0,u=r.value.q||"");var d=Object(Xe["n"])(c),h=Object(Xe["n"])(u),p=Object(Xe["n"])([]),f=Object(Xe["a"])((function(){var t,e;return+(null===(t=s.value)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.id)===+o.value})),m=Object(Xe["a"])((function(){return f.value?"查找我的微博":"查找".concat(n.value,"的微博")})),v=function(t){var e=t.match(/^#.*#$/);return e?(t=t.replace(/#/g,""),t.length>10&&(t=t.slice(0,10)+"..."),"#".concat(t,"#")):(t.length>10&&(t=t.slice(0,10)+"..."),"“".concat(t,"”"))},_="",g=function(a){if(h.value.trim()!==_){_=h.value.trim();var n=v(h.value.trim());"topic"!==a&&i.actionLog({uicode:e.value,act_code:6255,ext:"searchType:003|targetUid:".concat(o.value)}),t({feature:0,q:h.value.trim(),title:"带有 ".concat(n," 的微博")})}},b=function(){return f.value?"我":n.value},y=function(a){var n,s=l.value.find((function(t){return t.key===a}));i.actionLog({uicode:e.value,act_code:6255,ext:"searchType:002|targetUid:".concat(o.value)}),t({feature:a,title:null===s||void 0===s||null===(n=s.title)||void 0===n?void 0:n.replace("ta",b())})};Object(Xe["s"])(o,(function(t){0!==t&&i.$http.get("/ajax/profile/getMblogTopic",{params:{uid:t}}).then((function(t){t.data.ok>0&&(p.value=t.data.data)}))}),{immediate:!0});var w=function(t){h.value=t,i.actionLog({uicode:e.value,act_code:6255,ext:"searchType:004|targetUid:".concat(o.value)}),g("topic")},x=function(){h.value="",d.value=0,_=""};return{radioOptions:l,radio:d,changeMblogType:y,keyword:h,topics:p,searchTopic:w,placeholder:m,reset:x,handleKeywordInput:g}}function Xi(){var t=Object(Xe["d"])().proxy,e=Object(Xe["n"])(null),i=Object(Xe["m"])({position:"relative",width:0,height:0,display:"none"}),a=Object(Xe["n"])(""),o=Object(Xe["m"])({position:"relative",zIndex:9998,visibility:"visible",top:0}),n=!0,s=!1,r=function(){var a,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=null===(a=e.value)||void 0===a?void 0:a.$el;r&&(n?(i.display="block",i.width=r.clientWidth+"px",i.height=r.clientHeight+"px",o.position="fixed",o.width=r.clientWidth+"px",o.top=Object(Ji["a"])("--weibo-top-nav-height")+"px",o.boxShadow="0 0.125rem 0.25rem 0 rgb(0 0 0 / 10%)"):(i.display="none",o.position="relative",o.visibility="visible",o.top=0,o.boxShadow="none",t.$emit("loaded",!0)),t.$Bus.$emit("toggleIconActive",s))},l=function(t){n=t,s=!n,r(!t)},c=function(e){s=e?!e:!s,r(s),t.$Bus.$emit("toggleIconActive",s)};return Object(Xe["k"])((function(){t.$Bus.$on("toggleSelector",c),t.$once("hook:beforeDestroy",(function(){t.$Bus.$off("toggleSelector",c)})),a.value="-".concat(Object(Ji["a"])("--weibo-top-nav-height"),"px")})),{visibilityChanged:l,contentRef:e,ghostStyle:i,contentStyle:o,rootMargin:a}}function Zi(){var t=Object(Xe["d"])().proxy,e=Object(Xe["n"])("time"),i=Object(Xe["n"])([{label:"按时间搜索",key:"time"},{label:"按内容搜索",key:"advanced"}]),a=function(a){e.value=i.value[a].key,t.$emit("loaded",!0)};return{tabs:i,curTab:e,handleTabChange:a}}var ta={setup:function(){var t=Object(Xe["d"])().proxy,e=Object(Qi["b"])(["config","profileId"]),i=e.profileId,a=e.config,o=Object(Qi["a"])(["setSelectorCache"]),s=o.setSelectorCache,r=Object(Xe["a"])((function(){var t,e;return+i.value===(null===(t=a.value)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.id)?20000392:20000393})),l=function(e){s(e),t.$Bus.$emit("change-profile-tab","feed"),Object(Xe["f"])((function(){t.$Bus.$emit("getMblogData",e)}))},c=Ki(l,r),u=Yi(l,r),d=Zi(),h=Xi(),p=Object(Xe["a"])((function(){return c.visible.value}));Object(Xe["s"])(p,(function(){t.$emit("loaded",!0)}));var f=function(){c.reset(),u.reset(),s({}),l({feature:0})},m=Object(Xe["a"])((function(){return c.attributes.value||0!==u.radio.value||""!==u.keyword.value}));return Object(Xe["s"])(m,(function(){t.$emit("loaded",!0)})),Object(Xe["k"])((function(){t.$Bus.$on("reset-profile-selector",f),t.$once("hook:beforeDestroy",(function(){t.$Bus.$off("reset-profile-selector",f)}))})),Object(Xe["i"])((function(){t.$Bus.$emit("showIcon",!1)})),Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])({},c),u),{},{showSelector:p,handleReset:f,showReset:m},h),d)}},ea=ta,ia=(i("9b96"),i("14ca"));function aa(t){this["$style"]=ia["default"].locals||ia["default"]}var oa=Object(g["a"])(ea,qi,Wi,!1,aa,null,null),na=oa.exports,sa={name:"ProfileSide",data:function(){return{subComponents:{},loading:!1}},computed:Object(n["a"])(Object(n["a"])({},Object(d["c"])(["profileId","config"])),{},{showSelector:function(){return this.config.isNormal&&["profile","nameProfile","customProfile"].includes(this.$route.name)},showCardProfile:function(){return+this.$route.params.id!==this.config.uid&&this.profileId!==this.config.uid&&["follow","feature"].indexOf(this.$route.name)>-1},showInterestRecomCard:function(){return+this.config.uid===+this.$route.params.id&&("fansDetail"===this.$route.name&&"special_attention"!==this.$route.query.type||"follow"===this.$route.name&&"fans"===this.$route.query.relate)},showCardInterested:function(){return+this.$route.params.id===this.config.uid}}),watch:{$route:function(t){t.params.id&&this.fetchData(t.params.id)},profileId:{handler:function(t,e){if(t&&!this.loading&&+t!==+e)return this.subComponents={},void this.fetchData()}}},methods:{fetchData:function(t){var e=this;this.loading||(this.loading=!0,this.subComponents={},this.$http.get("/ajax/profile/sidedetail",{params:{uid:t||this.profileId}}).then((function(t){e.loading=!1,t.data.ok>0&&(e.subComponents=t.data.data,e.$nextTick((function(){e.$emit("loaded",!0)})))})).catch((function(){e.loading=!1})))}},created:function(){var t=this.$route,e=t.params.id,i=t.name;["follow","profile","nameProfile","like","fav","customProfile","feature","followGroup","myFollowTab"].indexOf(i)>-1&&(this.profileId===+e||this.profileId&&("nameProfile"===i||"customProfile"===i))&&this.fetchData()},components:{RecomModule:Ae,FansgroupModule:Ne,HotVideoModule:Je,ServiceModule:oi,PersonlizeModule:Di,CustomModule:Ai,CardProfile:w,InterestModule:Gi,Selector:na,CardInterested:St}},ra=sa,la=Object(g["a"])(ra,ce,ue,!1,null,null,null),ca=la.exports,ua=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wbpro-side-copy"},[i("div",{staticClass:"wbpro-side-copy-inner"},[i("div",{staticClass:"scale"},[t._l(t.copyrights,(function(e,a){return i("div",{key:a,class:t.$style.item},[i("woo-box",{class:t.$style.title,attrs:{align:"center"}},[i("woo-fonticon",{class:t.$style.icon,attrs:{value:e.icon}}),i("div",[t._v(t._s(e.title))])],1),i("woo-box",{class:t.$style.content,attrs:{justify:"between"}},[t._l(e.children,(function(e,a){return["download"===e.ext?i("woo-pop",{key:a,staticClass:"link",attrs:{show:t.downloadVisible,direction:"up",align:"end",gap:"10"},on:{"click-outside":function(e){t.downloadVisible=!1}},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("span",{class:0!==a&&t.$style.contentItem,on:{click:function(e){t.downloadVisible=!t.downloadVisible}}},[t._v(" "+t._s(e.title)+" ")])]},proxy:!0}],null,!0)},[i("div",[i("woo-box",{class:t.$style.erweimaLayer,attrs:{justify:"center",align:"center"}},[i("woo-box-item",{attrs:{shrink:1}},[i("woo-picture",{class:t.$style.erweima,attrs:{width:94,height:94,src:"https://img.t.sinajs.cn/t6/style/images/common/footer_code.jpg"}})],1),i("woo-box",{attrs:{align:"start",direction:"y"}},[i("div",{class:t.$style.text},[t._v("扫码下载")]),i("div",{class:t.$style.text},[t._v(" 更多版本"),i("a",{attrs:{href:"https://c.weibo.cn/?sudaref=weibo.com",target:"_blank"}},[t._v("点击查看")])])])],1)],1)]):"more"===e.type?i("woo-pop",{key:a,staticClass:"link",attrs:{show:t.visibleKeysReactiveMap[e.key],direction:"up",align:"end",gap:"10"},on:{"click-outside":function(i){t.visibleKeysReactiveMap[e.key]=!1}},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("span",{class:0!==a&&t.$style.contentItem,on:{click:function(i){t.visibleKeysReactiveMap[e.key]=!t.visibleKeysReactiveMap[e.key]}}},[t._v(" "+t._s(e.title)+" ")])]},proxy:!0}],null,!0)},[i("woo-pop-wrap",{style:{width:e.width||t.copyrightLayerReactiveMaxWidth[e.key]+"px"}},[i("woo-box",{attrs:{wrap:"wrap","gap-row":0,"gap-col":0,items:2}},[t._l(e.children,(function(e,a){return[e.href?i("woo-pop-item",{key:a,class:t.$style.text,attrs:{tag:"a",href:e.href,target:"_blank"}},[e.prefix?i("woo-picture",{key:a,attrs:{width:14,height:14,src:e.prefix}}):t._e(),t._v(" "+t._s(e.title)+" ")],1):i("woo-pop-item",{key:a,class:[t.$style.text,t.$style.arrow]},[t._v(" "+t._s(e.title)+" ")])]}))],2)],1)],1):e.href?i("a",{key:a,class:0!==a&&4!==a&&t.$style.contentItem,attrs:{href:e.href,target:"_blank"}},[t._v(" "+t._s(e.title)+" ")]):i("span",{key:a,class:0!==a&&t.$style.contentItem},[t._v(t._s(e.title))])]}))],2)],1)})),i("div",{class:[t.$style.item,t.$style.content,t.$style.cricon]},[i("Logo",{staticClass:"logo",attrs:{simple:!0}}),i("span",{class:t.$style.cricon},[t._v(" Copyright © 2009-"+t._s((new Date).getFullYear())+" "),i("a",{staticStyle:{"padding-left":"3px"},attrs:{href:"https://weibo.com/aj/static/business_license.html",target:"_blank"}},[t._v("营业执照")])]),i("img",{class:t.$style.aria,attrs:{src:"https://a.sinaimg.cn/mintra/pic/2201190827/32aria.png"}})],1)],2)])])},da=[],ha=(i("45fc"),i("07ac"),i("16d4")),pa={setup:function(t,e){var i=e.emit,a=Object(Xe["d"])().proxy,o=Object(Xe["n"])(!1),n={},s={},r=Object(Xe["n"])({}),l=Object(Xe["n"])({}),c=12,u=2,d=40,h=Object(Xe["n"])([]),p=function(){a.$http.get("/ajax/common/getCopyright").then((function(t){t.data.ok>0&&(h.value=t.data.copyrights,f())}))},f=function(){h.value.forEach((function(t){Array.isArray(t.children)&&t.children.forEach((function(t){"more"===t.type&&t.key&&(n[t.key]=!1,s[t.key]=0),Array.isArray(t.children)&&t.children.forEach((function(e){var i=(e.title.length*c+d)*u;i>s[t.key]&&(s[t.key]=i)}))}))})),r.value=n,l.value=s};return Object(Xe["s"])((function(){return r.value}),(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i("change",Object.values(t).some((function(t){return t})))}),{deep:!0}),Object(Xe["s"])((function(){return o.value}),(function(t){i("change",!!t)})),Object(Xe["h"])((function(){p()})),{copyrights:h,visibleKeysReactiveMap:r,copyrightLayerReactiveMaxWidth:l,downloadVisible:o}},components:{Logo:ha["a"]}},fa=pa,ma=i("e6c9");function va(t){this["$style"]=ma["default"].locals||ma["default"]}var _a=Object(g["a"])(fa,ua,da,!1,va,null,null),ga=_a.exports,ba=i("c15f"),ya=i("05cb"),wa=i("0f32"),xa=i.n(wa),ka=68;var $a={components:{SideIndex:Et,SideC:le,ProfileSide:ca,CopyRight:ga,TipsAd:ba["a"],LoginCard:ya["a"]},data:function(){return{abs:!1,scroll:"",sideHeight:0,componentsHeight:0,copyRightHeight:280,marginTop:ka,marginBottom:0,tryTime:4,isLoaded:!1,scrollElement:document.documentElement,isOverPage:!1,showLoginNav:!1,hideHeader:!1,unfoldCopyright:!1}},watch:{offset:function(t){this.isOverPage=document.body.clientHeight>=this.componentsHeight+this.marginTop,t?window.addEventListener("scroll",this.listenerScroll,!1):window.removeEventListener("scroll",this.listenerScroll,!1)},$route:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"feature"!==t.name&&"feature"!==e.name&&(["bidDetail","detail"].indexOf(t.name)>-1&&t.name===e.name&&t.hash||(this.scroll="",(["bidDetail","detail"].indexOf(t.name)>-1||"profile"===t.name||["bidDetail","detail"].indexOf(e.name)>-1||"profile"===e.name)&&(this.isLoaded=!1),this.$nextTick((function(){document.getElementById("__sidebar")&&(document.getElementById("__sidebar").style.minHeight=0)}))))},scroll:function(t){this.$Bus.$emit("sideScrollChange",t,this.isOverPage)}},computed:Object(n["a"])(Object(n["a"])({},Object(d["c"])(["config"])),{},{isHome:function(){return["home","mygroups","login"].includes(this.$route.name)},isNormal:function(){return this.config.isNormal},getCurrentSide:function(){var t=this.$route.name;switch(t){case"home":case"hot":case"message":case"detail":return"SideIndex";case"profile":case"nameProfile":case"customProfile":case"follow":case"feature":case"like":case"fansDetail":case"fav":case"followGroup":case"myFollowTab":return"ProfileSide";default:return"SideIndex"}},bar:function(){return this.abs&&this.$style.abs},top:function(){return this.componentsHeight+this.copyRightHeight-this.sideHeight<0&&"login"===this.$route.name?{top:"".concat(this.marginTop-this.scroll>=78?this.marginTop-this.scroll+10:78,"px")}:0===this.scroll?{bottom:"".concat(-this.offset,"px")}:{top:"".concat(-this.offset>ka?ka:-this.offset,"px")}},offset:function(){return this.componentsHeight-this.sideHeight},isLoginPage:function(){return"login"===this.$route.name}}),methods:{onCopyrightChange:function(t){this.unfoldCopyright=t},getSideHeight:function(){this.sideHeight=this.scrollElement.offsetHeight},getComponentsHeight:function(){var t=this;this.$refs.side&&this.$nextTick((function(){t.componentsHeight=t.$refs.side.offsetHeight+t.copyRightHeight}))},init:function(){var t=this;this.marginTop="/newlogin"!==this.$route.path||this.hideHeader?ka:330,this.getSideHeight(),this.getComponentsHeight(),this.$nextTick((function(){document.getElementById("__sidebar")&&(document.getElementById("__sidebar").style.minHeight=t.componentsHeight+"px"),t.isOverPage=document.body.clientHeight>=t.componentsHeight+t.marginTop}))},getScrollHeight:function(){if(this.scroll=window.pageYOffset||this.scrollElement.scrollTop,this.$refs.wrap){var t=this.$refs.wrap.offsetTop,e=this.scroll-t+ka;this.$refs.wrap.dataset.scrollDistance=e}this.scroll>230&&"login"===this.$route.name?this.showLoginNav=!0:this.showLoginNav=!1},listenerScroll:function(){xa()(this.getScrollHeight,50)()},listenerResize:function(){xa()(this.getSideHeight,50)()},childLoad:function(t){t&&(this.init(),this.isLoaded=!0)},handleShowLoginTopNav:function(){this.hideHeader=!0}},mounted:function(){var t=this;this.scrollElement=document.scrollingElement||document.documentElement,this.$nextTick((function(){t.init(),window.addEventListener("resize",t.listenerResize,!1)})),this.$Bus.$on("showLoginTopNav",this.handleShowLoginTopNav);var e=this.$refs.side,i=0;this.mutationObserver=new MutationObserver((function(){var a=window.getComputedStyle(e).getPropertyValue("height");a!==i&&(i=a,t.childLoad(!0))})),this.mutationObserver.observe(e,{childList:!0,characterData:!0,subtree:!0})},beforeDestroy:function(){this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=null),window.removeEventListener("resize",this.listenerResize,!1),this.$Bus.$off("showLoginTopNav",this.handleShowLoginTopNav)}},Ca=$a,Oa=i("3d00");function ja(t){this["$style"]=Oa["default"].locals||Oa["default"]}var Ta=Object(g["a"])(Ca,a,o,!1,ja,null,null);e["a"]=Ta.exports},7243:function(t,e,i){},"72e6":function(t,e,i){t.exports={vtbox:"VideoController_vtbox_1HR8B",vtb1:"VideoController_vtb1_JFTEf",vtb1btn:"VideoController_vtb1btn_2EeUY",vtb1t:"VideoController_vtb1t_3-Ml1",vtb2:"VideoController_vtb2_2k5n_",vtb21:"VideoController_vtb21_sJ7Gq",vtb21items:"VideoController_vtb21items_3yNuQ",vtb21item:"VideoController_vtb21item_5ZBdM",vtb21p:"VideoController_vtb21p_3guYn",vtb21pr:"VideoController_vtb21pr_22iFp",vtb21pri1:"VideoController_vtb21pri1_H_hZo",vtb21prt1:"VideoController_vtb21prt1_1MS8Q",vtb21line:"VideoController_vtb21line_3pdSf",status:"VideoController_status_3iB2n"}},"732d":function(t,e,i){t.exports={box:"MiniComposer_box_zjwjw",boxat:"MiniComposer_boxat_2Ubfv",iptin:"MiniComposer_iptin_1FF79",optbox:"MiniComposer_optbox_2uC4p",opt:"MiniComposer_opt_2qmI8",iconbox2:"MiniComposer_iconbox2_Rw2Vf",icon:"MiniComposer_icon_snLSt",iconbox0:"MiniComposer_iconbox0_1eO0s",iconbox1:"MiniComposer_iconbox1_Bg9xV",btn:"MiniComposer_btn_1DcB-",likebox:"MiniComposer_likebox_1fTq5",customlikebox:"MiniComposer_customlikebox_1U3V-",iconitem:"MiniComposer_iconitem_2rxOQ",error:"MiniComposer_error_3iOV3",top_active:"MiniComposer_top_active_2_kVk",boxb:"MiniComposer_boxb_2cErR"}},"734d":function(t,e,i){t.exports={avatar:"card4_avatar_A2vh1",avatarList:"card4_avatarList_2itL8"}},"73d1":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));i("4160"),i("a15b"),i("a9e3"),i("9129"),i("159b");var a=function(t){if(void 0===t||Number.isNaN(t))return"";var e=Math.floor(t/3600),i=Math.floor((t-3600*e)/60),a=Math.floor(t-3600*e-60*i),o=[i,a];return e>0&&o.unshift(e),o.forEach((function(t,e){e>=0&&t<10&&(o[e]="0".concat(t))})),o.join(":")}},7437:function(t,e,i){t.exports={wrap:"LoginCard_wrap_18dK4",con:"LoginCard_con_3LLIV",t1:"LoginCard_t1_1GMBB",btn:"LoginCard_btn_Jp_u1",t2:"LoginCard_t2_3tfIT",noside:"LoginCard_noside_3oKzz",text:"LoginCard_text_3BtVI"}},7441:function(t,e,i){"use strict";var a=i("7af8"),o=i.n(a);e["default"]=o.a},7496:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));i("4de4"),i("d81d"),i("d3b7"),i("3ca3"),i("ddb0");var a=i("2909"),o=(i("96cf"),i("1da1")),n=i("ed09"),s=i("fd20");function r(t){var e=Object(n["d"])(),i=e.proxy,r=Object(n["m"])({tags:[],total_number:0,unclass_number:0}),l=function(){r.tags=[],r.total_number=0,r.unclass_number=0},c=function(t){return i.$http.get("/ajax/favorites/all_fav",{params:t})},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=(!(arguments.length>1&&void 0!==arguments[1])||arguments[1],!(arguments.length>2&&void 0!==arguments[2])||arguments[2]);arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t)return i.$http.get("/ajax/favorites/show",{mid:t}).then((function(t){var e;(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.ok)&&(r.tags=t.data.tags,r.tags.unshift({tag:"全部",count:r.total_number,id:0}))}));var s=1,l=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,o,n,c,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.$http.get("/ajax/favorites/tags",{params:{page:s,is_show_total:1}});case 2:if(o=t.sent,(null===o||void 0===o||null===(e=o.data)||void 0===e?void 0:e.ok)&&(1===s&&(r.tags=[]),o.data.tags&&(n=r.tags).push.apply(n,Object(a["a"])(o.data.tags)),c=o.data,u=c.fav_total_num,d=c.unclassified_num,r.total_number=u,r.unclass_number=d),!(o.data.total_number>r.tags.length)){t.next=8;break}return s+=1,t.next=8,l();case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=[l()];return Promise.all(c).then((function(){r.tags.map((function(t){return Object(n["o"])(t,"cur",!1),Object(n["o"])(t,"edit",!1),Object(n["o"])(t,"modify",!1),t})),e&&r.tags.unshift({tag:"未加标签",count:r.unclass_number,id:-1,cur:!0}),r.tags.unshift({tag:"全部",count:r.total_number,id:0,cur:!0})}))},d=function(t,e){return i.$http.post("/ajax/favorites/tags/update",{id:t,tags:e})},h=function(t){return i.$http.post("/ajax/favorites/tags/destroy_batch",{id:t})},p=Object(n["n"])(""),f=!1,m=function(){f=!0},v=function(t){f=!1,t&&t()},_=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!f){var i=r.tags.filter((function(e){return e.tag===t})),a=Math.ceil(Object(s["a"])(t)/2);if(""!==t){if(a>12)return p.value="仅限12个字符",!1;if(p.value="",i.length>=e)return p.value="该标签已存在",!1;if(p.value="",!/^[\u4e00-\u9fa50-9a-zA-Z_:]+$/g.test(t))return p.value='微博标签目前仅支持中英文、数字、"_"或冒号哦，请按照要求来贴标签哦',!1;p.value=""}else p.value=""}},g=function(){i.$Bus.$on("handleTag",(function(t){t.map((function(t){r.tags.map((function(e){return e.id==t.id&&(e.count+=t.num),e}))}))})),i.$Bus.$on("tagRefresh",(function(){u("",!0,!0,!0)}))},b=function(){i.$Bus.$off("handleTag"),i.$Bus.$off("tagRefresh")};return{compositionstart:m,compositionend:v,collectBusOff:b,collectBusOn:g,handleError:_,getAll:c,getTags:u,addTag:d,deleteTag:h,reset:l,tags:r,error:p}}},"74c7":function(t,e,i){"use strict";var a=i("3181"),o=i.n(a);e["default"]=o.a},"752a":function(t,e,i){"use strict";var a=i("2485"),o=i.n(a);e["default"]=o.a},7563:function(t,e,i){t.exports={bed2:"UserModule_bed2_BFFQf",bed3:"UserModule_bed3_3vgDo",bed32:"UserModule_bed32_1OpPx",page:"UserModule_page_zzali"}},"75ee":function(t,e,i){t.exports={cut:"PublisherMovieMcommentPop_cut_3_4OH",search:"PublisherMovieMcommentPop_search_glbzP",spop:"PublisherMovieMcommentPop_spop_1dVq6",sitem:"PublisherMovieMcommentPop_sitem_2NaSe",sitemt1:"PublisherMovieMcommentPop_sitemt1_3UCus",sitemt2:"PublisherMovieMcommentPop_sitemt2_16pTZ",ipt:"PublisherMovieMcommentPop_ipt_yUfPg",btn:"PublisherMovieMcommentPop_btn_2OpgW",scroll:"PublisherMovieMcommentPop_scroll_1LAtl",tip:"PublisherMovieMcommentPop_tip_3YVnH",item:"PublisherMovieMcommentPop_item_Ribo8",item_last:"PublisherMovieMcommentPop_item_last_QTZsg",searchpop:"PublisherMovieMcommentPop_searchpop_1Gmyz"}},"764e":function(t,e,i){"use strict";var a=i("5530");i("5abd");e["a"]=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=[];for(var s in t){var r,l,c=t[s],u={url:c.bmiddle.url,geo:{width:c.large.width,height:c.large.height},large:{url:c.large.url},normal:{url:c.large.url},mw690:{url:null===c||void 0===c||null===(r=c.mw2000)||void 0===r?void 0:r.url},mw2000:{url:null===c||void 0===c||null===(l=c.mw2000)||void 0===l?void 0:l.url},focus_point:c.focus_point},d=u;e&&c.blur&&(u.isPay=e,u.isMy=i,u.isPaid=o,i||o||(u.large.url=u.normal.url=u.mw2000.url=u.mw690.url=c.blur.url,c.blur.isPay=!0,d=Object(a["a"])(Object(a["a"])({},u),c.blur))),n.push(d)}return n}},7676:function(t,e,i){"use strict";var a=i("e7b6"),o=i.n(a);e["default"]=o.a},"768d":function(t,e,i){t.exports={list:"AiAssistant_list_oENov",itemin:"AiAssistant_itemin_1ctzB",avatar:"AiAssistant_avatar_3ifAT",pic:"AiAssistant_pic__oiUb",cut:"AiAssistant_cut_326TI",opt:"AiAssistant_opt_2Tnvm",btn:"AiAssistant_btn_2M93O",pop:"AiAssistant_pop_3S0zW",popwrap:"AiAssistant_popwrap_3C8p5",popitem:"AiAssistant_popitem_2Z2ZA",cursor:"AiAssistant_cursor_SN8kj",href:"AiAssistant_href_1ou1o",icon:"AiAssistant_icon_yYN0C"}},"76ad":function(t,e,i){"use strict";var a=i("f6337"),o=i.n(a);e["default"]=o.a},"76d1":function(t,e,i){"use strict";var a=i("adc5"),o=i.n(a);e["default"]=o.a},7707:function(t,e,i){t.exports={vip:"IconFans_vip_1YZiQ",fans:"IconFans_fans_3N5ZG",fansin:"IconFans_fansin_1-45n",bigfans:"IconFans_bigfans_1rtMc",bigfans1:"IconFans_bigfans1_5QMIk",bigfans2:"IconFans_bigfans2_gt3HR",bigfans3:"IconFans_bigfans3_1Wd7v",bigfans4:"IconFans_bigfans4_3g-hE",bigfans5:"IconFans_bigfans5_302Ml",bigfans6:"IconFans_bigfans6_3D1Kc",bigfans7:"IconFans_bigfans7_X3fWw",author:"IconFans_author_F8_jW",custom:"IconFans_custom_zk5AD",grow:"IconFans_grow_3jQOA"}},7748:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.qrcode,style:t.style},[i("div",{class:[t.$style.leftTop,t.$style.angleBorder]}),i("div",{class:[t.$style.leftBottom,t.$style.angleBorder]}),i("div",{class:[t.$style.rightTop,t.$style.angleBorder]}),i("div",{class:[t.$style.rightBottom,t.$style.angleBorder]}),i("canvas",{ref:"qrcodeRef",attrs:{width:"0",height:"0"}}),t.qrcodeData?i("img",{class:t.$style.qrimage,attrs:{width:t.width,height:t.height,src:t.qrcodeData}}):t._e()])},o=[],n=(i("a9e3"),i("96cf"),i("1da1")),s=i("ed09"),r=i("d055"),l=i.n(r),c=Object(s["c"])({props:{text:String,width:{type:Number,default:130},height:{type:Number,default:130},margin:{type:Number,default:2}},setup:function(t){var e=Object(s["n"])(),i=Object(s["n"])(""),a=Object(s["a"])((function(){return{width:"".concat(t.width,"px"),height:"".concat(t.height,"px")}})),o=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.toDataURL(a,{margin:t.margin});case 3:i.value=e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(s["k"])((function(){t.text&&o(t.text)})),{qrcodeRef:e,qrcodeData:i,style:a}}}),u=c,d=i("c885a"),h=i("2877");function p(t){this["$style"]=d["default"].locals||d["default"]}var f=Object(h["a"])(u,a,o,!1,p,null,null);e["a"]=f.exports},7795:function(t,e,i){t.exports={top:"ImageModule_top_31SyU",num:"ImageModule_num_3HkoJ",item:"ImageModule_item_1FVS-",bed1:"ImageModule_bed1_15Teq",bed2:"ImageModule_bed2_YyuEM",bed3:"ImageModule_bed3_1LQbv",bed32:"ImageModule_bed32_3kpWY",page:"ImageModule_page_1PqTH",video:"ImageModule_video_ftU3o",pic:"ImageModule_pic_pinM0",icon:"ImageModule_icon_1Pk6B",bed4:"ImageModule_bed4_2ZFTa"}},7854:function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_nav_pubFold",use:"woo_svg_nav_pubFold-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="woo_svg_nav_pubFold"><path d="M13.595 8.733l1.297 1.297-5.067 5.068a.5.5 0 01-.298.144l-1.038.115a.2.2 0 01-.22-.22l.115-1.039a.5.5 0 01.143-.298l5.068-5.067zM11.765 2a2 2 0 012 2v3.505l-6.424 6.424H2a2 2 0 01-2-2V4a2 2 0 012-2h9.765zM7.112 8.424h-4.13a.688.688 0 00-.101 1.369l.101.007h4.13a.688.688 0 000-1.376zm8.134-.635l.59.59a.5.5 0 010 .708l-.62.619-1.297-1.298.62-.62a.5.5 0 01.707 0zm-4.463-3.036h-7.8a.688.688 0 00-.102 1.37l.101.007h7.8a.688.688 0 000-1.377z" fill="currentColor" fill-rule="evenodd" /></symbol>'});s.a.add(r);e["default"]=r},"78c2":function(t,e,i){"use strict";var a=i("6ba7"),o=i.n(a);e["default"]=o.a},"78c9":function(t,e,i){},7909:function(t,e,i){"use strict";e["a"]={data:function(){return{visable:this.$attrs.index<3}},watch:{$attrs:function(t){t.visable&&(this.visable=t.visable)}}}},"79ca":function(t,e,i){t.exports={wrap:"picture-viewer_wrap_1GrIH",showPictureViewer:"picture-viewer_showPictureViewer_2xq5f",originalWrap:"picture-viewer_originalWrap_1Fsp7",toolbar:"picture-viewer_toolbar_3BVrz",toolItem:"picture-viewer_toolItem_1_-56",pic:"picture-viewer_pic_37YQ3",icon:"picture-viewer_icon_e-s8M",divider:"picture-viewer_divider_2BpHO",previewList:"picture-viewer_previewList_3Mylg",preview:"picture-viewer_preview_2wOSq",cur:"picture-viewer_cur_anUEY",previewItem:"picture-viewer_previewItem_1oKBI",prevBorder:"picture-viewer_prevBorder_Gfehe",angle:"picture-viewer_angle_14jMH",prev:"picture-viewer_prev_37tqw",next:"picture-viewer_next_36wzF",listContent:"picture-viewer_listContent_29YZE",listContentAnimate:"picture-viewer_listContentAnimate_1g3jP",imgWrap:"picture-viewer_imgWrap_ICKHT",mask:"picture-viewer_mask_2e9KD",videoMask:"picture-viewer_videoMask_ZO5Lc",leftMask:"picture-viewer_leftMask_31Sib",rightMask:"picture-viewer_rightMask_3Rvy2",focusImg:"picture-viewer_focusImg_3rITV",topPlaceholder:"picture-viewer_topPlaceholder_3ZuLN",vPlus:"picture-viewer_vPlus_2V0td",openBtn:"picture-viewer_openBtn_2HIJN",video:"picture-viewer_video_1__jH",pos:"picture-viewer_pos_289E2",icon2:"picture-viewer_icon2_1OBK0",videotime:"picture-viewer_videotime_2qwZ3"}},"7a3a":function(t,e,i){"use strict";var a=i("aedc"),o=i.n(a);o.a},"7aa4":function(t,e,i){t.exports={mar1:"Composer_mar1_ujs0j",iconbox1:"Composer_iconbox1_1AGH2",iconbox2:"Composer_iconbox2_l4gXj",iconitem:"Composer_iconitem_2JJIh",check:"Composer_check_1EUSi",btn:"Composer_btn_2XFOD",box2:"Composer_box2_2HHdg",count:"Composer_count_2UmTv",error:"Composer_error_sMJv9"}},"7af8":function(t,e,i){t.exports={box:"VideoScreenshot_box_1ktvT",picbed:"VideoScreenshot_picbed_1eIkx",curr:"VideoScreenshot_curr_2SoyU",icon:"VideoScreenshot_icon_1voCL",tab:"VideoScreenshot_tab_3q0uX",editbox:"VideoScreenshot_editbox_2gukQ",box2:"VideoScreenshot_box2_2exqA",tip:"VideoScreenshot_tip_1Kv_b",file:"VideoScreenshot_file_2BvD1",loading:"VideoScreenshot_loading_3C4Rc",list:"VideoScreenshot_list_2I7cj",lt:"VideoScreenshot_lt_1LzAk",lt1:"VideoScreenshot_lt1_2cyNm",lt2:"VideoScreenshot_lt2_2sf3p",card2c:"VideoScreenshot_card2c_34rrh",card2cin:"VideoScreenshot_card2cin_211t7",card2a:"VideoScreenshot_card2a_304nt",card2al:"VideoScreenshot_card2al_aS9Nq",card2ar:"VideoScreenshot_card2ar_1y4Mn",card2l:"VideoScreenshot_card2l_2TgS3",card2p:"VideoScreenshot_card2p_2aG3Z",card2pcurr:"VideoScreenshot_card2pcurr_1dmhX",card2picon:"VideoScreenshot_card2picon_2MuIe",op:"VideoScreenshot_op_20rm7",op1:"VideoScreenshot_op1_3ab4K",cus:"VideoScreenshot_cus_2R7Sw",layer:"VideoScreenshot_layer_2KF7k",a5lt:"VideoScreenshot_a5lt_4Nrw8",a5opt:"VideoScreenshot_a5opt_3YDM-",a5rt:"VideoScreenshot_a5rt_5KPhH",arrow:"VideoScreenshot_arrow_3HcQm",text3:"VideoScreenshot_text3_2VyRF",top1:"VideoScreenshot_top1_39a4u",gap1:"VideoScreenshot_gap1_2iqZC",text4:"VideoScreenshot_text4_2Zn1x",a5list:"VideoScreenshot_a5list_28sKy",angle:"VideoScreenshot_angle_1Hz8c",rt:"VideoScreenshot_rt_13BfM",a5listin:"VideoScreenshot_a5listin_33IqM",a5itembox:"VideoScreenshot_a5itembox_3ZG45",a5item:"VideoScreenshot_a5item_bZoyb",icon4:"VideoScreenshot_icon4_3eYHL",a5itemcurr:"VideoScreenshot_a5itemcurr_2SAis",gap2:"VideoScreenshot_gap2_2ic2-",box2t:"VideoScreenshot_box2t_2_3BR",box2t1:"VideoScreenshot_box2t1_34yRe"}},"7b87":function(t,e,i){},"7b97":function(t,e,i){t.exports={detail:"Detail_detail_3typT",box:"Detail_box_3Jeom",mar1:"Detail_mar1_1Z_ro",mar2:"Detail_mar2_2Q6IG",empty:"Detail_empty_2vsOv",feed:"Detail_feed_3iffy",qrcodeWrap:"Detail_qrcodeWrap_1uq19",text:"Detail_text_1f-G9"}},"7bca":function(t,e,i){"use strict";var a=i("5cf2"),o=i.n(a);e["default"]=o.a},"7c5f":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{attrs:{"aria-hidden":t.ariaHidden,xmlns:t.xmlns,viewBox:t.viewBox}},[i("use",{attrs:{"xlink:href":"#woo_svg_"+t.symbol}})])},o=[],n=(i("4160"),i("d3b7"),i("159b"),i("ddb0"),i("cb29"));n.keys().forEach((function(t){return n(t)}));var s={props:{symbol:String,ariaHidden:{type:Boolean,default:!0},viewBox:{type:String,default:"0 0 1024 1024"}}},r=s,l=i("2877"),c=Object(l["a"])(r,a,o,!1,null,null,null);e["default"]=c.exports},"7d02":function(t,e,i){"use strict";var a=function(){var t,e=this,i=e.$createElement,a=e._self._c||i;return Object.keys(e.data).length?a("woo-panel",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:e.visibilityChanged,intersection:{rootMargin:"500px 0px"},once:!0},expression:"{\n    callback: visibilityChanged,\n    intersection: {\n      rootMargin: '500px 0px'\n    },\n    once: true\n  }"}],ref:"rootFeed",class:[e.$style.wrap,e.cover&&e.data.cardid&&e.$style.cardbg,e.noBorderTop&&0===e.index&&e.$style.serborder,e.$style[e.feedStyleType],e.feedNoCard&&e.$style.nocard,e.feedNoBorder&&e.$style.noborder],style:[e.cover&&{backgroundImage:"url("+e.data.pic_bg_new+")"},e.radiusStyle],attrs:{border:"all",tag:"article",tabindex:"0"}},[e.mask?a("div",{class:e.$style.mask}):e._e(),e.popMask?a("div",{class:e.$style.mask,on:{click:function(t){e.popMask=!1}}}):e._e(),e.showTitle?a("feed-title",{class:e.$style.title,attrs:{darkMode:e.darkMode,visible:e.data.visible,isTop:e.data.isTop,title:e.data.title,mark:e.data.mark,isSecondRelationFeed:e.isSecondRelationFeed},scopedSlots:e._u([e.hasMorePop&&e.config.isNormal?{key:"moreSlot",fn:function(){return[a("feed-morepop",e._g({key:e.data.idstr,attrs:{mix_media_info:e.data.mix_media_info,index:e.index,id:e.data.idstr,text:e.data.text_raw,longTextContent:e.data.longTextContent_raw,isLongText:!!e.data.continue_tag,pic_id:e.data.pic_ids,mblogid:e.data.mblogid,uid:e.data.user&&e.data.user.idstr,screenName:e.data.user&&e.data.user.screen_name,visible:e.data.visible,isTop:e.data.isTop,editCount:e.data.edit_count,isVmenber:e.data.user&&+e.data.user.vclub_member,favorited:e.data.favorited,approval_comment_type:e.data.comment_manage_info?e.data.comment_manage_info.approval_comment_type:0,ai_assistant_comment_type:e.data.comment_manage_info&&e.data.comment_manage_info.ai_assistant_comment_type,page_title:e.data.page_info&&e.data.page_info.page_title?e.data.page_info.page_title:"",page_info:e.data.page_info,url_struct:e.data.url_struct&&e.data.url_struct.length?e.data.url_struct:[],single:e.single,pagetype:e.pagetype,hasCommentApproval:e.hasCommentApproval,canAddVideoVote:e.canAddVideoVote,showFastRepost:e.showFastRepost,ori_uid:e.data.ori_uid,ori_mid:e.data.ori_mid,actLogData:e.actLogData,mblog_menus_new:e.data.mblog_menus_new,extra_button_info:e.data.extra_button_info,following:e.data.user&&e.data.user.following,followcardid:e.data.followBtnCode&&e.data.followBtnCode.followcardid,mark:e.data.mark,rid:e.data.rid,in_audit:e.data.in_audit,after_audit:e.data.after_audit,tag_struct:e.data.tag_struct,contents:e.contents,pic_focus_point:e.data.pic_focus_point,is_paid:e.data.is_paid,pic_infos:e.data.pic_infos,isSecondRelationFeed:e.isSecondRelationFeed,share_repost_type:e.data.share_repost_type,can_remark:e.data.can_remark},on:{updateTitle:e.updateTitle,updateFavorited:e.updateFavorited,"head-arrow-down-tap":e.popShow,updateLongTextContent:e.updateLongTextContent,updatePopMask:e.updatePopMask,updateCommentType:e.updateCommentType,updateEditCount:e.updateEditCount,updateAudit:e.updateAudit,updateEditHistory:e.updateEditHistory,updateIsTop:e.updateIsTop,updateFollowing:e.updateFollowing}},e.$listeners))]},proxy:!0}:null],null,!0)}):e._e(),Object.keys(e.data).length?a("div",{class:(t={},t[e.$style.body]=!0,t[e.$style.editbody]="edit"===e.pagetype&&2!==e.data.history_type,t[e.$style.historybody]="edit"===e.pagetype&&2===e.data.history_type,t),on:{click:e.clickBody}},[e.showCocreate&&e.data.cocreate&&e.data.cocreate.length?a("FeedCocreate",{attrs:{data:e.data.cocreate,uid:e.data.user&&e.data.user.id}}):e.showHead?a("feed-head",e._g(e._b({attrs:{id:e.data.idstr,mblogid:e.data.mblogid,userInfo:e.data.user,source:e.data.source,content_auth:e.data.content_auth,content_auth_list:e.data.content_auth_list,time:e.data.created_at,editCount:e.data.edit_count,pagetype:e.pagetype,hide_from_prefix:e.data.hide_from_prefix,is_controlled_by_server:e.data.is_controlled_by_server,single:e.single,"img-lazy":e.imgLazy,index:e.index,visible:e.data.visible,history_type:e.data.history_type,modify_visible_at:e.data.modify_visible_at,text:e.data.text,screen_name_suffix_new:e.data.screen_name_suffix_new,showFastRepost:e.showFastRepost,showAttentionSuperTopic:e.showAttentionSuperTopic,content_auth_info:e.data.content_auth_info,mark:e.data.mark,specificTime:e.specificTime,showIp:e.showIp,region_name:e.data.region_name,url_struct:e.data.url_struct,title_source:e.data.title_source,isSecondRelationFeed:e.isSecondRelationFeed,showCooperateMblog:e.showCooperateMblog,cooperate_info:e.data.cooperate_info},on:{"head-avatar-tap":e.feedAvatar,"head-fast-repost-name-click":e.feedFastRepostName,"head-super-topic-click":e.feedSuperTopic,"time-tap":e.feedTime},scopedSlots:e._u([{key:"headIcons",fn:function(){return[e._t("headIcons")]},proxy:!0},e.isMy?{key:"readnumSlot",fn:function(){return[a("FeedReadnum",{attrs:{reads_count:e.data.reads_count,id:e.data.idstr,uid:e.data.user&&e.data.user.id,visible:e.data.visible,"feed-locale":e.feedLocale}})]},proxy:!0}:null,{key:"followBtnSlot",fn:function(){return[e.showFollowBtn?a("FeedFollowBtn",{attrs:{uid:e.data.user&&e.data.user.idstr,uids:e.data.cooperate_info&&e.data.cooperate_info.cooperate_user_list&&e.data.cooperate_info.cooperate_user_list.map((function(t){return t.id})),followcardid:e.data.followBtnCode&&e.data.followBtnCode.followcardid,uicode:e.getLogData("uicode"),fid:e.getLogData("fid"),page:e.getPage,following:e.data.user.following,followings:e.data.cooperate_info&&e.data.cooperate_info.cooperate_user_list&&e.data.cooperate_info.cooperate_user_list.map((function(t){return t.following})),mark:e.data.mark,rid:e.data.rid,monitor_url:e.data.promotion&&e.data.promotion.monitor_url},on:{updateFollowing:e.updateFollowing}}):e._e()]},proxy:!0},!e.showTitle&&e.hasMorePop&&e.config.isNormal?{key:"moreSlot",fn:function(){return[a("feed-morepop",e._g({attrs:{mix_media_info:e.data.mix_media_info,index:e.index,id:e.data.idstr,text:e.data.text_raw,longTextContent:e.data.longTextContent_raw,isLongText:!!e.data.continue_tag,pic_id:e.data.pic_ids,mblogid:e.data.mblogid,uid:e.data.user&&e.data.user.idstr,screenName:e.data.user&&e.data.user.screen_name?e.data.user.screen_name:"",visible:e.data.visible,isTop:e.data.isTop,editCount:e.data.edit_count,isVmenber:e.data.user&&e.data.user.vclub_member?+e.data.user.vclub_member:0,favorited:e.data.favorited,approval_comment_type:e.data.comment_manage_info?e.data.comment_manage_info.approval_comment_type:0,ai_assistant_comment_type:e.data.comment_manage_info&&e.data.comment_manage_info.ai_assistant_comment_type,page_title:e.data.page_info&&e.data.page_info.page_title?e.data.page_info.page_title:"",page_info:e.data.page_info,url_struct:e.data.url_struct&&e.data.url_struct.length?e.data.url_struct:[],single:e.single,pagetype:e.pagetype,hasCommentApproval:e.hasCommentApproval,canAddVideoVote:e.canAddVideoVote,showFastRepost:e.showFastRepost,ori_uid:e.data.ori_uid,ori_mid:e.data.ori_mid,mblog_menus_new:e.data.mblog_menus_new,menus:e.data.menus,extra_button_info:e.data.extra_button_info,actLogData:e.actLogData,following:e.data.user&&e.data.user.following,followcardid:e.data.followBtnCode&&e.data.followBtnCode.followcardid,mark:e.data.mark,rid:e.data.rid,in_audit:e.data.in_audit,after_audit:e.data.after_audit,tag_struct:e.data.tag_struct,contents:e.contents,pic_focus_point:e.data.pic_focus_point,is_paid:e.data.is_paid,pic_infos:e.data.pic_infos,isSecondRelationFeed:e.isSecondRelationFeed,share_repost_type:e.data.share_repost_type,can_remark:e.data.can_remark},on:{updateTitle:e.updateTitle,updateFavorited:e.updateFavorited,"head-arrow-down-tap":e.popShow,updateLongTextContent:e.updateLongTextContent,updatePopMask:e.updatePopMask,updateCommentType:e.updateCommentType,updateEditCount:e.updateEditCount,updateAudit:e.updateAudit,updateEditHistory:e.updateEditHistory,updateIsTop:e.updateIsTop,updateFollowing:e.updateFollowing}},e.$listeners))]},proxy:!0}:null],null,!0)},"feed-head",e.$attrs,!1),e.$listeners)):e._e(),e.$slots.beforeContent?a("div",{class:e.$style.beforeContent},[e._t("beforeContent")],2):e._e(),e._l(e.contents,(function(t,i){return[a("feed-content",e._g({key:t,class:["retweet"===t&&"retweet","retweet"===t&&!e.isMessage&&e.$style.retweet,"retweet"===t&&e.isMessage&&e.$style.retweetMessage,"retweet"!==t&&e.data.showPictureViewer&&e.$style.pictureViewer],attrs:{absstr:e.absstr,index:e.index,single:e.single,pagetype:e.pagetype,"transform-text":e.transformText,visable:e.visible,"auto-play":e.autoPlay,data:"retweet"===t?e.transData:e.data,repost:"retweet"===t,"has-media":e.contents.length===i+1,"has-content-media":e.hasContentMedia,"origin-data":e.data,specificTime:e.specificTime,"show-picture-viewer":e.getPictureViewerShowStatus(e.contents,t),contentType:t,disableFeedViewer:e.disableFeedViewer,darkMode:!!e.darkMode.mode,showTitle:e.showTitle,remarkByStatuses:"retweet"===t?e.data.retweeted_status&&e.data.retweeted_status.remark_by_statuses:e.data.remark_by_statuses,associatedStatuses:e.data.associated_statuses,associatedTitle:e.data.associated_title,isMy:e.isMy,loginUid:e.config.uid},on:{"tip-tap":e.FeedTip,"picture-tap":e.FeedPicture,"content-tap":e.feedContent,"link-tap":e.feedLink,"head-avatar-tap":e.feedAvatar,updateVoteObject:e.updateVoteObject,updateVoteState:e.updateVoteState,updateFollowing:e.updateFollowing},scopedSlots:e._u([{key:"pageCard",fn:function(){return[e._t("pageCard")]},proxy:!0},"retweet"===t&&e.data.retweeted_status&&e.hasRetweetbar&&!e.isMessage?{key:"retweetBar",fn:function(){return[a("woo-box",{class:"simple"===e.toolbarType&&e.$style.retweetBar,attrs:{justify:"between"}},[a("feed-head-info",{class:e.$style.retweetHeadInfo,attrs:{isSecondRelationFeed:e.isSecondRelationFeed,mblogid:e.data.retweeted_status.mblogid,id:e.data.retweeted_status.idstr,uid:e.data.retweeted_status.user&&e.data.retweeted_status.user.id,content_auth:e.data.retweeted_status.content_auth,content_auth_list:e.data.retweeted_status.content_auth_list,time:e.data.retweeted_status.created_at,pagetype:e.pagetype,single:e.single,hide_from_prefix:e.data.retweeted_status.hide_from_prefix,is_controlled_by_server:e.data.retweeted_status.is_controlled_by_server,content_auth_info:e.data.retweeted_status.content_auth_info,mark:e.data.retweeted_status.mark,specificTime:e.specificTime},on:{"time-tap":e.feedTime}}),e.data.retweeted_status&&e.data.retweeted_status.user?a("feed-toolbar",e._g(e._b({attrs:{standard:e.data.retweeted_status.number_display_strategy,repost:e.data.retweeted_status.reposts_count||0,comment:e.data.retweeted_status.comments_count||0,attitude:e.data.retweeted_status.attitudes_count||0,liked:1===e.data.retweeted_status.attitudes_status,id:e.data.retweeted_status.idstr,mblogid:e.data.retweeted_status.mblogid,uid:e.data.retweeted_status.user&&e.data.retweeted_status.user.id,single:e.single,simple:!0,"toolbar-align":e.toolbarAlign,"feed-locale":e.feedLocale,index:e.index,"custom-icons":e.data.retweeted_status.customIcons,mlevel:e.data.retweeted_status.mlevel},on:{"toolbar-retweet-tap":e.feedRetweet,"toolbar-comment-tap":e.feedComment,"toolbar-like-tap":e.feedLike},scopedSlots:e._u(["simple"!==e.toolbarType?{key:"toolbarSlot",fn:function(){return[e._t("toolbarSlot")]},proxy:!0}:null,{key:"toolbarFullSlot",fn:function(){return[e._t("toolbarFullSlot")]},proxy:!0}],null,!0)},"feed-toolbar",e.$attrs,!1),e.$listeners)):e._e()],1)]},proxy:!0}:null],null,!0)},e.$listeners))]})),e.data.tag_struct&&e.data.tag_struct.length&&"weibo"!=this.pagetype?a("div",{class:[e.$style.placebox,"viewer"===e.pagetype&&e.$style.inViewer]},[a("feed-tag",{attrs:{tag_struct:e.data.tag_struct,single:e.$attrs.single}})],1):e._e()],2):e._e(),e.single?a("Reward",{attrs:{mid:e.data.mid,user:e.data.user,uicode:e.getLogData("uicode")},on:{updateRewardInfo:e.updateRewardInfo}}):e._e(),e.data.deleted?e._e():e._t("tag",null,{tags:e.data.tags,id:e.data.idstr}),e.hasToolbar?a("feed-toolbar",e._g(e._b({attrs:{standard:e.data.number_display_strategy,repost:e.data.reposts_count||0,comment:e.data.comments_count||0,attitude:e.data.attitudes_count||0,liked:1===e.data.attitudes_status,id:e.data.idstr,mblogid:e.data.mblogid,uid:e.data.user&&e.data.user.id,single:e.single,simple:!1,"toolbar-align":e.toolbarAlign,"feed-locale":e.feedLocale,index:e.index,high:e.high,flat:e.toolbarFlatBtn,onlyRetweet:e.toolbarOnlyRetweet,showFeedRepost:e.data.showFeedRepost,showFeedComment:e.data.showFeedComment,shareRepostType:e.data.share_repost_type,"custom-icons":e.data.customIcons,textDirection:"viewer"===e.pagetype?"y":"x",mlevel:e.data.mlevel},on:{"toolbar-fastRepost-tap":e.feedFastRepost,"toolbar-retweet-tap":e.feedRetweet,"toolbar-comment-tap":e.feedComment,"toolbar-like-tap":e.feedLike,"toolbar-likeList-tap":e.feedLikeList,updateShowFeedRepost:e.updateShowFeedRepost,handlePop:e.popHandler},scopedSlots:e._u(["simple"!==e.toolbarType?{key:"toolbarSlot",fn:function(){return[e._t("toolbarSlot")]},proxy:!0}:null,{key:"customIcon",fn:function(){return[e._t("customIcon")]},proxy:!0},{key:"toolbarFullSlot",fn:function(){return[e.data.deleted?a("FeedDeletedToolbar",{class:e.$style.deltoolbar,attrs:{data:e.data.deletedData,id:e.data.idstr,ori_mid:e.data.ori_mid}}):e._e()]},proxy:!0}],null,!0)},"feed-toolbar",e.$attrs,!1),e.$listeners)):e._e(),e.single?a("FeedEditHistory",{attrs:{mid:e.editMid},model:{value:e.showEditModal,callback:function(t){e.showEditModal=t},expression:"showEditModal"}}):e._e(),(e.data.showFeedRepost||e.data.showFeedComment)&&e.enableMiniInteractive&&"viewer"!==e.pagetype?a("div",[a("woo-divider",{class:e.$style.mar1}),a("div",{class:e.$style.box},[a("MainComposer",{class:e.$style.mar2,attrs:{single:!0,feedSingle:e.single,data:e.data,action:"comment"===e.data.curTab?"create":e.data.curTab,deep:!1,config:e.config,autoFoucs:!1,actLogData:e.actLogData,callback:e.popHandler,actLogScene:e.actLogScene},on:{changeIndex:e.setScrollZIndex}}),"repost"===e.data.curTab&&0!==e.data.reposts_count||"comment"===e.data.curTab&&0!==e.data.comments_count?a("woo-divider",{class:e.$style.mar1}):e._e(),e.data.showFeedRepost||e.data.showFeedComment?a("RepostCommentFeed",e._g({ref:"rcFeed",attrs:{curTab:e.data.curTab,data:e.data,"transform-text":!0,actLogData:e.actLogData}},e.$listeners)):e._e()],1)],1):e._e()],2):e._e()},o=[],n=(i("99af"),i("7db0"),i("4160"),i("caad"),i("c975"),i("a15b"),i("d81d"),i("45fc"),i("b0c0"),i("a9e3"),i("b680"),i("b64b"),i("ac1f"),i("5377"),i("2532"),i("1276"),i("159b"),i("5530")),s=i("eba1"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",["repost"===t.curTab?[i("div",{class:t.$style.mar1},t._l(t.data.rcList,(function(e,a){return i("Repost",{key:e.idstr,attrs:{item:e,index:a,hotRepostTotal:t.hotRepostTotal,actLogData:t.actLogData,weiboData:t.data}})})),1)]:t._e(),"comment"===t.curTab?[t.tipMsg?i("woo-tip",{class:t.$style.mar2,attrs:{type:"warn",sort:"flat","has-icon":!1}},[t._v(t._s(t.tipMsg))]):t._e(),t.data.filterGroup&&t.data.filterGroup.length?i("div",{staticClass:"wbpro-tab3"},[i("woo-box",{staticClass:"list",class:t.$style.tab,attrs:{align:"center"}},t._l(t.data.filterGroup,(function(e,a){return i("div",{key:a,staticClass:"item",class:-1===t.curTabIndex&&1===e.isDefault||t.curTabIndex===a?"curr":"",domProps:{innerHTML:t._s(e.title)},on:{click:function(i){return t.changeTabs(e.param,a,e.type)}}})})),0)],1):t._e(),t.approvalTips||t.headerText?i("div",{class:t.$style.mar3},[t.approvalTips?i("woo-box",{class:[t.$style.opt,t.$style.link],attrs:{align:"center"},nativeOn:{click:function(e){return t.toManage()}}},[i("span",{domProps:{innerHTML:t._s(t.approvalTips)}}),i("woo-box",{staticClass:"wbpro-iconbed",class:t.$style.bed1,attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"angleRight"}})],1)],1):t._e(),t.headerText?i("woo-box",{class:t.$style.opt,attrs:{align:"center"}},[i("span",{domProps:{innerHTML:t._s(t.headerText)}})]):t._e()],1):t._e(),i("div",{class:t.$style.mar1},t._l(t.data.rcList,(function(e,a){return i("Comment",{key:e.idstr,attrs:{item:e,index:a,showReplyModal:t.showReplyModal,actLogData:t.actLogData,weiboData:t.data},on:{updateReplyModal:t.updateReplyModal}})})),1)]:t._e(),t.moreBtn.show?[i("woo-divider",{class:t.$style.divider}),i("a-link",{attrs:{to:t.getRouter()}},[i("woo-box",{class:t.$style.more,attrs:{align:"center",justify:"center"}},[i("div",{domProps:{textContent:t._s(t.moreBtn.text)}}),i("woo-fonticon",{class:t.$style.icon2,attrs:{value:"angleRight"}})],1)],1)]:t._e()],2),t.isLoading?i("woo-box",{class:t.$style.initLoad,attrs:{justify:"center"}},[i("woo-spinner",{class:t.$style.loadingIcon})],1):t._e(),t.noRepComLike&&t.noListText?i("div",{class:t.$style.tip},[i("woo-tip",{attrs:{type:"warn",sort:"vertical"}},[t._v(" "+t._s(t.noListText)+" ")])],1):t._e()],1)},l=[],c=(i("4de4"),i("c740"),i("a434"),i("466d"),i("2f62")),u=i("e054"),d=i("c885"),h=i("dd4e"),p=i("b12a"),f=i("ffe6"),m={name:"RepostCommentFeed",data:function(){return{mid:"",isLoading:!1,page:1,max_id:"",filterGroup:[],curTabIndex:-1,showReplyModal:!1,commentData:{},noListText:"",noRepComLike:!1,isChangeId:!1,tipMsg:"",approvalTips:"",headerText:"",showFeedback:!0,maxShowTotal:5,hotRepostTotal:0}},props:["curTab","data","actLogData"],mixins:[p["a"]],components:{Repost:d["a"],Comment:h["a"]},mounted:function(){var t=this;this.data.curTabIndex&&(this.curTabIndex=this.data.curTabIndex),this.data.tipMsg&&(this.tipMsg=this.data.tipMsg),this.data.headerText&&(this.headerText=this.data.headerText),this.$Bus.$on("deleteComment",this.deleteCommentHandle),this.$Bus.$on("deleteRepost",this.deleteRepostHandle),this.$once("hook:beforeDestroy",(function(){t.$Bus.$off("deleteComment",t.deleteCommentHandle),t.$Bus.$off("deleteRepost",t.deleteRepostHandle)}))},watch:{curTab:function(t){t&&!this.isChangeId&&(this.initApiData(),this.getList())},composerCallback:function(t){if("comment"===this.curTab){if("create"===t.action&&t.ok&&t.data.status.idstr===this.data.idstr){if(t.data.pic_ids&&t.data.pic_ids.length&&t.data.pic_ids[0]&&(t.data.pics=Object(u["a"])(t.data.pic_ids)),!t.location&&(!this.isMy&&this.checkComment&&(t.data.approval_comment_type=1),this.curTabIndex=-1===this.curTabIndex?0:this.curTabIndex,!(this.filterGroup.length&&this.filterGroup[this.curTabIndex]&&this.approvalCommentsType&&this.filterGroup[this.curTabIndex].type===this.approvalCommentsType))){if(this.data.rcList.length&&this.data.rcList[0].idstr===t.data.idstr)return;this.data.rcList.unshift(t.data),this.noRepComLike=!1}this.data.comments_count++,this.data.comments_count_format=Object(s["b"])(this.data.comments_count),this.$Bus.$emit("updateRCCount",{id:this.data.idstr,value:[{name:"comments_count",val:this.data.comments_count}]}),this.handleAdThirdLog()}}else if("repost"===this.curTab){if("repost"===t.action&&t.ok&&t.data.composer_ori_idstr===this.data.idstr){if(this.hotRepostTotal&&(this.hotRepostTotal+=1,t.data.callBackRepost=!0),this.data.rcList.length&&this.data.rcList[0].idstr===t.data.idstr)return;this.data.rcList.unshift(t.data),this.data.reposts_count++,this.data.reposts_count_format=Object(s["b"])(this.data.reposts_count),this.$Bus.$emit("updateRCCount",{id:this.data.idstr,value:[{name:"reposts_count",val:this.data.reposts_count}]}),this.handleAdThirdLog()}this.noRepComLike=!1}}},computed:Object(n["a"])(Object(n["a"])({},Object(c["c"])(["composerCallback","config"])),{},{isMy:function(){return!!(this.data&&this.data.user&&this.data.user.id)&&this.data.user.id===this.config.uid},cid:function(){return this.$route.query.cid},checkComment:function(){return this.data&&2===this.data.is_show_bulletin&&this.data.comment_manage_info&&1===this.data.comment_manage_info.approval_comment_type},approvalCommentsType:function(){if(this.filterGroup&&this.filterGroup.length){var t=this.filterGroup.findIndex((function(t){return"approvalComments"===t.type}));return this.filterGroup[t]&&this.filterGroup[t].type}return""},moreBtn:function(){var t={show:!1,text:""};return this.data&&this.data.rcList&&this.data.rcList.length&&this.data.rcTotalNumber&&this.data.rcTotalNumber>this.maxShowTotal&&(t.show=!0,t.text="查看全部".concat(Object(s["b"])(this.data.rcTotalNumber),"条").concat("repost"===this.curTab?"转发":"comment"===this.curTab?"评论":"")),t}}),methods:{deleteCommentHandle:function(t){this.deleteComment(t)},deleteRepostHandle:function(t){this.deleteRepost(t)},initApiData:function(){this.page=1,this.max_id="",this.data.rcList=[],this.moreBtn={show:!1,text:""},this.headerText="",this.approvalTips="",this.noRepComLike=!1},changeTabs:function(t,e,i){this.curTabIndex=e,this.initApiData(),this.getList(t,i)},getList:function(t,e){var i=this;if(!this.data.rcList||!this.data.rcList.length||!this.data.showFeedComment&&!this.data.showFeedRepost){var a={};if(t){var o=t.split("=")[0],r=t.split("=")[1];a[o]=r}var l="",c={};this.data.idstr&&("repost"===this.curTab?(l="/ajax/statuses/repostTimeline",c={id:this.data.idstr,page:this.page,moduleID:"feed",type:"feed"}):"comment"===this.curTab&&("reload"===e&&(this.curTabIndex=0,this.filterGroup=[]),"approvalComments"===e?(l="/ajax/approval/list",c={id:this.data.idstr,max_id:this.max_id,count:20,filter_type:0,is_reload:1}):(l="/ajax/statuses/buildComments",c=Object(n["a"])(Object(n["a"])({},a),{},{is_reload:1,id:this.data.idstr,is_show_bulletin:this.data.is_show_bulletin,is_mix:0,max_id:this.max_id,count:20,anchor_id:this.cid,type:"feed",uid:this.data.user.id,fetch_level:0,locale:Object(f["a"])()})))),"repost"===this.curTab&&0===this.data.reposts_count||"comment"===this.curTab&&0===this.data.comments_count?this.$set(this.data,"getRcList",!0):l&&(this.isLoading=!0,this.$http.get(l,{params:c}).then((function(t){i.isLoading=!1,i.noRepComLike=!1;var e=t.data,a=[];e.data&&e.data.length&&(a=e.data,"repost"===i.curTab?(i.data.reposts_count=e.total_number,i.data.reposts_count_format=Object(s["b"])(i.data.reposts_count),1===i.page&&e.hot_reposts_total&&(i.hotRepostTotal=e.hot_reposts_total)):"comment"===i.curTab&&(0===i.filterGroup.length&&e.filter_group&&e.filter_group.length&&(i.filterGroup=e.filter_group),e.total_number>=0&&(i.data.comments_count=e.total_number,i.data.comments_count_format=Object(s["b"])(i.data.comments_count)),1===i.page&&e.header_text&&(i.headerText=e.header_text),a.map((function(t){t.url_struct&&t.url_struct.length&&t.url_struct[0].pic_ids&&t.url_struct[0].pic_ids.length&&(t.pics=Object(u["a"])(t.url_struct[0].pic_ids),t.pics=t.pics.map((function(t){var e;return(null===(e=t.url)||void 0===e?void 0:e.match(/\.gif/))&&(t.url=t.large.url),t})))}))),1===i.page&&e.tip_msg&&(i.tipMsg=e.tip_msg),i.data.rcList=[],i.data.rcList=i.data.rcList.concat(a),i.$set(i.data,"getRcList",!0),i.$set(i.data,"rcTotalNumber",e.total_number),i.$set(i.data,"filterGroup",i.filterGroup),i.$set(i.data,"curTabIndex",i.curTabIndex),i.$set(i.data,"tipMsg",i.tipMsg),i.$set(i.data,"headerText",i.headerText)),"repost"===i.curTab&&0===e.next_cursor&&(i.isLoading=!1),"comment"===i.curTab&&0===e.max_id&&(i.isLoading=!1),(("repost"===i.curTab&&!e.next_cursor||"comment"===i.curTab&&!i.max_id)&&0===i.data.rcList.length||0===e.total_number||e.empty_tip)&&(i.data.rcList=[],i.noRepComLike=!0,"repost"===i.curTab?i.noListText=e.empty_tip||"快来转发精彩内容吧":"comment"===i.curTab&&(i.approvalCommentsType?i.noListText="暂无需要审核的评论":!i.isMy&&i.checkComment?i.noListText="博主已开启评论精选":i.noListText=e.trendsText||"快来发表你的评论吧")),i.isChangeId=!1})).catch((function(){i.data.rcList=[],i.isLoading=!1})))}},updateReplyModal:function(t){this.showReplyModal=t.show,this.commentData={id:t.id,total_number:t.total_number,rootComment:t.rootComment},this.$emit("updateFeedReplyModal",{showReplyModal:this.showReplyModal,commentData:this.commentData,weiboData:this.data})},deleteComment:function(t){var e=this,i=t.cid,a=t.rootid;if(a)this.data.rcList.map((function(t){if(t.comments&&t.comments.length){var a=t.comments.findIndex((function(t){return t.idstr===i}));a>-1&&(t.comments.splice(a,1),t.total_number--,e.data.comments_count--,e.data.comments_count_format=Object(s["b"])(e.data.comments_count),t.more_info&&t.more_info.highlight_text&&(t.more_info.highlight_text="共".concat(t.total_number,"条回复")))}}));else{var o=this.data.rcList.findIndex((function(t){return t.idstr===i}));o>-1&&(this.data.rcList.splice(o,1),this.data.comments_count--,this.data.comments_count_format=Object(s["b"])(this.data.comments_count),this.data.rcList.length||(this.approvalCommentsType?(this.filterGroup=this.filterGroup.filter((function(t){return t.type===e.approvalCommentsType})),this.headerText="",this.page=1,this.getList("",this.approvalCommentsType)):(this.data.rcList=[],this.noRepComLike=!0,this.noListText="快来发表你的评论吧",this.filterGroup=[])))}},deleteRepost:function(t){var e=this.data.rcList.findIndex((function(e){return e.idstr===t}));e>-1&&(this.data.rcList.splice(e,1),this.data.reposts_count--,this.data.reposts_count_format=Object(s["b"])(this.data.reposts_count),this.data.rcList.length||(this.data.rcList=[],this.noRepComLike=!0,this.noListText="快来转发精彩内容吧"))},toManage:function(){window.open("/manage/approval/cmt?id=".concat(this.data.idstr))},getRouter:function(){var t={name:"bidDetail",params:{uid:this.data.user.id,id:this.data.mblogid,from:"feed"},hash:"#repost"};if("repost"===this.curTab)t=Object(n["a"])(Object(n["a"])({},t),{},{hash:"#repost"});else if("comment"===this.curTab){if(this.filterGroup&&this.filterGroup.length){var e={};if(-1===this.curTabIndex){var i=this.filterGroup.findIndex((function(t){return 1===+t.isDefault}));this.curTabIndex=i>-1?i:0}var a=this.filterGroup[this.curTabIndex].param;if(a){var o=a.split("=")[0],s=a.split("=")[1];e[o]=s}t.params.commentTabParms=e}t=Object(n["a"])(Object(n["a"])({},t),{},{hash:"#comment"})}return t},handleAdThirdLog:function(){this.data&&this.data.mark&&this.data.promotion&&this.data.promotion.monitor_url&&this.data.promotion.monitor_url.length&&this.thirdMonitor(this.data.promotion.monitor_url,"click")}}},v=m,_=i("6882"),g=i("2877");function b(t){this["$style"]=_["default"].locals||_["default"]}var y=Object(g["a"])(v,r,l,!1,b,null,null),w=y.exports,x=i("9912"),k=function(){var t,e=this,i=e.$createElement,a=e._self._c||i;return a("woo-box",{attrs:{tag:"header"}},[e.showAttentionSuperTopic?a("a-link",{attrs:{linkType:"old","style-type":"none",href:e.getSuperTopicHref(e.title_source.name),target:"_blank"},nativeOn:{click:function(t){t.stopPropagation()}}},[a("woo-box",[e.superTopicImage?a("woo-avatar",{key:e.superTopicImage,class:e.$style.avatar,attrs:{src:e.httpsUpgrade(e.superTopicImage),size:52,"icon-size":16,usercard:e.userInfo.id}},[a("img",{staticClass:"woo-avatar-icon",class:e.$style.superAvatar,attrs:{src:e.superAvatarIconUrl}})]):e._e()],1)],1):e.showCooperateMblog?a("span",e._l(e.cooperate_info.cooperate_user_list,(function(t,i){return a("a-link",{key:i,class:e.$style.cooperate,attrs:{linkType:"old",href:"/u/"+t.id,"aria-label":t.remark?t.remark:t.screen_name},nativeOn:{click:function(i){return i.preventDefault(),e.avatarClick("avatar",t)}}},[a("woo-avatar",{key:t.avatar_large,class:e.$style.avatar,attrs:{usercard:t.id,verified:e.getVerified(t),src:t.avatar_large,size:52,"icon-size":16,iconClickable:e.checkIsVBlue(e.getVerified(t))},on:{"click-icon":function(t){return t.stopPropagation(),t.preventDefault(),e.onClickIcon(t)}}})],1)})),1):e.userInfo.avatar_large?a("a-link",{attrs:{linkType:"old",href:"/u/"+e.userInfo.id,"aria-label":e.userInfo.remark?e.userInfo.remark:e.userInfo.screen_name},nativeOn:{click:function(t){return t.preventDefault(),e.avatarClick("avatar")}}},[a("woo-avatar",{key:e.userInfo.avatar_large,class:e.$style.avatar,attrs:{usercard:e.userInfo.id,verified:e.verifiedIcon,src:e.userInfo.avatar_large,size:52,"icon-size":16,iconClickable:e.isVBlue},on:{"click-icon":function(t){return t.stopPropagation(),t.preventDefault(),e.onClickIcon(t)}}})],1):e._e(),2===e.history_type?a("div",{class:e.$style.historyavatar},[a("img",{attrs:{src:"https://h5.sinaimg.cn/upload/1005/948/2020/03/02/lock.png"}})]):e._e(),a("woo-box-item",{class:e.$style.main},[a("woo-box",{class:e.$style.content_wrap,attrs:{justify:"center",direction:"y"}},[e.showFastRepost||e.showCooperateMblog?a("woo-box",{class:e.$style.suffixbox,attrs:{align:"center"}},[e._l(e.screen_name_suffix_new,(function(t,i){return[0===i||2===i?a("a-link",{key:i,class:[e.$style.link,e.$style.bolder,e.$style.cut,e.$style.fastfront],attrs:{linkType:"old",href:e.getFastRepostHref(i)},on:{click:function(t){t.preventDefault()}}},[a("span",{attrs:{title:t.remark||t.content,usercard:e.onGetUserCardInfo(t,i)},on:{click:function(t){return e.fastRepostNameClick(i)}}},[e._v(" "+e._s(t.remark||t.content)+" ")])]):e._e(),1===i||3===i?a("span",{key:i,class:e.$style.fastbehind},[e._v(" "+e._s(t.content)+" ")]):e._e()]}))],2):e.showAttentionSuperTopic?a("woo-box",{class:e.$style.suffixbox,attrs:{align:"center"}},e._l(e.screen_name_suffix_new,(function(t,i){return a("span",{key:i,attrs:{title:t.content}},[t.icons&&t.icons[0]&&t.icons[0].url?a("img",{class:e.$style.suffixIcon,attrs:{src:e.getSuperIcon(t.icons[0].url)}}):e._e(),a("a-link",{class:[e.$style.superText,e.$style.cut,e.$style.bolder],attrs:{linkType:"old",href:e.getSuperTopicHref(t.remark||t.content)},on:{click:function(t){t.preventDefault()}}},[a("span",{attrs:{title:t.remark||t.content},on:{click:function(i){return e.superTopicClick(t)}}},[e._v(" "+e._s(t.remark||t.content)+" ")])])],1)})),0):e.userInfo&&e.userInfo.id?a("woo-box",{class:e.$style.nick,attrs:{align:"center"}},[a("a-link",{class:(t={},t[e.$style.cut]=!0,t[e.$style.name]=!0,t[e.$style.overname]="viewer"===e.pagetype,t),attrs:{usercard:e.userInfo.id,linkType:"old",href:"/u/"+e.userInfo.id},nativeOn:{click:function(t){return t.preventDefault(),e.avatarClick("screen_name")}}},[a("span",{attrs:{title:e.userInfo.remark?e.userInfo.remark:e.userInfo.screen_name}},[e._v(e._s(e.userInfo.remark?e.userInfo.remark:e.userInfo.screen_name))])]),e.userInfo&&e.userInfo.id?a("IconList",{attrs:{userInfo:e.userInfo}}):e._e(),e.$slots.headIcons?a("woo-box",{class:e.$style.iconsPlus,attrs:{align:"center"}},[e._t("headIcons")],2):e._e()],1):e._e(),a("feed-head-info",e._g({attrs:{uid:e.userInfo.id,mblogid:e.mblogid,id:e.id,content_auth:e.content_auth,content_auth_list:e.content_auth_list,time:e.time,source:e.source,editCount:e.editCount,pagetype:e.pagetype,hide_from_prefix:e.hide_from_prefix,is_controlled_by_server:e.is_controlled_by_server,single:e.single,history_type:e.history_type,modify_visible_at:e.modify_visible_at,text:e.text,content_auth_info:e.content_auth_info,mark:e.mark,specificTime:e.specificTime,showIp:e.showIp,region_name:e.region_name,showAttentionSuperTopic:e.showAttentionSuperTopic,isSecondRelationFeed:e.isSecondRelationFeed}},e.$listeners)),e.showIp&&"viewer"===e.pagetype?a("woo-box",{class:e.$style.ip,attrs:{align:"center",title:e.region_name}},[e._v(e._s(e.region_name))]):e._e()],1)],1),a("woo-box",{attrs:{direction:"x",align:"viewer"===e.pagetype?"center":"inherit"}},[e.$slots.readnumSlot?e._t("readnumSlot"):e._e(),e.$slots.followBtnSlot?e._t("followBtnSlot"):e._e(),e.$slots.moreSlot?e._t("moreSlot"):e._e()],2)],1)},$=[],C=(i("fb6a"),i("7909")),O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("woo-box",{class:t.$style.info,attrs:{align:"center",justify:"center"}},[[t.isIcon?a("div",{class:["wbpro-tag-img",t.$style.tag]},[t.isDark?a("img",{attrs:{src:i("165b")}}):a("img",{attrs:{src:i("247c")}})]):t.contentAuthTextList.length?a("div",{class:t.$style.tagList},t._l(t.contentAuthTextList,(function(e,i){return a("div",{key:i,class:["wbpro-tag",t.getLengthStyle(e.content_auth_info.content_auth_title),t.$style.tag],style:{color:t.isDark?e.content_auth_info_dark.content_auth_title_color:e.content_auth_info.content_auth_title_color,borderColor:t.isDark?e.content_auth_info_dark.content_auth_border_color:e.content_auth_info.content_auth_border_color}},[a("div",[t._v(t._s(e.content_auth_info.content_auth_title))])])})),0):t.getContentAuthText(t.content_auth)?a("div",{class:["wbpro-tag","wbpro-tag-c1",t.getLengthStyle(t.getContentAuthText(t.content_auth)),t.$style.tag]},[a("div",{domProps:{innerHTML:t._s(t.getContentAuthText(t.content_auth))}})]):t.content_auth_info&&t.content_auth_info.content_auth_title?a("div",{class:["wbpro-tag","wbpro-tag-c2",t.getLengthStyle(t.content_auth_info.content_auth_title),t.$style.tag]},[a("div",{domProps:{innerHTML:t._s(t.content_auth_info.content_auth_title)}})]):t._e()],t.time&&2!==t.history_type?a("a",{class:t.$style.time,attrs:{title:t.single?"":t.altTime,href:t.detailUrl},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toDetail(e)}}},[t._v(" "+t._s(t._f("fromNow")(t.time,t.specificTime))+" ")]):t._e(),2===t.history_type?a("span",{class:t.$style.text},[t._v(" "+t._s(t._f("fromNow")(t.modify_visible_at,"history"))+"，"+t._s(t.text)+" ")]):t._e(),a("woo-box-item",{class:t.$style.from},[a("woo-box",[t.showIp&&"viewer"!==t.pagetype?a("div",{class:t.$style.ip,attrs:{title:t.region_name}},[t._v(" "+t._s(t.region_name)+" ")]):t._e(),t.showAttentionSuperTopic?a("div",[t._v(" 来自 "),a("a-link",{class:t.$style.cut,attrs:{to:"/u/"+t.uid}},[a("span",{attrs:{title:t.source}},[t._v(t._s(t.source))])])],1):t.source?a("div",{class:[t.$style.cut,t.$style.source],domProps:{innerHTML:t._s(("hot"===t.pagetype||t.single||t.isSecondRelationFeed||1===+t.hide_from_prefix)&&1===+t.hide_from_prefix?t.source:"来自 "+t.source)}}):t._e(),t.editCount&&"edit"!==t.pagetype?a("span",{class:[t.$style.edit,t.$style.cut]},[t._v(" 已编辑 ")]):t._e()])],1)],2)},j=[],T=(i("9129"),i("fd20")),D={name:"head-info",props:{uid:[Number,String],mblogid:String,id:String,content_auth:Number,content_auth_list:Array,time:String,source:String,editCount:Number,pagetype:String,hide_from_prefix:[Number,String],is_controlled_by_server:[Number,String],single:Boolean,history_type:Number,modify_visible_at:String,text:String,content_auth_info:Object,specificTime:Boolean,showIp:Boolean,region_name:String,showAttentionSuperTopic:Boolean,isSecondRelationFeed:Boolean},computed:Object(n["a"])(Object(n["a"])({},Object(c["c"])(["darkMode"])),{},{isDark:function(){var t;return 1===(null===(t=this.darkMode)||void 0===t?void 0:t.mode)},contentAuthTextList:function(){var t,e=this;return Array.isArray(this.content_auth_list)&&(null===(t=this.content_auth_list)||void 0===t?void 0:t.length)>0?this.content_auth_list.map((function(t){switch(t.content_auth){case 1:case 2:case 3:case 4:return Object(n["a"])(Object(n["a"])({},t),{},{content_auth_info:{content_auth_border_color:"#ffbb75",content_auth_title_color:"#ff8200",content_auth_title:e.getContentAuthText(t.content_auth)},content_auth_info_dark:{content_auth_border_color:"#8a653f",content_auth_title_color:"#ea8200",content_auth_title:e.getContentAuthText(t.content_auth)}});case 5:if(t.content_auth_info)return t;var i,a,o,s,r,l;if(e.content_auth_info)return Object(n["a"])(Object(n["a"])({},t),{},{content_auth_info:{content_auth_border_color:(null===(i=e.content_auth_info)||void 0===i?void 0:i.content_auth_border_color)||"#ffbb75",content_auth_title_color:(null===(a=e.content_auth_info)||void 0===a?void 0:a.content_auth_title_color)||"#ff8200",content_auth_title:null===(o=e.content_auth_info)||void 0===o?void 0:o.content_auth_title},content_auth_info_dark:{content_auth_border_color:(null===(s=e.content_auth_info)||void 0===s?void 0:s.content_auth_border_color)||"#8a653f",content_auth_title_color:(null===(r=e.content_auth_info)||void 0===r?void 0:r.content_auth_title_color)||"#ea8200",content_auth_title:null===(l=e.content_auth_info)||void 0===l?void 0:l.content_auth_title}})}return t})):[]},altTime:function(){var t=new Date(this.time);if(Number.isNaN(t.getTime())||"string"===typeof this.time&&(-1!==this.time.indexOf("-")||-1!==this.time.indexOf(".")))return this.time;var e=t.getFullYear(),i=t.getMonth()+1,a=t.getDate(),o=t.getHours(),n=t.getMinutes();return i=i<10?"0".concat(i):i,a=a<10?"0".concat(a):a,o=o<10?"0".concat(o):o,n=n<10?"0".concat(n):n,"".concat(e,"-").concat(i,"-").concat(a," ").concat(o,":").concat(n)},detailUrl:function(){return this.uid&&this.mblogid?"https://weibo.com/".concat(this.uid,"/").concat(this.mblogid):"javascript:;"},isIcon:function(){var t;return"广告"===(null===(t=this.content_auth_info)||void 0===t?void 0:t.content_auth_title)}}),methods:{getLengthStyle:function(t){var e=Object(T["a"])(t);return e>=8?"wbpro-tag-length4":e>=6?"wbpro-tag-length3":void 0},toDetail:function(){this.$emit("time-tap",{uid:this.uid,id:this.id,mblogid:this.mblogid,mark:this.mark})},getContentAuthText:function(t){switch(t){case 1:return"首发";case 2:return"独家";case 3:return"原创";case 4:return"权威"}return""}}},S=D,I=i("499e");function L(t){this["$style"]=I["default"].locals||I["default"]}var B=Object(g["a"])(S,O,j,!1,L,null,null),P=B.exports,A=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{attrs:{align:"center"}},[t._l(t.icons,(function(e,a){return["vip"===e.type?i("IconVip",{key:a,attrs:{mbrank:e.data.mbrank,mbtype:e.data.mbtype,svip:e.data.svip,vvip:e.data.vvip}}):t._e(),"icon"===e.type?i("a",{key:a,class:t.$style.fans,attrs:{href:e.data.url,title:e.data.title,"aria-label":e.data.title,target:"_blank"}},[i("img",{class:t.$style.custom,attrs:{src:e.data.icon_img}})]):t._e()]}))],2)},E=[],M=i("bfbe"),F=i("ed09"),R={props:{userInfo:{type:Object,default:function(){return{}}}},setup:function(t){var e=Object(F["a"])((function(){var e;return(null===t||void 0===t||null===(e=t.userInfo)||void 0===e?void 0:e.icon_list)||[]}));return{icons:e}},components:{IconVip:M["a"]}},V=R,N=i("22b7");function H(t){this["$style"]=N["default"].locals||N["default"]}var z=Object(g["a"])(V,A,E,!1,H,null,null),U=z.exports,G=i("b893"),q=i("fa20");function W(t){return Object(q["c"])(t)}var Q={name:"feed-head",props:{id:String,mblogid:String,userInfo:{type:Object,default:function(){return{avatar_hd:"//tvax1.sinaimg.cn/default/images/default_avatar_male_180.gif",screen_name:""}}},content_auth:Number,content_auth_list:Array,time:String,source:String,editCount:Number,index:Number,pagetype:String,hide_from_prefix:[Number,String],is_controlled_by_server:[Number,String],single:Boolean,history_type:Number,modify_visible_at:String,text:String,showFastRepost:Boolean,showAttentionSuperTopic:Boolean,screen_name_suffix_new:{type:Array,default:function(){return[]}},content_auth_info:Object,mark:String,specificTime:Boolean,showIp:Boolean,region_name:String,url_struct:Array,title_source:Object,isSecondRelationFeed:Boolean,showCooperateMblog:Boolean,cooperate_info:{type:Object,default:function(){return{}}}},inheritAttrs:!1,mixins:[C["a"]],inject:["getDarkMode"],components:{FeedHeadInfo:P,IconList:U},computed:Object(n["a"])(Object(n["a"])({},Object(c["c"])(["config"])),{},{isVBlue:function(){return"vblue"===this.verifiedIcon},verifiedIcon:function(){return W(this.userInfo)},cover:function(){return this.userInfo.avatargj_id&&"//vip.storage.weibo.com/avatargj_img/".concat(this.userInfo.avatargj_id,"_cover.png")},isDark:function(){return this.getDarkMode()},superAvatarIconUrl:function(){return this.isDark?"https://h5.sinaimg.cn/upload/1005/948/2022/11/24/superAvatarDarkIcon.png":"https://h5.sinaimg.cn/upload/1005/948/2022/11/24/superAvatarIcon.png"},superTopicImage:function(){var t;return(null===(t=this.title_source)||void 0===t?void 0:t.feed_super_topic_image)?this.title_source.feed_super_topic_image:""}}),methods:{getVerified:W,checkIsVBlue:function(t){return"vblue"===t},httpsUpgrade:G["d"],onGetUserCardInfo:function(t,e){if(0===e)return"name=@".concat(t.content);if(2===e&&t.scheme){var i=/uid=(\d+)/,a=t.scheme.match(i);return a?a[1]:void 0}},onClickIcon:function(){window.open("https://fuwu.biz.weibo.com/?lz=newpc")},avatarClick:function(t,e){e||(e=this.userInfo),this.$emit("head-avatar-tap",{userInfo:e,type:t})},fastRepostNameClick:function(t){this.$emit("head-fast-repost-name-click",this.screen_name_suffix_new,t)},superTopicClick:function(t){this.$emit("head-super-topic-click",t)},getFastRepostHref:function(t){var e=this.screen_name_suffix_new[t],i=e.content;return"我"===i&&e.scheme&&this.config.user&&(i=this.config.user.screen_name),"/n/".concat(i)},getSuperTopicHref:function(t){if(this.url_struct&&this.url_struct.length){var e=this.url_struct&&this.url_struct.find((function(e){return e.url_title===t}));return e&&e.page_id&&e.page_id.indexOf("100808")>-1?"https://weibo.com/p/".concat(e.page_id):""}},getSuperIcon:function(t){return this.isDark?t.slice(0,-4)+"_dark.png":t.slice(0,-4)+"_default.png"}}},J=Q,K=i("190d");function Y(t){this["$style"]=K["default"].locals||K["default"]}var X=Object(g["a"])(J,k,$,!1,Y,null,null),Z=X.exports,tt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"contentRef",class:{"wbpro-feed-content":!t.repost},on:{click:function(e){return e.stopPropagation(),t.clickHandle(e)}}},[t.isCommunityNote&&t.repost||t.isMessage?t._e():i("tips",t._b({attrs:{complaint:t.data.complaint,showCommunityNote:t.showCommunityNote},on:{"tip-click":t.handleTipClick}},"tips",t.$attrs,!1)),t.data.stamp_info&&!t.isMessage?i("feed-stamp",t._b({attrs:{data:t.data.stamp_info,repost:t.repost,showTitle:!!t.showTitle,showTips:!!t.showTips,"hight-position":t.stampHightPosition}},"feed-stamp",t.$attrs,!1)):t._e(),i("feed-detail",t._g(t._b({ref:"feedDetailRef",class:!t.repost&&t.$style.textrow,attrs:{data:t.data,text:t.data.text,repost:t.repost,isLongText:!!t.data.continue_tag,pagetype:t.pagetype,id:t.data.mblogid,user:t.data.user,topic:t.$attrs["transform-text"]?t.data.topic_struct:[],url:t.$attrs["transform-text"]?t.data.url_struct:[]},on:{"text-tap":t.handleTextTap,updateText:t.updateText},scopedSlots:t._u([{key:"beforeContent",fn:function(){return[t.isCommunityNote&&t.repost?i("tips",t._b({attrs:{complaint:t.data.complaint,showCommunityNote:t.showCommunityNote,communityNoteInRepost:!0},on:{"tip-click":t.handleTipClick}},"tips",t.$attrs,!1)):t._e()]},proxy:!0}])},"feed-detail",t.$attrs,!1),t.$listeners)),t.hasContentMedia?[t.data.mix_media_info&&t.data.mix_media_info.items?i("feed-picture-video",t._g({attrs:{data:t.data,isPay:t.isPay,pagetype:t.pagetype,showPictureViewer:t.showPictureViewer,disableFeedViewer:t.disableFeedViewer,"origin-content":t.originData}},t.$listeners)):t.data.pics&&t.data.pics.length||t.data.pic_infos?i("feed-picture-box",t._g(t._b({attrs:{data:t.data,pics:t.pics,isPay:t.isPay,pagetype:t.pagetype,showPictureViewer:t.showPictureViewer,disableFeedViewer:t.disableFeedViewer}},"feed-picture-box",t.$attrs,!1),t.$listeners)):t.$slots.pageCard&&t.hasMedia?i("div",{class:[t.$style.row,t.$style.cursor],attrs:{tabindex:"0"}},[t._t("pageCard")],2):t.data.page_info&&t.hasMedia?i(t.card,t._g(t._b({key:t.data.idstr,tag:"component",class:t.$style.row,attrs:{tabindex:"0",id:t.data.idstr,data:t.data.page_info,url_struct:t.data.url_struct,repost:t.repost,"weibo-id":t.data.idstr,content:t.data,pagetype:t.pagetype,isPay:t.isPay,"origin-content":t.originData,monitor_url:t.data.promotion&&t.data.promotion.monitor_url,uid:t.data.user&&t.data.user.id,following:t.data.user&&t.data.user.following,mark:t.data.mark,rid:t.data.rid}},"component",t.$attrs,!1),t.$listeners)):t._e()]:t._e(),t.$attrs.single?i("CommunityNoteDetail",{attrs:{inRetweet:t.repost,remarkByStatuses:t.remarkByStatuses,isMy:t.isMy}}):t._e(),t.$attrs.single?i("AssociatedStatuses",{attrs:{data:t.$attrs.associatedStatuses,title:t.$attrs.associatedTitle}}):t._e(),i("FeedCardShopWindow",{attrs:{commonStruct:t.data.common_struct}}),t._t("retweetBar"),t.repost&&t.data.tag_struct&&t.data.tag_struct.length&&"weibo"!==this.pagetype?i("div",{class:t.$style.placebox},[i("feed-tag",{attrs:{tag_struct:t.data.tag_struct,single:t.$attrs.single}})],1):t._e()],2)},et=[],it=(i("d3b7"),i("25f0"),i("5319"),function(){var t,e=this,i=e.$createElement,a=e._self._c||i;return a("div",{class:(t={},t[e.$style.text]=!0,t[e.$style.ogText]=!1===e.repost,t["wbpro-feed-ogText"]=!1===e.repost,t[e.$style.reText]=!0===e.repost,t["wbpro-feed-reText"]=!0===e.repost,t)},[e.repost&&e.user?a("div",{class:e.$style.retit},[a("woo-box",{attrs:{align:"center"}},[a("a-link",{attrs:{to:"/u/"+e.user.id,usercard:e.user.id},nativeOn:{click:function(t){return t.stopPropagation(),e.avatarClick(t)}}},[a("span",{class:[e.$style.cut,e.$style.nick]},[e._v("@"+e._s(e.user.remark?e.user.remark:e.user.screen_name))])]),a("feed-verified",{class:e.$style.verify,attrs:{user:e.user,size:"16"}})],1)],1):e._e(),e._t("beforeContent"),e.showText&&2!==e.data.history_type?a("div",{directives:[{name:"ahref",rawName:"v-ahref"}],class:e.$style.wbtext,domProps:{innerHTML:e._s(e.showText)},on:{click:function(t){return t.stopPropagation(),e.clickText(t)}}}):e._e(),e.data.translate?a("div",[a("translate",{key:e.data.id,class:e.$style.transGap,attrs:{translate:e.data.translate,text:this.data.translateText,mid:e.data.mid}})],1):e._e()],2)}),at=[],ot=(i("4d63"),navigator.userAgent),nt={iOS:!!ot.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),Android:ot.indexOf("Android")>-1||ot.indexOf("Adr")>-1,Weibo:/weibo/.test(ot),Wechat:/micromessenger/i.test(ot)},st=nt,rt="",lt={nick:function(t){return st.Weibo?"sinaweibo://userinfo?nick=".concat(t):"".concat(rt,"/n/").concat(t)},uid:function(t){return st.Weibo?"sinaweibo://userinfo?uid=".concat(t):"".concat(rt,"/u/").concat(t)}},ct=lt,ut=i("5e3e"),dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("woo-box",{class:t.$style.opt,attrs:{align:"center"}},[i("woo-fonticon",{class:t.$style.icon,attrs:{value:"translate"}}),i("a",{class:t.$style.text,on:{click:function(e){return t.onClickTranslate(t.mid)}}},[t.showText?i("span",[t._v(t._s(t.translate.hint_hide))]):i("span",[t._v(t._s(t.translate.hint_show))])]),t.source&&t.showText?i("span",{class:t.$style.source},[t._v(t._s(t.source))]):t._e()],1),t.translateLoading?i("woo-box",{class:[t.$style.transIng,t.$style.transGap],attrs:{align:"center",justify:"center"}},[i("woo-spinner",{attrs:{filled:""}})],1):t._e(),t.translateText&&t.showText?i("div",{class:[t.$style.wbtext,t.$style.transGap],domProps:{innerHTML:t._s(t.translateText)}}):t._e()],1)},ht=[],pt={props:{mid:{type:String,default:""},text:String,visible:Boolean,translate:{type:Object,default:function(){return{}}}},setup:function(t,e){e.emit;var i=Object(F["d"])().proxy,a=null,o=Object(F["n"])(Object(f["a"])(t.uid)),n=Object(F["n"])(!1),s=Object(F["n"])(!1),r=Object(F["n"])(!1),l=Object(F["n"])(""),c=Object(F["n"])(""),u=function(){clearTimeout(a),a=null,a=setTimeout((function(){s.value=!1}),300)},d=function(){clearTimeout(a),a=null,s.value=!0},h=function(t){n.value?n.value=!1:l.value?n.value=!0:m(t)},p=function(e){o.value=e,s.value=!1,n.value=!1,l.value="",m(t.mid)},m=function(t){r.value=!0,i.$http.get("/ajax/statuses/translate",{params:{mid:t,locale:o.value}}).then((function(t){t.data.ok>0?(n.value=!0,l.value=t.data.data,c.value=t.data.source):i.$_w_toast({type:"error",message:t.data.msg}),r.value=!1})).catch((function(){r.value=!1}))};return{showMenu:s,onMouseEnter:d,onMouseLeave:u,langs:f["b"],onChangeLang:p,onTranslate:m,translateLoading:r,onClickTranslate:h,showText:n,translateText:l,source:c}}},ft=pt,mt=i("76d1");function vt(t){this["$style"]=mt["default"].locals||mt["default"]}var _t=Object(g["a"])(ft,dt,ht,!1,vt,null,null),gt=_t.exports,bt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-icon",{class:[t.isVBlue&&t.$style.cursor],attrs:{symbol:t.symbol,size:t.size},nativeOn:{click:function(e){t.isVBlue&&t.openUrl()}}})},yt=[],wt="https://fuwu.biz.weibo.com/?lz=newpc",xt={name:"verified",props:["user","size"],computed:{isVBlue:function(){return"vblue"===this.symbol},symbol:function(){return W(this.user)}},methods:{openUrl:function(){window.open(wt)}}},kt=xt,$t=i("4268");function Ct(t){this["$style"]=$t["default"].locals||$t["default"]}var Ot=Object(g["a"])(kt,bt,yt,!1,Ct,null,null),jt=Ot.exports,Tt=i("92e8"),Dt={components:{translate:gt,FeedVerified:jt},mixins:[ut["a"]],inheritAttrs:!1,props:{data:Object,repost:Boolean,text:String,isLongText:Boolean,id:[Number,String],user:Object,topic:Array,url:[Array,Object],pagetype:String},data:function(){return{showText:this.text,showTopic:this.topic,showUrl:this.url,position:0}},computed:{userProfile:function(){return ct.uid(this.user.idstr)},isCollapse:function(){return this.showText.indexOf('class="collapse"')>-1}},watch:{$route:function(t,e){this.isLongText&&this.id===t.params.id&&["bidDetail","detail"].indexOf(t.name)>-1?"bidDetail"!==e.name&&(this.isLongText&&this.data.longTextContent&&(this.showText=this.data.longTextContent),this.data.text_referrer=this.data.text):this.data&&this.data.retweeted_status&&this.data.retweeted_status.continue_tag&&this.id===t.params.id&&["bidDetail","detail"].indexOf(t.name)>-1&&"bidDetail"!==e.name&&(this.data.retweeted_status.text_referrer=this.data.retweeted_status.text),this.isLongText&&this.id===e.params.id&&["bidDetail","detail"].indexOf(e.name)>-1&&!t.hash?this.data.longTextContent&&(this.data.text_referrer?(this.showText=this.data.text_referrer,this.isCollapse&&(this.showText=this.data.longTextContent+'<span class="collapse">收起</span>')):this.showText=this.transText(Object(Tt["a"])(this.data.text_raw)+' ...<span class="expand">展开</span>',this.topic,this.url),this.$emit("updateText",this.showText)):this.data&&this.data.retweeted_status&&this.data.retweeted_status.continue_tag&&this.id===e.params.id&&["bidDetail","detail"].indexOf(e.name)>-1&&(["bidDetail","detail"].indexOf(t.name)>-1?this.data.retweeted_status.longTextContent&&(this.data.retweeted_status.text=this.data.retweeted_status.longTextContent):this.data.retweeted_status.text=this.data.retweeted_status.text_referrer)},text:function(t){this.showText=t},topic:function(t){this.showTopic=t},url:function(t){this.showUrl=t}},mounted:function(){"viewer"===this.pagetype&&"bidDetail"===this.$route.name&&this.isLongText?this.showText=this.transText(Object(Tt["a"])(this.data.text_raw)+' ...<span class="expand">展开</span>',this.topic,this.url):["bidDetail","detail"].indexOf(this.$route.name)>-1&&!this.pagetype&&(this.isLongText?this.data.longTextContent?this.showText=this.data.longTextContent:this.handleExpand():this.showText=this.data.text)},methods:{clickText:function(t){var e=t.target.className;e.indexOf("detail_words")>-1&&(!this.$attrs.single||this.repost)&&this.$emit("text-tap"),this.isLongText&&("expand"!==e||this.$attrs.single?"collapse"!==e||this.$attrs.single||(document.documentElement.scrollTop=this.position,this.showText=this.data.text_expand,this.$emit("updateText",this.showText)):(this.position=document.documentElement.scrollTop,this.$set(this.data,"text_expand",this.showText),this.data.longTextContent?(this.showText=this.data.longTextContent+'<span class="collapse">收起</span>',this.$emit("updateText",this.showText)):this.handleExpand()))},formatAbsStr:function(t,e){if(!e)return t;var i="".concat(e.replace(/\/|\s/g,"|").split("|").filter((function(t){return t})).join("|")),a=new RegExp(i,"g"),o=function(t){return'<span style="color: red;">'.concat(t,"</span>")};return"<span>".concat(t,"</span>").replace(/>([^<]+)</g,(function(t){return t.replace(a,o)})).replace(/^<span>|<\/span>$/g,"")},handleExpand:function(){var t=this;this.$http.get("/ajax/statuses/longtext",{params:{id:this.id}}).then((function(e){if(e.data&&e.data.ok&&e.data.data){var i=e.data.data;if(i&&i.longTextContent){if(t.data.longTextContent_raw=i.longTextContent,t.$set(t.data,"repostText","//@".concat(t.data.user.screen_name,":").concat(t.data.longTextContent_raw||t.data.text_raw)),t.data.longTextContent=t.transText(i.longTextContent,i.topic_struct,i.url_struct),t.$attrs.absstr)try{t.data.longTextContent=t.formatAbsStr(t.data.longTextContent,t.$attrs.absstr)}catch(a){}t.$attrs.single?t.showText=t.data.longTextContent:t.showText=t.data.longTextContent+'<span class="collapse">收起</span>'}else t.showText=t.transText(Object(Tt["a"])(t.data.text_raw)+'<span class="collapse">收起</span>',t.topic,t.url);t.$emit("updateText",t.showText)}}))},avatarClick:function(){this.$emit("head-avatar-tap",this.user)}}},St=Dt,It=i("0902");i("3a19");function Lt(t){this["$style"]=It["default"].locals||It["default"]}var Bt=Object(g["a"])(St,it,at,!1,Lt,null,null),Pt=Bt.exports,At=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.pictureViewerVisible?t.showPictureViewer?i("feed-picture-viewer",{key:t.data.id,attrs:{"img-list":t.newPics,"picture-index":t.pictureTapIndex,content:t.data,visible:t.pictureViewerVisible,contentType:"",pagetype:t.pagetype},on:{hide:t.hidePictureViewer,"picture-status-change":t.updateShowPictureViewerStatus}}):t._e():i("feed-picture",t._g(t._b({key:t.data.idstr,class:t.$style.row,attrs:{pics:t.newPics,pic_num:t.data.pic_num,content:t.data,isPay:t.isPay,pagetype:t.pagetype,lastIndex:t.pictureLastIndex},on:{"picture-tap":t.pictureTap},scopedSlots:t._u([{key:"pictureSlot",fn:function(e){return[e.picInfo.pic&&"mixvideo"===e.picInfo.pic.type?[i("woo-box",{class:t.$style.pos,attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{class:t.$style.icon2,attrs:{value:"play"}})],1),e.picInfo.pic.data&&e.picInfo.pic.data.media_info?i("woo-box",{class:t.$style.videobox,attrs:{direction:"x-r"}},[e.picInfo.pic.data.media_info.duration?i("woo-box",{class:t.$style.videotime},[t._v(t._s(t.sec2time(e.picInfo.pic.data.media_info.duration)))]):t._e()],1):t._e()]:e.picInfo.index===t.pictureLoadingIndex?i("woo-box",{class:t.$style.picLoading,attrs:{align:"center",justify:"center"}},[i("circle-progress",{attrs:{scale:"0.5"}})],1):t._e()]}}],null,!1,2185332013)},"feed-picture",t.$attrs,!1),t.$listeners))},Et=[],Mt=(i("96cf"),i("1da1")),Ft=i("e34d"),Rt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.visible?i("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:t.handleVisibilityChange,intersection:{rootMargin:"0px"}},expression:"{\n    callback: handleVisibilityChange,\n    intersection: {\n      rootMargin: `0px`\n    }\n  }"}],class:[t.$style.wrap,"original"===t.contentType&&t.$style.originalWrap,t.$attrs.content.showPictureViewer&&t.$style.showPictureViewer]},[i("div",{ref:"topPlaceholder",class:t.$style.topPlaceholder}),!t.srcLoaded&&(t.srcLoaded||t.inSafari)||"mixvideo"===t.curType?t._e():i("PictureToolBar",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:t.onPictureToolBarVisibilityChange,intersection:{rootMargin:"-"+t.toolbarOffset+"px 0px 0px 0px"}},expression:"{\n      callback: onPictureToolBarVisibilityChange,\n      intersection: {\n        rootMargin: `-${toolbarOffset}px 0px 0px 0px`\n      }\n    }"}],attrs:{visible:!0,"is-spin":"","show-rotate":t.showRotate,"show-open-viewer":!t.showVPlus},on:{"tap-fold":t.onFold,"tap-rotate":t.onRotate,"open-viewer":t.onViewer}}),i("div",{ref:"imgWrapRef",class:t.$style.imgWrap,style:{height:t.imageRotateHeight},on:{mouseenter:t.onMouseEnter,mouseleave:t.onMouseLeave,mousemove:t.onMouseOver}},[i("portal",{attrs:{to:"destination"}},[t.isSpin&&(t.srcLoaded||!t.srcLoaded&&!t.inSafari)&&"mixvideo"!==t.curType?i("PictureToolBar",{attrs:{visible:t.isSpin&&t.showToolbar&&"fixed"===t.toolBarPosition,fixed:!0,"show-rotate":t.showRotate,"show-open-viewer":!t.showVPlus,"left-offset":t.toolBarFixedLeftOffset,"top-offset":t.toolBarFixedTopOffset},on:{"tap-fold":t.onFold,"tap-rotate":t.onRotate,"open-viewer":t.onViewer},nativeOn:{mouseenter:function(e){return t.onMouseEnter(e)},mouseleave:function(e){return t.onMouseLeave(e)},mousemove:function(e){return t.onMouseOver(e)}}}):t._e()],1),t.showVPlus?i("woo-box",{class:t.$style.vPlus,attrs:{align:"center",justify:"center",direction:"y"}},[i("p",[t._v("开通Ta的专属会员")]),i("p",[t._v("即可浏览图片和Ta的全部付费内容")]),i("woo-button",{class:t.$style.openBtn,attrs:{size:"m",sort:"flat",kind:"primary"},on:{click:t.goPay}},[i("span",{staticStyle:{"font-size":"14px"}},[t._v("立即开通")])])],1):t._e(),t.showPrevMask?i("div",{class:[t.$style.leftMask,t.$style.mask,"mixvideo"===t.curType&&t.$style.videoMask],on:{click:t.onPrev}}):t._e(),"mixvideo"===t.curType?i("card-video",{key:t.imgList[t.curIndex].data&&t.imgList[t.curIndex].data["object_id"]||t.$attrs.content.id+t.curIndex,class:t.$style.video,attrs:{id:t.$attrs.content.id,data:t.imgList[t.curIndex].data,content:t.$attrs.content,"origin-content":t.$attrs.content,"preview-list":t.imgList,index:t.curIndex,"video-type":"mixvideo"},on:{"tap-fold":t.onFold,"volumn-change":t.onVolumnChange}}):[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.srcLoaded&&!t.inSafari,expression:"!srcLoaded && !inSafari"}],style:t.ghostStyle},[i("img",{class:t.$style.ghost,style:Object.assign({},t.imgStyle,t.ghostStyle,{filter:"blur(1px)"}),attrs:{src:t.prevPictureSrc}})]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.srcLoaded,expression:"srcLoaded"}]},[t.showVideo?t.showVideo?i("video",{ref:"videoRef",class:t.$style.pic,attrs:{preload:"",src:t.curPictureSrc,autoplay:""},domProps:{muted:"livephoto"!==t.curType},on:{click:t.onFold,loadeddata:t.onPictureStatusChange,ended:t.onVideoEnded}}):i("img",{class:t.$style.pic,style:t.imgStyle,attrs:{src:t.curPictureSrc},on:{click:t.onFold,load:t.onPictureStatusChange}}):i("img",{ref:"imgRef",class:t.$style.pic,style:t.imgStyle,attrs:{src:t.curPictureSrc},on:{click:t.onFold,load:t.onPictureStatusChange}})])],t.showNextMask&&!t.hoverVolume?i("div",{class:[t.$style.rightMask,t.$style.mask,"mixvideo"===t.curType&&t.$style.videoMask],on:{click:t.onNext}}):t._e()],2),i("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:t.visibilityChanged,intersection:{rootMargin:"-"+(t.toolbarOffset+t.bottomPlaceholderOffset)+"px 0px 0px 0px"}},expression:"{\n      callback: visibilityChanged,\n      intersection: {\n        rootMargin: `-${\n          toolbarOffset + bottomPlaceholderOffset\n        }px 0px 0px 0px`\n      }\n    }"}],ref:"bottomPlaceholder"}),t.imgList.length>1?i("woo-box",{class:t.$style.previewList},[i("woo-box",{directives:[{name:"show",rawName:"v-show",value:t.showPrevBtn,expression:"showPrevBtn"}],class:[t.$style.prev,t.$style.angle],attrs:{align:"center"},nativeOn:{click:function(e){return t.onPreviewPrev(e)}}},[i("woo-fonticon",{attrs:{value:"angleLeft"}})],1),i("div",{class:t.$style.listContent},[i("woo-box",{ref:"listContentRef",class:t.$style.listContentAnimate,style:{transform:"translateX(-"+t.offset+"px)"},attrs:{"gap-row":9,align:"center"}},t._l(t.previewList,(function(e,a){return i("woo-box-item",{key:e,ref:"previewItemRef",refInFor:!0,attrs:{grow:0}},[i("div",{class:[t.$style.preview,t.curIndex===a&&t.$style.cur]},[i("div",{class:t.$style.prevBorder}),i("woo-picture",{class:t.$style.previewItem,attrs:{src:e.focus_point?null:e.url},nativeOn:{click:function(e){return t.changePic(a)}}},[e.focus_point?i("img",{key:e.url,class:t.$style.focusImg,style:[t.focusImg(e.geo,e.focus_point,1)],attrs:{src:e.url}}):t._e(),"mixvideo"===e.type?i("woo-box",{class:t.$style.pos,attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{class:t.$style.icon2,attrs:{value:"play"}})],1):t._e(),e.data&&e.data.media_info?i("woo-box",{class:t.$style.videotime},[t._v(t._s(t.sec2time(e.data.media_info.duration)))]):t._e()],1)],1)])})),1)],1),i("woo-box",{directives:[{name:"show",rawName:"v-show",value:t.showNextBtn,expression:"showNextBtn"}],class:[t.$style.next,t.$style.angle],attrs:{align:"center"},nativeOn:{click:function(e){return t.onPreviewNext(e)}}},[i("woo-fonticon",{attrs:{value:"angleRight"}})],1)],1):t._e()],1):t._e()},Vt=[],Nt=i("b85c"),Ht=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isVisible?i("woo-box",{class:[t.$style[t.isSpin?"toolbarSpin":"toolbar"],t.fixed&&t.$style.fixed],style:{left:t.leftOffset+"px",top:t.topOffset+"px"},attrs:{align:"center"}},[i("woo-box",{class:t.$style.toolItem,attrs:{align:"center"},nativeOn:{click:function(e){return t.handleTap("tap-fold")}}},[i("woo-fonticon",{class:t.$style.icon,attrs:{value:"imgFold"}}),t._v(" 收起 ")],1),t.showRotate?[i("woo-divider",{class:t.$style.divider,attrs:{direction:"y","border-color":"#CCCCCC"}}),i("woo-box",{class:t.$style.toolItem,attrs:{align:"center"},nativeOn:{click:function(e){return t.handleTap("tap-rotate")}}},[i("woo-fonticon",{class:t.$style.icon,attrs:{value:"imgRotate"}}),t._v(" 旋转 ")],1)]:t._e(),t.showOpenViewer?[i("woo-divider",{class:t.$style.divider,attrs:{direction:"y","border-color":"#CCCCCC"}}),i("woo-box",{class:t.$style.toolItem,attrs:{align:"center"},nativeOn:{click:function(e){return t.handleTap("open-viewer")}}},[i("woo-fonticon",{class:t.$style.icon,attrs:{value:"imgFull"}}),t._v(" 查看大图 ")],1)]:t._e()],2):t._e()},zt=[],Ut={props:{fixed:{type:Boolean,default:!1},visible:{type:Boolean,default:!1},showRotate:{type:Boolean,default:!0},showOpenViewer:{type:Boolean,default:!0},leftOffset:[String,Number],topOffset:[String,Number],isSpin:{type:Boolean,default:!1}},setup:function(t,e){var i=e.emit,a=Object(F["n"])(t.visible),o=function(t){i(t)};return Object(F["s"])((function(){return t.visible}),(function(t){a.value=t})),{handleTap:o,isVisible:a}}},Gt=Ut,qt=i("2399");function Wt(t){this["$style"]=qt["default"].locals||qt["default"]}var Qt=Object(g["a"])(Gt,Ht,zt,!1,Wt,null,null),Jt=Qt.exports,Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.picStory?a("feed-picture",t._g({attrs:{pics:t.picStoryUrl,pic_num:t.picStoryUrl.length,content:t.content}},t.$listeners),[a("template",{slot:"pictureSlot"},["story"===t.data.object_type?a("div",{class:t.$style.story},[a("img",{class:t.$style.storyLogo,attrs:{src:i("1c64")}}),t.infos.slide_cover&&t.infos.slide_cover.slides&&t.infos.slide_cover.slides[0].nickname?a("div",{class:t.$style.nickname},[t._v(" @"+t._s(t.infos.slide_cover.slides[0].nickname)+" ")]):t._e()]):t._e()])],2):a("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:t.visibilityChanged,intersection:{threshold:0,rootMargin:t.rootMargin}},expression:"{\n      callback: visibilityChanged,\n      intersection: {\n        threshold: 0,\n        rootMargin: rootMargin\n      }\n    }"}],class:t.$style.videoBox,on:{click:t.clickHandle}},[a("div",{ref:"videoWrapper"},[t.player?t._e():[t.isPodCast?a("div",{class:t.$style.podcast},[a("woo-box",{class:t.$style.pos,attrs:{align:"center",justify:"center"}},[a("img",{class:t.$style.podcastThumbnail,attrs:{src:t.thumbnail}}),a("img",{class:t.$style.podcastBackground,attrs:{src:t.thumbnail}})])],1):a("div",{class:t.$style.poster},[a("woo-box",{class:t.$style.pos,attrs:{align:"center",justify:"center"}},[a("woo-fonticon",{class:t.$style.icon2,attrs:{value:"play"}}),a("img",{key:t.thumbnail,attrs:{src:t.thumbnail}})],1)],1)],"story"!==t.data.object_type||t.isPlaying?t._e():a("div",{class:t.$style.story},[a("img",{class:t.$style.storyLogo,attrs:{src:i("1c64")}}),t.infos.slide_cover&&t.infos.slide_cover.slides&&t.infos.slide_cover.slides[0].nickname?a("div",{class:t.$style.nickname},[t._v(" @"+t._s(t.infos.slide_cover.slides[0].nickname)+" ")]):t._e()]),a("div",{class:[t.$style.placeholder,t.isLive&&t.liveCountdown&&t.$style.hidePlayBtn]},[t.initPlayer?a("feed-player",{attrs:{"page-info":t.infos,content:t.content,previewList:t.previewList,index:t.index,container:t.$refs.videoWrapper,"video-active":t.active,specificTime:t.$attrs.specificTime,videoType:t.videoType},on:{"save-instance":t.saveInstance,ready:t.readyHandle,"tap-fold":t.tapFold},nativeOn:{click:function(t){t.stopPropagation()}}}):t._e()],1),t.liveCountdown?a("div",{class:t.$style.liveCountdownMask},[a("div",{class:t.$style.liveCountdown},[a("span",{class:t.$style.countdownTitle},[t._v("距离直播开始还剩")]),a("div",{class:t.$style.time},[a("span",{class:t.$style.num},[a("span",[t._v(t._s(t.countDownTimeObj.d))]),a("span",{class:t.$style.unit},[t._v("天")])]),a("span",{class:t.$style.num},[a("span",[t._v(t._s(t.countDownTimeObj.h))]),a("span",{class:t.$style.unit},[t._v("时")])]),a("span",{class:t.$style.num},[a("span",[t._v(t._s(t.countDownTimeObj.m))]),a("span",{class:t.$style.unit},[t._v("分")])]),a("span",{class:t.$style.num},[a("span",[t._v(t._s(t.countDownTimeObj.s))]),a("span",{class:t.$style.unit},[t._v("秒")])])]),a("div",{class:t.$style.startTime},[t._v(" "+t._s(t.liveStartTime)+" ")])])]):t._e(),!t.isPlaying&&t.isLive&&t.showLiveInfo?a("div",{class:t.$style.liveStatus},[a("span",{class:t.$style[{1:"live",3:"replay",5:"end"}[t.liveStatus]]},[t._v(t._s(t.liveStatusText))]),t._v(" "+t._s(t.liveplayCount)+" ")]):t._e(),!t.isPlaying&&t.infos.media_info?a("div",{class:t.$style.dur},[t.infos.media_info.display_duration?a("span",[t._v(t._s(t._f("sec2time")(t.infos.media_info.display_duration)))]):a("span",[t._v(t._s(t._f("sec2time")(t.infos.media_info.duration)))])]):t._e(),!t.isPlaying&&t.infos.media_info&&t.infos.media_info.online_users?a("div",{class:t.$style.plusInfo},[t._v(" "+t._s(t.infos.media_info.online_users)+" ")]):t._e(),t.isVPlus?a("div",{class:t.$style.vPlus}):t._e(),t.isCocreate?a("div",{class:t.$style.cocreate},[a("span",[t._v("共创")])]):t._e()],2)])],1)},Yt=[],Xt=(i("2ca0"),i("ade3")),Zt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"videoContainer",class:[t.showInViewer?t.$style.inViewer:""]},[t.showAfterPatch&&!t.showInViewer?i("AfterPatch",t._b({attrs:{"page-info":t.pageInfo,duration:t.afterPatchDuration},on:{replay:t.replay}},"AfterPatch",t.$attrs,!1)):t._e(),i("video-player",t._g(t._b({class:["mixvideo"===t.videoType&&t.$style.mixvideo,t.$style.feedVideo,t.$attrs.previewList&&t.showInViewer&&t.$style.noBorderRadius],attrs:{content:t.content,"page-info":t.pageInfo,customOptions:t.customOptions,mixVideoInfo:{mixVideoOid:t.pageInfo&&t.pageInfo.object_id,pics:t.$attrs.previewList,index:t.$attrs.index}},on:{ready:t.readyHandle,"switch-mix-pic":function(e){return t.switchMixPic()}}},"video-player",t.$attrs,!1),t.$listeners))],1)},te=[],ee=i("6798"),ie=i("41b2"),ae=i("20f3"),oe=(i("1bf2"),function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e){var a=0,o=0,s=0,r=0,l=0,c=function(){r=e.currentTime();var a=i.ext||"";a&&(a=a.split("|"),a=a.concat(["valid_play_duration:".concat((1e3*o).toFixed(0)),"startplay_time:".concat((1e3*s).toFixed(0)),"playduration:".concat((1e3*r).toFixed(0)),"isautoplay:".concat(l)]),a=a.join("|")),i&&t.$http.post("/ajax/feed/throwbatch",{actionlog:Object(n["a"])(Object(n["a"])({},i),{},{ext:a})}).then((function(t){})),o=0},u=function(){a=e.currentTime()},d=function(){var t=e.currentTime(),i=t-a,n=i<.6&&i>0?i:0;o+=n,a=t},h=function(){e.trigger("triggerADLog")},p={seeked:u,playing:u,seeking:u,timeupdate:d,pause:h,end:c,triggerADLog:c};Object.keys(p).forEach((function(t){e&&e.on(t,p[t])})),Object(F["i"])((function(){e&&(c(),Object.keys(p).forEach((function(t){e.off(t,p[t])})))}))}}),ne=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e){var a=i&&i.filter((function(t){return t.third_party_play})),o={};a&&a.forEach((function(t){t.third_party_play&&Array.isArray(t.third_party_play)&&t.third_party_play.forEach((function(t){o[t.time]={url:t.url,lock:!1}}))}));var n=function(){var i=e.currentTime();Reflect.ownKeys(o).forEach((function(e){var a,n,s;i<=+e+.3&&i>=+e-.3?(null===(a=o[e])||void 0===a?void 0:a.url)&&!(null===(n=o[e])||void 0===n?void 0:n.lock)&&(o[e].lock=!0,t.$http.get(null===(s=o[e])||void 0===s?void 0:s.url)):o[e]&&(o[e].lock=!1)}))};e.on("timeupdate",n),Object(F["i"])((function(){e&&e.off("timeupdate",n)}))}},se=i("8d7e"),re={layerButton:{buttons:[{text:"收起",triggerEventName:"foldPlayer",containLayer:!0},{text:"展开",triggerEventName:"openLayer",globalClick:!0}]},autoplay:!0},le={inheritAttrs:!1,props:{container:{type:Object},content:{type:Object,default:function(){return{}}},pageInfo:Object,videoType:String},setup:function(t){var e=Object(F["d"])().proxy,i=null,a=Object(F["n"])(!1),o=Object(F["n"])(null),s=Object(F["n"])(!1),r=Object(F["n"])("mixvideo"===t.videoType?re:{}),l=Object(F["n"])(null),c=Object(se["a"])(["setRemainTime"]),u=c.setRemainTime,d=Object(se["b"])(["remainTime"]),h=d.remainTime,p=Object(F["a"])((function(){var e,i,a;return null===(e=t.pageInfo)||void 0===e||null===(i=e.media_info)||void 0===i||null===(a=i.play_completion_actions)||void 0===a?void 0:a.some((function(t){return 15===t.type}))})),f=Object(F["a"])((function(){var e,i,a,o;null===(e=t.pageInfo)||void 0===e||null===(i=e.media_info)||void 0===i||null===(a=i.play_completion_actions)||void 0===a||null===(o=a.find((function(t){return 15===t.type})))||void 0===o||o.display_duration})),m=function(){a.value&&(i.trigger("closeLayer"),i.hasClass("wbpv-unfold")&&i.removeClass("wbpv-unfold"),i.hasClass("wbpv-size-large")&&i.removeClass("wbpv-size-large"),o.value.style.display="block",e.$nextTick((function(){var a;h.value&&(i.currentTime(h.value[null===(a=t.pageInfo)||void 0===a?void 0:a.object_id]),e.$nextTick((function(){h.value.playing&&i.play()})))})),t.container&&t.container.appendChild(o.value),a.value=!1,e.$nextTick((function(){var t=i.getChild("nextVideo");t&&(t.dispose&&"function"===typeof t.dispose&&t.dispose(),i.removeChild(t))})),i.el().focus({preventScroll:!0}))},v=function(){var n;i.hasClass("wbpv-unfold")||i.addClass("wbpv-unfold"),i.hasClass("wbpv-size-large")||i.addClass("wbpv-size-large"),a.value=!0,e.$emit("save-instance",o.value),e.$nextTick((function(){var t=document.querySelector(".viewerVideoContainer");t&&t.appendChild(o.value)})),e.$Bus.$emit("showViewer",{type:"video",data:{content:t.content,mixVideoOid:null===(n=t.pageInfo)||void 0===n?void 0:n.object_id,pics:e.$attrs.previewList,index:e.$attrs.index},ext:{player:i,nextVideo:ae["a"].getComponent("nextVideo")},specificTime:e.$attrs.specificTime})},_=function(){p.value&&(s.value=!0)},g=function(){s.value=!1,i.play()},b=function(a){var o,n,s,r;if(i=a,i.on("openLayer",v),null===(o=t.content)||void 0===o?void 0:o.mark){var l,c,u,d=(null===(l=t.pageInfo)||void 0===l?void 0:l.actionlog)||(null===t||void 0===t||null===(c=t.content)||void 0===c||null===(u=c.page_info)||void 0===u?void 0:u.actionlog);oe(e,i,d)}(null===(n=t.content)||void 0===n?void 0:n.promotion)&&ne(e,i,null===(s=t.content)||void 0===s||null===(r=s.promotion)||void 0===r?void 0:r.monitor_url);i.on("ended",_),i.on("foldPlayer",y)},y=function(){e.$emit("tap-fold")},w=function(){var e;if(i.pause(),i&&(null===(e=t.pageInfo)||void 0===e?void 0:e.object_id)){var a,o=i.currentTime();i.ended()&&(o=0),u(Object(n["a"])(Object(n["a"])({},h.value),{},(a={id:t.content.mblogid},Object(Xt["a"])(a,t.pageInfo.object_id,o),Object(Xt["a"])(a,"playing",!1),a)))}};return Object(F["h"])((function(){e.$Bus.$on("closeViewer",m),e.$Bus.$on("switch-mix-pic",w)})),Object(F["i"])((function(){i&&(i.off("openLayer",v),i.off("ended",_),i.off("foldPlayer",y),i=null,s.value=!1),e.$Bus.$off("closeViewer",m),e.$Bus.$off("switch-mix-pic",w)})),{readyHandle:b,showInViewer:a,videoContainer:o,showAfterPatch:s,replay:g,afterPatchDuration:f,collapse:y,customOptions:r,collapseEle:l}},components:{VideoPlayer:ie["a"],AfterPatch:ee["a"]}},ce=le,ue=i("fc1f");function de(t){this["$style"]=ue["default"].locals||ue["default"]}var he=Object(g["a"])(ce,Zt,te,!1,de,null,null),pe=he.exports,fe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"live"===t&&!!(e.match(/232050/)||e.match(/232132|232596/)&&0===i)},me=i("5a0c"),ve=i.n(me),_e={name:"feed-video",props:{data:Object,id:[String,Number],content:Object,originContent:{type:Object,default:function(){return{}}},previewList:Array,index:Number,videoType:String},inheritAttrs:!1,mixins:[p["a"]],data:function(){return{player:null,isPlaying:!1,remainTimeWatcher:null,active:!1,initPlayer:!1,liveCountdown:!1,countDownTimeObj:{d:"00",h:"00",m:"00",s:"00"},liveStartTime:"",countDownTimer:null}},computed:Object(n["a"])(Object(n["a"])({},Object(c["c"])(["config","remainTime"])),{},{isPodCast:function(){var t;return"podcast_audio"===(null===(t=this.infos)||void 0===t?void 0:t.object_type)},isCocreate:function(){var t,e,i,a;return 1===(null===(t=this.data)||void 0===t||null===(e=t.media_info)||void 0===e?void 0:e.cooperate_video)&&1===(null===(i=this.data)||void 0===i||null===(a=i.media_info)||void 0===a?void 0:a.cooperate_video_status)},isVPlus:function(){var t;return null===this||void 0===this||null===(t=this.infos.page_id)||void 0===t?void 0:t.startsWith("231418")},rootMargin:function(){return"0px 0px -93px 0px"},card:function(){return this.data.cards&&this.data.cards[1]},infos:function(){var t=this.data||{};return this.data.cards&&"video"===this.data.object_type&&!this.data.media_info&&(t=this.data.cards[0]),t},thumbnail:function(){return this.infos.page_pic},picStoryUrl:function(){return this.picStory?this.infos.slide_cover.slides.map((function(t){return Object(n["a"])(Object(n["a"])({},t),{},{normal:{url:t.url},large:{url:t.url}})})):[]},picStory:function(){return this.infos.slide_cover&&!this.infos.slide_cover.slide_videos&&this.infos.slide_cover.slides.length>0},isLive:function(){var t=this.infos,e=t.object_type,i=t.page_id;return fe(e,i)},liveStatus:function(){return+this.infos.status},showLiveInfo:function(){switch(this.liveStatus){case 1:case 3:case 5:return!0;default:return!1}},liveStatusText:function(){if(this.isLive)switch(this.liveStatus){case 0:return"预约";case 1:return"直播中";case 2:return"已删除";case 3:return"回放";case 5:default:return"已结束"}return""},liveplayCount:function(){var t,e,i,a,o=-1;1===this.liveStatus&&(o=(null===(t=this.infos)||void 0===t||null===(e=t.media_info)||void 0===e?void 0:e.real_chatroom_users)||0);3!==this.liveStatus&&5!==this.liveStatus||(o=(null===(i=this.infos)||void 0===i||null===(a=i.media_info)||void 0===a?void 0:a.live_replay_counts)||0);return o>-1?"".concat(Object(s["b"])(o),"观看"):""}}),filters:{sec2time:function(t){if(void 0===t||Number.isNaN(t))return"";var e=Math.floor(t/3600),i=Math.floor((t-3600*e)/60),a=Math.floor(t-3600*e-60*i),o=[i,a];return e>0&&o.unshift(e),o.forEach((function(t,e){e>=0&&t<10&&(o[e]="0".concat(t))})),o.join(":")}},created:function(){var t=this;this.$Bus.$on("feed-video-play",this.feedVideoPlayHandle),this.$once("hook:beforeDestroy",(function(){t.$Bus.$off("feed-video-play",t.feedVideoPlayHandle)}))},methods:Object(n["a"])(Object(n["a"])({},Object(c["b"])(["setVideo","setRemainTime"])),{},{saveInstance:function(t){this.setVideo(t)},feedVideoPlayHandle:function(t){this.player&&this.player.id_&&this.player.id_!==t&&this.videoStop()},playHandle:function(){this.videoPlay(),this.isPlaying=!0},readyHandle:function(t){var e=this;this.player=t,this.remainTime&&this.content.mblogid===this.remainTime.id&&(/bidDetail|detail/.test(this.$route.name)||"mixvideo"===this.videoType)&&(this.setPlayerCurrentTime(),this.$nextTick((function(){e.remainTime.playing&&e.player.play()}))),this.registerWatcher(),this.player.on("play",this.playHandle),this.isLive&&this.startCountDown(),this.player.on("volumn-show",this.onVolumeShow),this.player.on("volumn-hide",this.onVolumeHide)},onVolumeShow:function(){this.$emit("volumn-change",!0)},onVolumeHide:function(){this.$emit("volumn-change",!1)},clickHandle:function(t){this.actionLog({act_code:"4298",ext:"mid:".concat(this.id)}),t.stopPropagation(),this.$emit("video-tap",this.data)},cardClick:function(){this.$emit("video-card-tap",this.card)},btnClick:function(){this.$emit("video-card-btn-tap",this.card)},videoPlay:function(){this.player&&this.$Bus.$emit("feed-video-play",this.player.id_)},videoStop:function(){this.player&&(this.player.pause(),this.player.volume(localStorage.getItem("V7_PLAYER_VOLUME")||.5))},visibilityChanged:function(t){this.active=t,t&&!this.player?this.initPlayer=!0:this.videoStop()},checkScene:function(t,e){var i=new RegExp("home|mygroups|hot|weibo|list|topic|sweiboDefault|sweibo|profile");return/bidDetail|detail/.test(t.name)&&i.test(e.name)?"init":i.test(t.name)&&/bidDetail|detail/.test(e.name)||i.test(t.name)&&t.name===e.name?"continue":void 0},updateRemainTime:function(){var t;"mixvideo"===this.videoType&&this.data.object_id?this.setRemainTime(Object(n["a"])(Object(n["a"])({},this.remainTime),{},(t={id:this.content.mblogid},Object(Xt["a"])(t,this.data.object_id,this.player.currentTime()),Object(Xt["a"])(t,"playing",!this.player.paused()),t))):this.setRemainTime({id:this.content.mblogid,time:this.player.currentTime(),playing:!this.player.paused()})},setPlayerCurrentTime:function(){"mixvideo"===this.videoType&&this.data.object_id?this.player.currentTime(this.remainTime[this.data.object_id]):this.player.currentTime(this.remainTime.time)},registerWatcher:function(){var t=this;this.player&&!this.remainTimeWatcher&&(this.remainTimeWatcher=this.$watch("$route",(function(e,i){var a=t.checkScene(e,i);a&&"continue"!==a&&(!t.active||t.$route.params.id!==t.content.mblogid&&t.$route.params.id!==t.originContent.mblogid||t.updateRemainTime()),"continue"===a&&(!t.remainTime||t.content.mblogid!==t.remainTime.id&&t.originContent.mblogid!==t.remainTime.id||(t.setPlayerCurrentTime(),t.$nextTick((function(){t.player.pause()}))))})))},unRegisterWatcher:function(){this.active&&this.updateRemainTime(),this.remainTimeWatcher&&"function"===typeof this.remainTimeWatcher&&this.remainTimeWatcher()},tapFold:function(){this.$emit("tap-fold")},getCountInfo:function(t){var e=this;return Object(Mt["a"])(regeneratorRuntime.mark((function i(){var a,o,n,s,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,e.$http.get("/ajax/multimedia/getLiveInfoDetail",{params:{live_id:t}}).catch((function(){}));case 2:return o=i.sent,n=0,s={},(null===o||void 0===o||null===(a=o.data)||void 0===a?void 0:a.ok)>0&&(r=o.data.data,n=0===+r.status&&r.countDownTime,s.time=Math.ceil(n/1e3),s.startTime=ve()(r.startTime).format("YYYY年MM月DD日 HH:mm:DD")),i.abrupt("return",s);case 7:case"end":return i.stop()}}),i)})))()},updateCountDownTime:function(t){var e=parseInt(t/86400),i=parseInt(t/3600%24),a=parseInt(t/60%60),o=parseInt(t%60);this.countDownTimeObj={d:e>=10?e:"0".concat(e),h:i>=10?i:"0".concat(i),m:a>=10?a:"0".concat(a),s:o>=10?o:"0".concat(o)}},stopCountDown:function(){this.countDownTimer&&(clearTimeout(this.countDownTimer),this.countDownTimer=null)},onCountDown:function(t){var e=this;if(this.updateCountDownTime(t),t>0)return t-=1,this.stopCountDown(),void(this.countDownTimer=setTimeout((function(){e.onCountDown(t)}),1e3));this.liveCountdown=!1,this.player.trigger("click")},startCountDown:function(){var t=this;return Object(Mt["a"])(regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getCountInfo(t.data.object_id);case 2:i=e.sent,i.time,a=i.startTime,t.liveStartTime="".concat(a," 开始直播");case 7:case"end":return e.stop()}}),e)})))()}}),beforeDestroy:function(){this.stopCountDown(),this.initPlayer=!1,this.player&&(this.player.off("volumn-show",this.onVolumeShow),this.player.off("volumn-hide",this.onVolumeHide),this.player.off("play",this.playHandle),this.unRegisterWatcher(),this.player=null),this.$Bus.$off("feed-video-play",this.feedVideoPlayHandle)},components:{FeedPicture:Ft["a"],FeedPlayer:pe}},ge=_e,be=i("cf78");function ye(t){this["$style"]=be["default"].locals||be["default"]}var we=Object(g["a"])(ge,Kt,Yt,!1,ye,null,null),xe=we.exports,ke=function(t){return new Promise((function(e,i){var a=new Image;a.src=t,a.complete?e():(a.onload=function(){e()},a.onerror=function(){i()})}))},$e=function(t){return new Promise((function(e,i){t=t.replace(/http:/,"https:");var a=document.createElement("video");a.src=t,a.onloadedmetadata=function(){e()},a.onerror=function(){i()},a.load()}))},Ce=function(t){return new Promise((function(e,i){var a=new Image;a.src=t,a.complete?e({width:a.width,height:a.height}):(a.onload=function(){e({width:a.width,height:a.height})},a.onerror=function(){i({width:0,height:0})})}))},Oe=i("399b");function je(t,e,i){var a=e.mid,o=e.user.id,n=Object(F["a"])((function(){return t.some((function(t){return t.isPay&&!t.isMy&&!t.isPaid}))})),s=function(){window.open("https://vipclub.weibo.com/vmember/toopen?vuid=".concat(o,"&F=pic_").concat(a)),"function"===typeof i&&i()};return{goPay:s,showVPlus:n}}var Te=i("73d1"),De=540;function Se(){var t=document.createElement("video"),e=Object(F["n"])(!(!t.canPlayType||!t.canPlayType("video/mp4")));t=null;var i=function(t){return"//video.weibo.com/media/play?livephoto="+t+"&KID=unistore,videomovSrc"};return{canPlayMov:e,getCanplayUrl:i}}function Ie(t,e,i,a,o){var n,s,r=Object(F["p"])(t),l=r.imgList,c=Object(F["a"])((function(){var t,i;return!Object(F["q"])(a)&&!["gif","dynamic","livephoto"].includes(null===(t=Object(F["q"])(l)[Object(F["q"])(e)])||void 0===t?void 0:t.type)&&!(null===(i=Object(F["q"])(l)[Object(F["q"])(e)])||void 0===i?void 0:i.isPay)})),u=Object(F["n"])(null),d=Object(F["n"])({}),h=Object(F["n"])("auto"),p=Object(F["n"])(0),f=Object(F["a"])((function(){var t;return(null===(t=Object(F["q"])(l)[Object(F["q"])(e)])||void 0===t?void 0:t.geo)||{}})),m=Object(F["a"])((function(){var t=Object(F["q"])(f),e=t.width,i=void 0===e?1:e,a=t.height,o=void 0===a?1:a;return i/o})),v=Object(F["a"])((function(){var t,e;return{width:null===(t=Object(F["q"])(u))||void 0===t?void 0:t.clientWidth,height:null===(e=Object(F["q"])(u))||void 0===e?void 0:e.clientHeight}})),_=function(){p.value+=1,4===Object(F["q"])(p)&&(p.value=0)},g=function(t){return 90*t},b=function(){return Object(F["q"])(m)>1?Object(F["q"])(f).width<Object(F["q"])(v).width?{imageRotateHeightValue:Object(F["q"])(f).width,imageHeight:Object(F["q"])(f).height}:{imageRotateHeightValue:Object(F["q"])(v).width,imageHeight:Object(F["q"])(v).width*Object(F["q"])(m)}:(Object(F["q"])(f).height,Object(F["q"])(v).width,{imageRotateHeightValue:Object(F["q"])(v).width*Object(F["q"])(m),imageHeight:Object(F["q"])(v).width})},y=function(){_(),i();var t=b(),e=t.imageRotateHeightValue,a=t.imageHeight,n=void 0===a?"":a;[90,270].includes(g(Object(F["q"])(p)))?(e<128&&(e=128),h.value=e+"px",d.value={width:Object(F["q"])(h)+"px",transform:"rotate(".concat(g(Object(F["q"])(p)),"deg)"),position:"relative",height:n+"px"}):(h.value=n<128?"128px":"auto",d.value={transform:"rotate(".concat(g(Object(F["q"])(p)),"deg)")}),o()};Object(F["s"])(e,(function(){Object(F["f"])((function(){d.value={},p.value=0,h.value="auto"}))}));var w=Object(F["n"])({width:0,height:0});Ce(null===(n=t.imgList[Object(F["q"])(e)])||void 0===n||null===(s=n.mw690)||void 0===s?void 0:s.url).then((function(t){w.value=t})).catch((function(){}));var x=function(){var i,a=null===(i=t.imgList[Object(F["q"])(e)])||void 0===i?void 0:i.geo;return a?a.width>=De?{width:De,height:De*a.height/a.width}:a:{maxWidth:De,width:w.value.width||"auto",height:w.value.height||"auto"}};Object(F["k"])((function(){var t;"mixvideo"!==(null===(t=l.value[e.value])||void 0===t?void 0:t.type)&&Object(F["f"])((function(){var t=b(),e=t.imageHeight,i=void 0===e?"":e,a=x();h.value=i<128?"128px":a.height+"px"}))}));var k=Object(F["a"])((function(){var t=x();return"auto"===t.width?{maxWidth:De/16+"rem",width:w.value.width||t.width,height:w.value.height||t.height}:{width:t.width/16+"rem"}}));return{showRotate:c,onRotate:y,imageRotateHeight:h,imgWrapRef:u,imgStyle:d,ghostStyle:k}}function Le(t,e,i,a,o,s,r,l){var c=Object(F["n"])("fixed"),u=Object(F["n"])(!1),d=Object(F["n"])(0),h=60,p=46,f=10,m=Object(F["a"])((function(){return["profilefeed"].includes(t.pagetype)||"bidDetail"===l.$route.name?h+p+f:h+f})),v=150,_=Object(F["n"])(m.value),g=Object(F["n"])(null),b=function(t,e){t||!e.isIntersecting?c.value="fixed":c.value=""},y=Object(F["d"])().proxy,w=Object(F["n"])(!1),x=null,k=function(t){t?(x&&(clearTimeout(x),x=null),w.value=!0):x=setTimeout((function(){w.value=!1}),300)},$=function(){i();var t=0;"gif"!==Object(F["q"])(a)&&"dynamic"!==Object(F["q"])(a)&&"livephoto"!==Object(F["q"])(a)||(t=Object(F["q"])(e)),y.$emit("hide",t)},C=function(){var i,a="edit"!==t.pagetype?y.$attrs:"",n=a.content;null===(i=Object(F["q"])(o))||void 0===i||i.pause(),y.$Bus.$emit("showViewer",{data:{index:Object(F["q"])(e),pics:t.imgList,content:n},type:"image"})},O=null,j=null;Object(F["i"])((function(){clearTimeout(O),clearTimeout(j),O=null,j=null}));var T=function(){if(O)return clearTimeout(O),void(O=null);j&&(clearTimeout(j),j=null),O=setTimeout((function(){u.value=!0,j=setTimeout((function(){u.value=!1}),3e3),clearTimeout(O),O=null}),200)},D=function(){u.value=!0,j&&(clearTimeout(j),j=null),j=setTimeout((function(){u.value=!1}),3e3)},S=function(){if(O)return clearTimeout(O),void(O=null);j&&(clearTimeout(j),j=null),O=setTimeout((function(){u.value=!1,clearTimeout(O),O=null}),200)};Object(F["k"])((function(){var t=Object(F["q"])(g).getBoundingClientRect();d.value=t.left+10}));var I=Ie(t,e,r,s,i);return Object(n["a"])(Object(n["a"])({},I),{},{onFold:$,onViewer:C,onMouseEnter:T,onMouseOver:D,onMouseLeave:S,showToolbar:u,toolBarPosition:c,toolBarFixedLeftOffset:d,toolBarFixedTopOffset:_,bottomPlaceholder:g,toolbarOffset:m,visibilityChanged:b,bottomPlaceholderOffset:v,hoverVolume:w,onVolumnChange:k})}function Be(t,e,i){var a=Object(F["d"])().proxy,o=Object(F["n"])(null),n=Object(F["n"])(!1),s=Object(F["n"])(!1),r=Object(F["a"])((function(){return t.imgList.length>1&&0!==Object(F["q"])(e)})),l=Object(F["a"])((function(){return t.imgList.length>1&&Object(F["q"])(e)!==t.imgList.length-1})),c=Object(F["n"])(null),u=function(t){return t.replace(/^http:/,"https:")},d=function(){var t,e=(null===(t=Object(F["q"])(c))||void 0===t?void 0:t.getBoundingClientRect())||{};e.top<0&&Object(F["q"])(c).scrollIntoView()},h=function(){e.value+=1,n.value=!1,i(e.value)},p=function(){e.value-=1,n.value=!1,i(e.value)},f=function(i){if(1!==t.imgList.length)switch("next"===i&&e.value===t.imgList.length-1&&(e.value=-1),"prev"===i&&0===e.value&&(e.value=t.imgList.length),i){case"prev":p();break;case"next":h();break;default:break}},m=function(t){if(!location.href.includes("layerid")){var e=t.relatedTarget||t.toElement||document.activeElement;if(!["TEXTAREA","INPUT"].includes(e.tagName)&&!Object(F["q"])(s))switch(t.which){case 37:f("prev");break;case 39:f("next");break;default:break}}},v=function(t,e){s.value=!t},_=function(t){t?window.addEventListener("keydown",m):window.removeEventListener("keydown",m)},g=Object(F["a"])((function(){var t=navigator.userAgent;return t.match(/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i)||t.match(/version\/([\w\.]+).+?(mobile\s?safari|safari)/i)})),b=Object(F["n"])(!1),y=Object(F["a"])((function(){var i;return null===(i=t.imgList[Object(F["q"])(e)])||void 0===i?void 0:i.url})),w=Object(F["a"])((function(){var i,a,o;return(null===(i=t.imgList[Object(F["q"])(e)])||void 0===i||null===(a=i.mw690)||void 0===a?void 0:a.url)||(null===(o=t.imgList[Object(F["q"])(e)])||void 0===o?void 0:o.url)})),x=Object(F["a"])((function(){var i,a,o,s,r,l,c,d,h;return"dynamic"===Object(F["q"])(k)||"gif"===Object(F["q"])(k)||"livephoto"===Object(F["q"])(k)&&!Object(F["q"])(n)?u(null===(l=t.imgList[Object(F["q"])(e)])||void 0===l?void 0:l.video)||"":(null===(i=t.imgList[Object(F["q"])(e)])||void 0===i||null===(a=i.url)||void 0===a?void 0:a.match(/\.gif/))?(null===(c=t.imgList[Object(F["q"])(e)])||void 0===c||null===(d=c.large)||void 0===d?void 0:d.url)||(null===(h=t.imgList[Object(F["q"])(e)])||void 0===h?void 0:h.url):(null===(o=t.imgList[Object(F["q"])(e)])||void 0===o||null===(s=o.mw690)||void 0===s?void 0:s.url)||(null===(r=t.imgList[Object(F["q"])(e)])||void 0===r?void 0:r.url)})),k=Object(F["a"])((function(){var i;return(null===(i=t.imgList[Object(F["q"])(e)])||void 0===i?void 0:i.type)||"pic"})),$=Object(F["n"])(!1),C=function(e){var i=t.imgList[e];if(i&&i.geo){var a=i&&i.geo,o=a.width,n=a.height,s=o/n;return s<=.3}return!1};Object(F["s"])(e,(function(t){$.value=C(t),Object(F["f"])((function(){d()}))}),{immediate:!0});var O=Se(),j=O.canPlayMov,T=function(){var t;null===(t=Object(F["q"])(o))||void 0===t||t.play()};Object(F["k"])((function(){a.$Bus.$on("closeViewer",T),_(!0)})),Object(F["i"])((function(){_(!1),a.$Bus.$off("closeViewer",T)}));var D=function(){var t;(n.value=!0,"livephoto"!==Object(F["q"])(k))&&(null===(t=Object(F["q"])(o))||void 0===t||t.play())},S=Object(F["a"])((function(){return("livephoto"!==Object(F["q"])(k)||!Object(F["q"])(n))&&(("dynamic"===Object(F["q"])(k)||"livephoto"===Object(F["q"])(k))&&Object(F["q"])(j)||"gif"===Object(F["q"])(k))})),I=function(){"livephoto"===Object(F["q"])(k)&&Object(F["f"])((function(){o.value&&(o.value.volume=localStorage.getItem("V7_PLAYER_VOLUME")||.5)}))};return Object(F["s"])(b,(function(t){t&&I()}),{immediate:!0}),{onNext:h,onPrev:p,curPictureSrc:x,curPicturePoster:w,showPrevMask:r,showNextMask:l,isLongPic:$,topPlaceholder:c,scrollIntoView:d,curType:k,canPlayMov:j,videoRef:o,showVideo:S,onVideoEnded:D,srcLoaded:b,prevPictureSrc:y,inSafari:g,upgradeProtocol:u,handleVisibilityChange:v}}function Pe(t,e){var i=Object(F["d"])().proxy,a=Object(F["n"])(0),o=Object(F["n"])(null),n=Object(F["n"])(null),s=Object(F["a"])((function(){return t.imgList})),r=Object(F["a"])((function(){return Object(F["q"])(s).length>9&&0!==Object(F["q"])(a)})),l=Object(F["a"])((function(){var t,e;return Object(F["q"])(s).length>9&&Object(F["q"])(a)<((null===(t=Object(F["q"])(o))||void 0===t||null===(e=t.$el)||void 0===e?void 0:e.clientWidth)||0)})),c=function(a){var o;e.value=a,"mixvideo"===(null===(o=t.imgList[e.value])||void 0===o?void 0:o.type)&&Object(F["f"])((function(){i.$emit("picture-status-change")}))},u=function(){a.value=0},d=function(){var t,e;a.value=null===(t=Object(F["q"])(o))||void 0===t||null===(e=t.$el)||void 0===e?void 0:e.clientWidth};return Object(F["k"])((function(){Object(F["q"])(e)>9&&d()})),Object(F["s"])(e,(function(t,e){t>=9&&e<9&&d(),t<9&&e>=9&&u()})),{previewList:s,showPrevBtn:r,showNextBtn:l,changePic:c,offset:a,onPreviewPrev:u,onPreviewNext:d,listContentRef:o,previewItemRef:n}}function Ae(){var t=function(t,e){if(!Object(Oe["a"])(t)||!Array.isArray(e))return!1;var i,a=Object(Nt["a"])(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;return t.hasOwnProperty(o)}}catch(n){a.e(n)}finally{a.f()}},e=function(e){return t(e,["width","height"])},i=function(e){return t(e,["left","top","width","height"])},a=function(t,a,o){if(e(t)&&i(a)){var n,s,r,l,c,u,d=a.top,h=a.left,p=a.width,f=a.height,m=t.width,v=t.height,_={};v>m?(n="width",s="height",r="top",l=d,c=f,u=v/m):(n="height",s="width",r="left",l=h,c=p,u=m/v);var g=1,b=g*u,y=g,w=y*o,x=l*u,k=c*u;return _[n]="100%",_[s]=100*u/o+"%",_[r]=x+k/2<=w/2?0:b-x-k/2<=w/2?-100*(b-w)/w+"%":-100*(k/2+x-w/2)/w+"%",_}};return{focusImg:a}}var Ee={name:"FeedPictureViewer",components:{PictureToolBar:Jt,CardVideo:xe},inheritAttrs:!1,props:{imgList:{type:Array,default:function(){return[]}},pictureIndex:{type:[String,Number],default:-1},contentType:{type:String,default:""},visible:{type:Boolean,default:!1},pagetype:String},setup:function(t,e){var i=e.attrs,a=Object(F["d"])().proxy,o=Object(F["n"])(t.pictureIndex),s=Pe(t,o),r=Be(t,o,s.changePic),l=function(){r.srcLoaded.value=!0,a.$emit("picture-status-change")},c=Le(t,o,r.scrollIntoView,r.curType,r.videoRef,r.isLongPic,l,a),u=Ae();Object(F["s"])((function(){return t.pictureIndex}),(function(t){o.value=t})),Object(F["s"])(o,(function(e,i){-1===i&&-1!==e&&t.imgList.forEach((function(t){var e,i,a,o="mw2000";(null===t||void 0===t||null===(e=t.url)||void 0===e?void 0:e.match(/\.gif/))?(null===t||void 0===t?void 0:t.url)&&ke(null===t||void 0===t?void 0:t.url):(null===t||void 0===t||null===(i=t[o])||void 0===i?void 0:i.url)&&ke(null===t||void 0===t||null===(a=t[o])||void 0===a?void 0:a.url)})),r.srcLoaded.value=!1}));var d=je(t.imgList,i.content,c.onFold),h=Object(F["n"])(!1),p=function(t,e){h.value=!t};return Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])({},d),c),r),s),u),{},{curIndex:o,onPictureStatusChange:l,sec2time:Te["a"],isSpin:h,onPictureToolBarVisibilityChange:p})}},Me=Ee,Fe=i("84cf");function Re(t){this["$style"]=Fe["default"].locals||Fe["default"]}var Ve=Object(g["a"])(Me,Rt,Vt,!1,Re,null,null),Ne=Ve.exports,He=i("1a83"),ze=i("9b95"),Ue={props:{data:Object,pics:{type:Array,default:function(){return[]}},isPay:Boolean,pagetype:String,showPictureViewer:Boolean,disableFeedViewer:Boolean},components:{FeedPicture:Ft["a"],FeedPictureViewer:Ne,CircleProgress:ze["a"]},setup:function(t){var e=Object(F["d"])().proxy,i=Object(F["p"])(t),a=i.data,o=i.pics,n=i.isPay,r=i.disableFeedViewer,l=Object(F["n"])(!1),c=Object(F["n"])(-1),u=Object(F["n"])(-1),d=Object(F["n"])(0);Object(F["s"])((function(){return Object(F["q"])(a).id}),(function(){l.value=!1,c.value=-1,u.value=-1,d.value=0}));var h=Object(F["a"])((function(){var t;return(null===(t=Object(F["q"])(o))||void 0===t?void 0:t.length)?o.value:Object(F["q"])(a).pic_infos?Object(He["a"])(Object(F["q"])(a).pic_infos,Object(F["q"])(a).pic_ids,Object(F["q"])(a).pic_focus_point,Object(F["q"])(n)):[]})),p=function(){var t=Object(Mt["a"])(regeneratorRuntime.mark((function t(i){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/ajax/statuses/vplus/checkstatus",{params:{vuid:i}});case 2:if(a=t.sent,0!==a.data.ok){t.next=5;break}return t.abrupt("return",!1);case 5:return t.abrupt("return",a.data.data.result);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(Mt["a"])(regeneratorRuntime.mark((function t(){var i,n,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=o.value.some((function(t){return t.isPay&&!t.isMy&&!t.isPaid})),!i){t.next=6;break}return t.next=4,p(null===(n=a.value)||void 0===n||null===(s=n.user)||void 0===s?void 0:s.id);case 4:r=t.sent,a.value.is_paid=r;case 6:l.value=!0,e.$set(a.value,"showPictureViewer",!0);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=function(){if(!Object(F["q"])(r)){var t,e;c.value=null===(t=arguments.length<=0?void 0:arguments[0])||void 0===t?void 0:t.index,u.value=Object(F["q"])(c);var i=null===(e=arguments.length<=0?void 0:arguments[0])||void 0===e?void 0:e.pics[Object(F["q"])(c)];"gif"===i.type||"dynamic"===i.type||"livephoto"===i.type?$e(i.video).then((function(){f()})).catch((function(){f()})):(i.type,f())}},v=function(t){l.value=!1,u.value=-1,d.value=t,c.value=-1,e.$set(a.value,"showPictureViewer",!1)},_=function(){var t=Object(F["q"])(a).pictureViewerSign;e.$set(a.value,"pictureViewerSign",!t)};return{pictureViewerVisible:l,pictureTapIndex:c,pictureLoadingIndex:u,pictureLastIndex:d,newPics:h,pictureTap:m,hidePictureViewer:v,updateShowPictureViewerStatus:_,shortNum:s["b"],sec2time:Te["a"]}}},Ge=Ue,qe=i("f8b1");function We(t){this["$style"]=qe["default"].locals||qe["default"]}var Qe=Object(g["a"])(Ge,At,Et,!1,We,null,null),Je=Qe.exports,Ke=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-panel",{class:t.$style.wrap,attrs:{border:"all",radius:3},nativeOn:{click:function(e){return e.stopPropagation(),t.cardClick(e)}}},[i("woo-box",{attrs:{align:"center"}},["checkin"===t.icon?i("i",{class:t.$style.iconLocal}):t.icon?i("img",{class:t.$style.iconNor,attrs:{src:t.icon}}):t._e(),i("div",{class:t.$style.text},[t._v(t._s(t.title))]),i("woo-fonticon",{class:t.$style.arr,attrs:{value:"caretRight"}})],1)],1)},Ye=[],Xe={name:"feed-annotation",props:{title:String,icon:String,data:Object},methods:{cardClick:function(){this.$emit("annotation",this.data)}}},Ze=Xe,ti=i("a99f");function ei(t){this["$style"]=ti["default"].locals||ti["default"]}var ii=Object(g["a"])(Ze,Ke,Ye,!1,ei,null,null),ai=ii.exports,oi=i("4414"),ni=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.unsupport?i("card-link",t._b({},"card-link",t.unsupport,!1)):t.data.card_info?i("div",{class:[t.$style.wrap,t.repost?"feed-card-repost":t.$style.original]},[t.data.page_title?i("div",{class:t.$style.tit,domProps:{textContent:t._s(t.data.page_title)}}):t._e(),i("Card"+t.voteObject.vote_type,t._b({tag:"component",attrs:{finishTime:t.finishTime,voteObject:t.voteObject,voteState:t.voteState,isAni:t.isAni,isParted:t.isParted,firstParted:t.firstParted},on:{setVote:t.setVote,toggleVote:t.toggleVote,vote:t.vote,"toggle-expand":t.toggleExpand,cancelVote:t.cancelVote}},"component",t.$attrs,!1)),i("woo-box",{class:t.$style.info,attrs:{align:"center",justify:"between"}},[t.finishTime?i("span",[t._v(t._s(t.shortNum(t.voteObject.part_info))+"人参与 还有"+t._s(t.finishTime)+"结束 "),t.voteObject.participant_type_desc?i("span",[t._v(t._s(t.voteObject.participant_type_desc))]):t._e()]):i("span",[t._v(t._s(t.shortNum(t.voteObject.part_info))+"人参与 投票已结束")]),i("span",[t.voteObject.user_nick?i("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.toProfile(t.voteObject.user_nick)}}},[t._v("@"+t._s(t.voteObject.user_nick))]):t._e(),t._v("创建")])]),t.voteObject.parted?i("div",{class:t.$style.btnB,on:{click:t.share}},[i("woo-button",{attrs:{sort:"flat",kind:"primary",fluid:""}},[t._v(" 分享我的投票观点 ")])],1):t.voteState.value&&t.voteState.value.length?i("div",{class:t.$style.btnB,on:{click:t.submit}},[i("woo-button",{attrs:{disabled:t.disabled,sort:"flat",kind:"primary",fluid:""}},[t._v(" 提交投票 ")])],1):t._e()],1):t._e()},si=[],ri=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.list},[i("Expandable",{attrs:{show:t.list.length>4,expand:t.voteState.expand},on:{"toggle-expand":function(e){return t.$emit("toggle-expand",e)}}},[t._t("default",t._l(t.slist,(function(e){return i("VoteItem",t._b({key:e.id,attrs:{multiple:t.multiple,voteItemData:e},on:{vote:t.setVote}},"VoteItem",t.$attrs,!1))})))],2)],1)},li=[],ci=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-panel",{class:[t.$style.item,t.finishTime&&t.$style.cursor,1===t.voteItemData.selected&&t.$style.curr,t.isParted&&t.isAni&&t.$style.itemAni,t.isParted&&t.firstParted&&t.$style.itemed,!t.isParted&&t.$style.itemHover],style:t.borderColor,attrs:{border:"all"},nativeOn:{click:function(e){return t.onVote(t.voteItemData.id)}}},[t.voteItemData.part_ratio?i("div",{class:t.$style.bg,style:t.fillColor}):t._e(),t.voteItemData.part_num?i("woo-box",{class:t.$style.right,style:t.textColor,attrs:{align:"center",justify:"end"}},[i("div",{domProps:{innerHTML:t._s(""+t.voteItemData.part_num)}})]):t._e(),i("div",{class:t.$style.text},[i("woo-box",{class:[t.$style.textin,t.textAlign&&t.$style[t.textAlign]],attrs:{align:"center"}},[t._t("beforeText",null,{item:t.voteItemData}),t.voteItemData.content?i("div",{class:t.$style.cut,style:t.textColor,domProps:{innerHTML:t._s(t.voteItemData.content)}}):t._e(),t.multiple&&!t.isParted||1!==t.voteItemData.selected?t._e():i("woo-fonticon",{class:[t.$style.icon],style:t.textColor,attrs:{value:"checkV2"}})],2),t.multiple&&!t.isParted&&1===t.voteItemData.selected?i("woo-fonticon",{class:[t.$style.icon,t.$style.multiple],style:t.textColor,attrs:{value:"checkV2"}}):t._e()],1)],1)},ui=[],di={inheritAttrs:!1,props:{voteItemData:{type:Object,default:function(){return{}}},multiple:Boolean,finishTime:String,isAni:Boolean,isParted:Boolean,firstParted:Boolean,textAlign:String,customColor:{type:Object,default:function(){return{}}},darkMode:Boolean},setup:function(t,e){var i=e.emit,a=function(t){i("vote",t)},o=Object(F["a"])((function(){return{borderColor:t.darkMode?t.customColor.border_color_dark:t.customColor.border_color}})),n=Object(F["a"])((function(){return{color:t.darkMode?t.customColor.text_color_dark:t.customColor.text_color}})),s=Object(F["a"])((function(){return{width:"".concat(100*t.voteItemData.part_ratio,"%"),background:t.darkMode?t.customColor.fill_color_dark:t.customColor.fill_color}}));return{onVote:a,borderColor:o,textColor:n,fillColor:s}}},hi=di,pi=i("3b28");function fi(t){this["$style"]=pi["default"].locals||pi["default"]}var mi=Object(g["a"])(hi,ci,ui,!1,fi,null,null),vi=mi.exports,_i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.container},[t._t("default"),t.show&&!t.expand?i("div",{class:t.$style.musk}):t._e(),t.show?i("div",{class:[t.$style.more,t.expand&&t.$style.expand],on:{click:function(e){return t.$emit("toggle-expand",!t.expand)}}},[t.expand?i("span",{class:t.$style.text},[t._v("收起")]):t._e(),t.expand?t._e():i("span",{class:t.$style.text},[t._v("展开全部选项")])]):t._e()],2)},gi=[],bi={props:{show:{type:Boolean},expand:{type:Boolean},type:{type:String}}},yi=bi,wi=i("f1ee");function xi(t){this["$style"]=wi["default"].locals||wi["default"]}var ki=Object(g["a"])(yi,_i,gi,!1,xi,null,null),$i=ki.exports,Ci={inheritAttrs:!1,props:{voteObject:{type:Object,default:function(){return{}}},voteState:{type:Object,default:function(){return{}}}},computed:{multiple:function(){return 1===this.voteObject.is_multi_select},end:function(){return 0===this.voteObject.state},voted:function(){return this.voteObject.parted>0},list:function(){return this.voteObject.vote_list},slist:function(){var t,e,i=this.list;(null===(t=this.voteState)||void 0===t?void 0:t.expand)||(i=this.list.slice(0,5));var a=null===(e=this.voteState)||void 0===e?void 0:e.value;return a?i.map((function(t){return a.includes(t.id)?Object(n["a"])(Object(n["a"])({},t),{},{selected:1}):t})):i}},methods:{setVote:function(t){this.end||(this.voted?this.$emit("cancelVote"):this.multiple?this.$emit("toggleVote",t):this.$emit("setVote",t))}},components:{VoteItem:vi,Expandable:$i}},Oi=Ci,ji=i("8305");function Ti(t){this["$style"]=ji["default"].locals||ji["default"]}var Di=Object(g["a"])(Oi,ri,li,!1,Ti,null,null),Si=Di.exports,Ii=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Card",t._g(t._b({},"Card",t.$attrs,!1),t.$listeners))},Li=[],Bi={components:{Card:Si}},Pi=Bi,Ai=Object(g["a"])(Pi,Ii,Li,!1,null,null,null),Ei=Ai.exports,Mi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Expandable",{attrs:{show:t.list.length>6,expand:t.voteState.expand},on:{"toggle-expand":function(e){return t.$emit("toggle-expand",e)}}},[i("div",{class:t.$style.container},t._l(t.slist,(function(e,a){return i("div",{key:a,class:[t.$style.item,e.selected&&t.$style.active,e.selected&&t.$style.selected],style:{width:"calc("+(t.list.length>2?"33.3%":"50%")+" - 8px)"}},[i("woo-picture",{class:t.$style.pic,attrs:{src:e.pic,"aspect-ratio":.752},nativeOn:{click:function(i){return i.stopPropagation(),t.openPic(e.pid)}}}),i("span",{class:t.$style.option,on:{click:function(i){return t.onClickOption(e)}}},[(t.voted||t.isParted)&&Number(e.part_num)>0?i("span",{class:t.$style.progress,style:{width:100*Number(e.part_ratio)+"%"}}):t._e(),i("span",{class:t.$style.text},[t._v(" "+t._s(e.content)+" "),e.selected?i("woo-icon",{class:t.$style.icon}):t._e()],1),t.voted||t.isParted?i("span",{class:t.$style.count},[t._v(t._s(e.part_num))]):t._e(),t.voted||t.isParted||t.multiple?t._e():i("span",{class:[t.$style.field,t.$style.ratio]}),t.voted||t.isParted||!t.multiple?t._e():i("span",{class:[t.$style.field,t.$style.checkbox]})])],1)})),0)])},Fi=[],Ri={inheritAttrs:!1,components:{Expandable:$i},props:{voteObject:{type:Object,default:function(){return{}}},voteState:{type:Object,default:function(){return{}}},finishTime:String,isAni:Boolean,isParted:Boolean,firstParted:Boolean},computed:{multiple:function(){return 1===this.voteObject.is_multi_select},end:function(){return 0===this.voteObject.state},voted:function(){return this.voteObject.parted>0},list:function(){var t=this.voteObject.vote_list,e=this.voteObject.part_info;return t.map((function(i){return 0===Number(e)&&(i.part_ratio=1/t.length),i}))},slist:function(){var t,e,i=this.list;(null===(t=this.voteState)||void 0===t?void 0:t.expand)||(i=this.list.slice(0,6));var a=null===(e=this.voteState)||void 0===e?void 0:e.value;return a?i.map((function(t){return a.includes(t.id)?Object(n["a"])(Object(n["a"])({},t),{},{selected:1}):t})):i}},methods:{openPic:function(t){var e=0,i=Object(u["a"])([t]);this.$Bus.$emit("showViewer",{data:{index:e,pics:i},type:"image"})},onClickOption:function(t){this.end||(this.voted?this.cancelVote():this.setVote(t.id))},setVote:function(t){this.multiple?this.$emit("toggleVote",t):this.$emit("setVote",t)},cancelVote:function(){this.$emit("cancelVote")}}},Vi=Ri,Ni=i("bf28");function Hi(t){this["$style"]=Ni["default"].locals||Ni["default"]}var zi=Object(g["a"])(Vi,Mi,Fi,!1,Hi,null,null),Ui=zi.exports,Gi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Card",t._g(t._b({},"Card",t.$attrs,!1),t.$listeners),[t._l(t.voteObject.vote_list,(function(e){return i("VoteItem",t._g(t._b({key:e.id,attrs:{textAlign:"left",voteItemData:e},scopedSlots:t._u([{key:"beforeText",fn:function(e){return[e.item&&e.item.avatar_list&&e.item.avatar_list.length?i("div",{class:t.$style.avatarList},t._l(e.item.avatar_list,(function(e,a){return i("woo-avatar",{key:a,class:t.$style.avatar,attrs:{size:20,src:e}})})),1):t._e()]}}],null,!0)},"VoteItem",t.$attrs,!1),t.$listeners))}))],2)},qi=[],Wi={props:{voteObject:{type:Object,default:function(){return{}}}},components:{Card:Si,VoteItem:vi}},Qi=Wi,Ji=i("8693");function Ki(t){this["$style"]=Ji["default"].locals||Ji["default"]}var Yi=Object(g["a"])(Qi,Gi,qi,!1,Ki,null,null),Xi=Yi.exports,Zi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Card",[t._l(t.voteObject.vote_list,(function(e){return i("VoteItem",t._g(t._b({key:e.id,attrs:{textAlign:"left",voteItemData:e,customColor:e.color},scopedSlots:t._u([{key:"beforeText",fn:function(e){return[e.item&&e.item.avatar_list&&e.item.avatar_list.length?i("div",{class:t.$style.avatarList},t._l(e.item.avatar_list,(function(e,a){return i("woo-avatar",{key:a,class:t.$style.avatar,attrs:{size:20,src:e}})})),1):t._e()]}}],null,!0)},"VoteItem",t.$attrs,!1),t.$listeners))}))],2)},ta=[],ea={props:{voteObject:{type:Object,default:function(){return{}}}},components:{Card:Si,VoteItem:vi}},ia=ea,aa=i("c7ac");function oa(t){this["$style"]=aa["default"].locals||aa["default"]}var na=Object(g["a"])(ia,Zi,ta,!1,oa,null,null),sa=na.exports,ra={name:"feed-vote",props:["data","id","repost"],data:function(){return{voteObject:{},isCancel:!1,firstParted:!1,isAni:!1}},mounted:function(){var t,e;(null===(t=this.data)||void 0===t||null===(e=t.card_info)||void 0===e?void 0:e.vote_object)&&(this.voteObject=this.data.card_info.vote_object,this.isParted&&(this.firstParted=!0))},computed:{voteState:function(){var t,e,i;return null!==(t=null===(e=this.data)||void 0===e||null===(i=e.card_info)||void 0===i?void 0:i.vote_state)&&void 0!==t?t:{}},disabled:function(){var t,e,i=this.voteObject,a=i.minimum,o=i.maximum,n=null!==(t=null===(e=this.voteState)||void 0===e?void 0:e.value)&&void 0!==t?t:[];return!(n.length>=a&&n.length<=o)},unsupport:function(){var t=this.voteObject,e=t.vote_type,i=t.user_nick,a=t.target_url;return 0===e||1===e||4===e||5===e?null:{data:Object(n["a"])(Object(n["a"])({},this.data),{},{page_title:"@".concat(i),page_desc:this.data.page_title,page_url:a})}},finishTime:function(){var t=1e3*this.voteObject.expire_date,e=ve()(t).diff(ve()(),"d"),i=ve()(t).diff(ve()(),"h"),a=ve()(t).diff(ve()(),"m");return i>50?"".concat(e,"天"):i>=1&&i<=50?"".concat(i,"小时"):a>0&&a<60?"".concat(a,"分"):""},isParted:function(){var t=this.voteObject;return!(!t.parted&&this.finishTime&&t.vote_list&&t.vote_list.length)&&!!((t.parted&&this.finishTime||!this.finishTime)&&t.vote_list&&t.vote_list.length)}},methods:{shortNum:function(t,e,i){return Object(s["b"])(t,e,i)},toProfile:function(t){this.$router.push({path:"/n/".concat(t)})},vote:function(t){this.isParted?this.cancelVote():this.setVote(t)},submit:function(){var t,e,i=null!==(t=null===(e=this.voteState)||void 0===e?void 0:e.value)&&void 0!==t?t:[];i.length&&this.setVote(i)},toggleExpand:function(t){var e=this.voteState;this.$emit("updateVoteState",Object(n["a"])(Object(n["a"])({},e),{},{expand:t}))},toggleVote:function(t){var e,i=this.voteState,a=null!==(e=null===i||void 0===i?void 0:i.value)&&void 0!==e?e:[],o=a.indexOf(t);-1===o?a.push(t):a.splice(o,1),this.$emit("updateVoteState",Object(n["a"])(Object(n["a"])({},i),{},{value:a}))},setVote:function(t){var e=this;this.isCancel=!1,this.$http.post("/ajax/statuses/setVote",{id:this.voteObject.id,vote_items:t.toString(),ext:"4"}).then((function(t){if(t.data&&t.data.ok>0){var i=t.data.vote_object;i&&i.error_msg&&e.$_w_toast({type:"warn",message:i.error_msg}),e.voteObject=i,e.isAni=!0,delete e.voteState.value,e.$emit("updateVoteObject",e.voteObject)}}))},cancelVote:function(){var t=this;this.finishTime&&this.$_w_dialog({type:"confirm",title:"是否撤回投票？",btnConfirm:"撤回",action:function(){t.$http.post("/ajax/statuses/cancelVote",{id:t.voteObject.id}).then((function(e){if(e.data&&e.data.ok>0){var i=e.data.vote_object;i&&i.error_msg&&t.$_w_toast({type:"warn",message:i.error_msg}),t.voteObject=i,t.$emit("updateVoteObject",t.voteObject),t.isCancel=!0}}))}})},share:function(){var t,e;if(null===(t=this.voteObject)||void 0===t||null===(e=t.vote_list)||void 0===e?void 0:e.length){var i=this.voteObject.vote_list.filter((function(t){return 1===t.selected}));i&&i.length&&this.$Bus.$emit("showModalComposer",{title:"转发微博",data:{action:"repost",content:"我参与了@".concat(this.voteObject.user_nick," 发起的投票测试，我投给了“").concat(i[0].content,"”这个选项，你也快来表态吧~"),id:this.id,onhead:!1}})}}},components:{Card:Si,Card0:Ei,Card1:Ui,Card4:Xi,Card5:sa,CardLink:oi["a"]}},la=ra,ca=i("64cb");function ua(t){this["$style"]=ca["default"].locals||ca["default"]}var da=Object(g["a"])(la,ni,si,!1,ua,null,null),ha=da.exports,pa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a-link",{attrs:{"link-type":"old","style-type":"none",href:t.getHref,target:"_blank"},nativeOn:{click:function(e){return e.stopPropagation(),t.clickHandle(e)}}},[t.data.page_pic?i("woo-picture",{class:t.$style.pic,attrs:{"aspect-ratio":"16:9",src:t.data.page_pic}},[i("woo-box",{class:t.$style.post,attrs:{align:"center",justify:"end"}},[t.data.user?i("woo-box-item",{class:t.$style.cutout,attrs:{align:"center"}},[i("woo-box",{attrs:{align:"center"}},[t.data.user.profile_image_url?i("woo-avatar",{attrs:{size:20,src:t.data.user.profile_image_url}}):t._e(),i("woo-box-item",{class:t.$style.cutout,attrs:{align:"center"}},[i("woo-box",{attrs:{align:"center"}},["wenda"===t.data.object_type&&t.data.page_title?i("div",{class:t.$style.cut1,domProps:{textContent:t._s(t.data.page_title.slice(1))}}):t.data.user&&t.data.user.screen_name?i("div",{class:t.$style.cut1,domProps:{innerHTML:t._s(t.data.user.screen_name)}}):t._e(),t.followBtn?i("FollowBtn",{attrs:{size:"xs",kind:"white",uid:t.followBtn.params.uid,doFoAction:!0,foToast:!0}}):t._e()],1)],1)],1)],1):t._e(),t.data.type_icon?i("div",{class:t.$style.img1},[i("img",{attrs:{src:t.data.type_icon,alt:""}})]):t._e(),t.data.corner_mark_url?i("div",{class:t.$style.img2},[i("img",{attrs:{src:t.data.corner_mark_url,alt:""}})]):t._e()],1),i("woo-box",{class:t.$style.posb,attrs:{align:"end"}},[i("woo-box-item",{class:t.$style.cutout,attrs:{align:"end"}},[t.data.content1?i("div",{class:t.$style.cut2,domProps:{textContent:t._s(t.data.content1)}}):t._e(),["wenda","article","wb_collection"].includes(t.data.object_type)&&t.data.content2?i("div",{class:t.$style.cut1,domProps:{innerHTML:t._s(t.data.content2)}}):t._e(),"fangle"===t.data.object_type&&t.data.created_time?i("div",{class:t.$style.cut1},[t._v(" "+t._s(t._f("fromNow")(1e3*t.data.created_time))+" 创建 ")]):t._e()]),t._l(t.data.buttons,(function(e,a){return[["wenda","article"].includes(t.data.object_type)&&t.data.buttons&&t.data.buttons.length&&"link"===e.type?i("woo-button",{key:a,class:t.$style.btn2,attrs:{sort:"flat",kind:"primary"},nativeOn:{click:function(i){return i.preventDefault(),i.stopPropagation(),t.clickHandle(e)}}},[t._v(t._s(e.name))]):t._e()]}))],2)],1):t._e()],1)},fa=[],ma=i("5857"),va={name:"feed-article",props:["data","url_struct","isPay"],mounted:function(){this.getContent2()},computed:{followBtn:function(){return this.data.buttons&&this.data.buttons.length&&this.data.buttons.filter((function(t){return"follow"===t.type}))[0]},getHref:function(){if("wenda"===this.data.object_type&&this.data.page_id){var t=this.data.page_id.slice(0,6);if("231347"===t)return"https://weibo.com/p/".concat(this.data.page_id,"/wenda_home");if("231068"===t)return"https://weibo.com/ttwenda/p/show?id=".concat(this.data.page_id,"&luicode=10000736");if("231745"===t)return"https://weibo.com/p/".concat(this.data.page_id)}else if(this.data.page_url){if(this.data.page_id.match(/230935|230963|230961/))return"https://weibo.com/ttarticle/p/show?id=".concat(this.data.page_id);if(!(this.data.page_url.indexOf("sinaweibo://")>-1))return this.data.page_url;if(!this.url_struct||!this.url_struct.length)return"https://m.weibo.cn/api/scheme?scheme=".concat(encodeURIComponent(this.data.page_url));var e,i=Object(Nt["a"])(this.url_struct);try{for(i.s();!(e=i.n()).done;){var a=e.value;if(this.data.page_id===a.page_id)return Object(ma["a"])(a)}}catch(o){i.e(o)}finally{i.f()}}return""}},methods:{clickHandle:function(t){var e;if(null===t||void 0===t||null===(e=t.params)||void 0===e?void 0:e.scheme){var i=t.params.scheme;t.params.scheme.startsWith("sinaweibo://")&&(i="https://m.weibo.cn/api/scheme?scheme=".concat(encodeURIComponent(t.params.scheme))),window.open(i)}this.$emit("link-tap",this.data,this.url_struct)},getContent2:function(){if(this.data&&this.data.content2_html){var t=this.data.content2_html.split("，");this.data.content2||this.$set(this.data,"content2",this.data.content2_html.replace(/<[^>]+>/g,""));var e,i=Object(Nt["a"])(t);try{for(i.s();!(e=i.n()).done;){var a=e.value,o=/<font color=#ff8200><b>(([\s\S])*?)<\/b><\/font>/,n=a.match(o);this.data&&this.data.content2&&n&&n[1].indexOf(this.data.content2)&&this.$set(this.data,"content2",this.data.content2.replace(n[1],"<span>".concat(n[1],"</span>")))}}catch(s){i.e(s)}finally{i.f()}}}}},_a=va,ga=i("24cc");function ba(t){this["$style"]=ga["default"].locals||ga["default"]}var ya=Object(g["a"])(_a,pa,fa,!1,ba,null,null),wa=ya.exports,xa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{class:[t.$style.wrap,t.repost?"feed-card-repost":t.$style.original]},[t._l(t.cards,(function(e,a){return[i("div",{key:a},["adFeedVideo"===e.object_type&&"11"===e.type?i("card-video",{attrs:{data:e,id:t.id,content:t.content,originContent:t.originContent}}):t._e(),i("a-link",{attrs:{"link-type":"old","style-type":"none",href:t.getHref,target:"_blank"},nativeOn:{click:function(t){t.stopPropagation()}}},["event"===e.object_type&&e.pic_info&&e.pic_info.pic_big&&e.pic_info.pic_big.url?i("woo-picture",{key:e.pic_info.pic_big.url,class:t.$style.pic,attrs:{"aspect-ratio":t.picRatio(e.pic_info.pic_big),"hover-mask":!1,src:e.pic_info.pic_big.url},on:{click:function(i){return i.stopPropagation(),t.adClickAllLog(e.actionlog,t.monitor_url)}}}):t._e(),"2"===e.type?i("div",{class:t.$style.con},[i("woo-box",{attrs:{align:"center"}},[i("woo-box-item",{class:t.$style.cutout,attrs:{align:"center"},nativeOn:{click:function(i){return i.stopPropagation(),t.adClickAllLog(e.actionlog,t.monitor_url)}}},[e.content1?i("div",{class:[t.$style.h3,t.$style.cut1],domProps:{textContent:t._s(e.content1)}}):t._e(),t.data.content2?i("div",{class:[t.$style.h4,t.$style.cut2],domProps:{textContent:t._s(t.data.content2)}}):t._e()]),t._l(e.buttons,(function(e,a){return[t.isFollowBtn(e)?i("woo-button",{key:a,class:t.$style.btn,attrs:{sort:"flat",kind:t.newFollowing?"default":"primary"},domProps:{innerHTML:t._s(t.newFollowing?"已关注":e.name)},nativeOn:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.handleButton(e)}}}):i("woo-button",{key:a,class:t.$style.btn,attrs:{sort:"flat",kind:"primary"},domProps:{innerHTML:t._s(e.name)},nativeOn:{click:function(i){return i.stopPropagation(),t.adClickAllLog(e.actionlog,t.monitor_url)}}})]}))],2)],1):t._e()],1)],1)]}))],2)])},ka=[],$a={name:"feed-card-ad",props:["data","id","content","originContent","url_struct","monitor_url","uid","following","mark","rid","repost"],inheritAttrs:!1,mixins:[p["a"]],setup:function(t,e){var i=e.root,a=e.emit,o=Object(F["p"])(t),n=o.data,s=o.url_struct,r=o.uid,l=o.following,c=o.mark,u=o.rid,d=Object(F["n"])(l.value);Object(F["s"])(l,(function(t){d.value=t}));var h=Object(F["a"])((function(){return n.value.cards})),p=Object(F["a"])((function(){return n.value.content1||n.value.page_title||""})),f=Object(F["a"])((function(){if(n.value.page_url){if(!(n.value.page_url.indexOf("sinaweibo://")>-1))return n.value.page_url;if(s.value&&s.value.length){var t,e=Object(Nt["a"])(s.value);try{for(e.s();!(t=e.n()).done;){var i=t.value;return n.value.page_id===i.page_id?Object(ma["a"])(i):"https://m.weibo.cn/api/scheme?scheme=".concat(encodeURIComponent(n.value.page_url))}}catch(a){e.e(a)}finally{e.f()}}}})),m=function(t){return"follow"===t.type||"link"===t.type&&"关注作者"===t.name},v=function(t){if(m(t)&&!d.value){var e={friend_uid:r.value,mark:c.value,rid:u.value};i.$http.post("/ajax/friendships/create",e).then((function(t){t.data&&t.data.ok>0&&(d.value=!d.value,a("updateFollowing",d.value))})).catch((function(){}))}},_=function(t){return t.width&&t.height?t.height/t.width:"16:9"};return{cards:h,content1:p,getHref:f,newFollowing:d,handleButton:v,isFollowBtn:m,picRatio:_}},components:{cardVideo:xe}},Ca=$a,Oa=i("f616");function ja(t){this["$style"]=Oa["default"].locals||Oa["default"]}var Ta=Object(g["a"])(Ca,xa,ka,!1,ja,null,null),Da=Ta.exports,Sa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.list},[i("woo-box",{class:t.$style.listin,style:{transform:"translateX("+-387*t.curIndex+"px)"},attrs:{old:""}},[t._l(t.data.cards,(function(e,a){return[i("woo-box-item",{key:a,class:t.$style.item},[i("CardAd",{attrs:{data:e,id:t.id,content:t.content,originContent:t.originContent,url_struct:t.url_struct,monitor_url:t.monitor_url}})],1)]}))],2),i("woo-box",{class:[t.$style.angleLeft,t.$style.angleBtn],attrs:{justify:"center",align:"center"},nativeOn:{mouseover:function(e){t.showAngle=!0},mouseout:function(e){t.showAngle=!1},click:function(e){return e.stopPropagation(),t.handleCollect("prev")}}},[i("woo-fonticon",{directives:[{name:"show",rawName:"v-show",value:t.data.cards.length>1&&0!==t.curIndex&&t.showAngle,expression:"data.cards.length > 1 && curIndex !== 0 && showAngle"}],attrs:{value:"angleLeft"}})],1),i("woo-box",{class:[t.$style.angleRight,t.$style.angleBtn],attrs:{justify:"center",align:"center"},nativeOn:{mouseover:function(e){t.showAngle=!0},mouseout:function(e){t.showAngle=!1},click:function(e){return e.stopPropagation(),t.handleCollect("next")}}},[i("woo-fonticon",{directives:[{name:"show",rawName:"v-show",value:t.data.cards.length>1&&t.curIndex!==t.data.cards.length-1&&t.showAngle,expression:"\n        data.cards.length > 1 &&\n        curIndex !== data.cards.length - 1 &&\n        showAngle\n      "}],attrs:{value:"angleRight"}})],1)],1)},Ia=[],La={name:"card-ad-collection",props:["data","id","content","originContent","url_struct","monitor_url"],inheritAttrs:!1,components:{CardAd:Da},setup:function(t,e){var i=e.root,a=Object(F["p"])(t),o=a.data,n=Object(F["n"])(0),s=Object(F["n"])(!1),r=function(t){var e=n.value;if(e>-1&&e<(o.value.cards&&o.value.cards.length)){var a=o.value.cards.length,s=o.value.cards[e];if(s&&s.actionlog){var r=s.actionlog;i.$http.post("/ajax/feed/throwbatch",{actionlog:r}).then((function(t){}))}"next"===t?e=(e+1)%a:(0===e&&(e=a),e-=1)}n.value=e};return{data:o,curIndex:n,showAngle:s,handleCollect:r}}},Ba=La,Pa=i("8a4a");function Aa(t){this["$style"]=Pa["default"].locals||Pa["default"]}var Ea=Object(g["a"])(Ba,Sa,Ia,!1,Aa,null,null),Ma=Ea.exports,Fa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("woo-picture",{class:t.$style.picture,style:{cursor:t.targetUrl&&"pointer"},attrs:{src:t.cardImage,"aspect-ratio":"16:9",border:!1,hoverMask:!1},nativeOn:{click:function(e){return t.goTarget(e)}}},[i("div",{class:[!t.cardImage&&t.$style.noPic]},[i("span",{class:[t.$style.title,t.$style[t.titleColor]]},[t._v(t._s(t.cardTitle))]),t.cardVideo&&t.enableVideo?i("video",{class:t.$style.video,attrs:{src:t.cardVideo,muted:"",autoplay:"",loop:""},domProps:{muted:!0}}):t._e()])])],1)},Ra=[],Va={inheritAttrs:!1,name:"feed-card-dynamic",props:{data:Object},setup:function(t){var e=Object(F["p"])(t),i=e.data,a=Object(F["a"])((function(){var t;return null===(t=Object(F["q"])(i).card_info)||void 0===t?void 0:t.pic_url})),o=Object(F["a"])((function(){var t,e;return(null===(t=Object(F["q"])(i))||void 0===t?void 0:t.page_pc_url)||(null===(e=Object(F["q"])(i))||void 0===e?void 0:e.page_url)})),n=Object(F["a"])((function(){var t;return(null===(t=Object(F["q"])(i).card_info)||void 0===t?void 0:t.title)||""})),s=Object(F["a"])((function(){var t;return"color".concat((null===(t=Object(F["q"])(i).card_info)||void 0===t?void 0:t.title_color_type)||"")})),r=Object(F["a"])((function(){var t,e,a,o;return(null===(t=Object(F["q"])(i))||void 0===t||null===(e=t.card_info)||void 0===e||null===(a=e.page_info)||void 0===a||null===(o=a.media_info)||void 0===o?void 0:o.stream_url)||""})),l=Object(F["a"])((function(){var t,e;return 1===+(null===(t=Object(F["q"])(i))||void 0===t||null===(e=t.card_info)||void 0===e?void 0:e.sub_type)})),c=function(){Object(F["q"])(o)&&window.open(Object(F["q"])(o))};return{cardImage:a,targetUrl:o,goTarget:c,cardTitle:n,cardVideo:r,titleColor:s,enableVideo:l}}},Na=Va,Ha=i("cd71");function za(t){this["$style"]=Ha["default"].locals||Ha["default"]}var Ua=Object(g["a"])(Na,Fa,Ra,!1,za,null,null),Ga=Ua.exports,qa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{class:t.$style.hongbao,attrs:{href:t.getTargetHref(),target:"_blank"}},[i("div",{class:t.$style.left,style:t.leftBackgroundStyle},[i("woo-avatar",{class:t.$style.avatar,attrs:{src:t.data.page_pic,size:52,verified:t.getVerified(t.data.user)},nativeOn:{click:function(e){return e.preventDefault(),t.goProfile(t.data.user)}}})],1),i("div",{class:[t.$style.right,t.data.button_text&&t.$style.button]},[i("img",{attrs:{src:t.data.page_bg_pic}}),i("div",{class:[t.$style.text3,t.$style.cur,t.$style.f18]},[t._v(" "+t._s(t.data.content1)+" ")]),i("div",{class:[t.$style.text1,t.$style.cur,t.$style.f14]},[t._v(" "+t._s(t.data.content2)+" ")]),t.priceNumber?i("div",{class:[t.$style.text1,t.$style.text2,t.$style.cur,t.$style.f16]},[i("span",[t._v(t._s(t.priceNumber))]),t.isNumber?i("span",[t._v("元")]):t._e()]):t.data.button_text?i("div",{class:[t.$style.button_text,t.$style.f14]},[t._v(" "+t._s(t.data.button_text)+" ")]):t._e()])])},Wa=[];function Qa(t){return["weibo","cmtBai","cmt","attitude","attitudeBai"].includes(t)}var Ja=i("44ba");function Ka(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_blank";if(t){var i="//weibo.com/u/".concat(t.idstr||t.id);if("_blank"!==e){var a=Object(Ja["a"])();a.push(i)}else window.open(i)}}i("3ca3"),i("ddb0"),i("2b3d");var Ya=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var e=/^http(s)?:/;if(e.test(t.long_url)){try{var i=/weibo\.(com|cn)$/,a=new URL(t.long_url);if(a&&a.hostname&&i.test(a.hostname))return t.long_url}catch(o){}return"//weibo.cn/sinaurl?u=".concat(encodeURIComponent(t.long_url))}return"place"===t.object_type?"//weibo.com/p/".concat(t.page_id):t.short_url.replace(/^http:/,"https:")}catch(o){return""}},Xa=function(t){var e=/sinaweibo:\/\/([\w.]+\/?)\S*/,i=e.test(t);return i?"https://m.weibo.cn/api/scheme?scheme=".concat(encodeURIComponent(t)):t},Za={name:"feed-card-hongbao",props:{data:Object,url_struct:Array,pagetype:String},setup:function(t){var e=Object(F["a"])((function(){var e,i,a;return null===(e=t.data)||void 0===e||null===(i=e.price)||void 0===i||null===(a=i.number)||void 0===a?void 0:a.num})),i=Object(F["a"])((function(){return!Number.isNaN(+e.value)})),a=function(){var e;if(!Qa(t.pagetype)){if(!(null===(e=t.data)||void 0===e?void 0:e.page_url))return"";if(!t.data.page_url.includes("sinaweibo://"))return t.data.page_url;var i;if(!(null===t||void 0===t||null===(i=t.url_struct)||void 0===i?void 0:i.length))return"https://m.weibo.cn/api/scheme?scheme=".concat(encodeURIComponent(t.data.page_url));var a,o=Object(Nt["a"])(t.url_struct);try{for(o.s();!(a=o.n()).done;){var n=a.value;if(t.data.page_id===n.page_id)return Ya(n)}}catch(s){o.e(s)}finally{o.f()}}},o=Object(F["a"])((function(){return t.data.left_image_url?{backgroundImage:"url(".concat(t.data.left_image_url,")"),backgroundSize:"100% 100%"}:{}}));return{priceNumber:e,isNumber:i,getVerified:W,getTargetHref:a,goProfile:Ka,leftBackgroundStyle:o}}},to=Za,eo=i("ebbd");function io(t){this["$style"]=eo["default"].locals||eo["default"]}var ao=Object(g["a"])(to,qa,Wa,!1,io,null,null),oo=ao.exports,no=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("woo-picture",{style:{cursor:t.targetUrl&&"pointer"},attrs:{src:t.cardImage,"aspect-ratio":.50185,hoverMask:!1},nativeOn:{click:function(e){return t.goTarget(e)}}})],1)},so=[],ro={name:"feed-card-creator",props:{data:Object,url_struct:Object},setup:function(t){var e=Object(F["p"])(t),i=e.data,a=Object(F["a"])((function(){return i.value&&i.value.cards&&i.value.cards.length&&i.value.cards[0]})),o=Object(F["a"])((function(){return a.value&&a.value.pic_info&&a.value.pic_info.pic_big&&a.value.pic_info.pic_big.url})),n=Object(F["a"])((function(){var e,i,o,n=(null===(e=a.value)||void 0===e?void 0:e.page_url)||"",s=/sinaweibo:\/\/searchall\?([\w.]+\/?)\S*/;if(s.test(n)&&(null===(i=t.url_struct)||void 0===i?void 0:i.length)&&(t.url_struct.map((function(t){t.h5_target_url===n&&(o=t)})),o))return Ya(o);return Xa(n,a.value)})),s=function(){n.value&&window.open(n.value)};return{cardImage:o,targetUrl:n,goTarget:s}}},lo=ro,co=Object(g["a"])(lo,no,so,!1,null,null,null),uo=co.exports,ho=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showTag?i("woo-box",{class:t.$style.box,attrs:{align:"center"}},[i("a-link",{class:t.$style.boxAlink,attrs:{"link-type":"old","style-type":"none",href:t.getHref,target:"_blank"},nativeOn:{click:function(t){t.stopPropagation()}}},[t.pic?[t.data.w_h_ratio?i("img",{class:t.$style.autoImg,attrs:{src:t.pic}}):i("woo-picture",{key:t.pic,attrs:{width:24,height:24,border:!1,src:t.pic}})]:t._e(),t.data.tag_name?i("woo-box-item",{attrs:{align:"center"}},[i("div",{class:[t.$style.title,t.$style.cut]},[t._v(t._s(t.data.tag_name))])]):t._e(),i("woo-fonticon",{class:t.$style.arrow,attrs:{value:"caretRight"}})],2)],1):t._e()},po=[],fo={name:"place",inheritAttrs:!1,props:["tag_struct","single"],setup:function(t,e){var i=Object(F["p"])(t),a=i.tag_struct,o=e.root.$store,n=Object(F["a"])((function(){return a.value[0]})),s=Object(F["a"])((function(){if(a.value[0]&&a.value[0].tag_scheme){var t,e,i;if((null===(t=a.value[0])||void 0===t||null===(e=t.oid)||void 0===e?void 0:e.match(/^1022:100101/))&&"place"===(null===(i=a.value[0])||void 0===i?void 0:i.otype)){var o,n,s=null===(o=a.value[0])||void 0===o||null===(n=o.oid)||void 0===n?void 0:n.replace(/^1022:/,"");return"https://weibo.com/p/".concat(s)}var r=a.value[0].tag_scheme,l=/(http|https):\/\/([\w.]+\/?)\S*/;return l.test(r)?r:"https://m.weibo.cn/api/scheme?scheme=".concat(encodeURIComponent(r))}})),r=Object(F["a"])((function(){var e=["place"].includes(a.value[0]&&a.value[0].otype);switch(n.value.tag_hidden){case 1:return t.single&&e;case 2:return e;case 0:default:return e}})),l=Object(F["a"])((function(){return a.value[0].url_type_pic?o.getters.darkMode&&o.getters.darkMode.mode?a.value[0].url_type_pic.slice(0,-4)+"_dark.png":a.value[0].url_type_pic.slice(0,-4)+"_default.png":""}));return{data:n,getHref:s,showTag:r,pic:l}}},mo=fo,vo=i("71ad");function _o(t){this["$style"]=vo["default"].locals||vo["default"]}var go=Object(g["a"])(mo,ho,po,!1,_o,null,null),bo=go.exports,yo=function(){var t,e=this,i=e.$createElement,a=e._self._c||i;return e.show?a("woo-picture",{class:(t={},t[e.$style.pic]=!0,t[e.$style.tipSpace]=e.showTips,t[e.$style.tipSpaceHightPosition]=e.hightPosition,t[e.$style.repostSpace]=e.repost&&!e.showTips,t[e.$style.pos1]=!e.showTitle&&!e.showTips&&!e.repost,t[e.$style.pos2]=e.showTitle&&!e.showTips&&!e.repost,t),attrs:{src:e.data.icon,width:"100","hover-mask":!1,border:!1,"aspect-ratio":.7}},[e.getHref?a("a-link",{class:e.$style.stampLink,attrs:{"link-type":"old","style-type":"none",href:e.getHref,target:"_blank"},nativeOn:{click:function(t){t.stopPropagation()}}}):e._e()],1):e._e()},wo=[],xo={props:{data:{type:Object},repost:{type:Boolean,default:!1},showTitle:{type:Boolean,default:!1},showTips:{type:Boolean,default:!1},hightPosition:Boolean},setup:function(t){var e=Object(F["p"])(t),i=e.data,a=Object(F["d"])().proxy,o=Object(F["a"])((function(){return Xa(i.value.scheme)})),n=Object(F["a"])((function(){var t,e,o,n;return(null===i||void 0===i||null===(t=i.value)||void 0===t?void 0:t.icon)&&(3===(null===i||void 0===i||null===(e=i.value)||void 0===e?void 0:e.show_flag)||a.$attrs.single&&2===(null===i||void 0===i||null===(o=i.value)||void 0===o?void 0:o.show_flag)||!a.$attrs.single&&1===(null===i||void 0===i||null===(n=i.value)||void 0===n?void 0:n.show_flag))}));return{getHref:o,show:n}}},ko=xo,$o=i("c584");function Co(t){this["$style"]=$o["default"].locals||$o["default"]}var Oo=Object(g["a"])(ko,yo,wo,!1,Co,null,null),jo=Oo.exports,To=i("764e"),Do=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("feed-picture-box",t._g({attrs:{data:t.data,pics:t.pics,isPay:t.isPay,pagetype:t.pagetype,showPictureViewer:t.showPictureViewer,disableFeedViewer:t.disableFeedViewer}},t.$listeners))},So=[],Io={props:{data:Object,isPay:Boolean,pagetype:String,showPictureViewer:Boolean,disableFeedViewer:Boolean},components:{FeedPictureBox:Je},setup:function(t){var e=Object(F["p"])(t),i=e.data,a=e.isPay,o=Object(F["a"])((function(){var t,e,a;return(null===(t=i.value)||void 0===t||null===(e=t.mix_media_info)||void 0===e||null===(a=e.items)||void 0===a?void 0:a.length)?i.value.mix_media_info.items:[]})),n=Object(F["a"])((function(){var t=[];if(o.value.length){var e,n=Object(Nt["a"])(o.value);try{for(n.s();!(e=n.n()).done;){var s=e.value;"pic"===s.type?t.push(Object(He["a"])(s.data,[s.id],i.value.pic_focus_point,a.value)[0]):"video"===s.type&&t.push({type:"mixvideo",url:s.data.page_pic,data:s.data})}}catch(r){n.e(r)}finally{n.f()}}return t}));return{pics:n}}},Lo=Io,Bo=Object(g["a"])(Lo,Do,So,!1,null,null,null),Po=Bo.exports,Ao={computed:{card:function(){var t,e,i,a,o,n=this.data.page_info,s=n&&n.object_type,r=n.page_id;if(r){if(r.match(/^(231601|232861)/))return"feed-card-dynamic";if(r.match(/^230632/))return"feed-card-hongbao";if(r.match(/^232510/)||r.match(/^231121/))return"feed-card-creator"}switch(s){case"live":var l=n.page_id,c=n.watch_limit;return fe(s,l,c)?"feed-card-video":"feed-card-link";case"podcast_audio":case"video":case"adFeedVideo":var u=!(this.data.mark&&n.cards&&"adFeedVideo"===s),d=!(null===n||void 0===n||null===(t=n.media_info)||void 0===t||null===(e=t.stream_url)||void 0===e?void 0:e.match(/mobile\.api\.mgtv\.com/i))||!(null===n||void 0===n||null===(i=n.cards[0])||void 0===i||null===(a=i.media_info)||void 0===a||null===(o=a.stream_url)||void 0===o?void 0:o.match(/mobile\.api\.mgtv\.com/i));if(u&&d)return"feed-card-video";case"story":if(n.slide_cover)return"feed-card-video";case"hudongvote":if(n.card_info)return"feed-card-vote";case"adFeedVideo":case"adFeedEvent":return this.data.mark&&n.cards?"feed-card-ad":"feed-card-link";case"adFeedCollection":if(this.data.mark&&n.cards)return"feed-card-ad-collection";case"article":case"fangle":case"wb_collection":case"wenda":return"feed-card-article";default:return"feed-card-link"}}}},Eo=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("div",[2===t.complaint.color?i("IconTipCustom",{attrs:{bgColor:t.complaint.bg_color,iconUrl:t.complaint.icon_url,text:t.content,textColor:t.complaint.text_color},nativeOn:{click:function(e){return e.stopPropagation(),t.$emit("tip-click",t.complaint.url)}}}):[1,3].includes(t.complaint.color)?i("woo-tip",{class:[t.$style.tip,t.$style.cursor],attrs:{type:3===t.complaint.color?"warn":1===t.complaint.color?"error":"",sort:"flat"},nativeOn:{click:function(e){return e.stopPropagation(),t.$emit("tip-click",t.complaint.url)}}},[i("span",{domProps:{innerHTML:t._s(t.content)}})]):4===t.complaint.color?i("woo-box",{class:t.$style.main,attrs:{align:"center",justify:"center"}},[i("IconTipGreen",{class:t.$style.logo,attrs:{rightOpacity:"var(--w-tip-green-icon-opacity)",centerColor:"var(--w-tip-green-icon-color)"}}),i("span",{class:t.$style.text,domProps:{innerHTML:t._s(t.content)}})],1):t.showCommunityNote?i("community-note",t._b({attrs:{data:t.complaint},nativeOn:{click:function(e){return e.stopPropagation(),t.$emit("tip-click",t.complaint.url)}}},"community-note",t.$attrs,!1)):t._e()],1):t._e()},Mo=[],Fo=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{directives:[{name:"focus-visible",rawName:"v-focus-visible"}],class:t.$style.wrap},[i("svg",{class:t.$style.main,attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17 18"}},[i("defs",[i("linearGradient",{attrs:{x1:"50%",y1:"11.15%",x2:"50%",y2:"115.994%",id:"b"}},[i("stop",{attrs:{"stop-color":"#2BC161",offset:"0%"}}),i("stop",{attrs:{"stop-color":"#23EF3C",offset:"100%"}})],1),i("linearGradient",{attrs:{x1:"50%",y1:"0%",x2:"45.166%",y2:"100%",id:"c"}},[i("stop",{attrs:{"stop-color":"#FFF",offset:"0%"}}),i("stop",{attrs:{"stop-color":"#FFF","stop-opacity":".628",offset:"100%"}})],1),i("path",{attrs:{d:"M.786 3.157C1.215.992 3.892 2.6 5.75 1.673 6.988 1.056 7.871.498 8.4 0l.14.126c.539.465 1.376.981 2.51 1.547 1.858.927 4.535-.681 4.964 1.484.843 7.005-1.695 11.55-7.614 13.636C2.481 14.707-.057 10.162.786 3.157z",id:"a"}})],1),i("g",{attrs:{transform:"translate(0 .6)",fill:"none","fill-rule":"evenodd"}},[i("mask",{attrs:{id:"d",fill:"#fff"}},[i("use",{attrs:{"xlink:href":"#a"}})]),i("use",{attrs:{fill:"url(#b)","xlink:href":"#a"}}),i("path",{attrs:{fill:"url(#c)",opacity:t.rightOpacity,mask:"url(#d)",d:"M-2.833-1.6H8.5v25.095H-2.833z"}}),i("path",{attrs:{fill:t.centerColor,d:"m5.173 8.955 3.696-5.497-.322 3.612h2.626l-3.904 5.388.468-3.503z"}})])])])},Ro=[],Vo={props:{rightOpacity:Number,centerColor:String}},No=Vo,Ho=i("89c3");function zo(t){this["$style"]=Ho["default"].locals||Ho["default"]}var Uo=Object(g["a"])(No,Fo,Ro,!1,zo,null,null),Go=Uo.exports,qo=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{class:t.$style.tip,style:{backgroundColor:t.newBgColor},attrs:{align:"center",justify:"center"}},[i("woo-box",{attrs:{direction:"x"}},[t.iconUrl?i("woo-picture",{attrs:{src:t.iconUrl,width:"1rem",height:"1rem"}}):i("span",{class:t.$style.icon},[i("svg",{attrs:{viewBox:"0 0 37 37",xmlns:"http://www.w3.org/2000/svg"}},[i("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[i("circle",{attrs:{fill:"currentColor",cx:"18.5",cy:"18.5",r:"18.5"}}),i("path",{attrs:{d:"M18.5 31a2.501 2.501 0 11.002-4.998A2.501 2.501 0 0118.5 31zM16 19.45V7.548C16 6.142 17.118 5 18.5 5 19.88 5 21 6.142 21 7.548V19.45c0 1.408-1.12 2.55-2.5 2.55-1.382 0-2.5-1.142-2.5-2.55z",fill:"#FFF"}})])])]),t.text?i("span",{class:t.$style.text,style:{color:t.newTextColor}},[t._v(t._s(t.text))]):t._e()],1)],1)},Wo=[],Qo={props:{bgColor:String,iconUrl:String,text:String,textColor:String},setup:function(t){var e=Object(F["p"])(t),i=e.bgColor,a=e.textColor,o=Object(F["a"])((function(){return i.value?i.value:"var(--w-tip-error-bg)"})),n=Object(F["a"])((function(){return a.value?a.value:"var(--w-brand)"}));return{newBgColor:o,newTextColor:n}}},Jo=Qo,Ko=i("dc73");function Yo(t){this["$style"]=Ko["default"].locals||Ko["default"]}var Xo=Object(g["a"])(Jo,qo,Wo,!1,Yo,null,null),Zo=Xo.exports,tn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:[t.$style.box,t.communityNoteInRepost&&t.$style.inRepost]},[i("woo-box",{class:t.$style.tag,style:{background:t.bgColor,color:t.textColor},attrs:{align:"center"}},[t.data.hidden_icon?t._e():i("woo-fonticon",{class:t.$style.i1,attrs:{value:"notice"}}),i("div",{class:t.$style.t},[t._v(t._s(t.data.showcontent))]),i("woo-fonticon",{class:t.$style.i2,attrs:{value:"angleRight"}})],1),i("woo-fonticon",{class:t.$style.i3,style:{color:t.bgColor},attrs:{value:"caretDown"}})],1)},en=[],an={props:{data:{type:Object,default:function(){return{}}},darkMode:{type:Boolean,default:!1},communityNoteInRepost:{type:Boolean,default:!1}},computed:{bgColor:function(){return this.darkMode?this.data.bg_color_dark:this.data.bg_color},textColor:function(){return this.darkMode?this.data.text_color_dark:this.data.text_color}}},on=an,nn=i("7f3f");function sn(t){this["$style"]=nn["default"].locals||nn["default"]}var rn=Object(g["a"])(on,tn,en,!1,sn,null,null),ln=rn.exports,cn={props:{complaint:{type:Object,default:function(){return{}}},single:{type:Boolean,default:!1},showCommunityNote:{type:Boolean,default:!1}},computed:{content:function(){var t;return(null===(t=this.complaint)||void 0===t?void 0:t.showcontent_rich)||(null===this||void 0===this?void 0:this.complaint.showcontent)||""},show:function(){var t,e,i;return this.content&&(!(null===(t=this.complaint)||void 0===t?void 0:t.show_flag)||this.single&&2===(null===(e=this.complaint)||void 0===e?void 0:e.show_flag)||!this.single&&1===(null===(i=this.complaint)||void 0===i?void 0:i.show_flag))}},components:{IconTipGreen:Go,IconTipCustom:Zo,CommunityNote:ln}},un=cn,dn=i("bda9");function hn(t){this["$style"]=dn["default"].locals||dn["default"]}var pn=Object(g["a"])(un,Eo,Mo,!1,hn,null,null),fn=pn.exports,mn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.remarkByStatuses.length?i("div",{class:[t.$style.box,t.inRetweet?t.$style.box1:t.$style.box2]},[i("div",{staticClass:"wbpro-list",class:t.$style.list},t._l(t.remarkByStatuses,(function(e){return i("div",{key:e.id,class:t.$style.item},[i("div",{class:t.$style.itemin},[i("woo-box",{attrs:{justify:"between"}},[i("woo-box",{attrs:{align:"center"}},[i("woo-avatar",{class:t.$style.pointer,attrs:{size:24,src:e.user&&e.user.avatar_large,verified:t.getVerified(e.user)},nativeOn:{click:function(i){return t.goProfile(e.user)}}}),i("div",{class:[t.$style.t11,t.$style.pointer],on:{click:function(i){return t.goProfile(e.user)}}},[t._v(" "+t._s(e.user&&e.user.name)+" ")]),i("div",{class:t.$style.t12},[t._v(t._s(e.title))])],1),t.isMy?i("a",{class:t.$style.t13,attrs:{href:"https://service.account.weibo.com/remark/appeal?rid="+e.mid+"&from=1FFFF96039",target:"_blank"}},[t._v("申诉")]):t._e()],1),i("div",{class:[t.$style.t2,t.$style.es,t.$style.pointer],domProps:{innerHTML:t._s(e.text)},on:{click:function(i){return i.stopPropagation(),t.goDetail(i,e.mid,e.user&&e.user.id)}}}),i("woo-box",{attrs:{justify:"end"}},[i("toolbar",{attrs:{repost:e.reposts_count||0,comment:e.comments_count||0,attitude:e.attitudes_count||0,liked:1===e.attitudes_status,id:e.idstr,mblogid:e.mblogid,uid:e.user&&e.user.id,simple:!0,"toolbar-align":"left",showEmptyText:!1},on:{"toolbar-retweet-tap":function(i){return t.onIconRetweet(e)},"toolbar-comment-tap":function(i){return t.onIconComment(e)},"toolbar-like-tap":function(i){return t.onIconLike(e)}}})],1)],1),i("woo-divider",{class:t.$style.line,attrs:{"border-color":"var(--w-card-border)"}})],1)})),0)]):t._e()},vn=[],_n=i("0bc5"),gn={props:{inRetweet:{type:Boolean,default:!1},remarkByStatuses:{type:Array,default:function(){return[]}},isMy:Boolean},methods:{onIconLike:function(t){var e="",i={id:t.idstr};e=t.attitudes_status?"cancelLike":"setLike",this.$http.post("/ajax/statuses/".concat(e),i).then((function(e){e.data&&e.data.ok>0&&(t.attitudes_status=+!t.attitudes_status,t.attitudes_count=t.attitudes_status?t.attitudes_count+1:t.attitudes_count-1)}))},onIconComment:function(t){this.$router.push({name:"bidDetail",params:{uid:t.user.id,id:t.id},hash:"#comment"})},onIconRetweet:function(t){this.$router.push({name:"bidDetail",params:{uid:t.user.id,id:t.id},hash:"#repost"})},goDetail:function(t,e,i){"A"!==t.target.tagName.toUpperCase()&&this.$router.push({name:"bidDetail",params:{uid:i,id:e}})},goProfile:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$router.push({name:"profile",params:{id:t.id}})},getVerified:W},components:{toolbar:_n["a"]}},bn=gn,yn=i("6e32");function wn(t){this["$style"]=yn["default"].locals||yn["default"]}var xn=Object(g["a"])(bn,mn,vn,!1,wn,null,null),kn=xn.exports,$n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.data.length?i("div",{class:t.$style.box},[i("div",{class:t.$style.title},[t._v(t._s(t.title))]),t._l(t.data,(function(e,a){return i("div",{key:a,on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[i("woo-box",{class:t.$style.innerBox,attrs:{align:"center"}},[i("woo-box-item",{attrs:{grow:0,shrink:0}},[i("woo-avatar",{class:t.$style.avatar,attrs:{width:"34",height:"34",src:e.user.avatar_hd,verified:t.getWeiboVerifiedIcon(e.user)},nativeOn:{click:function(i){return t.onAvatarClick(e.user.id)}}})],1),i("woo-box",{class:t.$style.content,attrs:{direction:"y"}},[i("div",{class:t.$style.name},[i("span",{on:{click:function(i){return t.onAvatarClick(e.user.id)}}},[t._v(" "+t._s(e.user.screen_name))])]),i("div",{class:t.$style.text},[i("span",{domProps:{innerHTML:t._s(e.text)},on:{click:function(i){return t.onContentClick(e.user.id,e.id)}}})])])],1),a!==t.data.length-1?i("woo-divider",{class:t.$style.gap}):t._e()],1)}))],2):t._e()},Cn=[],On=i("cc8d"),jn=Object(F["c"])({props:{data:{type:Array,default:function(){return[]}},title:String},setup:function(t){var e=function(t){window.open("/u/".concat(t))},i=function(t,e){window.open("/".concat(t,"/").concat(e))};return{getWeiboVerifiedIcon:On["a"],onAvatarClick:e,onContentClick:i}}}),Tn=jn,Dn=i("c3ed");function Sn(t){this["$style"]=Dn["default"].locals||Dn["default"]}var In=Object(g["a"])(Tn,$n,Cn,!1,Sn,null,null),Ln=In.exports,Bn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.linkDatas.length?i("div",t._l(t.linkDatas,(function(t,e){return i("FeedCardLink",{key:e,attrs:{data:t}})})),1):t._e()},Pn=[],An={props:{commonStruct:{type:Array,default:function(){return[]}}},setup:function(t){var e=Object(F["a"])((function(){return t.commonStruct.filter((function(t){return t.page_id.startsWith("232873")})).map((function(t){return{page_pic:t.img,content1:t.name,content2:t.desc,page_url:t.url}}))}));return{linkDatas:e}},components:{FeedCardLink:oi["a"]}},En=An,Mn=Object(g["a"])(En,Bn,Pn,!1,null,null,null),Fn=Mn.exports,Rn={name:"feed-content",mixins:[Ao],props:{hasMedia:{type:Boolean,default:!0},repost:Boolean,data:Object,pagetype:String,hasContentMedia:Boolean,originData:Object,showPictureViewer:Boolean,disableFeedViewer:Boolean,showTitle:Boolean,remarkByStatuses:Array,loginUid:[Number,String]},inheritAttrs:!1,data:function(){return{pictureViewerVisible:!1,pictureTapIndex:-1,pictureLoadingIndex:-1,pictureLastIndex:0}},computed:{isMy:function(){var t,e;return+(null===(t=this.data)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.id)===+this.loginUid},isCommunityNote:function(){return this.data.remark_type},showCommunityNote:function(){return!this.$attrs.single&&this.data.remark_type},stampHightPosition:function(){var t;return this.textLineCount<3&&!this.repost&&(null===(t=this.originData)||void 0===t?void 0:t.retweeted_status)&&this.showTips},textLineCount:function(){var t,e,i,a;if(!(null===(t=this.$refs)||void 0===t||null===(e=t.feedDetailRef)||void 0===e?void 0:e.$el))return 0;var o=(null===(i=window.getComputedStyle(this.$refs.feedDetailRef.$el))||void 0===i||null===(a=i.lineHeight)||void 0===a?void 0:a.replace("px",""))||1,n=this.$refs.feedDetailRef.$el.clientHeight||1;return n/o},pics:function(){return this.isPay?this.payPics:this.picsInfo||this.pid2imgs},picsInfo:function(){return this.data.pics&&this.$attrs.single&&1===this.data.pics.length?[this.data.pics[0].large]:this.data.pics},pid2imgs:function(){var t=this.data.pic_infos||{},e=Object(u["a"])(this.data.pic_ids,this.data.pic_focus_point);return e=e.map((function(e){var i,a;return Object(n["a"])(Object(n["a"])({},e),{},{type:null===(i=t[e.pid])||void 0===i?void 0:i.type,video:null===(a=t[e.pid])||void 0===a?void 0:a.video})})),e},payPics:function(){return this.isPay?Object(To["a"])(this.data.pic_infos,this.isPay,this.isMy,this.data.is_paid):[]},payBitN:function(){var t=0,e=this.data&&this.data.page_info&&this.data.page_info.object_type;if(this.data.mblog_vip_type>0)if(this.data.pics&&this.data.pics.length||this.data.pic_infos)t=1;else switch(e){case"article":t=2;break;case"wenda":t=3;break;case"video":t=4;break;case"live":t=5;break;default:t=0;break}return t},isPay:function(){return!!this.payType(this.payBitN)},isMessage:function(){return"weibo"==this.pagetype||"cmtBai"==this.pagetype||"cmt"==this.pagetype||"attitude"==this.pagetype||"attitudeBai"==this.pagetype},annotations:function(){return Object(n["a"])(Object(n["a"])({},this.data.annotations),this.data.tag_struct)},reportInfoColor:function(){return"yellow"},showcontent:function(){var t,e;return(null===this||void 0===this||null===(t=this.data.complaint)||void 0===t?void 0:t.showcontent_rich)||(null===this||void 0===this||null===(e=this.data.complaint)||void 0===e?void 0:e.showcontent)||""},showTips:function(){var t,e,i;return!(!this.showcontent||!(!(null===(t=this.data.complaint)||void 0===t?void 0:t.show_flag)||this.$attrs.single&&2===(null===(e=this.data.complaint)||void 0===e?void 0:e.show_flag)||!this.$attrs.single&&1===(null===(i=this.data.complaint)||void 0===i?void 0:i.show_flag)))}},methods:{clickHandle:function(){this.$emit("content-tap",this.data)},handleTextTap:function(){this.$emit("content-tap",this.data)},updateText:function(t){this.data.text=t},handleTipClick:function(t){this.$emit("tip-tap",t)},payType:function(t){var e=this.data.mblog_vip_type,i=parseInt(e,10).toString(2).length;return parseInt(e,10).toString(2)[i-t]}},components:{FeedDetail:Pt,FeedPictureBox:Je,FeedAnnotation:ai,FeedCardVideo:xe,FeedCardLink:oi["a"],FeedCardVote:ha,FeedCardArticle:wa,FeedCardAd:Da,FeedCardAdCollection:Ma,FeedCardDynamic:Ga,FeedCardHongbao:oo,FeedCardCreator:uo,FeedTag:bo,FeedStamp:jo,Tips:fn,FeedPictureVideo:Po,CommunityNoteDetail:kn,AssociatedStatuses:Ln,FeedCardShopWindow:Fn}},Vn=Rn,Nn=(i("53a1"),i("d251"));function Hn(t){this["$style"]=Nn["default"].locals||Nn["default"]}var zn=Object(g["a"])(Vn,tt,et,!1,Hn,null,null),Un=zn.exports,Gn=i("421a"),qn=function(){var t,e,i,a,o=this,n=o.$createElement,s=o._self._c||n;return Number.isNaN(+o.reads_count)?o._e():s("woo-box",{class:(t={},t[o.$style.readWrap]=!0,t[o.$style.cursor]=o.disabledStatus,t),attrs:{direction:"x"},nativeOn:{click:function(t){return t.stopPropagation(),o.spread(t)}}},[s("woo-box-item",[s("woo-box",{class:(e={},e[o.$style.readbox]=!0,e[o.$style.disableBox]=o.disabledStatus,e),attrs:{direction:"y",align:"center",justify:"center"}},[s("div",{class:(i={},i[o.$style.num]=!0,i[o.$style.disabled]=o.disabledStatus,i),domProps:{innerHTML:o._s(o.formatReadsCount)}}),s("div",{class:(a={},a[o.$style.text]=!0,a[o.$style.disabled]=o.disabledStatus,a)},[o._v(" 阅读 ")])])],1),o.showLinkIcon?s("woo-box",{class:o.$style.linkbox,attrs:{align:"center",justify:"center"}},[s("div",{class:o.$style.linkicon},[o._v("推广")])]):o._e()],1)},Wn=[],Qn={name:"readnum",props:["reads_count","id","uid","visible","feedLocale"],computed:Object(n["a"])(Object(n["a"])({},Object(c["c"])(["config"])),{},{showLinkIcon:function(){return this.uid===this.config.uid&&!this.disabledStatus},formatReadsCount:function(){return Object(s["b"])(this.reads_count,1,this.feedLocale)},disabledStatus:function(){return 0!==this.visible.type}}),methods:{spread:function(){this.showLinkIcon&&this.$Bus.$emit("titleSpread",{id:this.id,uid:this.uid,from:"read_profile_v1pc_04"})}}},Jn=Qn,Kn=i("b5db");function Yn(t){this["$style"]=Kn["default"].locals||Kn["default"]}var Xn=Object(g["a"])(Jn,qn,Wn,!1,Yn,null,null),Zn=Xn.exports,ts=i("5fde"),es=i("4533"),is=function(){var t=this,e=t.$createElement,i=t._self._c||e;return this.data.text?i("woo-panel",{class:t.$style.toolbarFull,attrs:{border:"top"}},[i("span",{on:{click:t.handleDeleteToolbar}},[t._v(" "+t._s(this.data.text))])]):t._e()},as=[],os={name:"deletedToolbar",props:{data:{type:Object,default:function(){return{type:"",text:""}}},id:{type:String,default:""},ori_mid:{type:String,default:""}},methods:{handleDeleteToolbar:function(){switch(this.data.type){case"fastRepost":this.destroyWB();break;case"fav":this.destoryFavorites();break;case"liked":this.destoryLike();break}},destroyWB:function(){var t=this;this.$http.post("/ajax/statuses/destroy",{id:this.ori_mid}).then((function(e){if(e.data&&e.data.ok>0){var i=e.data.retweeted_status&&e.data.retweeted_status.idstr;t.toDeleteWeibo(i)}}))},destoryFavorites:function(){var t=this;this.$http.post("/ajax/statuses/destoryFavorites",{id:this.id}).then((function(e){e.data&&e.data.ok&&e.data.status&&(t.toDeleteWeibo(e.data.status.idstr),t.$_w_toast({type:"success",message:"取消成功"}))}))},destoryLike:function(){var t=this;this.$http.post("/ajax/statuses/cancelLike",{id:this.id}).then((function(e){e.data&&e.data.ok>0&&(t.toDeleteWeibo(t.id),t.$_w_toast({type:"success",message:"取消成功"}))}))},toDeleteWeibo:function(t){var e=this,i="deleteWeibo";while(e)"function"===typeof e[i]?(e[i](t),e=null):e=e.$parent}}},ns=os,ss=i("9f68");function rs(t){this["$style"]=ss["default"].locals||ss["default"]}var ls,cs=Object(g["a"])(ns,is,as,!1,rs,null,null),us=cs.exports,ds=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("woo-box",{class:t.$style.face,attrs:{align:"center"}},[i("woo-avatar",{attrs:{size:50,src:t.mainCreator.avatar_large}}),i("woo-box-item",{class:t.$style.con,attrs:{align:"center"}},[i("div",{class:[t.$style.t1,t.$style.cut]},[t._v(" "+t._s(t.mainCreator.screen_name)+" ")]),i("div",{class:[t.$style.t2,t.$style.cut]},[t._v(" "+t._s(t.fansNumFormat(t.mainCreator.followers_count))+"粉丝 · "+t._s(t.mainCreator.video_status_count)+"个视频 ")])])],1),i("woo-box",{class:t.$style.fold,attrs:{align:"center"}},[i("woo-button",{attrs:{sort:"simple",kind:"default",reverse:""},on:{click:function(e){t.collapse=!t.collapse}}},[t._v(t._s(t.data.length)+"人共创")]),t.data.length>=t.CREATE_COLLAPSE_COUNT?i("woo-fonticon",{class:[t.$style.arrow,t.$style.pointer],attrs:{value:t.collapse?"angleUp":"angleDown"},nativeOn:{click:function(e){t.collapse=!t.collapse}}}):t._e()],1),i("div",{class:t.$style.list},[i("woo-box",{attrs:{old:"",items:4,"gap-row":10,"gap-col":20}},t._l(t.creatorList,(function(e,a){return i("woo-box-item",{key:a},[i("woo-box",{attrs:{direction:"y",align:"center"}},[i("woo-avatar",{class:t.$style.pointer,attrs:{size:38,src:e.avatar_large},nativeOn:{click:function(i){return t.onGoProfile(e.id)}}}),i("div",{class:[t.$style.t2,t.$style.cut,t.$style.pointer],attrs:{title:e.screen_name},on:{click:function(i){return t.onGoProfile(e.id)}}},[t._v(" "+t._s(e.screen_name)+" ")]),i("div",{class:t.$style.t3},[t._v(t._s(e.role_desc))]),e.is_my?t._e():i("FollowBtn",{attrs:{size:"s",uid:e.id,following:e.following,doFoAction:!0,foToast:!0}})],1)],1)})),1)],1)],1)},hs=[],ps=i("70e7"),fs=0,ms=1,vs=2,_s=(ls={},Object(Xt["a"])(ls,fs,"主创"),Object(Xt["a"])(ls,ms,"共创"),Object(Xt["a"])(ls,vs,"出镜"),ls),gs=4,bs={props:{data:{type:Array,default:function(){return[]}},uid:{type:String}},setup:function(t){var e=Object(F["n"])(!1),i=Object(F["a"])((function(){return e.value?9:5})),a=Object(F["n"])(t.data.find((function(e){return e.id===t.uid}))||{}),o=Object(F["a"])((function(){return e.value&&t.data.length>=gs?t.data:t.data.slice(0,gs)})),n=function(t){window.open("https://weibo.com/u/".concat(t))};return{collapse:e,cocreateList:i,mainCreator:a,fansNumFormat:ps["a"],roleMap:_s,creatorList:o,onGoProfile:n,CREATE_COLLAPSE_COUNT:gs}}},ys=bs,ws=i("e7d9");function xs(t){this["$style"]=ws["default"].locals||ws["default"]}var ks=Object(g["a"])(ys,ds,hs,!1,xs,null,null),$s=ks.exports,Cs=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.info&&1===t.info.state?i("reward-button",{class:t.$style.box,attrs:{info:t.info}}):t._e()},Os=[],js=(i("db1c"),i("bcdd")),Ts={name:"reward",props:{mid:String,user:Object,uicode:String},components:{RewardButton:js["a"]},setup:function(t,e){var i=e.root,a=e.emit,o=Object(F["p"])(t),s=o.mid,r=o.user,l=o.uicode,c=Object(F["n"])({});Object(F["k"])((function(){u()}));var u=function(){var t;i.$http.get("/ajax/statuses/checkReward",{params:{mid:s.value,uid:null===(t=r.value)||void 0===t?void 0:t.id,reward_scheme:{bid:"1000293251"},type:"pc"}}).then((function(t){if(t.data&&t.data.ok>0&&t.data.data){var e=t.data.data;c.value=Object(n["a"])(Object(n["a"])({},e),{},{mid:s.value,user:r.value,log:{uicode:l.value}}),a("updateRewardInfo",c.value)}}))};return{info:c}}},Ds=Ts,Ss=i("2b68");function Is(t){this["$style"]=Ss["default"].locals||Ss["default"]}var Ls=Object(g["a"])(Ds,Cs,Os,!1,Is,null,null),Bs=Ls.exports,Ps=i("82d7"),As=i("baf4"),Es=i("641d"),Ms=(i("498a"),i("d4ec")),Fs=i("bee2"),Rs=i("fc8e"),Vs=i.n(Rs),Ns=function(){function t(){var e=this;Object(Ms["a"])(this,t),Object(Xt["a"])(this,"sendBeacon",(function(){if(window.removeEventListener("beforeunload",e.sendBeacon),e.queue.length){var t=JSON.stringify(e.queue),i=new FormData;i.append("data",t),navigator.sendBeacon("/ajax/log/read?_csrf=".concat(e.getCookie("XSRF-TOKEN")),i)}})),this.queue=[],setInterval((function(){e.send()}),5e3),window.addEventListener("beforeunload",this.sendBeacon)}return Object(Fs["a"])(t,[{key:"push",value:function(t){this.queue.push(t)}},{key:"clear",value:function(){this.queue=[]}},{key:"send",value:function(){if(0!==this.queue.length){var t=JSON.stringify(this.queue);this.clear(),Vs.a.post("/ajax/log/read",{data:t},{disabledDefault:!0})}}},{key:"getCookie",value:function(t){for(var e=document.cookie.split(";"),i=0;i<e.length;i++){var a=e[i].trim(),o=a.split("=");if(o[0]===t)return o[1]}return null}}]),t}(),Hs=new Ns,zs={name:"Feed",props:{data:Object,skeleton:{type:Boolean,default:!0},index:Number,touchHighlight:Boolean,imgLazy:Boolean,imgSlide:Boolean,autoPlay:Boolean,cover:Boolean,noInterval:{type:Boolean,default:!1},hasToolbar:{type:Boolean,default:!0},hasContentMedia:{type:Boolean,default:!0},hasRetweetbar:Boolean,toolbarAlign:{type:String,default:"center"},toolbarFlatBtn:Boolean,toolbarOnlyRetweet:Boolean,feedLocale:{type:String,default:"zh-CN"},transformText:Boolean,single:Boolean,mask:Boolean,pagetype:String,hasMorePop:{type:Boolean,default:!0},favorited:{type:Boolean,default:!1},hiddenFollowBtn:{type:Boolean,default:!1},noBorderTop:{type:Boolean,default:!1},showTopTitle:{type:Boolean,default:!0},onFeedAvatar:{type:Function,required:!1},onFeedTip:{type:Function,required:!1},onFeedPicture:{type:Function,required:!1},onFeedFastRepost:{type:Function,required:!1},onFeedRetweet:{type:Function,required:!1},onFeedComment:{type:Function,required:!1},onFeedLike:{type:Function,required:!1},onFeedLikeList:{type:Function,required:!1},onFeedContent:{type:Function,required:!1},onFeedLink:{type:Function,required:!1},feedStyleType:{type:String,default:"normal",validator:function(t){return["normal","noGap"].indexOf(t)>-1}},feedRadius:{type:String,default:"all"},feedRadiusSize:{type:String,default:"4px"},feedNoCard:{type:Boolean,default:!1},feedNoBorder:{type:Boolean,default:!1},actLogData:{type:Object,default:function(){return{page:"",extValue:""}}},actLogScene:String,high:{type:Boolean,default:!1},enableMiniInteractive:{type:Boolean,default:!0},specificTime:Boolean,disableFeedViewer:Boolean,showIp:Boolean,absstr:String,showCocreate:Boolean,realRead:{type:Object,default:function(){return{}}}},data:function(){return{visible:!1,isUpdateFollowVal:!1,popMask:!1,showEditModal:!1,editMid:"",isUserCheck:!1,curTab:"",showRCL:!1,isHandleRetRepost:!1,isHandleRetComment:!1,intersectionObserver:null,realReadLog:{start:0,realStart:0,duration:0,realDuration:0}}},mounted:function(){var t=this;this.$Bus.$on("updateRCCount",this.updateRCCountHandle),this.$Bus.$on("videoVoteAdded",this.videoVoteAdded),this.isSecondRelationFeed&&this.$Bus.$on("update-following-status",this.onUpdateFollowStatus),this.$once("hook:beforeDestroy",(function(){t.$Bus.$off("updateRCCount",t.updateRCCountHandle),t.$Bus.$off("videoVoteAdded",t.videoVoteAdded),t.isSecondRelationFeed&&t.$Bus.$off("update-following-status",t.onUpdateFollowStatus)})),this.intersectionObserver=new IntersectionObserver((function(e){var i=e[0];i&&(i.isIntersecting?(t.realReadLog.start||(t.realReadLog.start=+new Date),!t.realReadLog.realStart&&i.intersectionRatio>=.3&&i.intersectionRatio<=.7&&(t.realReadLog.realStart=+new Date),!t.realReadLog.realStart&&i.intersectionRatio>.7&&(t.realReadLog.realStart=+new Date)):!t.realReadLog.start||0!==i.intersectionRect.bottom&&0!==i.intersectionRect.top||(t.realReadLog.duration=+new Date-t.realReadLog.start,t.realReadLog.realStart&&(t.realReadLog.realDuration=+new Date-t.realReadLog.realStart),t.sendReadDuration(),t.realReadLog.start=0,t.realReadLog.realStart=0,t.realReadLog.duration=0,t.realReadLog.realDuration=0))}),{threshold:[0,.3,.7,1]}),this.$nextTick((function(){var e;(null===(e=t.$refs.rootFeed)||void 0===e?void 0:e.$el)&&t.intersectionObserver&&t.intersectionObserver.observe(t.$refs.rootFeed.$el)})),window.addEventListener("beforeunload",this.sendReadDurationBeforeUnload)},beforeDestroy:function(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=null),this.sendReadDurationBeforeUnload()},provide:function(){return{getDarkMode:this.getDarkMode}},mixins:[Ps["a"],As["a"],p["a"],ut["a"]],watch:{data:{handler:function(t){t.deleted&&t.ori_mid&&(t.deletedData={type:"fastRepost",text:"取消快转"}),t.deleted&&"like"===this.pagetype&&(t.deletedData={type:"liked",text:"取消赞"}),t.deleted&&"fav"===this.pagetype&&(t.deletedData={type:"fav",text:"取消收藏"})},immediate:!0},publisherModifyCallback:function(t){t&&t.ok&&t.data&&t.data.id===this.data.id&&(this.setPublisherModifyCallback({}),t.data.page_info||(this.data.url_struct=[],delete this.data.page_info),t.data.tag_struct||(this.data.tag_struct=[],delete this.data.tag_struct),t.data.continue_tag||(delete this.data.continue_tag,delete this.data.longTextContent,delete this.data.longTextContent_raw,delete this.data.text_referrer),this.data.retweeted_status&&(delete this.data.retweeted_status.text,this.data.retweeted_status=Object.assign(t.data.retweeted_status,this.data.retweeted_status)),this.data=Object.assign(this.data,t.data),t.data.continue_tag&&(this.data.longTextContent_raw=t.data.longTextContent,this.data.longTextContent=this.transText(t.data.longTextContent,t.data.topic_struct,t.data.url_struct),this.data.topic_struct=t.data.topic_struct,this.data.url_struct=t.data.url_struct),this.single=this.isSingle,this.single&&t.data.continue_tag&&(this.data.text=this.data.longTextContent),t.data.continue_tag&&!this.single&&(this.data.text+=' ...<span class="expand">展开</span>'),this.setCurWeiboData(this.data))},composerCallback:function(t){if(t.ok&&this.data.retweeted_status&&this.data.retweeted_status.idstr){var e=this.data.retweeted_status;"create"===t.action&&this.isHandleRetComment?(e.comments_count++,e.comments_count_format=Object(s["b"])(e.comments_count),this.isHandleRetComment=!1):"repost"===t.action&&this.isHandleRetRepost&&(e.reposts_count++,e.reposts_count_format=Object(s["b"])(e.reposts_count),this.isHandleRetRepost=!1)}}},computed:Object(n["a"])(Object(n["a"])({},Object(c["c"])(["config","publisherModifyCallback","composerCallback","feedGroup","darkMode"])),{},{canAddVideoVote:function(){var t=!1,e=0,i=0,a=!0,o=!0,n=this.data.page_info,s=n&&n.object_id;return n&&"video"===n.object_type&&n.media_info&&n.media_info.stream_url&&(t=!0,i=n.media_info.vote_is_show,e=n.media_info.duration,o=!n.media_info.author_mid||n.media_info.author_mid===this.data.mid,a=s&&-1===s.indexOf("1022:100161")||-1===s.indexOf("1022:230282")),!!(this.config.flags&&this.config.flags.can_create_vote&&this.isMy&&t&&o&&a&&1!==i&&e>=10)},radiusStyle:function(){var t=this;if("noGap"===this.feedStyleType&&"all"===this.feedRadius)return{};var e={},i="all"===this.feedRadius?"top-left,top-right,bottom-left,bottom-right":this.feedRadius;return i.split(",").forEach((function(i){e["border-".concat(i,"-radius")]=t.feedRadiusSize})),e},hasCommentApproval:function(){if(this.isMy&&this.data&&this.data.user&&this.data.user.id&&1!==this.data.visible.type){var t=this.data.user;return this.config.flags&&this.config.flags.comment_approval||0!==t.mbrank||1===t.verified_type||1===t.verified_type_ext||2===t.verified_type_ext||3===t.verified_type_ext}return!1},isMy:function(){return!!(this.data&&this.data.user&&this.data.user.id)&&this.data.user.id===this.config.uid},titles:function(){return Object(n["a"])({},this.data.visible)},contents:function(){return this.data.retweeted_status?["original","retweet"]:["original"]},transData:function(){var t={};return this.data.retweeted_status&&(t=this.data.retweeted_status,t.page_info=this.data.page_info,t.url_struct=this.data.url_struct,t.topic_struct=this.data.topic_struct),t},toolbarType:function(){return this.data.retweeted_status&&this.hasRetweetbar?"simple":this.hasToolbar?"normal":""},showTitle:function(){var t=[10,9,1,6];return this.showTopTitle&&2!==this.data.history_type&&(this.data.isTop||this.data.visible&&t.includes(this.data.visible.type)||this.data.title&&this.data.title.text)},showHead:function(){return 2!==this.data.history_type?!this.data.deleted&&this.data.user:!this.data.deleted},showFastRepost:function(){return this.data.screen_name_suffix_new&&this.data.screen_name_suffix_new.length&&(this.data.ori_mid||512===+this.data.mblogtype)},showCooperateMblog:function(){var t,e;return 1===(null===(t=this.data)||void 0===t||null===(e=t.cooperate_info)||void 0===e?void 0:e.cooperate_type)},isMessage:function(){return"weibo"==this.pagetype||"cmtBai"==this.pagetype||"cmt"==this.pagetype||"attitude"==this.pagetype||"attitudeBai"==this.pagetype},showAttentionSuperTopic:function(){return this.data.screen_name_suffix_new&&this.data.screen_name_suffix_new.length&&1===this.data.screen_name_suffix_new_sence&&this.data.title_source},isSingle:function(){return["bidDetail","detail"].indexOf(this.$route.name)>-1},getPage:function(){return this.actLogData&&"searchResult"===this.actLogData.page&&this.actLogData.fidName?this.actLogData.fidName:this.actLogData&&this.actLogData.page},isSecondRelationFeed:function(){var t;return null===(t=this.data)||void 0===t?void 0:t.is_second_attention},showFollowBtn:function(){var t,e,i,a,o,n=(null===(t=this.data)||void 0===t||null===(e=t.cooperate_info)||void 0===e||null===(i=e.cooperate_user_list)||void 0===i?void 0:i.length)&&(null===(a=this.data)||void 0===a||null===(o=a.buttons)||void 0===o?void 0:o.some((function(t){return"follow"===t.type})));return!this.hiddenFollowBtn&&(n||!this.isMy&&this.data.user&&!this.data.user.following||!this.isMy&&this.isUpdateFollowVal&&this.data.user&&this.data.user.following)&&2!==this.data.history_type&&1!==this.data.screen_name_suffix_new_sence&&!this.isSecondRelationFeed}}),methods:Object(n["a"])(Object(n["a"])({},Object(c["b"])(["setCurWeiboData","setPublisherModifyCallback"])),{},{sendReadDurationBeforeUnload:function(){(this.realReadLog.start||this.realReadLog.realStart)&&(this.realReadLog.duration=+new Date-this.realReadLog.start,this.realReadLog.realStart&&(this.realReadLog.realDuration=+new Date-this.realReadLog.realStart),this.sendReadDuration())},sendReadDuration:function(){var t,e=null===(t=this.actLogData)||void 0===t?void 0:t.extValue;Hs.push(Object(n["a"])({act:"PC_real_read",duration:this.realReadLog.duration,read_duration:this.realReadLog.realDuration,itemid:this.data.idstr,type:this.data.readtimetype,rid:this.data.rid,page:0,root_id:this.data.retweeted_status?this.data.retweeted_status.idstr:this.data.idstr,uicode:this.getLogData("uicode"),groupid:this.getLogData("uicode"),fid:this.getLogData("fid"),analysis_extra:this.data.analysis_extra,appid:this.data.appid,__date:+(+new Date/1e3).toFixed(0),ext:e?"module:".concat(e):"",PC_real_read:1},this.realRead)),Hs.sendBeacon()},onUpdateFollowStatus:function(t){var e,i,a=t.uid,o=t.status;+a===+(null===(e=this.data)||void 0===e||null===(i=e.user)||void 0===i?void 0:i.id)&&(this.data.user.following=o)},getDarkMode:function(){var t;return 1===(null===(t=this.darkMode)||void 0===t?void 0:t.mode)},getPictureViewerShowStatus:function(t,e){return 1===t.length&&"original"===e||2===t.length&&"retweet"===e},updateRCCountHandle:function(t){this.$emit("syncValueInList",t)},popHandler:function(){this.clickPop()},clickBody:function(){this.single||"edit"===this.pagetype||this.feedContent(this.data)},visibilityChanged:function(t){this.visible=t},getLogData:function(t){if(this.actLogData&&this.actLogData.page)return"fid"===t&&this.actLogData.fidName?Es[t][this.actLogData.fidName]:Es[t][this.actLogData.page]},feedAvatar:function(t){var e=t.userInfo,i="";this.data&&this.data.mark&&!this.single&&("avatar"===t.type?i=1:"screen_name"===t.type&&(i=2),this.handleAdThirdLog()),e&&e.id&&(this.profileADLog({uid:e.id,profile_entry_key:i,mark:this.data.mark}),this.$router.push({name:"profile",params:{id:e.id}})),this.handleActLog("click"),this.onFeedAvatar&&this.onFeedAvatar(e)},FeedTip:function(t){this.handleActLog("click"),this.onFeedTip?this.onFeedTip(t):t&&window.open(t)},FeedPicture:function(t){if(this.handleActLog("click"),this.onFeedPicture)this.onFeedPicture(t);else{var e=t.index,i=t.pics,a=t.content;if(this.data&&this.data.mark&&this.data.pic_infos){var o=Object.keys(this.data.pic_infos).find((function(t){return t===i[e].pid})),n=this.data.pic_infos[o];n&&n.actionlog&&n.actionlog.length&&this.throwBatch(n.actionlog[0])}this.disableFeedViewer&&this.$Bus.$emit("showViewer",{data:{index:e,pics:i,content:a},type:"image",specificTime:this.specificTime})}},feedFastRepost:function(){var t=this;if(this.handleActLog("click"),this.onFeedFastRepost)this.onFeedFastRepost(this.data);else{var e="";this.data.retweeted_status&&this.data.retweeted_status.idstr&&(e="//@".concat(this.data.user.screen_name,":").concat(this.data.text_raw));var i={id:this.data.idstr,status:e,is_comment:0,is_fast:1};this.data.mark&&(i=Object(n["a"])(Object(n["a"])({},i),{},{mark:this.data.mark,rid:this.data.rid})),this.$http.post("/ajax/statuses/repost",i).then((function(e){if(e.data&&e.data.ok&&e.data.statuses){if(t.showFeedRepost){var i=e.data.statuses;t.data.reposts_count_format=Object(s["b"])(t.data.reposts_count,1,t.feedLocale);var a={id:i.ori_mid,idstr:i.ori_mid,mid:i.ori_mid,user:t.config.uid===i.ori_uid?t.config.user:"",text:"快转微博",created_at:new Date,repost_type:2};t.data.rcList.unshift(a)}t.data.reposts_count++,t.$_w_toast({type:"success",message:"已发送"}),t.handleActLog("fastRepost"),t.handleAdThirdLog()}}))}},feedRetweet:function(t,e){var i=this;this.handleActLog("click"),this.onFeedRetweet?this.onFeedRetweet(t):(this.data.rcList=[],this.data.isLongText&&this.$http.get("/ajax/statuses/longtext",{params:{id:this.data.associate_status_id||this.data.id}}).then((function(t){if(t.data&&t.data.ok&&t.data.data){var e=t.data.data;e&&e.longTextContent&&(i.data.longTextContent_raw=e.longTextContent,i.$set(i.data,"repostText","//@".concat(i.data.user.screen_name,":").concat(i.data.longTextContent_raw||i.data.text_raw)))}})),this.$set(this.data,"repostText","//@".concat(this.data.user.screen_name,":").concat(this.data.longTextContent_raw||this.data.text_raw)),this.single||this.setScrollZIndex(e),this.actionLog({act_code:"4296",ext:"mid:".concat(t.id)}),t&&t.uid&&(this.curTab="repost",this.$set(this.data,"curTab",this.curTab),this.setCurWeiboData(this.data),"og"===t.type?this.single?this.$router.push({name:"bidDetail",params:{uid:t.uid,id:t.mblogid},hash:"#repost"}):(this.$set(this.data,"getRcList",!1),this.data.showFeedComment?(this.data.showFeedRepost=!0,this.data.showFeedComment=!1):this.data.showFeedRepost=!this.data.showFeedRepost,this.data.showFeedRepost?this.high=!0:(this.data.showFeedRepost=!1,this.high=!1),this.data.showFeedRepost&&this.$nextTick((function(){i.$refs.rcFeed.initApiData(),i.$refs.rcFeed.getList()}))):this.data&&this.data.retweeted_status&&this.data.retweeted_status.idstr&&(this.isHandleRetRepost=!0,this.$router.push({name:"bidDetail",params:{uid:t.uid,id:t.mblogid,from:"feed"},hash:"#repost"}))))},feedComment:function(t){var e=this;this.handleActLog("click"),this.onFeedComment?this.onFeedComment(t):(this.data.rcList=[],this.single||this.setScrollZIndex(event),this.actionLog({act_code:"4296",ext:"mid:".concat(t.id)}),t&&t.uid&&(this.curTab="comment",this.$set(this.data,"curTab",this.curTab),this.setCurWeiboData(this.data),"og"===t.type?this.single?this.$router.push({name:"bidDetail",params:{uid:t.uid,id:t.mblogid},hash:"#comment"}):(this.$set(this.data,"getRcList",!1),this.data.showFeedRepost?(this.data.showFeedComment=!0,this.data.showFeedRepost=!1):this.data.showFeedComment=!this.data.showFeedComment,this.data.showFeedComment?this.high=!0:(this.data.showFeedRepost=!1,this.high=!1),this.data.showFeedComment&&this.$nextTick((function(){e.$refs.rcFeed.initApiData(),e.$refs.rcFeed.getList()}))):this.data&&this.data.retweeted_status&&this.data.retweeted_status.idstr&&(this.isHandleRetComment=!0,this.$router.push({name:"bidDetail",params:{uid:t.uid,id:t.mblogid,from:"feed"},hash:"#comment"}))))},feedLike:function(t){var e=this;this.handleActLog("click");var i=t.attitude?"cancelLike":"setLike",a={id:t.id};this.data.mark&&(a=Object(n["a"])(Object(n["a"])({},a),{},{mark:this.data.mark,rid:this.data.rid,luicode:this.getLogData("uicode")})),"setLike"===i&&(a.actLogScene=this.actLogScene),this.$http.post("/ajax/statuses/".concat(i),a).then((function(i){i.data&&i.data.ok>0&&("og"===t.type&&t.id===e.data.idstr?(e.data.attitudes_status=t.attitude?0:1,e.data.attitudes_count=e.data.attitudes_status?e.data.attitudes_count+1:e.data.attitudes_count-1,e.data.attitudes_count_format=Object(s["b"])(e.data.attitudes_count,1,e.feedLocale),e.$Bus.$emit("syncValueInList",{id:t.id,value:[{name:"attitudes_status",val:e.data.attitudes_status},{name:"attitudes_count",val:e.data.attitudes_count}]})):e.data.retweeted_status&&t.id===e.data.retweeted_status.idstr&&(e.data.retweeted_status.attitudes_status=t.attitude?0:1,e.data.retweeted_status.attitudes_count=e.data.retweeted_status.attitudes_status?e.data.retweeted_status.attitudes_count+1:e.data.retweeted_status.attitudes_count-1,e.data.retweeted_status.attitudes_count_format=Object(s["b"])(e.data.retweeted_status.attitudes_count,1,e.feedLocale),e.$Bus.$emit("syncValueInList",{id:t.id,value:[{name:"retweeted_status.attitudes_status",val:e.data.retweeted_status.attitudes_status},{name:"retweeted_status.attitudes_count",val:e.data.retweeted_status.attitudes_count}]})),e.setCurWeiboData(e.data),e.onFeedLike&&e.onFeedLike(t),e.data&&(e.data.attitudes_status||e.data.retweeted_status&&e.data.retweeted_status.attitudes_status)&&(e.handleActLog("attitude"),e.handleAdThirdLog()))}))},feedLikeList:function(t){this.handleActLog("click"),this.onFeedLikeList&&this.onFeedLikeList(t)},feedContent:function(t){if(!this.handleSelectText())return this.onFeedContent?(this.handleActLog("click"),void this.onFeedContent(t)):void this.pagetype},feedTime:function(t){t&&t.uid&&t.mblogid&&(!this.single&&t.mark&&t.id&&this.getExtend(t.id),t.id!==this.data.idstr||this.isMessage||this.setCurWeiboData(this.data),this.data.retweeted_status&&t.id===this.data.retweeted_status.idstr&&this.setCurWeiboData(this.data.retweeted_status),"detailfeed"===this.pagetype&&this.handleActLog("click"),this.handleTimeTapActLog("enterDetail"),this.$router.push({name:"bidDetail",params:{uid:t.uid,id:t.mblogid},query:{pagetype:this.pagetype}}))},feedLink:function(t,e){this.handleActLog("click"),this.onFeedLink?this.onFeedLink(t):this.pagetype},feedFastRepostName:function(t,e){var i=t[e],a=i.content;if("我"===a&&i.scheme&&this.config.user&&(a=this.config.user.screen_name),this.handleActLog("click"),this.showCooperateMblog){var o,n,s,r=null===(o=this.data)||void 0===o||null===(n=o.cooperate_info)||void 0===n||null===(s=n.cooperate_user_list)||void 0===s?void 0:s.find((function(t){return t.screen_name===i.content}));this.profileADLog({uid:r.id,profile_entry_key:2,mark:this.data.mark})}a&&this.$router.push({path:"/n/".concat(a)})},feedSuperTopic:function(t){if(this.data.url_struct&&this.data.url_struct.length){var e=this.data.url_struct,i=e&&e.find((function(e){return e.url_title===t.content}));i&&i.page_id&&i.page_id.indexOf("100808")>-1&&window.open("https://weibo.com/p/".concat(i.page_id))}},getExtend:function(t){this.$http.get("/ajax/statuses/extend",{params:{id:t}}).then((function(t){t.data&&t.data.ok}))},setScrollZIndex:function(t){var e=window.event||t,i=e.path||e.composedPath&&e.composedPath();e=i.find((function(t){return t.className.includes("wbpro-scroller-item")}));var a=e.parentNode;a.setAttribute("more",1)},updateTitle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;this.data.title=t,this.data.visible.type=e,this.data.share_repost_type=i},updateAudit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.data.complaint=t.complaint,this.data.in_audit=t.in_audit,this.data.after_audit=t.after_audit},updateEditCount:function(t){this.data.edit_count=t},updateLongTextContent:function(t){this.data.longTextContent=t},popShow:function(t,e){this.popMask=!e},updatePopMask:function(t){this.popMask=t},updateCommentType:function(t,e){this.data.comment_manage_info&&(this.data.comment_manage_info[t]=e?1:0)},updateFavorited:function(t){this.data.favorited=t,this.setCurWeiboData(this.data)},updateFollowing:function(t){var e,i;this.isUpdateFollowVal=t,this.showCooperateMblog&&(this.data.cooperate_info.cooperate_user_list=this.data.cooperate_info.cooperate_user_list.map((function(e){return Object(n["a"])(Object(n["a"])({},e),{},{following:t})}))),this.data.user.following=t,this.$emit("syncValueInList",{id:this.data.idstr,value:[{name:"user.following",val:t}]}),this.$Bus.$emit("update-following-status",{uid:null===(e=this.data)||void 0===e||null===(i=e.user)||void 0===i?void 0:i.id,status:t})},updateEditHistory:function(t){if(t.single){var e=t.data;this.showEditModal=e.show,this.editMid=e.mid}},updateShowFeedRepost:function(t){this.data.showFeedRepost=t},updateIsTop:function(t){var e,i,a;(this.data.isTop=t,"置顶"===(null===(e=this.data)||void 0===e||null===(i=e.title)||void 0===i?void 0:i.text))&&(null===(a=this.data)||void 0===a||delete a.title);this.setCurWeiboData(this.data)},updateRewardInfo:function(t){this.data.rewardInfo=t},updateVoteObject:function(t){if(this.data&&this.data.page_info){var e=this.data.page_info;e&&e.card_info&&e.card_info.vote_object&&(this.data.page_info.card_info.vote_object=t,this.setCurWeiboData(this.data))}},updateVoteState:function(t){if(this.data&&this.data.page_info){var e=this.data.page_info;if(e&&e.card_info&&e.card_info.vote_object){var i=e.card_info.vote_state;void 0===i?this.$set(e.card_info,"vote_state",t):e.card_info.vote_state=t,this.setCurWeiboData(this.data)}}},handleActLog:function(t){this.actLogData&&this.actLogData.page&&t&&this.toLog(Object(n["a"])(Object(n["a"])({},this.actLogData),{},{actType:t}))},handleTimeTapActLog:function(t){try{var e,i,a,o,s,r,l="";if(this.data.pic_ids.length>0)l="image";else l=(null===this||void 0===this||null===(s=this.data)||void 0===s||null===(r=s.page_info)||void 0===r?void 0:r.object_type)||"";this.toLog(Object(n["a"])(Object(n["a"])({},this.actLogData),{},{extValue:null===(e=this.actLogData)||void 0===e||null===(i=e.extValue)||void 0===i||null===(a=i.split("|"))||void 0===a||null===(o=a.concat(["mblogtype:".concat(l),"mid:".concat(this.data.mid)]))||void 0===o?void 0:o.join("|"),actType:t}))}catch(c){}},handleAdThirdLog:function(){this.data&&this.data.mark&&!this.single&&this.data.promotion&&this.data.promotion.monitor_url&&this.data.promotion.monitor_url.length&&this.thirdMonitor(this.data.promotion.monitor_url,"click")},videoVoteAdded:function(t){t===this.data.idstr&&(this.canAddVideoVote=!1)}}),components:{FeedTitle:x["a"],FeedHead:Z,FeedContent:Un,FeedToolbar:_n["a"],FeedHeadInfo:P,FeedMorepop:Gn["a"],FeedReadnum:Zn,FeedFollowBtn:ts["a"],FeedEditHistory:es["a"],FeedDeletedToolbar:us,RepostCommentFeed:w,Reward:Bs,FeedCocreate:$s,FeedTag:bo}},Us=zs,Gs=(i("4c7a"),i("d521"));function qs(t){this["$style"]=Gs["default"].locals||Gs["default"]}var Ws=Object(g["a"])(Us,a,o,!1,qs,null,null);e["a"]=Ws.exports},"7d51":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._l(t.settingListData,(function(e,a){return i("a-link",{key:a,attrs:{target:e.href&&"_blank",to:t.getRouter(e,a)}},[i("nav-item",{attrs:{icon:e.icon,text:e.title,cur:a===t.curIndex},on:{click:function(i){return t.handle(e,a)}}})],1)})),1)},o=[],n=(i("c740"),i("b0c0"),i("aa18")),s=i("cafe"),r=i("ed09"),l={name:"nav-left-setting",components:{navItem:s["a"]},setup:function(t,e){var i=e.root,a=Object(r["d"])().proxy,o=n.findIndex((function(t){return t.type===a.$route.name})),s=Object(r["n"])(-1===o?0:o);Object(r["s"])((function(){return i.$route.name}),(function(t){if(t)switch(t){case"info":s.value=0;break;case"privacy":s.value=2;break;case"messageSet":s.value=3;break;case"shield":s.value=4;break;case"prefer":s.value=5;break}}));var l=function(t){var e=t.type,i=t.href,a={path:i,name:e};return a},c=function(t,e){t.href||(s.value=e,a.$Bus.$emit("clickProfileNav",t,e))};return{curIndex:s,settingListData:n,getRouter:l,handle:c}}},c=l,u=i("2d8a"),d=i("2877");function h(t){this["$style"]=u["default"].locals||u["default"]}var p=Object(d["a"])(c,a,o,!1,h,null,null);e["default"]=p.exports},"7d5a":function(t,e,i){"use strict";var a=i("d848"),o=i.n(a);e["default"]=o.a},"7da9":function(t,e,i){"use strict";var a=i("dbba"),o=i.n(a);e["default"]=o.a},"7dd03":function(t,e,i){"use strict";var a=i("09ac"),o=i.n(a);e["default"]=o.a},"7e8f":function(t,e,i){},"7e95":function(t,e,i){t.exports={picbed:"Image_picbed_XsWMh",pic:"Image_pic_3etyM",focuspic:"Image_focuspic_3KkD-",loading:"Image_loading_MbNkS",close:"Image_close_3MRRM",focus:"Image_focus_26ZH6",icon:"Image_icon_1Stuf"}},"7e99":function(t,e,i){t.exports={tabs1:"index_tabs1_2eRWI"}},"7ec3":function(t,e,i){"use strict";i.d(e,"a",(function(){return w}));i("99af"),i("c975"),i("d81d"),i("fb6a"),i("ace4"),i("b0c0"),i("d3b7"),i("ac1f"),i("3ca3"),i("841c"),i("1276"),i("2ca0"),i("498a"),i("ddb0"),i("2b3d"),i("96cf");var a=i("1da1"),o=i("fc8e"),n=i.n(o),s=i("4328"),r=i.n(s),l=i("69a0"),c=i.n(l),u=i("5a0c"),d=i.n(u),h=function(t){for(var e="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",i=e.split(" ").map((function(t){return parseInt(t,16)})),a=-1,o=0,n=t.length;o<n;o++)a=a>>>8^i[255&(a^t.charCodeAt(o))];return(-1^a)>>>0},p=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,f=function(t,e,i){return new Promise((function(a){var o=new FileReader;o.onload=function(t){return a(t.target.result)},o.readAsArrayBuffer(p.call(t,e,i))}))},m=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var i,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.size,a=new c.a.ArrayBuffer,t.next=4,f(e,0,i);case 4:return o=t.sent,a.append(o),t.abrupt("return",a.end());case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=window.$CONFIG&&window.$CONFIG.user.watermark||{};return r.a.stringify(t)},_=function(t){return new Promise((function(e){var i=new FileReader;i.onload=function(t){return e(t.target.result)},i.onerror=function(){return e("")},i.readAsArrayBuffer(t)}))},g=function(t){return new Promise((function(e){var i=new FileReader;i.onload=function(t){return e(t.target.result)},i.onerror=function(){return e("")},i.readAsBinaryString(t)}))},b=function(t){var e="系统异常";!1===navigator.onLine&&(e="网络未连接"),"ECONNABORTED"==t.code&&(e="上传超时"),this.code=-100,this.message="上传图片失败:".concat(e,"(").concat(t,")"),x({pathname:"/interface/upload",pic_content:this.message,pic_err:JSON.stringify(t)})},y=function(t){var e={1:"用户未登录",2:"上传数据无效",3:"回调地址无效",4:"未找到上传文件",5:"无权上传",6:"上传uid无效",7:"未指定返回信息类型",8:"上传数据出错",9:"上传MIME类型不支持",10:"上传文件大小无效",11:"存储出错",12:"上传EXIF信息过长",13:"上传回调出错",14:"回调返回出错",15:"错误的请求","-1":"没有登录","-2":"没有收到POST数据","-3":"没有指定cb参数","-4":"没有发现提交上传文件","-5":"该app没有开放图片上传服务","-6":"uid非法","-7":"参数s值不支持","-8":"数据上传失败","-9":"文件mime类型不支持","-10":"文件字节数超过限制","-11":"存储错误","-12":"图片exif信息超长(2k)"},i=Math.abs(t);this.code=t,this.message="上传图片失败:".concat(e[i]||"未知错误","(").concat(t,")")},w=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var i,o,s,l,c,u,p,f,x,k,$,C,O,j,T,D,S,I,L=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=L.length>1&&void 0!==L[1]?L[1]:{},o=L.length>2&&void 0!==L[2]?L[2]:0,s=L.length>3&&void 0!==L[3]?L[3]:1,l="picupload.weibo.com",c="","image/gif"==e.type){t.next=11;break}return t.next=8,_(e);case 8:c=t.sent,t.next=14;break;case 11:return t.next=13,_(e);case 13:c=t.sent;case 14:if(t.prev=14,p=+new Date,f=0===i.watermark?"":v(),o){t.next=26;break}return x="//".concat(l,"/interface/pic_upload.php?app=miniblog&s=json&p=1&data=1&").concat(f),k=n.a.create(),delete k.defaults.headers.common["X-Requested-With"],t.next=23,k.request({url:x,method:"post",data:c,withCredentials:!0,timeout:12e4,xsrfCookieName:null,headers:{"Content-Type":"multipart/form-data"}});case 23:u=t.sent,t.next=46;break;case 26:return t.t0=h,t.next=29,g(e);case 29:return t.t1=t.sent,$=(0,t.t0)(t.t1),t.next=33,m(e).catch((function(t){throw new Error("计算image MD5失败(".concat(t.message,")"))}));case 33:C=t.sent,O={file_source:s,cs:$,ent:"miniblog",appid:339644097,uid:window.$CONFIG&&window.$CONFIG.uid,raw_md5:C,ori:1,mpos:0!==i.watermark&&window.$CONFIG&&window.$CONFIG.user.watermark.markpos,nick:0!==i.watermark&&window.$CONFIG&&window.$CONFIG.user.watermark.nick,pri:i.pri||0,request_id:p,file_size:e.size},j=r.a.stringify(O),T="//".concat(l,"/interface/upload.php?").concat(j),k=n.a.create(),delete k.defaults.headers.common["X-Requested-With"];try{performance.mark("imageUpload",{detail:{request_id:p,fileSize:e.size}})}catch(B){}return D=d()().unix(),S=n.a.CancelToken,I=S.source(),t.next=45,k.request({url:T,method:"post",data:c,withCredentials:!0,timeout:12e4,xsrfCookieName:null,cancelToken:I.token,onUploadProgress:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var i,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=e.loaded,a=d()().unix()-D,a>3&&"image.api.weibo.com"!==l&&(o=i/1024/a,o<25&&I.cancel("hostUpdate"));case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()});case 45:u=t.sent;case 46:t.next=56;break;case 48:if(t.prev=48,t.t2=t["catch"](14),"hostUpdate"!==t.t2.message){t.next=55;break}return l="image.api.weibo.com",t.abrupt("return",w(e,i,o,s));case 55:throw new b(t.t2);case 56:if(!u.data.ret){t.next=60;break}return t.abrupt("return",u.data.pic.pid);case 60:if(!1!==u.data.ret){t.next=64;break}throw new y(u.data.errno);case 64:if(u.data.code&&"A00006"==u.data.code){t.next=66;break}throw new y(u.data.data&&u.data.data.count);case 66:return t.abrupt("return",u.data.data.pics.pic_1.pid);case 67:case"end":return t.stop()}}),t,null,[[14,48]])})));return function(e){return t.apply(this,arguments)}}();function x(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="https://weibo.com/ajax/log/rum",i=new FormData;function a(t,e){try{if(!t||t&&!t.startsWith("http"))return"";for(var i=new URL(t).search.substring(1),a=i.split("&"),o=0;o<a.length;o++){var n=a[o].split("=");if(n[0]==e)return n[1]}}catch(s){}return""}function o(t){for(var e=document.cookie,i=e.split(";"),a=0;a<i.length;a++){var o=i[a].split("=");if(t===o[0].trim())return o[1]}return""}i.append("entry",JSON.stringify(t)),i.append("request_id",a(t.name,"request_id")),fetch(e,{keepalive:!0,method:"POST",headers:{"X-Xsrf-Token":o("XSRF-TOKEN")},body:i})}},"7f04":function(t,e,i){"use strict";var a=i("0257"),o=i.n(a);e["default"]=o.a},"7f3f":function(t,e,i){"use strict";var a=i("243c"),o=i.n(a);e["default"]=o.a},"7f5c":function(t,e,i){"use strict";var a=i("02e1"),o=i.n(a);e["default"]=o.a},"7f5e":function(t,e,i){"use strict";var a=i("9cbb"),o=i.n(a);e["default"]=o.a},"7f71":function(t,e,i){t.exports={icon:"IconVip_icon_MpAv2"}},"7fb8":function(t,e,i){t.exports={cut:"card-link_cut_t4gPQ",cut2:"card-link_cut2_2ynlV",wrap:"card-link_wrap_1ktKS",emptyText:"card-link_emptyText_3Mg9e",empty:"card-link_empty_Ne9lq",mid:"card-link_mid_2Ufs1",title:"card-link_title_1v5fP",text:"card-link_text_2v0Ga",wbtext:"card-link_wbtext_1afrg",messText:"card-link_messText_2YB75"}},"808e":function(t,e,i){"use strict";i.r(e);var a=function(){var t,e=this,i=e.$createElement,a=e._self._c||i;return a("div",[e.containerid?a("Bar",{class:e.$style.bottomGap,attrs:{"go-back":"",divide:""},scopedSlots:e._u([{key:"title",fn:function(){return[a("div",{class:[e.$style.title,e.$style.cut],domProps:{textContent:e._s(e.topTitle)}})]},proxy:!0}],null,!1,1799011509)}):e._e(),e.headData&&e.headData.title&&1===+e.channelId?a("CustomCard",{class:e.$style.cardWrap,attrs:{data:e.headData,bottomGap:!e.hasIntroduction,isViewAvatar:!0,noBorderBottom:e.hasIntroduction},scopedSlots:e._u([{key:"tag",fn:function(){return[e.headData.tag_text?a("span",{staticClass:"wbpro-icon-search-",class:e.$style.tag,style:{background:e.headData.tag_color,color:e.headData.tag_text_color},domProps:{innerHTML:e._s(e.headData.tag_text)}}):e._e()]},proxy:!0}],null,!1,194001589)}):e._e(),a("Scroll",{class:(t={},t[e.$style.suserbox]=3===e.channelId,t),attrs:{data:e.list,isLoading:e.isLoading,isEmpty:e.isEmpty,isRetry:e.isRetry,isNoData:e.isNoData,skeleton:!0},on:{loadMoreData:e.loadMoreData},scopedSlots:e._u([{key:"content",fn:function(t){var i=t.item;return[a("CardList",{attrs:{card:i},on:{feedHeadArrowDown:e.feedHeadArrowDown,updateEditHistory:e.updateEditHistory,updateFeedReplyModal:e.updateFeedReplyModal}})]}}])}),a("FeedEditHistory",{attrs:{mid:e.editMid,edit_count:e.editCount},model:{value:e.showEditModal,callback:function(t){e.showEditModal=t},expression:"showEditModal"}}),a("ReplyModal",{attrs:{commentData:e.commentData,weiboData:e.replyModalWeiboData},on:{updateComments:e.updateComments,updateTotalNumber:e.updateTotalNumber},model:{value:e.showReplyModal,callback:function(t){e.showReplyModal=t},expression:"showReplyModal"}})],1)},o=[],n=(i("99af"),i("7db0"),i("c740"),i("caad"),i("d81d"),i("fb6a"),i("b0c0"),i("2532"),i("b85c")),s=i("5530"),r=i("4328"),l=i.n(r),c=i("8531"),u=i("6701"),d=i("3951"),h=i("1d99"),p=i("1b37"),f=i("4533"),m=i("2f62"),v={name:"searchResult",metaInfo:function(){return{title:this.title}},components:{Bar:c["a"],Scroll:u["a"],CardList:d["default"],CustomCard:h["a"],ReplyModal:p["a"],FeedEditHistory:f["a"]},data:function(){return{list:[],headData:{},cardlistTitle:"",isLoading:!1,isEmpty:!1,isRetry:!1,isNoData:!1,page:1,count:20,channelId:"",isClick:!1,showEditModal:!1,editMid:"",editCount:0,showReplyModal:!1,commentData:{},curApiContainerId:"",replyModalWeiboData:{}}},created:function(){var t=this;this.$Bus.$on("handleSearchNav",this.handleSearchNav),this.$Bus.$on("initList",this.initList),this.$once("hook:beforeDestroy",(function(){t.$Bus.$off("handleSearchNav",t.handleSearchNav),t.$Bus.$off("initList",t.initList)}))},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(m["d"])(["access"])),Object(m["c"])(["curWeiboData"])),{},{containerid:function(){return this.$route.query.containerid},q:function(){return l.a.parse(this.containerid).q},title:function(){return'"'.concat(this.titleQ,'"搜索结果')},titleQ:function(){return this.q&&this.q.length>5?this.q.slice(0,5)+"...":this.q},topTitle:function(){return this.cardlistTitle||this.q},hasIntroduction:function(){return"1"===this.channelId&&this.list&&this.list.length&&7===this.list[0].card_type&&this.list[0].desc}}),watch:{showReplyModal:function(t){t||(this.replyModalWeiboData={})},$route:{handler:function(t,e){var i=this;"searchResult"===t.name&&(this.containerid===this.curApiContainerId&&"searchResult"!==e.name&&(this.isClick=!0),setTimeout((function(){i.isClick?i.isClick=!1:(i.containerid!==i.curApiContainerId||i.checkUpdate(t,e))&&i.getGroupList()}),0))},deep:!0}},methods:{handleSearchNav:function(t){this.isClick=!0,"init"===t.type&&(this.isClick=!1),t.channelId?(this.cardlistTitle=t.title,this.channelId=t.channelId,this.list=t.cards,this.headData=t.headData,t.cards&&0===t.cards.length?this.isEmpty=!0:t.cards&&t.cards.length&&1===this.page&&(this.isLoading=!0,this.page++)):this.getGroupList()},initList:function(){this.list=[],this.headData={},this.cardlistTitle=""},getGroupList:function(t){var e=this;"loadmore"!==t&&(this.page=1,this.list=[],this.headData={},this.cardlistTitle=""),this.isLoading=!0,this.isEmpty=!1,this.isRetry=!1,this.isNoData=!1,this.containerid&&(this.curApiContainerId=this.containerid,this.$http.get("/ajax/search/all",{params:{containerid:this.containerid,page:this.page,count:this.count,mark:this.curWeiboData.mark}}).then((function(i){if(e.isLoading=!1,i.data&&i.data.ok){"loadmore"!==t&&(e.list=[]);var a=i.data.data;if(a){if(a.cardlist_title&&(e.cardlistTitle=a.cardlist_title),a.channel_list&&a.channel_list.length){var o=a.channel_list.findIndex((function(t){return t.containerid===e.containerid}));a.channel_list[o]&&(e.channelId=a.channel_list[o].id),e.$Bus.$emit("updateChannelList",{channel_list:a.channel_list,channelId:e.channelId})}1===+e.channelId&&1===e.page&&(e.headData=a.head_data),a.cards&&a.cards.length&&(e.list=e.list.concat(a.cards)),e.isLoading=!0,e.page++,e.list&&0===e.list.length&&2===e.page&&(e.isEmpty=!0),a.cards&&0===a.cards.length&&(e.isLoading=!1,e.isNoData=!0)}}})).catch((function(){e.isLoading=!1,e.isRetry=!0})))},loadMoreData:function(){this.getGroupList("loadmore")},checkUpdate:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"profile"!==t.name&&"bidDetail"!==t.name&&"detail"!==t.name},feedHeadArrowDown:function(t,e){var i=window.event||t,a=i.path||i.composedPath&&i.composedPath();i=a.find((function(t){return t.className.includes("wbpro-scroller-item")}));var o=i.parentNode;e?o.setAttribute("more",1):o.removeAttribute("more")},updateEditHistory:function(t){if(!t.single){var e=t.data;this.showEditModal=e.show,this.editMid=e.mid,this.editCount=e.count}},updateFeedReplyModal:function(t){this.replyModalWeiboData=t.weiboData,this.showReplyModal=t.showReplyModal,this.commentData=t.commentData},updateComments:function(t,e){var i,a=this,o=Object(n["a"])(this.list);try{for(o.s();!(i=o.n()).done;){var s=i.value;9===s.card_type&&s.mblog&&s.mblog.idstr===this.curWeiboData.idstr?s.mblog.rcList.map((function(i){i.comments&&i.comments.length&&(i.comments=t,i.more_info&&i.more_info.highlight_text&&(i.more_info.highlight_text="共".concat(e,"条回复")))})):11===s.card_type&&s.card_group&&s.card_group.length&&s.card_group.map((function(i){9===i.card_type&&i.mblog&&i.mblog.idstr===a.curWeiboData.idstr&&i.mblog.rcList.map((function(i){i.comments&&i.comments.length&&(i.comments=t,i.more_info&&i.more_info.highlight_text&&(i.more_info.highlight_text="共".concat(e,"条回复")))}))}))}}catch(r){o.e(r)}finally{o.f()}},updateTotalNumber:function(t){var e,i=this,a=Object(n["a"])(this.list);try{for(a.s();!(e=a.n()).done;){var o=e.value;9===o.card_type&&o.mblog&&o.mblog.idstr===this.curWeiboData.idstr?this.handleTotalNumber(o.mblog.rcList,t):11===o.card_type&&o.card_group&&o.card_group.length&&o.card_group.map((function(e){if(9===e.card_type&&e.mblog&&e.mblog.idstr===i.curWeiboData.idstr)i.handleTotalNumber(e.mblog.rcList,t);else if(59===e.card_type)for(var a=0,o=["left","right"];a<o.length;a++){var n=o[a],s="".concat(n,"_element");e[s]&&9===e[s].card_type&&e[s].mblog&&i.handleTotalNumber(e[s].mblog.rcList,t)}}))}}catch(s){a.e(s)}finally{a.f()}},handleTotalNumber:function(t,e){var i,a=Object(n["a"])(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.comments&&o.comments.length&&o.more_info&&o.more_info.highlight_text&&(o.more_info.highlight_text="共".concat(e,"条回复"))}}catch(s){a.e(s)}finally{a.f()}}}},_=v,g=i("5d01"),b=i("2877");function y(t){this["$style"]=g["default"].locals||g["default"]}var w=Object(b["a"])(_,a,o,!1,y,null,null),x=w.exports,k=i("722e");e["default"]=[{path:"search",name:"searchResult",components:{main:x,side:k["a"]},meta:{keepAlive:!0,channel:"search",title:"搜索结果"}}]},8125:function(t,e,i){t.exports={f12:"ListTitle_f12_3VhJQ",tit:"ListTitle_tit_3mhnk",f14:"ListTitle_f14_t9RTd",cla:"ListTitle_cla_-Q9bm",topt:"ListTitle_topt_39g0c",clb:"ListTitle_clb_1YZvH",th3:"ListTitle_th3_19aga",cll:"ListTitle_cll_31Fcr"}},8138:function(t,e,i){"use strict";var a=i("df71"),o=i.n(a);e["default"]=o.a},"81b4":function(t,e,i){},"826d":function(t,e,i){"use strict";var a=i("4d09"),o=i.n(a);e["default"]=o.a},"82d7":function(t,e,i){"use strict";i("d3b7"),i("25f0");e["a"]={data:function(){return{selectText:""}},methods:{handleSelectText:function(){return this.selectText?(this.selectText="",!0):!!this.getText()&&(this.selectText=this.getText(),!0)},getText:function(){var t;return window.getSelection?t=window.getSelection():document.selection&&(t=document.selection.createRange()),t.toString()}}}},8305:function(t,e,i){"use strict";var a=i("33fd"),o=i.n(a);e["default"]=o.a},8316:function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_hash",use:"woo_svg_hash-usage",viewBox:"0 0 1024 1024",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" id="woo_svg_hash"><path fill="currentColor" d="M370.862 900.13c0 19.487-15.797 35.284-35.285 35.284-17.863 0-32.626-13.274-34.962-30.497l-.322-4.788V723.707H123.87c-19.487 0-35.285-15.797-35.285-35.285 0-17.863 13.274-32.626 30.496-34.962l4.788-.322h176.423V347.339H123.87c-19.487 0-35.285-15.797-35.285-35.285 0-17.863 13.274-32.626 30.496-34.962l4.788-.322h176.423v-152.9c0-19.487 15.797-35.285 35.284-35.285 17.863 0 32.626 13.274 34.962 30.497l.322 4.788v152.9h305.799v-152.9c0-19.487 15.797-35.285 35.285-35.285 17.863 0 32.626 13.274 34.963 30.497l.322 4.788v152.9h152.9c19.487 0 35.284 15.797 35.284 35.284 0 17.863-13.274 32.626-30.497 34.962l-4.788.322h-152.9v305.799h152.9c19.487 0 35.284 15.797 35.284 35.284 0 17.863-13.274 32.626-30.497 34.962l-4.788.322h-152.9V900.13c0 19.487-15.797 35.284-35.285 35.284-17.863 0-32.626-13.274-34.963-30.497l-.322-4.788V723.707H370.862V900.13zm0-246.992h305.799V347.339H370.862v305.799z" /></symbol>'});s.a.add(r);e["default"]=r},"832a":function(t,e,i){t.exports={feed:"SuperTopic_feed_1N9IQ",more:"SuperTopic_more_2chlV",moreText:"SuperTopic_moreText_1CBii",featureBlock:"SuperTopic_featureBlock__GGdY"}},8341:function(t,e,i){t.exports={wrap:"MessageCard_wrap_2krZQ",item1:"MessageCard_item1_P97lY",item12:"MessageCard_item12_3W-PJ",con1:"MessageCard_con1_Otz_M",wbtext:"MessageCard_wbtext_1SisZ",h3:"MessageCard_h3_1C3Aj",action:"MessageCard_action_2MlLl",textImg:"MessageCard_textImg_2FMwg",h4:"MessageCard_h4_i8ex3",text:"MessageCard_text_QfEZT",empty:"MessageCard_empty_1suqT",rank:"MessageCard_rank_-z-3M",txt:"MessageCard_txt_38M8z",num:"MessageCard_num_3DTQn",messagePic:"MessageCard_messagePic_2eH3I"}},"835f":function(t,e,i){t.exports={common:"Common_common_m1XSI",error:"Common_error_23NuX"}},"83c1":function(t,e,i){t.exports={qrcode:"QrcodeWrap_qrcode_xPgaP",text:"QrcodeWrap_text_qfMW0",qrcodeWrap:"QrcodeWrap_qrcodeWrap_VY0Sm"}},8460:function(t,e,i){t.exports={tab:"VideoTabs_tab_a2atN",tcon:"VideoTabs_tcon_N3vJ6",btn:"VideoTabs_btn_1qysF",btncurr:"VideoTabs_btncurr_1mhu7",icon:"VideoTabs_icon_1K6Ux",tbtn:"VideoTabs_tbtn_cRldI",tbtnl:"VideoTabs_tbtnl_2RNpB",tbtnr:"VideoTabs_tbtnr_33eQs",icona:"VideoTabs_icona_10nJ-",tline:"VideoTabs_tline_dgFAt",btna:"VideoTabs_btna_1OMJz",center:"VideoTabs_center_eCKDE"}},8469:function(t,e,i){},8475:function(t,e,i){t.exports={row:"content_row_-r5Tk",col:"content_col_19D_y",tip:"content_tip_3WcLz",cursor:"content_cursor_1zHKT",placebox:"content_placebox_1QXn-",picLoading:"content_picLoading_3yA_0"}},"848d":function(t,e,i){"use strict";var a=i("4d5a"),o=i.n(a);e["default"]=o.a},"84cf":function(t,e,i){"use strict";var a=i("79ca"),o=i.n(a);e["default"]=o.a},"84db":function(t,e,i){"use strict";var a=i("0548"),o=i.n(a);e["default"]=o.a},8505:function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_nav_home",use:"woo_svg_nav_home-usage",viewBox:"0 0 30 30",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" id="woo_svg_nav_home"><path d="M25.5 16.476v8.026c0 .827-.668 1.498-1.505 1.498h-4.99a1.498 1.498 0 01-1.505-1.498v-5.568a2.506 2.506 0 00-2.5-2.477 2.506 2.506 0 00-2.5 2.477v5.568c0 .827-.668 1.498-1.505 1.498h-4.99A1.498 1.498 0 014.5 24.502v-8.028a2.969 2.969 0 01-.048-.53v-1.257c0-.551.328-1.317.717-1.696l8.762-8.53a1.543 1.543 0 012.138 0l8.762 8.53c.396.385.717 1.145.717 1.696v1.257c0 .181-.017.36-.048.532zm-2-.18l.032-.177a.983.983 0 00.016-.175v-1.257c0-.011-.103-.254-.112-.263L15 6.21l-8.436 8.214a4.424 4.424 0 00-.112.263v1.257c0 .059.006.116.016.173l.032.177V24h4v-5.092a4.505 4.505 0 014.5-4.451c2.465 0 4.467 1.986 4.5 4.477V24h4v-7.704z" fill-rule="nonzero" fill="currentColor" /></symbol>'});s.a.add(r);e["default"]=r},8531:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:[t.$style.main,t.transparent&&t.$style.transparent,(!t.transparent||t.flat)&&t.$style.card]},[i("woo-box",{class:t.$style.bar,attrs:{justify:"between"}},[i("woo-box",{class:[t.$style.left,t.goBack&&t.$style.hand],attrs:{align:"center"},nativeOn:{click:function(e){return t.clickHandle(e)}}},[t.goBack?i("woo-fonticon",{class:t.$style.back,attrs:{value:"angleLeft"}}):t._e(),t.goBack?i("div",{class:t.$style.title},[t._v("返回")]):t._e(),i("h2",{class:t.$style.title,domProps:{textContent:t._s(t.title)}})],1),i("transition",{attrs:{name:"bar-fade"}},[!t.$slots.title||t.scrollShow&&!t.valve?t._e():i("woo-box",{class:[t.$style.mid,t.$style.cut],attrs:{align:"center",justify:"center"}},[t._t("title")],2)],1),i("transition",{attrs:{name:"bar-fade"}},[!t.$slots.right||t.scrollShow&&!t.valve?t._e():i("woo-box",{class:t.$style.right,attrs:{align:"center"}},[t._t("right")],2)],1)],1)],1)},o=[],n=(i("0481"),i("4069"),i("a9e3"),i("ac1f"),i("5319"),i("5530")),s=i("2f62"),r=i("0f32"),l=i.n(r),c={props:{title:String,transparent:Boolean,divide:Boolean,goBack:Boolean,customBack:Boolean,distance:{type:[Number,String],default:60},scrollShow:[Number,String],searchInput:String,user:{type:Object,default:function(){return{}}}},data:function(){return{dist:-1,flat:!1,border:this.divide,cover:!1}},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(s["c"])(["config"])),Object(s["d"])(["access"])),{},{distanceGet:function(){return this.transparent?this.distance:0},isOwner:function(){var t,e;return this.user.id==(null===(t=this.config)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.id)},valve:function(){return this.scrollShow&&this.dist>=this.scrollShow}}),watch:{dist:function(t){var e=t>this.distanceGet;this.flat=this.transparent&&e,this.divide||(this.border=e)}},methods:{clickHandle:function(){this.goBack&&!this.customBack?(1===this.access.history.length?this.$router.replace({path:"/"}):this.$router.go(-1),this.$emit("after-click")):this.$emit("click-handle")}},mounted:function(){var t=0,e=0,i=0,a=this;function o(){var o=window.pageYOffset||document.documentElement.scrollTop;a.dist=o,o>t?(1===e&&a.$Bus&&a.$Bus.$emit("w-scroll-up"),e++,i=0):(1===i&&a.$Bus&&a.$Bus.$emit("w-scroll-down"),i++,e=0),t=o<=0?0:o}this.throttleCallback=l()(o,50),window.addEventListener("scroll",this.throttleCallback,!1)},beforeDestroy:function(){window.removeEventListener("scroll",this.throttleCallback,!1)}},u=c,d=i("60a6"),h=(i("1709"),i("2877"));function p(t){this["$style"]=d["default"].locals||d["default"]}var f=Object(h["a"])(u,a,o,!1,p,null,null);e["a"]=f.exports},"855a":function(t,e,i){var a={"./aria.svg":"2e4d","./configFlat.svg":"27c6","./eCom.svg":"c940","./fold.svg":"9350","./game.svg":"61e0","./home.svg":"8505","./homeFlat.svg":"9d59","./hot.svg":"17c7","./hotFlat.svg":"00cd","./login.svg":"1361","./logo.svg":"6536","./logoGrey.svg":"9f20","./logoNA.svg":"c36e","./logoYy.svg":"5bf2","./messages.svg":"2c4d","./messagesFlat.svg":"d8ac","./moon.svg":"c52b","./pub.svg":"efbb","./pubFold.svg":"7854","./search.svg":"4a0f","./sicon-clear.svg":"c1bd","./sun.svg":"3339","./tv.svg":"4f26","./tvFlat.svg":"ce99"};function o(t){var e=n(t);return i(e)}function n(t){if(!i.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}o.keys=function(){return Object.keys(a)},o.resolve=n,t.exports=o,o.id="855a"},"857d":function(t,e,i){t.exports={help:"Tips_help_FfLYL"}},"85a7":function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return o}));i("4ec9"),i("d3b7"),i("3ca3"),i("ddb0");var a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,i=new Map(JSON.parse(window.localStorage.getItem("darkModeHistory")));i.has(t)&&localStorage.setItem("darkMode",JSON.stringify({uid:t,mode:i.get(t)}));var a=JSON.parse(window.localStorage.getItem("darkMode")),o=a&&t===a.uid?parseInt(a.mode):e?1:0;return o},o=function(t){document.documentElement.dataset.theme=1===t?"dark":"light"}},"85b2":function(t,e,i){t.exports={picture:"card-dynamic_picture_27MY2",title:"card-dynamic_title_2CBaC",color0:"card-dynamic_color0_3P7r2",color1:"card-dynamic_color1_3x17a",color2:"card-dynamic_color2_3Rwn7",video:"card-dynamic_video_EqwfB",noPic:"card-dynamic_noPic_2RCmd"}},"85c5":function(t,e,i){"use strict";var a=i("4dcd"),o=i.n(a);o.a},"85ec":function(t,e,i){},8693:function(t,e,i){"use strict";var a=i("734d"),o=i.n(a);e["default"]=o.a},"87b4":function(t,e,i){"use strict";i.d(e,"b",(function(){return f})),i.d(e,"a",(function(){return x})),i.d(e,"c",(function(){return O}));var a=i("5530"),o=i("ed09"),n=i("7748"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("div",{class:t.$style.qrcodeWrap,style:t.style},[i("div",{class:t.$style.qrcode},[i("QRCode",{attrs:{text:t.shareText}}),i("div",{class:t.$style.text},[t._v(t._s(t.tipText))])],1)]):t._e()},r=[],l={setup:function(){var t=Object(o["d"])().proxy,e=Object(o["n"])(!1),i=Object(o["n"])(""),a=Object(o["n"])(""),n=Object(o["m"])({top:"",left:""}),s=function(t){var o=t.rect,s=t.text,r=t.tip,l=void 0===r?"手机扫码分享/查看":r;e.value=!0,n.top="".concat(o.top,"px"),n.left="".concat(o.left,"px"),i.value=s,a.value=l},r=function(){e.value=!1,n.top=0,n.left=0,i.value="",a.value=""};return Object(o["k"])((function(){t.$Bus.$on("showQrcode",s),t.$Bus.$on("hideQrcode",r)})),Object(o["i"])((function(){t.$Bus.$off("showQrcode",s),t.$Bus.$off("hideQrcode",r)})),{show:e,style:n,shareText:i,tipText:a}},components:{QRCode:n["a"]}},c=l,u=i("cff2"),d=i("2877");function h(t){this["$style"]=u["default"].locals||u["default"]}var p=Object(d["a"])(c,s,r,!1,h,null,null),f=p.exports,m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("div",{class:t.$style.qrcode},[i("QRCode",{attrs:{text:t.shareText}}),i("div",{class:t.$style.text},[t._v(t._s(t.tipText))])],1):t._e()},v=[],_={props:{show:Boolean,shareText:String,tipText:{default:"手机扫码分享/查看"}},components:{QRCode:n["a"]}},g=_,b=i("546b");function y(t){this["$style"]=b["default"].locals||b["default"]}var w=Object(d["a"])(g,m,v,!1,y,null,null),x=w.exports,k=6,$=187,C=163;function O(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"qrcode",e=Object(o["d"])().proxy,i=null,n=function(t){if(!t)return{};var e,i,a=t.getBoundingClientRect(),o={width:C,height:$},n={height:window.innerHeight,width:window.innerWidth},s={top:Math.max(document.documentElement.scrollTop,document.body.scrollTop),left:Math.max(document.documentElement.scrollLeft,document.body.scrollLeft)};return i=a.top<=n.height/2?s.top+a.top+a.height+k:s.top+a.top-o.height-k,e=a.left-a.width/2,a.left+o.width>=n.width&&(e=n.width-o.width-a.width/2),{left:e,top:i}},s=function(e){var i=3,a=e;do{if(!a)return e;if(!a.getAttribute)return e;if(a.getAttribute(t))return a}while(i--&&(a=a.parentNode));return e},r=function(t,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=n(t);e.$Bus.$emit("showQrcode",Object(a["a"])({text:i,rect:s},o))},l=function(){e.$Bus.$emit("hideQrcode")},c=function(e){var a=s(e.target);if(i!==a){var o=a.getAttribute(t);if(o){var n=a.getAttribute(t),c={};"qrcode"===t&&(c.tip=a.getAttribute("qrcodetips")),i=a,r(i,n,c)}else i=null,l()}};Object(o["k"])((function(){document.body.addEventListener("mousemove",c)})),Object(o["i"])((function(){document.body.removeEventListener("mousemove",c)}))}},"87e2":function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_illustrationColor",use:"woo_svg_illustrationColor-usage",viewBox:"0 0 1024 1024",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" id="woo_svg_illustrationColor"><linearGradient id="woo_svg_illustrationColor_a" gradientUnits="userSpaceOnUse" x1="930.718" y1="852.096" x2="114.276" y2="229.994"><stop offset="0" stop-color="#ffbd00" /><stop offset=".567" stop-color="#ff8200" /><stop offset="1" stop-color="#ff5600" /></linearGradient><path d="M831.2 554.8v35.3h161.1c5 0 10.1 5 10.1 10.1v50.4c0 5-5 10.1-10.1 10.1h-60.4l-5 10.1c-20.1 50.4-40.3 95.7-70.5 130.9l-10.1 15.1-5 5 5 5c35.3 25.2 70.5 45.3 115.8 65.5l20.1 10.1 10.1 5c5 0 10.1 10.1 5 15.1l-25.2 45.3c-5 5-10.1 5-15.1 5-80.6-35.3-130.9-65.5-161.1-85.6l-5-5-10.1-5c-40.3 35.3-85.6 60.4-141 80.6l-20.1 5-10.1 5c-5 0-10.1 0-10.1-5l-25.2-50.4c0-5 0-10.1 5-15.1 75.5-25.2 125.9-50.4 156.1-70.5l-5-5c-35.3-40.3-65.5-85.6-80.6-130.9l-5-20.1v-10.1h-60.4c-5 0-10.1-5-10.1-10.1v-50.4c0-5 5-10.1 10.1-10.1h171.2v-35.3c0-5 5-10.1 10.1-10.1h60.4c.1 0 5.1 0 5.1 10.1zM821.1 51.2c45.3 0 85.6 35.3 85.6 80.6v342.4c0 5-5 10.1-10.1 10.1h-55.4c-5 0-10.1-5-10.1-10.1V136.8c0-5-5-10.1-10.1-10.1H116c-5 0-10.1 5-10.1 10.1v423c55.4-35.3 105.8-55.4 161.1-55.4s105.8 20.1 161.1 55.4c30.2 20.1 55.4 40.3 65.5 55.4l10.1 5 10.1 5 10.1 10.1s5 5 5 10.1V721c0 5-5 5-5 5h-5c-20.1-10.1-35.3-25.2-50.4-35.3-5-5-15.1-10.1-15.1-15.1l-10.1-10.1-20.1-15.1c-15.1-10.1-25.2-20.1-40.3-30.2-40.3-30.2-80.6-45.3-115.8-45.3-50.4 0-100.7 20.1-151.1 70.5l-10.1 10.1V867c0 5 5 10.1 10.1 10.1h403c5 0 10.1 5 10.1 10.1v55.4c0 5-5 10.1-10.1 10.1H121.2c-45.3 0-85.6-35.3-85.6-80.6V136.8c0-45.3 35.3-85.6 80.6-85.6h704.9zm30.3 609.4h-136l5 15.1c15.1 35.3 35.3 65.5 65.5 95.7v5-5c20.1-25.2 40.3-55.4 55.4-90.6l10.1-20.2zM644.9 212.4c40.3 0 75.5 35.3 75.5 75.5s-35.3 75.5-75.5 75.5c-40.3 0-75.5-35.3-75.5-75.5s30.2-75.5 75.5-75.5z" fill="url(#woo_svg_illustrationColor_a)" /></symbol>'});s.a.add(r);e["default"]=r},8831:function(t,e,i){"use strict";var a=i("fce4"),o=i.n(a);o.a},8838:function(t,e,i){"use strict";var a=i("ddd8"),o=i.n(a);e["default"]=o.a},8841:function(t,e,i){"use strict";var a=i("5e70"),o=i.n(a);e["default"]=o.a},8859:function(t,e,i){t.exports={box1:"Emoticon_box1_14igs",facebox1:"Emoticon_facebox1_2Bjgi",tab:"Emoticon_tab_U1yEN",img:"Emoticon_img_3aMkw",tabtit:"Emoticon_tabtit_c_ffA",tbtn:"Emoticon_tbtn_1RzDN",tbtnl:"Emoticon_tbtnl_J1_M0",tbtnr:"Emoticon_tbtnr_yVg-4"}},"88bc":function(t,e,i){},"89b9":function(t,e,i){"use strict";var a=i("1ace"),o=i.n(a);e["default"]=o.a},"89bd":function(t,e,i){t.exports={box:"Reward_box_27GVq"}},"89c3":function(t,e,i){"use strict";var a=i("8ea5"),o=i.n(a);e["default"]=o.a},"8a48":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));i("96cf");var a=i("1da1"),o=i("ed09");function n(){var t=Object(o["d"])(),e=t.proxy,i=function(t){0===t.residue_num&&""===t.icon&&""===t.text?t.need=!1:t.need=!0},n=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var a,o,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("/ajax/statuses/user/count_limit");case 3:if(a=t.sent,!a.data.result){t.next=9;break}return o=a.data.result,n=o.edit,s=o.schedule,i(n),i(s),t.abrupt("return",{edit:n,schedule:s});case 9:return t.abrupt("return",{});case 12:t.prev=12,t.t0=t["catch"](0);case 14:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}();return{timerCount:n}}},"8a4a":function(t,e,i){"use strict";var a=i("d98d"),o=i.n(a);e["default"]=o.a},"8ab1":function(t,e,i){t.exports={bottom:"Repost_bottom_18NV_",count:"Repost_count_2BdbV",line:"Repost_line_3dX83"}},"8ab8":function(t,e,i){"use strict";var a=i("835f"),o=i.n(a);e["default"]=o.a},"8ae7":function(t,e,i){t.exports={cut:"Recom_cut_10m9K",cla:"Recom_cla_1nsMR",fb:"Recom_fb_O5KVC",cutout:"Recom_cutout_1pyBD",f12:"Recom_f12_2wu4i",clb:"Recom_clb_3DxOH",conin1:"Recom_conin1_FNOKL",th4:"Recom_th4_1VR4f",in1box1:"Recom_in1box1_31ea0",in1item:"Recom_in1item_33Yzq",in1opt:"Recom_in1opt_2j-CF",con2item:"Recom_con2item_FCEbN",con2line:"Recom_con2line_1yEjZ",conin2:"Recom_conin2_75tX1",opt:"Recom_opt_mCFy2",in2box:"Recom_in2box_1l6Wh",in2item:"Recom_in2item_3atgL",in2icon:"Recom_in2icon_yrzH0",in2text:"Recom_in2text_3f20-"}},"8b1b":function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_close",use:"woo_svg_close-usage",viewBox:"0 0 1024 1024",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" id="woo_svg_close"><path fill="currentColor" d="M512 22.167c270.527 0 489.833 219.306 489.833 489.833S782.527 1001.833 512 1001.833 22.167 782.527 22.167 512 241.473 22.167 512 22.167zm0 75.359C283.092 97.526 97.526 283.092 97.526 512S283.092 926.474 512 926.474 926.474 740.908 926.474 512 740.908 97.526 512 97.526zM345.028 292.599l5.218 4.36L512 458.721 673.754 296.96c14.715-14.715 38.572-14.715 53.287 0 13.08 13.079 14.533 33.382 4.36 48.068l-4.36 5.218L565.279 512l161.762 161.754c14.715 14.714 14.715 38.572 0 53.286-13.08 13.08-33.383 14.533-48.068 4.36l-5.219-4.36L512 565.279 350.246 727.04c-14.715 14.715-38.572 14.715-53.287 0-13.08-13.079-14.533-33.382-4.36-48.068l4.36-5.218L458.721 512 296.959 350.246c-14.715-14.714-14.715-38.572 0-53.286 13.08-13.08 33.383-14.534 48.069-4.361z" /></symbol>'});s.a.add(r);e["default"]=r},"8b4a":function(t,e,i){"use strict";i("99af"),i("c975");var a=i("4328"),o=i.n(a),n={};e["a"]=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=[].concat(e),i=Object.assign({},i,{wb_time:+new Date});var a=function(){var e=+Date.now(),a=n[e]=new Image;a.onload=a.onerror=function(){a.onload=a.onerror=null,delete n[e],a=null},a.src=t+(t.indexOf("?")>-1?"&":"?")+o.a.stringify(i)};while(t=e.shift())a()}},"8b84":function(t,e,i){t.exports={cut:"Record_cut_F8UVD",f12:"Record_f12_3TOp5",f14:"Record_f14_aFtYq",fb:"Record_fb_1Zk1B",cla:"Record_cla_1EJN8",clb:"Record_clb_303I2",cll:"Record_cll_RfB_0",cutout:"Record_cutout_1jvDR",tabs1:"Record_tabs1_3RvLu",tit:"Record_tit_1tbd_",th3:"Record_th3_lioX_",topt:"Record_topt_3pL5y",con1:"Record_con1_2P54G",con1h3:"Record_con1h3_2c47F",item:"Record_item_3E8jt",con:"Record_con_2wrgp",right:"Record_right_1vbad",pic:"Record_pic_16VMq",stit:"Record_stit_3uHRL",stopt:"Record_stopt_3qEUz",th4:"Record_th4_2mrcZ",conin1:"Record_conin1_2H21M",in1box1:"Record_in1box1_jI_fc",in1item:"Record_in1item_1ssZx",in1opt:"Record_in1opt_2eLeP",opt:"Record_opt_S1ZJy",con2item:"Record_con2item_2dM2m",con2line:"Record_con2line_2N5_B",conin2:"Record_conin2_2PYyA",in2box:"Record_in2box_msmhP",in2item:"Record_in2item_1xSg3",in2icon:"Record_in2icon_FujmK",in2text:"Record_in2text_1Z2-V",pop:"Record_pop_2EYrR",dl:"Record_dl_Rt3qZ",popb1:"Record_popb1_3kI-a",popb2:"Record_popb2_2KKXw",popb2in:"Record_popb2in__pVd8",popb2in2:"Record_popb2in2_VE43M",bar:"Record_bar_37QKX",ball:"Record_ball_d873O",pbtnb:"Record_pbtnb_2OnwY",pbtn:"Record_pbtn_CmVWY",wrap:"Record_wrap_3PrfA",line:"Record_line_HbO-5"}},"8b91":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));i("ac1f"),i("5319"),i("498a");var a=function(t){var e,i=getComputedStyle(document.documentElement).getPropertyValue(t);return+(null===i||void 0===i||null===(e=i.replace(/px/g,""))||void 0===e?void 0:e.trim())}},"8b98":function(t,e,i){t.exports={container:"Search_container_2r-dt",outer:"Search_outer_3k7Aq",inner:"Search_inner_1Vl1i",slot:"Search_slot_2PO1e",senior:"Search_senior_19eQR",tab:"Search_tab_WTS8A",btn:"Search_btn_3zZx3",tit:"Search_tit_25gZ3",tt:"Search_tt_1QZu-",tb:"Search_tb_jrA-U",ti:"Search_ti_1SaEz",con:"Search_con_1eG1s",item1:"Search_item1_3EdLN",item2:"Search_item2_5cRdC",item3:"Search_item3_2hrqB",it:"Search_it_7UPAt",icut:"Search_icut_pStiH",i1:"Search_i1_3Qn2u",ick:"Search_ick_8huB3",isch:"Search_isch_vpEn5",i2:"Search_i2_2RKLh",i3:"Search_i3_Kr5na",i3in:"Search_i3in_XHtwd",isp:"Search_isp_10Zq5",text:"Search_text_1rKOm",datePicker:"Search_datePicker_1pZso",placeholder:"Search_placeholder_1zRfa"}},"8bb8":function(t,e,i){t.exports={box:"PublisherTopicSearch_box_2bogV",click:"PublisherTopicSearch_click_eSeAm",iptbox:"PublisherTopicSearch_iptbox_1yleq",ipt:"PublisherTopicSearch_ipt_34xzU",i1:"PublisherTopicSearch_i1_2UXIO",scroll:"PublisherTopicSearch_scroll_1GySF",item:"PublisherTopicSearch_item_4MYUz",hover:"PublisherTopicSearch_hover_33OcK",pic:"PublisherTopicSearch_pic_3IQhR",add:"PublisherTopicSearch_add_3zaaG",cut:"PublisherTopicSearch_cut_1asBj",h3:"PublisherTopicSearch_h3_IVJe7",h4:"PublisherTopicSearch_h4_3GCZK",tab:"PublisherTopicSearch_tab_3097b",tabin:"PublisherTopicSearch_tabin_GG_gU",curr:"PublisherTopicSearch_curr_3pWnq",item2:"PublisherTopicSearch_item2_uJvf4",icon:"PublisherTopicSearch_icon_2JeOA",tip1:"PublisherTopicSearch_tip1_27WRX",tip2:"PublisherTopicSearch_tip2_22d4k"}},"8c89":function(t,e,i){t.exports={tab:"Tabs_tab_2z93T",tab2:"Tabs_tab2_BuCiU"}},"8c95":function(t,e,i){"use strict";var a=i("5bb5"),o=i.n(a);e["default"]=o.a},"8d4e":function(t,e,i){t.exports={box:"FileUpload_box_1QwQN",icon:"FileUpload_icon_1tcjn",file:"FileUpload_file_2YW1a",text:"FileUpload_text_2d5H7"}},"8d5f":function(t,e,i){"use strict";var a=i("db75"),o=i.n(a);e["default"]=o.a},"8d7f":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._l(t.leftTabs,(function(e,a){return i("a-link",{key:a,attrs:{linkType:"old",styleType:"none",href:t.getHref(e)},on:{click:function(t){t.preventDefault()}}},[i("nav-item",{attrs:{icon:e.icon,text:e.title,cur:a===t.curIndex},on:{click:function(i){return t.handle(e,a,"click")}}},[t.unreadCounts[e.gid]?i("woo-badge",{attrs:{color:"rgba(255,130,0,0.09)",fcolor:"#FA6C01",value:t.unreadCounts[e.gid]}}):t._e()],1)],1)})),t.customTabs&&t.customTabs.title?[i("woo-divider",{class:t.$style.split}),i("woo-box",{attrs:{align:"center"}},[i("h3",{class:t.$style.title},[t._v(t._s(t.customTabs.title))]),t.showEditGroupBtn?i("woo-box",{attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return t.showEditGroup(e)}}},[i("woo-button",{attrs:{sort:"line",kind:"primary",size:"xs"}},[i("span",{class:t.$style.editText},[t._v("管理")])])],1):t._e()],1),t._l(t.customList,(function(e,a){return i("a-link",{key:a,attrs:{linkType:"old",styleType:"none",href:t.getHref(e)},on:{click:function(t){t.preventDefault()}}},[i("nav-item",{key:a,attrs:{icon:e.icon,text:e.title,cur:a===t.curIndex-t.leftTabs.length},on:{click:function(i){return t.handleCustom(e,a,"click")}}},[t.unreadCounts[e.gid]?i("woo-badge",{attrs:{color:"rgba(255,130,0,0.09)",fcolor:"#FA6C01",value:t.unreadCounts[e.gid]}}):t._e()],1)],1)})),t.showCollapse?i("woo-button",{class:t.$style.btn,attrs:{fluid:"",sort:"flat",size:"custom-size-side",kind:"custom-btn-side",fonticon:t.isCollapse?"angleDown":"angleUp"},nativeOn:{click:function(e){return e.stopPropagation(),t.toggle(e)}}},[t._v(" "+t._s(t.isCollapse?"展开":"收起")+" ")]):t._e()]:t._e()],2)},o=[],n=(i("99af"),i("4de4"),i("7db0"),i("c740"),i("4160"),i("a630"),i("caad"),i("c975"),i("a15b"),i("d81d"),i("fb6a"),i("a434"),i("b0c0"),i("b64b"),i("d3b7"),i("2532"),i("3ca3"),i("159b"),i("b85c")),s=i("2909"),r=i("5530"),l=i("a1b4"),c=i("cafe"),u=i("2f62"),d=18e4,h=3e3,p={name:"left-nav-home",components:{navItem:c["a"]},data:function(){var t=340,e=40,i=56,a=40,o=document.documentElement.clientHeight-t-i-a,n=3;return o/e>3&&(n=Math.floor(o/e)),{api:"/ajax/feed/allGroups?is_new_segment=1&fetch_hot=1",curIndex:0,curCustomIndex:-1,leftTabs:[],customTabs:[],customList:[],isCollapse:!0,customShowCount:n,isClickTopGroup:!1,isClick:!1,unreadCounts:{},majorGroupTitle:["全部关注","最新微博","特别关注","互相关注"]}},created:function(){var t=this;this.initData(this.routeGid),this.$Bus.$on("change-group-order",this.onChangeGroupOrder),this.$Bus.$on("after-change-group",this.onAfterChangeGroup),setTimeout((function(){t.updateUnredCount()}),h),this.timer=setInterval((function(){t.updateUnredCount()}),d),this.$once("hook:beforeDestroy",(function(){t.$Bus.$off("change-group-order",t.onChangeGroupOrder),t.$Bus.$off("after-change-group",t.onAfterChangeGroup),t.timer&&(clearInterval(t.timer),t.timer=null)}))},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(u["d"])(["access","mediaQ"])),Object(u["c"])(["feedGroup"])),{},{routeGid:function(){return this.$route.query.gid?this.$route.query.gid:""},history:function(){return this.access.history},showEditGroupBtn:function(){return!this.mediaQ.min},showCollapse:function(){var t,e;return this.customShowCount<(null===(t=this.customTabs)||void 0===t||null===(e=t.list)||void 0===e?void 0:e.length)}}),watch:{$route:function(){this.getCurIndex()}},methods:Object(r["a"])(Object(r["a"])({},Object(u["b"])(["setFeedGroup","setHotGroup","setGroupUpdateStatus"])),{},{onChangeGroupOrder:function(t,e){var i=Array.from(this.customTabs.list);i.splice.apply(i,[t,0].concat(Object(s["a"])(i.splice(e,1)))),this.customTabs.list=i,this.setCustomTabs(this.routeGid)},onAfterChangeGroup:function(){var t=this;this.getTabGroup("simple").then((function(){t.getCurIndex(),t.setCustomTabs(t.routeGid)}))},getCurIndex:function(){var t=this.routeGid;if("home"!==this.$route.meta.channel)return this.history.length>=2&&["home","mygroups"].indexOf(this.history[this.history.length-2].name)>-1?void(this.curIndex=this.curIndex):void(this.curIndex=-1);if(this.routeGid||(t=this.leftTabs[0].gid),this.curIndex=this.leftTabs.findIndex((function(e){return e.gid===t})),-1===this.curIndex&&t){var e=this.customTabs.list.findIndex((function(e){return e.gid===t}));this.curIndex=-1!==e?this.customTabs.list.findIndex((function(e){return e.gid===t}))+this.leftTabs.length:0}},setIcons:function(){var t,e=Object(n["a"])(this.leftTabs);try{var i=function(){var e=t.value,i=l.find((function(t){return t.title===e.title}));i&&i.icon&&(e.icon=i.icon)};for(e.s();!(t=e.n()).done;)i()}catch(a){e.e(a)}finally{e.f()}this.customTabs.list.map((function(t,e){return t.icon="navDot",t}))},initData:function(t){var e,i,a,o=this;this.getTabsData(null===(e=this.$store)||void 0===e||null===(i=e.state)||void 0===i||null===(a=i.feed)||void 0===a?void 0:a.needUpdateGroup).then((function(){o.getCurIndex(),o.setCustomTabs(t),o.setGroupUpdateStatus(!1)}))},setCustomTabs:function(t){var e=this;this.customTabs.list&&this.customTabs.list.length&&(this.isCollapse?this.customList=this.customTabs.list.slice(0,this.customShowCount):this.customList=this.customTabs.list,this.customTabs.list.map((function(i,a){i.gid===t&&a+1>e.customShowCount&&(e.isCollapse=!1,e.customList=e.customTabs.list)})))},getTabsData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(i){t.feedGroup&&t.feedGroup.left&&!e?(t.leftTabs=t.feedGroup.left,i()):t.getTabGroup().then((function(){i()}))}))},getTabGroup:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(e){t.$http.get(t.api).then((function(i){if(i.data&&i.data.ok){var a=i.data;a.groups&&a.groups.length&&function(){var i,o=a.groups.find((function(t){return"默认分组"===t.title}));if(null===o||void 0===o?void 0:o.group){var s=JSON.parse(JSON.stringify(o.group));t.leftTabs=t.formatGroup(t.getMajorGroup(s),"feed")}if((null===t||void 0===t||null===(i=t.leftTabs)||void 0===i?void 0:i.length)&&(null===o||void 0===o?void 0:o.group)){var r=t.leftTabs.findIndex((function(t){return"全部关注"===t.title}));r>-1&&(t.leftTabs[r].groups=t.formatGroup(t.getOtherDefaultGroup(o.group),"feed"))}var l=a.groups.find((function(t){return"我的分组"===t.title}));(null===l||void 0===l?void 0:l.group)&&(t.customTabs={title:"自定义分组",list:t.formatGroup(l.group,"feed")}),t.setIcons(),t.setFeedGroup({left:t.leftTabs,custom:t.customTabs});var c=[],u=a.groups.filter((function(t){return["我的频道","频道推荐"].includes(t.title)}));if(null===u||void 0===u?void 0:u.length){var d,h=Object(n["a"])(u);try{for(h.s();!(d=h.n()).done;){var p=d.value;p.group&&p.group.length&&p.group.map((function(t){c.push(t)}))}}catch(f){h.e(f)}finally{h.f()}}c=t.formatGroup(c,"hot"),c=c.filter((function(t){return-1===["1028038999","1028039999","1028038899","1028038799","1028038698","1028038998","1028038997"].indexOf(t.gid)})),t.setHotGroup({key:0,value:c}),e()}()}}))}))},getMajorGroup:function(t){var e=this,i=[];if(null===t||void 0===t?void 0:t.length){var a;if(i=t.filter((function(t){return e.majorGroupTitle.includes(t.title)})),null===(a=i)||void 0===a?void 0:a.length){var o=i.findIndex((function(t){return"互相关注"===t.title}));i[o].title="好友圈"}return i}},getOtherDefaultGroup:function(t){var e=this,i=[];if(null===t||void 0===t?void 0:t.length){i=t.filter((function(t){return!e.majorGroupTitle.includes(t.title)}));var a=t.find((function(t){return"全部关注"===t.title}));return a&&(a.title="全部",i.unshift(a)),i}},formatGroup:function(t,e){var i="",a=[];return(null===t||void 0===t?void 0:t.length)&&t.map((function(o,n){var s=25,l=!1;"feed"===e?0===n&&"10001"===o.gid.slice(0,5)?(i="/ajax/feed/unreadfriendstimeline",t.title="全部关注",s=15,l=!0):i=["11000","11001","11002"].indexOf(o.gid.slice(0,5))>-1?"/ajax/feed/friendstimeline":"/ajax/feed/groupstimeline":"hot"===e&&(i="/ajax/feed/hottimeline");var c=Object(r["a"])(Object(r["a"])({},o),{},{name:o.title,api:i,count:s,loadEmptyPic:l});a=a.concat(c)})),a},handle:function(t,e,i){this.$set(this.unreadCounts,t.gid,0),this.curIndex=e,t&&t.gid&&("10001"===t.gid.slice(0,5)?this.$router.push({name:"home"}):this.$router.push({name:"mygroups",query:{gid:t.gid}})),this.$Bus.$emit("handleHomeNav",t,e,"left")},handleCustom:function(t,e){this.$set(this.unreadCounts,t.gid,0),this.curIndex=4+e,t.gid&&this.$router.push({name:"mygroups",query:{gid:t.gid}}),this.$Bus.$emit("handleHomeNav",t,e,"custom")},toggle:function(){this.isCollapse=!this.isCollapse,this.isCollapse?this.customList=this.customTabs.list.slice(0,this.customShowCount):this.customList=this.customTabs.list},getHref:function(t){var e="";if(t&&t.gid)return e="10001"===t.gid.slice(0,5)?"/":"/mygroups?gid=".concat(t.gid),e},showEditGroup:function(){this.$Bus.$emit("showEditGroup")},updateUnredCount:function(){var t,e,i,a=this,o=(null===(t=this.customTabs)||void 0===t||null===(e=t.list)||void 0===e?void 0:e.map((function(t){return t.gid})))||[],n=this.feedGroup&&this.feedGroup.left&&(null===(i=this.feedGroup.left.filter((function(t){return"特别关注"===t.title||"好友圈"===t.title})))||void 0===i?void 0:i.map((function(t){return t.gid})))||[],s=o.concat(n);this.$http.get("/ajax/message/unreadHint",{params:{group_ids:s.join(",")}}).then((function(t){t.data.ok>0&&t.data.data.groups.forEach((function(t){var e=Object.keys(t)[0];e&&a.$set(a.unreadCounts,e,t[e])}))})).catch((function(){}))},handleVisibilityChange:function(){var t=this;"visible"===document.visibilityState?this.timer||(this.timer=setInterval((function(){t.updateUnredCount()}),d)):this.timer&&(clearInterval(this.timer),this.timer=null)}})},f=p,m=i("d2f1"),v=i("2877");function _(t){this["$style"]=m["default"].locals||m["default"]}var g=Object(v["a"])(f,a,o,!1,_,null,null);e["default"]=g.exports},"8d83":function(t,e,i){t.exports={search:"SearchBtn_search_3SVUu",sipt:"SearchBtn_sipt_3NOip",caret:"SearchBtn_caret_30cm2",incard:"SearchBtn_incard_bdvqc"}},"8d90":function(t,e,i){"use strict";var a=i("b00f"),o=i.n(a);e["default"]=o.a},"8dc0":function(t,e,i){t.exports={cut:"cocreate_cut_2V0j0",pointer:"cocreate_pointer_1as17",t1:"cocreate_t1_20_CK",t2:"cocreate_t2_3ZjPi",t3:"cocreate_t3_1Vws_",face:"cocreate_face_34Bn6",con:"cocreate_con_3Czo_",fold:"cocreate_fold_lUcnP",arrow:"cocreate_arrow_12HmH",list:"cocreate_list_33Khs"}},"8dcc":function(t,e,i){t.exports={box1:"Audio_box1_RScAq",gray1:"Audio_gray1_3iXCT",videobox:"Audio_videobox_3mHji",top1:"Audio_top1_2zsvz",top2:"Audio_top2_2OYE0",top3:"Audio_top3_3ay31",file:"Audio_file_3cvHp",label2:"Audio_label2_2O1qI",add:"Audio_add_1E4Az",icon:"Audio_icon_2c63K",icon2:"Audio_icon2_21rtk",icon1:"Audio_icon1_Iw2ri",switch:"Audio_switch_1wK6a",gray7:"Audio_gray7_38nm9",red:"Audio_red_19NBd",scroll:"Audio_scroll_3UqaL",tagbox:"Audio_tagbox_1Hczh",tag:"Audio_tag_11DvZ",ipt:"Audio_ipt_ZXHuF",text2:"Audio_text2_2CT7H",type:"Audio_type_35uKi",label3:"Audio_label3_B3A28",sort:"Audio_sort_3Jlwc",sortin:"Audio_sortin_pjk8Q",help:"Audio_help_3fohh",helppop1:"Audio_helppop1__VKYo",popc:"Audio_popc_2zLUh",helppop2:"Audio_helppop2_1hSNI",helppop3:"Audio_helppop3_o-2qp",qa:"Audio_qa_209U5",gray2:"Audio_gray2_1SizR",pos:"Audio_pos_2XfuX",layer:"Audio_layer_2cFaW",layer2:"Audio_layer2_-7BSm",unmodal:"Audio_unmodal_ak6fg",fb1:"Audio_fb1_38wxY",tit1:"Audio_tit1_1g3bE",tit2:"Audio_tit2_fdRJn",gap1:"Audio_gap1_2DMAO",gap2:"Audio_gap2_JRGDz",gap3:"Audio_gap3_1xxBi",gap4:"Audio_gap4_1-3UJ",gap5:"Audio_gap5_FkQaO",albumIcon:"Audio_albumIcon_3_39l",line:"Audio_line_1c7wu",btn1:"Audio_btn1_1BFHy",f12:"Audio_f12_1nzI6",top40:"Audio_top40_2ujTy",checkbox:"Audio_checkbox_3ZX8S"}},"8dd5":function(t,e,i){"use strict";var a=i("7243"),o=i.n(a);o.a},"8dda":function(t,e,i){"use strict";var a=i("40ee"),o=i.n(a);e["default"]=o.a},"8e18":function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));i("ac1f"),i("5319"),i("1276");var a=i("ed09");function o(){var t=Object(a["d"])(),e=t.proxy,i=Object(a["a"])((function(){return e.$route.query.rss_url})),o=Object(a["a"])((function(){return e.$route.query.guid})),n=Object(a["a"])((function(){return e.$route.query.autoRss})),s=Object(a["a"])((function(){return"audio"===e.$route.path.split("/")[2]?e.$route.path.split("/")[2]:e.$route.query.entry})),r=Object(a["a"])((function(){return"0"!==e.$route.query.hasnav})),l=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?window.open("https://me.weibo.com/content/video","_blank"):window.open("https://me.weibo.com/content/video")},c=function(){e.$router.replace({route:p?"/upload/audio":"/upload/channel",query:{}}),location.reload()},u=function(){p.value?window.open("https://weibo.com/upload/audio","_blank"):window.open("https://weibo.com/upload/channel","_blank")},d=Object(a["a"])((function(){var t=p.value?"音频":"视频";return{timer:"".concat(t,"已定时成功，将在转码完成后进入定时微博列表"),back:"再发一条".concat(t),edit:"".concat(t,"上传完毕后，会自动替换原有微博"),publisher:"".concat(t,"上传完毕后，会自动发布微博"),another:"再发一条".concat(t),bind:"绑定 RSS 节目"}})),h=Object(a["a"])((function(){return"/upload/channel"===e.$route.path&&!s.value})),p=Object(a["a"])((function(){return"audio"===s.value})),f=Object(a["a"])((function(){return p.value&&"edit"===e.$route.query.entry})),m=Object(a["a"])((function(){return"edit"===s.value})),v=Object(a["a"])((function(){return p.value&&i.value})),_=Object(a["a"])((function(){return v.value&&!o.value})),g=Object(a["n"])("");return{cluster_id:g,goList:l,refresh:c,openBlank:u,hasnav:r,comment:d,isVideo:h,isAudio:p,autoShowRss:n,isRss:v,isRssAll:_,isEdit:m,isAudioEdit:f,entry:s,rss_url:i,guid:o}}},"8e1b":function(t,e,i){"use strict";var a=i("371a"),o=i.n(a);o.a},"8e80":function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_scomment",use:"woo_svg_scomment-usage",viewBox:"0 0 1024 1024",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" id="woo_svg_scomment"><path fill-rule="evenodd" clip-rule="evenodd" fill="currentColor" d="M388.955 646.935l96.063-31.768 410.521-433.879c18.938-21.298 17.987-53.716-2.166-73.863-20.153-20.146-52.492-21.007-73.684-1.962l-410.628 433.61-31.96 95.983a9.387 9.387 0 0011.854 11.879zm475.07-170.137v340.29c0 25.922-21.014 46.937-46.937 46.937H206.912c-25.922 0-46.937-21.014-46.937-46.937V206.912c0-25.922 21.014-46.937 46.937-46.937h363.759c19.442 0 35.202-15.761 35.202-35.202s-15.76-35.203-35.202-35.203H183.444c-51.845 0-93.873 42.029-93.873 93.873v657.113c0 51.845 42.029 93.873 93.873 93.873h657.113c51.845 0 93.873-42.029 93.873-93.873V476.798c0-19.442-15.761-35.202-35.202-35.202s-35.203 15.76-35.203 35.202z" /></symbol>'});s.a.add(r);e["default"]=r},"8ea5":function(t,e,i){t.exports={wrap:"Icon-tip-green_wrap_1x1RB",main:"Icon-tip-green_main_2_aKO"}},"8f44":function(t,e,i){"use strict";var a=i("62fe"),o=i.n(a);e["default"]=o.a},9008:function(t,e,i){t.exports={cut1:"Card1_cut1_3cGSY",cut2:"Card1_cut2_2K7tl",cutout:"Card1_cutout_1CpBi",cpt:"Card1_cpt_20vfj",ccon:"Card1_ccon_1gZ2p",cconin:"Card1_cconin_2NA5E",fixedHeight:"Card1_fixedHeight_1sKgg",cct1:"Card1_cct1_1vtwn",cct2:"Card1_cct2_PACeK",cct3:"Card1_cct3_3gtSF",item:"Card1_item_3fkvK",cocreate:"Card1_cocreate_3oMs2"}},"90f4":function(t,e,i){"use strict";var a=i("94d5"),o=i.n(a);e["default"]=o.a},9136:function(t,e,i){"use strict";var a=i("09ae"),o=i.n(a);e["default"]=o.a},9174:function(t,e,i){"use strict";var a=i("4ebe"),o=i.n(a);e["default"]=o.a},9175:function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_vellipsis",use:"woo_svg_vellipsis-usage",viewBox:"0 0 1024 1024",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" id="woo_svg_vellipsis"><path fill-rule="evenodd" clip-rule="evenodd" fill="currentColor" d="M794.276 582.569c-38.974 0-70.569-31.595-70.569-70.569s31.595-70.569 70.569-70.569 70.569 31.595 70.569 70.569-31.594 70.569-70.569 70.569zm-282.276 0c-38.974 0-70.569-31.595-70.569-70.569s31.595-70.569 70.569-70.569 70.569 31.595 70.569 70.569-31.595 70.569-70.569 70.569zm-282.276 0c-38.974 0-70.569-31.595-70.569-70.569s31.595-70.569 70.569-70.569 70.569 31.595 70.569 70.569-31.595 70.569-70.569 70.569z" /></symbol>'});s.a.add(r);e["default"]=r},9178:function(t,e,i){},"91c4":function(t,e,i){t.exports={picbox:"Avatar_picbox_3eR9S",pic:"Avatar_pic_2m5hm",picin:"Avatar_picin_25yGg",picicon:"Avatar_picicon_-2PGD",editbox:"Avatar_editbox_1EZVM",blt:"Avatar_blt_11Qt8",bltt:"Avatar_bltt_1eGDr",bltb:"Avatar_bltb_1Ss0p",brt:"Avatar_brt_6ckqT",tit:"Avatar_tit_zn1EC",text:"Avatar_text_2nWy9",face:"Avatar_face_2U-SD",face1:"Avatar_face1_3pn-l",face2:"Avatar_face2_3YyRT",file:"Avatar_file_2wv1Z"}},9277:function(t,e,i){t.exports={h3:"MicroReviewSearch_h3_IbFFB",h4:"MicroReviewSearch_h4_2uM1A",box:"MicroReviewSearch_box_4Hyjk",click:"MicroReviewSearch_click_3jV-O",iptbox:"MicroReviewSearch_iptbox_2CAM6",ipt:"MicroReviewSearch_ipt_2JH7j",i1:"MicroReviewSearch_i1_2ewVX",scroll:"MicroReviewSearch_scroll_IdODr",tip:"MicroReviewSearch_tip_KRXU-",item:"MicroReviewSearch_item_Sf-ez",hover:"MicroReviewSearch_hover_3lG2E",pic:"MicroReviewSearch_pic_3sOqS",add:"MicroReviewSearch_add_2ITnz",cut:"MicroReviewSearch_cut_3WjfI",tab:"MicroReviewSearch_tab_1EQ6R",tabin:"MicroReviewSearch_tabin_UnMv6",curr:"MicroReviewSearch_curr_3scrT"}},"928a":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-pop",{class:t.$style.limits,attrs:{show:this.showPopList.visible,align:"end",gap:"8"},scopedSlots:t._u([{key:"ctrl",fn:function(){return[null===t.visibleOnly?i("woo-box",{class:[t.disabled&&t.$style.disabled,t.$style.es],attrs:{align:"center"},nativeOn:{click:function(e){return t.selectVisible()}}},[!t.authority&&!t.mblog_statement||0!==t.visible?i("div",{class:t.$style.text,attrs:{title:t.selectedvisibleText}},[t._v(" "+t._s(t.selectedvisibleText)+" ")]):i("div",{class:t.$style.text,attrs:{title:t.textShow}},[t._v(" "+t._s(t.textShow)+" ")]),i("div",{class:t.$style.angle},[i("woo-fonticon",{class:t.disabled&&t.$style.disabled1,attrs:{value:"caretDown"}})],1)]):i("woo-box",[i("div",{class:t.$style.text1},[t._v(" "+t._s(t.selectedvisibleText)+" ")])])]},proxy:!0}])},[t.showGroup?t.showGroup?i("woo-pop-wrap",{class:t.$style.pop},[i("woo-pop-item",{nativeOn:{click:function(e){e.stopPropagation(),t.showGroup=!1}}},[t._v("返回")]),i("woo-divider"),t._l(t.list,(function(e,a){return i("woo-pop-item",{key:a,nativeOn:{click:function(i){return t.visibleChange(i,5,e.page_objectid)}}},[t._v(t._s(t._f("fliterText")(e.system_name)))])}))],2):t._e():i("woo-pop-wrap",{class:t.auth?t.$style.pop2:t.$style.pop2s},[t._l(t.visibleList,(function(e){return i("woo-pop-item",{key:e.visible,class:e.disabled&&t.$style.disabled1,attrs:{cur:e.visible==t.visible},nativeOn:{click:function(i){i.stopPropagation(),!e.disabled&&t.visibleChange(i,e.visible)}}},[t._v(t._s(e.text))])})),t.showText?i("woo-pop-item",{class:t.$style.spe1,nativeOn:{click:function(e){return e.stopPropagation(),t.changeShowAuthority(e)}}},[i("div",[t._v(t._s(t.text))]),i("woo-fonticon",{attrs:{value:"angleRight"}})],1):t._e()],2),t._e(),t.showAuthority?i("woo-box",{class:t.$style.popc,attrs:{direction:"y"}},[t.showAuth?i("div",[i("div",{class:t.$style.popctit},[t._v("内容认证")]),i("div",{class:t.$style.con},t._l(t.authorityList,(function(e,a){return i("woo-button",{key:a,class:[t.$style.btn,t.authority===e.authority&&t.$style.btn_active],attrs:{sort:"line",kind:"primary",round:!1},nativeOn:{click:function(i){return i.stopPropagation(),t.changeAuthority(e.authority)}}},[t._v(t._s(e.text))])})),1)]):t._e(),t.showStatement?i("div",[i("woo-box",{class:[t.showAuth&&t.$style.con],attrs:{align:"center"}},[i("div",{class:t.$style.popctit},[t._v("内容声明")]),i("Action",{attrs:{size:12,title:"内容声明",desc:t.statement.mblog_statement_tips.join("<br/>")}})],1),i("div",{class:t.$style.con},t._l(t.mblog_statement_list,(function(e,a){return i("woo-button",{key:a,class:[t.$style.btn,t.mblog_statement===e.type&&t.$style.btn_active],attrs:{sort:"line",kind:"primary",round:!1},nativeOn:{click:function(i){return i.stopPropagation(),t.changeStatement(e.type)}}},[t._v(t._s(e.name))])})),1)],1):t._e()]):t._e()],1)},o=[],n=(i("99af"),i("4de4"),i("d81d"),i("b0c0"),i("a9e3"),i("d3b7"),i("5377"),i("ddb0"),i("b85c")),s=i("5530"),r=i("2f62"),l=(i("b64b"),{data:function(){return{showPop:!1,showPopList:{}}},created:function(){var t=this;this.$Bus.$on("closePop",this.closePopHandle),this.$once("hook:beforeDestroy",(function(){t.$Bus.$off("closePop",t.closePopHandle)}))},methods:{closePopHandle:function(){this.closePop()},clickPop:function(){this.showPop||this.$Bus.$emit("closePop"),this.showPop=!this.showPop},closePop:function(){this.showPop=!1;for(var t=0,e=Object.keys(this.showPopList);t<e.length;t++){var i=e[t];this.showPopList[i]=!1}},initShowPopList:function(t){this.showPopList=t},clickPopList:function(t){this.$Bus.$emit("closePop");for(var e=0,i=Object.keys(this.showPopList);e<i.length;e++){var a=i[e];t===a?this.showPopList[t]=!0:this.showPopList[a]=!1}}}}),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-pop",{class:t.$style.help,style:{height:t.size+"px"},attrs:{show:t.showPop,direction:"right",align:"center",gap:"10"},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-fonticon",{class:t.$style.qa,style:{fontSize:t.size+"px"},attrs:{value:"report"},nativeOn:{mouseover:function(e){t.showPop=!0},mouseout:function(e){t.showPop=!1}}})]},proxy:!0}])},[i("div",{staticClass:"wbpro-texta",style:{width:t.width+"px"}},[i("h4",{staticClass:"fb"},[t._v(t._s(t.title))]),i("p",{class:!1,domProps:{innerHTML:t._s(t.desc)}})])])},u=[],d={props:{title:{type:String,default:"划重点说明"},desc:{type:String,default:"若您的微博为公开，并设置为允许划重点，其他用户可在您的视频中划出一个精彩的重点时刻并发微博，发布后将注明视频来源于您，同时产生的播放量会计入您的微博下。"},width:{type:Number,default:268},size:{type:Number,default:16}},data:function(){return{showPop:!1}}},h=d,p=i("a812"),f=i("2877");function m(t){this["$style"]=p["default"].locals||p["default"]}var v=Object(f["a"])(h,c,u,!1,m,null,null),_=v.exports,g={props:{initVisible:{default:0,type:Number},statementAuth:{default:!1,type:Boolean},auth:{default:!1,type:Boolean},disabled:{default:!1,type:Boolean},disabledText:{},filter:{type:Array},visibleOnly:{type:Object,default:null}},mixins:[l],data:function(){return{visible:this.initVisible,authority:0,mblog_statement:0,showGroup:!1,showAuthority:!1,visibleList:[{visible:0,text:"公开",disabled:!1},{visible:10,text:"粉丝",disabled:!1},{visible:6,text:"好友圈",disabled:!1},{visible:1,text:"仅自己可见",disabled:!1},{visible:5,text:"群可见",disabled:!1}],authorityList:[],list:[]}},computed:Object(s["a"])(Object(s["a"])({},Object(r["c"])(["config"])),{},{statement:function(){var t,e;return null===(t=this.config)||void 0===t||null===(e=t.flags)||void 0===e?void 0:e.statement},mblog_statement_list:function(){var t,e,i;return null===(t=this.config)||void 0===t||null===(e=t.flags)||void 0===e||null===(i=e.statement)||void 0===i?void 0:i.mblog_statement_list},textShow:function(){var t=this.authority>0?this.authorityList[this.authority].text:"内容认证",e=this.mblog_statement>0?this.mblog_statement_list[this.mblog_statement].name:"内容声明";return this.showAuth&&this.authority>0&&this.showStatement&&this.mblog_statement>0?"".concat(t," | ").concat(e):this.showAuth&&this.authority>0?t:this.showStatement&&this.mblog_statement>0?e:"内容认证 | 内容声明"},text:function(){var t=this.authority>0?this.authorityList[this.authority].text:"内容认证",e=this.mblog_statement>0?this.mblog_statement_list[this.mblog_statement].name:"内容声明";return this.showAuth&&this.showStatement?"".concat(t," | ").concat(e):this.showAuth?t:this.showStatement?e:"内容认证 | 内容声明"},showText:function(){return this.showAuth||this.showStatement},showStatement:function(){var t,e,i,a;return Boolean((null===(t=this.config)||void 0===t||null===(e=t.flags)||void 0===e||null===(i=e.statement)||void 0===i||null===(a=i.mblog_statement_list)||void 0===a?void 0:a.length)&&this.statementAuth)},showAuth:function(){return this.config.flags&&this.config.flags.content_auth>0&&this.auth},selectedvisibleText:function(){var t=this;return this.visibleOnly?this.visibleOnly.text:this.visibleList.filter((function(e){return e.visible==t.visible}))[0].text}}),watch:{visable:function(t){this.visible=t},filter:function(t){var e=this;this.filter&&this.visibleList.map((function(t,i){t.disabled=e.filter[i]}))}},methods:{close:function(){this.closePop()},authorityVisible:function(){this.authorityList=[{authority:0,text:"无",visible:!0},{authority:1,text:"首发",visible:!1},{authority:2,text:"独家",visible:!1},{authority:3,text:"原创",visible:!1},{authority:4,text:"权威",visible:!1}];for(var t=[0,1,2,4,8],e=function(t,e,i){for(var a=function(t){var e=0;while(t)t&=t-1,e++;return e},o=t.length,n=1<<o,s=[],r=1;r<n;r++)if(a(r)===e){for(var l=0,c=[],u=0;u<o;u++)0!==(r&1<<u)&&(l+=t[u],c.push({value:t[u],i:u}));l===i&&s.push(c)}return s},i=2;i<5;i++){var a=e(t,i,this.config.flags&&this.config.flags.content_auth);if(a[0]){var o,s=Object(n["a"])(a[0].values());try{for(s.s();!(o=s.n()).done;){var r=o.value;this.authorityList[r.i].visible=!0}}catch(l){s.e(l)}finally{s.f()}}}},changeStatement:function(t){this.mblog_statement=t,this.$emit("change","mblog_statement",this.mblog_statement)},changeAuthority:function(t){this.authority=t,this.$emit("change","authority",this.authority)},changeShowAuthority:function(){this.visibleChange(void 0,0,void 0,!1),this.showAuthority=!0},visibleChange:function(t,e,i){var a=this,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(5==e&&!i)return t.stopPropagation(),void this.$http.get("/ajax/mblog/querygroup").then((function(t){t.data.ok&&t.data.data&&(a.list=t.data.data.join_groups,a.showGroup=!0)}));this.authority&&i&&(this.showGroup=!1,this.visible=e,this.$emit("change","visible",this.visible),this.$emit("change","share_id",i)),0!==e&&(this.authority=0,this.mblog_statement=0),this.$emit("change","mblog_statement",this.mblog_statement),this.$emit("change","authority",this.authority),this.visible=e,this.$emit("change","visible",this.visible),this.$emit("change","share_id",i),o&&this.$emit("close")},selectVisible:function(){this.disabled?this.disabledText&&this.$_w_toast({type:"warn",message:this.disabledText}):(this.showGroup=!1,this.clickPopList("visible"),this.showAuthority=!1,this.$emit("beforeSelect"))}},mounted:function(){var t=this;this.authorityVisible(),this.initShowPopList({visible:!1}),window.$CONFIG.user.v_plus&&this.visibleList.push({visible:7,text:"仅V+订阅用户可见",disabled:!1}),this.filter&&this.visibleList.map((function(e,i){e.disabled=t.filter[i]})),null!==this.visibleOnly&&(this.visible=this.visibleOnly.visible)},components:{Action:_}},b=g,y=i("9136");function w(t){this["$style"]=y["default"].locals||y["default"]}var x=Object(f["a"])(b,a,o,!1,w,null,null);e["a"]=x.exports},"92b3":function(t,e,i){"use strict";var a=i("768d"),o=i.n(a);e["default"]=o.a},"92e8":function(t,e,i){"use strict";(function(t){i("d3b7"),i("4d63"),i("ac1f"),i("25f0"),i("5319");var a=i("53ca"),o=1/0,n="[object Symbol]",s=/[&<>"]/g,r=RegExp(s.source),l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},c="object"==("undefined"===typeof t?"undefined":Object(a["a"])(t))&&t&&t.Object===Object&&t,u="object"==("undefined"===typeof self?"undefined":Object(a["a"])(self))&&self&&self.Object===Object&&self,d=c||u||Function("return this")();function h(t){return function(e){return null==t?void 0:t[e]}}var p=h(l),f=Object.prototype,m=f.toString,v=d.Symbol,_=v?v.prototype:void 0,g=_?_.toString:void 0;function b(t){if("string"==typeof t)return t;if(w(t))return g?g.call(t):"";var e=t+"";return"0"==e&&1/t==-o?"-0":e}function y(t){return!!t&&"object"==Object(a["a"])(t)}function w(t){return"symbol"==Object(a["a"])(t)||y(t)&&m.call(t)==n}function x(t){return null==t?"":b(t)}function k(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?$(t):(t=x(t),t&&r.test(t)?t.replace(s,p):t)}function $(t){return t=""+t,t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&#39;/g,"'").replace(/<br \/>/g,"\n")}e["a"]=k}).call(this,i("c8ba"))},"931c":function(t,e,i){t.exports={secBar:"SecBar_secBar_2KHxF",visable:"SecBar_visable_16JHY",dispear:"SecBar_dispear_2cbfe"}},"931c4":function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_image",use:"woo_svg_image-usage",viewBox:"0 0 1024 1024",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" id="woo_svg_image"><path fill-rule="evenodd" clip-rule="evenodd" fill="currentColor" d="M864.845 88.586c51.966 0 94.092 42.127 94.092 94.092v658.644c0 51.966-42.126 94.092-94.092 94.092h-705.69c-51.966 0-94.092-42.126-94.092-94.092V182.678c0-51.966 42.126-94.092 94.092-94.092h705.69zM330.92 597.153L139.912 788.222a35.635 35.635 0 01-4.231 3.618l-.049 49.482c0 12.991 10.532 23.523 23.523 23.523h439.457L330.92 597.153zm329.322-126.271L482.361 648.81l208.814 208.799a35.324 35.324 0 015.579 7.242l168.091-.006c12.991 0 23.523-10.532 23.523-23.523l.034-150.325a35.124 35.124 0 01-17.605-9.566L660.242 470.882zm204.603-311.727h-705.69c-12.991 0-23.523 10.532-23.523 23.523v509.979L306.245 522.09c13.779-13.779 36.12-13.779 49.9 0a35.173 35.173 0 017.89 12.019c4.003 1.649 7.802 4.162 11.108 7.468l57.302 57.317 203.122-203.082c13.779-13.779 36.12-13.779 49.9 0a35.17 35.17 0 017.893 12.027c4 1.641 7.799 4.154 11.105 7.46l183.903 183.877V182.678c0-12.992-10.531-23.523-23.523-23.523zM370.862 276.77c38.974 0 70.569 31.595 70.569 70.569s-31.595 70.569-70.569 70.569c-38.974 0-70.569-31.595-70.569-70.569s31.595-70.569 70.569-70.569z" /></symbol>'});s.a.add(r);e["default"]=r},9325:function(t,e,i){t.exports={icon:"IconVip_icon_2tjdp"}},9350:function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_nav_fold",use:"woo_svg_nav_fold-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="woo_svg_nav_fold"><path d="M13.5 11.5a1 1 0 010 2h-11a1 1 0 010-2h11zm0-4.5a1 1 0 010 2h-11a1 1 0 110-2h11zm0-4.5a1 1 0 010 2h-11a1 1 0 110-2h11z" fill="currentColor" fill-rule="evenodd" /></symbol>'});s.a.add(r);e["default"]=r},9382:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-pop",{attrs:{show:t.showBubble,direction:t.direction,align:t.align,gap:t.gap,alignGap:t.alignGap,bubble:"",hasClose:!1,width:t.width},nativeOn:{click:function(e){return t.closeBubble(e)}},scopedSlots:t._u([{key:"ctrl",fn:function(){return[t._t("ctrl")]},proxy:!0}],null,!0)},[i("woo-box",{class:t.$style.box},[t._v(" "+t._s(t.content)+" "),t.check?i("woo-fonticon",{class:t.$style.close,attrs:{value:"cross"}}):t._e()],1)],1)},o=[],n=(i("a9e3"),i("5377"),{props:{flag:{type:Number,default:1},show:{type:Boolean,default:!1},content:{type:String,default:"新功能"},configkey:{type:String,default:""},timeout:{type:Number,default:5},direction:{type:String,default:"down"},align:{type:String,default:"end"},gap:{type:Number,default:10},alignGap:{type:Number,default:15},check:{type:Boolean,default:!0},width:{type:Number,default:200}},data:function(){return{showBubble:!1}},watch:{flag:{handler:function(t){var e=this;0===t?(this.showBubble=!0,setTimeout((function(){e.closeBubble()}),1e3*this.timeout)):this.showBubble=!1},immediate:!0}},methods:{closeBubble:function(){var t=this;this.showBubble=!1,this.configkey&&this.$http.post("/ajax/changekey",{key:this.configkey}).then((function(e){var i=e.data;i.ok>0&&i.data&&i.data.result&&(window.$CONFIG.flags[t.configkey]=1)}))}}}),s=n,r=i("9174"),l=i("2877");function c(t){this["$style"]=r["default"].locals||r["default"]}var u=Object(l["a"])(s,a,o,!1,c,null,null);e["a"]=u.exports},"93ce":function(t,e,i){t.exports={container:"CollectItem_container_R9li7",tag:"CollectItem_tag_1dZKy"}},9435:function(t,e,i){"use strict";i("99af"),i("a623"),i("4de4"),i("c975"),i("a15b"),i("d81d"),i("b64b"),i("d3b7"),i("07ac"),i("ac1f"),i("25f0"),i("466d"),i("841c"),i("498a"),i("ddb0"),i("96cf");var a=i("1da1"),o=i("3835"),n=i("b85c"),s=i("5530"),r=i("2f62"),l=i("4328"),c=i.n(l),u=i("fc8e"),d=i.n(u),h=i("92e8");e["a"]={data:function(){return{content:"",pic_id:"",pic_focus_point:[],media:{},vote:{},share_id:"",authority:0,formCount:{count:0,maxcount:0},textCount:0,time:Date.now(),ModifyPic:"",toolAction:this.set&&this.set.action?this.set.action:"",schedule_timestamp:0,schedule_timestamp_init:0,schedule_id:"",pasteImage:[],ispost:!1,visible:0,dataEmpty:!0}},computed:{publishData:function(){var t,e=this.title,i=this.content,a=this.pic_id,o=this.vote,n=this.media,s=this.visible,r=this.schedule_id;this.set&&"modify"===this.set.action||this.set&&"schedule"===this.set.action&&this.set.data&&this.set.data.schedule_id?(i=i.trim()===this.set.data.content.trim(),a=a===(null===(t=this.set.data.pic_id)||void 0===t?void 0:t.join(","))):(e=""===e,i=""===i,a=""===a);var l={title:e,content:i,pic_id:a,vote:0===Object.keys(o).length,media:0===Object.keys(n).length&&!(this.set&&this.set.data&&this.set.data.videoImage),visible:s,vote_exist:o&&o.exist,schedule_id:r};return this.goodsTagList&&(l.goodsTagList=0===this.goodsTagList.length),l},sendDisabled:function(){return!!this.ispost||(0==this.formCount.count||this.formCount.count>this.formCount.maxcount)}},methods:Object(s["a"])(Object(s["a"])({},Object(r["b"])(["setPublisherCallBack","setPublisherModifyCallback"])),{},{show:function(){this.visible=!0},hide:function(){this.visible=!1},pasteImg:function(t){"{}"===JSON.stringify(this.media)&&"{}"===JSON.stringify(this.vote)&&(this.pasteImage=t)},imageChange:function(t,e){var i=this;"end"==t||"remove"==t?(i.pic_focus_point=[],i.pic_id=e.map((function(t){return t.crop&&i.pic_focus_point.push({pic_id:t.pid,foucs_point:t.crop.per}),t}))):"change"==t?this.pic_id=e:"start"==t&&(this.pasteImage.length&&(this.pasteImage=[]),this.pic_id="loading")},handlePic:function(){return this.pic_id.length?JSON.stringify(this.pic_id.map((function(t){return{type:t.type,media_id:t.media_id,pid:t.pid,short_url:t.short_url,media_group_id:t.media_group_id}}))):""},videoChange:function(t){switch(t[0]){case"success":this.media=t[1];break}},toolbarChange:function(t,e){switch(t){case"image":"{}"===JSON.stringify(this.media)&&"{}"===JSON.stringify(this.vote)&&this.$refs.image.showFiles();break;case"emoticon":this.$refs.emoticon.show();break;case"article":window.open("https://card.weibo.com/article/v3/editor");break;case"ask":window.open("https://weibo.com/ttwenda/p/publisher3in1#/free");break;case"fresh":window.open("https://mp.weibo.com/xian/fresh/all");break;case"live":window.open("https://live.media.weibo.com/p/admin");break;case"vote":"{}"===JSON.stringify(this.media)&&""===this.pic_id&&this.$refs.votepop.show(this.vote);break;case"video":"{}"===JSON.stringify(this.vote)&&""===this.pic_id&&(this.media.titles?this.$refs.videopop.show():this.$refs.videopop.showFiles());break;case"visible":this.visible=e;break;case"share_id":this.share_id=e;break;case"at":this.$refs.form.inserText("@"),this.$refs.form.click();break;case"hash":this.$refs.form.inserText("#"),this.$refs.form.click();break;case"timer":this.schedule_timestamp=Date.now()+6e5,this.schedule_timestamp_init=Date.now()+6e5;break;case"place":this.$refs.place.show();break;case"authority":this.authority=e;break;case"rotateR":this.$refs.micropop.show()}},handleVote:function(){if(this.vote.exist)return{};if(this.vote.title){var t=[];if(this.vote.pictextOptions[0]&&this.vote.pictextOptions[0].src){var e,i=Object(n["a"])(this.vote.pictextOptions.entries());try{for(i.s();!(e=i.n()).done;){var a=Object(o["a"])(e.value,2),s=a[0],r=a[1];t.push({}),t[s].content=r.label,t[s].pid=r.src.match(/\/(\w+).jpg/)[1],t[s].pic=r.src}}catch(m){i.e(m)}finally{i.f()}}else{var l,c=Object(n["a"])(this.vote.textOptions.entries());try{for(c.s();!(l=c.n()).done;){var u=Object(o["a"])(l.value,2),d=u[0],h=u[1];t.push({}),t[d].content=h}}catch(m){c.e(m)}finally{c.f()}}var p="";p=-1===this.vote.endTimeOption.type.value?this.vote.endTime:Date.now()+864e5*this.vote.endTimeOption.type.value;var f={content:this.vote.title,vote_type:"text"===this.vote.type?0:1,expired_date:Math.floor(p/1e3),vote_list:t};return JSON.stringify(f)}return""},handleMedia:function(){return this.media&&this.media.covers&&this.media.covers[0].url&&delete this.media.covers[0].url,Object.keys(this.media).length?JSON.stringify(this.media):""},handleMReview:function(){if(0!==Object.keys(this.media).length||""!==this.pic_id)return{review_object_title:JSON.stringify(this.goodsTagList.map((function(t){return"".concat(t.data.title)}))),review_oid:this.goodsTagList.map((function(t){return t.data.object_id})).toString()};this.$_w_toast({type:"warn",message:"发布评测<br>请添加图片或视频"})},formChange:function(t){this.content=t},toolbarPublish:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var i,a,o,n,s,r,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.ispost=!0,e.prev=1,i=t.handleVote&&t.handleVote(),a=t.handleMedia(),o=t.toolAction?"modify":"update",!t.schedule_timestamp_init||"schedule"!==t.toolAction||!t.schedule_id){e.next=9;break}o="schedule/edit",e.next=15;break;case 9:if(!t.schedule_timestamp){e.next=15;break}if(!(t.schedule_timestamp-Date.now()<54e4)){e.next=14;break}return t.$_w_toast({type:"error",message:"只能发 10 分钟后的定时微博"}),t.ispost=!1,e.abrupt("return");case 14:o="schedule/upload";case 15:if("loading"!==t.pic_id){e.next=18;break}return t.$_w_toast({type:"error",message:"图片正在上传中，请稍后"}),e.abrupt("return");case 18:if(n={content:t.title?"".concat(t.title,"\n").concat(t.content):t.content,pic_id:t.handlePic(),visible:t.visible,share_id:t.share_id,media:a,vote:i},t.pic_focus_point.length&&(n.pic_focus_point=JSON.stringify(t.pic_focus_point)),void 0===t.review_oid){e.next=27;break}if(s=t.handleMReview(),s){e.next=25;break}return t.ispost=!1,e.abrupt("return");case 25:n.review_object_title=s.review_object_title,n.review_oid=s.review_oid;case 27:return"modify"===t.toolAction&&(n.mid=t.set.data.mid),t.authority&&(n.auth_state=t.authority),t.topicItem&&(n.topic_id=t.topicItem.topic_id,t.sync_mblog?n.sync_mblog=1:n.sync_mblog=0),t.schedule_timestamp&&(n.schedule_timestamp=t.schedule_timestamp,"timer"===t.toolAction&&(n.showBatch=1)),"schedule"===t.toolAction&&(n.schedule_id=t.schedule_id),e.next=34,d.a.post("/ajax/statuses/".concat(o),c.a.stringify(n));case 34:r=e.sent,Object.keys(t.media).length&&t.$refs.videopop.updateMd5(t.media.media_id),t.ispost=!1,r&&r.data&&r.data.error?r.data.msg?t.$_w_toast({type:"error",message:r.data.msg}):t.$_w_toast({type:"error",message:r.data.error}):r&&r.data&&r.data.ok>0?r.data.error?t.$_w_toast({type:null,message:r.data.msg}):(t.storge&&localStorage.setItem("from_content",""),l=r.data.msg?r.data.msg:"".concat(t.toolAction?"编辑":"发布","成功"),t.$_w_toast({type:"success",message:l}),t.$emit("change","close"),"update"===o?Object.keys(t.media).length||t.topicItem&&!t.sync_mblog||t.setPublisherCallBack(r.data):"schedule/edit"===o?t.set.data.callback.callback(t.set.data.callback.index,r.data.data):"modify"===t.toolAction?(r.data.data.longTextContent=r.data.data.longText&&r.data.data.longText.longTextContent,t.setPublisherModifyCallback(r.data)):"timer"===t.toolAction&&t.set.data.callback.callback(r.data.data),t.set&&t.set.data&&t.set.data.log&&t.actionLog(t.set.data.log),Object.assign(t.$data,t.$options.data()),localStorage.getItem("micro_review")&&localStorage.setItem("micro_review",""),t.handleConfig&&t.handleConfig(),t.time=Date.now(),t.topicItem&&(t.topicItem=void 0)):r&&r.data&&0===r.data.ok&&t.$_w_toast({type:"error",message:"稍后再试"}),e.next=43;break;case 40:e.prev=40,e.t0=e["catch"](1),t.$_w_toast({type:"error",message:"稍后再试"});case 43:t.ispost=!1;case 44:case"end":return e.stop()}}),e,null,[[1,40]])})))()},videoEdit:function(){this.$refs.videopop.show(!1)},videoClose:function(){this.media={}},formTextCount:function(t){var e=t.count,i=t.maxcount;this.formCount={count:e,maxcount:i}},timerChange:function(t){this.schedule_timestamp=t},timerClose:function(){this.schedule_timestamp_init=0,this.schedule_timestamp=0},emoticonChange:function(t){"→_→"===t.text?this.$refs.form.inserText(t.text):"[最右]"===t.phrase?this.$refs.form.inserText("→_→"):this.$refs.form.inserText("[".concat(t.text,"]"))},hideAllLayer:function(t){this.$refs.tools&&this.$refs.tools.hideAllLayer(),"emotion"!==t&&this.$refs.emoticon&&this.$refs.emoticon.hide(),this.$refs.videopop&&this.$refs.videopop.hide(),this.$refs.votepop&&this.$refs.votepop.hide(),this.$refs.place&&this.$refs.place.hide(),this.$refs.search&&this.$refs.search.hide()},initData:function(){var t=this;if(this.set&&0!==Object.keys(this.set).length&&setTimeout((function(){t.$refs.form.onhead(!t.set.data||void 0===t.set.data.onhead||t.set.data.onhead)}),300),this.set&&this.set.data){var e,i,a;if(this.toolAction=this.set.action?this.set.action:"",this.set.data.content&&(this.set.data.content=Object(h["a"])(this.set.data.content,!0)),this.content=this.set.data.content?this.set.data.content:"",this.visible=this.set.data.visable?this.set.data.visable:0,this.schedule_id=this.set.data.schedule_id?this.set.data.schedule_id:"",this.schedule_timestamp_init=this.set.data.schedule_timestamp?this.set.data.schedule_timestamp:0,this.set.data.url_struct){var n=this.set.data.url_struct.filter((function(t){return t.pic_ids})),s=Object(o["a"])(n,1);a=s[0]}this.ModifyPic={pic_id:this.set.data.pic_id||a?(null===(e=this.set.data.pic_id)||void 0===e?void 0:e.join(","))||(null===(i=a)||void 0===i?void 0:i.pic_ids.join(",")):"",pic_focus_point:this.set.data.pic_focus_point},this.set.data.page_title&&-1!==this.set.data.url_struct[0].url_title.indexOf("的微博投票")&&(this.vote={title:this.set.data.page_title,exist:!0,short_url:this.set.data.url_struct[0].short_url})}}}),watch:{schedule_timestamp:function(t){t?"timer"!==this.toolAction&&(this.toolAction="schedule"):this.toolAction="modify"===this.toolAction?"modify":""},publishData:{handler:function(t){var e=t.visible,i=t.vote_exist,a=t.schedule_id;delete t.schedule_id,delete t.visible,delete t.vote_exist,Object.values(t).every((function(t){return t}))?(this.dataEmpty=!0,this.$emit("change","date",!0)):(this.dataEmpty=!1,this.$emit("change","date",!1)),t.schedule_id=a,t.visible=e,t.vote_exist=i},deep:!0}}}},9443:function(t,e,i){"use strict";var a=i("fa84"),o=i.n(a);e["default"]=o.a},"944f":function(t,e,i){"use strict";var a=i("93ce"),o=i.n(a);e["default"]=o.a},"94c8":function(t,e,i){t.exports={hide:"cardProfile_hide_26yla",top:"cardProfile_top_3RFmD",pic:"cardProfile_pic_1h9rF",num:"cardProfile_num_2xaVN",item:"cardProfile_item_1ushw",avaImgBox:"cardProfile_avaImgBox_1Q1Ef",cursor:"cardProfile_cursor_36Qay",vertifyBox:"cardProfile_vertifyBox_7ajIB",con2:"cardProfile_con2_1MF_q",unRead:"cardProfile_unRead_23Mxj"}},"94d5":function(t,e,i){t.exports={scroll3:"Feedback_scroll3_1XFYi",item:"Feedback_item_a2SlO",content:"Feedback_content_2qxMq",picbed:"Feedback_picbed_3RZ1v",btn:"Feedback_btn_uiXXs",cancel:"Feedback_cancel_3pJTX",num:"Feedback_num_30oVL",cur:"Feedback_cur__b8-H",desc:"Feedback_desc_xpSeG",feedbackBox:"Feedback_feedbackBox_bzku2"}},"957f":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-modal",{directives:[{name:"show",rawName:"v-show",value:t.visable,expression:"visable"}],attrs:{animation:"slide-bottom","lock-screen":t.lockScreen},nativeOn:{click:function(e){return e.stopPropagation(),t.clickModal(e)}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.videoEdit,expression:"!videoEdit"}],ref:"video",staticClass:"wbpro-layer"},[i("woo-panel",{attrs:{border:"bottom"}},[i("woo-box",{staticClass:"wbpro-layer-tit"},[i("woo-box-item",{staticClass:"wbpro-layer-tit-text",attrs:{align:"center"}},[t._v("上传视频")])],1)],1),i("div",{ref:"videoScroll",staticClass:"modal-scroll",staticStyle:{height:"400px",overflow:"auto"},on:{touchmove:function(t){t.stopPropagation()}}},[i("div",{class:t.$style.videobox},[i("div",{class:t.$style.text1},[t._v(" 请上传15GB以下的视频，请勿上传色情，反动等违法视频 ")]),i("div",{class:t.$style.top1},[i("VideoUpload",{ref:"video_upload",attrs:{screenshot:t.screenshot.url},on:{edit:function(e){t.videoEdit=!0},"video-change":function(e){return t.uploadChange(arguments)}}})],1),i("div",{staticClass:"wbpro-form",class:[t.$style.top1,t.titleStatus],style:"margin-top: 30px",on:{click:function(e){return e.stopPropagation(),t.titleFocus(e)}}},[i("woo-box",[t.title&&"focus"!=t.titleStatus.value?t._e():i("span",{class:t.$style.sp1},[t._v("*")]),i("woo-box-item",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],ref:"titleInput",attrs:{type:"text",placeholder:"填写标题（6～30个字）",selectionEnd:""},domProps:{value:t.title},on:{blur:t.titleBlur,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.titleBlur(e)},keypress:function(t){t.stopPropagation()},input:function(e){e.target.composing||(t.title=e.target.value)}}})]),i("div",{staticClass:"num",domProps:{textContent:t._s(t.titleNumber+"/30")}})],1)],1),i("VideoScreenshot",{attrs:{edit:t.videoEdit,screenArray:t.screenArray,screenshot:t.screenshot.url,horizontal:t.horizontal,channel:!0,showSelect:!1},on:{edit:t.changeEdit,change:function(e){return t.changeVideoEdit(arguments)}}}),i("div",[i("div",{class:t.$style.top2},[i("woo-box",{class:t.$style.switch,attrs:{align:"center"}},[i("woo-box-item",{attrs:{align:"center"}},[i("woo-box",{attrs:{align:"center"}},[i("div",{class:t.$style.gray1},[t._v("合集")]),i("woo-pop",{class:t.$style.help,attrs:{show:t.showAlbumPop,flow:"",direction:"right",align:"center",gap:"10"},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-fonticon",{class:t.$style.qa,attrs:{value:"qaCircle"},nativeOn:{mouseover:function(e){t.showAlbumPop=!0},mouseout:function(e){t.showAlbumPop=!1}}})]},proxy:!0}])},[i("div",{staticClass:"wbpro-texta",class:t.$style.helppop1},[i("h4",{staticClass:"fb"},[t._v("微博合集")]),i("p",[t._v(" 1、合集功能可以让你对自己的视频作品进行分类管理。 "),i("br"),t._v("2、发布视频时可以自己新建合集，也可以将视频加入到已创建的合集中。 "),i("br"),t._v("3、制作优秀的合集会被推荐到微博视频精选频道，让你获得更多的曝光和涨粉机会；视频被推荐的唯一标准是视频质量，不受粉丝量影响。 ")])])])],1)],1),i("div",[i("woo-switch",{ref:"checkAlbumRef",attrs:{size:.6875},model:{value:t.checkAlbum,callback:function(e){t.checkAlbum=e},expression:"checkAlbum"}})],1)],1),t.checkAlbum?i("div",[i("woo-divider",{class:t.$style.top2}),i("div",{class:t.$style.scroll},[t._l(t.albumList,(function(e,a){return i("woo-box",{key:a,class:t.$style.top1,attrs:{align:"center"}},[i("woo-checkbox",{class:t.$style.label2,attrs:{value:"check1"},model:{value:e.checked,callback:function(i){t.$set(e,"checked",i)},expression:"item.checked"}}),i("woo-box-item",[i("div",{staticClass:"wbpro-form"},[i("woo-box",{attrs:{align:"center"}},[i("woo-fonticon",{class:t.$style.icon1,attrs:{value:"album"}}),i("woo-box-item",[i("input",{attrs:{type:"text",disabled:""},domProps:{value:e.value},on:{keypress:function(t){t.stopPropagation()}}})])],1)],1)])],1)})),t.checkAddAlbum?i("woo-box",{class:t.$style.top1,attrs:{align:"center"}},[i("woo-checkbox",{class:t.$style.label2,attrs:{value:"check2",disabled:t.addAlbumObj.disabled},model:{value:t.addAlbumObj.checked,callback:function(e){t.$set(t.addAlbumObj,"checked",e)},expression:"addAlbumObj.checked"}}),i("woo-box-item",[i("div",{staticClass:"wbpro-form focus",class:{error:t.addAlbumObj.error}},[i("woo-box",{attrs:{align:"center"}},[i("woo-fonticon",{class:t.$style.icon1,attrs:{value:"album"}}),i("woo-box-item",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.addAlbumObj.message,expression:"addAlbumObj.message"}],ref:"addAlbumInput",attrs:{type:"text"},domProps:{value:t.addAlbumObj.message},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addAlbumEnter(e)},blur:t.addAlbumEnter,keypress:function(t){t.stopPropagation()},input:function(e){e.target.composing||t.$set(t.addAlbumObj,"message",e.target.value)}}})]),t.addAlbumObj.error?i("div",{staticClass:"num",domProps:{textContent:t._s(t.addAlbumObj.number+"/12")}}):t._e()],1)],1)])],1):t._e()],2),i("div",{class:t.$style.add},[i("woo-fonticon",{class:t.$style.icon,attrs:{value:"add"}}),i("span",{on:{click:function(e){return e.stopPropagation(),t.addAlbum(e)}}},[t._v("新建合集")])],1)],1):t._e()],1),i("woo-divider",{class:t.$style.top2}),t.showCheckVideoTail?i("div",{class:t.$style.top2},[i("woo-box",{class:t.$style.switch,attrs:{align:"center"}},[i("woo-box-item",{attrs:{align:"center"}},[i("woo-box",{attrs:{align:"center"}},[i("div",{class:t.$style.gray1},[t._v("片尾")]),i("woo-pop",{class:t.$style.help,attrs:{show:t.showCheckVideoTailPop,flow:"",direction:"right",align:"center",gap:"10"},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-fonticon",{class:t.$style.qa,attrs:{value:"qaCircle"},nativeOn:{mouseover:function(e){t.showCheckVideoTailPop=!0},mouseout:function(e){t.showCheckVideoTailPop=!1}}})]},proxy:!0}],null,!1,2661667204)},[i("div",{staticClass:"wbpro-texta",class:[t.$style.helppop1,t.$style.helppop3]},[i("h4",{staticClass:"fb"},[t._v("微博片尾")]),i("p",{class:t.$style.fb1},[t._v(" 开启片尾，增加更多粉丝和互动 ")]),i("AfterPatch",{attrs:{type:"bg1"}})],1)])],1)],1),i("div",[i("woo-switch",{ref:"checkVideoTailRef",attrs:{size:.6875},model:{value:t.checkVideoTail,callback:function(e){t.checkVideoTail=e},expression:"checkVideoTail"}})],1)],1)],1):t._e(),i("woo-divider",{class:t.$style.top2}),i("div",{ref:"contribution",class:t.$style.top2},[i("woo-box",{class:t.$style.switch,attrs:{align:"center"}},[i("woo-box-item",{attrs:{align:"center"}},[i("woo-box",{attrs:{align:"center"}},[i("div",{class:t.$style.gray1},[t._v(" 投稿到合适的频道，增加曝光和收益 ")])])],1),i("div",[i("woo-switch",{attrs:{size:.6875},model:{value:t.checkExposure,callback:function(e){t.checkExposure=e},expression:"checkExposure"}})],1)],1),t.checkExposure?i("div",[i("woo-divider",{class:t.$style.top2}),i("woo-box",{class:t.$style.top2},[i("div",{class:t.$style.dt},[i("span",{class:t.$style.sp1},[t._v("*")]),t._v("频道 ")]),i("woo-box-item",[i("woo-box",{staticClass:"wbpro-select wbpor-pos error",class:t.$style.sort,attrs:{align:"center"},nativeOn:{click:function(e){e.stopPropagation(),t.showChannel=!0}}},[i("woo-box-item",{attrs:{align:"center"}},[t._v(t._s(t.channelText))]),i("woo-box",{staticClass:"opt",attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"caretDown"}})],1),t.showChannel?i("VideoSort",{ref:"videoSort",attrs:{list:t.channelList},on:{change:function(e){return t.modifyChannel(arguments)}}}):t._e()],1)],1)],1),i("woo-divider",{class:t.$style.top2}),i("woo-box",{class:t.$style.top2},[i("div",{class:t.$style.dt},[i("span",{class:t.$style.sp1},[t._v("*")]),t._v("标签 ")]),i("woo-box-item",[i("div",{staticClass:"wbpro-form",class:t.tagStatus,on:{click:function(e){return e.stopPropagation(),t.tagFocus(e)}}},[i("div",{class:t.$style.tagbox},[t._l(t.tagList,(function(e,a){return i("VideoTag",{key:a,class:t.$style.tag,on:{change:function(e){return t.closeTag(a)}}},[t._v(t._s(e))])})),i("input",{directives:[{name:"model",rawName:"v-model",value:t.tagInput,expression:"tagInput"}],ref:"addTagInput",class:t.$style.ipt,attrs:{type:"text",placeholder:"请填写标签关键词（1～10个字）"},domProps:{value:t.tagInput},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTag()},blur:t.tagBlur,keypress:function(t){t.stopPropagation()},input:function(e){e.target.composing||(t.tagInput=e.target.value)}}})],2)])])],1),i("woo-box",{directives:[{name:"show",rawName:"v-show",value:t.recommendTagList&&t.recommendTagList.length,expression:"recommendTagList && recommendTagList.length"}]},[i("div",{class:t.$style.text2},[t._v("推荐标签：")]),i("woo-box-item",t._l(t.recommendTagList,(function(e,a){return i("VideoTag",{key:a,class:t.$style.tag,attrs:{close:!1},on:{change:function(i){return t.changeVideoTag(i,e,a)}}},[t._v(t._s(e))])})),1)],1),i("woo-divider",{class:t.$style.top2}),i("div",[t.channel_ids?i("div",[i("woo-box",{class:t.$style.top2,attrs:{align:"center"}},[i("div",{class:[t.$style.dt,t.$style.dt1]},[i("span",{class:t.$style.sp1},[t._v("*")]),t._v("类型 ")]),t._l(t.videoTypeDesc,(function(e,a){var o;return i("div",{key:a,class:t.$style.top3},[e.show?i("woo-radio",{class:(o={},o[t.$style.label3]=!0,o[t.$style.gray1]=a==t.type,o),attrs:{value:a,size:"16"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v(t._s(e.name))]):t._e()],1)}))],2),i("woo-divider",{class:t.$style.top2}),0===t.type?i("woo-box",{class:t.$style.top2},[i("div",{class:t.$style.dt},[i("span",{class:t.$style.sp1},[t._v("*")]),t._v("自制类型 ")]),i("woo-box-item",[i("woo-box",{staticClass:"wbpro-select wbpor-pos error",class:t.$style.sort,attrs:{align:"center"},nativeOn:{click:function(e){e.stopPropagation(),t.showManMake=!0}}},[i("woo-box-item",{attrs:{align:"center"}},[t._v(t._s(t.manMakeSelect?t.videoManMake[t.manMakeSelect].name:"请选择合适的自制类型"))]),i("woo-box",{staticClass:"opt",attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"caretDown"}})],1),i("woo-pop",{ref:"manMakeRef",class:t.$style.pos,attrs:{show:t.showManMake}},[i("woo-pop-wrap",t._l(t.videoManMake,(function(e,a){return i("woo-pop-item",{key:a,nativeOn:{click:function(e){return e.stopPropagation(),t.changeManMake(a)}}},[t._v(" "+t._s(e.name)+" "),i("div",{class:t.$style.gray2},[t._v(" "+t._s(e.desc)+" ")])])})),1)],1)],1)],1)],1):t._e(),0===t.type?i("woo-divider",{class:t.$style.top2}):t._e(),1===t.type&&t.videoTypeDesc[1].show?i("woo-box",{class:t.$style.top2},[i("div",{class:t.$style.dt},[t._v(" 来源 ")]),i("woo-box-item",[i("TextInput",{class:[t.titleStatus],attrs:{placeholder:"注明来源网址，请勿转载站内视频",text:t.video_source,maxOptionLen:200,error:t.video_source_error},on:{change:function(e){t.video_source=e}}})],1)],1):t._e(),0==t.manMakeSelect?i("woo-box",{class:[t.$style.switch,t.$style.top2],attrs:{align:"center"}},[i("woo-box-item",{attrs:{align:"center"}},[i("woo-box",{attrs:{align:"center"}},[i("div",{class:t.$style.gray1},[t._v("水印")]),i("woo-pop",{class:t.$style.help,attrs:{show:t.watermarkPop,flow:"",direction:"right",align:"center",gap:"10"},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-fonticon",{class:t.$style.qa,attrs:{value:"qaCircle"},nativeOn:{mouseover:function(e){t.watermarkPop=!0},mouseout:function(e){t.watermarkPop=!1}}})]},proxy:!0}],null,!1,2623007108)},[i("div",{staticClass:"wbpro-texta",class:t.$style.helppop1},[i("h4",{staticClass:"fb"},[t._v("水印说明")]),i("p",{class:!1},[t._v(" 将展示在视频右上角，以防视频被盗用。 ")])])])],1)],1),i("div",[i("woo-switch",{attrs:{size:.6875},model:{value:t.social_video_watermark,callback:function(e){t.social_video_watermark=e},expression:"social_video_watermark"}})],1)],1):t._e(),0==t.manMakeSelect||1===t.type&&t.videoTypeDesc[1].show?i("woo-divider",{class:t.$style.top2}):t._e(),i("woo-box",{class:[t.$style.switch,t.$style.top2],attrs:{align:"center"}},[i("woo-box-item",{attrs:{align:"center"}},[i("woo-box",{attrs:{align:"center"}},[i("div",{class:t.$style.gray1},[t._v("转载权限")]),i("woo-pop",{class:t.$style.help,attrs:{show:t.showWeiboRepost,flow:"",direction:"right",align:"center",gap:"10"},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-fonticon",{class:t.$style.qa,attrs:{value:"qaCircle"},nativeOn:{mouseover:function(e){t.showWeiboRepost=!0},mouseout:function(e){t.showWeiboRepost=!1}}})]},proxy:!0}],null,!1,3277408324)},[i("div",{staticClass:"wbpro-texta",class:t.$style.helppop1},[i("h4",{staticClass:"fb"},[t._v("转载权限说明")]),i("p",{class:!1},[t._v(" 打开该权限会在视频播放页显示，未经作者授权禁止转载。 ")])])])],1)],1),i("div",[i("woo-switch",{attrs:{size:.6875},model:{value:t.forward_strategy,callback:function(e){t.forward_strategy=e},expression:"forward_strategy"}})],1)],1),i("woo-divider",{class:t.$style.top2})],1):t._e(),t.play_config&&t.play_config.follower_watch_entire&&t.duration>180?i("woo-box",{class:[t.$style.switch,t.$style.top2],attrs:{align:"center"}},[i("woo-box-item",{attrs:{align:"center"}},[i("woo-box",{attrs:{align:"center"}},[i("div",{class:t.$style.gray1},[t._v(" "+t._s(t.play_config.follower_watch_entire.title)+" ")]),i("woo-pop",{class:t.$style.help,attrs:{show:t.fansShow,flow:"",direction:"right",align:"center",gap:"10"},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-fonticon",{class:t.$style.qa,attrs:{value:"qaCircle"},nativeOn:{mouseover:function(e){t.fansShow=!0},mouseout:function(e){t.fansShow=!1}}})]},proxy:!0}],null,!1,519309636)},[i("div",{staticClass:"wbpro-texta",class:t.$style.helppop1},[i("h4",{staticClass:"fb"},[t._v(" "+t._s(t.play_config.follower_watch_entire.pop_up_window_title)+" ")]),i("p",{domProps:{innerHTML:t._s(t.play_config.follower_watch_entire.pop_up_window_desc)}})])])],1)],1),i("div",[i("woo-switch",{attrs:{size:.6875},model:{value:t.follower_watch_entire,callback:function(e){t.follower_watch_entire=e},expression:"follower_watch_entire"}})],1)],1):t._e(),t.play_config&&t.play_config.follower_watch_entire&&t.duration>180?i("woo-divider",{class:t.$style.top2}):t._e()],1)],1):t._e()],1)],1)],1)]),i("woo-box",{staticClass:"wbpro-layer-btn",attrs:{justify:"center"}},[i("woo-button",{staticClass:"wbpro-layer-btn-item",attrs:{sort:"flat",kind:"default"},nativeOn:{click:function(e){return e.stopPropagation(),t.closeVideoPop(e)}}},[t._v("取消")]),i("woo-button",{staticClass:"wbpro-layer-btn-item",attrs:{sort:"flat",kind:"primary",disabled:t.doneDisabled},nativeOn:{click:function(e){return e.stopPropagation(),t.done(e)}}},[t._v("完成")])],1)],1),i("VideoEdit",{attrs:{edit:t.videoEdit,screenArray:t.screenArray,screenshot:t.screenshot.url,horizontal:t.horizontal},on:{change:function(e){return t.changeVideoEdit(arguments)}}})],1)},o=[],n=(i("4160"),i("d81d"),i("a434"),i("a9e3"),i("d3b7"),i("3ca3"),i("498a"),i("159b"),i("ddb0"),i("2b3d"),i("96cf"),i("1da1")),s=i("2909"),r=i("3835"),l=i("b85c"),c=i("5530"),u=(i("6c3f"),i("7ec3")),d=i("5abd"),h=i("2f62"),p=i("ed09"),f=i("1e52"),m=i("59b0"),v=i("3095"),_=i("6798"),g=i("9725"),b={components:{VideoUpload:function(){return i.e("chunk-27ad31c8").then(i.bind(null,"dd52"))},VideoTag:function(){return i.e("chunk-87c041fe").then(i.bind(null,"5296"))},VideoSort:function(){return i.e("chunk-04dd4069").then(i.bind(null,"f4d2"))},VideoEdit:function(){return i.e("chunk-5f89d2e3").then(i.bind(null,"434c"))},TextInput:function(){return Promise.resolve().then(i.bind(null,"d2ea"))},AfterPatch:_["a"],VideoScreenshot:g["a"]},props:{lockScreen:{type:Boolean,default:!0},iptType:{type:String,default:"",required:!1},editData:{type:String}},setup:function(t,e){var i=e.root,a=e.refs,o=Object(p["n"])(["0","1","2","3"]),n=Object(f["a"])(i,a),s=Object(m["a"])(a),r=Object(v["a"])(a,i,o);return Object(c["a"])(Object(c["a"])(Object(c["a"])({supported_video_type:o},n),s),r)},data:function(){return{visable:!1,videoEdit:!1,checkExposure:!1,showWeiboAlubum:!1,showWeiboRepost:!1,showVideoTagDetail:!1,screenshot:{url:"",pid:""},screenArray:[],type:"0",uploadSuccess:void 0,videoDetails:{},videoTypeDesc:[{name:"自制",show:!0},{name:"转载",show:!0}],videoManMake:{0:{name:"原创",show:!0,desc:"独立拍摄，制作完成的内容"},2:{name:"自制",show:!0,desc:"译制、解说、混剪等对原有视频进行再创作"},3:{name:"二次创作",show:!0,desc:"综艺、电视剧、电影、赛事等版权方的视频"}},manMakeSelect:void 0,showManMake:!1,video_source:"",video_source_error:!1,resetData:{},forward_strategy:!1,follower_watch_entire:!1,duration:void 0,horizontal:void 0,horizontalCover:void 0,fansShow:!1,watermarkPop:!1}},computed:Object(c["a"])(Object(c["a"])({},Object(h["c"])(["config"])),{},{durationDesc:function(){return void 0===this.uploadSuccess?"投稿视频需大于1分钟":this.duration&&this.uploadSuccess||this.duration&&!this.uploadSuccess?this.duration>60?"":"投稿视频需大于1分钟":!this.duration&&this.uploadSuccess?"视频信息处理中":"视频上传中"}}),watch:{showManMake:function(t){var e=this;t&&this.$nextTick((function(){var t=e.$refs.videoScroll.scrollTop,i=e.$refs.videoScroll.getBoundingClientRect(),a=e.$refs.manMakeRef.$el.getBoundingClientRect();e.$refs.videoScroll.scrollTop=t+(a.top-i.top-52)}))},supported_video_type:function(t){this.type=0,this.videoTypeDesc.map((function(t){return t.show=!1,t}));var e,i=Object(l["a"])(this.supported_video_type.entries());try{for(i.s();!(e=i.n()).done;){var a=Object(r["a"])(e.value,2),o=a[0],n=a[1];1==o?this.videoTypeDesc[n]&&(this.videoTypeDesc[n].show=!0):(this.videoTypeDesc[0].show=!0,this.videoManMake[n].show=!0)}}catch(s){i.e(s)}finally{i.f()}},checkExposure:function(t){!1===t?(this.channelText="请选择合适的频道",this.tagInput="",this.tagList=[],this.recommendTagList=[],this.channelIndex=0,this.channel_ids="",this.subChannelIndex=0,this.type=0,this.supported_video_type=["0","1","2","3"],this.manMakeSelect=void 0):this.scrollToBottom()}},methods:{changeEdit:function(t){var e=this;this.videoEdit=!0,"upload"===t&&this.$nextTick((function(){e.$refs.videoEdit.$refs.file.click()}))},updateMd5:function(t){this.$refs.video_upload.updateMd5(t),this.$refs.video_upload.logUpload()},changeManMake:function(t){this.showManMake=!1,this.manMakeSelect=t},clickModal:function(){this.showChannel=!1,this.showManMake=!1},scrollToBottom:function(){var t=this;this.$nextTick((function(){t.$refs.videoScroll.scrollTop=t.$refs.videoScroll.scrollHeight}))},closeVideoPop:function(){var t=this;this.editData!==JSON.stringify(this.getSuccessData())?this.$_w_dialog({type:"confirm",title:"确认关闭？",message:"关闭之后将不可恢复",action:function(){t.hide(),t.$refs.video_upload.cancelMethods(),t.editData&&(t.resetData.visable=!1,Object.assign(t.$data,t.resetData))}}):this.hide()},uploadChange:function(t){switch(t[0]){case"show":this.show();break;case"screenshot":var e,i;if(this.screenshot&&this.screenshot.url)this.screenArray.splice(0),(e=this.screenArray).push.apply(e,Object(s["a"])(t[1]));else(!this.screenshot||!this.screenshot.url)&&(this.screenshot=t[1][0]?t[1][0]:{url:"",pid:""}),this.screenArray.splice(0),(i=this.screenArray).push.apply(i,Object(s["a"])(t[1]));break;case"success":this.uploadSuccess=!0,this.videoDetails=t[1];break;case"init":this.uploadSuccess=!1,this.screenshot={url:"",pid:""},this.screenArray=[],this.duration=void 0,this.horizontal=void 0,this.checkExposure=!1,this.checkAlbum=!1,this.forward_strategy=!1;break;case"cancel":this.uploadSuccess=void 0;case"detail":t[1]&&t[1].width<t[1].height&&(this.horizontal=!0),t[1]&&t[1].duration&&(this.duration=t[1].duration);break}},changeVideoEdit:function(t){this.videoEdit=!1,0===t[0]?this.hide():"select"===t[0]?this.screenshot=this.screenArray[t[1]-1]:"change"===t[0]&&(this.screenshot=t[1].url,t[1].cover&&(this.horizontalCover=t[1].cover))},show:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.visable=!0,t&&this.dataInit(),!t&&(this.resetData=JSON.parse(JSON.stringify(this.$data)))},hide:function(){this.visable=!1},done:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==t.title.trim()){e.next=3;break}return t.titleStatus="error",e.abrupt("return");case 3:if(!t.checkExposure){e.next=9;break}if(0===t.tagList.length&&(t.tagStatus="error"),0!==t.tagList.length){e.next=7;break}return e.abrupt("return");case 7:if(0!=t.type||void 0!==t.manMakeSelect){e.next=9;break}return e.abrupt("return");case 9:t.uploadSuccess&&(i=t.getSuccessData(),t.$emit("change","success",i),t.hide());case 10:case"end":return e.stop()}}),e)})))()},getSuccessData:function(){var t=[];this.albumList.forEach((function(e){e.checked&&t.push(e.id)}));var e={type:"video",media_id:this.videoDetails.media_id,titles:[{title:this.title,default:"true"}],covers:[{url:this.screenshot.url,pid:this.screenshot.pid||this.screenshot.file_id}]};return this.horizontalCover&&e.covers.push({type:1,pid:this.horizontalCover.pid,source:1}),e.resource={video_tail:this.checkVideoTail},this.checkExposure&&(e.contribution={channel_ids:[this.channel_ids],tags:this.tagList,video_source:this.video_source,forward_strategy:this.forward_strategy?1:0},1==this.type?e.contribution.type=1:e.contribution.type=this.manMakeSelect,this.follower_watch_entire&&(e.follower_watch_entire={enable:0}),0===Number(e.contribution.type)&&(e.trans_config={social_video_watermark:this.social_video_watermark?1:0})),this.checkAlbum&&(e.playlist={playlist_video:!0,album_ids:t.toString()}),e},showFiles:function(){Object.assign(this.$data,this.$options.data()),this.$refs.video_upload.showFiles()},uploadscreenshot:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.screenshot.url=URL.createObjectURL(t.target.files[0]),i.next=3,Object(u["a"])(t.target.files[0]);case 3:a=i.sent,e.screenshot={url:Object(d["d"])(a),pid:a};case 5:case"end":return i.stop()}}),i)})))()},dataInit:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.channelListInit();case 1:case"end":return e.stop()}}),e)})))()}}},y=b,w=(i("da01"),i("ecbd")),x=i("2877");function k(t){this["$style"]=w["default"].locals||w["default"]}var $=Object(x["a"])(y,a,o,!1,k,null,null);e["a"]=$.exports},"964d":function(t,e,i){t.exports={wrap:"Card_wrap_2ibWe",bottomGap:"Card_bottomGap_2Xjqi",hover:"Card_hover_21CcW",noBackground:"Card_noBackground_9E3uZ"}},9725:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("woo-box",{class:[t.$style.abox5,t.$style.gap2],attrs:{align:"center",justify:"between"}},[i("div",{class:[t.$style.box2t,t.$style.box2t1]},[i("Picture",{class:t.$style.a5lt,attrs:{optAspectratio:t.optAspectratio,image:t.screenshot,loading:!t.screenshot,loadingText:" "}},[i("woo-box",{class:t.$style.a5opt,attrs:{algin:"center",justify:"between"}},[i("a",{attrs:{href:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$emit("edit","upload")}}},[t._v("上传封面")]),i("a",{attrs:{href:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$emit("edit")}}},[t._v("裁剪封面")])])],1)],1),t.showSelect&&t.screenArray.length&&t.screenArray[8]&&t.screenArray[8].url?i("div",{class:t.$style.a5rt},[i("div",{class:t.$style.arrow},[i("i"),i("em")]),i("div",{class:t.$style.text4},[t._v("可选择以下封面")]),i("div",{class:t.$style.a5list},[i("button",{directives:[{name:"show",rawName:"v-show",value:t.leftD>0,expression:"leftD > 0"}],class:[t.$style.angle,t.$style.lt],on:{click:function(e){t.leftD>0&&t.left()}}},[i("woo-fonticon",{attrs:{value:"angleLeft"}})],1),i("div",{class:t.$style.a5listin},[i("woo-box",{class:t.$style.a5itembox,style:t.marginStyle},t._l(t.option,(function(e){return i("woo-picture",{key:e,class:[t.$style.a5item,t.currSelect===e&&t.$style.a5itemcurr],attrs:{"aspect-ratio":"16:9",src:t.screenArray[e-1]?t.screenArray[e-1].url:""},nativeOn:{click:function(i){return i.stopPropagation(),t.changeSelect(e)}}},[(t.defaultScreenshot?t.currSelect===e&&t.screenArray[e-1].url===t.screenshot:t.coverSelect===e&&t.screenArray[e-1].url===t.screenshot)?i("woo-fonticon",{class:t.$style.card2picon,attrs:{value:"check"}}):t._e()],1)})),1)],1),i("button",{directives:[{name:"show",rawName:"v-show",value:t.leftD<627,expression:"leftD < 627"}],class:[t.$style.angle,t.$style.rt],on:{click:function(e){t.leftD<627&&t.right()}}},[i("woo-fonticon",{attrs:{value:"angleRight"}})],1)])]):t._e()]),i("div",{class:[t.$style.text3,t.$style.top1]},[t._v(" 视频文件中截取的封面需要等待文件上传完毕才可选择，你也可以上传自定义封面图 ")]),t._e()],1)},o=[],n=(i("d3b7"),i("96cf"),i("1da1")),s={components:{Picture:function(){return Promise.resolve().then(i.bind(null,"57f4"))}},props:{screenArray:{type:Array,required:!1},screenshot:{type:String,required:!1,default:""},edit:{type:Boolean,default:!1},horizontal:{type:Boolean,default:!1},channel:{type:Boolean,default:!0},showSelect:{type:Boolean,default:!0}},data:function(){return{defaultScreenshot:!0,currSelect:1,coverSelect:1,option:9,okDisabled:!1,aspectRatio:16/9,marginStyle:"",cover:"",showCover:!1,basicSrc:"",leftD:0,optAspectratio:"16:9"}},methods:{changeCover:function(t){this.defaultScreenshot=t,this.changeSrc(this.screenshot)},right:function(){this.leftD=this.leftD+330<627?this.leftD+330:627,this.marginStyle="transform: translateX(".concat(-this.leftD,"px)")},left:function(){this.leftD=this.leftD-330<0?0:this.leftD-330,this.marginStyle="transform: translateX(".concat(-this.leftD,"px)")},changeSelect:function(t){this.defaultScreenshot?this.currSelect=t:this.coverSelect=t,this.$emit("change","select",t)},cancel:function(){this.defaultScreenshot=!0,this.$emit("change")},change:function(t){!(arguments.length>1&&void 0!==arguments[1])||arguments[1]},ok:function(){return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},changeSrc:function(t){}},watch:{screenArray:function(t){t.length||(this.currSelect=1,this.coverSelect=1)},edit:function(t){var e=this;t&&this.$nextTick((function(){e.defaultScreenshot=!0,e.changeSrc(e.screenshot)})),this.showCover=this.horizontal},screenshot:function(t){this.basicSrc="",this.changeSrc(t)},horizontal:function(t){void 0===t&&(this.cover="")}}},r=s,l=i("7441"),c=i("2877");function u(t){this["$style"]=l["default"].locals||l["default"]}var d=Object(c["a"])(r,a,o,!1,u,null,null);e["a"]=d.exports},9779:function(t,e,i){t.exports={config:"IconList_config_7MGut",autoIcon:"IconList_autoIcon_a6R6k",likebox:"IconList_likebox_23Rt_"}},9783:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:t.visibilityChanged,intersection:{rootMargin:t.topBarHeight+" 0px 0px 0px"}},expression:"{\n    callback: visibilityChanged,\n    intersection: {\n      rootMargin: `${topBarHeight} 0px 0px 0px`\n    }\n  }"}],class:[!t.withoutSticky&&t.stickyState&&t.$style.secBar,t.visable?t.$style.visable:t.$style.dispear],style:t.secBarStyle},[t._t("default")],2)},o=[],n={props:{sticky:{type:Boolean},stickyOffset:{type:[String]},withoutSticky:{type:Boolean,default:!1}},data:function(){return{stickyState:this.sticky,visable:!0,topBarHeight:"-58px"}},created:function(){var t=this;this.$Bus&&(this.$Bus.$on("w-scroll-down",this.wScrollDownHanlde),this.$Bus.$on("w-scroll-up",this.wScrollUpHanlde),this.$once("hook:beforeDestroy",(function(){t.$Bus.$off("w-scroll-down",t.wScrollDownHanlde),t.$Bus.$off("w-scroll-up",t.wScrollUpHanlde)})))},computed:{secBarStyle:function(){var t="";return"number"===typeof this.stickyOffset&&(t=this.stickyOffset/16+"rem"),{top:t}}},methods:{wScrollDownHanlde:function(){this.stickyState=!0},wScrollUpHanlde:function(){this.stickyState=!1},visibilityChanged:function(t,e){t||0!==e.boundingClientRect.width||0!==e.boundingClientRect.height?this.visable=!0:this.visable=!1}}},s=n,r=i("e456"),l=i("2877");function c(t){this["$style"]=r["default"].locals||r["default"]}var u=Object(l["a"])(s,a,o,!1,c,null,null);e["a"]=u.exports},"97e2":function(t,e,i){"use strict";var a=i("0961"),o=i.n(a);e["default"]=o.a},"97e8":function(t,e,i){"use strict";var a=i("1aa1"),o=i.n(a);e["default"]=o.a},"985c":function(t,e,i){"use strict";var a=i("15be"),o=i.n(a);e["default"]=o.a},"986c":function(t,e,i){"use strict";var a=i("40aa"),o=i.n(a);e["default"]=o.a},9875:function(t,e,i){t.exports={container:"expandable_container_29Dzl",musk:"expandable_musk_33vJj",more:"expandable_more_1N17H",text:"expandable_text_Zp5vL",expand:"expandable_expand_1JytO"}},"98f0":function(t,e,i){t.exports={container:"Scroll_container_280Ky",wrap:"Scroll_wrap_ObsGW",nextPage:"Scroll_nextPage_UOGEz",tipbox:"Scroll_tipbox_28c6h",empty:"Scroll_empty_1TQ90",loadingIcon:"Scroll_loadingIcon_2nyZ4",initLoad:"Scroll_initLoad_1yMbf",isInCards:"Scroll_isInCards_2oWNy",isInCard:"Scroll_isInCard_t_vZS"}},9912:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.transTitle&&t.transTitle.text?i("div",{class:[t.$style.wrap,t.hasBorder&&t.$style.border],attrs:{border:t.borderStyle}},[i("woo-box",{class:t.$style.titleBox,attrs:{align:"center"}},[i("woo-box-item",{attrs:{align:"center"}},[t.fontIconName?i("woo-fonticon",{class:t.$style.icon,attrs:{value:t.fontIconName}}):t._e(),t.mark&&t.title&&t.title.structs&&t.title.structs[0]&&t.title.structs[0].scheme&&!t.isScheme?i("a-link",{attrs:{"link-type":"old",href:t.title.structs[0].scheme,target:"_blank"}},[i("span",{class:[t.$style.title,t.$style.trendsTitle],domProps:{innerHTML:t._s(t.transTitle.text)}})]):t.isClickTitle?i("a-link",{attrs:{to:t.getRouter(),styleType:"none"}},[i("span",{class:[t.$style.title,t.fontIconName&&t.$style.trendsTitle],domProps:{innerHTML:t._s(t.transTitle.text)}})]):t.transTitle.isTop?i("span",{class:[t.$style.title]},[i("img",{staticStyle:{width:"48px","margin-bottom":"-3.5px"},attrs:{src:t.topIcon}})]):i("span",{class:[t.$style.title,t.fontIconName&&t.$style.trendsTitle],domProps:{innerHTML:t._s(t.transTitle.text)}})],1),i("woo-box",{attrs:{direction:"x"}},[t.$slots.moreSlot?i("div",{class:t.$style.more},[t.$slots.moreSlot?t._t("moreSlot"):t._e()],2):t._e()])],1)],1):t._e()},o=[],n=(i("99af"),i("4160"),i("caad"),i("c975"),i("b0c0"),i("4d63"),i("ac1f"),i("25f0"),i("466d"),i("5319"),i("159b"),i("5530")),s={name:"feed-title",props:["visible","isTop","title","hasBorder","mark","isSecondRelationFeed"],inject:["getDarkMode"],computed:{isDark:function(){return this.getDarkMode()},topIcon:function(){return this.isDark?"https://h5.sinaimg.cn/upload/100/1776/2022/04/29/vip_top_dark.png":"https://h5.sinaimg.cn/upload/100/1776/2022/04/29/vip_top_default.png"},borderStyle:function(){return this.hasBorder?this.hasBorder:"none"},transTitle:function(){var t,e,i,a=this.visible&&this.visible.type,o={text:"",icon:""};if(this.isTop)o={isTop:this.isTop,text:"置顶",icon:this.topIcon};else if(this.title)o=this.title;else switch(a){case 10:o={text:"仅粉丝可见",icon:"https://image.flaticon.com/icons/svg/126/126495.svg"};break;case 9:o={text:"仅付费会员可见",icon:"https://image.flaticon.com/icons/svg/126/126495.svg"};break;case 1:o={text:"仅自己可见",icon:"https://image.flaticon.com/icons/svg/126/126495.svg"};break;case 6:o={text:"仅好友圈可见",icon:"https://image.flaticon.com/icons/svg/126/126495.svg"};break}(null===this||void 0===this||null===(t=this.title)||void 0===t?void 0:t.structs)&&!o.formatted&&this.isSecondRelationFeed&&(o.formatted=!0,null===this||void 0===this||null===(e=this.title)||void 0===e||null===(i=e.structs)||void 0===i||i.forEach((function(t){o.text=o.text.replace(t.name,'<a usercard="'.concat(t.uid,'" class="feed-title_a" target="_blank" href="//weibo.com/u/').concat(t.uid,'">').concat(t.name,"</a>"))})));return o},showVisibleType:function(){return[10,9,1,6].indexOf(this.visible.type)>-1},fontIconName:function(){var t="";switch(this.title&&this.title.text){case"特别关注":t="special";break;case"好友圈":t="friend";break;default:break}return t},isClickTitle:function(){return["特别关注","好友圈"].includes(this.title&&this.title.text)},isScheme:function(){var t=this.title.structs&&this.title.structs.length&&this.title.structs[0].scheme,e=/sinaweibo:\/\/([\w.]+\/?)\S*/;return e.test(t)}},methods:{getRouter:function(){if(this.isClickTitle){var t={name:"mygroups",params:{from:"trends"}},e=this.title.structs&&this.title.structs.length&&this.title.structs[0].scheme,i=e&&e.substr(e.indexOf("?")+1),a=new RegExp("(^|&)groupid=([^&]*)(&|$)"),o=i&&i.match(a),s=o&&o[2];switch(this.title.text){case"特别关注":t=Object(n["a"])(Object(n["a"])({},t),{},{query:{gid:s}});break;case"好友圈":t=Object(n["a"])(Object(n["a"])({},t),{},{query:{gid:s}});break;default:break}return t}}}},r=s,l=i("474d"),c=i("2877");function u(t){this["$style"]=l["default"].locals||l["default"]}var d=Object(c["a"])(r,a,o,!1,u,null,null);e["a"]=d.exports},9966:function(t,e,i){t.exports={box:"FileUpload_box_AQ0lZ",icon:"FileUpload_icon_3ecaI",file:"FileUpload_file_27ilM",text:"FileUpload_text_j1c6h"}},"997f":function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"a",(function(){return n}));i("a15b");var a=i("5530"),o=function(){var t,e,i,o,n,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"comment",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",h=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};return Object(a["a"])({type:s,ogid:d,mblogid:r.mblogid,id:r.id,idstr:r.idstr,uid:null===r||void 0===r||null===(t=r.user)||void 0===t?void 0:t.id,screen_name:null===r||void 0===r||null===(e=r.user)||void 0===e?void 0:e.screen_name,text:r.text_raw,liked:r.liked,like_counts:r.like_counts?r.like_counts:r.like_count?r.like_count:0,rootid:(null===l||void 0===l?void 0:l.idstr)?l.idstr:null,rootscreen_name:(null===l||void 0===l||null===(i=l.user)||void 0===i?void 0:i.screen_name)?null===l||void 0===l||null===(o=l.user)||void 0===o?void 0:o.screen_name:null,roottext:(null===l||void 0===l?void 0:l.text_raw)?null===l||void 0===l?void 0:l.text_raw:null,location:[c,u],aiAssistant:24===r.ai_type||24===r.reply_ai_type,gender:"f"===(null===r||void 0===r||null===(n=r.user)||void 0===n?void 0:n.gender)?"她":"他",associate_status_id:r.associate_status_id,isLongText:r.isLongText},h)};function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"comment";if(24===t.ai_type||24===t.reply_ai_type){var a,o,n=String(e)===String(null===(a=t.user)||void 0===a?void 0:a.idstr),s=["source:".concat(i),"visit_uid:".concat(e),"visited_uid:".concat(null===(o=t.user)||void 0===o?void 0:o.id),"owner:".concat(n),"time:".concat(+new Date/1e3)];return[{act_code:6306,ext:s.join("|")}]}return[]}},9994:function(t,e,i){t.exports={hongbao:"card-hongbao_hongbao_27ZYB",left:"card-hongbao_left_1B4e4",avatar:"card-hongbao_avatar_1ruUU",right:"card-hongbao_right_2pWLv",text1:"card-hongbao_text1_JZJZx",button:"card-hongbao_button_2x0U4",text2:"card-hongbao_text2_2xmqk",text3:"card-hongbao_text3_2C2oS",button_text:"card-hongbao_button_text_QOAHt",cur:"card-hongbao_cur_3nKCO",f14:"card-hongbao_f14_3BtpK",f16:"card-hongbao_f16_1s1O_",f18:"card-hongbao_f18_2o4_G"}},"9a37":function(t,e,i){"use strict";var a=i("db2e"),o=i.n(a);e["default"]=o.a},"9b6a":function(t,e,i){"use strict";var a=i("d1e8"),o=i.n(a);e["default"]=o.a},"9b95":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{style:{transform:"scale("+t.scale+")"}},[i("div",{class:t.$style.bg}),i("svg",{class:t.$style.svg,attrs:{width:"50px",height:"50px",viewBox:"0 0 100 100"}},[i("circle",{ref:"circleRef",class:t.$style.circle,attrs:{r:"25",cx:"50",cy:"50",fill:"transparent",stroke:"#FFFFFF","stroke-width":"50","stroke-dasharray":"0 158"}})])])},o=[],n=(i("a9e3"),i("d4ec")),s=i("bee2"),r=function(){var t=[];function e(){var i=t.shift();i&&i(e)}return function(i){t.push(i),1===t.length&&e()}}(),l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(n["a"])(this,t),this.status=e.status||0,this.settings={minimum:.08,speed:200,trickle:!0,trickleSpeed:20},this.el=e.el}return Object(s["a"])(t,[{key:"isStarted",value:function(){return"number"===this.status}},{key:"start",value:function(){var t=this;this.status||this.set(0);var e=function e(){setTimeout((function(){t.status&&(t.trickle(),e())}),t.settings.trickleSpeed)};return this.settings.trickle&&e(),this}},{key:"trickle",value:function(){return this.inc()}},{key:"updateCircle",value:function(t){var e,i=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(a)return clearTimeout(e),this.el.setAttribute("stroke-dasharray","158 158"),void(e=null);e=setTimeout((function(){i.el.setAttribute("stroke-dasharray","".concat(158*t," 158")),i.updateCircle(t,a)}),20)}},{key:"set",value:function(t){t=this._clamp(t,this.settings.minimum,1),this.status=1===t?null:t,this.el.setAttribute("stroke-dasharray","".concat(158*t," 158"));var e=this.settings.speed;r((function(i){1===t?setTimeout((function(){setTimeout((function(){i()}),e)}),e):setTimeout(i,e)}))}},{key:"inc",value:function(t){var e=this.status;if(e)return e>1?void 0:("number"!==typeof t&&(t=e>=0&&e<.2?.1:e>=.2&&e<.5?.04:e>=.5&&e<.8?.02:e>=.8&&e<.95?.005:0),t/=15,e=this._clamp(e+t,0,.994),this.set(e));this.start()}},{key:"done",value:function(t){return t||this.status?this.set(1):this}},{key:"_clamp",value:function(t,e,i){return t<e?e:t>i?i:t}}]),t}(),c=l,u={props:{visible:{type:Boolean,default:!1},scale:[Number,String]},data:function(){return{cp:null}},mounted:function(){var t=this.$refs.circleRef;t&&(this.cp=new c({el:t}),this.cp.start())},beforeDestroy:function(){var t;null===(t=this.cp)||void 0===t||t.done()}},d=u,h=i("b21f"),p=i("2877");function f(t){this["$style"]=h["default"].locals||h["default"]}var m=Object(p["a"])(d,a,o,!1,f,null,null);e["a"]=m.exports},"9b96":function(t,e,i){"use strict";var a=i("0aad"),o=i.n(a);o.a},"9c5e":function(t,e,i){"use strict";var a=i("5af3"),o=i.n(a);o.a},"9c86":function(t,e,i){"use strict";var a=i("7795"),o=i.n(a);e["default"]=o.a},"9c87":function(t,e,i){t.exports={pic:"ProfileHeader_pic_2Coeq",bg:"ProfileHeader_bg_wE5Mv",topt:"ProfileHeader_topt_1kq4U",upload:"ProfileHeader_upload_3bS7G",icon:"ProfileHeader_icon_EBnPX",ellipsis:"ProfileHeader_ellipsis_2E89M",box1:"ProfileHeader_box1_1qC-g",avatar2:"ProfileHeader_avatar2_1gEyo",h3:"ProfileHeader_h3_2nhjc",h4:"ProfileHeader_h4_gcwJi",alink:"ProfileHeader_alink_tjHJR",h5:"ProfileHeader_h5_1XppQ",vip:"ProfileHeader_vip_22G6o",btn3:"ProfileHeader_btn3_2VD_Y",box2:"ProfileHeader_box2_vqB5a",content:"ProfileHeader_content_3d6tJ",item2:"ProfileHeader_item2_j8uYU",item3:"ProfileHeader_item3_1bUM2",icon2:"ProfileHeader_icon2_1JQgx",con2:"ProfileHeader_con2_pmJcV",tag:"ProfileHeader_tag_2Ku6K",rank:"ProfileHeader_rank_2hfrX",opt:"ProfileHeader_opt_1fOBM",capsuleOpt:"ProfileHeader_capsuleOpt_2xcxh",box3:"ProfileHeader_box3_2R7tq",icon3:"ProfileHeader_icon3_3Ppd6",icon4:"ProfileHeader_icon4_2rYLv",tip:"ProfileHeader_tip_2XtLe",tipDesc:"ProfileHeader_tipDesc_21gmc",con3:"ProfileHeader_con3_Bg19p",box4:"ProfileHeader_box4_149Fi",avatar3:"ProfileHeader_avatar3_3K9Bu",con4:"ProfileHeader_con4_aZUTy",link:"ProfileHeader_link_1vStT",tab:"ProfileHeader_tab_2nsYU",btn:"ProfileHeader_btn_2fTNr",cursor:"ProfileHeader_cursor_30CC3",vicon:"ProfileHeader_vicon_1MNcq",name:"ProfileHeader_name_1KbBs",payRemind:"ProfileHeader_payRemind_1SEqg",flexBasisAuto:"ProfileHeader_flexBasisAuto_2exBQ",lineHeight28:"ProfileHeader_lineHeight28_2ohgO",descText:"ProfileHeader_descText_3AF6o",pointer:"ProfileHeader_pointer_2yKGQ",ipLocation:"ProfileHeader_ipLocation_3gPej",qrcode:"ProfileHeader_qrcode_2uwop",text:"ProfileHeader_text_R8zKx",shareText:"ProfileHeader_shareText_1e6tL",statusCounter:"ProfileHeader_statusCounter_2OhNO",statusCounterLayer:"ProfileHeader_statusCounterLayer_13mzC",title:"ProfileHeader_title_3PIyR",title1:"ProfileHeader_title1_q0Uqs",title2:"ProfileHeader_title2_PaWqd",count:"ProfileHeader_count_3LjuB",label:"ProfileHeader_label_3ClAJ",cmt:"ProfileHeader_cmt_KjOPt",repost:"ProfileHeader_repost_3iNZF",like:"ProfileHeader_like_29rT_"}},"9cbb":function(t,e,i){t.exports={cursor:"Like_cursor_2vfIE",cut:"Like_cut_1cCu7"}},"9cdd":function(t,e,i){"use strict";var a=i("b43b"),o=i.n(a);o.a},"9d59":function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_nav_homeFlat",use:"woo_svg_nav_homeFlat-usage",viewBox:"0 0 30 30",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" id="woo_svg_nav_homeFlat"><path d="M25.489 16.234v8.27c0 .826-.669 1.496-1.505 1.496h-4.99a1.497 1.497 0 01-1.505-1.496v-5.527C17.453 17.62 16.353 16.53 15 16.53c-1.23 0-2.25.9-2.453 2.083v5.89c0 .826-.668 1.496-1.504 1.496h-4.99a1.497 1.497 0 01-1.506-1.496v-7.997a3.024 3.024 0 01-.047-.535v-1.275c0-.547.326-1.312.713-1.693l8.722-8.571a1.526 1.526 0 012.13 0l8.722 8.571c.394.388.713 1.151.713 1.693v1.275c0 .088-.004.176-.011.262z" fill="currentColor" fill-rule="evenodd" /></symbol>'});s.a.add(r);e["default"]=r},"9d7f":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.card.desc?i("woo-panel",{class:t.$style.wrap,attrs:{border:"left, right, top"},nativeOn:{click:function(e){return t.toScheme()}}},[i("woo-box",{class:t.$style.more,attrs:{align:"center",justify:"center"}},[i("div",{domProps:{textContent:t._s(t.card.desc)}}),i("woo-fonticon",{class:t.$style.icon2,attrs:{value:"angleRight"}})],1)],1):t._e()},o=[],n={name:"card6",props:{card:{type:Object,default:function(){return{}}}},methods:{toScheme:function(){this.card&&this.card.scheme&&this.$router.push({path:this.card.scheme})}}},s=n,r=i("b9fa"),l=i("2877");function c(t){this["$style"]=r["default"].locals||r["default"]}var u=Object(l["a"])(s,a,o,!1,c,null,null);e["default"]=u.exports},"9d96":function(t,e,i){t.exports={wbproform:"Form_wbproform_2HsNC",suggest:"Form_suggest_21O7w",input:"Form_input_3K79U",fonticon:"Form_fonticon_2X9cI",wrap:"Form_wrap_1bu86"}},"9e42":function(t,e,i){"use strict";var a=i("ff33"),o=i.n(a);e["default"]=o.a},"9ecf":function(t,e,i){t.exports={pop:"AudioPopText_pop_2q3O9"}},"9edd":function(t,e,i){"use strict";var a=i("8125"),o=i.n(a);e["default"]=o.a},"9ee6":function(t,e,i){t.exports={cut:"vote-item_cut_3Jv_g",item:"vote-item_item_2egBf",cursor:"vote-item_cursor_1iNGh",curr:"vote-item_curr_2eYxj",bg:"vote-item_bg_2v3mt",right:"vote-item_right_2ih_p",itemed:"vote-item_itemed_39FZ5",textin:"vote-item_textin_2Rkao",itemAni:"vote-item_itemAni_3nt1q",voteAniTextCurr:"vote-item_voteAniTextCurr_1OAsT",voteAniBg:"vote-item_voteAniBg_1lGM4",icon:"vote-item_icon_36RRX",voteAniApa:"vote-item_voteAniApa_2y5SC",voteAniText:"vote-item_voteAniText_zd8Ds",itemHover:"vote-item_itemHover_1Bqvd",text:"vote-item_text_2EkXo",left:"vote-item_left_43bXm",multiple:"vote-item_multiple_3Fd_d"}},"9f0e":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.wrap},[i("woo-divider",{class:t.$style.line}),i("woo-box",{class:t.$style.content,attrs:{align:"center",justify:"between"},nativeOn:{click:function(e){return t.goProfile(t.card.user.id)}}},[i("a-link",{class:t.$style.item,attrs:{"link-type":"old","style-type":"none",href:"/u/"+t.card.user.id},on:{click:function(t){t.preventDefault()}}},[i("woo-box",{attrs:{align:"center"}},[i("woo-avatar",{attrs:{size:50,verified:t.getWeiboVerifiedIcon(t.card.user),src:t.card.user.profile_image_url}}),i("woo-box-item",{class:[t.$style.con,t.$style.f12],attrs:{align:"center"}},[i("div",{class:[t.$style.cla,t.$style.fb,"wbpro-textcut"]},[t._v(" "+t._s(t.card.user.screen_name)),t.card.user.remark?i("span",[t._v("（"+t._s(t.card.user.remark)+"）")]):t._e(),i("IconFans",{attrs:{mbrank:t.card.user.mbrank,mbtype:t.card.user.mbtype,svip:t.card.user.svip,vvip:t.card.user.vvip,fansIcon:t.card.user.fansIcon}})],1),t.card.desc1?i("div",{class:[t.$style.clb,"wbpro-textcut"],domProps:{textContent:t._s(t.card.desc1)}}):t._e(),t.card.desc2?i("div",{class:t.$style.clb,domProps:{textContent:t._s(t.card.desc2)}}):t._e()])],1)],1),i("div",{class:[t.$style.right,t.$style.button]},[i("FollowBtn",{attrs:{uid:t.card.user.id,following:t.card.user&&t.card.user.following,doFoAction:!0,foToast:!0}})],1)],1)],1)},o=[],n=i("32d4"),s=i("cc8d"),r={name:"card10",components:{IconFans:n["a"]},props:{card:{type:Object,default:function(){return{}}}},methods:{getWeiboVerifiedIcon:s["a"],goProfile:function(t){this.$router.push({name:"profile",params:{id:t}})}}},l=r,c=i("0438"),u=i("2877");function d(t){this["$style"]=c["default"].locals||c["default"]}var h=Object(u["a"])(l,a,o,!1,d,null,null);e["default"]=h.exports},"9f20":function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_nav_logoGrey",use:"woo_svg_nav_logoGrey-usage",viewBox:"0 0 90 30",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 90 30" id="woo_svg_nav_logoGrey"><mask id="woo_svg_nav_logoGrey_a" fill="#fff"><path d="M.257.642h24.837v18.902H.257z" fill-rule="evenodd" /></mask><mask id="woo_svg_nav_logoGrey_b" fill="#fff"><path d="M.28.654h5.148v4.971H.28z" fill-rule="evenodd" /></mask><mask id="woo_svg_nav_logoGrey_c" fill="#fff"><path d="M.57.654h4.795v4.971H.571z" fill-rule="evenodd" /></mask><g fill="none" fill-rule="evenodd"><path d="M2.715 20.11c0 4.203 5.6 7.613 12.506 7.613 6.907 0 12.506-3.41 12.506-7.613s-5.6-7.612-12.506-7.612c-6.907 0-12.506 3.409-12.506 7.612" fill="#fff" /><path d="M15.513 27.102c-6.114.59-11.39-2.111-11.788-6.035-.397-3.922 4.239-7.581 10.35-8.172 6.115-.591 11.39 2.11 11.789 6.032.395 3.924-4.238 7.584-10.35 8.175M27.74 14.078c-.521-.152-.878-.255-.604-.924.59-1.45.65-2.701.011-3.593-1.2-1.675-4.48-1.584-8.239-.045 0-.001-1.18.505-.878-.41.579-1.818.49-3.34-.409-4.219-2.039-1.995-7.464.075-12.115 4.62C2.023 12.914 0 16.523 0 19.643c0 5.97 7.831 9.598 15.492 9.598 10.043 0 16.724-5.702 16.724-10.231 0-2.737-2.358-4.29-4.476-4.932" fill="#7e7e7e" /><path d="M34.409 3.154C31.984.526 28.405-.476 25.103.21c-.764.16-1.251.894-1.088 1.64.162.747.914 1.224 1.678 1.063 2.35-.487 4.891.226 6.617 2.093a6.687 6.687 0 011.452 6.647c-.241.727.165 1.505.91 1.74.743.235 1.54-.162 1.782-.888V12.5a9.393 9.393 0 00-2.045-9.346" fill="#999" /><path d="M30.684 6.44c-1.181-1.28-2.923-1.766-4.532-1.432a1.188 1.188 0 00-.935 1.413c.14.64.787 1.053 1.442.913v.002a2.366 2.366 0 012.217.698c.578.626.733 1.479.484 2.227h.002a1.187 1.187 0 00.783 1.5c.64.199 1.326-.142 1.532-.768a4.57 4.57 0 00-.993-4.553" fill="#999" /><path d="M15.85 19.996c-.213.358-.686.53-1.057.38-.364-.146-.479-.545-.27-.897.212-.349.666-.52 1.03-.378.369.131.501.535.297.895m-1.947 2.445c-.593.921-1.859 1.325-2.812.9-.94-.418-1.217-1.49-.626-2.388.583-.897 1.808-1.295 2.754-.907.958.4 1.263 1.463.684 2.395m2.22-6.526c-2.909-.741-6.197.676-7.46 3.183-1.287 2.555-.042 5.392 2.897 6.32 3.043.96 6.632-.512 7.88-3.269 1.23-2.697-.306-5.474-3.317-6.234" fill="#000" /><path d="M46.554 12.454h7.399l.395-1.29H46.95zM55.267 9.389l1.486-4.93h-1.5l-1.087 3.615h-1.873l1.533-5.092h-1.404l-1.535 5.092h-1.873l1.09-3.615h-1.407l-1.483 4.93zM41.457 9.968c2.483-1.869 5.654-4.619 7.63-6.98l-1.773.017c-1.483 1.737-3.052 3.15-5.108 4.74zM54.081 16.004s-1.62 1.103-2.674 1.694l1.04-3.389s-6.166-.039-6.276 0c-.391 1.804-.789 3.68-2.548 4.992a31.478 31.478 0 01-.703 2.279c1.918-1.576 3.196-2.116 4.206-5.495l.148-.485h3.279l-.545 1.775c-.188.807-1.175 1.695-1.175 1.695l.778 1.13c.55-.378 3.965-2.374 3.965-2.374zM47.165 8.29h-1.501a44.707 44.707 0 01-5.383 5.433l-.677 2.165c0 .018-.002.037 0 .055.331-.269.895-.744 1.48-1.23.603-.538 1.031-.913 1.283-1.13l-2.523 8.23h1.5l3.167-10.326c.842-.916 2.015-2.3 2.654-3.198" fill="currentColor" /><path d="M57.798 14.874c-.269-1.775-.073-4.033.582-6.775a3.29 3.29 0 00.262-.244h2.715c-1.125 2.853-2.312 5.192-3.56 7.02zm1.732-8.391c.836-1.12 1.555-2.487 2.026-3.496h-1.46c-1.67 3.01-2.393 4.33-4.478 6.714-.222.776-.402 1.4-.728 2.434.499-.416 1.187-.977 1.573-1.455-.349 2.15-.35 4.087-.003 5.807-1.048 1.185-1.265 1.568-3.852 3.29-.262.862-.36 1.102-.733 2.198 2.321-1.668 3.952-3.012 4.89-4.035.615 1.453 2.02 2.933 2.985 4.063.324-.822.363-.913.67-1.727-1.29-1.29-2.183-2.955-2.367-3.79 1.671-1.988 3.272-4.866 4.801-8.63h1.311l.42-1.373z" fill="currentColor" /><path d="M20.934 6.474H16.72l-.397 1.292h4.216zm-4.981 2.501l-.396 1.292h4.214l.397-1.292zM10.82 6.474l-.396 1.292h4.307l.397-1.292zm-.767 2.501l-.396 1.292h4.308l.395-1.292zm11.95-6.293h3.09l-.397 1.292h-7.21l-.397 1.29h5.808l-2.255 7.37h-1.592l.35-1.158h-4.216l-.342 1.156h-1.59l.342-1.156H9.287l-.36 1.179H7.331L9.6 5.263h5.9l.394-1.289H8.871l.397-1.292h7.024l.637-2.04h1.591l-.637 2.04h3.84zM7.953 16.025l1.478-.733a27.158 27.158 0 012.25 2.266l-1.53.64c-.58-.7-1.312-1.421-2.198-2.173zm-2.638-2.29h11.612l.346-1.128h1.686l-.346 1.129h3.652l-.37 1.209h-3.654l-.693 2.261c-.367 1.395-1.517 2.096-3.453 2.096-1.122 0-2.324-.027-2.324-.027s.241-.748.408-1.376c.939.06 1.838.031 2.15.031.938 0 1.464-.296 1.584-.887l.643-2.098H4.945zM6.036.643h1.687L6.101 5.991h2.153l-.421 1.37H5.679L1.943 19.545H.257L3.993 7.362H1.746l.42-1.371h2.248z" fill="currentColor" mask="url(#woo_svg_nav_logoGrey_a)" transform="translate(63.296 2.326)" /><path d="M85.613 5.388h-1.6l.543-1.747h1.6z" fill="currentColor" /><g fill="currentColor"><path d="M44.627 24.692l.012-.02-.687.01-1.225 1.931-1 1.548-.17-3.489-.759.01-1.161 1.906-.968 1.556-.135-3.472-.794.02h-.027l.22 4.692.719-.009 1.15-1.898.96-1.552.17 3.46h.765l1.925-3.083 1.017-1.61z" /><path d="M4.497 2.644l-2.177.019h-.747c.172-.446.419-.687.761-.928a1.984 1.984 0 011.158-.385c.302 0 .542.07.712.21.397.42.346.828.293 1.084M3.662.654c-.712 0-1.382.233-1.992.692A3.472 3.472 0 00.414 3.16c-.22.732-.17 1.332.15 1.784.319.452.854.682 1.589.682A3.3 3.3 0 003.73 5.23c.428-.228.767-.515 1.012-.867.035-.047.074-.092.106-.14l-.008-.001.012-.018-.753-.131c-.413.545-.896.767-1.668.767-.37 0-.69-.122-.952-.364-.23-.215-.337-.512-.128-1.252l3.913-.014c.245-.843.216-1.487-.085-1.912C4.88.87 4.367.654 3.662.654" mask="url(#woo_svg_nav_logoGrey_b)" transform="translate(44.115 23.888)" /><path d="M51.318 24.687l-1.085 3.664-.305 1.013h.005l-.005.02h.848l1.09-3.68.305-1.012h-.006l.006-.02zM52.692 23.05h-.006l.006-.02-.915.014-.23.81-.066.213h.006l-.006.019h.912l.232-.822zM56.795 27.093c-.167.538-.43.968-.782 1.278-.352.308-.744.465-1.162.465-.327 0-.608-.104-.837-.312-.227-.205-.29-.542-.187-.999l.315-1.02c.17-.377.433-.685.783-.92.35-.236.702-.355 1.048-.355.442 0 .728.161.873.491.146.331.128.791-.05 1.372m-.511-2.551c-.534 0-1.04.203-1.492.596a3.688 3.688 0 00-.335.305l.546-1.875.157-.519h-.006l.006-.018-.853.014-1.472 4.945-.414 1.374h.005l-.005.02.654-.013.148-.439.121-.317c.215.595.69.898 1.415.898.657 0 1.269-.239 1.82-.71s.937-1.062 1.146-1.758c.244-.808.22-1.434-.069-1.86-.29-.426-.752-.643-1.372-.643M62.432 27.005c-.192.606-.48 1.059-.853 1.345-.374.286-.775.43-1.193.43-.411 0-.718-.136-.913-.407-.193-.27-.19-.728.01-1.361.19-.601.475-1.045.846-1.32.369-.277.764-.416 1.172-.416.394 0 .699.136.908.407.207.27.216.714.023 1.322m-.718-2.463c-.69 0-1.346.226-1.943.672s-1.015 1.047-1.24 1.792c-.213.707-.184 1.306.086 1.784.273.48.785.723 1.525.723.73 0 1.404-.234 2.004-.696a3.5 3.5 0 001.235-1.796c.212-.701.174-1.295-.113-1.767s-.81-.712-1.554-.712M64.135 28.322l-.229.828-.064.214h.006l-.006.02h1.203l.233-.84.066-.216h-.006l.006-.02z" /><path d="M3.761.654c-.704 0-1.342.239-1.894.71A3.71 3.71 0 00.713 3.146C.506 3.832.526 4.423.77 4.902c.247.48.75.723 1.492.723a2.72 2.72 0 001.507-.443c.405-.26.73-.62.973-1.078.028-.05.06-.097.088-.15l-.007-.001c.003-.006.008-.011.01-.018l-.74-.106c-.405.756-.9 1.093-1.6 1.093-.435 0-.726-.164-.866-.486-.16-.358-.156-.765.01-1.32.152-.5.328-.906.695-1.267.353-.342.726-.502 1.174-.502.377 0 .654.094.823.279.16.174.219.437.207.788v.018h.001c0 .007.003.011.002.019l.809-.142c.06-.482-.043-.885-.305-1.192C4.78.809 4.348.654 3.76.654" mask="url(#woo_svg_nav_logoGrey_c)" transform="translate(66.173 23.888)" /><path d="M85.231 24.82c-.222-.185-.522-.277-.889-.277-.615 0-1.176.257-1.665.75a3.627 3.627 0 00-.346.369 1.067 1.067 0 00-.285-.784c-.206-.223-.508-.335-.898-.335-.558 0-1.089.227-1.57.668-.123.106-.244.22-.363.35l.188-.686.055-.183h-.005l.005-.02-.735.015-1.086 3.664-.305 1.013h.005l-.005.02.815-.015.844-2.795c.119-.397.34-.584.69-.854.335-.262.682-.394 1.03-.394a.85.85 0 01.617.248c.162.158.196.29.07.708l-.708 2.42-.2.662h.004l-.004.02.825-.015.794-2.63c.151-.5.403-.749.788-1.012.366-.25.71-.377 1.023-.377.224 0 .41.06.551.182.143.122.215.252.218.396.001.108-.02.177-.07.33l-.061.195-.67 2.287-.189.624h.006l-.006.02h.827l.881-2.92c.132-.438.19-.766.179-1.004-.013-.24-.132-.454-.355-.64M75.842 27.005c-.192.606-.478 1.059-.852 1.345-.374.286-.776.43-1.193.43-.412 0-.719-.136-.913-.407-.194-.27-.19-.728.01-1.361.191-.601.475-1.045.845-1.32.37-.277.764-.416 1.172-.416.394 0 .7.136.908.407.207.27.216.714.023 1.322m-.717-2.463c-.692 0-1.346.226-1.944.672a3.416 3.416 0 00-1.24 1.792c-.213.707-.184 1.306.086 1.784.274.48.786.723 1.525.723.73 0 1.404-.234 2.005-.696a3.512 3.512 0 001.236-1.796c.212-.701.173-1.295-.114-1.767-.288-.472-.81-.712-1.554-.712" /></g></g></symbol>'});s.a.add(r);e["default"]=r},"9f25":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.home},[i("div",{class:t.$style.wrap,attrs:{id:"homeWrap"}},[i("Card",[i("Publisher",{attrs:{storge:"from_content",location:"home"}})],1),i("div",{class:t.isHome&&"grayTheme"},[t.isHome?i("TipsAd",{attrs:{posid:"pc_login_banner_top",adHeight:"85",closeBtnKind:"notext"}}):t._e(),i("SecBar",{attrs:{withoutSticky:!0}},[Object.keys(t.curGroup).length?i("Card",{class:t.$style.card},[i("Search",{attrs:{loading:t.search.loading,count:t.search.count,expand:t.search.visible,value:t.search.params},on:{searchStatuses:t.onSearchStatuses,searchVisible:t.onSearchVisible}},[i("Tab",{attrs:{colum:0,tabs:t.curGroup,newCurIndex:t.tab2Index},on:{changeTab:t.clickGroup}})],1)],1):t._e()],1),t.emptyPic?i("img",{class:t.$style.emptyPic,attrs:{src:t.emptyPic}}):t._e(),i("FeedScroll",{class:t.$style.feed,attrs:{data:t.list,skeleton:!0,isLoading:t.isLoading,isRetry:t.isRetry,isEmpty:t.isEmpty,isNoData:t.isNoData,actLogData:t.actLogData,buffer:t.scrollBuffer,hasTransformText:t.hasTransformText,pagetype:t.pagetype,absstr:t.search.absstr,realRead:t.realRead},on:{loadMoreData:t.loadMoreData,countReadDuration:t.onCountReadDuration}})],1)],1)])},o=[],n=(i("99af"),i("4de4"),i("7db0"),i("c740"),i("caad"),i("c975"),i("d81d"),i("fb6a"),i("a434"),i("b0c0"),i("b64b"),i("d3b7"),i("ac1f"),i("6062"),i("3ca3"),i("5319"),i("841c"),i("ddb0"),i("b85c")),s=i("5530"),r=i("2f62"),l=i("fc5f"),c=i("c106"),u=i("c15f"),d=i("4e7d"),h=i("f51a"),p=i("6cf2"),f=i("b12a"),m=i("fe2e"),v=i("b893"),_=1500,g={name:"Home",data:function(){return{tab1Index:0,tab2Index:0,curGroup:[],list:[],isLoading:!1,isRetry:!1,isEmpty:!1,isNoData:!1,max_id:"",max_id_str:"",since_id:0,feedLocale:"zh-CN",hasTransformText:!0,position:"",curTitle:"",titleTemplate:"",isClick:!1,noCache:0,actLogData:{},cancel:null,pagetype:"homefeed",scrollBuffer:_,search:{page:1,params:{},count:-1,absstr:"",loading:!1,visible:!1,result:!1,expand:!1},emptyPic:"",realRead:{page:""}}},metaInfo:function(){return{title:this.curTitle,titleTemplate:this.titleTemplate}},mounted:function(){var t=this;this.searchInit(),this.feedGroup&&this.feedGroup.left&&(this.getCurTab(),this.changeGroup(this.curTab)),this.$Bus.$on("handleHomeNav",this.handleHomeNavHandle),this.$Bus.$on("reload",this.reloadHandle),this.$once("hook:beforeDestroy",(function(){t.$Bus.$off("handleHomeNav",t.handleHomeNavHandle),t.$Bus.$off("reload",t.reloadHandle)}))},beforeRouteLeave:function(t,e,i){document.getElementById("scroller")&&(this.position=document.getElementById("scroller").scrollTop),i()},activated:function(){document.getElementById("scroller")&&(document.getElementById("scroller").scrollTop=this.position),this.searchInit(!0)},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(r["c"])(["curTab","publisherCallback","feedGroup","unread","latestList","darkMode"])),Object(r["d"])(["access"])),{},{isDarkMode:function(){var t;return 1===(null===(t=this.darkMode)||void 0===t?void 0:t.mode)},history:function(){return this.access.history},routeGid:function(){return this.$route.query.gid?this.$route.query.gid:this.feedGroup.left[0].gid},extValue:function(){if(0===this.tab2Index)return"0".concat(this.tab1Index+1);if(0===this.tab1Index){var t=this.feedGroup.left.length;return"0".concat(t+this.tab2Index)}return""},isHome:function(){return["home","mygroups","login"].includes(this.$route.name)}}),mixins:[p["a"],m["a"],f["a"]],components:{Publisher:l["default"],TipsAd:u["a"],FeedScroll:d["default"],Tab:h["a"],Search:c["b"]},watch:{publisherCallback:function(t){t&&t.ok&&(t.data&&t.data.text&&t.data.continue_tag&&(t.data.text+=' ...<span class="expand">展开</span>'),this.list.unshift(t.data))},feedGroup:function(t,e){t&&0===Object.keys(e).length&&(this.isClick=!0,this.getCurTab(),this.changeGroup(this.curTab),this.handleActLog("visit"))},$route:function(t,e){var i=this;"home"===t.name&&this.searchInit(),this.isClick?this.isClick=!1:this.$nextTick((function(){if(i.getCurTab(),"home"===t.name&&"mygroups"===e.name&&e.params&&"trends"===e.params.from){var a=i.latestList[i.feedGroup.left[0].gid];i.list=a.statuses;var o,s=Object(n["a"])(a.trendsList);try{for(s.s();!(o=s.n()).done;){var r=o.value;i.list[0].id!==r.id&&i.list.splice(r.position,0,r)}}catch(l){s.e(l)}finally{s.f()}i.max_id_str=a.max_id_str,i.since_id=a.since_id}i.checkUpdate(i.$route)&&(i.changeGroup(i.curTab),i.handleActLog("visit"))}))},isDarkMode:function(t){this.emptyPic=t?Object(v["b"])(this.emptyPic):Object(v["c"])(this.emptyPic)}},methods:Object(s["a"])(Object(s["a"])({},Object(r["b"])(["setCurTab","setLatestList"])),{},{handleHomeNavHandle:function(t,e,i){var a=this;this.isClick=!0,this.tab1Index=e,"left"===i&&this.feedGroup&&this.feedGroup[i]&&this.feedGroup[i].length&&this.feedGroup[i][e].groups&&this.feedGroup[i][e].groups.length?this.feedGroup[i][e].groups.map((function(t,o){t.gid===a.routeGid&&(a.curGroup=a.feedGroup[i][e].groups,a.tab2Index=o,a.changeGroup(t))})):(this.curGroup=[],this.tab2Index=0,this.changeGroup(t)),this.handleActLog("click"),this.$Bus.$emit("reloadTipsAd")},reloadHandle:function(t){"home"===t&&(this.isClick=!0,this.tab1Index=0,this.feedGroup.left&&Array.isArray(this.feedGroup.left)&&(this.curGroup=this.feedGroup.left[0].groups,this.changeGroup(this.feedGroup.left[0])),this.handleActLog("visit"))},getCurTab:function(){var t=this,e=this.feedGroup.left,i=this.feedGroup.custom.list,a=e.find((function(e){return e.gid===t.routeGid}));if(this.setCurTab(a),this.curTab&&this.curTab.gid&&("10001"===this.curTab.gid.slice(0,5)?(this.tab2Index=0,0===this.curGroup.length&&(this.curGroup=this.feedGroup.left[0].groups)):this.curGroup=[]),!this.curTab){var o=i.find((function(e){return e.gid===t.routeGid}));if(this.setCurTab(o),this.curTab&&this.curTab.gid&&(this.curGroup=[]),!this.curTab&&e&&e.length&&e[0].groups&&e[0].groups.length){var n=e[0].groups.find((function(e){return e.gid===t.routeGid}));this.setCurTab(n),this.tab2Index=e[0].groups.findIndex((function(e){return e.gid===t.routeGid})),0===this.curGroup.length&&(this.curGroup=this.feedGroup.left[0].groups)}}},goRouter:function(t){"10001"===t.gid.slice(0,5)?this.$router.push({name:"home"}):this.$router.push({name:"mygroups",query:{gid:t.gid}})},clickGroup:function(t,e){this.isClick=!0,this.tab2Index=e,this.goRouter(t),this.changeGroup(t),this.handleActLog("click")},changeGroup:function(t,e){var i=this,a=Object.assign({},t);if(!this.search.visible||"全部关注"!==a.name){1===+a.type?this.pagetype="homefeed":this.pagetype="groupfeed",this.cancel&&this.cancel();var o=this.$http.CancelToken;if(a){a&&a.gid&&"10001"===a.gid.slice(0,5)?(this.curTitle="微博 – 随时随地发现新鲜事",this.titleTemplate=null):(this.curTitle="".concat(a&&a.title," - 首页"),this.titleTemplate="%s - ".concat("微博")),a.gid&&["10001","11000"].indexOf(a.gid.slice(0,5))>-1&&"loadmore"!==e&&(this.unread.status=0),this.setCurTab(a),"loadmore"!==e&&(this.list=[],this.max_id_str="",this.$route.query.gid&&a.gid!==this.$route.query.gid||(this.since_id=0)),this.isLoading=!0,this.isRetry=!1,this.isNoData=!1,this.isEmpty=!1;var r=a.api,l={};a&&a.gid&&["10001","11000","11001","11002"].indexOf(a.gid.slice(0,5))>-1?(l={list_id:a.gid,refresh:4,since_id:"loadmore"!==e?this.since_id:"",max_id:this.max_id_str,count:a.count||10},"10001"!==a.gid.slice(0,5)&&(l=Object(s["a"])(Object(s["a"])({},l),{},{fid:a.gid}))):l={list_id:a.gid,refresh:4,max_id:this.max_id_str,fast_refresh:1,count:a.count||10},this.emptyPic="",this.$http.get(r,{params:l,cancelToken:new o((function(t){i.cancel=t}))}).then((function(t){if(a.loadEmptyPic&&t.data.pc_empty_pic&&(a.emptyPic=t.data.pc_empty_pic),i.emptyPic=i.isDarkMode?Object(v["b"])(a.emptyPic):a.emptyPic,i.isLoading=!1,i.$Bus.$emit("after-change-group"),t.data.statuses&&t.data.statuses.length){"loadmore"!==e&&(i.list=[]),0===i.list.length&&window.scrollTo(0,0);var o,s=t.data.statuses,r=Object(n["a"])(s);try{for(r.s();!(o=r.n()).done;){var l=o.value;l.mark&&l.promotion&&l.promotion.monitor_url&&l.promotion.monitor_url.length&&i.thirdMonitor(l.promotion.monitor_url,"show")}}catch(p){r.e(p)}finally{r.f()}i.list=i.mergeWeiboArray(i.list,s),i.max_id_str=t.data.max_id_str,i.since_id=t.data.since_id,i.noCache=t.data.no_cache,i.isLoading=!0,"loadmore"!==e&&1!==i.noCache&&i.setLatestList({key:a.gid,value:t.data}),t.data.total_number===i.list.length&&(i.isLoading=!1,i.isNoData=!0),t.data.max_id||(i.isLoading=!1,i.isNoData=!0)}else if(t.data.statuses&&0===t.data.statuses.length&&1!==t.data.no_cache&&i.latestList[i.curTab.gid]&&i.latestList[i.curTab.gid].statuses&&i.latestList[i.curTab.gid].statuses.length){var c=i.latestList[i.curTab.gid];i.list=c.statuses,i.max_id_str=c.max_id_str,i.since_id=c.since_id,i.noCache=c.no_cache,i.isLoading=!0}else(t.data.statuses&&0===t.data.statuses.length||0===t.data.total_number)&&(i.isEmpty=!0);if("10001"===a.gid.slice(0,5)&&t.data.trendsList&&t.data.trendsList.length){var u,d=Object(n["a"])(t.data.trendsList);try{for(d.s();!(u=d.n()).done;){var h=u.value;i.list.splice(h.position,0,h)}}catch(p){d.e(p)}finally{d.f()}}i.$nextTick((function(){i.isClick=!1}))})).catch((function(){i.isLoading=!1,i.isRetry=!0}))}}},replaceRouteQuery:function(t){var e=Object(s["a"])({},this.$route.query),i=Object(c["a"])(e),a=Object(c["c"])(i);for(var o in a)delete e[o];this.$router.replace({query:Object(s["a"])(Object(s["a"])({},e),Object(c["c"])(t)),params:{savePosition:!0}})},recoverRouteQuery:function(){var t=Object(s["a"])({},this.$route.query),e=Object(c["a"])(t),i=Object(c["c"])(e);for(var a in i)delete t[a];this.$router.replace({query:t,params:{savePosition:!0}})},searchInit:function(t){var e=this.$route.query,i=Object(c["a"])(e);Object.keys(i).length?(this.setSearchVisible(!0),t&&this.setSearchStatuses(i)):this.setSearchVisible(!1)},onSearchVisible:function(t){this.setSearchVisible(t),t||this.recoverRouteQuery()},setSearchVisible:function(t){this.search.visible=t,t||(this.search.result&&this.changeGroup(this.curTab),this.search.absstr="",this.search.count=-1),this.scrollBuffer=t?100:_,this.search.result=!1},onSearchStatuses:function(t,e){this.setSearchStatuses(t,e),this.replaceRouteQuery(t)},setSearchStatuses:function(t,e){var i=this;this.isLoading=!0,this.isRetry=!1,this.isNoData=!1,this.isEmpty=!1,this.search.params=t,"loadmore"!==e&&(this.search.page=1,this.search.count=-1,this.search.loading=!0);var a="/ajax/statuses/search";this.$http.get(a,{params:Object(s["a"])(Object(s["a"])({},t),{},{atten:1,count:10,page:this.search.page})}).then((function(t){"loadmore"!==e&&(i.list=[],window.scrollTo(0,0));for(var a=t.data,o=a.statuses,n=a.total_number,s=a.absstr,r=function(t){var e=o[t];i.list.find((function(t){return t.mid===e.mid}))||i.list.push(e)},l=0;l<o.length;l++)r(l);n!==i.list.length&&o.length?i.search.page++:(i.isLoading=!1,i.isNoData=!0),i.search.absstr=s,i.search.result=!0,i.search.count=n,0===o.length&&0===n&&(i.isEmpty=!0)})).catch((function(){i.isRetry=!0,i.isLoading=!1})).finally((function(){i.search.loading=!1}))},loadMoreData:function(){this.search.visible?this.setSearchStatuses(this.search.params,"loadmore"):this.changeGroup(this.curTab,"loadmore")},deleteWeibo:function(t){this.list=this.deleteWeiboInList(t,this.list)},checkUpdate:function(t){if(-1===["home","mygroups"].indexOf(t.name))return!1;var e=this.history.length>2&&this.history[this.history.length-2].name,i=this.history.length>2&&this.history[this.history.length-2].params,a=this.history.length>2&&this.history[this.history.length-2].query,o=this.history.length>2&&this.history[this.history.length-2].path,n=this.history.length>2&&this.history[this.history.length-3].path;return!(!o||!n||o!==n||"bidDetail"===e)||(!(!t.params||"trends"!==t.params.from)||!(e&&["bidDetail","detail","searchResult","profile","nameProfile","customProfile"].indexOf(e)>-1||a.layerid||"trends"===i.from))},handleActLog:function(t){this.actLogData={page:"home",extValue:this.extValue},this.actLogData&&this.actLogData.page&&t&&this.toLog(Object(s["a"])(Object(s["a"])({},this.actLogData),{},{actType:t}))},mergeWeiboArray:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=t.map((function(t){return t.mid})),a=new Set(i),o=e.filter((function(t){return!a.has(t.mid)}));return t.concat(o)}}),beforeDestroy:function(){this.$Bus.$off("handleHomeNav",this.changeGroup),this.$Bus.$off("clickHomeGroup",this.changeGroup)}},b=g,y=i("fc7c"),w=i("2877");function x(t){this["$style"]=y["default"].locals||y["default"]}var k=Object(w["a"])(b,a,o,!1,x,null,null),$=k.exports,C=i("722e"),O=i("641d");e["default"]=[{path:"",name:"home",components:{main:$,side:C["a"]},meta:{keepAlive:!0,title:"首页",channel:"home",uicode:O.uicode.home}},{path:"mygroups",name:"mygroups",components:{main:$,side:C["a"]},meta:{keepAlive:!0,title:"首页",channel:"home",uicode:O.uicode.home}}]},"9f33":function(t,e,i){t.exports={item:"UserCard_item_TrVS0",f12:"UserCard_f12_30YHX",fb:"UserCard_fb_FzDCE",cla:"UserCard_cla_2hzVR",clb:"UserCard_clb_IwaLV",con:"UserCard_con_vLbKt",right:"UserCard_right_1FmRo",rightContent:"UserCard_rightContent_3NZkQ",popBtn:"UserCard_popBtn_3Co3a",stbtn:"UserCard_stbtn_31l0m"}},"9f34":function(t,e,i){t.exports={top:"CardSubModule_top_3fY5b",num:"CardSubModule_num_1L_3x",item:"CardSubModule_item_2PjYL",video:"CardSubModule_video_13JA_",pic:"CardSubModule_pic_3T2Pp",icon:"CardSubModule_icon_3XKhe",bed4:"CardSubModule_bed4_CJoAi"}},"9f68":function(t,e,i){"use strict";var a=i("202e"),o=i.n(a);e["default"]=o.a},"9f87":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a-link",{class:t.$style.wrap,attrs:{"link-type":"old","style-type":"none",href:t.getHref,target:"_blank"},nativeOn:{click:function(t){t.stopPropagation()}}},[t.card.desc?i("woo-panel",{class:t.$style.content,attrs:{border:"left, right"}},[i("woo-box",{class:t.$style.more},[t.card.desc?i("div",{class:t.$style.cut2,domProps:{textContent:t._s(t.card.desc)}}):t._e()])],1):t._e()],1)},o=[],n={name:"card7",props:{card:{type:Object,default:function(){return{}}}},computed:{getHref:function(){return this.card.scheme||""}}},s=n,r=i("97e2"),l=i("2877");function c(t){this["$style"]=r["default"].locals||r["default"]}var u=Object(l["a"])(s,a,o,!1,c,null,null);e["default"]=u.exports},"9fba":function(t,e,i){t.exports={box:"Trend_box_255zQ",text:"Trend_text_3Mg82",icon:"Trend_icon_2Fiun"}},"9fcc":function(t,e,i){"use strict";var a=i("7707"),o=i.n(a);e["default"]=o.a},"9fe2":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.channelList&&t.channelList.length?i("div",[t._l(t.channelList,(function(e,a){return[i("a-link",{key:a,attrs:{to:t.getRouter(e),replace:""},nativeOn:{click:function(e){return t.handle(a)}}},[i("nav-item",{attrs:{icon:e.icon,text:e.name,cur:a===t.curIndex}})],1)]}))],2):t._e()},o=[],n=(i("c740"),i("5530")),s=i("2f62"),r=i("cafe"),l={name:"nav-left-search",components:{navItem:r["a"]},data:function(){return{curIndex:0,channelList:[],cards:[],headData:{},title:"",channelId:""}},created:function(){var t=this;this.$Bus.$emit("initList"),this.initData(),this.$Bus.$on("updateChannelList",this.updateChannelList),this.$once("hook:beforeDestroy",(function(){t.$Bus.$off("updateChannelList",t.updateChannelList)}))},computed:Object(n["a"])(Object(n["a"])({},Object(s["c"])(["curWeiboData"])),{},{containerid:function(){return this.$route.query.containerid}}),watch:{$route:function(){this.getCurIndex()}},methods:{initData:function(){var t=this;this.$http.get("/ajax/search/all",{params:{containerid:this.containerid,page:1,count:20,mark:this.curWeiboData.mark}}).then((function(e){if(e.data&&e.data.ok){var i=e.data.data;i&&(i.cardlist_title&&(t.title=i.cardlist_title),i.channel_list&&i.channel_list.length&&(t.channelList=i.channel_list,t.getCurIndex(),t.channelList[t.curIndex]&&(t.channelId=t.channelList[t.curIndex].id)),i.cards&&i.cards.length&&(t.cards=i.cards),i.head_data&&i.head_data.title&&(t.headData=i.head_data),t.$Bus.$emit("handleSearchNav",{type:"init",title:t.title,cards:t.cards,headData:t.headData,channelId:t.channelId}))}}))},getCurIndex:function(){var t=this;this.channelList&&this.channelList.length&&(this.curIndex=this.channelList.findIndex((function(e){return e.containerid===t.containerid})))},handle:function(t){this.curIndex=t,this.$Bus.$emit("handleSearchNav",{type:"click"})},getRouter:function(t){return{name:"searchResult",query:{containerid:t.containerid}}},updateChannelList:function(t){this.channelList=t.channel_list,this.curIndex=this.channelList.findIndex((function(e){return e.id===t.channelId}))}}},c=l,u=i("2877"),d=Object(u["a"])(c,a,o,!1,null,null,null);e["default"]=d.exports},"9fe3":function(t,e,i){t.exports={select:"TimeSelect_select_28FrH",new_picker:"TimeSelect_new_picker_1rFzC",picker:"TimeSelect_picker_3Lj1_",select1:"TimeSelect_select1_rkA49"}},a087:function(t,e,i){t.exports={layerVideo:"layerPlayer_layerVideo_38f4J",noBorderRadius:"layerPlayer_noBorderRadius_1tSjr"}},a13b:function(t,e,i){"use strict";var a=i("9008"),o=i.n(a);e["default"]=o.a},a14c:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.card.card_group&&t.card.card_group.length?i("div",{class:t.$style.wrap},[t.card.title?i("div",{class:t.$style.title,domProps:{innerHTML:t._s(t.card.title)}}):t._e(),i("Card",{attrs:{noBackground:t.isMoreCard9}},t._l(t.card.card_group,(function(e,a){return i("CardList",t._g(t._b({key:a,attrs:{card:e,isCardWrap:[8,27,59].indexOf(e.card_type)>-1||t.isOnlyCard9}},"CardList",t.$attrs,!1),t.$listeners))})),1)],1):t._e()},o=[],n=(i("c740"),i("d3b7"),{name:"card11",components:{CardList:function(){return Promise.resolve().then(i.bind(null,"3951"))}},props:{card:{type:Object,default:function(){return{}}}},computed:{isMoreCard9:function(){return!!(this.card.card_group&&this.card.card_group.length>1)&&(this.card.card_group.findIndex((function(t){return 9===t.card_type}))>-1&&this.card.card_group.findIndex((function(t){return 6===t.card_type}))>-1)},isOnlyCard9:function(){return!(!this.card.card_group||1!==this.card.card_group.length)&&this.card.card_group.findIndex((function(t){return 9===t.card_type}))>-1}}}),s=n,r=i("e878"),l=i("2877");function c(t){this["$style"]=r["default"].locals||r["default"]}var u=Object(l["a"])(s,a,o,!1,c,null,null);e["default"]=u.exports},a159:function(t,e,i){"use strict";var a=i("7fb8"),o=i.n(a);e["default"]=o.a},a1b4:function(t){t.exports=JSON.parse('[{"title":"全部关注","icon":"navAll"},{"title":"最新微博","icon":"navNew"},{"title":"特别关注","icon":"navSpecial"},{"title":"好友圈","icon":"navMutual"},{"title":"自定义","icon":""}]')},a1be:function(t,e,i){"use strict";var a=i("1718"),o=i.n(a);o.a},a2ba:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"a",(function(){return o}));var a=function(t){t.translated=!1,t.text=t.text_origin},o=function(t,e){var i=e.locale,a=e.source,o=e.text;t.text_origin=t.text,t.text=o,t.locale=i,t.translate_source=a,t.translated=!0}},a364:function(t,e,i){"use strict";var a=i("ce95"),o=i.n(a);e["default"]=o.a},a3d0:function(t,e,i){t.exports={title:"SideCard3_title_3C383",icon:"SideCard3_icon_2YVmf",box:"SideCard3_box_PjLtq",name:"SideCard3_name_1Kc6g",c1:"SideCard3_c1_3Gw-J",c2:"SideCard3_c2_1uZXk",c3:"SideCard3_c3_lT6a3",c4:"SideCard3_c4_1EzZT",btn:"SideCard3_btn_1pgfH"}},a3d6:function(t,e,i){},a416:function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_emoticon",use:"woo_svg_emoticon-usage",viewBox:"0 0 1024 1024",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" id="woo_svg_emoticon"><path fill="currentColor" d="M511.608 53.301c253.332 0 458.699 205.367 458.699 458.699S764.941 970.699 511.608 970.699 52.909 765.332 52.909 512 258.276 53.301 511.608 53.301zm0 70.569c-214.358 0-388.13 173.772-388.13 388.13s173.772 388.13 388.13 388.13S899.738 726.358 899.738 512s-173.772-388.13-388.13-388.13zM728.8 611.126c17.589 10.026 23.293 31.699 12.739 48.409-55.945 88.579-133.694 134.742-229.932 134.742S337.62 748.114 281.675 659.535c-10.553-16.71-4.85-38.383 12.739-48.409 17.589-10.026 40.403-4.607 50.956 12.102 43.097 68.237 97.404 100.481 166.236 100.481s123.139-32.244 166.236-100.481c10.556-16.71 33.369-22.128 50.958-12.102zM382.232 347.339c32.478 0 58.807 26.329 58.807 58.808 0 32.478-26.329 58.808-58.807 58.808s-58.808-26.329-58.808-58.808 26.329-58.808 58.808-58.808zm235.23 0c32.478 0 58.808 26.329 58.808 58.808 0 32.478-26.329 58.808-58.808 58.808-32.478 0-58.807-26.329-58.807-58.808-.001-32.479 26.328-58.808 58.807-58.808z" /></symbol>'});s.a.add(r);e["default"]=r},a4d1:function(t,e,i){"use strict";var a=i("514e"),o=i.n(a);e["default"]=o.a},a4f2:function(t,e,i){t.exports={box:"index_box_MkWee",box1:"index_box1_2btUY",box2:"index_box2_3rXVD",box3:"index_box3_2ktmk",gap:"index_gap_WPica",tab:"index_tab_1F6vM",label:"index_label_1Jwg1"}},a513:function(t,e,i){"use strict";var a=i("f165"),o=i.n(a);e["default"]=o.a},a548:function(t,e,i){t.exports={readWrap:"readnum_readWrap_2-F_n",readbox:"readnum_readbox_TJ101",num:"readnum_num_1Lix5",text:"readnum_text_2lMKG",linkbox:"readnum_linkbox_1v7jH",linkicon:"readnum_linkicon_1H2CG",disabled:"readnum_disabled_2TGWt",cursor:"readnum_cursor_1awyx",disableBox:"readnum_disableBox_2W5HW"}},a575:function(t,e,i){t.exports={box:"FileUpload_box_kh6Hv",icon:"FileUpload_icon_yWk5X",file:"FileUpload_file_1D0oy",text:"FileUpload_text_qB0ku"}},a576:function(t,e,i){t.exports={wrap:"Logo_wrap_1GQA1",main:"Logo_main_2QxW2"}},a592:function(t,e,i){"use strict";var a=i("1ed1"),o=i.n(a);e["default"]=o.a},a5a5:function(t,e,i){t.exports={wrap:"LoginPop_wrap_2DgKw",close:"LoginPop_close_VdTf5",btn:"LoginPop_btn_31Lh2",btn1:"LoginPop_btn1_IGHIb",main:"LoginPop_main_SAOC0",line:"LoginPop_line_i_KQD",bottom:"LoginPop_bottom_2fmsG",btn2:"LoginPop_btn2_3qXZ8",t1:"LoginPop_t1_2fuX8",t2:"LoginPop_t2_17nUx",c1:"LoginPop_c1_2IWC1",crbox:"LoginPop_crbox_237wO",mabox:"LoginPop_mabox_3Lyr6",tip:"LoginPop_tip_3jDSj",mabg:"LoginPop_mabg_3Qx1A",tab:"LoginPop_tab_2j8w6",tabitem:"LoginPop_tabitem_2FJjp",clbox:"LoginPop_clbox_2f5L4",btn3:"LoginPop_btn3_hSJQw",iptbox:"LoginPop_iptbox_2Sj9K",ipt:"LoginPop_ipt_Qua-b",ipt1:"LoginPop_ipt1_1C3yB",ipt2:"LoginPop_ipt2_2n-0E",add1:"LoginPop_add1_2NWoS",add2:"LoginPop_add2_1F3AL",opt:"LoginPop_opt_1eT5k",text:"LoginPop_text_2_fRO",image:"LoginPop_image_2Xf3w",t3:"LoginPop_t3_3z-6l"}},a5d1:function(t,e,i){"use strict";var a=i("645f"),o=i.n(a);e["default"]=o.a},a65d:function(t,e,i){t.exports={wrap:"card-vote_wrap_15NVR",original:"card-vote_original_2JeMZ",tit:"card-vote_tit_v6KBT",info:"card-vote_info_bxeU7",btnB:"card-vote_btnB_26aXH"}},a68a:function(t,e,i){t.exports={default:"ALink_default_2ibt1",none:"ALink_none_1w6rm",initial:"ALink_initial_oyMZP"}},a798:function(t,e,i){t.exports={wrap:"Nav_wrap_gHB1a",panel:"Nav_panel_YI3-j",holder:"Nav_holder_2kLYT",main:"Nav_main_UAKJF",left:"Nav_left_cbXXA",logoWrap:"Nav_logoWrap_2fPbO",logo:"Nav_logo_1BwBq",logoImg:"Nav_logoImg_XS7jD",search:"Nav_search_1erCO",icon:"Nav_icon_3GkaD",bar:"Nav_bar_2PJCD",barForcus:"Nav_barForcus_L6wsV",uslogo:"Nav_uslogo_116BP",uslogoRight:"Nav_uslogoRight_3h6UD",barhidden:"Nav_barhidden_VUzXc",mid:"Nav_mid_5pisP",right:"Nav_right_pDw0F",fold:"Nav_fold_3kBjD",popcon:"Nav_popcon__F1hb",nofold:"Nav_nofold_OONgU",iconblock:"Nav_iconblock_32fDk"}},a812:function(t,e,i){"use strict";var a=i("bf7e"),o=i.n(a);e["default"]=o.a},a863:function(t,e,i){t.exports={feedVideo:"FeedPlayer_feedVideo_39PLs",inViewer:"FeedPlayer_inViewer_h2a_o",buttons:"FeedPlayer_buttons_2VkgT",noBorderRadius:"FeedPlayer_noBorderRadius_1s-Yh",mixvideo:"FeedPlayer_mixvideo_4srSF"}},a878:function(t,e,i){"use strict";var a=i("3e7b"),o=i.n(a);o.a},a8ab:function(t,e,i){"use strict";var a=i("b155"),o=i.n(a);o.a},a8ce:function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_fresh",use:"woo_svg_fresh-usage",viewBox:"0 0 1024 1024",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" id="woo_svg_fresh"><path fill-rule="evenodd" clip-rule="evenodd" fill="currentColor" d="M508.656 648.06c28.292 0 113.166 163.675 113.166 226.115s-50.666 113.058-113.166 113.058c-62.501 0-113.167-50.617-113.167-113.058S480.364 648.06 508.656 648.06zm370.212-63.56c53.383 31.206 71.325 100.93 40.075 155.734-31.25 54.803-99.859 73.933-153.242 42.727-53.383-31.206-150.879-187.429-136.733-212.237 14.146-24.807 196.517-17.43 249.9 13.776zm-733.861 0c53.383-31.206 235.754-38.584 249.9-13.776 14.146 24.808-83.35 181.031-136.733 212.237-53.383 31.206-121.991 12.076-153.242-42.727-31.25-54.804-13.308-124.528 40.075-155.734zm620.781-343.503c53.407-31.22 122.035-12.102 153.286 42.702 31.25 54.803 13.288 124.539-40.119 155.759-53.407 31.22-235.841 38.635-249.987 13.827-14.146-24.808 83.413-181.068 136.82-212.288zm-507.571 0c53.407 31.22 150.967 187.48 136.821 212.288-14.146 24.808-196.58 17.393-249.987-13.827-53.407-31.22-71.369-100.956-40.119-155.759 31.25-54.804 99.878-73.922 153.285-42.702zm250.439-204.23c62.5 0 113.166 50.618 113.166 113.058 0 62.44-84.875 226.115-113.166 226.115-28.292 0-113.167-163.675-113.167-226.115 0-62.441 50.666-113.058 113.167-113.058z" /></symbol>'});s.a.add(r);e["default"]=r},a92f:function(t,e,i){"use strict";var a=i("1af8"),o=i.n(a);e["default"]=o.a},a96b:function(t,e,i){"use strict";var a=i("7f71"),o=i.n(a);e["default"]=o.a},a99f:function(t,e,i){"use strict";var a=i("fc01"),o=i.n(a);e["default"]=o.a},a9c2:function(t,e,i){t.exports={cut:"head_cut_2Zcft",avatar:"head_avatar_20c9y",historyavatar:"head_historyavatar_3lJJp",main:"head_main_3DRDm",nick:"head_nick_1yix2",suffixbox:"head_suffixbox_1PPjD",suffixIcon:"head_suffixIcon_2xXfT",fastfront:"head_fastfront_3RNEW",fastbehind:"head_fastbehind_1StRl",bolder:"head_bolder_2lvna",icon:"head_icon_1eHBa",iconsPlus:"head_iconsPlus_2YGHJ",info:"head_info_2S3Rs",from:"head_from_1dpo5",time:"head_time_1I4mm",source:"head_source_2wSqu",edit:"head_edit_18xLW",content_wrap:"head_content_wrap_27749",overname:"head_overname_2y-PW",name:"head_name_24eEB",link:"head_link_3cQGg",ip:"head_ip_28qht",superText:"head_superText_1r7et",superAvatar:"head_superAvatar_uihIN",cooperate:"head_cooperate_1vEyi"}},aa16:function(t,e,i){t.exports={line:"bottom_line_2EoGe",main:"bottom_main_1j6yM",side:"bottom_side_3m4x4",item:"bottom_item_16QtU",simple:"bottom_simple_3WV15",btn:"bottom_btn_3lCGs",icon:"bottom_icon_1oLaN",left:"bottom_left_3LCkV",right:"bottom_right_1qvtK",primary:"bottom_primary_1Qk8l",slot:"bottom_slot_2Lc80",center:"bottom_center__MGL_",num:"bottom_num_GZW1N",config:"bottom_config_2Pbpz",retweetIcon:"bottom_retweetIcon_22HOi",commentIcon:"bottom_commentIcon_3U10L",iconWrap:"bottom_iconWrap_1YVnb",wrap:"bottom_wrap_1Hf4D",cur:"bottom_cur_2L7Ov"}},aa18:function(t){t.exports=JSON.parse('[{"title":"编辑资料","type":"info","icon":"navTedit","groups":[]},{"title":"账号安全","icon":"navTsecurity","groups":[],"href":"//security.weibo.com/account/security"},{"title":"隐私设置","type":"privacy","icon":"navTprivacy","groups":[]},{"title":"消息设置","type":"messageSet","icon":"navTmsg","groups":[]},{"title":"屏蔽设置","type":"shield","icon":"navTshielding","groups":[]},{"title":"使用偏好","type":"prefer","icon":"navTuse","groups":[]}]')},aa5f:function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_live",use:"woo_svg_live-usage",viewBox:"0 0 1024 1024",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" id="woo_svg_live"><path fill="currentColor" d="M758.992 276.77c51.966 0 94.092 42.126 94.092 94.092v77.109l57.895-55.516c22.427-21.53 59.72-5.635 59.72 25.454v376.368c0 31.089-37.293 46.984-59.72 25.454l-57.895-55.563v77.155c0 51.966-42.126 94.092-94.092 94.092H147.393c-51.966 0-94.092-42.126-94.092-94.092v-470.46c0-51.966 42.126-94.092 94.092-94.092h611.599zm0 70.569H147.393c-12.991 0-23.523 10.532-23.523 23.523v470.46c0 12.991 10.532 23.523 23.523 23.523h611.598c12.991 0 23.523-10.532 23.523-23.523v-470.46c.001-12.991-10.531-23.523-23.522-23.523zM900.13 500.693l-47.046 45.086v120.579l47.046 45.133V500.693zm-647.228 21.575v146.904h66.503v31.012H214.999V522.268h37.903zm128.527 0v177.916h-37.903V522.268h37.903zm62.713 0l38.478 125.77c1.914 6.202 3.101 12.06 3.561 17.573h.689c.612-5.666 1.915-11.677 3.905-18.033l38.478-125.311h39.626l-61.794 177.916h-42.842l-60.99-177.916h40.889zm247.749 0v31.012h-63.287v41.923h58.807V626.1h-58.807v43.072h67.422v31.012H590.701V522.268h101.19zm-215.175-339.59c51.446 0 100.138 11.797 143.516 32.833l13.225 6.787 6.298 3.505-.577.93a23.442 23.442 0 016.433 16.164c0 12.991-10.532 23.523-23.523 23.523-2.403 0-4.721-.36-6.904-1.03l-.263.424c-40.849-22.981-87.997-36.09-138.205-36.09-50.208 0-97.356 13.109-138.205 36.09l-.584-.94a23.515 23.515 0 01-7.054 1.076c-12.991 0-23.523-10.532-23.523-23.523a23.44 23.44 0 016.542-16.277l-.215-.346 1.364-.774a23.475 23.475 0 019.911-5.374c45.417-23.626 97.031-36.978 151.764-36.978zm0-94.092c69.099 0 134.332 16.552 191.951 45.908l15.774 8.394 4.969 2.916-.322.52a23.456 23.456 0 017.334 17.066c0 12.991-10.532 23.523-23.523 23.523-2.851 0-5.583-.507-8.112-1.436l-.202.325c-55.287-31.91-119.446-50.169-187.868-50.169-68.423 0-132.581 18.258-187.868 50.169l-.202-.325a23.473 23.473 0 01-8.112 1.436c-12.991 0-23.523-10.532-23.523-23.523 0-6.719 2.817-12.779 7.334-17.066l-.322-.52 4.969-2.916 1.53-.79c61.015-34.086 131.335-53.512 206.193-53.512z" /></symbol>'});s.a.add(r);e["default"]=r},ab3d:function(t,e,i){"use strict";var a=i("ffda"),o=i.n(a);e["default"]=o.a},ab53:function(t,e,i){"use strict";var a=i("a798"),o=i.n(a);e["default"]=o.a},abe6:function(t,e,i){"use strict";var a=i("9779"),o=i.n(a);e["default"]=o.a},ac8e:function(t,e,i){"use strict";var a=i("bc3b"),o=i.n(a);e["default"]=o.a},aca1:function(t,e,i){t.exports={picbed:"Image_picbed_18Y5d",pic:"Image_pic_3Kq2E",focuspic:"Image_focuspic_2zQUW",loading:"Image_loading_3sX-f",close:"Image_close_2Ok4l",focus:"Image_focus_2fwDX",icon:"Image_icon_3O41a"}},acc3:function(t,e,i){"use strict";var a=i("5730"),o=i.n(a);e["default"]=o.a},adae:function(t,e,i){t.exports={select:"TimeSelect_select_3Yo_P",ipt3:"TimeSelect_ipt3_8ENac",ipt4:"TimeSelect_ipt4_3vnf7"}},adc5:function(t,e,i){t.exports={opt:"translate_opt_3_-jh",text:"translate_text_1I4G1",icon:"translate_icon_2QwNl",btn:"translate_btn_15Svz",pop:"translate_pop_fDD99",list:"translate_list_2Y55G",transGap:"translate_transGap_2Wp6U",transIng:"translate_transIng_xuiiU",wbtext:"translate_wbtext_3LAAl",source:"translate_source_DF6w8",caretDown:"translate_caretDown_3zfXl"}},add9:function(t,e,i){t.exports={cutout:"CollectionContent_cutout_1CeII",cditem:"CollectionContent_cditem_1NpXI",loadingIcon:"CollectionContent_loadingIcon_3nbTf",tipbox:"CollectionContent_tipbox_27C1u",titbox:"CollectionContent_titbox_OT5lH",tit:"CollectionContent_tit_1j7q7",notcurr:"CollectionContent_notcurr_1_HWa",empty:"CollectionContent_empty_nFHio"}},ae60:function(t,e,i){},ae81:function(t,e,i){"use strict";var a=i("4dc4"),o=i.n(a);e["default"]=o.a},aedc:function(t,e,i){},af5a:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-pop",{attrs:{show:t.show,align:"center"},on:{"click-outside":t.closePop},scopedSlots:t._u([{key:"ctrl",fn:function(){return[t._t("default")]},proxy:!0}],null,!0)},[i("woo-pop-wrap",[t.hasSpecialfo?i("woo-pop-item",{class:t.$style.item,nativeOn:{click:function(e){return e.stopPropagation(),t.updateSpecialFo(e)}}},[t._v(" "+t._s(t.isSpecialFo?"移除特别关注":"设为特别关注")+" ")]):t._e(),t.hasGroup?i("woo-pop-item",{class:t.$style.item,nativeOn:{click:function(e){return e.stopPropagation(),t.$emit("set-group",t.uid)}}},[t._v(" 设置分组 ")]):t._e(),t.hasRemark?i("woo-pop-item",{class:t.$style.item,nativeOn:{click:function(e){return e.stopPropagation(),t.setRemark(e)}}},[t._v(" 设置备注 ")]):t._e(),t.hasUnfollow?i("woo-pop-item",{class:t.$style.item,nativeOn:{click:function(e){return e.stopPropagation(),t.unfollow(e)}}},[t._v(" 取消关注 ")]):t._e()],1)],1)},o=[],n=(i("fb6a"),i("fa20")),s=30,r={template:'<woo-input v-model="input" :maxlength="maxlength" placeholder="1～15个字" style="width: 22.5rem;" @keypress.native.stop></woo-input>',data:function(){return{input:this.$attrs.input,maxlength:s,strlen:0}},watch:{input:function(t){this.strlen=this.calcStrLen(t),this.strlen>=s?(this.maxlength=this.calcStrLen(t,!0,s).length,this.input=this.calcStrLen(t,!0,s)):this.maxlength=Math.max(this.calcStrLen(t,!0,s).length,s),this.$_wooBus.$emit("customValue",t)}},methods:{calcStrLen:function(t,e,i){for(var a=0,o=0;o<t.length;o++)if(t.charCodeAt(o)>255&&a++,a++,e&&a>i)return t.slice(0,o);return e?t:a}}},l={name:"FollowPop",props:{show:{type:Boolean},uid:String,specialFo:Boolean,hasSpecialfo:{type:Boolean,default:!0},hasRemark:{type:Boolean,default:!0},hasUnfollow:{type:Boolean,default:!0},hasGroup:{type:Boolean,default:!1},remark:String,user:{type:Object,default:function(){return{}}}},data:function(){return{remarkValue:this.remark,isSpecialFo:this.specialFo}},watch:{specialFo:function(t){this.isSpecialFo=t}},methods:{unfollow:function(){var t=this;this.$_w_dialog({type:"confirm",message:"确定不再关注此人？",action:function(){t.$http.post("/ajax/friendships/destory",{uid:t.uid}).then((function(e){e.data.ok>0&&(t.show=!t.show,t.$emit("follow-change",!1),t.closePop(),t.$_w_toast({type:"success",message:"取关成功"}))}))}})},closePop:function(){this.$emit("update:show",!1),this.$emit("close-pop")},setRemark:function(){var t=this;this.$_wooBus.$on("customValue",(function(e){t.remarkValue=e})),this.$_w_dialog({type:"confirm",kind:"bar",title:"设置备注",component:r,componentProps:{input:this.remarkValue},action:function(){t.closePop(),t.$http.post("/ajax/friendships/remarkUpdate",{uid:t.uid,remark:t.remarkValue}).then((function(e){e.data.ok>0?(t.$_w_toast({type:"success",message:"设置成功",autohide:!0}),t.$emit("set-remark",t.remarkValue)):t.remarkValue=t.remark})).catch((function(){t.remarkValue=t.remark})),t.$_wooBus.$off("customValue")}})},updateSpecialFo:function(){var t,e,i=this,a="$_w_toast";this.isSpecialFo?(t="/ajax/friendships/specialDestory",e={type:"success",message:"操作成功",autohide:!0}):(t="/ajax/friendships/specialAdd",e={title:"特别关注",message:"".concat(Object(n["a"])(this.user),"发布的微博在信息流将置顶显示"),btnConfirm:"我知道了"},a="$_w_dialog"),this.$http.post(t,{touid:this.uid}).then((function(t){t.data.ok>0&&t.data.result?(i.isSpecialFo=!i.isSpecialFo,i.closePop(),i.$emit("spfollow-change",i.isSpecialFo),i.$emit("update:specialFo",i.isSpecialFo),i[a](e)):i.$_w_toast({type:"error",message:"设置失败",autohide:!0})}))},openOnlyPop:function(t){t!==this.uid&&this.closePop()}},created:function(){this.$Bus.$on("follow-pop-show",this.openOnlyPop)},beforeDestroy:function(){this.$Bus.$off("follow-pop-show",this.openOnlyPop)}},c=l,u=i("8f44"),d=i("2877");function h(t){this["$style"]=u["default"].locals||u["default"]}var p=Object(d["a"])(c,a,o,!1,h,null,null);e["a"]=p.exports},af5f:function(t,e,i){t.exports={text:"detail_text_1U10O",wbtext:"detail_wbtext_4CRf9",ogText:"detail_ogText_2Z1Q8",reText:"detail_reText_30vF1",nick:"detail_nick_u-ffy",verify:"detail_verify_1GOx9",transGap:"detail_transGap_sJRM-"}},b00f:function(t,e,i){t.exports={line:"toolbar_line_nGyNa",main:"toolbar_main_3Mxwo",simple:"toolbar_simple_qb_FB",btn:"toolbar_btn_Cg9tz",item:"toolbar_item_1ky_D",icon:"toolbar_icon_33tcD",left:"toolbar_left_2vlsY",right:"toolbar_right_FZ8Av",num:"toolbar_num_JXZul",likebox:"toolbar_likebox_1rLfZ",primary:"toolbar_primary_2HyZ4",slot:"toolbar_slot_3GJxh",center:"toolbar_center_1d8aj",config:"toolbar_config_1APnL",retweetIcon:"toolbar_retweetIcon_3_EwF",commentIcon:"toolbar_commentIcon_3o7HB",iconWrap:"toolbar_iconWrap_3-rI7",wrap:"toolbar_wrap_np6Ug",cur:"toolbar_cur_JoD5A",likeIcon:"toolbar_likeIcon_1ONZy",btnDisabled:"toolbar_btnDisabled_2tt0R",cursor:"toolbar_cursor_34j5V",isInViewer:"toolbar_isInViewer_11k2T",columnBtn:"toolbar_columnBtn_2DygZ",share:"toolbar_share_39C6P",qrcode:"toolbar_qrcode_2cHO-",text:"toolbar_text_iNJoL",retweet:"toolbar_retweet_1L_U5",like:"toolbar_like_20yPI"}},b011:function(t,e,i){"use strict";var a=i("1263"),o=i.n(a);e["default"]=o.a},b12a:function(t,e,i){"use strict";i("4160"),i("159b");var a=i("5530"),o=i("8b4a");e["a"]={methods:{throwBatch:function(t){t&&this.$http.post("/ajax/feed/throwbatch",{actionlog:t}).then((function(t){}))},thirdMonitor:function(t,e){t&&t.length&&t.forEach((function(t){t.third_party_show&&"show"===e?Object(o["a"])([t.third_party_show]):t.third_party_click&&"click"===e&&Object(o["a"])([t.third_party_click])}))},adClickAllLog:function(t,e){this.throwBatch(t),this.thirdMonitor(e,"click")},profileADLog:function(t){this.$http.get("/ajax/log/adProfileClick",{params:Object(a["a"])({},t)})}}}},b155:function(t,e,i){},b16c:function(t,e,i){t.exports={container:"Suggest_container_20fT4",list:"Suggest_list_hBIrL",title:"Suggest_title_3FdV2",item:"Suggest_item_IeDip",active:"Suggest_active_nxXmn",suggest:"Suggest_suggest_19V_x"}},b172:function(t,e,i){t.exports={list1:"UserList_list1_2QC8c",item1:"UserList_item1_2veDe",con1:"UserList_con1_NOWDn",h3:"UserList_h3_P3avt",h4:"UserList_h4_2SdAw",list2:"UserList_list2_1NQ7b",tit:"UserList_tit_1LEWs",more:"UserList_more_3lomV",icon2:"UserList_icon2_2YLAJ",avatar:"UserList_avatar_3a1dP",rightIcon:"UserList_rightIcon_qgLwC",followBtn:"UserList_followBtn_2FBK_",help:"UserList_help_ToXOx",helppop1:"UserList_helppop1_2Kqzg"}},b17d:function(t,e,i){"use strict";var a=i("bb93"),o=i.n(a);e["default"]=o.a},b1f3:function(t,e,i){"use strict";var a=i("94c8"),o=i.n(a);e["default"]=o.a},b21f:function(t,e,i){"use strict";var a=i("d17c"),o=i.n(a);e["default"]=o.a},b371:function(t,e,i){"use strict";var a=i("c71b"),o=i.n(a);e["default"]=o.a},b385:function(t,e,i){t.exports={video:"SideC_video_JHxa-",pic:"SideC_pic_2ZJ4O",icon:"SideC_icon_26ZXD",bed4:"SideC_bed4_KSpyN"}},b3af:function(t,e,i){},b43b:function(t,e,i){},b44a:function(t,e,i){"use strict";i.r(e);var a=i("0b70"),o=i("722e"),n=i("641d");e["default"]=[{path:"hot",name:"hot",components:{main:a["a"],side:o["a"]},meta:{keepAlive:!0,title:"推荐",channel:"hot"},children:[{path:"weibo/:gid",name:"weibo",meta:{keepAlive:!0,title:"推荐",channel:"hot",uicode:n.uicode.hotWeiboTab}},{path:"list/:gid",name:"list",meta:{keepAlive:!0,title:"推荐",channel:"hot",uicode:n.uicode.hotListTab}},{path:"topic",name:"topic",meta:{keepAlive:!0,title:"推荐",channel:"hot",uicode:n.uicode.hotTopicTab}},{path:"search",name:"search",meta:{keepAlive:!0,title:"推荐",channel:"hot",uicode:n.uicode.hotWordTab}},{path:"entertainment",name:"entertainment",meta:{keepAlive:!0,title:"推荐",channel:"hot",uicode:n.uicode.hotWordTab}},{path:"news",name:"news",meta:{keepAlive:!0,title:"推荐",channel:"hot",uicode:n.uicode.hotWordTab}}]}]},b4d3:function(t,e,i){"use strict";var a=i("eede"),o=i.n(a);e["default"]=o.a},b573:function(t,e,i){"use strict";var a=i("6f40"),o=i.n(a);e["default"]=o.a},b576:function(t,e,i){"use strict";var a=i("5fc8"),o=i.n(a);e["default"]=o.a},b5a3:function(t,e,i){t.exports={user1:"Profile_user1_1OvGK",cut:"Profile_cut_kYKIm",btn:"Profile_btn_4Wj2Q",card:"Profile_card_x5v4A",muteuser:"Profile_muteuser_18Qnv",usertype11Empty:"Profile_usertype11Empty_3WufV",emptyContent:"Profile_emptyContent_5nq6K",blockIcon:"Profile_blockIcon_36GuQ",avatar:"Profile_avatar_3o341",user2:"Profile_user2_1soGs",followBtn:"Profile_followBtn_1s8Zl",enterpriseUser:"Profile_enterpriseUser_17E4a"}},b5d7:function(t,e,i){"use strict";var a=i("add9"),o=i.n(a);e["default"]=o.a},b5db:function(t,e,i){"use strict";var a=i("a548"),o=i.n(a);e["default"]=o.a},b5f0:function(t,e,i){"use strict";var a=i("1349"),o=i.n(a);e["default"]=o.a},b71e:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wbpro-layer"},[i("woo-panel",{attrs:{border:"bottom"}},[i("woo-box",{staticClass:"wbpro-layer-tit"},[i("woo-box",{staticClass:"wbpro-layer-tit-nav",attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"angleLeft"},nativeOn:{click:function(e){return t.cancel(e)}}})],1),i("woo-box-item",{staticClass:"wbpro-layer-tit-text",attrs:{align:"center"}},[t._v(t._s(t.title))])],1)],1),i("div",{class:t.$style.editbox},[i("Cropper",{ref:"cropper",attrs:{aspectRatio:t.aspectRatio,height:t.height,options:t.options,opts:t.opts}}),t.needTips?i("div",{class:t.$style.tip},[t._v(" 支持5MB以内的png/gif/jpg图片，图片比例建议"+t._s(t.radioText)+" ")]):t._e(),t.desc?i("div",{class:t.$style.tip},[t._v(" "+t._s(t.desc)+" ")]):t._e()],1),i("woo-box",{staticClass:"wbpro-layer-btn",attrs:{justify:"center"}},[i("woo-button",{staticClass:"wbpro-layer-btn-item",attrs:{sort:"flat",kind:"default"},nativeOn:{click:function(e){return e.stopPropagation(),t.$refs.file.click(e)}}},[t._v("更换图片")]),i("woo-button",{staticClass:"wbpro-layer-btn-item",attrs:{sort:"flat",kind:"primary",disabled:t.okDisabled},nativeOn:{click:function(e){return e.stopPropagation(),t.ok(e)}}},[t._v("完成")])],1),i("input",{ref:"file",class:t.$style.file,attrs:{type:"file",accept:".jpg, .jpeg, .bmp, .gif, .png"},on:{change:t.change}})],1)},o=[],n=(i("a9e3"),i("d3b7"),i("3ca3"),i("ddb0"),i("2b3d"),i("96cf"),i("1da1")),s=i("4fa9"),r={props:{desc:{type:String},height:{type:Number,default:400},needTips:{default:!0,type:Boolean},options:{type:Object},iptType:{type:String,default:"",required:!1},ratio:{type:Array,default:function(){return[4,3]},required:!1},title:{type:String,default:"编辑图片选项"},max:{},opts:{default:function(){return{}}}},data:function(){return{type:"text",next:function(){},okDisabled:!1}},components:{Cropper:s["a"]},computed:{aspectRatio:function(){return this.ratio[0]/this.ratio[1]},radioText:function(){return this.ratio[0]+":"+this.ratio[1]}},methods:{setSrc:function(t,e){this.$refs.cropper.setSrc(t),this.next=e},change:function(t){this.max&&t.target.files[0].size>1024*this.max*1024?this.$_w_toast({type:"error",message:"请上传10M以下图片"}):this.$refs.cropper.setSrc(URL.createObjectURL(t.target.files[0]))},cancel:function(){this.next&&this.next("cancel")},ok:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.okDisabled=!0,e.prev=1,e.next=4,t.$refs.cropper.getWeiboURL(!0);case 4:i=e.sent,t.next&&t.next("ok",i.url,i&&i.pid),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](1);case 10:t.okDisabled=!1;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()}}},l=r,c=i("4be6"),u=i("2877");function d(t){this["$style"]=c["default"].locals||c["default"]}var h=Object(u["a"])(l,a,o,!1,d,null,null);e["a"]=h.exports},b740:function(t,e,i){"use strict";var a=i("db38"),o=i.n(a);e["default"]=o.a},b746:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[t.moreMessage?t._e():i("div",["message"!=t.curName&&"messageAll"!=t.curName&&"likeInbox"!=t.curName?i("SecBar",[i("Card",[i("Tab",{attrs:{pagetype:t.messages,tabs:t.tabs,newCurIndex:t.tabIndex,red:!0,cut:!1,colum:0},on:{changeTab:t.clickGroup}})],1)],1):t._e(),i("keep-alive",[i(t.currentTab+"-messages",{tag:"component",attrs:{cardType:t.cardType,messageAllTag:t.messageAllTag},on:{change:function(e){return t.change(arguments)}}})],1)],1),t.moreMessage?i("div",{staticClass:"home"},[i("Bar",{attrs:{"go-back":"",divide:"",customBack:""},on:{"click-handle":t.back}}),i("Scroll",{attrs:{data:t.list,isLoading:t.isLoading,isEmpty:t.isEmpty,isRetry:t.isRetry,isNoData:t.isNoData,skeleton:!0},on:{loadMoreData:t.loadMoreData},scopedSlots:t._u([{key:"content",fn:function(e){var a=e.item,o=e.index;return[i("message-card",{staticStyle:{width:"100%"},attrs:{item:a,sort:"hot"===t.$route.query.type,index:o}})]}}],null,!1,3261230910)})],1):t._e()])},o=[],n=(i("99af"),i("caad"),i("c975"),i("d81d"),i("b0c0"),i("b64b"),i("5377"),i("2532"),i("5530")),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Card",[i("woo-box",{class:t.$style.tit,attrs:{align:"center"}},[i("div",[t._v("近24小时共收到消息")])]),i("woo-box",{class:t.$style.data,attrs:{align:"center",justify:"between"}},[i("div",{class:t.$style.data1,attrs:{id:"container"}}),i("woo-box",{attrs:{direction:"y",align:"end"}},[i("div",[i("woo-box",{class:t.$style.w1,attrs:{align:"end"}},[i("woo-box-item",{attrs:{align:"flex-end"}},[t._v("全部消息")]),i("div",{staticClass:"wbpro-fontnum",class:[t.$style.num2,t.$style.f40,t.$style.cla,t.$style.cur],on:{click:function(e){return t.jump("messageAll")}}},[t._v(" "+t._s(t._f("formatNumber")(t.dayMessage.total))+" ")]),i("div",{class:t.$style.cur,on:{click:function(e){return t.jump("messageAll")}}},[t._v("条")])],1),i("woo-divider")],1),i("woo-box",{class:t.$style.w2,attrs:{align:"center"}},[i("div",{class:[t.$style.dot,t.$style.bga]}),i("woo-box-item",{attrs:{align:"center"}},[t._v("@我的消息")]),i("div",{staticClass:"wbpro-fontnum",class:[t.$style.num2,t.$style.f24,t.$style.cla,t.$style.cur],on:{click:function(e){return t.jump("atWeibo")}}},[t._v(" "+t._s(t._f("formatNumber")(t.dayMessage.at))+" ")]),i("div",{class:t.$style.cur,on:{click:function(e){return t.jump("atWeibo")}}},[t._v("条")])],1),i("woo-box",{class:t.$style.w2,attrs:{align:"center"}},[i("div",{class:[t.$style.dot,t.$style.bgb]}),i("woo-box-item",{attrs:{align:"center"}},[t._v("评论我的消息")]),i("div",{staticClass:"wbpro-fontnum",class:[t.$style.num2,t.$style.f24,t.$style.clb,t.$style.cur],on:{click:function(e){return t.jump("cmtInbox")}}},[t._v(" "+t._s(t._f("formatNumber")(t.dayMessage.comment))+" ")]),i("div",{class:t.$style.cur,on:{click:function(e){return t.jump("cmtInbox")}}},[t._v("条")])],1),i("woo-box",{class:t.$style.w2,attrs:{align:"center"}},[i("div",{class:[t.$style.dot,t.$style.bgc]}),i("woo-box-item",{attrs:{align:"center"}},[t._v("赞我的消息")]),i("div",{staticClass:"wbpro-fontnum",class:[t.$style.num2,t.$style.f24,t.$style.clc,t.$style.cur],on:{click:function(e){return t.jump("likeInbox")}}},[t._v(" "+t._s(t._f("formatNumber")(t.dayMessage.like))+" ")]),i("div",{class:t.$style.cur,on:{click:function(e){return t.jump("likeInbox")}}},[t._v("条")])],1)],1)],1),i("woo-box",{class:t.$style.data2},t._l(t.histogram,(function(e){return i("woo-box-item",{key:e.name},[i("woo-box",{attrs:{direction:"y",align:"center"}},[i("div",{class:t.$style.pro,staticStyle:{cursor:"pointer"},on:{click:function(i){return t.showMoreSummary(e.v)}}},[i("div",{class:[t.$style.proin,t.$style.bgd],style:"transform: scaleY("+e.percent+");"})]),i("woo-box",{staticStyle:{cursor:"pointer"},attrs:{align:"center"},nativeOn:{click:function(i){return t.showMoreSummary(e.v)}}},[i("div",[t._v(t._s(e.title))]),i("div",{staticClass:"wbpro-fontnum",class:[t.$style.num3,t.$style.f24,t.$style.cld]},[t._v(" "+t._s(e.desc)+" ")]),i("div",[t._v("条")])])],1)],1)})),1)],1),t.isEmpty?t._e():i("Scroll",{attrs:{data:t.list,isLoading:t.isLoading,isEmpty:t.isEmpty,isRetry:t.isRetry,skeleton:!0,noDataText:""},on:{loadMoreData:t.loadMoreData},scopedSlots:t._u([{key:"content",fn:function(e){var a=e.item;return[a&&a.message&&a.message[0]?i("Card",{class:t.$style.list12},[i("woo-box",{class:t.$style.tit,attrs:{align:"center"}},[i("div",{attrs:{id:a.v},domProps:{textContent:t._s(a.title)}}),"hot"!==a.v?i("div",[t._v(t._s("("+a.num+")"))]):t._e(),i("woo-pop",{class:t.$style.help,attrs:{show:a.showHelp,direction:"right",align:"center",gap:"10"},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-tip",{attrs:{type:"help",gap:"10",inline:"",reverse:""},nativeOn:{mouseover:function(t){a.showHelp=!0},mouseout:function(t){a.showHelp=!1}}})]},proxy:!0}],null,!0)},[i("div",{staticClass:"wbpro-texta",class:t.$style.helppop1},[t._v(" "+t._s(a.tips)+" ")])])],1),"followers"!==a.v?i("div",t._l(a.message.slice(0,3),(function(e,o){return i("div",{key:o,class:t.$style.cardlist},[i("message-card",{class:t.$style.card,attrs:{item:e,sort:a.sortNumber,index:o}})],1)})),0):i("div",{staticStyle:{width:"100%"}},[i("woo-box",{class:t.$style.list2},t._l(a.message.slice(0,6),(function(e,a){return i("woo-box-item",{key:a},[i("woo-box",{attrs:{direction:"y",align:"center"}},[i("woo-avatar",{attrs:{usercard:e.userInfo.id,size:40,src:e.userInfo.avatar_large}}),i("div",{staticClass:"wbpro-textcut",class:t.$style.h3,attrs:{usercard:e.userInfo.id},domProps:{textContent:t._s(e.userInfo.screen_name)}}),i("div",{class:t.$style.h4},[t._v(t._s(t._f("tipsFilter")(e.tips)))])],1)],1)})),1)],1),("followers"!==a.v?a.message.length>6:a.message.length>3)?i("woo-box",{class:t.$style.more,attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return e.stopPropagation(),t.showMoreSummary(a.v)}}},[i("div",[t._v("查看更多")]),i("woo-fonticon",{class:t.$style.icon2,attrs:{value:"angleRight"}})],1):t._e()],1):t._e()]}}],null,!1,362489985)})],1)},r=[],l=(i("a9e3"),i("07ac"),i("53ca")),c=i("4328"),u=i.n(c),d=i("fc8e"),h=i.n(d),p=function(t){return h.a.get("/ajax/message/query_sys_messages?"+u.a.stringify(t)).then((function(t){return t.data}))},f=function(t){return h.a.post("/ajax/message/apply_check",u.a.stringify(t)).then((function(t){return t.data}))},m=function(){return h.a.get("/ajax/message/summary").then((function(t){return t.data}))},v=["messageAll","atWeibo","atCmt","cmtInbox","cmtOutbox","likeInbox"],_=["atWeibo","atCmt"],g=["cmtInbox","cmtOutbox"],b=[{name:"messageAll",value:"24小时全部",nextTag:[],api:"/ajax/message/msgList",parmas:{type:"all"},type:"list",isClick:!0,unread:"",unreadTag:""},{name:"atMe",value:"@我的微博",isClick:!1,unread:"",unreadTag:"mention_status",nextTag:[{name:"atWeibo",value:"@我的微博",api:"/ajax/statuses/mentions",parmas:{},type:"statuses",unread:"",unreadTag:"mention_status"},{name:"atWeibo",value:"关注人的微博",api:"/ajax/statuses/mentions",parmas:{filter_by_author:1},type:"statuses",unread:"",unreadTag:"attention_mention_status"},{name:"atWeibo",value:"原创微博",api:"/ajax/statuses/mentions",parmas:{filter_by_type:1},type:"statuses",unread:"",unreadTag:""},{name:"atCmt",value:"@我的评论",api:"/ajax/comments/mentions",parmas:{},type:"comments",unread:"",unreadTag:"all_mention_cmt"},{name:"atCmt",value:"关注人的评论",api:"/ajax/comments/mentions",parmas:{filter_by_author:1},type:"comments",unread:"",unreadTag:"attention_mention_cmt"}]},{name:"cmt",value:"收到的评论",isClick:!1,unread:"",unreadTag:"cmt",nextTag:[{name:"cmtInbox",value:"收到的评论",api:"/ajax/message/cmt",parmas:{},type:"comments",unread:"",unreadTag:"cmt"},{name:"cmtInbox",value:"关注人的评论",api:"/ajax/message/cmt",parmas:{filter_by_author:1},type:"comments",unread:"",unreadTag:"attention_cmt"},{name:"cmtOutbox",value:"发出的评论",api:"/ajax/message/myCmt",parmas:{},type:"comments",unread:"",unreadTag:""}]},{name:"likeInbox",value:"赞",nextTag:[],api:"/ajax/message/attitudes",parmas:{},type:"attitudes",isClick:!1,unread:"",unreadTag:"attitude"}],y=function(){var t,e=this,i=e.$createElement,a=e._self._c||i;return a("Card",{class:e.$style.wrap},[e.sort?a("woo-box",{class:e.$style.rank,attrs:{align:"center"}},[a("div",{class:[{"wbpro-rank":e.index>2},"wbpro-rank-"+(e.index+1)]},[e._v(" "+e._s(e.index+1)+" ")]),"评论了你的微博"===e.item.action?a("div",{class:e.$style.txt},[e._v(" 该评论被互动 ")]):a("div",{class:e.$style.txt},[e._v("该微博被互动")]),a("div",{staticClass:"wbpro-fontnum",class:e.$style.num,domProps:{textContent:e._s(e.$options.filters.formatNumber(e.item.interactiveNumber))}}),a("div",{class:e.$style.txt},[e._v("次")])]):e._e(),a("woo-box",{class:(t={},t[e.$style.item1]=!0,t[e.$style.item12]="sentCmt"===e.item.bottomType,t)},[a("div",[a("a-link",{attrs:{to:"/u/"+e.item.user.id}},[e.item.user?a("woo-avatar",{attrs:{usercard:e.item.user.id,size:50,verified:e.getVerifiedIcon(e.item.user),src:e.item.user.avatar_large||"https://tvax1.sinaimg.cn/default/images/default_avatar_male_180.gif"}}):e._e()],1)],1),a("woo-box-item",{class:e.$style.con1},[e.item.user?a("div",{class:e.$style.h3},[a("a-link",{attrs:{to:"/u/"+e.item.user.id,usercard:e.item.user.id}},[e._v(e._s(e.item.user.screen_name||"用户"+e.item.user.id))]),a("IconFans",{attrs:{mbrank:e.item.user.mbrank,mbtype:e.item.user.mbtype,svip:e.item.user&&e.item.user.svip,vvip:e.item.vvip&&e.item.user.vvip,fansIcon:e.item.user&&e.item.user.fansIcon}}),e.item.action?a("span",{class:e.$style.action,domProps:{textContent:e._s(e.item.action)}}):e._e()],1):e._e(),e.item.content?a("div",{directives:[{name:"ahref",rawName:"v-ahref"}],class:[e.$style.h3,e.$style.wbtext,e.$style.textImg],domProps:{innerHTML:e._s(e.item.content)}}):e._e(),e.item.data&&(e.item.data.pics&&e.item.data.pics.length||e.item.data.pic_ids&&e.item.data.pic_ids.length)?a("feed-picture",{class:e.$style.messagePic,attrs:{pics:e.isPay?e.payPics:e.picsInfo||e.pid2imgs,pic_num:e.item.data.pic_num,content:e.item.data,isPay:e.isPay},on:{"picture-tap":e.FeedPicture}}):e._e(),a("a-link",{attrs:{to:e.getRouter("detail").router,styleType:"none"}},[e.item.details||e.item.error?a("div",{class:[e.$style.wbtext,e.$style.text]},[e.item.error?a("div",{on:{click:function(t){t.stopPropagation()}}},[a("woo-tip",{class:e.$style.empty,attrs:{type:"warn"}},[a("span",{domProps:{innerHTML:e._s(e.item.errorMessage)}})])],1):a("div",{on:{click:function(t){return e.goDetail("detail",t)}}},[a("a-link",{attrs:{to:"/n/"+e.item.atPerson,styleType:"initial"}},[e._v("@"+e._s(e.item.atPerson))]),e._v(": "),e.item.details?a("span",{directives:[{name:"ahref",rawName:"v-ahref"}],domProps:{innerHTML:e._s(e.item.details)}}):e._e()],1)]):e._e()]),a("a-link",{attrs:{to:e.getRouter("content").router,styleType:"none"}},[a("span",{class:e.$style.h4,on:{click:function(t){return e.goDetail("content",t)}}},[e._v(" "+e._s(e._f("fromNow")(e.item.time))+" ")])])],1)],1),!e.item.bottomType||"status"!==e.item.bottomType&&"retweeted_status"!==e.item.bottomType?e._e():a("feed-toolbar",{attrs:{repost:e.reposts_count_format,comment:e.cmt_count_format,attitude:e.attitudes_count||0,likeCount:e.attitudes_count||0,liked:e.valueLike,simple:!1,high:!1,id:e.item.id,"toolbar-align":"left",single:"true"},on:{"toolbar-retweet-tap":e.messageRepost,"toolbar-comment-tap":e.messageComment,"toolbar-like-tap":e.messageLike}}),!e.item.bottomType||"cmt"!==e.item.bottomType&&"replyCmt"!==e.item.bottomType&&"like"!==e.item.bottomType?e._e():a("feed-toolbar-another",{attrs:{repost:e.reposts_count_format,isHigh:!1,repostShow:e.repostShow,comment:e.cmt_count_format,commentShow:e.commentShow,attitude:e.attitudes_count_format||0,attitudeShow:e.attitudeShow,likeCount:e.attitudes_count_format||0,liked:e.valueLike,simple:!1,id:e.item.id,items:e.bottomInfo,"toolbar-align":"left",single:"true"},on:{"toolbar-retweet-tap":e.messageRepost,"toolbar-comment-tap":e.messageComment,"toolbar-like-tap":e.messageLike}})],1)},w=[],x=(i("d3b7"),i("25f0"),i("0bc5")),k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("footer",{attrs:{"aria-label":t.infos}},[t._t("toolbarFullSlot"),t.$slots.toolbarFullSlot?t._e():i("woo-box",{class:[t.toolbarAlignStyle,t.simple?t.$style.simple:t.$style.main],attrs:{direction:t.boxDirection,justify:!t.simple&&t.commentShow&&t.attitudeShow?"between":"center",old:t.simple}},[t._l(t.items,(function(e,a){var o;return i("woo-box-item",{directives:[{name:"active",rawName:"v-active"}],key:a,class:t.$style.item},["comment"===e.icon&&t.commentShow?i("woo-box",{class:(o={},o[t.$style.wrap]="left"===t.toolbarAlign,o),attrs:{align:"center",justify:"center"},nativeOn:{click:function(i){return i.stopPropagation(),t.clickHandle(e.icon)}}},["left"===t.toolbarAlign?i("woo-box",{class:t.$style.iconWrap,attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{class:t.$style.commentIcon,attrs:{value:e.icon}})],1):t._e(),i("span",{class:t.$style.num},[t._v(" 回复 ")])],1):t._e(),"like"===e.icon&&"right"===t.toolbarAlign&&t.attitudeShow?i("woo-button",{class:t.$style.btn,attrs:{tabindex:"0",sort:"simple",kind:"default",fluid:""}},[t._v(" 赞"+t._s(t.attitude)+" ")]):t._e(),"like"===e.icon&&"left"===t.toolbarAlign&&t.attitudeShow?i("woo-like",{class:t.$style.btn,attrs:{tabindex:"0",like:t.valueLike,count:t.attitude,effect:!t.simple,static:t.simple,original:t.simple},on:{status:t.likeHandle},nativeOn:{click:function(i){i.stopPropagation(),t.simple&&t.clickHandle(e.icon)}}}):t._e()],1)})),t.hasSlot?i("woo-box",{class:t.$style.slot,attrs:{align:"center"}},[t._t("toolbarSlot")],2):t._e()],2)],2)},$=[],C=(i("4de4"),i("fb6a"),{props:{standard:Object,repost:[Number,String],comment:[Number,String],commentShow:Boolean,attitude:[Number,String],attitudeShow:Boolean,liked:Boolean,likeCount:Number,id:[Number,String],items:[],toolbarAlign:{type:String,default:"center"},simple:Boolean,single:Boolean,isHigh:Boolean},inheritAttrs:!1,data:function(){return{valueLike:this.liked,valueLikeCount:this.likeCount,show:!1,curClickIcon:"comment"}},mounted:function(){if(this.$route.hash){var t=this.$route.hash.slice(1);this.curClickIcon="repost"===t?"retweet":t}},watch:{liked:function(t){this.valueLike=t},likeCount:function(t){this.valueLikeCount=t}},computed:{toolbarAlignStyle:function(){var t="",e=this.$attrs["toolbar-align"]||this.toolbarAlign;return t="left"===e?[this.$style.side,this.$style.left]:"right"===e?[this.$style.side,this.$style.right]:this.$style.center,t},boxDirection:function(){return"right"===this.$attrs["toolbar-align"]?"x-r":"x"},infos:function(){return"".concat(this.repost,",").concat(this.comment,",").concat(this.attitude)},hasSlot:function(){return"center"!==this.$attrs["toolbar-align"]&&this.$slots.toolbarSlot}},methods:{likeHandle:function(){this.simple||this.clickHandle("like",{attitude:this.valueLike,newCount:this.likeCount})},clickHandle:function(t,e){if(t){this.curClickIcon=t;var i=this.items.filter((function(e){return e.icon===t})),a={index:this.$attrs.index,type:this.simple?"repost":"og",id:this.id,name:t,count:i[0].text};e&&(a=Object(n["a"])(Object(n["a"])({},a),e)),this.$emit("toolbar-".concat(t,"-tap"),a)}},closePop:function(){this.show=!1},clickRetweetBtn:function(){this.single||"right"===this.toolbarAlign?this.clickHandle(this.items[0].icon):this.show=!this.show}}}),O=C,j=i("f91b"),T=i("2877");function D(t){this["$style"]=j["default"].locals||j["default"]}var S=Object(T["a"])(O,k,$,!1,D,null,null),I=S.exports,L=i("e34d"),B=i("2f62"),P=i("eba1"),A=i("6dec"),E=i("e054"),M=i("32d4"),F=i("82d7"),R=i("fa20"),V={props:{item:{type:Object,default:function(){return{}}},sort:{type:Boolean,default:!1},index:{type:Number,default:0}},filters:{formatNumber:function(t){return t=Number(t),t.toLocaleString()}},mounted:function(){},computed:Object(n["a"])(Object(n["a"])({},Object(B["c"])(["composerCallback"])),{},{bottomInfo:function(){var t=[];return"cmt"==this.item.bottomType||"replyCmt"===this.item.bottomType?t=[{icon:"comment",text:this.cmt_count_format},{icon:"like",text:this.attitudes_count_format}]:"like"==this.item.bottomType&&(t=[{icon:"comment",text:this.cmt_count_format}]),t},commentShow:function(){return"cmt"==this.item.bottomType||"replyCmt"===this.item.bottomType||"like"==this.item.bottomType},attitudeShow:function(){return"cmt"==this.item.bottomType||"replyCmt"===this.item.bottomType},reposts_count_format:function(){return Object(P["b"])(this.item.reposts_count||0)},reposts_count:function(){return this.item.reposts_count||0},cmt_count_format:function(){return Object(P["b"])(this.item.comments_count||0)},cmt_count:function(){return this.item.comments_count||0},attitudes_count_format:function(){return Object(P["b"])(this.item.attitudes_count||0)},attitudes_count:function(){return this.item.attitudes_count||0},valueLike:function(){return this.item.valueLike},isPay:function(){return!!(this.item.data.mblog_vip_type>0&&this.payType)},payType:function(){var t=this.item.data.mblog_vip_type,e=parseInt(t,10).toString(2).length;return parseInt(t,10).toString(2)[e-1]},payPics:function(){var t=this,e=[];return this.isPay?(this.item.data.pic_ids.map((function(i){if(t.item.data.pic_infos[i]){var a=t.item.data.pic_infos[i],o={url:a.bmiddle.url,geo:{width:a.large.width,height:a.large.height},large:{url:a.large.url},normal:{url:a.large.url},focus_point:a.focus_point,isPay:!0};a.blur?(o.large.url=o.normal.url=a.blur.url,a.blur.isPay=!0,e.push(Object(n["a"])(Object(n["a"])({},o),a.blur))):e.push(o)}})),e):e},picsInfo:function(){return this.item.data.pics&&this.$attrs.single&&1===this.item.data.pics.length?[this.item.data.pics[0].large]:this.item.data.pics},pid2imgs:function(){return Object(E["a"])(this.item.data.pic_ids,this.item.data.pic_focus_point)}}),watch:{composerCallback:function(t){this.index==t.location&&"create"===t.action&&t.ok?this.item.comments_count++:this.index==t.location&&"repost"===t.action&&t.ok&&this.item.reposts_count++}},mixins:[A["b"],F["a"]],methods:{messageRepost:function(){var t="";this.item&&this.item.id&&(t=this.item.detailsId&&this.item.details?"//@".concat(this.item.user.screen_name,":").concat(this.item.contentOrigin):""),this.$Bus.$emit("showModalComposer",{title:"status"===this.item.bottomType?"转发微博":"转发微博@".concat(this.item.user.screen_name),data:{action:"repost",content:t,id:this.item.contentId,location:this.index,lockScreen:!1}})},messageComment:function(){"status"===this.item.bottomType||"retweeted_status"===this.item.bottomType||"like"===this.item.bottomType?this.$Bus.$emit("showModalComposer",{title:"status"===this.item.bottomType||"retweeted_status"===this.item.bottomType?"评论":"回复@".concat(this.item.user.screen_name),data:{action:"create",id:"like"===this.item.bottomType?this.item.mid||this.item.detailsId:this.item.contentId,content:"like"===this.item.bottomType?"回复@".concat(this.item.user.screen_name," 的表态:"):"",location:this.index,buttonText:"like"===this.item.bottomType?"回复":"评论",onhead:!1}}):this.$Bus.$emit("showModalComposer",{title:"回复@".concat(this.item.user.screen_name),data:{action:"reply",id:this.item.mid,cid:this.item.contentId,location:this.index}})},messageLike:function(){var t=this,e="",i={};"status"===this.item.bottomType||"retweeted_status"===this.item.bottomType?(i={id:String(this.item.contentId)},e=this.valueLike?"cancelLike":"setLike"):"cmt"!==this.item.bottomType&&"replyCmt"!==this.item.bottomType||(i={object_id:String(this.item.contentId),object_type:"comment"},e=this.valueLike?"destroyLike":"updateLike"),this.$http.post("/ajax/statuses/".concat(e),i).then((function(e){e.data&&e.data.ok&&(t.item.valueLike=!t.item.valueLike,t.item.attitudes_count_format=t.valueLike?Object(P["b"])(t.item.attitudes_count+1):Object(P["b"])(t.item.attitudes_count-1),t.item.attitudes_count=t.item.valueLike?t.item.attitudes_count+1:t.item.attitudes_count-1)}))},goDetail:function(t,e){if(!this.handleSelectText()){var i=this.getRouter(t).id;this.actionLog({act_code:4296,ext:"mid:".concat(i)})}},getVerifiedIcon:R["c"],FeedPicture:function(t,e){var i=t.index,a=t.pics,o=t.content;this.$Bus.$emit("showViewer",{data:{index:i,pics:a,content:o},type:"image"})},getRouter:function(t){var e="",i="",a={};switch(this.item.bottomType){case"status":case"retweeted_status":e="content"===t?this.item.mblogidOut:this.item.mblogidIn,i="content"===t?this.item.user.id:this.item.atPersonId,"content"===t?this.item.user.screen_name:this.item.atPerson;break;case"cmt":e=this.item.mblogidIn,i=this.item.atPersonId,this.item.atPerson,a="content"===t?{cid:this.item.contentId}:{};break;case"replyCmt":e=this.item.mblogidIn,i=this.item.originWeibo&&this.item.originWeibo.user&&this.item.originWeibo.user.id,this.item.originWeibo&&this.item.originWeibo.user&&this.item.originWeibo.user.screen_name;var o=this.item.detailsRootid,n=this.item.contentRootid;"content"===t&&n==this.item.contentId?a={cid:this.item.detailsId,rid:this.item.contentId}:"content"===t&&n!=this.item.contentId?a={cid:n,rid:this.item.contentId}:"detail"===t&&o==this.item.detailsId?a={cid:this.item.detailsId}:"detail"===t&&o!=this.item.detailsId&&(a={cid:o,rid:this.item.detailsId});break;case"sentCmt":e=this.item.mblogidIn,i=this.item.originWeibo&&this.item.originWeibo.user&&this.item.originWeibo.user.id,this.item.originWeibo&&this.item.originWeibo.user&&this.item.originWeibo.user.screen_name,this.item.detailsId==this.item.mid&&"content"===t?a={cid:this.item.contentId}:this.item.detailsId!==this.item.mid&&"content"===t?a={cid:this.item.detailsId,rid:this.item.contentId}:this.item.detailsId!==this.item.mid&&"content"!==t&&(a={cid:this.item.detailsId});break;case"like":e=this.item.mblogidIn,i=this.item.originWeibo&&this.item.originWeibo.user&&this.item.originWeibo.user.id,this.item.originWeibo&&this.item.originWeibo.user&&this.item.originWeibo.user.screen_name;break}return{id:e,router:{name:"bidDetail",params:{uid:i,id:e},query:a}}}},components:{FeedToolbar:x["a"],FeedToolbarAnother:I,FeedPicture:L["a"],IconFans:M["a"]}},N=V,H=(i("9cdd"),i("a8ab"),i("0c49"));function z(t){this["$style"]=H["default"].locals||H["default"]}var U=Object(T["a"])(N,y,w,!1,z,null,null),G=U.exports,q=i("5e3e"),W={mixins:[q["a"]],methods:{filterData:function(t,e,i){var a=this,o=[];return t.map((function(t){var n={};n="messageAll"===i?a.handleAllMessage(t,e,i):a.handleNodeMessage(t,e,i),o.push(n)})),o},handleNodeMessage:function(t,e,i){var a,o,s,r,l,c,u={data:t,id:t.id,mblogidOut:t.mblogid,time:t.created_at,user:t.user,contentId:t.id,contentRootid:t.rootid||"",content:t.text||"",contentOrigin:t.text_raw?t.text_raw:"",interactiveNumber:t.hot_value?t.hot_value:""};if("statuses"==e?(o={bottomType:t.retweeted_status?"retweeted_status":"status",reposts_count:t.reposts_count||0,comments_count:t.comments_count||0,attitudes_count:t.attitudes_count||0,valueLike:!!t.liked&&t.liked},s=t.retweeted_status?t.retweeted_status:"",r=t.retweeted_status?t.retweeted_status:t,c=t,l=t.retweeted_status?"转发了一条微博提及到你":"发了一条微博提及到你"):"comments"==e?(o="cmtOutbox"==i?{bottomType:"sentCmt"}:{bottomType:t.reply_comment?"replyCmt":"cmt",comments_count:0,attitudes_count:t.like_counts||0,valueLike:!!t.liked&&t.liked},"atCmt"==i?(s=t.status,r=t.status,c=t.status,l="评论一条微博提及到你"):(s=t.reply_comment?t.reply_comment:t.status,r=t.status,c=t.reply_comment?t.reply_comment:t.status,l="cmtOutbox"==i?"我发出的评论":t.reply_comment?"回复了你的评论":"评论了你的微博")):"attitudes"==e&&"likeInbox"==i&&(o={bottomType:"like",comments_count:0},c=t,t.comment?(s=t.comment,r=t.comment.status,l="点赞了你的评论"):(s=t.status,r=t.status,c=t.status,l="点赞了你的微博")),s){var d=this.isDelete(s);a={error:!!d,errorMessage:s.text,details:s.text,mblogidIn:d?"":r.mblogid,detailsId:s.id,detailsRootid:s.rootid||"",detailsStructInfo:c,atPerson:d?"":s.user.screen_name,atPersonId:d?"":s.user.id,originWeibo:r,mid:d?s.id:r.id}}else a={error:!1,errorMessage:"",details:!1,atPerson:"",mid:""};return Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])({},u),a),o),{},{action:l})},handleAllMessage:function(t,e,i){var a,o,s,r,l=t.msgInfo,c={data:t,id:t.uuidTmp,time:t.create_time,user:t.userInfo,interactiveNumber:t.hot_value?t.hot_value:"",action:t.tips,content:this.transText(l.text),contentOrigin:l.text||"",contentId:l.id,contentRootid:l.rootid||""};return"[]"!==JSON.stringify(l)?1==+t.msg_type||2==+t.msg_type?(o={bottomType:l.retweeted_status?"retweeted_status":"status",reposts_count:l.reposts_count||0,comments_count:l.comments_count||0,attitudes_count:l.attitudes_count||0,valueLike:!!l.liked&&l.liked},s=2==+t.msg_type?l.retweeted_status:"",r=2==+t.msg_type?l.retweeted_status:l,a={details:this.transText(s.text),detailsId:s.id,atPerson:r.user.screen_name||"",error:!!this.isDelete(s),errorMessage:this.transText(s.text),mid:r.id,atPersonId:r.user.id,mblogidOut:l.mid_b,mblogidIn:r.mid_b}):3==+t.msg_type||4==+t.msg_type||5==+t.msg_type||6==+t.msg_type?(o={bottomType:l.replay_comment?"replyCmt":"cmt",comments_count:0,attitudes_count:l.attitudes_count||0,valueLike:!!l.liked&&l.liked},s=l.replay_comment?l.replay_comment:l.status,r=l.status,a={details:this.transText(s.text),detailsId:s.id,detailsRootid:s.rootid||"",atPerson:s.user.screen_name||"",atPersonId:r.user.id||"",originWeibo:r,error:!!this.isDelete(s),errorMessage:this.transText(s.text),mid:r.id,mblogidOut:r.mid_b,mblogidIn:r.mid_b}):7!=+t.msg_type&&8!=+t.msg_type&&9!=+t.msg_type||(o={bottomType:"like",comments_count:l.comments_count||0},r=7==+t.msg_type?l:l.status,a={content:"",contentOrigin:"",contentId:"",details:this.transText(l.text),detailsId:l.id,atPerson:l.user.screen_name||"",error:!!this.isDelete(l),errorMessage:this.transText(l.text),mid:r.id,originWeibo:r,mblogidIn:r.mid_b}):a={content:this.transText(l.text),details:!0,atPerson:"",error:!0,errorMessage:"抱歉，此微博已被删除。"},Object(n["a"])(Object(n["a"])(Object(n["a"])({},c),a),o)},isDelete:function(t){return""!==t&&(!!t.deleted||!t.user)},toTransText:function(t,e){return this.transText(t.text,e.topic_struct,e.url_struct)}}},Q=i("3eba"),J=i.n(Q),K=(i("94b1"),i("c037"),i("007d"),i("6701")),Y={components:{MessageCard:G,Scroll:K["a"]},data:function(){return{echarts:null,dayMessage:{total:0,at:0,comment:0,like:0,v:0,tag:0,fans:0},summary:{hot:{v:"hot",title:"24小时热门消息",tips:"按内容被转评赞的次数多少排序",sortNumber:!0,message:[],show:"",id:0,showHelp:!1},topUsers:{v:"topUsers",title:"来自大V的消息",tips:"收到的大V博主发的消息",sortNumber:!1,message:[],show:"",id:1,showHelp:!1},field:{v:"field",title:"来自同行的消息",tips:"收到的同行同领域博主发的消息",sortNumber:!1,message:[],show:"",id:2,showHelp:!1},followers:{v:"followers",title:"来自铁粉的消息",tips:"收到粉丝中铁粉发的消息",sortNumber:!1,message:[],show:"",id:3,showHelp:!1}},list:[],maxData:0,loaddate:!0,isLoading:!1,isEmpty:!1,isRetry:!1,typeNum:0,histogram:[{title:"大V消息",desc:0,percent:0,key:"v",v:"topUsers"},{title:"同行消息",desc:0,percent:0,key:"tag",v:"field"},{title:"铁粉消息",desc:0,percent:0,key:"fans",v:"followers"}]}},filters:{formatNumber:function(t){return t=Number(t),t.toLocaleString()},tipsFilter:function(t){return"转发了一条微博提及到你"===t?"转发微博@了你":"发了一条微博提及到你"===t?"发微博@了你":"评论了一条微博提及到你"===t?"评论微博@了你":t}},computed:Object(n["a"])(Object(n["a"])({},Object(B["c"])(["config"])),Object(B["d"])({userType:function(t){return t.userType.userType}})),methods:{jump:function(t,e){this.$router.push({name:t})},loadMoreData:function(){var t=this;this.isLoading=!0,this.isRetry=!1,this.isEmpty=!1;this.$route.query.uid?this.$route.query.uid:this.config.uid;var e=["hot","topUsers","field","followers"],i=e[this.typeNum];this.$http.get("/ajax/message/msgList",{params:{type:i}}).then((function(a){t.isLoading=!1,t.typeNum++,a&&a.data&&a.data.originOk?("followers"===i?t.summary.followers.message=a.data.data.list:t.summary[i].message=t.filterData(a.data.data.list,"list","messageAll"),t.list.push(t.summary[i]),t.isLoading=!0):t.typeNum!==e.length&&t.loadMoreData(),t.typeNum===e.length&&(t.isLoading=!1,t.isRetry=!1,t.list.length||(t.isEmpty=!0))})).catch((function(){t.isLoading=!1,t.isRetry=!0}))},showMoreSummary:function(t){this.$emit("change","showmore",t,!0)},getInfo:function(){var t=this,e=this.$route.query.uid?this.$route.query.uid:this.config.uid;m(e).then((function(e){e&&e.summary&&(t.dayMessage=e.summary,t.dayMessage.v=e.summary.topUsers,t.dayMessage.fans=e.summary.followers,t.dayMessage.tag=e.summary.field,t.summary.topUsers.num=t.dayMessage.v,t.summary.field.num=t.dayMessage.tag,t.summary.followers.num=t.dayMessage.fans,t.maxData=Math.max(t.dayMessage.v,t.dayMessage.fans,t.dayMessage.tag),t.maxData=0===t.maxData?1:1.2*t.maxData,t.drawCircle(),t.handleHistogram(),e.hot&&1===e.hot.ok&&(t.summary.hot.message=t.filterDataCur(e.hot.data.list,"list","messageAll")),t.loaddate=!0)})),this.loadMoreData()},drawCircle:function(){var t=document.getElementById("container");this.echarts=t&&J.a.init(t);var e={},i=null;e.title="环形图",i={tooltip:{trigger:"item",formatter:"{b}: {d}%"},series:[{name:"消息类型",type:"pie",radius:["50%","70%"],hoverOffset:1,avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!1,textStyle:{fontSize:"30",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:[{value:this.dayMessage.at,name:"@我的"},{value:this.dayMessage.comment,name:"评论"},{value:this.dayMessage.like,name:"赞"}],color:["#ff8200","#f0393e","#ffbf00"]}]},i&&"object"===Object(l["a"])(i)&&this.echarts&&this.echarts.setOption(i,!0)},filterDataCur:function(t,e,i){var a=this,o=[];return t.map((function(t){var n={};if("messageAll"===i&&"[]"!==JSON.stringify(t.msgInfo)){var s=a.handleItem(t.msgInfo,e,i);n=a.handleAllMessage(s,t)}else n="messageAll"===i&&"[]"==JSON.stringify(t.msgInfo)?{id:t.uuidTmp,time:t.create_time,user:t.userInfo,content:t.msgInfo.text,details:!0,atPerson:"",error:!0,errorMessage:"抱歉，此微博已被删除。",action:t.tips,interactiveNumber:t.hot_value}:a.handleItem(t,e,i);o.push(n)})),o},handleHistogram:function(){for(var t=0,e=Object.values(this.histogram);t<e.length;t++){var i=e[t];i.desc=this.$options.filters["formatNumber"](this.dayMessage[i.key]),i.percent=this.dayMessage[i.key]/this.maxData}}},watch:{userType:function(t){this.userType||this.$router.push({name:"atWeibo",query:this.$route.query})},$route:function(t){this.echarts.dispose(),t.query.is_notice||"/messages/summary"!==t.path||(this.list=[],this.typeNum=0,this.getInfo())}},mounted:function(){var t=this;this.getInfo(),this.$_wooBus.$on("repeatClick",(function(e){"summary"==e&&(t.echarts&&t.echarts.dispose(),t.list=[],t.typeNum=0,t.getInfo())}))},mixins:[W]},X=Y,Z=i("672f");function tt(t){this["$style"]=Z["default"].locals||Z["default"]}var et=Object(T["a"])(X,s,r,!1,tt,null,null),it=et.exports,at=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",["weibo"==t.cardType?i("FeedScroll",{class:t.$style.feed,attrs:{pagetype:"weibo",data:t.list,skeleton:!0,hiddenFollowBtn:!0,isLoading:t.isLoading,isRetry:t.isRetry,isEmpty:t.isEmpty,isNoData:t.isNoData,hasTransformText:t.hasTransformText},on:{loadMoreData:t.loadMoreData}}):t._e(),"cmt"==t.cardType?i("Scroll",{attrs:{skeleton:!0,data:t.list,isLoading:t.isLoading,isRetry:t.isRetry,isEmpty:t.isEmpty,isNoData:t.isNoData},on:{loadMoreData:t.loadMoreData},scopedSlots:t._u([{key:"content",fn:function(e){var a=e.item,o=e.index;return[i("message-cmt",{attrs:{messType:t.messType,item:a,sort:!1,index:o,loginUid:t.config.uid}})]}}],null,!1,1014807996)}):t._e(),"like"==t.cardType?i("Scroll",{attrs:{skeleton:!0,data:t.list,isLoading:t.isLoading,isRetry:t.isRetry,isEmpty:t.isEmpty,isNoData:t.isNoData},on:{loadMoreData:t.loadMoreData},scopedSlots:t._u([{key:"content",fn:function(t){var e=t.item,a=t.index;return[i("message-like",{attrs:{item:e,index:a}})]}}],null,!1,1451561115)}):t._e(),"normal"==t.cardType?i("Scroll",{attrs:{skeleton:!0,data:t.list,isLoading:t.isLoading,isRetry:t.isRetry,isEmpty:t.isEmpty,isNoData:t.isNoData},on:{loadMoreData:t.loadMoreData},scopedSlots:t._u([{key:"content",fn:function(t){var e=t.item,a=t.index;return[i("message-card",{attrs:{item:e,sort:!1,index:a}})]}}],null,!1,2688428789)}):t._e()],1)},ot=[],nt=(i("c740"),i("a434"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Card",{class:t.$style.wrap},[t.item.title_msg?i("woo-box",{class:t.$style.tit,attrs:{align:"center",justify:"between"}},[i("div",[t._v(t._s(t.item.title_msg))])]):t._e(),t.item.title_msg?i("woo-divider"):t._e(),i("woo-box",{class:t.$style.item1},[i("div",[i("a-link",{directives:[{name:"log",rawName:"v-log:click",value:t.getCommentClickLog(t.item,t.loginUid,"messageBox"),expression:"getCommentClickLog(item, loginUid, 'messageBox')",arg:"click"}],attrs:{to:"/u/"+t.item.user.id}},[t.item.user?i("woo-avatar",{attrs:{usercard:t.item.user.id,size:50,verified:t.getVerifiedIcon(t.item.user),src:t.item.user.avatar_large||"https://tvax1.sinaimg.cn/default/images/default_avatar_male_180.gif"}}):t._e()],1)],1),i("woo-box-item",{class:t.$style.con1},[t.item.user?i("woo-box",{class:t.$style.h3,attrs:{align:"center"}},[i("a-link",{directives:[{name:"log",rawName:"v-log:click",value:t.getCommentClickLog(t.item,"","messageBox"),expression:"getCommentClickLog(item, '', 'messageBox')",arg:"click"}],attrs:{to:"/u/"+t.item.user.id}},[t._v(t._s(t.item.user.screen_name||"用户"+t.item.user.id))]),t.checkAiAssistant(t.item)?i("div",{class:t.$style.icon},[i("img",{attrs:{src:t.getAiAssistantIcon(t.item.user)}})]):i("IconFans",{attrs:{mbrank:t.item.user.mbrank,mbtype:t.item.user.mbtype,svip:t.item.user&&t.item.user.svip,vvip:t.item.user&&t.item.user.vvip,fansIcon:t.item.user&&t.item.user.fansIcon}})],1):t._e(),i("div",{class:t.$style.from},[i("a",{attrs:{href:t.getRouterUrl(t.item.reply_comment?"rid":"cid",t.$event,"time")},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.goDetail(t.item.reply_comment?"rid":"cid",e,"time")}}},[t._v(t._s(t._f("fromNow")(t.item.created_at)))]),t.item.source?i("span",{class:t.$style.cutfrom,domProps:{innerHTML:t._s("来自 "+t.item.source)},on:{click:function(t){t.preventDefault()}}}):t._e()]),t.item.text?i("div",{directives:[{name:"ahref",rawName:"v-ahref"}],class:[t.$style.wbtext,t.$style.textImg],domProps:{innerHTML:t._s(t.item.text)}}):t._e()],1),i("woo-box",{attrs:{direction:"x"}},[i("feed-morepop",{attrs:{pagetype:"cmt",id:t.item.idstr,uid:t.item.user&&t.item.user.idstr,gender:t.item.user&&t.item.user.gender,menus:t.item.menus,screenName:t.item.user&&t.item.user.screen_name?t.item.user.screen_name:"","ai-assistant":t.checkAiAssistant(t.item)}})],1)],1),i("div",{class:[t.$style.repeatbox,t.item.reply_comment&&t.$style.repeatbgbox,"commentsByMe"==t.messType&&t.$style.repeatboxByme],on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.goDetail("rid",e)}}},[t.item.reply_comment?i("div",{class:[t.$style.wbtext,t.$style.replyComment]},[t.item.reply_comment.user?i("span",{class:t.$style.replyCname},[t._v("@"+t._s(t.item.reply_comment.user.screen_name)+":")]):t._e(),i("span",{directives:[{name:"ahref",rawName:"v-ahref"}],domProps:{innerHTML:t._s(t.item.reply_comment.text)}})]):t._e(),t.item.status&&t.isDelete(t.item.status)?i("div",{class:t.$style.text},[i("div",{on:{click:function(t){t.stopPropagation()}}},[i("woo-tip",{class:t.$style.empty,attrs:{type:"warn"}},[i("span",{domProps:{innerHTML:t._s(t.item.status.text)}})])],1)]):t._e(),t.item.status&&!t.isDelete(t.item.status)?i("feedCardLink",{attrs:{data:t.item.page_info,url_struct:t.item.status.url_struct,pagetype:t.item.reply_comment?"cmtBai":"cmt"},on:{"link-tap":function(e){return t.goDetail(t.item.reply_comment?"rid":"cid",e)}}}):t._e()],1),"commentsByMe"!==t.messType?i("bottom",{attrs:{commentShow:!0,attitudeShow:!0,liked:t.valueLike,attitude:t.attitudes_count_format||0,id:t.item.id,items:t.bottomInfo},on:{"toolbar-comment-tap":t.messageComment,"toolbar-like-tap":t.messageLike}}):t._e()],1)}),st=[],rt=(i("7db0"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("footer",[t._t("toolbarFullSlot"),t.$slots.toolbarFullSlot?t._e():i("woo-box",{class:[t.toolbarAlignStyle,t.$style.main],attrs:{direction:t.boxDirection,justify:t.commentShow&&t.attitudeShow?"between":"center",old:!1}},[t._l(t.items,(function(e,a){return i("woo-box-item",{key:a,class:t.$style.item},["comment"===e.icon&&t.commentShow?i("woo-box",{class:t.$style.wrap,attrs:{align:"center",justify:"center"},nativeOn:{click:function(i){return i.stopPropagation(),t.clickHandle(e.icon)}}},[i("woo-box",{class:t.$style.iconWrap,attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{class:t.$style.commentIcon,attrs:{value:e.icon}})],1),i("span",{class:t.$style.num},[t._v(" 回复 ")])],1):t._e(),"like"===e.icon&&t.attitudeShow?i("woo-like",{class:t.$style.btn,attrs:{tabindex:"0",like:t.valueLike,count:t.attitude,effect:!0,static:!1,original:!1},on:{status:t.likeHandle}}):t._e()],1)})),t.hasSlot?i("woo-box",{class:t.$style.slot,attrs:{align:"center"}},[t._t("toolbarSlot")],2):t._e()],2)],2)}),lt=[],ct={props:{repost:[Number,String],comment:[Number,String],commentShow:Boolean,attitude:[Number,String],attitudeShow:Boolean,liked:Boolean,likeCount:Number,id:[Number,String],items:[]},inheritAttrs:!1,data:function(){return{valueLike:this.liked,valueLikeCount:this.likeCount,show:!1,curClickIcon:"comment"}},mounted:function(){if(this.$route.hash){var t=this.$route.hash.slice(1);this.curClickIcon="repost"===t?"retweet":t}},watch:{liked:function(t){this.valueLike=t},likeCount:function(t){this.valueLikeCount=t}},computed:{toolbarAlignStyle:function(){var t="",e=this.$attrs["toolbar-align"]||"left";return t="left"===e?[this.$style.side,this.$style.left]:"right"===e?[this.$style.side,this.$style.right]:this.$style.center,t},boxDirection:function(){return"right"===this.$attrs["toolbar-align"]?"x-r":"x"},hasSlot:function(){return"center"!==this.$attrs["toolbar-align"]&&this.$slots.toolbarSlot}},methods:{likeHandle:function(){this.clickHandle("like",{attitude:this.valueLike,newCount:this.likeCount})},clickHandle:function(t,e){if(t){this.curClickIcon=t;var i=this.items.filter((function(e){return e.icon===t})),a={index:this.$attrs.index,type:"og",id:this.id,name:t,count:i[0].text};e&&(a=Object(n["a"])(Object(n["a"])({},a),e)),this.$emit("toolbar-".concat(t,"-tap"),a)}}}},ut=ct,dt=i("037b");function ht(t){this["$style"]=dt["default"].locals||dt["default"]}var pt=Object(T["a"])(ut,rt,lt,!1,ht,null,null),ft=pt.exports,mt=i("4414"),vt=i("421a"),_t=i("997f"),gt={props:{item:{type:Object,default:function(){return{}}},sort:{type:Boolean,default:!1},index:{type:Number,default:0},messType:{type:String,default:""},loginUid:[Number,String]},filters:{formatNumber:function(t){return t=Number(t),t.toLocaleString()}},mounted:function(){},data:function(){return{bottomInfo:[{icon:"comment",text:0},{icon:"like",text:this.attitudes_count_format}],cmt_count:0}},computed:Object(n["a"])(Object(n["a"])({},Object(B["c"])(["composerCallback"])),{},{attitudes_count_format:function(){return Object(P["b"])(this.item.like_counts||0)},attitudes_count:function(){return this.item.like_counts||0},valueLike:function(){return this.item.liked}}),watch:{composerCallback:function(t){this.index==t.location&&"create"===t.action&&t.ok?this.item.comments_count++:this.index==t.location&&"repost"===t.action&&t.ok&&this.item.reposts_count++}},mixins:[A["b"],F["a"],q["a"]],methods:{getCommentClickLog:_t["a"],checkAiAssistant:function(t){return(24===t.ai_type||24===t.reply_ai_type)&&this.getAiAssistantIcon(t.user)},getAiAssistantIcon:function(t){var e,i;if(0===(null===t||void 0===t||null===(e=t.vai_icon_list)||void 0===e?void 0:e.length))return"";var a=null===t||void 0===t||null===(i=t.vai_icon_list)||void 0===i?void 0:i.find((function(e){var i;return null===t||void 0===t||null===(i=t.vai_icons)||void 0===i?void 0:i.includes(e.id)}));return a?a.url:""},getVerifiedIcon:R["c"],toTransText:function(t){return this.transText(t)},isDelete:function(t){return""!==t&&(!!t.deleted||!t.user)},messageComment:function(){this.$Bus.$emit("showModalComposer",{title:"回复@".concat(this.item.user.screen_name),data:{action:"reply",id:this.item.status.mid,cid:this.item.id,location:this.index}})},messageLike:function(){var t=this,e={object_id:String(this.item.id),object_type:"comment"},i=this.valueLike?"destroyLike":"updateLike";this.$http.post("/ajax/statuses/".concat(i),e).then((function(e){e.data&&e.data.ok&&(t.item.liked=!t.item.liked,t.item.attitudes_count_format=t.valueLike?Object(P["b"])(t.item.like_counts+1):Object(P["b"])(t.item.like_counts-1),t.item.like_counts=t.item.liked?t.item.like_counts+1:t.item.like_counts-1)}))},generateRouterParams:function(t,e,i){var a=e&&(e.target||e.srcElement);if((!a||"a"!=a.tagName.toLowerCase()||"time"===i)&&(!this.item.status||!this.isDelete(this.item.status))){var o=this.item.status.mblogid;this.actionLog({act_code:4296,ext:"mid:".concat(o)});var n={};return"rid"===t&&this.item.reply_comment.rootid==this.item.reply_comment.id?n={cid:this.item.rootid}:"rid"===t&&this.item.reply_comment.rootid!==this.item.reply_comment.id?n={cid:this.item.rootid,rid:this.item.reply_comment.id}:"cid"===t&&this.item.rootid==this.item.id?n={cid:this.item.rootid}:"cid"===t&&this.item.rootid!==this.item.id&&(n={cid:this.item.rootid,rid:this.item.id}),{query:n,params:{uid:this.item.page_info.uidPageInfo,id:this.item.page_info.mblogid}}}},goDetail:function(t,e,i){var a=this.generateRouterParams(t,e,i),o=a.query,n=a.params;this.$router.push({name:"bidDetail",params:n,query:o})},getRouterUrl:function(t,e,i){var a=this.generateRouterParams(t,e,i),o=a.params,n=a.query;return"//weibo.com/".concat(o.uid,"/").concat(o.id,"?").concat(u.a.stringify(n))}},components:{Bottom:ft,FeedCardLink:mt["a"],IconFans:M["a"],FeedMorepop:vt["a"]}},bt=gt,yt=(i("4c7a"),i("752a"));function wt(t){this["$style"]=yt["default"].locals||yt["default"]}var xt,kt=Object(T["a"])(bt,nt,st,!1,wt,null,null),$t=kt.exports,Ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Card",{class:t.$style.wrap},[i("woo-box",{class:t.$style.item1},[i("div",[i("a-link",{attrs:{to:"/u/"+t.item.user.id}},[t.item.user?i("woo-avatar",{attrs:{usercard:t.item.user.id,size:50,verified:t.getVerifiedIcon(t.item.user),src:t.item.user.avatar_large||"https://tvax1.sinaimg.cn/default/images/default_avatar_male_180.gif"}}):t._e()],1)],1),i("woo-box-item",{class:t.$style.con1},[t.item.user?i("div",{class:t.$style.h3},[i("a-link",{attrs:{to:"/u/"+t.item.user.id,usercard:t.item.user.id}},[t._v(t._s(t.item.user.screen_name||"用户"+t.item.user.id))]),i("IconFans",{attrs:{mbrank:t.item.user.mbrank,mbtype:t.item.user.mbtype,svip:t.item.user&&t.item.user.svip,vvip:t.item.user&&t.item.user.vvip,fansIcon:t.item.user&&t.item.user.fansIcon}})],1):t._e(),i("div",{class:t.$style.from},[i("a",{on:{click:t.goDetail}},[t._v(t._s(t._f("fromNow")(t.item.created_at)))]),t.item.source?i("span",{class:t.$style.cutfrom,domProps:{innerHTML:t._s("来自 "+t.item.source)},on:{click:function(t){t.preventDefault()}}}):t._e()]),i("div",{class:t.$style.textImg,domProps:{innerHTML:t._s(t.item.comment?"赞了这条评论":"赞了这条微博")}})])],1),i("div",{class:[t.$style.repeatbox,t.item.comment&&t.item.comment.status&&t.$style.repeatbgbox]},[t.item.status&&t.isDelete(t.item.status)?i("div",{class:[t.$style.text,t.$style.wbtext]},[i("div",{on:{click:function(t){t.stopPropagation()}}},[i("woo-tip",{class:t.$style.empty,attrs:{type:"warn"}},[i("span",{domProps:{innerHTML:t._s(t.item.status.text)}})])],1)]):t._e(),t.item.status&&!t.isDelete(t.item.status)?i("feedCardLink",{attrs:{data:t.item.page_info,url_struct:t.item.status.url_struct,pagetype:"attitude"},on:{"link-tap":t.goDetail}}):t._e(),t.item.comment?i("div",{on:{click:function(e){return e.preventDefault(),t.goDetail(e)}}},[i("div",{class:[t.$style.wbtext,t.$style.replyComment]},[t.item.comment.user?i("span",{class:t.$style.replyCname},[t._v("@"+t._s(t.item.comment.user.screen_name)+":")]):t._e(),t.item.comment.status?i("span",{directives:[{name:"ahref",rawName:"v-ahref"}],domProps:{innerHTML:t._s(t.item.comment.text)}}):t._e()]),t.item.comment.status&&!t.isDelete(t.item.comment.status)?i("feedCardLink",{attrs:{data:t.item.page_info,url_struct:t.item.comment.status.url_struct,pagetype:"attitudeBai"},on:{"link-tap":t.goDetail}}):t._e(),t.item.comment.status&&t.isDelete(t.item.comment.status)?i("div",{class:[t.$style.text,t.$style.wbtext]},[i("div",{on:{click:function(t){t.stopPropagation()}}},[i("woo-tip",{class:t.$style.empty,attrs:{type:"warn"}},[i("span",{domProps:{innerHTML:t._s(t.item.comment.status.text)}})])],1)]):t._e(),t.item.comment.status?t._e():i("div",{class:[t.$style.text,t.$style.wbtext]},[i("div",{on:{click:function(t){t.stopPropagation()}}},[i("woo-tip",{class:t.$style.empty,attrs:{type:"warn"}},[i("span",{domProps:{innerHTML:t._s(t.item.comment.text)}})])],1)])],1):t._e()],1),t.item.status&&t.isDelete(t.item.status)||t.item.comment&&!t.item.comment.status||t.item.comment&&t.item.comment.status&&t.isDelete(t.item.comment.status)?t._e():i("bottom",{attrs:{commentShow:!0,id:t.item.id,items:t.bottomInfo},on:{"toolbar-comment-tap":t.messageComment}})],1)},Ot=[],jt=i("ade3"),Tt=(xt={props:{item:{type:Object,default:function(){return{}}},sort:{type:Boolean,default:!1},index:{type:Number,default:0}},filters:{formatNumber:function(t){return t=Number(t),t.toLocaleString()}},mixins:[q["a"]],mounted:function(){},data:function(){return{bottomInfo:[{icon:"comment",text:0}],cmt_count:0}},computed:Object(n["a"])({},Object(B["c"])(["composerCallback"])),watch:{composerCallback:function(t){this.index==t.location&&"create"===t.action&&t.ok?this.item.comments_count++:this.index==t.location&&"repost"===t.action&&t.ok&&this.item.reposts_count++}}},Object(jt["a"])(xt,"mixins",[A["b"],F["a"]]),Object(jt["a"])(xt,"methods",{getVerifiedIcon:R["c"],toTransText:function(t){return this.transText(t)},isDelete:function(t){return""!==t&&(!!t.deleted||!t.user)},messageComment:function(){var t=this.item.status?this.item.status.id:this.item.comment.status.id;this.$Bus.$emit("showModalComposer",{title:"回复@".concat(this.item.user.screen_name),data:{action:"create",id:t,content:"回复@".concat(this.item.user.screen_name," 的表态:"),location:this.index,buttonText:"回复",onhead:!1}})},goDetail:function(){this.item.status&&this.isDelete(this.item.status)||this.$router.push({name:"bidDetail",params:{uid:this.item.page_info.uidPageInfo,id:this.item.page_info.mblogid},hash:this.item.comment?"#comment":"#attitude"})}}),Object(jt["a"])(xt,"components",{Bottom:ft,IconFans:M["a"],FeedCardLink:mt["a"]}),xt),Dt=Tt,St=i("c652");function It(t){this["$style"]=St["default"].locals||St["default"]}var Lt=Object(T["a"])(Dt,Ct,Ot,!1,It,null,null),Bt=Lt.exports,Pt=i("4e7d"),At=i("6cf2"),Et={props:["messageAllTag","cardType"],data:function(){return{list:[],messType:"",mid:0,nextId:"",isLoading:!0,isRetry:!1,isEmpty:!1,isNoData:!1,hasTransformText:!0,curTagItem:this.messageAllTag,jumpMes:!1,cancel:null}},mixins:[At["a"],W],computed:Object(n["a"])(Object(n["a"])({},Object(B["c"])(["config"])),{},{curName:function(){return this.$route&&this.$route.name?this.$route.name:""},parmas:function(){return this.$route.query?this.$route.query:{}}}),mounted:function(){var t=this;this.getData("mounted"),this.$_wooBus.$on("repeatClick",(function(e){"summary"!==e&&t.getData("_wooBus")})),this.$_wooBus.$on("jumpMes",(function(e){t.jumpMes=!0})),this.$Bus.$on("deleteMessageComment",this.deleteMessageCommentHandle),this.$once("hook:beforeDestroy",(function(){t.$Bus.$off("deleteMessageComment",t.deleteMessageCommentHandle)}))},watch:{$route:function(t,e){v.includes(t.name)&&(this.cancel(),this.jumpMes=!1,this.curTagItem=this.messageAllTag,this.getData("route"))}},methods:{loadMoreData:function(){"normal"===this.cardType?this.getNormalInfo(this.curTagItem.curItem):this.getSelectedTagInfo(this.curTagItem.curItem)},empty:function(){this.list=[],this.messType="",this.mid="",this.nextId="",this.isEmpty=!1},getData:function(t){"{}"!==JSON.stringify(this.curTagItem.curItem)&&this.config.uid&&("normal"===this.cardType?(this.empty(),this.getNormalInfo(this.curTagItem.curItem)):(this.empty(),this.getSelectedTagInfo(this.curTagItem.curItem)))},getSelectedTagInfo:function(t){var e=this,i=this.$http.CancelToken,a=t.api,o=t.parmas,s=t.type,r=(t.name,this);this.$http({url:a,method:"get",params:Object(n["a"])(Object(n["a"])({},o),{},{max_id:this.mid}),cancelToken:new i((function(t){r.cancel=t}))}).then((function(t){if(t&&t.data&&1===+t.data.ok){var i=t.data.data[s];if(e.messType=t.data.data.messType,0===i.length&&!e.mid)return e.isLoading=!1,void(e.isEmpty=!0);e.mid=t.data.data.next_cursor?t.data.data.next_cursor:"",e.list=e.list.concat(i),e.isLoading=!0,(0==e.mid&&"list"!==s||0==e.nextId&&"list"==s)&&(e.isLoading=!1,e.isRetry=!1)}else 0===t.data.ok&&(e.isLoading=!1,e.isNoData=!1,e.isEmpty=!0,e.isRetry=!1)})).catch((function(){e.isLoading=!1,e.isNoData=!1,e.isEmpty=!0,e.isRetry=!1}))},getNormalInfo:function(t){var e=this,i=this.$http.CancelToken,a=t.api,o=t.parmas,s=t.type,r=t.name,l=this;this.$route.query.uid?this.$route.query.uid:this.config.uid;this.$http({url:a,method:"get",params:Object(n["a"])(Object(n["a"])({},JSON.parse(JSON.stringify(o))),{},{max_id:this.mid,sinceId:this.nextId}),cancelToken:new i((function(t){l.cancel=t}))}).then((function(t){if(0===t.data.originOk)e.isLoading=!1,e.isNoData=!1,e.isEmpty=!0,e.isRetry=!1;else if(t&&t.data&&1===+t.data.ok){var i=t.data.data[s];if(0===i.length)return e.isLoading=!1,void(e.isEmpty=!0);e.mid=t.data.data.next_cursor?t.data.data.next_cursor:"",e.nextId=t.data.data.nextId?t.data.data.nextId:"",e.list=e.list.concat(e.filterData(i,s,r)),e.isLoading=!0,(0==e.mid&&"list"!==s||0==e.nextId&&"list"==s)&&(e.isLoading=!1,e.isRetry=!1)}else 0===t.data.ok&&(e.isLoading=!1,e.isNoData=!1,e.isEmpty=!0,e.isRetry=!1)})).catch((function(t){e.isLoading=!1,e.isRetry=!1}))},deleteWeibo:function(t){this.list=this.deleteWeiboInList(t,this.list)},deleteMessageCommentHandle:function(t){if(this.list&&this.list.length){var e=this.list.findIndex((function(e){return e.idstr===t}));e>-1&&this.list.splice(e,1)}}},components:{MessageCard:G,MessageCmt:$t,MessageLike:Bt,Scroll:K["a"],FeedScroll:Pt["default"]}},Mt=Et,Ft=i("bb4f");function Rt(t){this["$style"]=Ft["default"].locals||Ft["default"]}var Vt=Object(T["a"])(Mt,at,ot,!1,Rt,null,null),Nt=Vt.exports,Ht=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Scroll",{attrs:{data:t.groupMessages,isLoading:t.isLoading,isEmpty:t.isEmpty,isRetry:t.isRetry,isNoData:t.isNoData,skeleton:!0},on:{loadMoreData:t.loadMoreData},scopedSlots:t._u([{key:"content",fn:function(e){var a=e.item;return[a.id?i("div",{class:t.$style.wrap},[429===a.type?i("Card",[i("woo-box",{class:t.$style.item1,attrs:{align:"start"}},[i("woo-picture",{attrs:{width:"50",border:!1,"hover-mask":!1,src:a.groupInfo&&a.groupInfo.round_avatar||a.from_user.avatar_large,alt:"等比图"},nativeOn:{click:function(e){return t.open("https://api.weibo.com/chat/#/?check_gid="+a.gid,"privateChat")}}}),i("woo-box-item",{class:t.$style.con1},[a.msg?i("div",{class:t.$style.h3},[i("a",{attrs:{href:"https://api.weibo.com/chat/#/?check_gid="+a.gid,target:"privateChat"}},[t._v(" "+t._s(a.groupInfo&&a.groupInfo.name||a.msg.title)+" ")]),i("span",[t._v(t._s(a.msg))])]):t._e(),i("div",{class:t.$style.h4},[t._v(t._s(t._f("fromNow")(1e3*a.time)))])])],1)],1):421===a.type?i("Card",[i("woo-box",{class:t.$style.item1,attrs:{align:"start"}},[i("woo-avatar",{attrs:{size:50,src:a.from_user?a.from_user.avatar_large:"",verified:t.getVerifiedIcon(a)},nativeOn:{click:function(e){return t.open("https://weibo.com/"+(a.from_user?a.from_user.profile_url:""))}}}),i("woo-box-item",{class:t.$style.con1},[i("div",{class:t.$style.h3},[i("a",{attrs:{href:"https://weibo.com/"+(a.from_user?a.from_user.profile_url:""),target:"_blank"}},[t._v(t._s(a.from_user?a.from_user.screen_name:""))]),i("span",[t._v("申请加入群")]),i("a",{attrs:{href:"https://api.weibo.com/chat/#/?check_gid="+a.gid,target:"privateChat"}},[t._v(" "+t._s(a.groupInfo&&a.groupInfo.name||a.msg.title||"")+" ")])]),2!==a.status||2===a.status&&t.config.uid===a.operator?i("div",{class:t.$style.h3},[t._v(" 入群理由："+t._s(a.msg)+" ")]):i("div",{class:t.$style.h3},[t._v(t._s(a.msg))]),i("div",{class:t.$style.h4},[t._v(t._s(t._f("fromNow")(1e3*a.time)))])]),i("woo-box",{class:t.$style.right,attrs:{align:"center"}},[1===a.status?i("woo-button",{attrs:{sort:"line",kind:"primary",size:"s"},on:{click:function(e){return t.checkApply(a)}}},[t._v("同意")]):2===a.status?i("woo-button",{attrs:{sort:"line",kind:"primary",size:"s",disabled:""}},[t._v("已同意")]):8===a.status?i("woo-button",{attrs:{sort:"line",kind:"primary",size:"s"}},[t._v("已拒绝")]):-5===a.status?i("woo-button",{attrs:{sort:"line",kind:"primary",size:"s"}},[t._v("超时无效")]):t._e()],1)],1)],1):i("Card",[i("woo-box",{class:t.$style.item1,attrs:{align:"start"}},[i("woo-picture",{attrs:{width:"50",border:!1,"hover-mask":!1,src:a.groupInfo&&a.groupInfo.round_avatar||a.msg.avatar,alt:"等比图"},nativeOn:{click:function(e){return t.open("https://api.weibo.com/chat/#/?check_gid="+a.gid,"privateChat")}}}),i("woo-box-item",{class:t.$style.con1},[a.msg?i("div",{class:t.$style.h3},[i("a",{attrs:{href:"https://api.weibo.com/chat/#/?check_gid="+a.gid,target:"privateChat"}},[t._v(" "+t._s(a.groupInfo&&a.groupInfo.name||a.msg.title)+" ")]),i("span",[t._v(t._s(a.msg.content1))])]):t._e(),i("div",{class:t.$style.h4},[t._v(t._s(t._f("fromNow")(1e3*a.time)))])]),435===a.sub_type?i("woo-box",{class:t.$style.right,attrs:{align:"center"}},[1===a.status?i("woo-button",{attrs:{sort:"line",kind:"primary",size:"s"},on:{click:function(e){return t.checkApply(a)}}},[t._v("同意")]):2===a.status?i("woo-button",{attrs:{sort:"line",kind:"primary",size:"s",disabled:""}},[t._v("已同意")]):8===a.status?i("woo-button",{attrs:{sort:"line",kind:"primary",size:"s",disabled:""}},[t._v("已拒绝")]):-5===a.status?i("woo-button",{attrs:{sort:"line",kind:"primary",size:"s",disabled:""}},[t._v("超时无效")]):t._e()],1):t._e()],1)],1)],1):t._e()]}}])})},zt=[],Ut=(i("4160"),i("159b"),i("2909")),Gt=(i("96cf"),i("1da1")),qt={components:{Scroll:K["a"]},data:function(){return{isLoading:!1,isEmpty:!1,isRetry:!1,isNoData:!1,groupMessages:[]}},computed:Object(n["a"])({},Object(B["c"])(["config"])),methods:{open:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_blank";window.open(t,e)},checkApply:function(t){return Object(Gt["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(1!==t.status){e.next=10;break}return e.prev=1,e.next=4,f({id:t.gid,mid:t.id,status:2});case 4:i=e.sent,i&&i.ok&&(i=i.res,t.status=2),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})))()},loadMoreData:function(){var t=this;return Object(Gt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.query();case 1:case"end":return e.stop()}}),e)})))()},query:function(){var t=this;return Object(Gt["a"])(regeneratorRuntime.mark((function e(){var i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,t.isRetry=!1,t.isNoData=!1,t.isEmpty=!1,e.prev=4,a={},t.groupMessages.length&&(a.max_mid=t.groupMessages[t.groupMessages.length-1].id),e.next=9,p(a);case 9:i=e.sent,i&&i.ok&&(i=i.res,t.isRetry=!1,i.messages.reverse(),i.messages.forEach((function(t){t.msg&&499===t.type?t.msg=JSON.parse(t.msg):t.icons&&t.type})),(o=t.groupMessages).push.apply(o,Object(Ut["a"])(i.messages)),t.isLoading=!0,(0===i.messages.length||i.messages.length<20)&&(t.isNoData=!0,t.isLoading=!1)),e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](4),t.isLoading=!1,t.isRetry=!1;case 17:case"end":return e.stop()}}),e,null,[[4,13]])})))()},getVerifiedIcon:R["c"]},mounted:function(){var t=this;return Object(Gt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.loadMoreData();case 1:case"end":return e.stop()}}),e)})))()}},Wt=qt,Qt=i("a364");function Jt(t){this["$style"]=Qt["default"].locals||Qt["default"]}var Kt=Object(T["a"])(Wt,Ht,zt,!1,Jt,null,null),Yt=Kt.exports,Xt=i("9783"),Zt=i("f51a"),te=i("d95a"),ee=i("e83f"),ie=i("2c89"),ae=i("ed5d"),oe={metaInfo:function(){return{title:"消息"}},mixins:[W],components:{SummaryMessages:it,DetailsMessages:Nt,GroupMessages:Yt,MessageCard:G,Scroll:K["a"],SecBar:Xt["a"],Tab:Zt["a"],Card:te["a"]},data:function(){return{list:[],tabs:[],tabIndex:0,iscreated:!1,unreadTagReset:"",currentTab:"",currentIndex:"",cur:!1,messageValue:1,maxMessageValue:99,nextId:"",isLoading:!1,isEmpty:!1,isRetry:!1,isNoData:!1,moreMessage:!1,messageAllTag:{},cancel:null}},computed:Object(n["a"])(Object(n["a"])({},Object(B["c"])(["config","unread"])),{},{curURL:function(){return this.$route&&this.$route.path?this.$route.path:""},parmas:function(){return this.$route&&this.$route.query?this.$route.query:{}},curName:function(){return this.$route&&this.$route.name?this.$route.name:""},cardType:function(){return"atWeibo"==this.$route.name?"weibo":"likeInbox"==this.$route.name?"like":"atCmt"==this.$route.name||"cmtInbox"==this.$route.name||"cmtOutbox"==this.$route.name?"cmt":"normal"}},Object(B["d"])({userType:function(t){return t.userType.userType}})),watch:{$route:function(t,e){"message"==t.name&&"1"!==t.query.is_notice?(this.tabs=[],this.moreMessage=!1,this.currentTab="summary",this.currentIndex=0):v.includes(t.name)&&(this.currentTab="details",this.highLightTab(),this.handleCurTab())},unread:function(t){this.iscreated&&(Object(ae["a"])({unreadTag:this.unreadTagReset}),this.iscreated=!1),this.handleNavDot(),0===this.tabs.length&&(this.tabs=ee),this.tabs=this.handleUnread(this.tabs)},userType:function(t){this.userType=t,this.initData(),this.highLightTab(),this.iscreated=!0}},created:function(){var t=this;this.handleNavDot();this.userType;this.initData(),this.highLightTab(),this.iscreated=!0,this.$Bus.$on("reload",this.reloadHandle),this.$once("hook:beforeDestroy",(function(){t.$Bus.$off("reload",t.reloadHandle)}))},methods:{reloadHandle:function(t,e){"messages"===t&&"messages"==e&&(this.messageAllTag=this.curTag(),this.$_wooBus.$emit("repeatClick",this.userType?"summary":"atWeibo"))},handleUnread:function(t){var e=this;return t.map((function(t,i){t.unreadTag&&(t.unread=e.unread[t.unreadTag])})),t},clickGroup:function(t,e){t.tag==this.$route.name&&this.objEqual(t.parmas,this.$route.query)&&this.$_wooBus.$emit("repeatClick",t.tag),Object(ae["a"])({unreadTag:t.unreadTag}),this.tabIndex=e,this.$router.push({name:t.tag,query:Object(n["a"])({},t.parmas)})},objEqual:function(t,e){var i=!1;return!Object.keys(t).length&&!Object.keys(e).length||(Object.keys(t).map((function(a){Object.keys(e).map((function(o){a==o&&t[a]==e[o]&&(i=!0)}))})),i)},highLightTab:function(){"atWeibo"==this.curName?1==this.parmas.filter_by_author?(this.unreadTagReset="attention_mention_status",this.tabIndex=1):1==this.parmas.filter_by_type?this.tabIndex=2:(this.unreadTagReset="mention_status",this.tabIndex=0):"atCmt"==this.curName?1==this.parmas.filter_by_author?(this.unreadTagReset="attention_mention_cmt",this.tabIndex=4):(this.unreadTagReset="all_mention_cmt",this.tabIndex=3):"cmtInbox"==this.curName?1==this.parmas.filter_by_author?(this.unreadTagReset="attention_cmt",this.tabIndex=1):(this.unreadTagReset="cmt",this.tabIndex=0):"cmtOutbox"==this.curName?this.tabIndex=2:"likeInbox"==this.curName&&(this.unreadTagReset="attitude"),Object(ae["a"])({unreadTag:this.unreadTagReset})},initData:function(){if(v.includes(this.$route.name))this.currentTab="details",this.currentIndex=1,this.handleCurTab();else if(this.$route.query&&this.$route.path.indexOf("details")>0){this.moreMessage=!0;var t=this.$route.query.type;this.loadMoreData(t)}else this.currentTab="summary",this.currentIndex=0},handleCurTab:function(){_.includes(this.$route.name)?this.tabs=ee:g.includes(this.$route.name)?this.tabs=ie:this.tabs=[],this.tabs=this.handleUnread(this.tabs),this.messageAllTag=this.curTag()},back:function(){this.currentTab="summary",this.moreMessage=!1,this.nextId="",this.list=[],this.$router.push({name:"message",query:{uid:this.$route.query.uid}})},loadMoreData:function(){this.getInfo()},change:function(t){switch(t[0]){case"showmore":this.moreMessage=t[2],this.$route.query.type=t[1],this.$router.push({name:"messagesDetails",query:this.$route.query}),this.loadMoreData();break}},curTag:function(){var t=this,e={},i=0,a="";return this.curName&&b.map((function(o,s){o.nextTag.length>0?o.nextTag.map((function(o){o.name!==t.curName||!t.parmas[Object.keys(o.parmas)[0]]&&Object.keys(o.parmas).length||(e=Object(n["a"])({},o),i=s,a=o.value)})):o.name===t.curName&&(e=Object(n["a"])({},o),i=s,a=o.value)})),{curItem:e,curIndex:i,curValue:a}},getInfo:function(){var t=this;this.isLoading=!0,this.isRetry=!1,this.isNoData=!1,this.isEmpty=!1;var e=this.$http.CancelToken,i="/ajax/message/msgList?",a={type:this.$route.query.type},o="list",s="messageAll",r=this;this.$http({url:i,method:"get",params:Object(n["a"])(Object(n["a"])({},JSON.parse(JSON.stringify(a))),{},{max_id:this.mid,sinceId:this.nextId}),cancelToken:new e((function(t){r.cancel=t}))}).then((function(e){if(t.isLoading=!1,e&&e.data&&1===+e.data.ok){var i=e.data.data[o];0===i.length&&(t.isNoData=!0,t.isLoading=!1),t.nextId=e.data.data.nextId,t.list=t.list.concat(t.filterData(i,o,s)),t.isLoading=!0,0===t.nextId&&(t.isEmpty=!0,t.isNoData=!0,t.isLoading=!1,t.isRetry=!1)}else 0===e.data.ok&&(t.isLoading=!1,t.isEmpty=!0,t.isRetry=!1)})).catch((function(){t.isLoading=!1,t.isRetry=!1}))},handleNavDot:function(){if(this.config&&this.config.flags&&this.config.flags.settings&&this.config.flags.settings.message){var t=this.config.flags.settings.message,e=t.at_me,i=t.comment;1===e?(ee[0].dot=!0,ee[1].dot=!0,ee[3].dot=!0,ee[4].dot=!0):2===e?(ee[1].dot=!1,ee[4].dot=!1,ee[0].dot=!0,ee[3].dot=!0):3===e&&(ee[0].dot=!1,ee[3].dot=!1,ee[1].dot=!0,ee[4].dot=!0),1===i?(ie[0].dot=!0,ie[1].dot=!0):2===i?(ie[1].dot=!1,ie[0].dot=!0):3===i&&(ie[0].dot=!1,ie[1].dot=!0),this.$Bus.$emit("updateMessageAtCmtData",{at:ee,cmt:ie})}}}},ne=oe,se=i("c6ac");function re(t){this["$style"]=se["default"].locals||se["default"]}var le=Object(T["a"])(ne,a,o,!1,re,null,null),ce=le.exports,ue=i("722e"),de=i("641d");e["default"]=[{path:"messages",name:"messageTop",components:{main:ce,side:ue["a"]},meta:{keepAlive:!0,title:"消息",channel:"messages",uicode:de.uicode.messgaeSummary},children:[{path:"index",name:"messageIndex",meta:{keepAlive:!0,title:"消息",channel:"messages"}},{path:"summary",name:"message",meta:{keepAlive:!0,title:"消息",channel:"messages"},children:[{path:"details",name:"messagesDetails",components:{main:ce,side:ue["a"]},meta:{keepAlive:!0,title:"消息",channel:"messages",uicode:de.uicode.messgaeSummary}}]},{path:"all",name:"messageAll",meta:{keepAlive:!0,title:"消息",channel:"messages",uicode:de.uicode.messgaeSummary}},{path:"groupchat",name:"messagesGroupchat",meta:{keepAlive:!0,title:"消息",channel:"messages",uicode:de.uicode.messageChat}}]},{path:"at",components:{main:ce,side:ue["a"]},meta:{keepAlive:!0,uicode:de.uicode.messageAt},children:[{path:"weibo",name:"atWeibo",meta:{keepAlive:!0,title:"消息",channel:"messages",uicode:de.uicode.messageAt}},{path:"comment",name:"atCmt",meta:{keepAlive:!0,title:"消息",channel:"messages",uicode:de.uicode.messageAt}}]},{path:"comment",components:{main:ce,side:ue["a"]},meta:{keepAlive:!0,channel:"messages",uicode:de.uicode.messageComment},children:[{path:"inbox",name:"cmtInbox",meta:{keepAlive:!0,title:"消息",channel:"messages",uicode:de.uicode.messageComment}},{path:"outbox",name:"cmtOutbox",meta:{keepAlive:!0,title:"消息",channel:"messages",uicode:de.uicode.messageComment}}]},{path:"like/inbox",name:"likeInbox",meta:{keepAlive:!0,title:"消息",channel:"messages",uicode:de.uicode.messageLike},components:{main:ce,side:ue["a"]}}]},b797:function(t,e,i){"use strict";var a=i("f015"),o=i.n(a);e["default"]=o.a},b7d6:function(t,e,i){t.exports={cut:"Bar_cut_2RKc6",main:"Bar_main_R1N5v",transparent:"Bar_transparent_3ws6o",card:"Bar_card_3Jk5b",border:"Bar_border_30ceN",bar:"Bar_bar_2wYyi",left:"Bar_left_2J3kl",right:"Bar_right_1huNo",title:"Bar_title_2dpA9",back:"Bar_back_20RmD",hand:"Bar_hand_2VAG1",mid:"Bar_mid_2zgCp"}},b880:function(t,e,i){t.exports={wrap:"HotTopic_wrap_11XQi",ranktop:"HotTopic_ranktop_oE5Mf",rankimg:"HotTopic_rankimg_2Y9y8",rank1:"HotTopic_rank1_1lpCB",rank2:"HotTopic_rank2_nJY_P",rank3:"HotTopic_rank3_2EV27",ranknum:"HotTopic_ranknum_MdimB",borderbox:"HotTopic_borderbox_3OE9q",item:"HotTopic_item_VkggB",titout:"HotTopic_titout_1CFlj",top:"HotTopic_top_25xJ1",icon3:"HotTopic_icon3_2gwhx",tit:"HotTopic_tit_eS4fv",margin:"HotTopic_margin_jmf3D",right:"HotTopic_right_2FR-e",wbtext:"HotTopic_wbtext_iNPG5",num:"HotTopic_num_1H-j8",pic:"HotTopic_pic_5MwYy",img:"HotTopic_img_32v2_",video:"HotTopic_video_3I4XT",pos:"HotTopic_pos_PLjR1",icon2:"HotTopic_icon2_1HP2p",focusImg:"HotTopic_focusImg_2x3Nm",doticon:"HotTopic_doticon_15ko9",picmask:"HotTopic_picmask_cP4uo",picnum:"HotTopic_picnum_1cguc",videomask:"HotTopic_videomask_1tLQr",videotime:"HotTopic_videotime_1qUPK",tiny:"HotTopic_tiny_3fMzT",emoticon:"HotTopic_emoticon_2pHzH"}},b893:function(t,e,i){"use strict";i.d(e,"d",(function(){return a})),i.d(e,"a",(function(){return o})),i.d(e,"e",(function(){return n})),i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return r}));i("baa5"),i("fb6a"),i("d3b7"),i("4d63"),i("ac1f"),i("25f0"),i("466d"),i("5319");function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{return t.replace(/^http:/,"https:")}catch(e){return t}}function o(t){return new Promise((function(e,i){if("clipboard"in navigator)navigator.clipboard.writeText(t).then((function(){e("success")})).catch((function(){i("fail")}));else{var a=document.createElement("textarea");a.value=t,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),e()}}))}var n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=new RegExp("549d0121tw1egm1kjly3jj20hs0hsq4f|9d44112bjw1f1xl1c10tuj20hs0hs0tw");return e.test(t)&&(t=t.replace(e,"70ace9b7ly1ggzusnypoej20yi0yiaop")),t.replace(/crop\.0\.0\.640\.640\.640/,"mw2000")},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!t)return"";if(t.match("_dark"))return t;var e=t.lastIndexOf("/"),i=t.lastIndexOf("."),a=t.slice(i),o=t.slice(e+1,i),n=t.slice(0,e+1)+o+"_dark"+a;return n},r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t?t.replace("_dark",""):""}},b928:function(t,e,i){t.exports={scroll:"Index_scroll_1KLLm",back:"Index_back_J8C00",ltit:"Index_ltit_3Tz30",lipt:"Index_lipt_194z9",lradio:"Index_lradio_1yXOD"}},b9fa:function(t,e,i){"use strict";var a=i("2dc5"),o=i.n(a);e["default"]=o.a},ba41:function(t,e,i){t.exports={unRead:"Setting_unRead_2q6RV"}},baa3:function(t,e,i){t.exports={content:"ProfileNewVideo_content_PCkQF"}},baf4:function(t,e,i){"use strict";i("b64b");e["a"]={data:function(){return{showPop:!1,showPopList:{}}},created:function(){var t=this;this.$Bus.$on("closePop",this.closePopHandle),this.$once("hook:beforeDestroy",(function(){t.$Bus.$off("closePop",t.closePopHandle)}))},methods:{closePopHandle:function(){this.closePop()},clickPop:function(){this.showPop||this.$Bus.$emit("closePop"),this.showPop=!this.showPop},closePop:function(){this.showPop=!1;for(var t=0,e=Object.keys(this.showPopList);t<e.length;t++){var i=e[t];this.showPopList[i]=!1}},initShowPopList:function(t){this.showPopList=t},clickPopList:function(t){this.$Bus.$emit("closePop");for(var e=0,i=Object.keys(this.showPopList);e<i.length;e++){var a=i[e];t===a?this.showPopList[t]=!0:this.showPopList[a]=!1}}}}},bb0d:function(t,e,i){"use strict";var a=i("ddba"),o=i.n(a);o.a},bb16:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{attrs:{align:"center",justify:"addComment"===t.action&&"between"}},["addComment"!==t.action?[i("woo-box-item",{attrs:{align:"center"}},[i("woo-box",{class:t.$style.mar1,attrs:{old:""}},t._l(t.tools,(function(e,a){return i("woo-box-item",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"item.visible"}],key:a,class:[t.$style.iconitem,t.terse&&t.$style.mar2],nativeOn:{click:function(i){i.stopPropagation(),i.preventDefault(),"vellipsis"!==e.value&&!e.disabled&&t.click(e.value,e.disabled)}}},["audio"===e.value?i("FeatureBubble",{class:t.$style.mix,attrs:{gap:20,alignGap:15,align:"start",content:"微博支持发布音频啦",configkey:"audio_bubble"}}):t._e(),"image"===e.value?i("VPlus",{attrs:{item:e,hasPid:t.hasPid},on:{open:t.clickVplus}}):"assistCreation"===e.value?i("AssistCreationEntrance",{attrs:{title:e.title,icon:e.value,aiConfig:t.aiConfig,showPopList:t.showPopList,darkMode:t.darkMode},on:{"click-item":t.onClickAssistCreationItem},nativeOn:{click:function(t){t.stopPropagation()}}}):"vellipsis"!==e.value?i("woo-box",{class:[t.$style.itemin,e.disabled&&t.$style.disabled,e.file&&t.$style.file],attrs:{direction:"y",align:"center",justify:"center"}},[i("Icons",{class:t.$style.svg,attrs:{symbol:e.value}}),i("span",{class:t.$style.text},[t._v(t._s(e.title))])],1):i("woo-pop",{attrs:{show:t.showPopList.show},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-box",{class:t.$style.itemin,attrs:{direction:"y",align:"center",justify:"center"},nativeOn:{click:function(e){return t.clickMore(e)}}},[i("Icons",{class:t.$style.svg,attrs:{symbol:e.value}}),i("span",{class:t.$style.text},[t._v("更多")])],1)]},proxy:!0}],null,!0)},[i("woo-pop-wrap",t._l(t.popTools,(function(e,a){return i("woo-pop-item",{key:a,class:e.disabled&&t.$style.disabled,attrs:{disabled:!0},nativeOn:{click:function(i){i.stopPropagation(),!e.disabled&&t.click(e.value)}},scopedSlots:t._u([{key:"icon",fn:function(){return[i("Icons",{class:t.$style.svg2,attrs:{symbol:e.value}})]},proxy:!0}],null,!0)},[t._v(" "+t._s(e.text)+" ")])})),1)],1)],1)})),1)],1),i("div",{class:t.$style.line},[i("woo-divider",{attrs:{direction:"y","border-color":"var(--w-layer-border)"}})],1),i("woo-box",{directives:[{name:"show",rawName:"v-show",value:t.timer.visible,expression:"timer.visible"}],class:[t.$style.iconitem,t.$style.timer],nativeOn:{click:function(e){return e.stopPropagation(),t.click("timer")}}},[i("woo-box",{class:[t.$style.itemin,t.$style.itemin2,!t.iconShow.timer&&t.$style.disabled],attrs:{title:t.timer.title,align:"center",justify:"center"}},[i("Icons",{class:t.$style.svg,attrs:{symbol:t.timer.value}})],1),i("woo-picture",{class:t.$style.timer_desc,attrs:{src:"https://h5.sinaimg.cn/upload/100/1474/2023/08/14/huiyuan"+(t.darkMode&&1===t.darkMode.mode?"_dark":"")+".png",border:!1,alt:t.timer.title}})],1),!0===t.iconShow.visible?i("visible",{ref:"visible",attrs:{disabled:t.formDisabled||this.coCreation&&this.coCreation.coCreation,disabledText:this.coCreation&&this.coCreation.coCreation&&"共创"+(this.isAudio?"音":"视")+"频无法设置可见范围",auth:"",statementAuth:"",initVisible:t.currentVisible,filter:t.coCreationFilter?t.coCreationFilter:t.visibleFilter,"visible-only":t.visibleOnly},on:{change:function(e){return t.iconShowChange(arguments)},close:function(e){return t.click("visible",!0)}}}):t._e()]:i("div",{class:t.$style.tag,domProps:{innerHTML:t._s("原博: "+t.content)}}),"自动发布"==t.sendDesc?i("woo-pop",{attrs:{show:t.showPop,direction:"up",align:"end",gap:10,alignGap:12,hasClose:!0,bubble:"",width:200},on:{"click-outside":function(e){t.showPop=!1}},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("div",{class:t.$style.check},[t.sendDisabled||t.doneDisabled&&t.doneDisabled?i("div",{class:t.$style.checkc,on:{click:function(e){return t.disabledCheck()}}}):t._e(),i("woo-button",{class:[t.$style.btn,"channel"===t.action&&t.$style.btn1],attrs:{sort:"flat",kind:"primary",ontouchstart:"",disabled:t.sendDisabled||!!t.doneDisabled&&t.doneDisabled},nativeOn:{click:function(e){return t.publish(e)}}},[i("span",[t._v(" "+t._s(t.sendDesc?t.sendDesc:"发送")+" ")])])],1)]},proxy:!0}],null,!1,1042818977)},[i("div",{staticClass:"main layer"},[t._v(" "+t._s(t.isAudio?"音频":"视频")+"上传完毕后，会自动发布微博 ")])]):i("div",{class:t.$style.check,on:{click:function(e){return t.disabledCheck()}}},[t.sendDisabled||t.doneDisabled&&t.doneDisabled?i("div",{class:t.$style.checkc,on:{click:function(e){return t.disabledCheck()}}}):t._e(),i("woo-button",{class:[t.$style.btn,"channel"===t.action&&t.$style.btn1],attrs:{sort:"flat",kind:"primary",disabled:t.sendDisabled||!!t.doneDisabled&&t.doneDisabled},on:{click:t.publish}},[t._v(t._s(t.sendDesc?t.sendDesc:"发送"))])],1)],2)},o=[],n=(i("caad"),i("c975"),i("d81d"),i("a434"),i("b0c0"),i("b64b"),i("07ac"),i("5377"),i("3835")),s=i("5530"),r=i("6c3f"),l=i("2f62"),c=i("baf4"),u=i("928a"),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-pop",{class:t.$style.vplus,attrs:{show:t.showBubble,direction:t.direction,align:t.align,gap:t.gap,alignGap:t.alignGap,hasClose:t.check,width:t.width},on:{mousedown:function(t){t.stopPropagation()},"click-outside":t.closeBubble},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-box",{class:[t.$style.itemin,t.item.disabled&&t.$style.disabled,t.item.file&&t.$style.file],attrs:{direction:"y",align:"center",justify:"center"},nativeOn:{click:function(e){return t.showBubbleFn(e)}}},[i("Icons",{class:t.$style.svg,attrs:{symbol:t.item.value}}),i("span",{class:t.$style.text},[t._v(t._s(t.item.title))])],1)]},proxy:!0}])},[i("woo-box",{class:t.$style.pic,attrs:{justify:"between"}},[i("woo-box",{attrs:{align:"center"},nativeOn:{click:function(e){return e.stopPropagation(),t.open("image")}}},[i("woo-fonticon",{class:t.$style.icon,attrs:{value:"imgUploader"}}),t._v(" 普通图片 ")],1),i("div",{staticStyle:{height:"30px"}},[i("woo-divider",{attrs:{direction:"y"}})],1),i("woo-box",{attrs:{align:"center"},nativeOn:{click:function(e){return e.stopPropagation(),t.open("vplus_image")}}},[i("woo-fonticon",{class:t.$style.icon,attrs:{value:"vplus"}}),t._v("专属图片")],1)],1)],1)},h=[],p=(i("a9e3"),{props:{content:{type:String,default:"新功能"},configkey:{type:String,default:""},timeout:{type:Number,default:5},direction:{type:String,default:"down"},align:{type:String,default:"start"},gap:{type:Number,default:0},alignGap:{type:Number,default:0},check:{type:Boolean,default:!0},width:{type:Number,default:252},item:{},hasPid:{type:Boolean,default:!1}},data:function(){return{showBubble:!1,cur:"image"}},methods:{closeBubble:function(){this.showBubble=!1},showBubbleFn:function(){var t;this.hasPid?this.$emit("open",this.cur):(null===(t=window.$CONFIG.user)||void 0===t?void 0:t.v_plus)?(this.$Bus.$emit("closePop"),this.showBubble=!0):this.$emit("open",this.cur)},open:function(t){this.closeBubble(),this.cur=t,this.$emit("open",this.cur)}},mounted:function(){var t=this;this.$Bus.$on("closePop",this.closeBubble),this.$once("hook:beforeDestroy",(function(){t.$Bus.$off("closePop",t.closeBubble)}))}}),f=p,m=i("b576"),v=i("2877");function _(t){this["$style"]=m["default"].locals||m["default"]}var g=Object(v["a"])(f,d,h,!1,_,null,null),b=g.exports,y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-pop",{attrs:{show:t.showPopList.aiShow},on:{"click-outside":function(e){t.showPopList.aiShow=!1}},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-box",{class:t.$style.itemin,attrs:{direction:"y",align:"center",justify:"center"},nativeOn:{click:function(e){return t.onClickMore(e)}}},[i("Icons",{class:t.$style.svg,attrs:{symbol:"ai"}}),i("span",{class:t.$style.text},[t._v(t._s(t.title))]),i("woo-picture",{class:t.$style.free,attrs:{src:"https://h5.sinaimg.cn/upload/1005/891/2024/05/13/xianmian"+(t.$attrs.darkMode&&1===t.$attrs.darkMode.mode?"_dark":"")+".png",border:!1}})],1)]},proxy:!0}])},[i("woo-pop-wrap",t._l(t.options,(function(e,a){return i("woo-pop-item",{key:a,nativeOn:{click:function(i){return t.onClickItem(e.key)}},scopedSlots:t._u([{key:"icon",fn:function(){return[i("Icons",{class:t.$style.svg2,attrs:{symbol:e.icon}})]},proxy:!0}],null,!0)},[i("span",[t._v(t._s(e.label))])])})),1)],1)},w=[],x=i("ed09"),k={props:{title:String,icon:String,aiConfig:{type:Object,default:function(){return{}}},showPopList:{type:Object,default:function(){return{}}}},setup:function(t,e){var i=e.emit,a=Object(x["d"])().proxy,o=Object(x["a"])((function(){var e=[];return t.aiConfig.enablePolish&&e.push({label:"AI润色",icon:"polishing",key:"polish"}),t.aiConfig.enableContinue&&e.push({label:"AI续写",icon:"continuation",key:"continue"}),t.aiConfig.enablePic2Text&&e.push({label:"图配文",icon:"illustration",key:"pic2Text"}),e})),n=function(){a.$Bus.$emit("closePop"),t.showPopList.aiShow=!0},s=function(e){t.showPopList.aiShow=!1,i("click-item",e)};return{onClickMore:n,options:o,onClickItem:s}}},$=k,C=i("e057");function O(t){this["$style"]=C["default"].locals||C["default"]}var j=Object(v["a"])($,y,w,!1,O,null,null),T=j.exports,D=i("0587"),S=i("8e18"),I=i("b047"),L=i.n(I),B={setup:function(t,e){var i=e.emit,a=Object(S["a"])(),o=a.isAudio,n=Object(x["n"])(),s=L()((function(){i("publish")}),1e3,{leading:!0,trailing:!1});return Object(x["s"])((function(){return t.coCreation}),(function(t){t.coCreation?n.value=[!1,!0,!0,!0,!0,!0]:n.value=!1}),{deep:!0}),{coCreationFilter:n,isAudio:o,publish:s}},mixins:[c["a"]],components:{VPlus:b,visible:u["a"],FeatureBubble:D["default"],AssistCreationEntrance:T},props:{content:{},monograph:{},formDisabled:{type:Boolean,default:!1},location:{type:String,default:""},formCount:{type:Object,default:function(){return{count:0,maxcount:0}}},data:{type:Object,default:function(){return{pic_id:"",vote:"{}",media:"{}"}}},action:{type:String},ispost:{type:Boolean,default:!1},toolsfliter:{type:Array,default:function(){return["emoticon","image","hash","at","video","article","vote","stopic","place","vellipsis","timer","assistCreation"]}},toolsDisable:{type:Array,default:function(){return[]}},visibleFilter:{type:Array,default:function(){return[!1,!1,!1,!1,!1]}},visibleOnly:{type:Object,default:null},mcomment:{type:Object,default:function(){return{}}},schedule_id:{},media:{},doneDisabled:{},sendDesc:{},hasPid:{type:Boolean,default:!1},coCreation:{},scheduleConfig:{},aiConfig:{type:Object,default:function(){return{}}}},data:function(){return{iconShow:{},timer:{title:"定时微博",value:"timer",visible:!0},visable:0,showPop:!0,mblogStatement:0,currentVisible:0,terse:!1}},watch:{data:{handler:function(t){this.handleIconAction(t),this.currentVisible=t.visible},deep:!0},action:function(t){this.changeAction()},"monograph.title":function(){this.handleIconAction(this.data)}},filters:{fliterText:function(t){var e=Object(r["d"])(t,9),i=Object(r["d"])(t,10);return t===i?i:e+"…"}},computed:Object(s["a"])(Object(s["a"])({},Object(l["c"])(["config","darkMode"])),{},{onlyVisibleToOneself:function(){return 1===+this.visable||0!==this.mblogStatement},isHome:function(){return["home","mygroups","login"].includes(this.$route.name)},popTools:function(){var t,e=[{text:"直播",value:"live"},{text:"点评",value:"scomment",disabled:this.data.schedule_timestamp||"modify"===this.action},{text:"地点",value:"place"},{text:"超话",value:"stopic"},{text:"新鲜事",value:"fresh"},{text:"问答",value:"ask"},{text:"专栏",value:"collection",disabled:this.data.schedule_timestamp||"modify"===this.action}];return this.config.flags.can_create_vote&&e.unshift({value:"vote",text:"投票",disabled:this.iconShow&&!this.iconShow.vote}),(null===(t=this.config.flags)||void 0===t?void 0:t.audio_auth)&&e.unshift({value:"article",text:"头条文章"}),e},tools:function(){var t=this,e=[["emoticon","表情",!1,!1,!0],["image","图片",this.iconShow&&!this.iconShow.image,!0,!0],["video","视频",this.iconShow&&!this.iconShow.video,!1,!0],["hash","话题",!1,!1,!0],["article","头条文章",!1,!1,!0],["vellipsis","查看更多",!1,!1,!0]],i=window.$CONFIG.flags;(null===i||void 0===i?void 0:i.audio_auth)&&e.splice(4,1,["audio","音频",!1,!1,!0]),(this.aiConfig.enablePolish||this.aiConfig.enablePic2Text||this.aiConfig.enableContinue)&&e.splice(5,0,["assistCreation","辅助创作",!1,!1,!0]),("channel"===this.action||this.isAudio)&&e.push(["place","地点",!1,!1,!0]);for(var a=e.map((function(e){return{value:e[0],title:e[1],disabled:t.formDisabled?t.formDisabled:e[2],file:e[3],visible:e[4]}})),o=0,n=Object.values(a);o<n.length;o++){var s=n[o];s.visible=this.toolsfliter.indexOf(s.value)>-1&&s.visible,this.toolsDisable.length&&(s.disabled=this.toolsDisable.indexOf(s.value)>-1)}return a},sendDisabled:function(){return this.formCount.count>this.formCount.maxcount||!!this.data.pic_id&&(!!this.ispost||(!(!Object.keys(this.mcomment).length||this.mcomment.current_scroe)||!1!==this.data.mcomment&&(0==this.formCount.count&&"channel"!==this.action&&!this.isAudio)))}}),methods:{onClickAssistCreationItem:function(t){this.click(t)},clickVplus:function(t){this.click(t)},iconShowChange:function(t){var e=Object(n["a"])(t,2),i=e[0],a=e[1];"visible"===i?this.terse=1===a||7===a:"mblog_statement"===i&&(this.terse=0!==a,this.mblogStatement=a),this.$emit("change",i,a)},clickMore:function(){this.click(""),this.clickPopList("show")},changeAction:function(){this.handleIconAction(this.data)},handleIconAction:function(t){var e=this;this.$nextTick((function(){if("modify"===e.action)e.iconShow={vote:t.pic_id&&!t.vote_exist,video:!1,image:t.vote,visible:!1,timer:!1,scomment:!1};else if("schedule"===e.action)e.iconShow={vote:!1,video:!0,image:t.vote&&!t.vote_exist,visible:!t.schedule_id,timer:!1,scomment:!1};else if("timer"===e.action)e.click("timer"),e.iconShow={vote:!1,video:t.pic_id,image:t.media,visible:!e.data.schedule_id,timer:!1,scomment:!1};else{var i;e.iconShow={vote:t.pic_id&&t.media&&t.mcomment,video:t.pic_id&&t.vote,image:t.vote&&t.media,visible:!0,timer:e.formDisabled?!e.formDisabled:!Object.keys(e.mcomment).length&&!(null===(i=e.monograph)||void 0===i?void 0:i.title)&&!(e.coCreation&&e.coCreation.coCreation),scomment:!0}}}))},hideAllLayer:function(){this.closePop(),this.$refs.visible&&this.$refs.visible.close()},click:function(t,e){this.clickPop(),this.closePop(),"timer"===t&&this.coCreation&&this.coCreation.coCreation&&this.$_w_toast({type:"warn",message:"共创".concat(this.isAudio?"音":"视","频无法定时发布")});var i={emoticon:"01",image:"02",vplus_image:"02",at:"03",hash:"04",vote:"05",video:"06",article:"07",place:"08",share_id:"09",timer:"10",visible:"11",authority:"12",scomment:"14",live:"15",ask:"16",fresh:"17",mcomment:"18",collect:"19",audio:"20",polish:"21",continue:"22",pic2Text:"23"};if(this.toLog({luicode:this.$route.meta.uicode,page:"home"==this.location?"publisher":"qPublisher",actType:"click",extValue:"".concat(i[t]?i[t]:"09","-real")}),void 0===this.iconShow[t]){if(e)return;this.$emit("change",t)}else{if(e)return;this.iconShow[t]&&this.$emit("change",t)}},disabledCheck:function(){this.$emit("disabledCheck")}},mounted:function(){this.timer&&(this.timer.visible=this.toolsfliter.indexOf("timer")>-1),this.changeAction(),this.initShowPopList({show:!1,aiShow:!1})}},P=B,A=i("c58e");function E(t){this["$style"]=A["default"].locals||A["default"]}var M=Object(v["a"])(P,a,o,!1,E,null,null);e["a"]=M.exports},bb4f:function(t,e,i){"use strict";var a=i("1ff5"),o=i.n(a);e["default"]=o.a},bb93:function(t,e,i){t.exports={addBtn:"School_addBtn_3OeDi",addicon:"School_addicon_3dGHd",addtext:"School_addtext_1HFvn",addMore:"School_addMore_U6PM5"}},bc3b:function(t,e,i){t.exports={box:"Vote_box_1yuG3",btn:"Vote_btn_2u22a",text:"Vote_text_2Wg0L",icon:"Vote_icon_27Hqm"}},bcd8:function(t,e,i){"use strict";var a=i("857d"),o=i.n(a);e["default"]=o.a},bda9:function(t,e,i){"use strict";var a=i("4cc5"),o=i.n(a);e["default"]=o.a},bdb9:function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_continuation",use:"woo_svg_continuation-usage",viewBox:"0 0 1024 1024",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" id="woo_svg_continuation"><path fill="currentColor" d="M814.334 402.222l4.422 3.905L946.29 533.66c16.92 16.92 18.221 43.544 3.905 61.957l-3.905 4.422-319.168 319.169a46.934 46.934 0 01-27.02 13.34l-6.169.407H466.398c-24.071 0-43.909-18.119-46.621-41.463l-.316-5.474V758.484a46.938 46.938 0 019.673-28.539l4.074-4.651 319.169-319.169c16.921-16.919 43.545-18.22 61.957-3.903zm-492.22 435.783c12.961 0 23.468 10.507 23.468 23.468v46.937c0 12.961-10.507 23.468-23.468 23.468H87.431c-12.961 0-23.468-10.507-23.468-23.468v-46.937c0-12.961 10.507-23.468 23.468-23.468h234.683zm385.444-280.927L494.561 770.103v87.752l87.72-.033 213.001-213.02-87.724-87.724zm78.006-77.978l-38.158 38.129 87.724 87.724 38.152-38.134-87.718-87.719zM472.08 458.505c12.961 0 23.468 10.507 23.468 23.468v46.937c0 12.961-10.507 23.468-23.468 23.468H87.431c-12.961 0-23.468-10.507-23.468-23.468v-46.937c0-12.961 10.507-23.468 23.468-23.468H472.08zm366.337-367.46c12.961 0 23.468 10.507 23.468 23.468v46.937c0 12.961-10.507 23.468-23.468 23.468H87.431c-12.961 0-23.468-10.507-23.468-23.468v-46.937c0-12.961 10.507-23.468 23.468-23.468h750.986z" /></symbol>'});s.a.add(r);e["default"]=r},bdbc:function(t,e,i){t.exports={wrap:"card24_wrap_2DVEQ",line:"card24_line_3s2Pl",userbox:"card24_userbox_3WgEs",more:"card24_more_G6Wgh"}},bea9:function(t,e,i){"use strict";var a=i("b928"),o=i.n(a);e["default"]=o.a},beb8:function(t,e,i){t.exports={wrap:"Feed_wrap_3v9LH",normal:"Feed_normal_12A98",noGap:"Feed_noGap_3NjE9",noInterval:"Feed_noInterval_2ccPA",mask:"Feed_mask_1tfaM",cardbg:"Feed_cardbg_1VGRb",body:"Feed_body_3R0rO",editbody:"Feed_editbody_T8SrB",historybody:"Feed_historybody_1HSeF",beforeContent:"Feed_beforeContent_1fNwe",url:"Feed_url_EwnTN",retweet:"Feed_retweet_JqZJb",retweetMessage:"Feed_retweetMessage_1675c",pictureViewerBackground:"Feed_pictureViewerBackground_3iPal",retweetBar:"Feed_retweetBar_3IHPj",retweetHeadInfo:"Feed_retweetHeadInfo_Tl4Ld",serborder:"Feed_serborder_12pnx",box:"Feed_box_3fswx",mar1:"Feed_mar1_E_5ip",mar2:"Feed_mar2_3L-z0",nocard:"Feed_nocard_3jDXR",noborder:"Feed_noborder_3Gwr1",pictureViewer:"Feed_pictureViewer_xyGuG",placebox:"Feed_placebox_2-SLc",inViewer:"Feed_inViewer_3s2Tc"}},bf28:function(t,e,i){"use strict";var a=i("d2aa"),o=i.n(a);e["default"]=o.a},bf5a:function(t,e,i){"use strict";var a=i("72e6"),o=i.n(a);e["default"]=o.a},bf7e:function(t,e,i){t.exports={help:"Action_help_1pTvo",helppop1:"Action_helppop1_2Yeqm",popc:"Action_popc_34Pl9",helppop2:"Action_helppop2_1SKBK",helppop3:"Action_helppop3_2mhxI",qa:"Action_qa_2k1Fr"}},bfbe:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isVip?i("woo-icon",{class:t.$style.icon,attrs:{symbol:"vip",level:+t.mbrank,svip:t.isSvip,vvip:t.isVvip,"aria-label":"vip"+t.mbrank},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toVip(e)}}}):t._e()},o=[],n=(i("a9e3"),{name:"IconVip",props:{mbrank:Number,mbtype:Number,svip:Number,vvip:Number,user:Object},computed:{isVip:function(){return this.user?this.user.mbrank&&this.user.mbtype&&2!==this.user.mbtype:this.mbrank&&this.mbtype&&2!==this.mbtype},isSvip:function(){return this.user?this.user.svip:this.svip},isVvip:function(){return this.user?this.user.vvip:this.vvip}},methods:{toVip:function(){window.open("https://vip.weibo.com/personal?from=main")}}}),s=n,r=i("c016"),l=i("2877");function c(t){this["$style"]=r["default"].locals||r["default"]}var u=Object(l["a"])(s,a,o,!1,c,null,null);e["a"]=u.exports},bfec:function(t,e,i){"use strict";var a=i("cd12"),o=i.n(a);e["default"]=o.a},c016:function(t,e,i){"use strict";var a=i("9325"),o=i.n(a);e["default"]=o.a},c042:function(t,e,i){t.exports={scroll4:"edit-history_scroll4_1PStW"}},c069:function(t,e,i){t.exports={wrap:"card59_wrap_eJCy3",line:"card59_line_1zKkn"}},c0e7:function(t,e,i){t.exports={cut:"head-info_cut_1tPQI",info:"head-info_info_2AspQ",from:"head-info_from_3FX0m",time:"head-info_time_6sFQg",ip:"head-info_ip_3ywCW",source:"head-info_source_2zcEX",edit:"head-info_edit_1GoAP",tag:"head-info_tag_3iMJw",text:"head-info_text_jtioX",tagList:"head-info_tagList_35KPi"}},c105:function(t,e,i){"use strict";var a=i("aca1"),o=i.n(a);e["default"]=o.a},c106:function(t,e,i){"use strict";i.d(e,"d",(function(){return n})),i.d(e,"a",(function(){return s})),i.d(e,"c",(function(){return r}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.container},[t.expand||t.senior?t.expand||t.senior?i("div",{class:t.$style.inner},[i("div",[i("woo-box",{class:t.$style.tit,attrs:{align:"center",justify:"between"}},[i("div",{class:t.$style.tt},[t._v("高级搜索")]),i("div",{on:{click:t.toggleSenior}},[i("woo-box",{class:t.$style.tb,attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{class:t.$style.ti,attrs:{value:"caretUp"}})],1)],1)]),i("woo-divider"),i("div",{class:t.$style.con},[i("woo-box",{class:t.$style.item1},[i("div",{class:t.$style.it},[t._v("类型")]),i("woo-box-item",{class:t.$style.icut},[i("div",{class:t.$style.i1},t._l(t.options,(function(e){return i("woo-checkbox",{key:e,class:t.$style.ick,attrs:{value:e},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}},[t._v(t._s(e.name))])})),1)])],1),i("woo-box",{class:t.$style.item2,attrs:{align:"center"}},[i("div",{class:t.$style.it},[t._v("关键字")]),i("woo-box-item",{class:t.$style.icut},[i("div",{class:t.$style.i2},[i("woo-input",{attrs:{placeholder:t.inputPlaceholder},nativeOn:{keypress:function(t){t.stopPropagation()}},scopedSlots:t._u([{key:"icon",fn:function(){return[i("woo-fonticon",{class:t.$style.isch,attrs:{value:"search"}})]},proxy:!0}]),model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1)])],1),i("woo-box",{class:t.$style.item3,attrs:{align:"center"}},[i("div",{class:t.$style.it},[t._v("时间")]),i("woo-box-item",{class:t.$style.icut},[i("woo-box",{class:t.$style.i3,attrs:{align:"center"}},[i("div",{class:t.$style.datePicker},[i("v-date-picker",{class:["wbpro-datapicker",!1],attrs:{"max-date":new Date,color:"orange"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.inputValue,o=e.inputEvents;return[i("span",{staticClass:"wbpro-datapicker"},[i("input",t._g({domProps:{value:a}},o))])]}}]),model:{value:t.date.start,callback:function(e){t.$set(t.date,"start",e)},expression:"date.start"}}),t.date.start?t._e():i("woo-box",{class:t.$style.placeholder,attrs:{align:"center",justify:"between"}},[i("span",[t._v("选择日期")]),i("woo-fonticon",{attrs:{value:"caretDown"}})],1)],1),i("span",{class:t.$style.isp},[t._v("到")]),i("span",{class:t.$style.datePicker},[i("v-date-picker",{attrs:{"max-date":new Date,color:"orange"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.inputValue,o=e.inputEvents;return[i("span",{staticClass:"wbpro-datapicker"},[i("input",t._g({domProps:{value:a}},o))])]}}]),model:{value:t.date.end,callback:function(e){t.$set(t.date,"end",e)},expression:"date.end"}}),t.date.end?t._e():i("woo-box",{class:t.$style.placeholder,attrs:{align:"center",justify:"between"}},[i("span",[t._v("选择日期")]),i("woo-fonticon",{attrs:{value:"caretDown"}})],1)],1)])],1),i("woo-button",{attrs:{sort:"flat",kind:"primary",size:"s"},on:{click:t.onClickSearch}},[t._v("搜索")])],1)],1)],1),t.showTips?[t.loading?i("div",{class:t.$style.text},[t._v("搜索中...")]):t.count>-1?i("div",{class:t.$style.text},[t._v(" 搜索到"+t._s(t.count)+"条微博 ")]):t._e()]:t._e()],2):t._e():i("div",{class:t.$style.outer},[i("div",{class:t.$style.slot},[t._t("default")],2),i("div",{class:t.$style.senior,on:{click:t.toggleSenior}},[i("woo-button",{class:t.$style.btn,attrs:{sort:"flat",kind:"default",size:"s",fonticon:"search"}},[t._v("高级搜索 "),i("woo-fonticon",{class:t.$style.caret,attrs:{value:"caretDown"}})],1)],1)])])},o=[],n=(i("99af"),i("4de4"),i("4160"),i("a9e3"),i("b64b"),i("159b"),function(){return[{name:"原创",key:"hasori"},{name:"转发",key:"hasret"},{name:"纯文字",key:"hastext"},{name:"含图片",key:"haspic"},{name:"含视频",key:"hasvideo"},{name:"含音乐",key:"hasmusic"},{name:"V+微博",key:"hasv"}]});function s(t){var e={};return t.key_word&&(e.q=t.key_word),t.is_ori&&(e.hasori=t.is_ori),t.is_text&&(e.hastext=t.is_text),t.is_pic&&(e.haspic=t.is_pic),t.is_video&&(e.hasvideo=t.is_video),t.is_music&&(e.hasmusic=t.is_music),t.is_v&&(e.hasv=t.is_v),t.is_forward&&(e.hasret=t.is_forward),t.start_time&&(e.starttime=t.start_time),t.end_time&&(e.endtime=t.end_time),e}function r(t){var e={};return t.q&&(e.key_word=t.q),t.hasori&&(e.is_ori=t.hasori),t.hastext&&(e.is_text=t.hastext),t.haspic&&(e.is_pic=t.haspic),t.hasvideo&&(e.is_video=t.hasvideo),t.hasmusic&&(e.is_music=t.hasmusic),t.hasv&&(e.is_v=t.hasv),t.hasret&&(e.is_forward=t.hasret),t.starttime&&(e.start_time=t.starttime),t.endtime&&(e.end_time=t.endtime),e}var l={props:{options:{type:Array,default:n},value:{type:Object},count:{type:Number,default:0},loading:{type:Boolean,default:!1},expand:{type:Boolean,default:!1},showTips:{type:Boolean,default:!0},inputPlaceholder:{type:String,default:"搜索我关注人的微博"}},data:function(){return this.initState()},methods:{toggleSenior:function(){this.senior=!this.senior,this.$emit("searchVisible",this.senior)},onClickSearch:function(){this.$emit("searchStatuses",this.params)},initState:function(){var t,e=null;this.value.starttime&&(e=new Date(1e3*this.value.starttime));var i=new Date;return this.value.endtime&&(i=new Date(1e3*this.value.endtime-1)),{select:this.initSelect(),keyword:null!==(t=this.value.q)&&void 0!==t?t:"",date:{start:e,end:i},senior:!1}},initSelect:function(){var t=this;return this.options.filter((function(e){if(void 0===t.value||0===Object.keys(t.value).length)return!0;var i=t.value[e.key];return 1===Number(i)}))},getDate:function(t){var e=t.getFullYear(),i=t.getMonth()+1,a=t.getDate();return"".concat(e,"/").concat(i,"/").concat(a)}},computed:{params:function(){var t={q:this.keyword},e=this.date.start;if(e){var i=this.getDate(e),a=new Date(i).getTime();t.starttime=parseInt(a/1e3)}var o=this.date.end;if(o){var n=this.getDate(o),s=864e5,r=new Date(n).getTime()+s;t.endtime=parseInt(r/1e3)}return this.select.forEach((function(e){t[e.key]=1})),t}},watch:{senior:function(t){!1===t&&Object.assign(this,this.initState())},"date.start":function(t){var e=t.getTime(),i=this.date.end.getTime();e>i&&(this.date.end=new Date(e))},"date.end":function(t){var e,i=null===(e=this.date.start)||void 0===e?void 0:e.getTime(),a=t.getTime();i>a&&(this.date.start=new Date(a))}}},c=l,u=(i("8e1b"),i("1f9b")),d=i("2877");function h(t){this["$style"]=u["default"].locals||u["default"]}var p=Object(d["a"])(c,a,o,!1,h,null,null);e["b"]=p.exports},c133:function(t,e,i){t.exports={pad1:"Tab_pad1_DdsOe",nowrap:"Tab_nowrap_2qUoz"}},c13f:function(t,e,i){"use strict";var a=i("ed98"),o=i.n(a);e["default"]=o.a},c15f:function(t,e,i){"use strict";var a=function(){var t,e=this,i=e.$createElement,a=e._self._c||i;return e.show?a("woo-box",{class:[e.$style.wrap,e.bottomGap&&e.$style.bottomGap,e.topGap&&e.$style.topGap,e.adBackground&&e.$style.adBackground],attrs:{align:"center",justify:"center"},nativeOn:{click:function(t){return t.stopPropagation(),e.clickAd()}}},[a("woo-picture",{class:e.$style.picture,attrs:{src:e.imageUrl,height:e.adHeight}},[a("woo-box",{class:(t={},t[e.$style.icon]=!0,t[e.$style.iconClass1]="withtext"===e.closeBtnKind,t[e.$style.iconClass2]="notext"===e.closeBtnKind,t),attrs:{align:"center",justify:"center"},nativeOn:{click:function(t){return t.stopPropagation(),e.closeAd()}}},[a("woo-box",{class:e.$style.text,attrs:{align:"center",justify:"center"}},["withtext"===e.closeBtnKind?[e._v(" "+e._s(e.adTag)),a("woo-fonticon",{class:e.$style.close,attrs:{value:"cross"}})]:"notext"===e.closeBtnKind?a("woo-picture",{attrs:{width:"14.1",height:"14.1","hover-mask":!1,border:!1,src:"https://h5.sinaimg.cn/upload/1005/948/2022/09/21/close.png"}}):e._e()],2)],1)],1)],1):e._e()},o=[],n=(i("4160"),i("159b"),i("5530")),s=i("ed09"),r=i("8b4a"),l={props:{posid:{type:String,default:""},data:{type:Object,default:function(){return{}}},adHeight:{type:String,default:"100%"},bottomGap:{type:Boolean,default:!0},topGap:{type:Boolean,default:!1},adBackground:{type:Boolean,default:!1},page:{type:String,default:"home"},closeBtnKind:{type:String,default:"withtext"}},setup:function(t,e){var i=e.root,a=e.emit,o=Object(s["p"])(t),l=o.posid,c=o.data,u=o.page,d=Object(s["n"])(""),h=Object(s["n"])(""),p=Object(s["n"])(""),f=Object(s["n"])("广告"),m=Object(s["n"])([]),v=Object(s["n"])(!1),_=Object(s["n"])(null),g=Object(s["n"])([]);Object(s["k"])((function(){i.$Bus.$on("reloadTipsAd",b),l.value?b():c.value&&(v.value=!0,h.value=c.value.imageUrl,p.value=c.value.clickUrl,m.value=c.value.actionlog,g.value=c.value.monitor_url,$("show")),Object(s["f"])((function(){a("loaded",!0)}))})),Object(s["i"])((function(){i.$Bus.$off("reloadTipsAd",b)})),Object(s["s"])(v,(function(){a("loaded",!0)}));var b=function(){if(l.value){_.value&&_.value();var t=i.$http.CancelToken;i.$http.get("/ajax/feed/getTipsAd",{params:{posid:l.value,page:u.value},cancelToken:new t((function(t){_.value=t}))}).then((function(t){if(t.data&&t.data.ok&&t.data.data&&t.data.data[0]&&t.data.data[0].imageurl){var e=t.data.data[0];v.value=!0,d.value=e.adid,h.value=e.imageurl,p.value=e.click_url,f.value=e.adTagStr||"广告",g.value=e.monitor_url,$("show"),x({pv:1})}}))}},y=function(){p.value&&(m.value&&m.value.length?k(m.value[0]):x({click:1}),window.open(p.value)),$("click")},w=function(){m.value&&m.value.length?k(m.value[1]):x({close:1}),v.value=!1,a("close"),a("loaded",!0)},x=function(t){l.value&&d.value&&i.$http.post("/ajax/feed/reportTipsAd",Object(n["a"])({posid:l.value,adid:d.value,page:u.value},t)).then((function(t){}))},k=function(t){t&&i.$http.post("/ajax/feed/throwbatch",{actionlog:t}).then((function(t){}))},$=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"show",e="third_party_".concat(t);if(Array.isArray(g.value)&&g.value.length){var i=[];g.value.forEach((function(t){t[e]&&i.push(t[e])})),Object(r["a"])(i)}};return{show:v,imageUrl:h,clickAd:y,closeAd:w,adTag:f}}},c=l,u=i("8dda"),d=i("2877");function h(t){this["$style"]=u["default"].locals||u["default"]}var p=Object(d["a"])(c,a,o,!1,h,null,null);e["a"]=p.exports},c1bd:function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_nav_sicon-clear",use:"woo_svg_nav_sicon-clear-usage",viewBox:"0 0 11 11",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 11" id="woo_svg_nav_sicon-clear"><path d="M5.799 9.214l.75-1.299a.5.5 0 01.866.5l-.75 1.3.433.25 1.5-2.599-5.196-3-1.5 2.598.433.25.75-1.299a.5.5 0 01.866.5l-.75 1.3.866.5.75-1.3a.5.5 0 01.866.5l-.75 1.3.866.5zm1.634-4.83l-.866-.5-2.598-1.5-.5.866 6.062 3.5.5-.866-2.598-1.5zM6.201 2.518l1-1.732A1 1 0 018.567.42l.866.5a1 1 0 01.366 1.366l-1 1.732 1.732 1a1 1 0 01.366 1.366l-.5.866a1 1 0 01-.866.5l-1.567 2.714a1 1 0 01-1.366.366l-5.196-3a1 1 0 01-.366-1.366L2.603 3.75a1 1 0 010-1l.5-.866a1 1 0 011.366-.366l1.732 1zm.866.5l.866.5 1-1.732-.866-.5-1 1.732z" fill-rule="nonzero" fill="currentColor" /></symbol>'});s.a.add(r);e["default"]=r},c263:function(t,e,i){},c276:function(t,e,i){t.exports={c2t2:"Selector_c2t2_2zOfu",con1:"Selector_con1_FNh_p",c1con:"Selector_c1con_2IUxp",c1btn:"Selector_c1btn_1uBvx",curr:"Selector_curr_21lsk",disabled:"Selector_disabled_34HKr",con2:"Selector_con2_3Ilz2",c2tit:"Selector_c2tit_89byA",c2tit1:"Selector_c2tit1_2qccK",c2tit2:"Selector_c2tit2_3HB9d",c2line:"Selector_c2line_2x0q_",c2ipt:"Selector_c2ipt_2isJi",c2icon:"Selector_c2icon_1YHX_",c2radio:"Selector_c2radio_2f47c",c2list:"Selector_c2list_1I4fH",c2tag:"Selector_c2tag__g2Kp",c2t1:"Selector_c2t1_1C7Bf",c2i1:"Selector_c2i1_21M4a",c2i2:"Selector_c2i2_lDwuu",reset:"Selector_reset_3ZobQ",keywords:"Selector_keywords__xCvD",btn:"Selector_btn_1oAyA",tabs:"Selector_tabs_TecNZ",tabsItem:"Selector_tabsItem_QthqJ",calendar:"Selector_calendar_39tAs"}},c297:function(t,e,i){"use strict";var a=i("43cb"),o=i.n(a);e["default"]=o.a},c34b:function(t,e,i){"use strict";var a=i("5057"),o=i.n(a);e["default"]=o.a},c366:function(t,e,i){"use strict";var a=i("1e11"),o=i.n(a);e["default"]=o.a},c36e:function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_nav_logoNA",use:"woo_svg_nav_logoNA-usage",viewBox:"0 0 90 30",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 90 30" id="woo_svg_nav_logoNA"><g fill="none" fill-rule="evenodd"><path d="M2.715 20.11c0 4.203 5.6 7.613 12.506 7.613 6.907 0 12.506-3.41 12.506-7.613s-5.6-7.612-12.506-7.612c-6.907 0-12.506 3.409-12.506 7.612" fill="#FEFEFE" /><path d="M15.513 27.102c-6.114.59-11.39-2.111-11.788-6.035-.397-3.922 4.239-7.581 10.35-8.172 6.115-.591 11.39 2.11 11.789 6.032.395 3.924-4.238 7.584-10.35 8.175M27.74 14.078c-.521-.152-.878-.255-.604-.924.59-1.45.65-2.701.011-3.593-1.2-1.675-4.48-1.584-8.239-.045 0-.001-1.18.505-.878-.41.579-1.818.49-3.34-.409-4.219-2.039-1.995-7.464.075-12.115 4.62C2.023 12.914 0 16.523 0 19.643c0 5.97 7.831 9.598 15.492 9.598 10.043 0 16.724-5.702 16.724-10.231 0-2.737-2.358-4.29-4.476-4.932" fill="#D52C2B" /><path d="M25.103.21c3.302-.687 6.88.316 9.306 2.944a9.393 9.393 0 012.045 9.346c-.241.73-1.04 1.128-1.781.894a1.374 1.374 0 01-.911-1.74 6.688 6.688 0 00-1.452-6.648c-1.726-1.867-4.267-2.58-6.617-2.093-.764.16-1.516-.316-1.678-1.064-.163-.745.324-1.479 1.088-1.64zm1.05 4.798c1.608-.334 3.35.152 4.53 1.432a4.57 4.57 0 01.994 4.553c-.206.626-.892.967-1.532.767a1.187 1.187 0 01-.783-1.499 2.238 2.238 0 00-.486-2.227 2.366 2.366 0 00-2.217-.698 1.216 1.216 0 01-1.442-.915 1.188 1.188 0 01.935-1.413z" fill="#E79115" /><path d="M15.85 19.996c-.213.358-.686.53-1.057.38-.364-.146-.479-.545-.27-.897.212-.349.666-.52 1.03-.378.369.131.501.535.297.895m-1.947 2.445c-.593.921-1.859 1.325-2.812.9-.94-.418-1.217-1.49-.626-2.388.583-.897 1.808-1.295 2.754-.907.958.4 1.263 1.463.684 2.395m2.22-6.526c-2.909-.741-6.197.676-7.46 3.183-1.287 2.555-.042 5.392 2.897 6.32 3.043.96 6.632-.512 7.88-3.269 1.23-2.697-.306-5.474-3.317-6.234" fill="#060101" /><path d="M58.599 8.019c-.417.922-1.032 2.14-1.75 3.202l-.244.348h4.973l-.412 1.394h-1.29c-1.505 3.824-3.08 6.747-4.724 8.767.181.847 1.06 2.537 2.33 3.848-.303.827-.341.919-.66 1.754-.95-1.147-2.332-2.65-2.936-4.127-.924 1.04-2.528 2.405-4.813 4.098.367-1.113.465-1.356.722-2.232 2.545-1.748 2.758-2.138 3.79-3.341-.341-1.747-.34-3.714.002-5.898-.379.486-1.056 1.055-1.547 1.478.32-1.05.498-1.684.716-2.472 1.962-2.317 2.698-3.643 4.197-6.43l.21-.39h1.436zM67.909 8l-1.596 5.432h2.118l-.414 1.392h-2.12l-3.675 12.373h-1.658l3.675-12.373h-2.211l.414-1.392h2.211L66.249 8h1.66zM44.44 13.404c-.572.828-1.578 2.066-2.378 2.983l-.234.265-3.115 10.487h-1.476l2.482-8.358c-.248.22-.669.6-1.262 1.146-.576.494-1.13.977-1.457 1.25v-.056l.667-2.198a44.648 44.648 0 004.851-4.979l.444-.54h1.478zm34.525 6.747l-.34 1.147h3.592l-.364 1.228h-3.595l-.682 2.296c-.36 1.417-1.492 2.13-3.397 2.13-1.104 0-2.287-.028-2.287-.028s.238-.76.402-1.398c.924.061 1.808.032 2.115.032.923 0 1.44-.301 1.558-.901l.633-2.131H65.176l.365-1.228h11.425l.34-1.147h1.659zm-29.39-.633h.06l-1.022 3.441c.993-.574 2.494-1.623 2.623-1.713l.008-.006-.497 1.85s-3.131 1.89-3.835 2.365l-.066.045-.765-1.147s.86-.799 1.116-1.576l.04-.145.536-1.803h-3.226l-.145.493c-.995 3.431-2.252 3.98-4.139 5.58.34-1.028.457-1.433.692-2.315 1.73-1.332 2.122-3.237 2.507-5.069.101-.037 5.48-.004 6.113 0zm20.015 3.36a27.178 27.178 0 012.214 2.302l-1.505.65c-.57-.71-1.291-1.444-2.163-2.207l1.454-.745zM78.532 8l-.627 2.072 3.18-.001.488-1.619h1.473l-.487 1.619H85l-.39 1.313h-7.094l-.391 1.31h5.714l-2.218 7.485h-1.567l.344-1.176H75.25l-.336 1.174H73.35l.337-1.174h-4.239l-.355 1.197h-1.568l2.232-7.507h5.805l.387-1.31h-6.91l.391-1.311h6.911L76.966 8h1.566zm-20.129 4.963h-2.672s-.182.193-.257.248c-.645 2.785-.837 5.078-.573 6.88 1.227-1.855 2.395-4.23 3.502-7.128zm21.75 3.5h-4.147l-.39 1.312h4.146l.39-1.312zm-5.713 0h-4.238l-.39 1.312h4.239l.389-1.312zm-22.933-.14l-.389 1.311h-7.28l.391-1.31h7.278zm29.4-2.4H76.76l-.39 1.311h4.147l.389-1.312zm-5.712 0h-4.238l-.39 1.311h4.238l.39-1.312zM46.33 8.02c-1.836 2.264-4.72 4.88-7.093 6.764l-.413.324.737-2.258c1.867-1.49 3.326-2.828 4.687-4.413l.338-.401 1.744-.016zm4.663-.007l-1.508 5.172h1.842l1.07-3.672h1.476l-1.462 5.007h-7.924l1.46-5.007h1.383l-1.071 3.672H48.1l1.511-5.172h1.381z" fill="#231916" /></g></symbol>'});s.a.add(r);e["default"]=r},c376:function(t){t.exports=JSON.parse('[{"title":"消息摘要","type":"summary","icon":"navSummary","groups":[],"name":"message"},{"title":"24小时全部","type":"messageAll","icon":"nav24Hours","groups":[],"name":"messageAll","parmas":{"type":"all"}},{"title":"@我的","type":"atMe","icon":"navAtme","groups":[],"name":"atWeibo","parmas":{},"unread":"","setUnreadTag":["mention_status","all_mention_cmt"],"unreadTag":"mention_status"},{"title":"评论","type":"cmt","icon":"navComment","groups":[],"name":"cmtInbox","parmas":{},"unread":"","setUnreadTag":["cmt"],"unreadTag":"cmt"},{"title":"赞","type":"likeInbox","icon":"navLike","groups":[],"name":"likeInbox","parmas":{},"unread":"","setUnreadTag":["attitude"],"unreadTag":"attitude"},{"title":"私信","type":"privateChat","icon":"navChat","name":"privateChat","groups":[],"unread":"","setUnreadTag":["chatPro"]},{"title":"群通知","type":"groupchat","icon":"navGroup","name":"groupchat","groups":[],"unread":"","setUnreadTag":["chat_group_notice"]}]')},c3ed:function(t,e,i){"use strict";var a=i("4f10"),o=i.n(a);e["default"]=o.a},c4db:function(t,e,i){"use strict";var a=i("7563"),o=i.n(a);e["default"]=o.a},c52b:function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_nav_moon",use:"woo_svg_nav_moon-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="woo_svg_nav_moon"><path d="M6.374 1.427a.6.6 0 01.006.322c-.238.927-.357 1.626-.357 2.1a6.105 6.105 0 006.097 6.098c.426 0 1.035-.097 1.828-.29l.271-.068a.6.6 0 01.724.754c-.203.673-.405 1.158-.608 1.455a7.346 7.346 0 01-1.573 1.672 7.141 7.141 0 01-4.407 1.499 7.314 7.314 0 01-5.203-2.155A7.306 7.306 0 011 7.614C1 6 1.519 4.476 2.5 3.207A7.346 7.346 0 014.17 1.634c.26-.177.663-.355 1.211-.532l.244-.076a.6.6 0 01.748.4zm6.624 3.766l.471.862.862.471-.862.472-.471.861-.471-.861-.862-.472.862-.471.47-.862zm-3.11-4l.785 1.437 1.436.786-1.436.785-.786 1.437L9.102 4.2l-1.437-.785 1.437-.786.785-1.436z" fill="currentColor" fill-rule="nonzero" /></symbol>'});s.a.add(r);e["default"]=r},c54d:function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"a",(function(){return l}));i("4ec9"),i("d3b7"),i("3ca3"),i("ddb0"),i("96cf");var a=i("1da1"),o={create:{captchaId:"3e213145409e8d0fbf09927d34ec9d9d",product:"bind",riskType:"slide"},video:{captchaId:"b6001fba9177e0936600475d4f7cab07",product:"bind",riskType:"slide"}};new Map;function n(t){return s.apply(this,arguments)}function s(){return s=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",e.then((function(t){return[null,t]})).catch((function(t){return[t,null]})));case 1:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"create";if(window.initGeetest4)return n(new Promise((function(e,i){window.initGeetest4(o[t],(function(a){a.onReady((function(){a.showCaptcha()})).onSuccess((function(){var i=a.getValidate();if(!i)return alert("完成验证");i.captcha_id=o[t].captchaId,e(i)})).onError((function(t){i(a)})).onClose((function(){i(a)}))}))})))}function l(t){t&&t.destroy()}},c57b:function(t,e,i){t.exports={ltit:"Create_ltit_27cDi",lipt:"Create_lipt_BTFbO",lradio:"Create_lradio_V2s-I",ltip:"Create_ltip_3uRVR"}},c584:function(t,e,i){"use strict";var a=i("c9e1"),o=i.n(a);e["default"]=o.a},c58e:function(t,e,i){"use strict";var a=i("3e1f"),o=i.n(a);e["default"]=o.a},c652:function(t,e,i){"use strict";var a=i("ea2e"),o=i.n(a);e["default"]=o.a},c66d:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Bar",{attrs:{"go-back":"",divide:"",transparent:"",scrollShow:t.scrollShow},scopedSlots:t._u([Object.keys(t.userInfo).length?{key:"title",fn:function(){return[t.userInfo.following||t.isOwner?i("woo-box",{class:t.$style.user1,attrs:{align:"center"}},[i("woo-avatar",{class:t.$style.avatar,attrs:{size:28,"icon-size":8,src:t.userInfo.avatar_large,verified:t.getWeiboVerifiedIcon(t.userInfo)}}),i("woo-box-item",{class:t.$style.cut,attrs:{align:"center"}},[t._v(" "+t._s(t.userInfo.screen_name)+" ")])],1):i("div",{class:t.$style.user2},[i("FollowBtn",{class:t.$style.followBtn,attrs:{uid:t.userInfo.idstr,page:"profile",foToast:!0},on:{"is-following":function(e){return t.followChange(e)}}}),i("woo-avatar",{class:t.$style.avatar,attrs:{size:28,"icon-size":8,src:t.userInfo.avatar_large,verified:t.getWeiboVerifiedIcon(t.userInfo)}})],1)]},proxy:!0}:null,t.showSearch||"feed"!==t.curTab?null:{key:"right",fn:function(){return[i("SearchBtn",{attrs:{inCard:"",user:t.userInfo,value:t.searchInput},on:{enter:t.onSearchEnterLoc,expand:t.onExpandSearchLoc,input:function(e){return t.onSearchInput(e)}}})]},proxy:!0}],null,!0)}),t.loading?t._e():i("div",[i("div",{ref:"profileHeaderRef"},[Object.keys(t.userInfo).length?i("ProfileHeader",{attrs:{user:t.userInfo,isOwner:t.isOwner,block:t.block,blockMe:t.blockMe},on:{"follow-change":t.followChange,"after-set-remark":t.handleAfterSetRemark}}):t._e(),t.tabConfig.length?i("SecBar",[i("Card",{class:t.$style.card},[i("woo-tab",{attrs:{justify:"around",animate:"","animate-duration":500}},t._l(t.tabConfig,(function(e,a){return i("woo-tab-item",{key:e.name,attrs:{index:a,cur:e.name===t.curTab},nativeOn:{click:function(e){return t.clickTab(a)}}},[i("div",{class:t.$style.btn},[t._v(" "+t._s(e.tabName)+" ")])])})),1)],1)],1):t._e(),t.isEnterpriseUser?i("ProfileFocusPic",{class:t.$style.enterpriseUser,attrs:{uid:t.userInfo.idstr}}):t._e()],1),i("div",{ref:"panel"},[i("Muteuser",{attrs:{muteuser:t.muteuser,curTab:t.curTab}})],1),t.tabConfig.length?[i("keep-alive",[t.userInfo.id?i("profile-"+t.curTab,{tag:"component",attrs:{owner_uid:t.userInfo.id,status_visible:t.userInfo.status_visible,isOwner:t.isOwner,refresh:t.refreshTab===t.curTab,user:t.userInfo,showSearch:t.showSearch,searchInput:t.searchInput,muteuserInfo:t.muteuser},on:{"expand-search":t.onExpandSearch,"collapsed-search":t.onCollapsedSearch,"search-input":t.onSearchInput,"search-enter":t.onSearchEnter}}):t._e()],1)]:i("div",[i("Card",{class:t.$style.usertype11Empty},[t.block||t.blockMe?i("woo-fonticon",{class:t.$style.blockIcon,attrs:{value:"block"}}):t._e(),i("woo-box",{class:t.$style.emptyContent,attrs:{justify:"center",align:"center"}},[t._v(" "+t._s(t.blockText)+" ")])],1)],1),i("reward-modal",{attrs:{show:t.showRewardModal,info:t.rewardInfo},on:{close:t.handleClose}})],2)],1)},o=[],n=(i("99af"),i("7db0"),i("caad"),i("c975"),i("fb6a"),i("b0c0"),i("ac1f"),i("5319"),i("498a"),i("5530")),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Card",[i("GroupModal",{attrs:{visible:t.groupVisible,type:"set",selected:[t.user.idstr],defaultGroup:t.defaultGroup},on:{"update:visible":function(e){t.groupVisible=e},"after-set-group":function(e){return t.handleGroupVisible()}}}),i("div",{staticClass:"wbpro-pos"},[i("woo-picture",{class:t.$style.pic,attrs:{"hover-mask":!1,src:t.coverImage,"aspect-ratio":.5625},nativeOn:{click:function(e){return t.viewCoverImage(e)}}})],1),i("woo-box",{class:t.$style.box1,attrs:{align:"start"}},[i("woo-avatar",{class:t.$style.avatar2,attrs:{verified:t.verified,size:100,"icon-size":20,src:t.user.avatar_large,iconClickable:t.isVBlue},on:{"click-icon":t.onClickIcon}}),i("woo-box-item",[i("woo-box",{class:t.$style.h3,attrs:{align:"center"}},[i("div",{class:t.$style.name},[t._v(" "+t._s(t.user.screen_name)+" ")]),i("woo-icon",{staticStyle:{"margin-left":"5px"},attrs:{symbol:t.genderIcon,size:16}}),t.user&&t.user.id?i("IconVip",{attrs:{mbrank:t.user.mbrank,mbtype:t.user.mbtype,svip:t.user.svip,vvip:t.user.vvip}}):t._e()],1),i("woo-box",{class:t.$style.h4,attrs:{align:"center"}},[i("a-link",{class:[!t.blockOrBlockMe&&t.$style.alink,!t.blockOrBlockMe&&t.$style.pointer],attrs:{"link-type":"old","style-type":"none",href:!t.blockOrBlockMe&&t.getFansHref(t.user,"fans")},on:{click:function(e){e.preventDefault(),!t.blockOrBlockMe&&t.goSubPage("fans")}}},[i("span",{class:t.$style.h5},[i("span",[t._v(t._s(t.user.followers_count_str))]),t._v("粉丝 ")])]),i("a-link",{class:[!t.blockOrBlockMe&&t.$style.alink,!t.blockOrBlockMe&&t.$style.pointer],attrs:{"link-type":"old","style-type":"none",href:!t.blockOrBlockMe&&t.getFansHref(t.user)},on:{click:function(e){e.preventDefault(),!t.blockOrBlockMe&&t.goSubPage()}}},[i("span",{class:t.$style.h5},[i("span",[t._v(t._s(t.fansFormat(t.user.friends_count)))]),t._v("关注 ")])]),t.user.status_total_counter?i("a-link",{class:[t.$style.statusCounter],attrs:{"link-type":"old","style-type":"none"},nativeOn:{mouseenter:function(e){t.statusCounterVisible=!0},mouseleave:function(e){t.statusCounterVisible=!1}}},[i("span",{class:[t.$style.h5]},[i("span",[t._v(t._s(t.user.status_total_counter.total_cnt_format))]),t._v("转评赞 ")]),t.statusCounterVisible?i("div",{class:t.$style.statusCounterLayer},[i("img",{attrs:{src:t.statusCounterBgUrl}}),i("div",{class:t.$style.title},[t._v("转/评/赞数据")]),i("div",{class:t.$style.title1},[t._v(" 累计获得"),i("span",[t._v(t._s(t.user.status_total_counter.total_cnt))]),t._v("个转评赞 ")]),i("woo-box",{class:[t.$style.title2,t.$style.repost]},[i("span",{class:t.$style.label},[t._v("累计转发量")]),i("span",{class:t.$style.count},[t._v(t._s(t.user.status_total_counter.repost_cnt))])]),i("woo-box",{class:[t.$style.title2,t.$style.cmt]},[i("span",{class:t.$style.label},[t._v("累计评论量")]),i("span",{class:t.$style.count},[t._v(t._s(t.user.status_total_counter.comment_cnt))])]),i("woo-box",{class:[t.$style.title2,t.$style.like]},[i("span",{class:t.$style.label},[t._v("累计获赞")]),i("span",{class:t.$style.count},[t._v(t._s(t.user.status_total_counter.like_cnt))])])],1):t._e()]):t._e()],1)],1),t.blockOrBlockMe?t._e():[t.isOwner?t._e():i("FollowPop",{attrs:{hasGroup:"",show:t.show,uid:t.user.idstr,specialFo:t.user.special_follow,remark:t.user.remark,user:t.user},on:{"update:show":function(e){t.show=e},"update:specialFo":function(e){return t.$set(t.user,"special_follow",e)},"update:special-fo":function(e){return t.$set(t.user,"special_follow",e)},"spfollow-change":t.spfollowChange,"follow-change":t.handleFollowChange,"set-group":function(e){return t.handleGroupVisible(!0)},"set-remark":t.handleSetRemark},nativeOn:{mouseenter:function(e){return t.handleMove(e)},mouseleave:function(e){return t.handleLeave(e)}}},[i("FollowBtn",{key:t.index,class:t.$style.btn3,attrs:{mode:"all",sort:t.user.following?"line":"flat",kind:t.user.following?"default":"primary",size:"m",user:t.user,following:t.user.following,uid:t.user.idstr,doFoAction:!0,foToast:!0,followedBy:t.user.follow_me,showSpecialFo:!0,specialFo:t.user.special_follow,page:"profile",lpage:t.lpage},on:{"is-following":t.handleFollowChange}})],1),i("a-link",{attrs:{target:"_blank",to:"//api.weibo.com/chat/#/chat?to_uid="+t.user.id+"&source_from="}},[t.isOwner?t._e():i("woo-button",{class:t.$style.btn3,attrs:{sort:"line",kind:"default"}},[t._v(" "+t._s(t.getMessageText(t.user))+" ")])],1)],t.block?t._e():i("div",{class:t.$style.topt},[t.isOwner?t._e():i("woo-pop",{attrs:{show:t.show3,align:"end"},on:{"click-outside":t.test3},nativeOn:{mouseenter:function(e){return t.handlePop3(!0)},mouseleave:function(e){return t.handlePop3()}},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-box",{class:t.$style.ellipsis,attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"ellipsis"}})],1)]},proxy:!0}],null,!1,3287736733)},[i("woo-pop-wrap",[t.user.follow_me?i("woo-pop-item",{nativeOn:{click:function(e){return t.remove(e)}}},[t._v("移除粉丝")]):t._e(),i("woo-pop",{key:t.index,attrs:{show:t.qrcodeVisible,direction:"left",align:"end",gap:"5",alignGap:"44"},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-pop-item",{key:t.index,class:t.$style.shareText,nativeOn:{mouseenter:function(e){t.qrcodeVisible=!0},mouseleave:function(e){t.qrcodeVisible=!1},click:function(e){return t.copyClipboard(t.shareText)}}},[i("transition",{attrs:{name:"share-slide-fade"}},[t.qrcodeVisible?t._e():i("span",[t._v("分享个人主页")])]),i("transition",{attrs:{name:"copy-slide-fade"}},[t.qrcodeVisible?i("span",[t._v("复制个人主页地址")]):t._e()])],1)]},proxy:!0}],null,!1,3839593143)},[i("div",{class:t.$style.qrcode},[i("QRCode",{attrs:{text:t.shareText}}),i("div",{class:t.$style.text},[t._v("手机扫码分享/查看")])],1)]),i("woo-pop-item",{nativeOn:{click:function(e){return t.onBlock(e)}}},[t._v("加入黑名单")]),i("woo-pop-item",{nativeOn:{click:function(e){return t.complaint(e)}}},[t._v("投诉"+t._s(t.gender))])],1)],1)],1),t.block?i("woo-button",{attrs:{sort:"line",kind:"default"},on:{click:t.onBlockDestroy}},[t._v(" 解除黑名单 ")]):t._e()],2),i("div",{staticStyle:{"margin-bottom":"20px"}},[Object.keys(t.detail).length?i("div",{class:t.$style.box2},[i("woo-box",{attrs:{justify:"between"}},[i("woo-box",{ref:"content",class:t.$style.content,attrs:{direction:"y"}},[t._l(t.labelDesc,(function(e,a){return[0===a||t.showDetail?i("woo-box-item",{key:a,class:t.$style.item2,staticStyle:{width:"100%"}},[i("woo-box",{attrs:{align:"center",justify:"between"}},[t.labelDesc.length?i("woo-box",{attrs:{align:"center"}},t._l(e,(function(e,a){return i("div",{key:a,class:[t.$style.tag,t.isUsableUrl(e.scheme_url)&&t.$style.cursor],style:{background:e.bgColor,color:e.color}},[e.left_icon?i("img",{attrs:{src:e.left_icon}}):t._e(),t.isUsableUrl(e.scheme_url)?i("a-link",{attrs:{to:t.openSubPage(e,!1),target:"_blank"}},[t._v(t._s(e.name))]):i("span",[t._v(t._s(e.name))])],1)})),0):t._e()],1)],1):t._e()]})),t.detail.desc_text?i("woo-box",{staticStyle:{"margin-bottom":"12px"},attrs:{old:""}},[i("woo-box-item",[i("woo-box",{attrs:{align:"center"}},[i("woo-box",{class:t.$style.icon3,attrs:{align:"center"}},[i("woo-fonticon",{attrs:{value:"proV"}})],1),i("woo-box-item",{class:[t.$style.con3,(t.isOwner||t.isVBlue)&&t.$style.cursor,t.$style.flexBasisAuto,t.$style.descText],nativeOn:{click:function(e){t.isOwner&&t.goPage(t.detail.verified_url)||!t.isOwner&&t.isVBlue&&t.goPage(t.vBlueUrl)}}},[t._v(" "+t._s(t.detail.desc_text)+" ")]),t.detail.pay_remind_info?i("woo-box-item",{class:[t.$style.payRemind,t.$style.flexBasisAuto]},[i("woo-icon",{attrs:{symbol:t.detail.pay_remind_info.icon,size:14}}),i("span",{domProps:{innerHTML:t._s(t.detail.pay_remind_info.text)}})],1):t._e()],1)],1)],1):i("woo-box",{staticStyle:{"margin-bottom":"12px"},attrs:{old:""}},[t.detail.description?i("woo-box-item",[i("woo-box",{attrs:{align:"start"}},[i("woo-box",{class:t.$style.icon3,attrs:{align:"center"}},[i("woo-fonticon",{attrs:{value:"proBintro"}})],1),i("woo-box-item",{class:t.$style.con3},[t._v(" "+t._s(t.detail.description)+" ")])],1)],1):t._e()],1),i("woo-box",{attrs:{old:""}},[t.detail.real_auth?i("woo-box-item",{class:t.$style.item3},[i("woo-box",{attrs:{align:"start"}},[i("woo-box",{class:t.$style.icon3,attrs:{align:"center"}},[i("woo-fonticon",{attrs:{value:"name"}})],1),i("woo-box-item",{class:t.$style.con3},[t._v(" 已实名 ")])],1)],1):t._e(),t.detail.ip_location?i("woo-box-item",{class:t.$style.item3},[i("woo-box",{attrs:{align:"start"}},[i("woo-box",{class:t.$style.icon3,attrs:{align:"center"}},[i("woo-fonticon",{attrs:{value:"ip"}})],1),i("woo-box-item",{class:t.$style.con3},[i("woo-box",{attrs:{align:"start"}},[i("woo-box-item",{class:t.$style.con3,attrs:{basis:"auto"}},[t._v(" "+t._s(t.detail.ip_location)+" ")]),i("woo-box",{class:t.$style.icon4,attrs:{align:"center"}},[i("woo-pop",{class:t.$style.ipLocation,attrs:{show:t.showIP,direction:"right",align:"center",gap:"10"},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-fonticon",{class:t.$style.tip,attrs:{value:"question"},nativeOn:{mouseover:function(e){t.showIP=!0},mouseout:function(e){t.showIP=!1}}})]},proxy:!0}],null,!1,417171349)},[i("div",{class:t.$style.tipDesc},[i("p",[t._v(" IP属地以运营商信息为准，如有问题可咨询客服 ")])])])],1)],1)],1)],1)],1):t._e(),t.detail.mcn_desc?i("woo-box-item",{class:t.$style.item3},[i("woo-box",{attrs:{align:"start"}},[i("woo-box",{class:t.$style.icon3,attrs:{align:"center"}},[i("woo-fonticon",{attrs:{value:"mcn"}})],1),i("woo-box-item",{class:t.$style.con3},[i("woo-box",{attrs:{align:"start"}},[i("woo-box-item",{class:t.$style.con3,attrs:{basis:"auto"}},[t._v(" 合作机构： "),t.detail.mcn_desc.url?[i("a",{attrs:{href:t.detail.mcn_desc.url,target:"_blank"}},[t._v(t._s(t.detail.mcn_desc.desc))])]:[t._v(" "+t._s(t.detail.mcn_desc.desc)+" ")]],2)],1)],1)],1)],1):t._e()],1)],2),i("woo-box",{class:[t.$style.opt,t.labelDesc.length&&t.$style.capsuleOpt],attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return t.handleOpt(e)}}},[t.showDetail?i("woo-fonticon",{attrs:{value:"angleUp"}}):i("woo-fonticon",{attrs:{value:"angleDown"}})],1)],1)],1):t._e(),t.showDetail?i("div",{class:t.$style.box3},[t.detail.real_name?i("woo-box",{attrs:{old:""}},[t.detail.real_name.name?i("woo-box-item",{class:t.$style.item3},[i("woo-box",{attrs:{align:"start"}},[i("woo-box",{class:t.$style.icon3,attrs:{align:"center"}},[i("woo-fonticon",{attrs:{value:"name"}})],1),i("woo-box-item",{class:t.$style.con3},[t._v(" "+t._s(t.detail.real_name.name)+" ")])],1)],1):t._e(),t.detail.real_name.career?i("woo-box-item",{class:t.$style.item3},[i("woo-box",{attrs:{align:"start"}},[i("woo-box",{class:t.$style.icon3,attrs:{align:"center"}},[i("woo-fonticon",{attrs:{value:"career"}})],1),i("woo-box-item",{class:t.$style.con3},[t._v(" "+t._s(t.detail.real_name.career)+" ")])],1)],1):t._e()],1):t._e(),t.showDesc?i("woo-box",{attrs:{old:""}},[t.detail.description?i("woo-box-item",{class:t.$style.item3},[i("woo-box",{attrs:{align:"start"}},[i("woo-box",{class:t.$style.icon3,attrs:{align:"center"}},[i("woo-fonticon",{attrs:{value:"proBintro"}})],1),i("woo-box-item",{class:t.$style.con3},[t._v(" "+t._s(t.detail.description)+" ")])],1)],1):t._e()],1):t._e(),[1,2,3,4,5,6,7].includes(t.user.verified_type)?t._e():i("woo-box",{attrs:{old:""}},[t.detail.birthday.trim()?i("woo-box-item",{class:t.$style.item3},[i("woo-box",{attrs:{align:"start"}},[i("woo-box",{class:t.$style.icon3,attrs:{align:"center"}},[i("woo-fonticon",{attrs:{value:"proIntro"}})],1),i("woo-box-item",{class:t.$style.con3,attrs:{basis:"auto"}},[i("span",[t._v(t._s(t.detail.birthday))])])],1)],1):t._e(),t.detail.location?i("woo-box-item",{class:t.$style.item3},[i("woo-box",{attrs:{align:"start"}},[i("woo-box",{class:t.$style.icon3,attrs:{align:"center"}},[i("woo-fonticon",{attrs:{value:"proPlace"}})],1),i("woo-box-item",{class:t.$style.con3,attrs:{basis:"auto"}},[t._v(" "+t._s(t.detail.location)+" ")])],1)],1):t._e()],1),t.user.verified_type<1||t.user.verified_type>7?i("woo-box",{attrs:{old:""}},[t.detail.career&&t.detail.career.company?i("woo-box-item",{class:t.$style.item3},[i("woo-box",{attrs:{align:"start"}},[i("woo-box",{class:t.$style.icon3,attrs:{align:"center"}},[i("woo-fonticon",{attrs:{value:"proCom"}})],1),i("woo-box-item",{class:t.$style.con3},[t._v(" "+t._s(t.detail.career.company)+" ")])],1)],1):t._e(),t.detail.education?i("woo-box-item",{class:t.$style.item3},[i("woo-box",{attrs:{align:"start"}},[i("woo-box",{class:t.$style.icon3,attrs:{align:"center"}},[i("woo-fonticon",{attrs:{value:"proEdu"}})],1),i("woo-box-item",{class:t.$style.con3},[t._v(" "+t._s(t.detail.education.school)+" ")])],1)],1):t._e()],1):i("woo-box",{attrs:{old:""}},[t.detail.company?i("woo-box-item",{class:t.$style.item3},[i("woo-box",{attrs:{align:"start"}},[i("woo-box",{class:t.$style.icon3,attrs:{align:"center"}},[i("woo-fonticon",{attrs:{value:"proCom"}})],1),i("woo-box-item",{class:t.$style.con3},[t._v(" "+t._s(t.detail.company)+" ")])],1)],1):t._e(),t.detail.location?i("woo-box-item",{class:t.$style.item3},[i("woo-box",{attrs:{align:"start"}},[i("woo-box",{class:t.$style.icon3,attrs:{align:"center"}},[i("woo-fonticon",{attrs:{value:"proPlace"}})],1),i("woo-box-item",{class:t.$style.con3},[t._v(" "+t._s(t.detail.location)+" ")])],1)],1):t._e(),t.detail.company_phone?i("woo-box-item",{class:t.$style.item3},[i("woo-box",{attrs:{align:"start"}},[i("woo-box",{class:t.$style.icon3,attrs:{align:"center"}},[i("woo-fonticon",{attrs:{value:"proTel"}})],1),i("woo-box-item",{class:t.$style.con3},[t._v(" "+t._s(t.detail.company_phone)+" ")])],1)],1):t._e(),t.detail.company_email?i("woo-box-item",{class:t.$style.item3},[i("woo-box",{attrs:{align:"start"}},[i("woo-box",{class:t.$style.icon3,attrs:{align:"center"}},[i("woo-fonticon",{attrs:{value:"proEmail"}})],1),i("woo-box-item",{class:t.$style.con3},[t._v(" "+t._s(t.detail.company_email)+" ")])],1)],1):t._e()],1),[1,2,3,4,5,6,7].includes(t.user.verified_type)?t.detail.links&&t.detail.links.length?i("woo-box",[i("woo-box-item",{class:t.$style.item3},[i("woo-box",{attrs:{align:"center"}},[i("woo-box",{class:t.$style.icon3,attrs:{align:"center"}},[i("woo-fonticon",{attrs:{value:"proLink"}})],1),i("woo-box",{attrs:{align:"start",wrap:"wrap"}},t._l(t.detail.links,(function(e,a){return i("woo-box-item",{key:a,class:[t.$style.con4,t.$style.link]},[i("a",{attrs:{href:e.url,target:"_blank"}},[t._v(" "+t._s(e.title)+" ")])])})),1)],1)],1)],1):t._e():i("woo-box",{attrs:{old:""}},[t.detail.created_at?i("woo-box-item",{class:t.$style.item3},[i("woo-box",{attrs:{align:"start"}},[i("woo-box",{class:t.$style.icon3,attrs:{align:"center"}},[i("woo-fonticon",{attrs:{value:"proTime"}})],1),i("woo-box-item",{class:t.$style.con3},[t._v(" "+t._s(t.detail.created_at.slice(0,10))+" 加入微博 ")])],1)],1):t._e(),t.detail.sunshine_credit?i("woo-box-item",{class:t.$style.item3},[i("woo-box",{attrs:{align:"start"}},[i("woo-box",{class:t.$style.icon3,attrs:{align:"center"}},[i("woo-fonticon",{attrs:{value:"proCredit"}})],1),i("woo-box-item",{class:t.$style.con3},[t._v(" "+t._s(t.detail.sunshine_credit.level)+" ")])],1)],1):t._e()],1),i("woo-box",[t.detail.religion?i("woo-box-item",{class:t.$style.item3},[i("woo-box",{attrs:{align:"start"}},[i("woo-box",{class:t.$style.icon3,attrs:{align:"center"}},[i("woo-fonticon",{attrs:{value:"religion"}})],1),i("woo-box-item",{class:t.$style.con3},[t._v(" "+t._s(t.detail.religion)+" ")])],1)],1):t._e()],1),t.detail.friend_info?i("woo-box",[i("woo-box-item",{class:t.$style.item3},[i("woo-box",{attrs:{align:"start"}},[i("woo-box",{class:t.$style.con3,attrs:{align:"center"}},[i("span",{domProps:{innerHTML:t._s(t.detail.friend_info)}})])],1)],1)],1):t._e(),t.detail.followers&&t.detail.followers.users?i("woo-box",{class:t.$style.box4,attrs:{align:"center"}},[t._l(t.detail.followers.users,(function(e,a){return i("woo-avatar",{key:a,class:t.$style.avatar3,attrs:{size:16,src:e.avatar_large,"hover-mask":!1}})})),i("span",{class:t.$style.con2,staticStyle:{"margin-left":"6px"}},[t._v("我关注的")]),i("woo-box-item",{class:t.$style.con4,staticStyle:{cursor:"pointer",flex:"0 1 auto"},attrs:{align:"center"}},[t._l(t.detail.followers.users,(function(e,a){return i("a-link",{key:a,attrs:{to:{name:"profile",params:{id:e.id}}}},[i("span",[t._v(" @"+t._s(e.screen_name)+" ")])])})),t.detail.followers.total_number>3?i("span",{class:t.$style.con2},[t._v(" 等"+t._s(t.detail.followers.total_number)+"人也关注了"+t._s(t.gender)+" ")]):t.detail.followers.total_number<=3&&t.detail.followers.total_number>-1?i("span",{class:t.$style.con2},[t._v("也关注了"+t._s(t.gender))]):t._e()],2)],2):t._e()],1):t._e()])],1)},r=[],l=(i("4160"),i("d81d"),i("a9e3"),i("9129"),i("b64b"),i("1276"),i("159b"),i("96cf"),i("1da1")),c=i("15fd"),u=i("70e7"),d=i("eba1"),h=i("ee33"),p=i("f085"),f=i("bfbe"),m=i("af5a"),v=i("2f62"),_=i("d4dd"),g=i("fa20"),b=i("b893"),y=i("7748"),w={mixins:[h["a"],p["a"]],props:{user:{type:Object,default:function(){return{}}},isOwner:Boolean,block:Boolean,blockMe:Boolean},data:function(){return{qrcodeVisible:!1,showDetail:!1,detail:{},show:!1,show3:!1,txt:["全部微博","原创微博","热门微博","赞过的微博","付费微博"],radio:"",input:"",edit:!1,loading:!1,inputValue:[{value:"",holder:"备注名"}],following:this.user.following,defaultImg:"https://ww1.sinaimg.cn/mw2000/70ace9b7ly1ggzusnypoej20yi0yiaop.jpg",labelDescList:[],groupVisible:!1,defaultGroup:[],showIP:!1,vBlueUrl:"https://fuwu.biz.weibo.com/?lz=newpc",statusCounterVisible:!1}},computed:Object(n["a"])(Object(n["a"])({},Object(v["c"])(["profileId","darkMode","config"])),{},{statusCounterBgUrl:function(){return this.darkMode.mode?"https://h5.sinaimg.cn/upload/1005/891/2024/05/09/bg_dark.png":"https://h5.sinaimg.cn/upload/1005/891/2024/05/09/bg.png"},shareText:function(){var t,e,i,a;return(null===(t=this.user)||void 0===t?void 0:t.id)?(null===(e=this.user)||void 0===e?void 0:e.domain)?"https://weibo.com/".concat(null===(a=this.user)||void 0===a?void 0:a.domain):"https://weibo.com".concat(null===(i=this.user)||void 0===i?void 0:i.profile_url):""},blockOrBlockMe:function(){return this.block||this.blockMe},isVBlue:function(){return"vblue"===this.verified},checkboxVal:function(){return[{value:!0,label:"不看".concat(this.gender,"的微博")},{value:!0,label:"禁止".concat(this.gender,"与我互动")},{value:!0,label:"禁止".concat(this.gender,"关注我")}]},coverImages:function(){if(!this.user.cover_image_phone)return[this.defaultImg];var t=this.user.cover_image_phone.split(";").map((function(t){return Object(b["e"])(t)}));return t.length?t:this.defaultImg},coverImage:function(){return Object(b["d"])(this.coverImages[0])},genderIcon:function(){return Object.keys(this.user).length?{m:"male",f:"female"}[this.user.gender]:""},gender:function(){return this.user&&[1,2,3,4,5,6,7].includes(this.user.verified_type)?"他":this.user&&this.user.gender?{m:"他",f:"她"}[this.user.gender]:""},readCount:function(){return this.detail&&this.detail.interaction?this.user&&+this.user.is_star?this.detail.interaction.read_user_count:this.detail.interaction.read_count:0},verified:function(){return Object(g["c"])(this.user)},followed:{get:function(){return this.following},set:function(t){this.following=t}},showCard:function(){return!!this.user&&(!!Object.keys(this.detail||{}).length&&([1,2,3,4,5,6,7].includes(this.user.verified_type)?1!==this.user.verified_type&&([2,3,4,5,6,7].includes(this.user.verified_type)&&this.user.followers_count,!0):!!this.user.top_user||!!(this.detail&&this.detail.rank&&this.detail.rank.length)))},showCount:function(){return!(![1,2,3,4,5,6,7].includes(this.user.verified_type)&&!+this.user.top_user)&&!!(this.detail&&this.detail.interaction&&Object.keys(this.detail.interaction).length)},showRank:function(){return!!(this.detail&&this.detail.rank&&this.detail.rank.length)},showDesc:function(){if(Object.keys(this.detail).length){if(0===this.labelDesc.length&&!this.detail.desc_text)return!1;if(this.labelDesc.length&&!this.detail.desc_text)return!1}return!0},labelDesc:function(){var t=this;return this.labelDescList.map((function(e){return e.map((function(e){var i=e.dark_mode,a=e.normal_mode,o=Object(c["a"])(e,["dark_mode","normal_mode"]);return t.darkMode&&t.darkMode.mode?i?Object(n["a"])(Object(n["a"])({},o),{},{left_icon:i.left_icon,color:t.convertColor(i.word_color),bgColor:t.darkModeBackgroundColor}):Object(n["a"])({},o):a?Object(n["a"])(Object(n["a"])({},o),{},{left_icon:a.left_icon,color:t.convertColor(a.word_color),bgColor:t.convertColor(a.background_color)}):Object(n["a"])({},o)}))}))}}),watch:{"user.following":function(t){this.following!==t&&(this.following=t)},darkMode:function(){this.darkModeBackgroundColor=getComputedStyle(document.documentElement).getPropertyValue("--profile-tag-default-bg")}},methods:{copyTextToClipboard:b["a"],copyClipboard:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,Object(b["a"])(t);case 2:a=i.sent,"success"===a&&e.$_w_toast({type:"success",message:"复制成功"});case 4:case"end":return i.stop()}}),i)})))()},getMessageText:g["b"],onClickIcon:function(){this.goPage(this.vBlueUrl)},onBlockDestroy:function(){var t=this;this.$_w_dialog({type:"confirm",title:"确定解除黑名单吗？",action:function(){t.$http.post("/ajax/statuses/deleteFilters",{uid:t.user.id}).then((function(t){t.data.ok>0&&window.location.reload()}))}})},getFansHref:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"/u/page/follow/".concat(t.id,"?relate=").concat(e)},goSubPage:function(t){this.config.isNormal?this.$router.push({name:"follow",params:{id:this.user.id},query:{relate:t}}):this.$Bus.$emit("loginPop")},handleSetRemark:function(){this.$emit("after-set-remark")},handleGroupVisible:function(t){var e=this;t?this.$http.get("/ajax/profile/getGroupList",{params:{uid:this.user.idstr}}).then((function(i){i.data.ok>0&&(e.defaultGroup=i.data.data.map((function(t){return t.idstr})),e.groupVisible=t)})):this.groupVisible=t},handleLeave:function(){this.show=!1},handleMove:function(){this.followed&&(this.show=!0)},handlePop3:function(t){this.show3=t},handleFollowChange:function(t){t||(this.user.remark="",this.user.special_follow=t),this.user.following=t,this.$emit("follow-change",t),this.$Bus.$emit("update-following-status",{uid:this.user.id,status:t})},spfollowChange:function(t){this.user.special_follow=t},getLabelArray:function(){var t,e,i=this,a=576,o=0,n=0;null===this||void 0===this||null===(t=this.detail)||void 0===t||null===(e=t.label_desc)||void 0===e||e.forEach((function(t,e){o+=12*t.name.length+30,o>=a&&(n++,o=12*t.name.length+30),i.labelDescList[n]||(i.labelDescList[n]=[]),i.labelDescList[n].push(t)}))},goPage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";window.open(t)},isUsableUrl:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/(^sinaweibo:\/\/browser)|(^http(s?))/.test(t)},openSubPage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t.scheme_url,a=i;if(i&&/^sinaweibo:\/\/browser\?url/.test(i)&&(a=decodeURIComponent(i.replace(/^sinaweibo:\/\/browser\?url=/i,""))),!e||!/^http(s?):/.test(i))return a.replace(/^http(s)?:/,"");window.open(i)},convertColor:function(t){return t.length<8?t:"#".concat(t.slice(3)).concat(t.slice(1,3))},goFollow:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$router.push({name:"follow",params:{id:this.user.id},query:{relate:t}})},goRank:function(t){var e=t.url;e&&window.open(e)},onBlock:function(){var t=this;this.$_w_dialog({type:"confirm",title:"屏蔽用户",message:"设置对@".concat(this.user.screen_name," 的屏蔽范围，全选即为拉黑用户"),checkbox:this.checkboxVal,btnConfirm:"确定",action:function(){t.$http.post("/ajax/statuses/filterUser",{uid:t.user.id,status:t.checkboxVal[0].value?1:0,interact:t.checkboxVal[1].value?1:0,follow:t.checkboxVal[2].value?1:0}).then((function(e){e.data&&e.data.ok>0&&t.$_w_toast({type:"success",message:"已屏蔽"})}))}})},complaint:function(){window.open("https://service.account.weibo.com/reportspam?rid=".concat(this.user.id,"&type=3&from=1FFFF96039"))},remove:function(){var t=this;this.$_w_dialog({type:"confirm",title:"确认要移除粉丝？",message:"对方将不再关注你，且不会收到通知",action:function(){t.$http.post("/ajax/profile/destroyFollowers",{uid:t.user.idstr}).then((function(e){e.data.ok>0&&(t.user.follow_me=!1,t.$_w_toast({type:"success",message:"已移除"}))}))}})},fansFormat:u["a"],shortNum:d["b"],test3:function(){this.show3=!1},fetchDetail:function(){var t=this;this.$http.get("/ajax/profile/detail",{params:{uid:this.profileId}}).then((function(e){e.data.ok>0&&t.$nextTick((function(){t.detail=e.data.data||{},t.showCount&&t.detail.label_desc.push({name:"".concat(+t.user.is_star?"昨日阅读人数":"昨日阅读数"," ").concat(t.formatReadCount(t.readCount))},{name:"昨日互动数".concat(t.formatInteractionCount(t.detail.interaction.interaction))}),t.showDetail=!1,t.getLabelArray()}))}))},handleOpt:function(){this.showDetail=!this.showDetail},showPop:function(){this.followed&&(this.show=!0)},unfollow:function(){var t=this;this.$http.post("/ajax/friendships/destory",{uid:this.user.idstr}).then((function(e){e.data.ok>0?(t.show=!t.show,t.following=!1,t.$emit("follow-change",!1),t.$_w_toast({type:"success",message:"取关成功"})):t.$_w_toast({type:"error",message:"取关失败"})}))},showPrompt:function(){var t=this;this.$_w_dialog({type:"confirm",kind:"bar",title:"设置备注",input:this.inputValue,action:function(){t.edit=!0}})},formatReadCount:function(t){return Number.isNaN(+t)?"小于1000":t/1e6>=1?"100万+":t/1e5>=1?"10万+":t/1e4>=1?"1万+":t/1e3>=1?"1000+":"小于1000"},formatInteractionCount:function(t){return Number.isNaN(+t)?0:t/1e5>=1?Math.floor(t/1e4)+"万":t/1e4>=1?Math.floor(t/1e3)/10+"万":t},viewCoverImage:function(){var t=this.coverImages.map((function(t){return{url:t,type:"jpg",pid:"",normal:{url:t},large:{url:t.replace(/mw690/i,"large")},webp:{url:t},focus_point:{}}}));this.$Bus.$emit("showViewer",{type:"image",data:{index:0,pics:t}})}},created:function(){this.fetchDetail(),this.darkModeBackgroundColor=getComputedStyle(document.documentElement).getPropertyValue("--profile-tag-default-bg")},components:{IconVip:f["a"],FollowPop:m["a"],GroupModal:_["a"],QRCode:y["a"]}},x=w,k=i("dda0"),$=(i("168e"),i("2877"));function C(t){this["$style"]=k["default"].locals||k["default"]}var O=Object($["a"])(x,s,r,!1,C,null,null),j=O.exports,T=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[t.showSearch?i("Card",[i("Search",{key:t.searchKey,attrs:{expand:"",value:t.searchParams,"show-tips":!1,options:t.searchOptions,inputPlaceholder:"搜索"+t.role+"的微博"},on:{searchStatuses:t.onSearchStatuses,searchVisible:t.onSearchVisible}})],1):t._e(),i("woo-box",{staticClass:"wbpro-screen-v2",attrs:{align:"center",justify:"between"}},[i("div",[t._v(t._s(t.title))]),t.showSearch?i("span",{class:t.$style.reset},[i("woo-button",{class:t.$style.btn,attrs:{sort:"simple",kind:"default",fonticon:"refresh"},nativeOn:{click:function(e){return t.triggleReset(e)}}},[i("span",{class:t.$style.btnin},[t._v("重置")])])],1):t._e(),t.showSearch?t._e():i("SearchBtn",{class:t.$style.sbtn,attrs:{value:t.searchInput,promote:"",user:t.user},on:{enter:function(e){return t.$emit("search-enter")},expand:function(e){return t.$emit("expand-search")},input:function(e){return t.$emit("search-input",e)}}})],1),t.hotCollection?i("Discussion",{attrs:{data:t.hotCollection}}):t._e(),t.isEmpty?i("Card",{attrs:{bottomGap:!1}},[i("woo-box",{class:t.$style.empty,attrs:{align:"center",justify:"center"}},[i("woo-tip",{attrs:{type:"warn",sort:"vertical"}},[t._v(t._s(t.emptyText))]),Object.keys(t.searchParams).length?i("woo-button",{class:t.$style.resetBtn,attrs:{sort:"line",kind:"primary"},nativeOn:{click:function(e){return t.triggleReset(e)}}},[t._v(" "+t._s(t.resetText)+" ")]):t._e()],1),i("woo-box",{attrs:{align:"center",justify:"center"}},[t.loadMoreManuel?i("woo-tip",{class:t.$style.tipbox,attrs:{type:"none",sort:"simple"},nativeOn:{click:function(e){return t.onLoadMoreManuel(e)}}},[t._v("点击加载更多... ")]):t._e(),t.isLoading?i("woo-spinner",{class:t.$style.loadingIcon}):t._e()],1)],1):i("feed-scroll",{attrs:{data:t.data,isLoading:t.isLoading,isRetry:t.isRetry,skeleton:t.showSkeleton,hasTransformText:!0,isEmpty:t.isEmpty,isNoData:t.isNoData,noDataText:t.noDataText,emptyText:t.emptyText,hiddenFollowBtn:t.hiddenFollowBtn,showNotLoginBottom:t.showNotLoginBottom,absstr:t.searchAbsstr,pagetype:"profilefeed",loadMoreManuel:t.loadMoreManuel,actLogData:{page:"profileBlogTab"},buffer:500},on:{loadMoreData:t.loadMoreData}})],1)},D=[],S=(i("4de4"),i("c740"),i("a434"),i("d3b7"),i("6062"),i("3ca3"),i("ddb0"),i("b85c")),I=i("4e7d"),L=i("6cf2"),B=i("c106"),P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:[t.$style.search,t.inCard&&t.$style.incard]},[i("FeatureBubble",{attrs:{content:"点这里可以搜索或筛选"+t.role+"的微博",timeout:5,width:250,flag:t.flag,alignGap:21,configkey:t.configkey},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-input",{class:t.$style.sipt,attrs:{placeholder:"搜索"+t.role+"的微博",modelValue:t.value},on:{input:function(e){return t.$emit("input",e)}},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("enter")},keypress:function(t){t.stopPropagation()}},scopedSlots:t._u([{key:"icon",fn:function(){return[i("woo-fonticon",{attrs:{value:"search"}})]},proxy:!0}])}),i("woo-box",{class:t.$style.caret,attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return t.$emit("expand")}}},[i("woo-fonticon",{attrs:{value:"caretDown"}})],1)]},proxy:!0}])})],1)},A=[],E=(i("5377"),i("9382")),M={props:{inCard:{type:Boolean,default:!1},value:{type:String},promote:{type:Boolean,default:!1},user:{type:Object}},components:{FeatureBubble:E["a"]},data:function(){return{flag:1,configkey:"profile_search_bubble"}},computed:Object(n["a"])(Object(n["a"])({},Object(v["c"])(["config"])),{},{role:function(){var t,e;return this.user?this.user.id==(null===(t=this.config)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.id)?"我":Object(g["a"])(this.user):"TA"}}),watch:{promote:{handler:function(t){t&&(this.flag=window.$CONFIG.flags.profile_search_bubble)},immediate:!0}}},F=M,R=i("3a56");function V(t){this["$style"]=R["default"].locals||R["default"]}var N=Object($["a"])(F,P,A,!1,V,null,null),H=N.exports,z=i("8b91"),U=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Card",{class:t.$style.container},[t.version2?[i("div",{class:t.$style.version2},[i("woo-box",{class:[t.$style.ti],attrs:{align:"center"}},[i("span",[t._v(" "+t._s(t.version2.title)+" ")])]),i("div",{class:t.$style.cont},[i("woo-box",{attrs:{wrap:"wrap",items:3,align:"center"}},[t._l(t.version2.stat,(function(e,a){return[i("woo-box-item",{key:a},[i("woo-box",{class:t.$style.wrap,attrs:{align:"center",direction:"y"}},[i("div",[i("span",{class:t.$style.count},[t._v(t._s(e.count))]),i("span",{class:t.$style.unit},[t._v(t._s(e.unit))])]),i("div",{class:t.$style.desc},[t._v(t._s(e.label))])])],1),a!==t.version2.stat.length-1?i("woo-divider",{key:a,class:t.$style.gap,attrs:{direction:"y"}}):t._e()]}))],2),t.version2.topic?i("a",{attrs:{href:t.version2.topic.url,target:"_blank"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onClick(t.version2.topic.url)}}},[i("woo-box",{class:t.$style.band,attrs:{align:"center"}},[i("span",{class:t.$style.band_content},[t._v(t._s(t.version2.topic.text))]),i("span",{class:t.$style.disc},[t._v(t._s(t.version2.topic.discussNum))])])],1):t._e()],1)],1)]:[i("woo-box",{class:t.$style.title},[i("div",[t._v(t._s(t.data.moduleTitle))])]),i("woo-box",{class:t.$style.content,attrs:{align:"center"}},[i("woo-picture",{class:t.$style.cover,attrs:{width:70,height:70,src:t.isDark?t.data.icon_dark:t.data.icon}}),i("woo-box",{attrs:{direction:"y"}},[i("div",{class:t.$style.t1},[t._v(t._s(t.data.title))]),i("div",{class:t.$style.t2},[1===t.data.isTopic&&t.data.topicUrl?i("a",{attrs:{href:t.data.topicUrl},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onClick(t.data.topicUrl)}}},[t._v(t._s(t.data.subTitle))]):i("span",[t._v(t._s(t.data.subTitle))])])])],1)]],2)},G=[],q=i("ed09"),W={props:{data:{type:Object,default:function(){return{}}}},computed:Object(n["a"])(Object(n["a"])({},Object(v["c"])(["darkMode","config"])),{},{version2:function(){return this.data.version2},isDark:function(){var t;return 1===(null===(t=this.darkMode)||void 0===t?void 0:t.mode)},loginUid:function(){var t,e;return null===(t=this.config)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.id}}),setup:function(t){var e=Object(q["d"])().proxy,i=function(i){if(i){var a,o,n,s;if(e.version2)e.actionLog({act_code:"7894",ext:"staruid:".concat(t.data.uid,"|topicwd:").concat(+!!(null===(a=e.version2)||void 0===a?void 0:a.topic),"|topicname:").concat((null===(o=e.version2)||void 0===o?void 0:o.topic)?null===(n=e.version2)||void 0===n||null===(s=n.topic)||void 0===s?void 0:s.text:"")});else e.actionLog({act_code:"7856",ext:"staruid:".concat(t.data.uid,"|topicname:").concat(1===t.data.isTopic?t.data.topic:"")});window.open(i)}};return Object(q["k"])((function(){if(e.version2){var i,a,o,n,s,r,l,c,u,d,h,p;if(null===(i=e.version2)||void 0===i?void 0:i.title)e.actionLog({act_code:"7891",ext:"staruid:".concat(t.data.uid,"|loginuid:").concat(e.loginUid,"|topicwd:").concat(+(null===(n=e.version2)||void 0===n||null===(s=n.topic)||void 0===s?void 0:s.is_topic))});if(null===(a=e.version2)||void 0===a?void 0:a.stat)e.actionLog({act_code:"7892",ext:"staruid:".concat(t.data.uid,"|loginuid:").concat(e.loginUid,"|topicwd:").concat(+(null===(r=e.version2)||void 0===r||null===(l=r.topic)||void 0===l?void 0:l.is_topic))});if(null===(o=e.version2)||void 0===o?void 0:o.topic)e.actionLog({act_code:"7893",ext:"staruid:".concat(t.data.uid,"|loginuid:").concat(e.loginUid,"|topicwd:").concat(+(null===(c=e.version2)||void 0===c||null===(u=c.topic)||void 0===u?void 0:u.is_topic),"|topicname:").concat((null===(d=e.version2)||void 0===d?void 0:d.topic)?null===(h=e.version2)||void 0===h||null===(p=h.topic)||void 0===p?void 0:p.text:"")})}else e.actionLog({act_code:"7870",ext:"staruid:".concat(t.data.uid,"|loginuid:").concat(e.loginUid,"|topicwd:").concat(+t.data.isTopic,"|topicname:").concat(1===t.data.isTopic?t.data.topic:"")})})),{onClick:i}}},Q=W,J=i("26c0");function K(t){this["$style"]=J["default"].locals||J["default"]}var Y=Object($["a"])(Q,U,G,!1,K,null,null),X=Y.exports,Z={name:"ProfileFeed",mixins:[L["a"]],props:["isOwner","refresh","user","owner_uid","profileHeaderHeight","showSearch","searchInput"],data:function(){var t=this.$route.query,e=Object(B["a"])(t);return{data:[],isLoading:!1,isRetry:!1,isOver:!1,weiboType:[{key:"全部微博",title:"全部微博",value:0,showMoreSettings:!0},{key:"原创微博",value:1},{key:"热门微博",value:2},{key:"赞过的微博",value:3},{key:"付费微博",value:17}],searchKey:1,searchParams:e,searchAbsstr:"",searchResult:!1,hiddenFollowBtn:!this.isOwner,mblogType:0,isEmpty:!1,showSkeleton:!0,isNoData:!1,title:"全部微博",noDataText:"没有更多内容了~去其他页面看看吧",page:1,midSet:new Set,showReset:!1,since_id:"",emptyText:"暂无内容",resetText:"返回全部微博",searchOptions:Object(B["d"])().filter((function(t){return"hasv"!==t.key})),loadMoreManuel:!1,hotCollection:null}},computed:Object(n["a"])(Object(n["a"])({},Object(v["c"])(["config"])),{},{role:function(){var t,e;return this.user?this.user.id==(null===(t=this.config)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.id)?"我":Object(g["a"])(this.user):"TA"}}),watch:{mblogType:function(t){this.isNoData=!1,this.hiddenFollowBtn=3!==t},refresh:function(t){var e=this;t&&(this.data=[],this.isLoading=!1,this.isRetry=!1,this.isEmpty=!1,this.isOver=!1,this.showSkeleton=!0,this.total=0,this.sinceid=0,this.isNoData=!1,this.midSet=new Set,this.page=1,this.mblogType=0,this.searchParams={},this.since_id="",this.title="全部微博",this.$nextTick((function(){e.getData(e.mblogType)})),this.showReset=!1,this.emptyText="暂无内容")},$route:function(t,e){t.name}},methods:{onLoadMoreManuel:function(){this.loadMoreData()},searchInit:function(t){var e=this.$route.query,i=Object(B["a"])(e);Object.keys(i).length?(this.setSearchVisible(!0),t&&this.setSearchStatuses(i)):this.setSearchVisible(!1)},replaceRouteQuery:function(t){var e=Object(n["a"])({},this.$route.query),i=Object(B["a"])(e),a=Object(B["c"])(i);for(var o in a)delete e[o];this.$router.replace({query:Object(n["a"])(Object(n["a"])({},e),Object(B["c"])(t)),params:{savePosition:!0}})},recoverRouteQuery:function(){var t=Object(n["a"])({},this.$route.query),e=Object(B["a"])(t),i=Object(B["c"])(e);for(var a in i)delete t[a];this.$router.replace({query:t,params:{savePosition:!0}})},onSearchStatuses:function(t){this.setSearchStatuses(t),this.replaceRouteQuery(t)},setSearchStatuses:function(t){this.searchParams=t,this.page=1,this.since_id="",this.mblogType=4,this.title="正在搜索...",this.searchAbsstr="",this.searchResult=!0,this.isEmpty=!1,this.getData(this.mblogType,!1,!0)},triggleReset:function(){this.searchKey++,this.searchParams={},this.page=1,this.since_id="",this.mblogType=0,this.title="全部微博",this.data=[],this.searchAbsstr="",this.searchResult=!1,this.getData(this.mblogType),this.isEmpty=!1,this.$emit("search-input",""),this.recoverRouteQuery()},onSearchVisible:function(t){this.setSearchVisible(t),t||this.recoverRouteQuery()},setSearchVisible:function(t){t?this.$emit("expand-search"):(this.searchResult&&this.triggleReset(),this.$emit("collapsed-search"))},deleteWeibo:function(t){this.data=this.deleteWeiboInList(t,this.data)},handleVisibilityChange:function(t,e){this.isLoading&&t&&e&&this.data.length>0&&!this.isOver&&this.getData(this.mblogType)},getData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.isLoading=!0,this.isRetry=!1;var o="/ajax/statuses/mymblog";0===e?this.searchParams.q&&(o="/ajax/profile/searchblog"):3===e?o="/ajax/statuses/likelist":2===e?o="/ajax/profile/myhot":4===e&&(o="/ajax/statuses/searchProfile");var s={uid:this.owner_uid,page:this.page,feature:e,since_id:this.since_id};return 0!==e&&4!==e||(s=Object(n["a"])(Object(n["a"])({},s),this.searchParams),4===e&&delete s.feature),this.loadMoreManuel=!1,this.$http.get(o,{params:s}).then((function(o){if(o.data.ok>0){var n=o.data.data,r=n.list,l=n.status_visible,c=n.bottom_tips_visible,u=n.bottom_tips_text,d=n.since_id,h=n.absstr,p=n.total,f=n.hotCollection;if(f&&1===t.page&&0===e?t.hotCollection=f:t.hotCollection=null,t.searchAbsstr=h||"",t.since_id=d,1===t.page&&p>=0&&(4===e?t.title="为您搜索到以下微博：":0===e&&s.q?t.title="搜索到 ".concat(p," 条微博"):t.title="全部微博（".concat(p,"）")),i&&window.scrollTo(0,0),a&&(t.data=[]),t.data=t.data.concat(r),c)return t.isOver=!0,t.isLoading=!1,t.isNoData=!0,t.noDataText=u||"博主设置仅展示半年内的微博",0===t.data.length&&(t.emptyText=t.noDataText),void(0===t.data.length&&(t.isEmpty=!0));if(0===r.length&&t.since_id&&-1!==t.since_id&&(t.isEmpty=!1,0===t.data.length&&(t.isLoading=!1,t.isEmpty=!0),t.loadMoreManuel=!0),0===r.length&&t.since_id&&-1===t.since_id||0===r.length&&!t.since_id){if(t.isOver=!0,t.isLoading=!1,t.showSkeleton=!1,0===t.data.length)4===e&&p>20&&1===t.page?(t.isEmpty=!1,t.isLoading=!0,t.isOver=!1,t.loadmore=!0,t.page++,t.getData(t.mblogType)):t.isEmpty=!0;else{if(l&&!t.isOwner)return t.isNoData=!0,void(t.noDataText="博主设置仅展示半年内的微博");t.isNoData=!0,t.noDataText="没有更多内容了~去其他页面看看吧"}return}if(3===e)if(t.isOwner){var m,v=Object(S["a"])(r);try{for(v.s();!(m=v.n()).done;){var _=m.value;_.deleted&&(_.deletedData={type:"liked",text:"删除"})}}catch(g){v.e(g)}finally{v.f()}}else r.splice(r.findIndex((function(t){return 1===+t.deleted})),1);if(t.page>=2&&!t.config.isNormal)return t.isNoData=!1,t.showNotLoginBottom=!0,void(t.isLoading=!1);t.page++}})).catch((function(e){t.isLoading=!1,t.isRetry=!0}))},loadMoreData:function(){this.getData(this.mblogType)},refreshListConfig:function(){this.data=[]},getSelectedData:function(t){var e=this,i=t.feature,a=t.title,o=Object(c["a"])(t,["feature","title"]);this.$Bus.$emit("change-profile-tab","feed"),this.isNoData=!1,this.showSkeleton=!0,this.data=[],this.page=1,this.since_id="",this.isLoading=!0,this.isEmpty=!1,this.mblogType=i,this.searchParams=o,this.searchResult=!0;var n=this.weiboType.find((function(t){return t.value==e.mblogType}));this.title=a||n.title||n.key,this.$nextTick((function(){return e.getData(e.mblogType)}))},scrollToTitle:function(){var t,e,i,a=Object(z["a"])("--w-bar-height"),o=((null===(t=this.$parent)||void 0===t||null===(e=t.$refs)||void 0===e||null===(i=e.profileHeaderRef)||void 0===i?void 0:i.offsetHeight)||0)-2*a;window.scrollTo(0,o)}},mounted:function(){var t,e,i,a=this;this.$Bus.$on("getMblogData",this.getSelectedData),this.$once("hook:beforeDestroy",(function(){a.$Bus.$off("getMblogData",a.getSelectedData)})),this.scrollOffset=0,this.actionLog({uicode:20000366,act_code:7869,ext:"staruid:".concat(null===(t=this.user)||void 0===t?void 0:t.id,"|loginuid:").concat(null===(e=this.config)||void 0===e||null===(i=e.user)||void 0===i?void 0:i.id)})},created:function(){this.searchInit(),this.getData(this.mblogType)},activated:function(){this.searchInit(!0)},components:{FeedScroll:I["default"],SearchBtn:H,Search:B["b"],Discussion:X}},tt=Z,et=(i("3255"),i("8138"));function it(t){this["$style"]=et["default"].locals||et["default"]}var at=Object($["a"])(tt,T,D,!1,it,null,null),ot=at.exports,nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("ImageAlbum",{attrs:{data:t.albums},on:{click:function(e){return t.openDetail(e)}}}),i("div",[t.feedVisible?t._e():i("Card",{class:t.$style.album},[i("div",{class:t.$style.tit},[i("woo-box",{staticClass:"woo-box",staticStyle:{"margin-bottom":"10px",cursor:"pointer"},attrs:{align:"center"},nativeOn:{click:function(e){t.feedVisible=!0,t.albumDetailOver=!1,t.albumDetail=[],t.isDetailLoading=!0}}},[i("woo-fonticon",{attrs:{value:"angleLeft"}}),t._v(" 返回 ")],1)],1),i("div",{staticStyle:{"min-height":"100px"}},["place"===t.albumType?t._l(t.albumDetail,(function(e,a){return i("woo-box",{key:a,class:t.$style.placelist,attrs:{direction:"y"}},[i("span",[t._v(t._s(e.placename))]),i("woo-box",{class:t.$style.ul,attrs:{old:"",items:4,"gap-row":4,"gap-col":4}},t._l(e.pics,(function(e){return i("woo-box-item",{key:e.pid,nativeOn:{click:function(i){return t.viewAlbum(e,"place")}}},[i("div",{class:t.$style.box},[i("woo-picture",{attrs:{src:e.pic_middle}}),t._e(),t._e(),t._e(),t._e()],1)])})),1)],1)})):[i("woo-box",{class:t.$style.ul,attrs:{old:"",items:4,"gap-row":4,"gap-col":4}},t._l(t.albumDetail,(function(e){return i("woo-box-item",{key:e.pid,nativeOn:{click:function(i){return t.viewAlbum(e)}}},[i("div",{class:t.$style.box},[i("woo-picture",{attrs:{src:e.pic_middle}}),t._e(),t._e(),t._e(),t._e()],1)])})),1)],t.noAlbumDetail?i("woo-box",{staticClass:"empty",attrs:{align:"center",justify:"center"}},[i("woo-tip",{attrs:{type:"warn",sort:"vertical"}},[t._v("暂无数据")])],1):t._e()],2),t.detailLoading?i("woo-box",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.handleDetailVisibilityChange,expression:"handleDetailVisibilityChange"}],staticClass:"next-page",attrs:{align:"center",justify:"center"}},[t.isRetry?i("div",{staticClass:"m-tips m-tips-tp cursor",on:{click:t.getData}},[t._v(" 网络异常，请稍后点击重试~ ")]):t._e(),t.isDetailLoading?i("woo-spinner",{staticClass:"loading-icon-size"}):t._e()],1):t._e()],1),t.albumDetailOver?i("Bottom"):t._e()],1),i("div",[t.feedVisible?i("Card",{class:t.$style.album},[i("div",{class:t.$style.tit},[t._v(" 全部图片 ")]),i("div",t._l(t.listShow,(function(e,a){return i("woo-box",{key:a,class:t.$style.item},[i("div",{class:t.$style.date},[i("div",{class:t.$style.m},[t._v(t._s(+e.m)+"月")]),t.curYear!==e.y?i("div",{class:t.$style.y},[t._v(" "+t._s(e.y)+" ")]):t._e()]),i("woo-box-item",[i("woo-box",{class:t.$style.ul,attrs:{old:"",items:4,"gap-row":4,"gap-col":4}},t._l(e.list,(function(e,a){return i("woo-box-item",{key:a,nativeOn:{click:function(i){return t.viewPic(e)}}},[i("div",{class:t.$style.box},[i("woo-picture",{attrs:{src:e.pic_obj.url}}),"gif"===e.type||"dynamic"===e.type?i("span",{class:t.$style.gif},[t._v(" 动图 ")]):t._e(),"livephoto"===e.type?i("span",{class:t.$style.live},[t._v(" Live ")]):t._e(),t._e(),t._e()],1)])})),1)],1)],1)})),1),i("woo-box",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.handleVisibilityChange,expression:"handleVisibilityChange"}],staticClass:"next-page",attrs:{align:"center",justify:"center"}},[t.isRetry?i("div",{staticClass:"m-tips m-tips-tp cursor",on:{click:t.getData}},[t._v(" 网络异常，请稍后点击重试~ ")]):t._e(),t.isLoading?i("woo-spinner",{staticClass:"loading-icon-size"}):t._e()],1)],1):t._e(),t.feedVisible&&t.isOver||t.showNotLoginBottom?i("Bottom",{attrs:{text:t.bottomText,click:t.showNotLoginBottom},on:{handleBottomText:t.handleBottomText}}):t._e()],1)],1)},st=[],rt=(i("45fc"),i("2909")),lt=i("e054"),ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.data.length?i("Card",{class:t.$style.card2},[i("div",{class:t.$style.card2h},[t._v(" 相册"),i("span",[t._v("（"+t._s(t.data.length)+"）")])]),i("div",{class:t.$style.card2c},[i("div",{class:t.$style.card2cin},[i("woo-box",{attrs:{"gap-row":10}},t._l(t.data.slice(t.startIdx,t.endIdx),(function(e,a){return i("woo-box-item",{key:a,class:t.$style.card2l},[i("woo-box",{attrs:{direction:"y"}},[i("woo-picture",{class:[t.$style.card2p,t.$style.cursor],attrs:{"aspect-ratio":"16:9",src:e.pic},nativeOn:{click:function(i){return t.$emit("click",e)}}}),i("div",{staticClass:"wbpro-textcut",class:t.$style.card2t},[t._v(" "+t._s(e.pic_title)+" ")])],1)],1)})),1)],1),1!==t.page?i("woo-box",{class:[t.$style.card2a,t.$style.card2al,t.$style.cursor],attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return t.prev(e)}}},[i("woo-fonticon",{attrs:{value:"angleLeft"}})],1):t._e(),t.showNextBtn?t._e():i("woo-box",{class:[t.$style.card2a,t.$style.card2ar,t.$style.cursor],attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return t.next(e)}}},[i("woo-fonticon",{attrs:{value:"angleRight"}})],1)],1)]):t._e()},ut=[],dt={data:function(){return{page:1}},computed:{startIdx:function(){return 1===this.page?0:4*(this.page-1)},endIdx:function(){return this.startIdx+4},showNextBtn:function(){return Math.ceil(this.data.length/4)===this.page||this.data.length<4}},methods:{prev:function(){this.page=this.page-1},next:function(){this.page=this.page+1}},props:{data:{type:Array,default:function(){return[]}}}},ht=dt,pt=i("bfec");function ft(t){this["$style"]=pt["default"].locals||pt["default"]}var mt=Object($["a"])(ht,ct,ut,!1,ft,null,null),vt=mt.exports,_t=i("0d47"),gt={name:"ProfileAlbum",props:["refresh"],data:function(){return{isLoading:!0,isRetry:!1,isDetailLoading:!0,detailLoading:!0,isDetailRetry:!1,list:[],sinceid:0,isOver:!1,isDetailOver:!1,curYear:(new Date).getFullYear(),curViewIndex:-1,curAlbumViewIndex:-1,albums:[],albumDetail:[],albumDetailOver:!1,noAlbumDetail:!1,noPhotoDetail:!1,emptyText:"暂无数据",cid:"",albumType:"",bottomText:"没有更多内容了",feedVisible:!0,page:1,showNotLoginBottom:!1,autoplayList:[]}},methods:{handleDetailVisibilityChange:function(t,e){this.feedVisible||this.isDetailLoading&&!this.isDetailOver&&t&&e&&this.fetchAlbumDetail(this.cid)},handleVisibilityChange:function(t,e){this.feedVisible&&this.isLoading&&!this.isOver&&t&&e&&this.getData()},getData:function(t){var e=this;this.noPhotoDetail=!1,this.isLoading=!0,this.isRetry=!1,this.$http.get("/ajax/profile/getImageWall",{params:{uid:this.$attrs.owner_uid,sinceid:this.sinceid,has_album:0===+this.sinceid}}).then((function(i){var a=i.data.data;if(0===e.list.length&&window.scrollTo(0,0),a.album_list&&(e.albums=a.album_list||[]),e.list=e.list.concat(e.solveList(a.list)),e.autoplayList=e.list.filter((function(t){return t.video})).map((function(t){return t.pid})),e.sinceid=a.since_id,e.isRetry=!1,0===Object.keys(a.list).length&&(e.isLoading=!1),0===+a.since_id&&(e.isLoading=!1,e.isOver=!0,i.data.bottom_tips_visible&&(e.bottomText=i.data.bottom_tips_text)),e.page>=2&&!e.config.isNormal)return e.isLoading=!1,e.showNotLoginBottom=!0,void(e.bottomText="请登录后查看更多精彩内容");e.page++,t&&t({list:a.list})})).catch((function(t){e.isLoading=!1,e.isRetry=!0}))},solveList:function(t){var e=this,i=[];return t.forEach((function(t){if(t.sCreateTime={y:t.timeline_year||"",m:t.timeline_month},!e.list.some((function(e){return e.object_id===t.object_id}))){var a=Object(lt["a"])([t.pid]);t["pic_obj"]=a.length&&a[0],i.push(t)}})),i},viewAlbum:function(t,e){var i,a;if("place"===e){var o=[];this.albumDetail.forEach((function(t){o=o.concat(t.pics)})),i=o.findIndex((function(e){return e.pid===t.pid})),a={content:"",index:i,pics:o.map((function(t){return t.pic_obj}))}}else i=this.albumDetail.findIndex((function(e){return e.pid===t.pid})),a={content:"",index:i,pics:this.albumDetail.map((function(t){return t.pic_obj}))};var n=this;this.$Bus.$emit("showViewer",{data:a,indexChange:function(t){n.curViewIndex=t},type:"image",subType:"imageFlow"})},viewPic:function(t){var e=t.pid,i=this.listOpen.findIndex((function(t){return t.pid===e})),a={content:"",index:i,pics:this.listOpen},o=this;this.$Bus.$emit("showViewer",{data:a,indexChange:function(t){o.curViewIndex=t},type:"image",fetchContent:!0,subType:"imageFlow",specificTime:!0})},fetchAlbum:function(){var t=this;this.$http.get("/ajax/profile/albumlist",{params:{uid:this.$attrs.owner_uid}}).then((function(e){e.data.ok>0&&(t.albums=e.data.data)}))},fetchAlbumDetail:function(t){var e=this;this.noAlbumDetail=!1,this.$http.get("/ajax/profile/getAlbumDetail",{params:{containerid:t,since_id:this.detailSinceId}}).then((function(t){if(t.data.ok>0){var i,a=t.data.data,o=a.list,s=a.since_id,r=a.type;i="place"===r?o.map((function(t){return Object(n["a"])(Object(n["a"])({},t),{},{pics:t.pics.map((function(t){var e=Object(lt["a"])([t.pid]),i=Array.isArray(e)&&e[0]||{};return Object(n["a"])(Object(n["a"])({},t),{},{pic_middle:i.normal.url,pic_obj:i})}))})})):o.map((function(t){var e=Object(lt["a"])([t.pid]),i=Array.isArray(e)&&e[0]||{};return Object(n["a"])(Object(n["a"])({},t),{},{pic_middle:i.normal.url,pic_obj:i})})),e.albumType=r,e.albumDetail=e.albumDetail.concat(i),e.detailSinceId=s,e.detailLoading=!1,s&&e.$nextTick((function(){e.detailLoading=!0})),e.albumDetail.length&&0===s&&(e.isDetailLoading=!1,e.albumDetailOver=!0),0===e.albumDetail.length&&(e.noAlbumDetail=!0,e.isDetailLoading=!1),0!==i.length&&0!==+s||(e.isDetailLoading=!1)}}))},openDetail:function(t){var e=this;this.cid=t.containerid.replace("&background=ffffff",""),this.albumDetailOver=!1,this.albumDetail=[],this.isDetailLoading=!0,this.detailSinceId=0,this.detailLoading=!1,this.$nextTick((function(){e.feedVisible=!1,e.detailLoading=!0}))},handleBottomText:function(){this.showNotLoginBottom&&this.$Bus.$emit("loginPop")},handleNotAutoplayDueOfKeepaliveInFirefox:function(){var t=this;navigator.userAgent.indexOf("Firefox")>-1&&this.autoplayList.forEach((function(e){var i=t.$refs["videoRef".concat(e)]&&t.$refs["videoRef".concat(e)][0];i&&(null===i||void 0===i||i.play())}))}},inject:["uid"],created:function(){},computed:Object(n["a"])(Object(n["a"])({},Object(v["c"])(["config"])),{},{listShow:function(){var t,e={};return this.list.forEach((function(i){i.sCreateTime.y||i.sCreateTime.m?(t=e["".concat(i.sCreateTime.y,"-").concat(i.sCreateTime.m)],t||(t=e["".concat(i.sCreateTime.y,"-").concat(i.sCreateTime.m)]={y:i.sCreateTime.y,m:i.sCreateTime.m,list:[]}),t.list.push(i)):t&&t.list.push(i)})),e},listOpen:function(){return this.list.map((function(t){return Object(n["a"])(Object(n["a"])({},Object(lt["a"])([t.pid])[0]),{},{mid:t.mid,type:t.type,video:t.video})}))}}),components:{ImageAlbum:vt,Bottom:_t["a"]},watch:{isOver:function(t){t||(this.bottomText="没有更多内容了")},refresh:function(t){var e=this;t&&(this.list=[],this.sinceid=0,this.isLoading=!1,this.isDetailOver=!1,this.isDetailLoading=!0,this.isDetailRetry=!1,this.curViewIndex=-1,this.albums=[],this.albumDetail=[],this.noAlbumDetail=!1,this.noPhotoDetail=!1,this.emptyText="暂无数据",this.cid="",this.feedVisible=!0,this.isOver=!1,this.bottomText="没有更多内容了",this.curYear=(new Date).getFullYear(),this.$nextTick((function(){e.getData()})))},cid:function(t,e){t!==e&&(this.albumDetail=[],this.isDetailLoading=!0)},curAlbumViewIndex:function(t){var e=this,i=this;this.albumDetail.length===t+1&&this.getData((function(){e.$Bus.$emit("showViewer",{data:{content:"",index:i.curAlbumViewIndex,pics:e.albumDetail.map((function(t){return t.pic_obj}))},indexChange:function(t){i.curAlbumViewIndex=t},type:"image",subType:"imageFlow"})}))},curViewIndex:function(t){var e=this,i=this;this.listOpen.length===t+1&&this.getData((function(){e.$Bus.$emit("showViewer",{data:{content:"",index:i.curViewIndex,pics:Object(rt["a"])(e.listOpen)},indexChange:function(t){i.curViewIndex=t},fetchContent:!0,type:"image",subType:"imageFlow",specificTime:!0})}))}},activated:function(){this.handleNotAutoplayDueOfKeepaliveInFirefox()}},bt=gt,yt=i("c69d");function wt(t){this["$style"]=yt["default"].locals||yt["default"]}var xt=Object($["a"])(bt,nt,st,!1,wt,null,null),kt=xt.exports,$t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._l(t.featureMap,(function(e){return i("FeatureContent",{key:e.key,attrs:{info:t.data[e.key],type:e.key,uid:t.profileId}})})),i("FeatureHot",{attrs:{refresh:t.refreshFeed,isOwner:t.isOwner}})],2)},Ct=[],Ot=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.list.length?i("div",{staticClass:"feed-weibo",class:t.$style.featureBlock},[i("div",{staticClass:"wbpro-screen-box"},[i("woo-box",{staticClass:"wbpro-screen",attrs:{align:"center",justify:"between"}},[i("div",[t._v(" "+t._s(t.info.title)+" ")]),t.info.total>5||t.hasMore?i("woo-box",{class:t.$style.more,attrs:{align:"center"},nativeOn:{click:function(e){return t.checkMore(e)}}},[t._v(" 更多"),i("woo-fonticon",{attrs:{value:"angleRight"}})],1):t._e()],1),i("woo-divider",{attrs:{"gap-start":18}})],1),i("feed-scroll",{class:t.$style.feed,attrs:{"joint-position":"top","feed-style-type":"noGap",data:t.list,noInterval:!0,skeleton:!0,hiddenFollowBtn:!0,feedRadius:"bottom-left,bottom-right",showScrollBottom:!1,isInCards:!0,actLogData:{page:"profileHomeTab"}}})],1):t._e()},jt=[],Tt={mixins:[L["a"]],data:function(){return{}},computed:{list:function(){return this.info.list?this.info.list.slice(0,5):[]},hasMore:function(){return this.info&&this.info.hasMore}},methods:{deleteWeibo:function(t){this.feedWeiboData=this.deleteWeiboInList(t,this.feedWeiboData)},checkMore:function(){this.$router.push({name:"feature",params:{id:this.uid,type:this.type},query:{title:this.info.title||""}})}},props:{info:{type:Object,default:function(){return{}}},type:String,uid:[String,Number]},components:{FeedScroll:I["default"]}},Dt=Tt,St=i("ec1d");function It(t){this["$style"]=St["default"].locals||St["default"]}var Lt=Object($["a"])(Dt,Ot,jt,!1,It,null,null),Bt=Lt.exports,Pt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container",class:t.$style.marginb},[i("div",{staticClass:"wbpro-screen-box"},[i("woo-box",{staticClass:"wbpro-screen",attrs:{align:"center",justify:"between"}},[t.startLoad?i("div",[t._v("热门内容")]):t._e()]),i("woo-divider",{attrs:{"gap-start":18}})],1),i("feed-scroll",{attrs:{"joint-position":"top","feed-style-type":"noGap",data:t.data,isLoading:t.isLoading,isRetry:t.isRetry,skeleton:!0,hasTransformText:!0,isEmpty:t.isEmpty,isNoData:t.isNoData,hiddenFollowBtn:!t.isOwner,isInCards:!0,showNotLoginBottom:t.showNotLoginBottom,actLogData:{page:"profileHomeTab"}},on:{loadMoreData:t.loadMoreData}})],1)},At=[],Et={mixins:[L["a"]],name:"ProfileFeed",props:["refresh","isOwner"],data:function(){return{data:[],isLoading:!1,isRetry:!1,isOver:!1,isEmpty:!1,isNoData:!1,showNotLoginBottom:!1,page:1,midSet:new Set,startLoad:!1}},computed:Object(n["a"])(Object(n["a"])({},Object(v["c"])(["profileId","config"])),{},{update:function(){return this.refresh}}),watch:{update:function(t){var e=this;t&&(this.data=[],this.page=1,this.isLoading=!1,this.isRetry=!1,this.isOver=!1,this.isEmpty=!1,this.isNoData=!1,this.midSet=new Set,this.$nextTick((function(){e.getData()})))}},methods:{deleteWeibo:function(t){this.data=this.deleteWeiboInList(t,this.data)},getData:function(){var t=this;this.isLoading=!0,this.isRetry=!1,this.$http.get("/ajax/profile/myhot",{params:{page:this.page,feature:2,uid:this.profileId}}).then((function(e){if(t.startLoad=!0,e.data.ok>0){var i=e.data.data.list;if(0===t.data.length&&window.scrollTo(0,0),t.data=t.data.concat(i),t.page>=2&&!t.config.isNormal)return t.$Bus.$emit("loginPop"),t.isNoData=!1,t.showNotLoginBottom=!0,void(t.isLoading=!1);t.page++,0===t.data.length?(t.isEmpty=!0,t.isLoading=!1):0===i.length&&(t.isNoData=!0,t.isLoading=!1)}else t.isLoading=!1,t.isRetry=!0})).catch((function(e){t.isLoading=!1,t.isRetry=!0,t.startLoad=!0}))},loadMoreData:function(){this.getData()},refreshListConfig:function(){this.data=[]}},created:function(){var t=this;this.$nextTick((function(){t.getData()}))},components:{FeedScroll:I["default"]}},Mt=Et,Ft=i("64c1");function Rt(t){this["$style"]=Ft["default"].locals||Ft["default"]}var Vt=Object($["a"])(Mt,Pt,At,!1,Rt,null,null),Nt=Vt.exports,Ht={props:["refresh","isOwner"],data:function(){return{data:{},featureMap:[{name:"精选微博",key:"mblog"},{name:"精选视频",key:"video"},{name:"精选话题",key:"topic"}],refreshFeed:!1}},computed:Object(n["a"])(Object(n["a"])({},Object(v["c"])(["profileId"])),{},{update:function(){return this.refresh}}),watch:{refresh:function(t){var e=this;t&&(this.data={},this.refreshFeed=!0,this.$nextTick((function(){e.fetchData(),e.refreshFeed=!1})))}},methods:{fetchData:function(){var t=this;this.$http.get("/ajax/profile/featuredetail",{params:{uid:this.profileId}}).then((function(e){if(e.data.ok>0){var i=e.data.data,a={};Object.keys(i).forEach((function(t){i[t]&&(a[t]=Object(n["a"])(Object(n["a"])({},i[t]),{},{list:i[t].list}))})),t.data=a}}))}},created:function(){this.fetchData()},components:{FeatureContent:Bt,FeatureHot:Nt}},zt=Ht,Ut=Object($["a"])(zt,$t,Ct,!1,null,null,null),Gt=Ut.exports,qt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Card",{class:t.$style.box2},[i("div",{class:t.$style.list2},[t._l(t.data,(function(e,a){return i("woo-box",{key:a,class:t.$style.item2,nativeOn:{click:function(i){return t.showVideo(e,e.wang_heng_cluster_media_type)}}},[i("woo-picture",{class:t.$style.pic2,attrs:{"aspect-ratio":"16:9",src:e.card.cover}},[2===e.wang_heng_cluster_media_type?i("div",[i("div",{class:t.$style.album},[t._v("专辑")]),i("woo-fonticon",{class:t.$style.icon1,attrs:{value:"play"}})],1):t._e(),1===e.wang_heng_cluster_media_type?i("div",[i("div",{class:t.$style.duration},[t._v(t._s(e.card.duration))]),i("woo-fonticon",{class:t.$style.icon1,attrs:{value:"play"}})],1):t._e()]),i("woo-box-item",{class:t.$style.cut},[i("div",{class:t.$style.h3,attrs:{title:e.card.title}},[t._v(" "+t._s(e.card.title)+" ")]),i("div",{class:t.$style.h4},[t._v(t._s(t._f("fromNow")(e.card.created_at)))]),2!==e.wang_heng_cluster_media_type?i("div",{class:t.$style.h4},[t._v(" "+t._s(e.card.online_users)+" ")]):t._e()])],1)})),t.toggleLoading?i("woo-box",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.handleVisibilityChange,expression:"handleVisibilityChange"}],attrs:{align:"center",justify:"center"}},[t.isRetry?i("div",{staticClass:"m-tips m-tips-tp cursor",on:{click:t.fetchList}},[t._v(" 网络异常，请稍后点击重试~ ")]):t._e(),t.loading?i("woo-spinner",{staticClass:"loading-icon-size"}):t._e()],1):t._e()],2),t.isEmpty?i("woo-box",{class:t.$style.empty,attrs:{align:"center",justify:"center"}},[i("woo-tip",{attrs:{type:"warn",sort:"vertical"}},[t._v("暂无数据")])],1):t._e()],1),t.isOver?i("Bottom"):t._e()],1)},Wt=[],Qt=(i("a15b"),{name:"profileVideo",props:["refresh"],data:function(){return{cursor:0,data:[],loading:!1,isRetry:!1,isOver:!1,isEmpty:!1,toggleLoading:!0}},computed:Object(n["a"])({},Object(v["c"])(["profileId"])),watch:{refresh:function(t){var e=this;t&&(this.cursor=0,this.data=[],this.loading=!1,this.isRetry=!1,this.isOver=!1,this.isEmpty=!1,this.toggleLoading=!0,this.$nextTick((function(){e.fetchList()})))}},methods:{handleVisibilityChange:function(t,e){!this.loading&&!this.isOver&&t&&e&&this.fetchList()},sec2time:function(t){if(void 0===t||Number.isNaN(t))return"";var e=Math.floor(t/3600),i=Math.floor((t-3600*e)/60),a=Math.floor(t-3600*e-60*i),o=[i,a];return e>0&&o.unshift(e),o.forEach((function(t,e){e>0&&t<10&&(o[e]="0".concat(t))})),o.join(":")},fetchList:function(){var t=this;this.isRetry=!1,-1!==this.cursor?this.loading||(this.loading=!0,this.$http.get("/ajax/profile/getprofilevideolist",{params:{uid:this.profileId,cursor:this.cursor}}).then((function(e){if(e.data.ok>0){var i=e.data.data,a=i.next_cursor,o=i.list;t.cursor=a;var s=[];o.forEach((function(e){if(e.video_detail_vo&&e.video_detail_vo.page_info&&e.video_detail_vo.page_info.media_info){var i,a=e.video_detail_vo.page_info;i=2===e.wang_heng_cluster_media_type?e.cluster_name:a.media_info.titles&&a.media_info.titles.length&&a.media_info.titles[0].title||a.media_info.next_title||e.video_detail_vo.text_raw,s.push(Object(n["a"])(Object(n["a"])({},e),{},{card:{cover:a.page_pic,duration:t.sec2time(a.media_info.duration),created_at:e.video_detail_vo.created_at,title:i,online_users:a.media_info.online_users}}))}})),0===t.data.length&&window.scrollTo(0,0),t.data=t.data.concat(s),0===t.data.length&&-1===t.cursor&&(t.isEmpty=!0),t.data.length&&-1===t.cursor&&(t.isOver=!0),-1!=t.cursor&&(t.toggleLoading=!1,t.$nextTick((function(){t.toggleLoading=!0}))),t.loading=!1}else t.isRetry=!0,t.loading=!1})).catch((function(){t.isRetry=!0,t.loading=!1}))):this.loading=!1},showVideo:function(t,e){var i={};2===e&&(i={recomType:"profile_video",recomParams:{playlist_id:t.cluster_id_str||t.cluster_id}}),this.$Bus.$emit("showViewer",Object(n["a"])({type:"video",data:{content:t.video_detail_vo},needPlayer:!0,scene:"profile_video_mblog"},i))}},components:{Bottom:_t["a"]}}),Jt=Qt,Kt=i("5978");function Yt(t){this["$style"]=Kt["default"].locals||Kt["default"]}var Xt=Object($["a"])(Jt,qt,Wt,!1,Yt,null,null),Zt=Xt.exports,te=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("woo-box",{staticClass:"wbpro-screen-v2",attrs:{align:"center",justify:"between"}},[i("div",[t._v(t._s(t.title))])]),i("feed-scroll",{attrs:{data:t.data,isLoading:t.isLoading,isRetry:t.isRetry,skeleton:t.showSkeleton,hasTransformText:!0,isEmpty:t.isEmpty,hiddenFollowBtn:!t.isOwner,pagetype:"profilefeed",actLogData:{page:"profileArticleTab"},specificTime:!0},on:{loadMoreData:t.loadMoreData}})],1)},ee=[],ie={name:"ProfileArticle",mixins:[L["a"]],props:["refresh","isOwner"],data:function(){return{data:[],isLoading:!1,isRetry:!1,isOver:!1,mblogType:10,isEmpty:!1,showSkeleton:!0,title:"全部文章",page:1,midSet:new Set}},watch:{refresh:function(t){var e=this;t&&(this.data=[],this.isLoading=!1,this.isRetry=!1,this.isEmpty=!1,this.isOver=!1,this.showSkeleton=!0,this.midSet=new Set,this.page=1,this.$nextTick((function(){e.getData(e.mblogType)})))}},methods:{deleteWeibo:function(t){this.data=this.deleteWeiboInList(t,this.data)},handleVisibilityChange:function(t,e){this.isLoading&&t&&e&&this.data.length>0&&!this.isOver&&this.getData(this.mblogType)},getData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;this.isLoading=!0,this.isRetry=!1;var i="/ajax/statuses/mymblog",a={uid:this.$attrs.owner_uid,page:this.page,feature:e};this.$http.get(i,{params:a}).then((function(e){if(e.data.ok>0){var i=e.data.data.list;if(0===t.data.length&&window.scrollTo(0,0),0===i.length)return t.isOver=!0,t.isLoading=!1,void(0===t.data.length&&(t.isEmpty=!0,t.showSkeleton=!1));t.data=t.data.concat(i),t.page++}})).catch((function(e){t.isLoading=!1,t.isRetry=!0}))},loadMoreData:function(){this.getData(this.mblogType)}},created:function(){var t=this;this.$nextTick((function(){t.getData(t.mblogType)}))},components:{FeedScroll:I["default"]}},ae=ie,oe=Object($["a"])(ae,te,ee,!1,null,null,null),ne=oe.exports,se=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("woo-box",{staticClass:"wbpro-screen-v2",attrs:{align:"center",justify:"between"}},[i("div",[t._v(t._s(t.title))])]),i("feed-scroll",{attrs:{data:t.data,isLoading:t.isLoading,isRetry:t.isRetry,skeleton:t.showSkeleton,hasTransformText:!0,isEmpty:t.isEmpty,pagetype:"profilefeed"},on:{loadMoreData:t.loadMoreData}})],1)},re=[],le={name:"ProfileCollection",mixins:[L["a"]],props:["refresh"],data:function(){return{data:[],isLoading:!1,isRetry:!1,isOver:!1,isEmpty:!1,showSkeleton:!0,title:"我的全部收藏（收藏的内容对他人不可见）",page:1,midSet:new Set}},watch:{refresh:function(t){var e=this;t&&(this.data=[],this.isLoading=!1,this.isRetry=!1,this.isEmpty=!1,this.isOver=!1,this.showSkeleton=!0,this.midSet=new Set,this.page=1,this.$nextTick((function(){e.getData()})))}},methods:{deleteWeibo:function(t){this.data=this.deleteWeiboInList(t,this.data)},handleVisibilityChange:function(t,e){this.isLoading&&t&&e&&this.data.length>0&&!this.isOver&&this.getData()},getData:function(){var t=this;this.isLoading=!0,this.isRetry=!1;var e="/ajax/favorites/all_fav",i={uid:this.$attrs.owner_uid,page:this.page};this.$http.get(e,{params:i}).then((function(e){if(e.data.ok>0){var i=e.data.data;if(0===t.data.length&&window.scrollTo(0,0),0===i.length)return t.isOver=!0,t.isLoading=!1,void(0===t.data.length&&(t.isEmpty=!0,t.showSkeleton=!1));var a,o=Object(S["a"])(i);try{for(o.s();!(a=o.n()).done;){var n=a.value;n.deleted&&(n.deletedData={type:"fav",text:"取消收藏"})}}catch(s){o.e(s)}finally{o.f()}t.data=t.data.concat(i),t.page++}})).catch((function(e){t.isLoading=!1,t.isRetry=!0}))},loadMoreData:function(){this.getData()}},created:function(){var t=this;this.$nextTick((function(){t.getData()}))},components:{FeedScroll:I["default"]}},ce=le,ue=Object($["a"])(ce,se,re,!1,null,null,null),de=ue.exports,he=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Card",{class:t.$style.box1},[t.isEmpty?t._e():i("woo-box",{attrs:{old:"",items:4,"gap-row":4,"gap-col":4}},[t._l(t.data,(function(e,a){return i("woo-box-item",{key:a,class:t.$style.item1,nativeOn:{click:function(i){return t.showVideo(e)}}},[i("woo-picture",{class:t.$style.pic1,attrs:{"aspect-ratio":1.248,src:e.cover}},[i("woo-box",{class:t.$style.pos1,attrs:{align:"center",justify:"between",direction:"x-r"}},[i("woo-box",{class:t.$style.like,attrs:{align:"center"}},[i("woo-fonticon",{attrs:{value:"likeFlat"}}),i("span",{class:t.$style.likenum},[t._v(t._s(e.like))])],1),1===e.visible?i("woo-fonticon",{attrs:{value:"visibilitySelf"}}):t._e(),6===e.visible?i("woo-fonticon",{attrs:{value:"visibilityFriend"}}):t._e(),10===e.visible?i("woo-fonticon",{attrs:{value:"visibilityFans"}}):t._e()],1),i("woo-fonticon",{class:t.$style.icon1,attrs:{value:"play"}})],1)],1)})),t.toggleLoading?i("woo-box",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:t.handleVisibilityChange},expression:"{\n          callback: handleVisibilityChange\n        }"}],attrs:{align:"center",justify:"center"}},[t.isRetry?i("div",{staticClass:"m-tips m-tips-tp cursor",on:{click:t.fetchList}},[t._v(" 网络异常，请稍后点击重试~ ")]):t._e(),t.loading?i("woo-spinner",{staticClass:"loading-icon-size"}):t._e()],1):t._e()],2),t.isEmpty?i("woo-box",{class:t.$style.empty,attrs:{align:"center",justify:"center"}},[i("woo-tip",{attrs:{type:"warn",sort:"vertical"}},[t._v("暂无数据")])],1):t._e()],1),t.isOver?i("Bottom"):t._e()],1)},pe=[],fe={name:"profileMiniVideo",props:["refresh"],data:function(){return{cursor:0,data:[],loading:!1,isRetry:!1,isOver:!1,isEmpty:!1,toggleLoading:!0}},computed:Object(n["a"])({},Object(v["c"])(["profileId"])),watch:{refresh:function(t){var e=this;t&&(this.cursor=0,this.data=[],this.loading=!1,this.isRetry=!1,this.isOver=!1,this.$nextTick((function(){e.fetchList()})))}},methods:{showVideo:function(t){if(t.mblog.page_info&&t.mblog.page_info.slide_cover&&t.mblog.page_info.slide_cover.slide_videos||t.mblog.page_info&&t.mblog.page_info.media_info){var e={recomType:"profile_mini_video",recomParams:{uid:this.profileId,type:"mblog"}};this.$Bus.$emit("showViewer",Object(n["a"])({type:"video",data:{content:t.mblog},needPlayer:!0,scene:"profile_video_mblog"},e))}else{var i=function(t){return t.slide_cover.slides.map((function(t){return Object(n["a"])(Object(n["a"])({},t),{},{normal:{url:t.url},large:{url:t.url}})}))};this.$Bus.$emit("showViewer",{type:"image",data:{pics:i(t.mblog.page_info),index:0,content:t.mblog}})}},handleVisibilityChange:function(t,e){!this.loading&&!this.isOver&&t&&e&&this.fetchList()},fetchList:function(){var t=this;this.isRetry=!1,-1!==this.cursor?this.loading||(this.loading=!0,this.$http.get("/ajax/profile/gettinyvideo",{params:{uid:this.profileId,cursor:this.cursor,count:20}}).then((function(e){if(e.data.ok>0){var i=e.data.data,a=i.next_cursor,o=i.list,n=void 0===o?{}:o;t.cursor=a;var s=[];n.forEach((function(t){if(t.mid){var e=t;if(e&&e.page_info){var i=e.page_info;if(i.media_info&&s.push({cover:i.page_pic,like:Object(d["b"])(e.attitudes_count,1,"zh-CN"),visible:e.visible.type,type:"mblog",mblog:e}),i.slide_cover&&i.slide_cover.slides&&i.slide_cover.slides.length){var a=i.slide_cover.slides[0];s.push({cover:a.url,like:Object(d["b"])(e.attitudes_count,1,"zh-CN"),visible:e.visible.type,type:"segment",mblog:e})}}}})),0===t.data.length&&window.scrollTo(0,0),t.data=t.data.concat(s),0===t.data.length&&-1===t.cursor&&(t.isEmpty=!0),t.data.length&&-1===t.cursor&&(t.isOver=!0),-1!=t.cursor&&(t.toggleLoading=!1,t.$nextTick((function(){t.toggleLoading=!0}))),t.loading=!1}else t.isRetry=!0,t.loading=!1})).catch((function(e){t.isRetry=!0,t.loading=!1}))):this.loading=!1}},created:function(){this.fetchList()},components:{Bottom:_t["a"]}},me=fe,ve=i("5a2e");function _e(t){this["$style"]=ve["default"].locals||ve["default"]}var ge=Object($["a"])(me,he,pe,!1,_e,null,null),be=ge.exports,ye=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("VideoTab",{on:{"change-tab":t.changeTab}}),i(t.componentName,{tag:"component",class:t.$style.content,attrs:{"page-type":t.pageType,"page-data":t.pageData,"is-pay":t.isPayData}})],1)},we=[],xe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"tabContainer",class:t.$style.tab},[i("woo-box",{ref:"videoTabs",class:t.$style.tcon,style:t.tabStyle,attrs:{align:"center"}},[i("button",{class:[t.$style.btn,(!t.curTab||"all"===t.curTab)&&t.$style.btncurr],on:{click:function(e){return t.changeTab("all")}}},[t._v(" 全部视频 ")]),i("button",{class:[t.$style.btn,t.$style.center,"like"===t.curTab&&t.$style.btncurr],on:{click:t.changeToLikeTab}},[i("woo-fonticon",{class:t.$style.icon,attrs:{value:t.likeIcon}}),t._v("赞过的视频 ")],1),t._l(t.collectionList,(function(e,a){return i("button",{key:a,class:[t.$style.btn,t.$style.center,"collection"===t.curTab&&t.curCid===e.id_str&&t.$style.btncurr],on:{click:function(i){return t.changeTab("collection",e.id_str,e.is_pay)}}},[i("woo-fonticon",{class:t.$style.icon,attrs:{value:"vcItem"}}),t._v(t._s(e.name)+" ")],1)}))],2),t.showLeftArrow?i("woo-box",{class:[t.$style.tbtn,t.$style.tbtnl],attrs:{align:"center"},nativeOn:{click:function(e){return t.scrollIntoLeft(e)}}},[i("button",{class:t.$style.btna},[i("woo-fonticon",{class:t.$style.icona,attrs:{value:"angleLeft"}})],1),i("div",{class:t.$style.tline})]):t._e(),t.showRightArrow?i("woo-box",{class:[t.$style.tbtn,t.$style.tbtnr],attrs:{align:"center"},nativeOn:{click:function(e){return t.scrollIntoRight(e)}}},[i("div",{class:t.$style.tline}),i("button",{class:t.$style.btna},[i("woo-fonticon",{class:t.$style.icona,attrs:{value:"angleRight"}})],1)]):t._e()],1)},ke=[],$e=i("8d7e");function Ce(){var t=300,e=Object(q["n"])(null),i=Object(q["n"])(null),a=0,o=0,n=42,s=Object(q["n"])(0),r=Object(q["n"])(!1),l=Object(q["n"])(!1),c=Object(q["a"])((function(){return{transform:"translate(".concat(s.value,"px)"),transition:"transform  0.5s"}})),u=function(){o>=a&&(l.value=!0)},d=function(){s.value+=t,s.value>0&&(s.value=0),u()},h=function(){o-a+s.value-n>t?s.value-=t:(s.value-=o+s.value-a,l.value=!1)};Object(q["s"])(s,(function(t){r.value=0!==t}));var p=function(){var t;o=null===(t=i.value)||void 0===t?void 0:t.$el.clientWidth,u()};return Object(q["k"])((function(){a=e.value.clientWidth})),{tabContainer:e,videoTabs:i,setTabArrow:u,showLeftArrow:r,showRightArrow:l,updateTabWidth:p,scrollIntoLeft:d,scrollIntoRight:h,tabStyle:c}}var Oe={setup:function(){var t=Object(q["d"])().proxy,e=Object($e["b"])(["profileId"]),i=e.profileId,a=Object(q["n"])([]),o=Object(q["n"])(""),s=0,r="",l=Object(q["n"])(""),c=Object(q["n"])(""),u=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;l.value=e,"collection"===e&&(c.value=i),t.$emit("change-tab",e,i,a)},d=Ce(),h=function(){s?u("like"):t.$_w_toast({type:"warn",message:r})};return Object(q["h"])((function(){t.$http.get("/ajax/profile/getVideoTab",{params:{uid:i.value}}).then((function(t){t.data.ok>0&&(a.value=t.data.data.playlists||[],o.value=t.data.data.attitude_icon,s=t.data.data.attitude_visible,r=t.data.data.attitude_msg,Object(q["f"])((function(){d.updateTabWidth()})))}))})),Object(n["a"])(Object(n["a"])({collectionList:a,likeIcon:o,changeTab:u,curTab:l,curCid:c},d),{},{changeToLikeTab:h})}},je=Oe,Te=i("0f49");function De(t){this["$style"]=Te["default"].locals||Te["default"]}var Se=Object($["a"])(je,xe,ke,!1,De,null,null),Ie=Se.exports,Le=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",["like"===t.$route.query.videotab_subtype?i("like-title",{attrs:{"is-owner":t.isOwner,status:t.attitudePrivacy},on:{"update-status":function(e){return t.attitudePrivacy=e}}}):t._e(),i("WaterFall",{attrs:{data:t.data,loading:t.loading,isRetry:t.isRetry},on:{loadmore:t.loadmore},scopedSlots:t._u([{key:"default",fn:function(e){return[i("Card1",{attrs:{data:e.item,aspectRatio:t.getAspectRatio(e.item)},on:{"show-video":function(i){return t.handleShowVideo(e.item)}}})]}}])}),0!==t.data.length||t.loading?t._e():i("woo-box",{class:t.$style.empty,attrs:{align:"center",justify:"center"}},[i("woo-tip",{attrs:{type:"warn",sort:"vertical"}},[t._v("暂无内容")])],1)],1)},Be=[],Pe=i("3835"),Ae=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"waterfall"},[i("Waterfall",{class:t.$style.wrap,attrs:{options:t.options}},t._l(t.data,(function(e,a){return i("WaterfallItem",{key:a,class:t.$style.item},[t._t("default",null,{item:e})],2)})),1),t.loading?i("woo-box",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:t.handleVisibilityChange,intersection:{rootMargin:"500px 0px"}},expression:"{\n      callback: handleVisibilityChange,\n      intersection: {\n        rootMargin: '500px 0px'\n      }\n    }"}],attrs:{align:"center",justify:"center"}},[t.isRetry?i("woo-tip",{class:t.$style.tipbox,attrs:{type:"warn",sort:"simple"}},[t._v(" 内容加载失败，请点击重试 ")]):t._e(),i("woo-spinner",{class:t.$style.loadingIcon})],1):t._e()],1)},Ee=[],Me=i("eae8"),Fe={name:"waterfall",props:{data:{type:Array,default:function(){return[]}},col:{type:Number,default:3},loading:{type:Boolean,default:!1},isOver:{type:Boolean,default:!1},isRetry:{type:Boolean,default:!1}},setup:function(t){var e=Object(q["d"])().proxy,i=Object(q["n"])(null),a=Object(q["m"])({}),o=function(i,a){t.loading&&!t.isOver&&i&&a&&t.data.length>0&&e.$emit("loadmore")};return Object(q["k"])((function(){})),Object(q["i"])((function(){})),{waterfall:i,options:a,handleVisibilityChange:o}},components:{Waterfall:Me["Waterfall"],WaterfallItem:Me["WaterfallItem"]}},Re=Fe,Ve=i("3932");function Ne(t){this["$style"]=Ve["default"].locals||Ve["default"]}var He,ze,Ue=Object($["a"])(Re,Ae,Ee,!1,Ne,null,null),Ge=Ue.exports,qe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Card",{class:t.$style.cutout,attrs:{bottomGap:!1}},[i("woo-picture",{class:t.$style.item,attrs:{src:t.pageInfo.page_pic,"aspect-ratio":t.aspectRatio},nativeOn:{click:function(e){return t.showVideo(e)}}},[t.isCocreate?i("div",{class:t.$style.cocreate},[i("span",[t._v("共创")])]):i("Icon",{attrs:{type:t.data.snap_video_state}}),i("woo-box",{class:t.$style.cpt,attrs:{justify:"between"}},[i("span",[t._v(t._s(t.mediaInfo.online_users))]),i("span",[t._v(t._s(t.timeFormat(t.mediaInfo.duration)))])])],1),i("div",{class:t.$style.ccon},[i("div",{class:[t.textFixedHeight&&t.$style.fixedHeight,t.$style.cct1,t.$style.cut2],attrs:{title:t.title},on:{click:t.showVideo}},[t._v(" "+t._s(t.title)+" ")]),t.showAuthor?i("woo-box",{class:t.$style.cconin,attrs:{align:"center"}},[i("woo-avatar",{attrs:{size:20,src:t.user.avatar_hd,verified:t.getWeiboVerifiedIcon(t.user)}}),i("woo-box-item",{class:t.$style.cutout,attrs:{align:"center"}},[i("div",{class:[t.$style.cct2,t.$style.cut1]},[t._v(" "+t._s(t.user.screen_name)+" ")])]),i("div",{class:t.$style.cct3},[i("woo-like",{attrs:{count:t.fanNumberFormat(t.data.attitudes_count)}})],1)],1):t._e()],1)],1)},We=[],Qe=(i("2ca0"),{props:{type:{type:[String,Number],default:0}},setup:function(t){var e={NORMAL:"",PAYMENT:4,EXCLUSIVE:1,FIRST:3,TOP:2,V_PLUS:4},i={NORMAL:"",PAYMENT:"付费",EXCLUSIVE:"独家",FIRST:"首发",TOP:"置顶",V_PLUS:"专属"},a=i[t.type],o=Object(q["r"])(),n="tag".concat(e[t.type]);return function(){return Object(q["e"])("span",{class:[o.tag,o[n]]},[a])}}}),Je=Qe,Ke=i("ec54");function Ye(t){this["$style"]=Ke["default"].locals||Ke["default"]}var Xe=Object($["a"])(Je,He,ze,!1,Ye,null,null),Ze=Xe.exports,ti=i("460b"),ei=i("cc8d"),ii={props:{data:{type:Object,default:function(){return{}}},showAuthor:{type:Boolean,default:!0},fixedRatio:{type:Boolean,default:!1},aspectRatio:{type:String,default:"16:9"},recomScene:{type:String},textFixedHeight:{type:Boolean}},setup:function(t){var e=Object(q["d"])().proxy,i=Object(q["a"])((function(){var e;return(null===(e=t.data)||void 0===e?void 0:e.user)||{}})),a=Object(q["a"])((function(){var e;return(null===(e=t.data)||void 0===e?void 0:e.page_info)||{}})),o=Object(q["a"])((function(){var t;return(null===(t=a.value)||void 0===t?void 0:t.media_info)||{}})),n=Object(q["a"])((function(){var t,e;return 1===(null===(t=a.value.media_info)||void 0===t?void 0:t.cooperate_video)&&1===(null===(e=a.value.media_info)||void 0===e?void 0:e.cooperate_video_status)})),s=Object(q["a"])((function(){var t;return null===(t=a.value.page_id)||void 0===t?void 0:t.startsWith("231418")})),r=Object(q["a"])((function(){var e,i,a,n=null===(e=t.data)||void 0===e?void 0:e.text_raw,s=o.value,r=s.titles,l=s.next_title;(l&&(n=l),(null===r||void 0===r?void 0:r.length)&&(null===(i=r[0])||void 0===i?void 0:i.title))&&(n=null===(a=r[0])||void 0===a?void 0:a.title);return n})),l=Object($e["b"])(["profileId"]),c=(l.profileId,function(){e.$emit("show-video")});return{user:i,pageInfo:a,mediaInfo:o,fanNumberFormat:ti["a"],timeFormat:ti["b"],getWeiboVerifiedIcon:ei["a"],title:r,showVideo:c,isVPlus:s,isCocreate:n}},components:{Icon:Ze}},ai=ii,oi=i("a13b");function ni(t){this["$style"]=oi["default"].locals||oi["default"]}var si=Object($["a"])(ai,qe,We,!1,ni,null,null),ri=si.exports,li=function(t){var e=function(e,i,a){t.$Bus.$emit("showViewer",{type:"video",data:{content:e},needPlayer:!0,scene:"profile_video_mblog",recomType:"profile_new_video",recomScene:i,recomParams:Object(n["a"])({},a)})};return{showVideo:e}},ci=li,ui=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{class:t.$style.titbox,attrs:{align:"center",justify:"between"}},[i("div",{class:t.$style.tit},[t._v(" 赞"),t.total?i("span",[t._v("（"+t._s(t.total)+"）")]):t._e()]),t.VISIBLE_STATUS[t.status]&&t.isOwner?i("woo-pop",{class:t.$style.limits,attrs:{show:t.showPop,align:"end",gap:"4"},on:{"click-outside":function(e){t.showPop=!1}},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-box",{attrs:{align:"center"},nativeOn:{click:function(e){return t.handleShowPop(e)}}},[i("div",{class:t.$style.text},[t._v(" "+t._s(t.VISIBLE_STATUS[t.status])+" ")]),i("woo-fonticon",{class:t.$style.angle,attrs:{value:"angleDown"}})],1)]},proxy:!0}],null,!1,1443231516)},[i("woo-pop-wrap",{class:t.$style.pop},t._l(t.VISIBLE_STATUS,(function(e,a){return i("woo-pop-item",{key:a,nativeOn:{click:function(e){return t.changeStatus(a)}}},[t._v(" "+t._s(e)+" ")])})),1)],1):t._e()],1)},di=[],hi={0:"公开可见",1:"关注的人可见",2:"粉丝可见",3:"仅自己可见"},pi={props:{total:{type:Number,default:0},status:{type:[Number,String]},isOwner:{type:Boolean,default:!1}},setup:function(){var t=Object(q["d"])().proxy,e=Object(q["n"])(!1),i=function(){e.value=!e.value},a=function(i){t.$http.post("/ajax/profile/setAttitudePrivacy",{type:i}).then((function(a){var o,n;a.data.ok>0&&(null===(o=a.data.data)||void 0===o?void 0:o.result)&&(t.$_w_toast({type:"success",message:(null===(n=a.data.data)||void 0===n?void 0:n.msg)||"设置成功"}),e.value=!1,t.$emit("update-status",i))}))};return{showPop:e,handleShowPop:i,changeStatus:a,VISIBLE_STATUS:hi}}},fi=pi,mi=i("318c");function vi(t){this["$style"]=mi["default"].locals||mi["default"]}var _i=Object($["a"])(fi,ui,di,!1,vi,null,null),gi=_i.exports,bi={vertical:"1.33",horizontal:"0.75"},yi={props:{pageType:{type:String,default:""}},setup:function(t){var e=Object(q["d"])().proxy,i=ci(e),a=i.showVideo,o=Object(q["n"])([]),n=Object($e["b"])(["profileId","config"]),s=n.profileId,r=n.config,l=Object(q["n"])(!0),c=Object(q["n"])(!1),u=Object(q["n"])(!1),d=Object(q["n"])(0),h=Object(q["n"])(1),p=0,f=function(t){var e,i,a=(null===t||void 0===t||null===(e=t.page_info)||void 0===e||null===(i=e.media_info)||void 0===i?void 0:i.video_orientation)||"vertical";return a&&bi[a]},m="/ajax/profile/getWaterFallContent";Object(q["s"])((function(){return t.pageType}),(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",e={like:"/ajax/profile/getLikeList",all:"/ajax/profile/getWaterFallContent"};m=e[t]}),{immediate:!0});var v=function(){c.value=!1,e.$http.get(m,{params:{uid:s.value,cursor:p}}).then((function(t){if(t.data.ok>0){0===o.value.length&&window.scrollTo(0,0),l.value=!0;var i=t.data.data,a=i.list,n=void 0===a?[]:a,s=i.next_cursor,f=i.attitude_privacy,m=i.is_owner;if(p=s,o.value=o.value.concat(b(n)),u.value=m,d.value=f,-1===+p&&(l.value=!1),h.value>=2&&!r.value.isNormal)return e.$Bus.$emit("loginPop"),void(l.value=!1);h.value++}else c.value=!0})).catch((function(){l.value=!0,c.value=!1}))},_=function(){v()},g=function(e){a(e,t.pageType,{list:o.value,uid:s.value,next_cursor:p})},b=function(t){var e=JSON.parse(JSON.stringify(t));if(t.length){var i,a=Object(S["a"])(t.entries());try{for(a.s();!(i=a.n()).done;){var o,n,s=Object(Pe["a"])(i.value,2),r=s[0],l=s[1],c=0;if(null===l||void 0===l||null===(o=l.mix_media_info)||void 0===o||null===(n=o.items)||void 0===n?void 0:n.length){var u,d=Object(S["a"])(l.mix_media_info.items);try{for(d.s();!(u=d.n()).done;){var h=u.value;if("video"===h.type){var p=JSON.parse(JSON.stringify(l));p.page_info=h.data,delete p.mix_media_info,c++,e.splice(r,0,p)}}}catch(f){d.e(f)}finally{d.f()}}c&&e.splice(r+c,1)}}catch(f){a.e(f)}finally{a.f()}}return e};return Object(q["k"])((function(){v()})),{data:o,loadmore:_,loading:l,isRetry:c,getAspectRatio:f,handleShowVideo:g,isOwner:u,attitudePrivacy:d}},components:{WaterFall:Ge,Card1:ri,LikeTitle:gi}},wi=yi,xi=i("3f70");function ki(t){this["$style"]=xi["default"].locals||xi["default"]}var $i=Object($["a"])(wi,Le,Be,!1,ki,null,null),Ci=$i.exports,Oi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("woo-box",{class:t.$style.titbox,attrs:{align:"center"}},t._l(t.headerTab,(function(e,a){return i("div",{key:a,class:[t.$style.tit,t.curSort!==e.code&&t.$style.notcurr],on:{click:function(i){return t.changeSort(e.code)}}},[t._v(" "+t._s(e.name)+" ")])})),0),t.pageSegments.length&&t.curSort===t.DEFAULTCODE?i("CollectionChapter",{attrs:{data:t.pageSegments},on:{"change-chapter":t.handleChangeChapter}}):t._e(),i("woo-box",{attrs:{old:"",items:3,"gap-row":8,"gap-col":8}},t._l(t.collectionList,(function(e,a){return i("woo-box-item",{key:a,class:[t.$style.cutout,t.$style.cditem]},[i("Card1",{attrs:{aspectRatio:"16:9","show-author":!1,data:e,fixedRatio:"","text-fixed-height":""},on:{"show-video":function(i){return t.handleShowVideo(e)}}})],1)})),1),t.showLoadingIcon?i("woo-box",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:t.handleVisibilityChange,intersection:{rootMargin:"500px 0px"}},expression:"{\n      callback: handleVisibilityChange,\n      intersection: {\n        rootMargin: '500px 0px'\n      }\n    }"}],attrs:{align:"center",justify:"center"}},[i("woo-spinner",{class:t.$style.loadingIcon})],1):t._e(),0!==t.collectionList.length||t.loading?t._e():i("woo-box",{class:t.$style.empty,attrs:{align:"center",justify:"center"}},[i("woo-tip",{attrs:{type:"warn",sort:"vertical"}},[t._v("暂无内容")])],1)],1)},ji=[],Ti=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("woo-box",{class:t.$style.clist,attrs:{old:"",items:9,"gap-row":8}},[t._l(t.outerList,(function(e,a){return i("woo-box-item",{key:a,class:t.$style.citembox},[i("button",{class:[t.$style.citem,t.routerCursor===e.first_cursorStr&&t.$style.citemcurr],on:{click:function(i){return t.changeChapter(e)}}},[t._v(" "+t._s(e.part_name)+" ")])])})),t.innerList.length?i("woo-box-item",{class:t.$style.citembox},[i("woo-pop",{class:t.$style.pop2,attrs:{show:t.allChapterVisible,align:"end",gap:6},on:{"click-outside":function(){return t.allChapterVisible=!1}},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("button",{class:[t.$style.citem,t.$style.citemmore],on:{click:t.handleShowAllChapter}},[t._v(" 全部"),i("woo-fonticon",{class:t.$style.iconl,attrs:{value:"angleDown"}})],1)]},proxy:!0}],null,!1,2760943064)},[i("div",{class:t.$style.pop2in},[i("div",{class:t.$style.pop2con},[i("woo-box",{attrs:{old:"",items:3,"gap-row":8,"gap-col":8}},t._l(t.innerList,(function(e,a){return i("woo-box-item",{key:a},[i("button",{class:[t.$style.citem,t.routerCursor===e.first_cursorStr&&t.$style.citemcurr],on:{click:function(i){return t.changeChapter(e)}}},[t._v(" "+t._s(e.part_name)+" ")])])})),1)],1)])])],1):t._e()],2)],1)},Di=[],Si=9,Ii={props:{data:{type:Array,default:function(){return[]}}},setup:function(t){var e,i,a=Object(q["d"])().proxy,o=Object(q["n"])(!1),n=Object(q["n"])(t.data),s=Object(q["n"])([]),r=Object(q["n"])(a.$route.query.first_cursor);(t.data.length>Si&&(n.value=t.data.slice(0,Si-1),s.value=t.data.slice(Si-1)),a.$route.query.first_cursor)||(a.$router.replace({query:{tabtype:"newVideo",first_cursor:null===(e=n.value[0])||void 0===e?void 0:e.first_cursorStr}}),r.value=null===(i=n.value[0])||void 0===i?void 0:i.first_cursorStr);var l=function(){o.value=!o.value},c=function(t){a.$router.replace({query:{tabtype:"newVideo",first_cursor:null===t||void 0===t?void 0:t.first_cursorStr}}),r.value=null===t||void 0===t?void 0:t.first_cursorStr,a.$emit("change-chapter",t),o.value&&l()};return{allChapterVisible:o,handleShowAllChapter:l,outerList:n,innerList:s,changeChapter:c,routerCursor:r}}},Li=Ii,Bi=i("b797");function Pi(t){this["$style"]=Bi["default"].locals||Bi["default"]}var Ai=Object($["a"])(Li,Ti,Di,!1,Pi,null,null),Ei=Ai.exports,Mi=0,Fi={props:{pageData:{type:String,default:""},isPay:{type:Number,default:0}},setup:function(t){var e=Object(q["d"])().proxy,i=ci(e),a=i.showVideo,o=Object($e["b"])(["profileId"]),s=o.profileId,r=Object(q["n"])(t.pageData),l=Object(q["n"])([]),c=Object(q["n"])([]),u=Object(q["n"])([]),d=e.$route.query.first_cursor,h=!0,p=Object(q["n"])(!0),f=Object(q["n"])(!1),m=Object(q["n"])(Mi),v=Object(q["a"])((function(){return m.value===Mi?0===l.value.length&&!f.value&&p.value:!f.value&&p.value})),_=function(){p.value=!0,f.value=!1,l.value=[],d=""},g=function(t){m.value=+t,_(),b()},b=function(){e.$http.get("/ajax/profile/getCollectionList",{params:{cid:r.value,cursor:d,tab_code:m.value,has_header:h}}).then((function(e){if(h=!1,e.data.ok>0){var i=e.data.data.list||[];t.isPay&&(i=i.map((function(t){return Object(n["a"])(Object(n["a"])({},t),{},{snap_video_state:"PAYMENT"})}))),l.value=l.value.concat(i),e.data.data.header&&(c.value=e.data.data.header.tabs,u.value=e.data.data.header.page_segments),d=e.data.data.next_cursor,-1!==+d&&m.value!==Mi||(p.value=!1,f.value=!0)}})).catch((function(){}))},y=function(t,e){p.value&&t&&e&&l.value.length>0&&b()},w=function(t){_(),d=t.first_cursor,b()},x=function(t){a(t,"collection",{list:l.value,uid:s.value,next_cursor:d,tab_code:m.value,cid:r.value})};return Object(q["h"])((function(){b()})),{collectionList:l,handleVisibilityChange:y,isOver:f,changeSort:g,curSort:m,headerTab:c,DEFAULTCODE:Mi,pageSegments:u,handleChangeChapter:w,handleShowVideo:x,loading:p,showLoadingIcon:v}},components:{Card1:ri,CollectionChapter:Ei}},Ri=Fi,Vi=i("b5d7");function Ni(t){this["$style"]=Vi["default"].locals||Vi["default"]}var Hi=Object($["a"])(Ri,Oi,ji,!1,Ni,null,null),zi=Hi.exports,Ui={setup:function(){var t={all:"WaterFallContent",like:"WaterFallContent",collection:"CollectionContent"},e=Object(q["n"])("all"),i=Object(q["n"])(""),a=Object(q["n"])(0),o=Object(q["n"])(t["all"]),n=function(n,s){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e.value=n,i.value=s,a.value=r;var l=t[n];l===o.value?(o.value="",Object(q["f"])((function(){o.value=l}))):o.value=l};return{changeTab:n,componentName:o,pageType:e,pageData:i,isPayData:a}},components:{WaterFallContent:Ci,VideoTab:Ie,CollectionContent:zi}},Gi=Ui,qi=i("e66c");function Wi(t){this["$style"]=qi["default"].locals||qi["default"]}var Qi=Object($["a"])(Gi,ye,we,!1,Wi,null,null),Ji=Qi.exports,Ki=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.isLoading||!t.isLoading&&t.soulList.length?i("SuperTopicModule",{attrs:{title:"精华帖",weiboList:t.soulList}}):t._e(),i("SuperTopicModule",{attrs:{title:"热门帖",weiboList:t.hotList,showMoreButton:t.hotTargetUrl,moreButtonText:"进入超话查看更多",isEmpty:t.isEmpty,feedStyleType:"normal"},on:{"more-button-click":t.onMoreButtonClick}})],1)},Yi=[],Xi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"feed-weibo",class:t.$style.featureBlock},[i("div",{staticClass:"wbpro-screen-box"},[i("woo-box",{staticClass:"wbpro-screen",attrs:{align:"center",justify:"between"}},[i("div",[t._v(" "+t._s(t.title)+" ")])]),i("woo-divider",{attrs:{"gap-start":18}})],1),i("feed-scroll",{class:t.$style.feed,attrs:{"joint-position":"top","feed-style-type":t.feedStyleType,data:t.weiboList,noInterval:!0,skeleton:!0,hiddenFollowBtn:!0,feedRadius:"bottom-left,bottom-right",showScrollBottom:!1,isInCards:!0,isEmpty:t.isEmpty,isLoading:t.isLoading}}),t.showMoreButton?i("woo-box",{class:t.$style.more,attrs:{align:"center",justify:"center"}},[i("woo-box",{class:t.$style.moreText,attrs:{align:"center",justify:"center"}},[i("div",{on:{click:function(e){return t.$emit("more-button-click")}}},[t._v(" "+t._s(t.moreButtonText)+" ")]),i("woo-fonticon",{class:t.$style.icon2,attrs:{value:"angleRight"}})],1)],1):t._e()],1)},Zi=[],ta={props:{title:String,weiboList:Array,moreButtonText:String,showMoreButton:Boolean,isEmpty:Boolean,isLoading:Boolean,feedStyleType:{type:String,default:"noGap"}},components:{FeedScroll:I["default"]}},ea=ta,ia=i("4a54");function aa(t){this["$style"]=ia["default"].locals||ia["default"]}var oa=Object($["a"])(ea,Xi,Zi,!1,aa,null,null),na=oa.exports,sa={setup:function(){var t=Object(q["d"])().proxy,e=Object($e["b"])(["profileId"]),i=e.profileId,a=Object(q["n"])([]),o=Object(q["n"])([]),n=Object(q["n"])(""),s=Object(q["n"])(!1),r=Object(q["n"])(!0),l=function(){t.$http.get("/ajax/profile/getSuperTopicInfo",{params:{owner_uid:i.value}}).then((function(t){var e,i,l,c,u,d;t.data.ok>0&&(a.value=(null===(e=t.data.data)||void 0===e||null===(i=e.soul)||void 0===i?void 0:i.statuses)||[],o.value=(null===(l=t.data.data)||void 0===l||null===(c=l.hot)||void 0===c?void 0:c.statuses)||[],n.value=null===(u=t.data.data)||void 0===u||null===(d=u.hot)||void 0===d?void 0:d.url,0===o.value.length&&(s.value=!0));r.value=!1})).catch((function(){r.value=!1}))},c=function(){window.open(n.value)};return Object(q["h"])((function(){l()})),{profileId:i,soulList:a,hotList:o,onMoreButtonClick:c,hotTargetUrl:n,isEmpty:s,isLoading:r}},components:{SuperTopicModule:na}},ra=sa,la=i("391e");function ca(t){this["$style"]=la["default"].locals||la["default"]}var ua=Object($["a"])(ra,Ki,Yi,!1,ca,null,null),da=ua.exports,ha=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.slideList.length?i("woo-box",{class:t.$style.box},[i("woo-box",{class:t.$style.wrap,nativeOn:{mouseenter:function(e){return t.mouseEvent(!0)},mouseleave:function(e){return t.mouseEvent(!1)}}},[i("transition-group",{attrs:{name:t.animationName}},[t._l(t.slideList,(function(e,a){return[a===t.slideIndex&&e.img_small?i("woo-box-item",{key:a,class:t.$style.imageBox},[e.link?i("a-link",{attrs:{"link-type":"old","style-type":"none",href:e.link,target:"_blank"}},[i("woo-picture",{key:a,class:t.$style.image,attrs:{"hover-mask":!1,src:e.img_small}})],1):i("woo-picture",{key:a,class:t.$style.image,attrs:{"hover-mask":!1,src:e.img_small}})],1):t._e()]}))],2),t.showArrow&&t.slideList.length>1?i("woo-box",{class:t.$style.arrowBox,attrs:{align:"center",justify:"between"}},[i("woo-box",{class:[t.$style.arrow,t.$style.arrowLeft],attrs:{align:"center"},nativeOn:{click:function(e){return t.prev()}}},[i("woo-fonticon",{class:t.$style.angleLeft,attrs:{value:"angleLeft"}})],1),i("woo-box",{class:[t.$style.arrow,t.$style.arrowRight],attrs:{align:"center"},nativeOn:{click:function(e){return t.next()}}},[i("woo-fonticon",{class:t.$style.angleRight,attrs:{value:"angleRight"}})],1)],1):t._e(),t.slideList.length>1?i("woo-box",{class:t.$style.dotBox,attrs:{justify:"center"}},t._l(t.slideList.length,(function(e,a){var o;return i("woo-box",{key:a,class:(o={},o[t.$style.dot]=!0,o[t.$style.highlight]=a===t.slideIndex,o),nativeOn:{click:function(e){return t.handleDot(a)}}})})),1):t._e()],1)],1):t._e()},pa=[],fa={props:{uid:{type:String}},setup:function(t,e){var i=e.root,a=Object(q["p"])(t),o=a.uid,n=Object(q["n"])(null),s=Object(q["n"])(0),r=Object(q["n"])([]),l=Object(q["n"])(!1),c=Object(q["n"])("slideRight");Object(q["k"])((function(){u(),d(),document.addEventListener("visibilitychange",_)}));var u=function(){i.$http.get("/ajax/profile/getFocusPic",{params:{uid:o.value}}).then((function(t){t.data&&t.data.ok&&t.data.data&&(r.value=t.data.data)}))},d=function(){c.value="slideRight",clearInterval(n.value),n.value=setInterval((function(){s.value++,s.value>r.value.length-1&&(s.value=0)}),3e3)},h=function(){c.value="slideLeft",s.value--,s.value<0&&(s.value=r.value.length-1)},p=function(){c.value="slideRight",s.value++,s.value===r.value.length&&(s.value=0)},f=function(t){t>s.value?c.value="slideRight":t<s.value&&(c.value="slideLeft"),s.value=t},m=function(t){l.value=t,t?v():d()},v=function(){n.value&&clearInterval(n.value),n.value=null},_=function(){"visible"===document.visibilityState?d():v()};return Object(q["i"])((function(){document.removeEventListener("visibilitychange",_),v()})),Object(q["g"])((function(){d()})),Object(q["j"])((function(){v()})),{slideList:r,slideIndex:s,showArrow:l,prev:h,next:p,handleDot:f,mouseEvent:m,animationName:c}}},ma=fa,va=(i("f620"),i("b5f0"));function _a(t){this["$style"]=va["default"].locals||va["default"]}var ga=Object($["a"])(ma,ha,pa,!1,_a,null,null),ba=ga.exports,ya=i("0e00"),wa=(i("db1c"),i("bcdd")),xa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.muteuser&&t.muteuser.text&&["feed","home"].includes(t.curTab)?i("woo-panel",{class:[t.$style.muteuser]},[i("a",{attrs:{href:t.muteuser.link,target:"_blank"}},[t._v(t._s(t.muteuser.text))])]):t._e(),t.muteuser&&t.muteuser.complaint&&["feed"].includes(t.curTab)?i("woo-panel",{class:[t.$style.muteuser,t.$style.complaint]},[i("a",{attrs:{href:t.muteuser.complaint.more_link,target:"_blank"}},[i("woo-box",{attrs:{align:"center"}},[i("img",{class:t.$style.icon,attrs:{src:t.muteuser.complaint.icon}}),i("woo-box-item",{attrs:{grow:1}},[i("woo-box",{class:t.$style.content,attrs:{direction:"y",align:"start",justify:"center"}},[i("div",{class:t.$style.text},[t._v(t._s(t.muteuser.complaint.mute_text))]),i("div",{class:t.$style.more_text},[t._v(" "+t._s(t.muteuser.complaint.more_text)+" ")])])],1),i("woo-fonticon",{class:t.$style.angle,attrs:{value:"angleRight"}})],1)],1)]):t._e()],1)},ka=[],$a={props:{curTab:{type:String,default:"feed"},muteuser:{type:Object,default:function(){return{}}}},setup:function(){return{}}},Ca=$a,Oa=i("44e9");function ja(t){this["$style"]=Oa["default"].locals||Oa["default"]}var Ta=Object($["a"])(Ca,xa,ka,!1,ja,null,null),Da=Ta.exports,Sa={metaInfo:function(){return this.userInfo&&this.userInfo.screen_name?{title:"@".concat(this.userInfo.screen_name," 的个人主页")}:{title:"个人主页"}},data:function(){return{userInfo:{},loading:!1,showFollowBtn:!1,curTab:this.$route.query.tabtype||"feed",tabConfig:[],refreshTab:"",muteuser:{},blockText:"",block:!1,blockMe:!1,showRewardModal:!1,rewardInfo:{},showSearch:!1,searchInput:"",scrollShow:1/0}},computed:Object(n["a"])(Object(n["a"])({},Object(v["c"])(["profileId","config"])),{},{isOwner:function(){var t,e;return this.userInfo.id==(null===(t=this.config)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.id)},isEnterpriseUser:function(){return[1,2,3,4,5,6,7].includes(this.userInfo.verified_type)}}),watch:{$route:function(t,e){this.checkUpdate(t,e)&&(this.showFollowBtn=!1,this.fetchUser(),this.searchInput="",this.showSearch=!1),this.curTab=this.$route.query.tabtype||"feed"}},provide:function(){return{uid:this.userInfo.id}},methods:{getWeiboVerifiedIcon:ei["a"],onScroll:function(){var t=this.$refs.panel;if(t){var e=t.getBoundingClientRect();this.showSearch?e.top<-128?this.scrollShow===1/0&&(this.scrollShow=window.scrollY):this.scrollShow=1/0:e.top<80?this.scrollShow===1/0&&(this.scrollShow=window.scrollY):this.scrollShow=1/0}},onExpandSearch:function(){this.showSearch=!0,this.searchInput=""},onCollapsedSearch:function(){this.showSearch=!1,this.searchInput=""},onSearchInput:function(t){this.searchInput=t},onSearchEnter:function(){this.searchInput.trim()?this.$Bus.$emit("getMblogData",{feature:4,q:this.searchInput,title:"正在搜索..."}):this.$Bus.$emit("getMblogData",{feature:0,title:"全部微博"})},onExpandSearchLoc:function(){this.onExpandSearch(),window.scrollTo({top:560,behavior:"smooth"})},onSearchEnterLoc:function(){this.onSearchEnter(),window.scrollTo({top:560,behavior:"smooth"})},handleAfterSetRemark:function(){var t=this;"feed"===this.curTab&&(this.refreshTab=this.curTab,this.$nextTick((function(){t.refreshTab=""})))},clickTab:function(t){var e=this,i=this.tabConfig[t].name;i===this.curTab?(this.refreshTab=i,this.$nextTick((function(){e.refreshTab=""}))):(this.curTab=i,this.refreshTab=""),this.$router.replace({query:{tabtype:this.curTab}})},checkUpdate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("profile"===t.name)return!this.userInfo||!this.userInfo.id||+this.userInfo.id!==+t.params.id;if("nameProfile"===t.name)return!this.userInfo||!this.userInfo.id||this.userInfo.screen_name!==t.params.name;if("customProfile"===t.name){if(this.userInfo&&this.userInfo.id){var e=this.userInfo,i=e.domain,a=e.weihao,o=e.id,n=e.idstr,s=t.params.custom,r=[100206,100505,100406,100306,100606,103505,100605,100106],l=r.find((function(t){return s.indexOf(t)>-1}));if(l){var c=s.slice(6);if(this.userInfo.id===+c)return!1}else if([i,a,o,n].indexOf(t.params.custom)>-1)return!1}return!0}},back:function(){this.$router.back()},isFollowing:function(){this.userInfo=Object.assign({},this.userInfo,{following:!0})},setInvalidUser:function(){this.userInfo={},this.tabConfig=[],this.showFollowBtn=!1,this.blockText="",this.muteuser={},this.$store.dispatch("setProfileUid",""),this.$store.dispatch("setProfileGender","")},fetchUser:function(){var t=this;this.loading=!0,this.muteuser={};var e=this.$route.params,i=e.id,a=e.name,o=e.custom;this.$http.get("/ajax/profile/info",{params:{uid:i,screen_name:a,custom:o}}).then((function(e){if(t.loading=!1,e.data.ok>0){var i,a,o=e.data.data;t.userInfo=o.user,t.block=o.block||!1,t.blockMe=o.block_me||!1,t.userInfo.following||(t.showFollowBtn=!t.userInfo.following),t.tabConfig=o.tabList,t.blockText=o.blockText,t.$store.dispatch("setVerifiedType",t.userInfo.verified_type),t.$store.dispatch("setProfileUid",t.userInfo.id),t.$store.dispatch("setProfileGender",t.userInfo.gender),t.userInfo.is_muteuser&&t.fetchMuteUser(),t.actionLog({uicode:20000366,act_code:4288,ext:"staruid:".concat(t.userInfo.id,"|loginuid:").concat(null===(i=t.config)||void 0===i||null===(a=i.user)||void 0===a?void 0:a.id)})}else t.setInvalidUser()})).catch((function(){t.setInvalidUser()}))},fetchMuteUser:function(){var t=this;this.$http.get("/ajax/profile/getMuteuser",{params:{uid:this.userInfo.idstr}}).then((function(e){e.data.ok>0&&(t.muteuser=e.data.data||{})}))},followChange:function(t){this.$set(this.userInfo,"following",t)},reloadProfile:function(t){"profile"===t&&this.isOwner&&this.fetchUser()},changeProfileTab:function(t){t!==this.curTab&&(this.curTab=t,this.refreshTab="",this.$router.replace({query:{tabtype:"name"}}))},handleRewardModal:function(t){this.showRewardModal=t.show,this.rewardInfo=t.info},handleClose:function(){this.showRewardModal=!1}},created:function(){this.fetchUser(),this.$Bus.$on("reload",this.reloadProfile),this.$Bus.$on("change-profile-tab",this.changeProfileTab),this.$Bus.$on("handleRewardModal",this.handleRewardModal)},activated:function(){window.addEventListener("scroll",this.onScroll)},deactivated:function(){window.removeEventListener("scroll",this.onScroll)},beforeDestroy:function(){this.$Bus.$off("reload",this.reloadProfile),this.$Bus.$off("change-profile-tab",this.changeProfileTab),this.$Bus.$off("handleRewardModal",this.handleRewardModal)},components:{ProfileHeader:j,ProfileFeed:ot,ProfileAlbum:kt,ProfileHome:Gt,ProfileVideo:Zt,ProfileArticle:ne,ProfileCollection:de,ProfileMiniVideo:be,ProfileNewVideo:Ji,ProfileSuperTopic:da,ProfileFocusPic:ba,RewardModal:wa["b"],FollowBtn:ya["a"],SearchBtn:H,Muteuser:Da}},Ia=Sa,La=i("2e71");function Ba(t){this["$style"]=La["default"].locals||La["default"]}var Pa=Object($["a"])(Ia,a,o,!1,Ba,null,null);e["a"]=Pa.exports},c686:function(t,e,i){t.exports={loadingIcon:"WaterFall_loadingIcon_39hUm",tipbox:"WaterFall_tipbox_39XCJ",wrap:"WaterFall_wrap_3dJlk",item:"WaterFall_item_3fJxp"}},c69d:function(t,e,i){"use strict";var a=i("5fc1"),o=i.n(a);e["default"]=o.a},c6ac:function(t,e,i){"use strict";var a=i("0e2c"),o=i.n(a);e["default"]=o.a},c6c6:function(t,e,i){},c6d3:function(t,e,i){"use strict";var a=i("a4f2"),o=i.n(a);e["default"]=o.a},c71b:function(t,e,i){t.exports={bg:"AfterPatch_bg_34rqc",imgtext:"AfterPatch_imgtext_2GY9h",title:"AfterPatch_title_8DyZx",subtext:"AfterPatch_subtext_1iTSN",name:"AfterPatch_name_2nT4T",userinfo:"AfterPatch_userinfo_CouMW",info:"AfterPatch_info_1SqGy",avatar:"AfterPatch_avatar_4kFVN",replay:"AfterPatch_replay_2n1rW",icon:"AfterPatch_icon_3SB54",bgm:"AfterPatch_bgm_3mYmJ",bg1:"AfterPatch_bg1_14cw-"}},c7aa:function(t,e,i){"use strict";var a=i("d263"),o=i.n(a);e["default"]=o.a},c7ac:function(t,e,i){"use strict";var a=i("ce2e"),o=i.n(a);e["default"]=o.a},c854:function(t,e,i){t.exports={itemin:"AssistCreationEntrance_itemin_1GkoF",svg:"AssistCreationEntrance_svg_6z6qg",text:"AssistCreationEntrance_text_jepL5",disabled:"AssistCreationEntrance_disabled_12A0O",svg2:"AssistCreationEntrance_svg2_2AnF1",free:"AssistCreationEntrance_free_2vLCj"}},c885:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.item.idstr?i("div",{staticClass:"wbpro-list"},[i("div",{staticClass:"item1"},[i("woo-box",{staticClass:"item1in"},[i("div",[i("a-link",{directives:[{name:"log",rawName:"v-log:click",value:t.getCommentClickLog(t.item,t.config.uid),expression:"getCommentClickLog(item, config.uid)",arg:"click"}],attrs:{to:"/u/"+t.item.user.id}},[t.item.user?i("woo-avatar",{key:t.item.user.profile_image_url,attrs:{size:34,verified:t.getWeiboVerifiedIcon(t.item.user),src:t.item.user.profile_image_url,usercard:t.item.user.id}}):t._e()],1)],1),i("woo-box-item",{staticClass:"con1"},[i("div",{staticClass:"text"},[t.item.user&&t.item.user.id?i("a-link",{directives:[{name:"log",rawName:"v-log:click",value:t.getCommentClickLog(t.item,t.config.uid),expression:"getCommentClickLog(item, config.uid)",arg:"click"}],attrs:{usercard:t.item.user.id,to:"/u/"+t.item.user.id}},[t._v(t._s(t.item.user.screen_name))]):t._e(),t._v(" :"),i("span",{directives:[{name:"ahref",rawName:"v-ahref"}],domProps:{innerHTML:t._s(t.item.text)},on:{click:function(e){return e.stopPropagation(),t.clickText(e)}}})],1),i("woo-box",{staticClass:"info",attrs:{align:"center",justify:"between"}},[i("woo-box",{attrs:{align:"center"}},[i("a-link",{attrs:{linkType:"old",styleType:"none",href:t.getHref()},on:{click:function(t){t.preventDefault()}}},[i("div",{on:{click:function(e){return t.clickRepostItem()}}},[t._v(" "+t._s(t._f("fromNow")(t.item.created_at,!0))+" ")])]),t.hotRepostTotal>t.index&&t.item.reposts_count>=0&&!t.item.callBackRepost?i("woo-box",{class:t.$style.count,attrs:{align:"center"}},[i("woo-divider",{class:t.$style.line,attrs:{direction:"y"}}),i("span",[t._v("转发 "+t._s(t.convertCount(t.item.reposts_count,1)))])],1):t._e()],1),i("IconList",{attrs:{iconsName:2===t.item.repost_type?t.cancelFastIcon:t.iconsName(t.item.user&&t.item.user.id),widthCount:!0,data:t.iconsData,actLogData:t.actLogData,weiboData:t.weiboData}})],1)],1)],1)],1),t.hotRepostTotal===t.index+1?i("Bottom",{class:t.$style.bottom,attrs:{text:t.hotText}}):t._e()],1):t._e()},o=[],n=(i("99af"),i("5530")),s=i("2f62"),r=i("cc8d"),l=i("c9bf"),c=i("0d47"),u=i("82d7"),d=i("eba1"),h=i("997f"),p={name:"Repost",props:["item","index","hotRepostTotal","actLogData","weiboData"],data:function(){return{showIcons:!1,selectText:"",hotText:"以上为热门转发"}},mixins:[u["a"]],computed:Object(n["a"])(Object(n["a"])({},Object(s["c"])(["config"])),{},{isMy:function(){var t,e;return!!(null===(t=this.weiboData)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.id)&&this.weiboData.user.id===this.config.uid},cancelFastIcon:function(){return[{name:"cancelRepost",title:"取消快转",hover:1}]},iconsData:function(){var t,e=this.item;return Object(h["b"])("",e,null,0,0,null===(t=this.weiboData)||void 0===t?void 0:t.idstr,{isRepost:!0,like_counts:e.attitudes_count})}}),methods:{clickText:function(t){if(this.item.isLongText){var e,i,a=t.target;if(a.classList.contains("expand")||a.classList.contains("collapse"))window.open("/".concat(null===(e=this.item)||void 0===e||null===(i=e.user)||void 0===i?void 0:i.id,"/").concat(this.item.idstr))}},getCommentClickLog:h["a"],getWeiboVerifiedIcon:r["a"],iconsName:function(t){var e=[{name:"retweet",title:"转发",hover:0},{name:"comment",title:"评论",hover:0},{name:"like",title:"赞",hover:0}];return this.config.uid===t&&e.unshift({name:"delete",title:"删除",hover:1}),this.isMy&&this.config.uid!==t&&e.unshift({name:"screen",title:"屏蔽",hover:1}),this.config.uid!==t&&e.unshift({name:"report",title:"投诉",hover:1}),e},clickRepostItem:function(){this.item.idstr&&2!==this.item.repost_type&&this.item.user&&(this.actionLog({act_code:"4296",ext:"mid:".concat(this.item.idstr)}),this.$router.push({name:"bidDetail",params:{uid:this.item.user.id,id:this.item.mblogid}}))},getHref:function(){if(this.item.idstr&&2!==this.item.repost_type&&this.item.user)return"/".concat(this.item.user.id,"/").concat(this.item.mblogid)},convertCount:function(t,e){return this.item.number_display_strategy?Object(d["a"])(+t,this.item.number_display_strategy,e):Object(d["b"])(t)}},components:{IconList:l["a"],Bottom:c["a"]}},f=p,m=(i("f377"),i("62d0")),v=i("2877");function _(t){this["$style"]=m["default"].locals||m["default"]}var g=Object(v["a"])(f,a,o,!1,_,null,null);e["a"]=g.exports},c885a:function(t,e,i){"use strict";var a=i("226b"),o=i.n(a);e["default"]=o.a},c8ac:function(t,e,i){"use strict";var a=i("df00"),o=i.n(a);e["default"]=o.a},c940:function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_nav_eCom",use:"woo_svg_nav_eCom-usage",viewBox:"0 0 22 22",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22" id="woo_svg_nav_eCom"><path d="M10.998 2a4.44 4.44 0 014.265 3.205h.877c.585 0 1.074.443 1.132 1.025l1.132 11.267A2.276 2.276 0 0116.139 20H5.856a2.276 2.276 0 01-2.263-2.52L4.805 6.222a1.138 1.138 0 011.132-1.017h.797A4.44 4.44 0 0110.998 2zm-.18 5.672c-.352.01-.697.077-1.02.2-.142.049-.28.106-.412.17-.12.058-.246.126-.366.195a7.538 7.538 0 00-1.502 1.16c-.305.294-.583.61-.83.946-.23.316-.42.654-.57 1.006a2.976 2.976 0 00-.24.987c0 .175.006.316.018.426.045.44.23.858.532 1.207l.038.041.063.07c.316.317.691.582 1.11.783a6.077 6.077 0 001.61.558c.5.096 1.01.144 1.522.14.116 0 .232 0 .363-.006a8.197 8.197 0 001.779-.27c.53-.15 1.032-.37 1.489-.653.386-.23.733-.509 1.029-.829.067-.075.13-.15.194-.234.068-.087.128-.18.179-.275l.047-.066c.173-.3.258-.635.247-.974a1.69 1.69 0 00-.43-1.063c-.26-.285-.6-.505-.984-.636.131-.34.121-.71-.029-1.044a1.34 1.34 0 00-.73-.575 2.553 2.553 0 00-1.126-.07 3.751 3.751 0 00-.566.115l-.106.032c.012-.115.011-.23-.003-.345a1.504 1.504 0 00-.055-.213 1.221 1.221 0 00-.262-.412 1.353 1.353 0 00-.99-.371zm.185 1.355c.33 1.043.667 1.737 1.014 2.084s.997.64 1.95.88c-.937.27-1.587.586-1.95.95-.362.362-.7.927-1.014 1.693-.407-.777-.787-1.342-1.14-1.694-.351-.352-.96-.668-1.824-.949.868-.238 1.476-.531 1.825-.88.348-.348.728-1.043 1.14-2.084zm-.005-5.548a2.96 2.96 0 00-2.69 1.726h5.38a2.96 2.96 0 00-2.69-1.726z" fill="currentColor" fill-rule="nonzero" /></symbol>'});s.a.add(r);e["default"]=r},c963:function(t,e,i){t.exports={wrap:"card11_wrap_1tg5z",title:"card11_title_3lRh6"}},c9bf:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{staticClass:"opt"},t._l(t.iconsName,(function(e,a){var o,n;return i("woo-box",{key:a,staticClass:"wbpro-iconbed",class:(o={optHover:1===e.hover},o[t.$style.autoIcon]=["like","cancelRepost"].indexOf(e.name)>-1,o),attrs:{align:"center",justify:"center"},nativeOn:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.handleIcons(e.name)}}},["like"===e.name?i("woo-like",{class:(n={optHover:1===e.hover},n[t.$style.likebox]=!0,n),attrs:{original:"","with-count":t.widthCount,like:t.valueLike,count:t.shortNum(t.data.like_counts),title:e.title,"no-zero":""},on:{status:t.like}}):"cancelRepost"===e.name&&t.data.uid===t.config.uid?i("woo-button",{staticClass:"button",attrs:{sort:"simple",size:"s",kind:"primary"}},[t._v(" "+t._s(e.title)+" ")]):"screen"===e.name?i("woo-pop",{attrs:{show:t.showPop,direction:"up",align:"end",gap:"10"},on:{"click-outside":t.closePop},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("woo-fonticon",{attrs:{value:e.name,title:e.title},nativeOn:{click:function(e){return t.handlePop(e)}}})]},proxy:!0}],null,!0)},[i("woo-pop-wrap",t._l(t.popList,(function(e,a){return i("woo-pop-item",{key:a,class:t.$style.config,nativeOn:{click:function(t){return t.stopPropagation(),e.action()}}},[t._v(" "+t._s(e.name)+" ")])})),1)],1):i("woo-fonticon",{attrs:{value:e.name,title:e.title}})],1)})),1)},o=[],n=(i("99af"),i("96cf"),i("1da1")),s=i("5530"),r=i("2f62"),l=i("eba1"),c=i("baf4"),u=i("ffe6"),d={name:"IconList",props:{iconsName:{type:Array,default:function(){return[]}},widthCount:{type:Boolean,default:!1},onDelete:{type:Function,required:!1},onReport:{type:Function,required:!1},onRetweet:{type:Function,required:!1},onComment:{type:Function,required:!1},onLike:{type:Function,required:!1},onCancelRepost:{type:Function,required:!1},likeType:{type:String,default:"weibo"},data:{type:Object,default:function(){}},actLogData:{type:Object,default:function(){return{page:"",extValue:""}}},weiboData:{type:Object,default:function(){return{}}},translated:Boolean,disabledDefaultAction:Boolean},data:function(){return{valueLike:this.data.liked,checkValue:[{value:!1,label:"同时将此用户加入黑名单"}],checkShieldValue:[{value:!1,label:"不看他的微博"},{value:!0,label:"禁止他与我互动"},{value:!1,label:"禁止他关注我"}]}},mixins:[c["a"]],computed:Object(s["a"])(Object(s["a"])({},Object(r["c"])(["config"])),{},{isMy:function(){var t,e;return!!(null===(t=this.weiboData)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.id)&&this.weiboData.user.id===this.config.uid},popList:function(){var t=this;return[{name:"屏蔽@".concat(this.data.screen_name),action:function(){var e;(null===(e=t.data)||void 0===e?void 0:e.aiAssistant)?t.filterAssistant():t.filterUser()}},{name:"屏蔽关键词",action:function(){t.showPop=!1,window.open("https://weibo.com/set/shield?type=keyword")}}]}}),watch:{data:{handler:function(t){t&&(this.valueLike=t.liked)}}},methods:{handleIcons:function(t){if(this.disabledDefaultAction)this.$emit(t);else switch(t){case"delete":this.delete();break;case"report":this.report();break;case"retweet":this.retweet();break;case"comment":this.comment();break;case"cancelRepost":this.cancelRepost();break;case"translate":this.onTranslate();break}},delete:function(){var t=this;if(this.handleActLog("click"),this.onDelete)this.onDelete();else if(this.data.isRepost)this.$_w_dialog({type:"confirm",title:"确定删除微博么？",btnConfirm:"确定",action:function(){t.$http.post("/ajax/statuses/destroy",{id:t.data.idstr}).then((function(e){e.data&&e.data.ok>0&&(t.$Bus.$emit("deleteRepost",t.data.idstr),t.$_w_toast({type:"success",message:"删除成功"}))}))}});else{var e=this.data.rootid;this.$_w_dialog({type:"confirm",title:"确定删除".concat(e||"reply"===this.data.type?"回复":"评论","么？"),btnConfirm:"确定",checkbox:this.isMy&&this.config.uid!==this.data.uid?this.checkValue:[],action:function(){var i={};t.checkValue[0].value&&(i={uid:t.data.uid,screen_name:t.data.screen_name,status:0,interact:1,follow:0}),t.$http.post("/ajax/statuses/destroyComment",{cid:t.data.id,filter:i}).then((function(i){i.data&&i.data.ok>0&&(e&&"reply"===t.data.type?t.$Bus.$emit("deleteReplyList",t.data.idstr):t.$Bus.$emit("deleteComment",{cid:t.data.idstr,rootid:e}),"reply"!==t.data.type||e||t.$emit("closeReplyModal"),t.$_w_toast({type:"success",message:"删除成功"}))}))}})}},report:function(){if(this.handleActLog("click"),this.onReport)this.onReport();else{var t="";"weibo"===this.likeType?t="rid=".concat(this.data.mblogid,"&type=1"):"comment"===this.likeType&&(t="rid=".concat(this.data.id,"&type=2")),window.open("https://service.account.weibo.com/reportspam?".concat(t,"&from=1FFFF96039"))}},handlePop:function(){this.clickPop()},close:function(){this.closePop()},filterAssistant:function(){var t=this;this.showPop=!1,this.$_w_dialog({type:"confirm",message:"加入黑名单后，".concat(this.data.gender,"的AI小助理不能给你发评论、@通知"),checkbox:this.checkShieldValue,btnConfirm:"确定",action:function(){t.$http.post("/ajax/statuses/filterAssistant",{uid:t.uid}).then((function(e){e.data&&e.data.ok>0&&t.$_w_toast({type:"success",message:"已拉黑"})}))}}),this.handleActLog("click")},filterUser:function(){var t=this;this.showPop=!1,this.$_w_dialog({type:"confirm",title:"屏蔽用户",message:"设置对@".concat(this.data.screen_name," 的屏蔽范围，全选即为拉黑用户"),checkbox:this.checkShieldValue,btnConfirm:"确定",action:function(){t.$http.post("/ajax/statuses/filterUser",{uid:t.uid,screen_name:t.data.screen_name,status:t.checkShieldValue[0].value?1:0,interact:t.checkShieldValue[1].value?1:0,follow:t.checkShieldValue[2].value?1:0}).then((function(e){e.data&&e.data.ok>0&&t.$_w_toast({type:"success",message:"已屏蔽"})}))}}),this.handleActLog("click")},retweet:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.handleActLog("click"),!t.onRetweet){e.next=4;break}return t.onRetweet(),e.abrupt("return");case 4:if(!t.data.isLongText){e.next=9;break}return e.next=7,t.$http.get("/ajax/statuses/longtext",{params:{id:t.data.associate_status_id||t.data.id}});case 7:i=e.sent,i.data&&i.data.ok&&i.data.data&&(a=i.data.data,a&&a.longTextContent&&(t.data.longTextContent=a.longTextContent));case 9:o="",t.data&&t.data.id&&(o="//@".concat(t.data.screen_name,":").concat(t.data.longTextContent||t.data.text),t.data.rootid&&(o+=" //@".concat(t.data.rootscreen_name,":").concat(t.data.roottext))),t.$Bus.$emit("showModalComposer",{title:"转发微博",data:{action:"repost",content:o,id:t.data.isRepost?t.data.idstr:t.data.ogid,cid:t.data.id,actLogData:t.actLogData,onhead:!0}});case 12:case"end":return e.stop()}}),e)})))()},comment:function(){this.handleActLog("click"),this.onComment?this.onComment():this.data.isRepost?this.$Bus.$emit("showModalComposer",{data:{action:"comment",id:this.data.idstr,actLogData:this.actLogData,onhead:!0}}):this.$Bus.$emit("showModalComposer",{title:"回复@".concat(this.data.screen_name),data:{action:"reply",id:this.data.ogid,cid:this.data.id,location:this.data.location,actLogData:this.actLogData,onhead:!0}})},like:function(){var t=this;if(this.handleActLog("click"),this.onLike)this.onLike();else{var e="",i={};"weibo"===this.likeType?(i={id:this.data.idstr},e=this.valueLike?"cancelLike":"setLike"):"comment"===this.likeType&&(i={object_id:this.data.idstr,object_type:"comment"},e=this.valueLike?"destroyLike":"updateLike"),this.$http.post("/ajax/statuses/".concat(e),i).then((function(e){e.data&&e.data.ok>0&&(t.valueLike=!t.valueLike,t.data.liked=t.valueLike,t.data.like_counts=t.valueLike?t.data.like_counts+1:t.data.like_counts-1)})),this.data.liked||this.handleActLog("attitude")}},cancelRepost:function(){var t=this;this.handleActLog("click"),this.onCancelRepost?this.onCancelRepost():this.$_w_dialog({type:"confirm",title:"确定取消快转么？",btnConfirm:"确定",action:function(){t.$http.post("/ajax/statuses/destroy",{id:t.data.idstr}).then((function(e){e.data&&e.data.ok>0&&t.$Bus.$emit("deleteRepost",e.data.idstr)}))}})},shortNum:function(t,e,i){return Object(l["b"])(t,e,i)},handleActLog:function(t){this.actLogData&&this.actLogData.page&&t&&this.toLog(Object(s["a"])(Object(s["a"])({},this.actLogData),{},{actType:t}))},onTranslate:function(){var t=this;if(this.translated)this.$emit("translate-recover");else{var e=Object(u["a"])();this.$http.get("/ajax/statuses/translate",{params:{cid:this.data.idstr,locale:e}}).then((function(i){i.data.ok>0&&t.$emit("translate-finish",{locale:e,text:i.data.data,source:i.data.source})}))}}}},h=d,p=i("abe6"),f=i("2877");function m(t){this["$style"]=p["default"].locals||p["default"]}var v=Object(f["a"])(h,a,o,!1,m,null,null);e["a"]=v.exports},c9e1:function(t,e,i){t.exports={pic:"stamp_pic_1SZjT",tipSpace:"stamp_tipSpace_3zUY7",tipSpaceHightPosition:"stamp_tipSpaceHightPosition_2V3zB",repostSpace:"stamp_repostSpace_2OhZ4",pos1:"stamp_pos1_3_FVq",pos2:"stamp_pos2_2BUCy",stampLink:"stamp_stampLink_1ZwYo"}},ca21:function(t,e,i){"use strict";var a=i("a5a5"),o=i.n(a);e["default"]=o.a},ca44:function(t,e,i){t.exports={wrap:"card8_wrap_2WdT2",line:"card8_line_bHr6t",content:"card8_content_2ULXD"}},ca78:function(t,e,i){"use strict";var a=i("8ae7"),o=i.n(a);e["default"]=o.a},cacb:function(t,e,i){},caf1:function(t,e,i){"use strict";var a=i("cd96"),o=i.n(a);e["default"]=o.a},caf5:function(t,e,i){"use strict";var a=i("62ab"),o=i.n(a);e["default"]=o.a},cafe:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{directives:[{name:"focus-visible",rawName:"v-focus-visible"},{name:"click-enter",rawName:"v-click-enter",value:function(){return t.clickNav()},expression:"() => clickNav()"}],class:[t.$style.main,t.cur&&t.$style.cur],attrs:{role:"link",align:"center",title:t.text}},[i("woo-fonticon",{class:t.$style.icon,attrs:{value:t.icon}}),i("span",{class:t.$style.text},[t._v(t._s(t.text))]),t._t("default")],2)},o=[],n={props:{icon:String,text:String,cur:Boolean},methods:{clickNav:function(){this.$emit("click")}}},s=n,r=i("a513"),l=i("2877");function c(t){this["$style"]=r["default"].locals||r["default"]}var u=Object(l["a"])(s,a,o,!1,c,null,null);e["a"]=u.exports},cb29:function(t,e,i){var a={"./ai.svg":"5b53","./article.svg":"2bdb","./ask.svg":"41ab","./audio.svg":"2333","./close.svg":"8b1b","./collection.svg":"3539","./continuation.svg":"bdb9","./continuationColor.svg":"1e1a","./cross.svg":"2ad7","./emoticon.svg":"a416","./fresh.svg":"a8ce","./hash.svg":"8316","./illustration.svg":"3da4","./illustrationColor.svg":"87e2","./image.svg":"931c4","./live.svg":"aa5f","./loading.svg":"1e31","./loading2.svg":"674c","./place.svg":"7191f","./polishing.svg":"3dd0","./polishingColor.svg":"f583","./replace.svg":"6799","./rewriting.svg":"f18b","./rss.svg":"0fe5","./rsssuccess.svg":"5492","./scomment.svg":"8e80","./stopic.svg":"4207","./timer.svg":"291e","./vellipsis.svg":"9175","./video.svg":"512b","./vote.svg":"1447"};function o(t){var e=n(t);return i(e)}function n(t){if(!i.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}o.keys=function(){return Object.keys(a)},o.resolve=n,t.exports=o,o.id="cb29"},cb6a:function(t,e,i){"use strict";var a=i("65ac"),o=i.n(a);e["default"]=o.a},cb91:function(t,e,i){"use strict";var a=i("3e99"),o=i.n(a);e["default"]=o.a},cb9c:function(t,e,i){"use strict";var a=i("8d4e"),o=i.n(a);e["default"]=o.a},cbca:function(t,e,i){"use strict";var a=i("6654"),o=i.n(a);e["default"]=o.a},cc0f:function(t,e,i){"use strict";(function(t){i("d3b7"),i("4d63"),i("ac1f"),i("25f0"),i("5319");var e=i("53ca"),a=/[&<>"]/g,o=(RegExp(a.source),{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"}),n="object"==("undefined"===typeof t?"undefined":Object(e["a"])(t))&&t&&t.Object===Object&&t,s="object"==("undefined"===typeof self?"undefined":Object(e["a"])(self))&&self&&self.Object===Object&&self,r=n||s||Function("return this")();function l(t){return function(e){return null==t?void 0:t[e]}}l(o);var c=Object.prototype,u=(c.toString,r.Symbol),d=u?u.prototype:void 0;d&&d.toString}).call(this,i("c8ba"))},cc64:function(t,e,i){"use strict";var a=i("4cdc"),o=i.n(a);e["default"]=o.a},cc8d:function(t,e,i){"use strict";var a=i("fa20");e["a"]=function(t){return Object(a["c"])(t)}},ccd8:function(t,e,i){"use strict";var a=i("6768"),o=i.n(a);e["default"]=o.a},cd12:function(t,e,i){t.exports={card2:"ImageAlbum_card2_1_yy_",card2h:"ImageAlbum_card2h_1BK0Q",line2:"ImageAlbum_line2_3wV6u",card2c:"ImageAlbum_card2c_FFzG2",card2cin:"ImageAlbum_card2cin_1peJa",card2a:"ImageAlbum_card2a_2W-cr",card2ar:"ImageAlbum_card2ar_3rYc6",card2al:"ImageAlbum_card2al_q3Ug2",card2l:"ImageAlbum_card2l_2m1PE",card2p:"ImageAlbum_card2p_1WVvo",card2bg:"ImageAlbum_card2bg_1w_Ve",card2t:"ImageAlbum_card2t_2QdlO",cursor:"ImageAlbum_cursor_2jXdx"}},cd71:function(t,e,i){"use strict";var a=i("85b2"),o=i.n(a);e["default"]=o.a},cd96:function(t,e,i){t.exports={pic:"Prefer_pic_2qT6u",pos:"Prefer_pos_2hW1N",pos1:"Prefer_pos1_2v4FB",pos2:"Prefer_pos2_38phb",pos3:"Prefer_pos3_3oSpi",logo:"Prefer_logo_IxtNP",nc:"Prefer_nc_3EAc2"}},ce2e:function(t,e,i){t.exports={avatar:"card5_avatar_1t9K5",avatarList:"card5_avatarList_3AXPn"}},ce95:function(t,e,i){t.exports={item1:"GroupMessages_item1_1mA5y",con1:"GroupMessages_con1_2ZRfR",h3:"GroupMessages_h3_3LPJl",h4:"GroupMessages_h4_6MYS7",wrap:"GroupMessages_wrap_3kIvl"}},ce99:function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_nav_tvFlat",use:"woo_svg_nav_tvFlat-usage",viewBox:"0 0 30 30",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" id="woo_svg_nav_tvFlat"><path d="M6 5h18a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V7a2 2 0 012-2zm11.634 9.19a.76.76 0 00.274-.302c.194-.381.071-.864-.274-1.078l-3.563-2.208a.667.667 0 00-.353-.102c-.396 0-.718.354-.718.792v4.416c0 .136.032.27.092.388.195.381.633.517.979.302l3.563-2.208zM10 23h10a1 1 0 010 2H10a1 1 0 010-2z" fill="currentColor" fill-rule="evenodd" /></symbol>'});s.a.add(r);e["default"]=r},cf14:function(t,e,i){"use strict";var a=i("6061"),o=i.n(a);e["default"]=o.a},cf15:function(t,e,i){"use strict";var a=i("061a"),o=i.n(a);e["default"]=o.a},cf6f:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.wrap},[i("woo-divider",{class:t.$style.line}),i("a-link",{attrs:{"link-type":"old","style-type":"none",href:t.card.scheme},on:{click:function(t){t.preventDefault()}}},[i("div",{on:{click:function(e){return t.toScheme(t.card.scheme)}}},[t.card.users&&t.card.users.length?i("div",{class:t.$style.userbox},[i("woo-box",{attrs:{old:"",items:6}},t._l(t.getData(t.card.elements),(function(e,a){return i("woo-box-item",{key:e.id},[t.card.users&&t.card.users.length?i("woo-box",{attrs:{direction:"y",align:"center"},nativeOn:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.toScheme(e.scheme)}}},[i("woo-avatar",{attrs:{size:50,src:t.card.users[a].avatar_large,verified:t.getWeiboVerifiedIcon(t.card.users[a])}}),a===t.getData(t.card.elements).length-1&&t.card.display_arrow&&t.card.elements.length>t.card.max_item_count?i("div",{class:t.$style.avatarMask},[i("woo-fonticon",{class:t.$style.angleRight,attrs:{value:"angleRight"}})],1):t._e(),i("div",{class:[t.$style.con1h3,t.$style.f12,t.$style.cla,t.$style.cut],domProps:{textContent:t._s(e.desc1||t.card.users[a].screen_name)}})],1):t._e()],1)})),1)],1):t._e()])])],1)},o=[],n=(i("4160"),i("fb6a"),i("159b"),i("cc8d")),s={name:"card3",props:{card:{type:Object,default:function(){return{}}}},methods:{getWeiboVerifiedIcon:n["a"],getData:function(t){var e=this;return t&&t.length&&t.forEach((function(i,a){!i.scheme&&e.card.scheme&&(t[a].scheme=e.card.scheme)})),t?t.slice(0,this.card.max_item_count||6):[]},toScheme:function(t){t&&this.$router.push({path:t})}}},r=s,l=i("326c"),c=i("2877");function u(t){this["$style"]=l["default"].locals||l["default"]}var d=Object(c["a"])(r,a,o,!1,u,null,null);e["default"]=d.exports},cf78:function(t,e,i){"use strict";var a=i("2848"),o=i.n(a);e["default"]=o.a},cf99:function(t,e,i){},cfb4:function(t,e,i){"use strict";var a=i("4c2c"),o=i.n(a);e["default"]=o.a},cfc1:function(t,e,i){"use strict";(function(t){i("a4d3"),i("e01a"),i("b636"),i("d28b"),i("99af"),i("c740"),i("a630"),i("caad"),i("c975"),i("4ec9"),i("a9e3"),i("d3b7"),i("3ca3"),i("ddb0");var a=i("53ca"),o=(i("a026"),{itemsLimit:1e3});function n(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);var i=t.indexOf("Trident/");if(i>0){var a=t.indexOf("rv:");return parseInt(t.substring(a+3,t.indexOf(".",a)),10)}var o=t.indexOf("Edge/");return o>0?parseInt(t.substring(o+5,t.indexOf(".",o)),10):-1}var s=void 0;function r(){r.init||(r.init=!0,s=-1!==n())}var l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"resize-observer",attrs:{tabindex:"-1"}})},staticRenderFns:[],_scopeId:"data-v-b329ee4c",name:"resize-observer",methods:{compareAndNotify:function(){this._w===this.$el.offsetWidth&&this._h===this.$el.offsetHeight||(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.$emit("notify"))},addResizeHandlers:function(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers:function(){this._resizeObject&&this._resizeObject.onload&&(!s&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),delete this._resizeObject.onload)}},mounted:function(){var t=this;r(),this.$nextTick((function(){t._w=t.$el.offsetWidth,t._h=t.$el.offsetHeight}));var e=document.createElement("object");this._resizeObject=e,e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex",-1),e.onload=this.addResizeHandlers,e.type="text/html",s&&this.$el.appendChild(e),e.data="about:blank",s||this.$el.appendChild(e)},beforeDestroy:function(){this.removeResizeHandlers()}};function c(t){t.component("resize-observer",l),t.component("ResizeObserver",l)}var u={version:"0.4.5",install:c},d=null;"undefined"!==typeof window?d=window.Vue:"undefined"!==typeof t&&(d=t.Vue),d&&d.use(u);var h="function"===typeof Symbol&&"symbol"===Object(a["a"])(Symbol.iterator)?function(t){return Object(a["a"])(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":Object(a["a"])(t)},p=(function(){function t(t){this.value=t}function e(e){var i,a;function o(t,e){return new Promise((function(o,s){var r={key:t,arg:e,resolve:o,reject:s,next:null};a?a=a.next=r:(i=a=r,n(t,e))}))}function n(i,a){try{var o=e[i](a),r=o.value;r instanceof t?Promise.resolve(r.value).then((function(t){n("next",t)}),(function(t){n("throw",t)})):s(o.done?"return":"normal",o.value)}catch(l){s("throw",l)}}function s(t,e){switch(t){case"return":i.resolve({value:e,done:!0});break;case"throw":i.reject(e);break;default:i.resolve({value:e,done:!1});break}i=i.next,i?n(i.key,i.arg):a=null}this._invoke=o,"function"!==typeof e.return&&(this.return=void 0)}"function"===typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),f=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),m=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)};function v(t){var e=void 0;return e="function"===typeof t?{callback:t}:t,e}function _(t,e){var i=void 0,a=void 0,o=void 0,n=function(n){for(var s=arguments.length,r=Array(s>1?s-1:0),l=1;l<s;l++)r[l-1]=arguments[l];o=r,i&&n===a||(a=n,clearTimeout(i),i=setTimeout((function(){t.apply(void 0,[n].concat(m(o))),i=0}),e))};return n._clear=function(){clearTimeout(i)},n}function g(t,e){if(t===e)return!0;if("object"===("undefined"===typeof t?"undefined":h(t))){for(var i in t)if(!g(t[i],e[i]))return!1;return!0}return!1}var b=function(){function t(e,i,a){p(this,t),this.el=e,this.observer=null,this.frozen=!1,this.createObserver(i,a)}return f(t,[{key:"createObserver",value:function(t,e){var i=this;this.observer&&this.destroyObserver(),this.frozen||(this.options=v(t),this.callback=this.options.callback,this.callback&&this.options.throttle&&(this.callback=_(this.callback,this.options.throttle)),this.oldResult=void 0,this.observer=new IntersectionObserver((function(t){var e=t[0];if(i.callback){var a=e.isIntersecting&&e.intersectionRatio>=i.threshold;if(a===i.oldResult)return;i.oldResult=a,i.callback(a,e),a&&i.options.once&&(i.frozen=!0,i.destroyObserver())}}),this.options.intersection),e.context.$nextTick((function(){i.observer&&i.observer.observe(i.el)})))}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&this.options.intersection.threshold||0}}]),t}();function y(t,e,i){var a=e.value;if("undefined"===typeof IntersectionObserver);else{var o=new b(t,a,i);t._vue_visibilityState=o}}function w(t,e,i){var a=e.value,o=e.oldValue;if(!g(a,o)){var n=t._vue_visibilityState;n?n.createObserver(a,i):y(t,{value:a},i)}}function x(t){var e=t._vue_visibilityState;e&&(e.destroyObserver(),delete t._vue_visibilityState)}var k={bind:y,update:w,unbind:x};function $(t){t.directive("observe-visibility",k)}var C={version:"0.4.3",install:$},O=null;"undefined"!==typeof window?O=window.Vue:"undefined"!==typeof t&&(O=t.Vue),O&&O.use(C);var j="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{};function T(t,e){return e={exports:{}},t(e,e.exports),e.exports}var D=T((function(t){(function(e,i){t.exports?t.exports=i():e.Scrollparent=i()})(j,(function(){var t=/(auto|scroll)/,e=function t(e,i){return null===e.parentNode?i:t(e.parentNode,i.concat([e]))},i=function(t,e){return getComputedStyle(t,null).getPropertyValue(e)},a=function(t){return i(t,"overflow")+i(t,"overflow-y")+i(t,"overflow-x")},o=function(e){return t.test(a(e))},n=function(t){if(t instanceof HTMLElement||t instanceof SVGElement){for(var i=e(t.parentNode,[]),a=0;a<i.length;a+=1)if(o(i[a]))return i[a];return document.scrollingElement||document.documentElement}};return n}))})),S="function"===typeof Symbol&&"symbol"===Object(a["a"])(Symbol.iterator)?function(t){return Object(a["a"])(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":Object(a["a"])(t)},I=(function(){function t(t){this.value=t}function e(e){var i,a;function o(t,e){return new Promise((function(o,s){var r={key:t,arg:e,resolve:o,reject:s,next:null};a?a=a.next=r:(i=a=r,n(t,e))}))}function n(i,a){try{var o=e[i](a),r=o.value;r instanceof t?Promise.resolve(r.value).then((function(t){n("next",t)}),(function(t){n("throw",t)})):s(o.done?"return":"normal",o.value)}catch(l){s("throw",l)}}function s(t,e){switch(t){case"return":i.resolve({value:e,done:!0});break;case"throw":i.reject(e);break;default:i.resolve({value:e,done:!1});break}i=i.next,i?n(i.key,i.arg):a=null}this._invoke=o,"function"!==typeof e.return&&(this.return=void 0)}"function"===typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}),L=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},B={items:{type:Array,required:!0},keyField:{type:String,default:"id"},direction:{type:String,default:"vertical",validator:function(t){return["vertical","horizontal"].includes(t)}}};function P(){return this.items.length&&"object"!==S(this.items[0])}var A=!1;if("undefined"!==typeof window){A=!1;try{var E=Object.defineProperty({},"passive",{get:function(){A=!0}});window.addEventListener("test",null,E)}catch(U){}}var M=0,F={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.handleVisibilityChange,expression:"handleVisibilityChange"}],staticClass:"vue-recycle-scroller",class:I({ready:t.ready,"page-mode":t.pageMode},"direction-"+t.direction,!0),on:{"&scroll":function(e){return t.handleScroll(e)}}},[t.$slots.before?i("div",{staticClass:"vue-recycle-scroller__slot"},[t._t("before")],2):t._e(),t._v(" "),i("div",{ref:"wrapper",staticClass:"vue-recycle-scroller__item-wrapper",style:I({},"vertical"===t.direction?"minHeight":"minWidth",t.totalSize+"px")},t._l(t.pool,(function(e){return i("div",{key:e.nr.id,staticClass:"vue-recycle-scroller__item-view",style:t.ready?{transform:"translate"+("vertical"===t.direction?"Y":"X")+"("+e.position+"px)",zIndex:-9999===e.position?-1:""}:null,on:{mouseenter:function(i){t.hoverKey=e.nr.key},mouseleave:function(e){t.hoverKey=null}}},[t._t("default",null,{item:e.item,index:e.nr.index,active:e.nr.used})],2)})),0),t._v(" "),t.$slots.after?i("div",{staticClass:"vue-recycle-scroller__slot"},[t._t("after")],2):t._e(),t._v(" "),i("ResizeObserver",{on:{notify:t.handleResize}})],1)},staticRenderFns:[],name:"RecycleScroller",components:{ResizeObserver:l},directives:{ObserveVisibility:k},props:L({},B,{itemSize:{type:Number,default:null},minItemSize:{type:[Number,String],default:null},sizeField:{type:String,default:"size"},typeField:{type:String,default:"type"},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},prerender:{type:Number,default:0},emitUpdate:{type:Boolean,default:!1}}),data:function(){return{pool:[],totalSize:0,ready:!1,hoverKey:null,inScroll:!1,t1:0,t2:0,timer:null}},computed:{sizes:function(){if(null===this.itemSize){for(var t={"-1":{accumulator:0}},e=this.items,i=this.sizeField,a=this.minItemSize,o=0,n=void 0,s=0,r=e.length;s<r;s++)n=e[s][i]||a,o+=n,t[s]={accumulator:o,size:n};return t}return[]},simpleArray:P},watch:{items:function(){this.updateVisibleItems(!0)},pageMode:function(){this.applyPageMode(),this.updateVisibleItems(!1)},sizes:{handler:function(){this.updateVisibleItems(!1)},deep:!0}},created:function(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1,this.$isServer&&this.updateVisibleItems(!1)},mounted:function(){var t=this;this.applyPageMode(),this.$nextTick((function(){t.updateVisibleItems(!0),t.ready=!0}))},beforeDestroy:function(){this.removeListeners()},methods:{addView:function(t,e,i,a,o){var n={item:i,position:0},s={id:M++,index:e,used:!0,key:a,type:o};return Object.defineProperty(n,"nr",{configurable:!1,value:s}),t.push(n),n},unuseView:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.$_unusedViews,a=t.nr.type,o=i.get(a);o||(o=[],i.set(a,o)),o.push(t),e||(t.nr.used=!1,t.position=-9999,this.$_views.delete(t.nr.key))},handleResize:function(){this.$emit("resize"),this.ready&&this.updateVisibleItems(!1)},isScrollEnd:function(){this.t2=document.documentElement.scrollTop||document.body.scrollTop,this.t2==this.t1&&(this.inScroll=!1)},handleScroll:function(t){var e=this;this.$_scrollDirty||(this.inScroll=!0,this.$_scrollDirty=!0,this.timer=setTimeout(this.isScrollEnd,1e3),this.t1=document.documentElement.scrollTop||document.body.scrollTop,requestAnimationFrame((function(){e.$_scrollDirty=!1;var t=e.updateVisibleItems(!1),i=t.continuous;i||(clearTimeout(e.$_refreshTimout),e.$_refreshTimout=setTimeout(e.handleScroll,100))})))},handleVisibilityChange:function(t,e){var i=this;this.ready&&(t||0!==e.boundingClientRect.width||0!==e.boundingClientRect.height?(this.$emit("visible"),requestAnimationFrame((function(){i.updateVisibleItems(!1)}))):this.$emit("hidden"))},updateVisibleItems:function(t){var e=this.itemSize,i=this.typeField,a=this.simpleArray?null:this.keyField,n=this.items,s=n.length,r=this.sizes,l=this.$_views,c=this.$_unusedViews,u=this.pool,d=void 0,h=void 0,p=void 0;if(s)if(this.$isServer)d=0,h=this.prerender,p=null;else{var f=this.getScroll(),m=this.buffer;if(f.start-=m,f.end+=m,null===e){var v=void 0,_=0,g=s-1,b=~~(s/2),y=void 0;do{y=b,v=r[b].accumulator,v<f.start?_=b:b<s-1&&r[b+1].accumulator>f.start&&(g=b),b=~~((_+g)/2)}while(b!==y);for(b<0&&(b=0),d=b,p=r[s-1].accumulator,h=b;h<s&&r[h].accumulator<f.end;h++);-1===h?h=n.length-1:(h++,h>s&&(h=s))}else d=~~(f.start/e),h=Math.ceil(f.end/e),d<0&&(d=0),h>s&&(h=s),p=s*e}else d=h=p=0;h-d>o.itemsLimit&&this.itemsLimitError(),this.totalSize=p;var w=void 0,x=d<=this.$_endIndex&&h>=this.$_startIndex,k=void 0;if(this.$_continuous!==x){if(x){l.clear(),c.clear();for(var $=0,C=u.length;$<C;$++)w=u[$],this.unuseView(w)}this.$_continuous=x}else if(x)for(var O=0,j=u.length;O<j;O++)w=u[O],w.nr.used&&(t&&(w.nr.index=n.findIndex((function(t){return a?t[a]===w.item[a]:t===w.item}))),(-1===w.nr.index||w.nr.index<d||w.nr.index>=h)&&this.unuseView(w));x||(k=new Map);for(var T=void 0,D=void 0,S=void 0,I=void 0,L=d;L<h;L++){T=n[L];var B=a?T[a]:T;w=l.get(B),e||r[L].size?(w?(w.nr.used=!0,w.item=T):(D=T[i],x?(S=c.get(D),S&&S.length?(w=S.pop(),w.item=T,w.nr.used=!0,w.nr.index=L,w.nr.key=B,w.nr.type=D):w=this.addView(u,L,T,B,D)):(S=c.get(D),I=k.get(D)||0,S&&I<S.length?(w=S[I],w.item=T,w.nr.used=!0,w.nr.index=L,w.nr.key=B,w.nr.type=D,k.set(D,I+1)):(w=this.addView(u,L,T,B,D),this.unuseView(w,!0)),I++),l.set(B,w)),w.position=null===e?r[L-1].accumulator:L*e):w&&this.unuseView(w)}return this.$_startIndex=d,this.$_endIndex=h,this.emitUpdate&&this.$emit("update",d,h),{continuous:x}},getListenerTarget:function(){var t=D(this.$el);return!window.document||t!==window.document.documentElement&&t!==window.document.body||(t=window),t},getScroll:function(){var t=this.$el,e=this.direction,i="vertical"===e,a=void 0;if(this.pageMode){var o=t.getBoundingClientRect(),n=i?o.height:o.width,s=-(i?o.top:o.left),r=i?window.innerHeight:window.innerWidth;s<0&&(r+=s,s=0),s+r>n&&(r=n-s),a={start:s,end:s+r}}else a=i?{start:t.scrollTop,end:t.scrollTop+t.clientHeight}:{start:t.scrollLeft,end:t.scrollLeft+t.clientWidth};return a},applyPageMode:function(){this.pageMode?this.addListeners():this.removeListeners()},addListeners:function(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener("scroll",this.handleScroll,!!A&&{passive:!0}),this.listenerTarget.addEventListener("resize",this.handleResize)},removeListeners:function(){this.listenerTarget&&(this.listenerTarget.removeEventListener("scroll",this.handleScroll),this.listenerTarget.removeEventListener("resize",this.handleResize),this.listenerTarget=null)},scrollToItem:function(t){var e=void 0;e=null===this.itemSize?t>0?this.sizes[t-1].accumulator:0:t*this.itemSize,this.scrollToPosition(e)},scrollToPosition:function(t){"vertical"===this.direction?this.$el.scrollTop=t:this.$el.scrollLeft=t},itemsLimitError:function(){throw setTimeout((function(){})),new Error("Rendered items limit reached")}}},R={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("RecycleScroller",t._g(t._b({ref:"scroller",attrs:{items:t.itemsWithSize,"min-item-size":t.minItemSize,direction:t.direction,"key-field":"id"},on:{resize:t.onScrollerResize,visible:t.onScrollerVisible},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.item,a=e.index,o=e.active;return[t._t("default",null,null,{item:i.item,index:a,active:o,itemWithSize:i})]}}])},"RecycleScroller",t.$attrs,!1),t.listeners),[i("template",{slot:"before"},[t._t("before")],2),t._v(" "),i("template",{slot:"after"},[t._t("after")],2)],2)},staticRenderFns:[],name:"DynamicScroller",components:{RecycleScroller:F},inheritAttrs:!1,provide:function(){return{vscrollData:this.vscrollData,vscrollParent:this}},props:L({},B,{minItemSize:{type:[Number,String],required:!0}}),data:function(){return{vscrollData:{active:!0,sizes:{},validSizes:{},keyField:this.keyField,simpleArray:!1}}},computed:{simpleArray:P,itemsWithSize:function(){for(var t=[],e=this.items,i=this.keyField,a=this.simpleArray,o=this.vscrollData.sizes,n=0;n<e.length;n++){var s=e[n],r=a?n:s[i],l=o[r];"undefined"!==typeof l||this.$_undefinedMap[r]||(this.$_undefinedSizes++,this.$_undefinedMap[r]=!0,l=0),t.push({item:s,id:r,size:l})}return t},listeners:function(){var t={};for(var e in this.$listeners)"resize"!==e&&"visible"!==e&&(t[e]=this.$listeners[e]);return t}},watch:{items:{handler:function(t,e){this.forceUpdate(!1)},deep:!0},simpleArray:{handler:function(t){this.vscrollData.simpleArray=t},immediate:!0},direction:function(t){this.forceUpdate(!0)}},created:function(){this.$_updates=[],this.$_undefinedSizes=0,this.$_undefinedMap={}},activated:function(){this.vscrollData.active=!0},deactivated:function(){this.vscrollData.active=!1},methods:{onScrollerResize:function(){var t=this.$refs.scroller;t&&this.forceUpdate(),this.$emit("resize")},onScrollerVisible:function(){this.$emit("vscroll:update",{force:!1}),this.$emit("visible")},forceUpdate:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(t||this.simpleArray)&&(this.vscrollData.validSizes={}),this.$emit("vscroll:update",{force:!0})},scrollToItem:function(t){var e=this.$refs.scroller;e&&e.scrollToItem(t)},getItemSize:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=this.simpleArray?null!=e?e:this.items.indexOf(t):t[this.keyField];return this.vscrollData.sizes[i]||0},scrollToBottom:function(){var t=this;if(!this.$_scrollingToBottom){this.$_scrollingToBottom=!0;var e=this.$el;this.$nextTick((function(){var i=function i(){e.scrollTop=e.scrollHeight,0===t.$_undefinedSizes?t.$_scrollingToBottom=!1:requestAnimationFrame(i)};requestAnimationFrame(i)}))}}}},V={name:"DynamicScrollerItem",inject:["vscrollData","vscrollParent"],props:{item:{required:!0},watchData:{type:Boolean,default:!1},active:{type:Boolean,required:!0},index:{type:Number,default:void 0},sizeDependencies:{type:[Array,Object],default:null},emitResize:{type:Boolean,default:!1},tag:{type:String,default:"div"}},computed:{id:function(){return this.vscrollData.simpleArray?this.index:this.item[this.vscrollData.keyField]},size:function(){return this.vscrollData.validSizes[this.id]&&this.vscrollData.sizes[this.id]||0}},watch:{watchData:"updateWatchData",id:function(){this.size||this.onDataUpdate()},active:function(t){t&&this.$_pendingVScrollUpdate===this.id&&this.updateSize()}},created:function(){var t=this;if(!this.$isServer){this.$_forceNextVScrollUpdate=null,this.updateWatchData();var e=function(e){t.$watch((function(){return t.sizeDependencies[e]}),t.onDataUpdate)};for(var i in this.sizeDependencies)e(i);this.vscrollParent.$on("vscroll:update",this.onVscrollUpdate),this.vscrollParent.$on("vscroll:update-size",this.onVscrollUpdateSize)}},mounted:function(){this.vscrollData.active&&this.updateSize()},beforeDestroy:function(){this.vscrollParent.$off("vscroll:update",this.onVscrollUpdate),this.vscrollParent.$off("vscroll:update-size",this.onVscrollUpdateSize)},methods:{updateSize:function(){this.active&&this.vscrollData.active?this.$_pendingSizeUpdate!==this.id&&(this.$_pendingSizeUpdate=this.id,this.$_forceNextVScrollUpdate=null,this.$_pendingVScrollUpdate=null,this.active&&this.vscrollData.active&&this.computeSize(this.id)):this.$_forceNextVScrollUpdate=this.id},getBounds:function(){return this.$el.getBoundingClientRect()},updateWatchData:function(){var t=this;this.watchData?this.$_watchData=this.$watch("data",(function(){t.onDataUpdate()}),{deep:!0}):this.$_watchData&&(this.$_watchData(),this.$_watchData=null)},onVscrollUpdate:function(t){var e=t.force;!this.active&&e&&(this.$_pendingVScrollUpdate=this.id),this.$_forceNextVScrollUpdate!==this.id&&!e&&this.size||this.updateSize()},onDataUpdate:function(){this.updateSize()},computeSize:function(t){var e=this;this.$nextTick((function(){if(e.id===t){var i=e.getBounds(),a=Math.round("vertical"===e.vscrollParent.direction?i.height:i.width);a&&e.size!==a&&(e.vscrollParent.$_undefinedMap[t]&&(e.vscrollParent.$_undefinedSizes--,e.vscrollParent.$_undefinedMap[t]=void 0),e.$set(e.vscrollData.sizes,e.id,a),e.$set(e.vscrollData.validSizes,e.id,!0),e.emitResize&&e.$emit("resize",e.id))}e.$_pendingSizeUpdate=null}))}},render:function(t){return t(this.tag,this.$slots.default)}};function N(t,e){t.component(e+"recycle-scroller",F),t.component(e+"RecycleScroller",F),t.component(e+"dynamic-scroller",R),t.component(e+"DynamicScroller",R),t.component(e+"dynamic-scroller-item",V),t.component(e+"DynamicScrollerItem",V)}var H={version:"1.0.0-rc.2",install:function(t,e){var i=Object.assign({},{installComponents:!0,componentsPrefix:""},e);for(var a in i)"undefined"!==typeof i[a]&&(o[a]=i[a]);i.installComponents&&N(t,i.componentsPrefix)}},z=null;"undefined"!==typeof window?z=window.Vue:"undefined"!==typeof t&&(z=t.Vue),z&&z.use(H),e["a"]=H}).call(this,i("c8ba"))},cfec:function(t,e,i){"use strict";var a=i("a575"),o=i.n(a);e["default"]=o.a},cff2:function(t,e,i){"use strict";var a=i("83c1"),o=i.n(a);e["default"]=o.a},cff7:function(t,e,i){},d0a4:function(t,e,i){t.exports={wbproform:"Form_wbproform_3UDoi",suggest:"Form_suggest_b0zde",input:"Form_input_2gtXx",comment:"Form_comment_3xHu3",fonticon:"Form_fonticon_xxMmD",wrap:"Form_wrap_ckJiC",ipt1box:"Form_ipt1box_3mKUx",without:"Form_without_ZkKOl",ipt1:"Form_ipt1_36VrM",count:"Form_count_151Am",error:"Form_error_2HLAr",iptbox:"Form_iptbox_1bOI6",gap:"Form_gap_3E_IT",ipt:"Form_ipt_I7dYg",t1:"Form_t1_fWL7l",svg:"Form_svg_u92EV",btn:"Form_btn_2r1wN",btnmax:"Form_btnmax_1qAtF"}},d10c:function(t,e,i){"use strict";var a=i("2ad3"),o=i.n(a);e["default"]=o.a},d17c:function(t,e,i){t.exports={svg:"CircleProgress_svg_3bq3w",circle:"CircleProgress_circle_3hev_",bg:"CircleProgress_bg_3lJXf"}},d1be:function(t,e,i){t.exports={fans:"iconList_fans_347yZ",custom:"iconList_custom_C9JaX"}},d1e8:function(t,e,i){t.exports={checkitemout:"Select_checkitemout_Jl7SD",lradiolist:"Select_lradiolist_38kHM",ltag:"Select_ltag_B_Zob",ltag1:"Select_ltag1_2Vdvc",ltag2:"Select_ltag2_3q35c",lbtn:"Select_lbtn_3dL_e",recomTagItem:"Select_recomTagItem_1KDbH"}},d251:function(t,e,i){"use strict";var a=i("8475"),o=i.n(a);e["default"]=o.a},d263:function(t,e,i){t.exports={scroll3:"ReplyModal_scroll3_1mtZD",zIndex:"ReplyModal_zIndex_3ORdn"}},d2aa:function(t,e,i){t.exports={container:"card1_container_1aRVR",item:"card1_item_37cUT",option:"card1_option_2kRaD",text:"card1_text_2LWaM",pic:"card1_pic_1mGeu",ratio:"card1_ratio_2dMz6",checkbox:"card1_checkbox_1i1bG",progress:"card1_progress_3SICU",icon:"card1_icon_21KCZ",field:"card1_field_3ZwTv",active:"card1_active_3N7_o",selected:"card1_selected_paKz2",count:"card1_count_2mtbZ"}},d2ea:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box-item",{nativeOn:{click:function(e){return t.select(e)}}},[i("div",{staticClass:"wbpro-form",class:t.status},[i("woo-box",[t.title?i("span",[t._v(t._s(t.title))]):t._e(),i("woo-box-item",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],ref:"input",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.content},on:{keypress:function(t){t.stopPropagation()},blur:t.blur,focus:t.focus,input:function(e){e.target.composing||(t.content=e.target.value)}}})]),t.maxOptionLen?i("div",{staticClass:"num",class:t.$style.max},[t._v(" "+t._s(t.countLen(t.content))+"/"+t._s(t.maxOptionLen)+" ")]):t._e()],1)],1)])},o=[],n=(i("a9e3"),i("6c3f")),s={props:{title:{},maxOptionLen:{type:Number},text:{type:String,default:""},placeholder:{type:String,default:""},error:{type:Boolean,default:!1}},data:function(){return{status:"",content:this.text}},watch:{text:function(t){this.content=t},content:function(t){var e=Math.ceil(Object(n["a"])(t)/2);e>this.maxOptionLen||0===e?(this.content=Object(n["d"])(t,this.maxOptionLen),this.status="error"):this.status="focus",this.$emit("change",this.content)},error:function(t){t&&""===this.content&&(this.status="error")}},methods:{select:function(){this.$refs.input.select()},countLen:function(t){return Math.ceil(Object(n["a"])(t)/2)},blur:function(){"error"!==this.status&&(this.status="",this.$emit("blur"))},focus:function(){this.status="focus",this.$emit("focus")}}},r=s,l=i("b011"),c=i("2877");function u(t){this["$style"]=l["default"].locals||l["default"]}var d=Object(c["a"])(r,a,o,!1,u,null,null);e["default"]=d.exports},d2f1:function(t,e,i){"use strict";var a=i("2a74"),o=i.n(a);e["default"]=o.a},d3a0:function(t){t.exports=JSON.parse('{"v":"5.6.10","fr":60,"ip":0,"op":60,"w":48,"h":48,"nm":"直播动态-橙色","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"形状图层 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[39,41,0],"ix":2},"a":{"a":0,"k":[-15.063,13.904,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":1,"k":[{"i":{"x":[0.667,0.667],"y":[1,1]},"o":{"x":[0.333,0.333],"y":[0,0]},"t":0,"s":[6,26],"e":[6,36]},{"i":{"x":[0.667,0.667],"y":[1,1]},"o":{"x":[0.333,0.333],"y":[0,0]},"t":30,"s":[6,36],"e":[6,26]},{"t":59}],"ix":2},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[0,0],"e":[0,-5],"to":[0,-0.833],"ti":[0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":30,"s":[0,-5],"e":[0,0],"to":[0,0],"ti":[0,-0.833]},{"t":59}],"ix":3},"r":{"a":0,"k":60,"ix":4},"nm":"矩形路径 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"描边 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.509803950787,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-15.063,0.904],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"矩形 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":60,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"形状图层 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[24,41,0],"ix":2},"a":{"a":0,"k":[-15.063,19.246,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":1,"k":[{"i":{"x":[0.667,0.667],"y":[1,1]},"o":{"x":[0.333,0.333],"y":[0,0]},"t":0,"s":[6,36],"e":[6,20]},{"i":{"x":[0.667,0.667],"y":[1,1]},"o":{"x":[0.333,0.333],"y":[0,0]},"t":30,"s":[6,20],"e":[6,36]},{"t":59}],"ix":2},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[0,0],"e":[0,8],"to":[0,1.333],"ti":[0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":30,"s":[0,8],"e":[0,0],"to":[0,0],"ti":[0,1.333]},{"t":59}],"ix":3},"r":{"a":0,"k":60,"ix":4},"nm":"矩形路径 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"描边 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.509803950787,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-15.063,1.246],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"矩形 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":60,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"形状图层 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[9,41,0],"ix":2},"a":{"a":0,"k":[-15.063,17.496,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":2,"s":{"a":1,"k":[{"i":{"x":[0.667,0.667],"y":[1,1]},"o":{"x":[0.333,0.333],"y":[0,0]},"t":0,"s":[6,20],"e":[6,28]},{"i":{"x":[0.667,0.667],"y":[1,1]},"o":{"x":[0.333,0.333],"y":[0,0]},"t":30,"s":[6,28],"e":[6,20]},{"t":59}],"ix":2},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[0,0],"e":[0,-4],"to":[0,-0.667],"ti":[0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":30,"s":[0,-4],"e":[0,0],"to":[0,0],"ti":[0,-0.667]},{"t":59}],"ix":3},"r":{"a":0,"k":60,"ix":4},"nm":"矩形路径 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"描边 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.509803950787,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-14.967,-2.519],"ix":2},"a":{"a":0,"k":[0.096,-10.016],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"矩形 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":60,"st":0,"bm":0}],"markers":[]}')},d463:function(t,e,i){t.exports={mar1:"RepostCommentFeed_mar1_Lb4n1",mar2:"RepostCommentFeed_mar2_3V2Sd",mar3:"RepostCommentFeed_mar3_1BrO0",tab:"RepostCommentFeed_tab_2Aw2N",bed1:"RepostCommentFeed_bed1_7VtJt",opt:"RepostCommentFeed_opt_3etDt",link:"RepostCommentFeed_link_1Y6e6",loadingIcon:"RepostCommentFeed_loadingIcon_3fEue",initLoad:"RepostCommentFeed_initLoad_3dNEZ",more:"RepostCommentFeed_more_idG8i",icon2:"RepostCommentFeed_icon2_3GfU5",divider:"RepostCommentFeed_divider_3xqBq",tip:"RepostCommentFeed_tip_16L0E"}},d4dd:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.visible?i("woo-modal",{attrs:{animation:"pop","lock-screen":""}},[i("div",{staticClass:"wbpro-layer"},[i("woo-panel",{attrs:{border:"bottom"}},[["set","edit"].includes(t.pageStatus)?i("woo-box",{staticClass:"wbpro-layer-tit"},[i("woo-box-item",{staticClass:"wbpro-layer-tit-text",attrs:{align:"center"}},[t._v(" "+t._s("set"===t.pageStatus?"设置分组":"管理自定义分组")+" ")]),"edit"===t.type?i("woo-box",{staticClass:"wbpro-layer-tit-opt",attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"cross"},nativeOn:{click:function(e){return e.stopPropagation(),t.closeModal(e)}}})],1):t._e()],1):"create"===t.pageStatus?i("woo-box",{staticClass:"wbpro-layer-tit"},[i("woo-box",{staticClass:"wbpro-layer-tit-text",class:t.$style.back,attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return t.back(e)}}},[i("woo-fonticon",{attrs:{value:"angleLeft"}}),t._v(" 返回 ")],1)],1):t._e()],1),i("div",{class:t.$style.scroll,on:{touchmove:function(t){t.stopPropagation()}}},["set"===t.pageStatus&&t.groups.length?i("SelectGroup",{attrs:{data:t.groups,defaultGroup:t.defaultGroup,existGroups:t.existGroups},on:{"create-group":t.createGroup,"group-checked-change":t.handleGroupCheckedChange,"update:existGroups":function(e){t.existGroups=e},"update:exist-groups":function(e){t.existGroups=e}}}):t._e(),"create"===t.pageStatus?i("CreateGroup",{model:{value:t.editForm,callback:function(e){t.editForm=e},expression:"editForm"}}):t._e(),"edit"===t.pageStatus?i("EditGroup",{attrs:{data:t.groups},on:{"create-group":t.createGroup,"del-group":t.handleDelGroup,"edit-group":t.editGroup,"change-order":t.handleChangeOrder,"confirm-order":t.handleConfirmOrder}}):t._e()],1),"edit"!==t.pageStatus?i("woo-box",{staticClass:"wbpro-layer-btn",attrs:{justify:"center"}},[i("woo-button",{staticClass:"wbpro-layer-btn-item",attrs:{sort:"flat",kind:"default"},on:{click:t.closeModal}},[t._v("取消")]),i("woo-button",{staticClass:"wbpro-layer-btn-item",attrs:{sort:"flat",kind:"primary"},on:{click:t.confirmForm}},[t._v("确定")])],1):t._e()],1)]):t._e()},o=[],n=(i("99af"),i("4de4"),i("7db0"),i("4160"),i("a15b"),i("d81d"),i("b0c0"),i("159b"),i("5530")),s=i("ed09"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("woo-box",{class:t.$style.lradiolist,attrs:{old:"",items:2,"gap-row":40,"gap-col":30}},t._l(t.data,(function(e,a){return i("woo-box-item",{key:a,class:t.$style.checkitemout},[i("woo-box",{attrs:{align:"center"}},[i("woo-box-item",{class:t.$style.recomTagItem,attrs:{align:"center"}},[i("woo-checkbox",{staticClass:"wbpro-form-cut",attrs:{value:e.idstr},model:{value:t.groupChecks,callback:function(e){t.groupChecks=e},expression:"groupChecks"}},[t._v(" "+t._s(e.name)+" ")])],1),e.recom?i("span",{class:[t.$style.ltag,t.$style.ltag1]},[i("span",[t._v("推荐")])]):t._e(),"public"===e.mode?i("span",{class:[t.$style.ltag,t.$style.ltag2]},[i("span",[t._v("公开")])]):t._e()],1)],1)})),1),i("woo-box",{class:t.$style.lbtn,attrs:{align:"center",justify:"between"}},[i("woo-button",{attrs:{sort:"line",kind:"primary",size:"s",fonticon:"add"},on:{click:function(e){return t.$emit("create-group")}}},[t._v(" 新建分组 ")])],1)],1)},l=[],c=(i("c975"),i("2909")),u={props:{data:{type:Array,default:function(){return[]}},defaultGroup:{type:Array,default:function(){return[]}}},setup:function(t,e){var i=e.emit,a=Object(s["p"])(t),o=a.data,n=t.defaultGroup,r=Object(s["n"])(Object(c["a"])(n)),l=[];return o.value.forEach((function(t){!t||1!==t.recom&&1!==t.exist||-1!==r.value.indexOf(t.idstr)||(l.push(t.idstr),r.value.push(t.idstr))})),i("update:existGroups",n.concat(l)),Object(s["s"])(r,(function(t){i("group-checked-change",t)}),{immediate:!0}),{groupChecks:r}}},d=u,h=i("9b6a"),p=i("2877");function f(t){this["$style"]=h["default"].locals||h["default"]}var m=Object(p["a"])(d,r,l,!1,f,null,null),v=m.exports,_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{class:t.$style.ltit},[t._v("分组名称")]),i("woo-input",{class:t.$style.lipt,attrs:{maxlength:8,placeholder:"填写标题（1～8个字）"},on:{blur:t.handleChangeForm},model:{value:t.formValue.title,callback:function(e){t.$set(t.formValue,"title",e)},expression:"formValue.title"}}),t.hasError?i("div",{class:t.$style.ltip},[t._v(t._s(t.errorText))]):t._e(),i("div",{class:t.$style.ltit},[t._v("是否公开")]),i("woo-radio",{class:t.$style.lradio,attrs:{value:!0},on:{change:t.handleChangeForm},model:{value:t.formValue.isOpen,callback:function(e){t.$set(t.formValue,"isOpen",e)},expression:"formValue.isOpen"}},[t._v("是")]),i("woo-radio",{class:t.$style.lradio,attrs:{value:!1},on:{change:t.handleChangeForm},model:{value:t.formValue.isOpen,callback:function(e){t.$set(t.formValue,"isOpen",e)},expression:"formValue.isOpen"}},[t._v("否")])],1)},g=[],b={model:{prop:"formValue",event:"change"},props:{formValue:{type:Object,default:function(){return{title:"",isOpen:!0}}},hasError:{type:Boolean,default:!1},errorText:{type:String,default:"最多创建20个分组"}},setup:function(t,e){var i=e.emit,a=function(){var e=Object(s["p"])(t),a=e.formValue;i("change",a.value)};return{handleChangeForm:a}}},y=b,w=i("6662");function x(t){this["$style"]=w["default"].locals||w["default"]}var k=Object(p["a"])(y,_,g,!1,x,null,null),$=k.exports,C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{class:t.$style.ltit},[t._v("点击修改分组名称，拖拽调整分组顺序")]),i("woo-box",{class:t.$style.llist,attrs:{old:""}},[t._l(t.myGroups,(function(e,a){return i("woo-box-item",{key:a,class:t.$style.llistin,attrs:{draggable:"true"},nativeOn:{mousedown:function(e){return t.changeCursor("move")},mouseup:function(e){return t.changeCursor("pointer")},dragstart:function(e){return function(e){return t.onDragStart(e,a)}(e)},dragover:function(e){return e.preventDefault(),function(e){return t.onDragOver(e,a)}(e)},dragend:function(e){return e.preventDefault(),t.onDragEnd(e)}}},[i("woo-panel",{class:t.$style.lsort2,attrs:{border:"all"}},[i("woo-box",{class:[t.$style.lsort2in,t.$style[t.dragStatus]],attrs:{align:"center"},nativeOn:{click:function(i){return t.editGroup(e)}}},[i("div",{staticClass:"wbpro-textcut"},[t._v(" "+t._s(e.name)+" "),e.member_count?i("span",[t._v("("+t._s(e.member_count)+")")]):t._e()]),i("woo-fonticon",{attrs:{value:"close",kind:"dark"},nativeOn:{click:function(i){return i.stopPropagation(),t.delGroup(e)}}})],1)],1)],1)})),i("woo-box-item",{class:t.$style.llistin},[i("woo-button",{attrs:{sort:"line",kind:"primary",size:"s",fonticon:"add"},on:{click:t.createGroup}},[t._v(" 新建分组 ")])],1)],2)],1)},O=[];i("a630"),i("a434"),i("3ca3");function j(t,e){var i=Object(s["d"])().proxy,a=Object(s["n"])("hover"),o=-1,n=Object(s["a"])((function(){return t.value.filter((function(t){return t.mode&&"system"===t.mode}))})),r=function(t){var a=Array.from(e.value);a.splice.apply(a,[t,0].concat(Object(c["a"])(a.splice(o,1)))),i.$emit("change-order",[].concat(Object(c["a"])(n.value),Object(c["a"])(a)),t,o)},l=function(t){setTimeout((function(){a.value=t}),200)},u=function(t){t.preventDefault()},d=function(t,e){a.value="move",o=e,document.body.addEventListener("dragover",u)},h=function(){i.$emit("confirm-order"),a.value="hover"},p=function(t,e){e!==o&&(r(e),o=e,t.preventDefault())};return{onDragStart:d,onDragOver:p,onDragEnd:h,dragStatus:a,changeCursor:l}}var T={props:{data:{type:Array,default:function(){return[]}}},setup:function(t,e){var i=e.emit,a=Object(s["d"])().proxy,o=Object(s["p"])(t),r=o.data,l=void 0===r?[]:r,c=Object(s["n"])(l.value.filter((function(t){return t.mode&&"system"!==t.mode})));Object(s["s"])(l,(function(t){c.value=t.filter((function(t){return t.mode&&"system"!==t.mode}))}));var u=function(t){var e=t.idstr,o=t.name;a.$_w_dialog({type:"confirm",message:"确定删除该分组“".concat(o,"”吗？"),action:function(){i("del-group",e)}})},d=function(){i("create-group")},h=function(t){i("edit-group",t)},p=Object(s["a"])((function(){var e=Object(s["p"])(t),i=e.data,a=void 0===i?[]:i;return a.value.filter((function(t){return"system"===t.mode}))})),f=j(l,c);return Object(n["a"])({delGroup:u,createGroup:d,editGroup:h,defaultGroups:p,myGroups:c},f)}},D=T,S=i("7d5a");function I(t){this["$style"]=S["default"].locals||S["default"]}var L=Object(p["a"])(D,C,O,!1,I,null,null),B=L.exports,P=i("8d7e");function A(t,e,i){var a=e.emit,o=Object(P["a"])(["setGroupUpdateStatus"]),n=o.setGroupUpdateStatus,s=function(e,o,s){i.value=e,t.$Bus.$emit("change-group-order",o,s),a("update-groups-order",i.value),n(!0)},r=function(){var e=i.value.map((function(t){return t.idstr})).filter((function(t){return"more"!==t})).join(",");t.$http.post("/ajax/profile/updateGroupOrder",{list_ids:e})},l=function(e){t.$http.post("/ajax/profile/destroyGroup",{list_id:e}).then((function(o){o.data.ok>0&&(i.value=i.value.filter((function(t){return t.idstr!==e})),a("after-del-group",o.data.data),t.$Bus.$emit("after-change-group"),a("update-groups-order",i.value),n(!0))}))};return{handleDelGroup:l,handleChangeOrder:s,handleConfirmOrder:r}}var E={props:{visible:{type:Boolean,default:!1},type:{type:String,default:"set"},selected:{type:Array,default:function(){return[]}},defaultGroup:{type:Array,default:function(){return[]}},newSelected:{type:Array,default:function(){return[]}},newGroup:{type:Array,default:function(){return[]}}},setup:function(t,e){var i=e.emit,a=e.root,o=Object(s["p"])(t),r=o.type,l=o.visible,c=o.selected,u=o.defaultGroup,d=Object(P["a"])(["setGroupUpdateStatus"]),h=d.setGroupUpdateStatus,p=Object(s["n"])(!1),f=Object(s["n"])(""),m=Object(s["n"])(r.value),v=Object(s["n"])([]);Object(s["s"])(r,(function(t){m.value=t}));var _=Object(s["n"])([]),g=Object(s["n"])([]),b=Object(s["m"])({title:"",isOpen:!1,list_id:""}),y=function(){m.value="create"},w=function(t){m.value="create",b.title=t.name,b.list_id=t.idstr,b.isOpen="public"===t.mode},x=function(){b.title="",b.isOpen=!1,b.list_id="",m.value=r.value},k=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];i("update:visible",!1),t&&i("update-groups",_.value),Object(s["f"])((function(){m.value=r.value,b.title="",b.isOpen=!1,b.list_id="",_.value=[],v.value=[]}))},$=function(t){a.$http.get("/ajax/profile/getGroups",{params:t}).then((function(t){t.data.ok>0&&(_.value=t.data.data.lists)}))},C=function(t){g.value=t},O=function(){if("create"===m.value){var t="/ajax/profile/createGroup",e={name:b.title,isOpen:b.isOpen};b.list_id&&(t="/ajax/profile/updateGroup",e=Object(n["a"])(Object(n["a"])({},e),{},{list_id:b.list_id})),a.$http.post(t,e).then((function(t){t.data.ok>0&&(b.list_id?(i("update-group-success",t.data.data),_.value.forEach((function(e,i){_.value[i].idstr===t.data.data.idstr&&(_.value[i]=Object(n["a"])({},t.data.data))}))):(i("create-group-success",t.data.data),_.value.push(t.data.data)),a.$Bus.$emit("after-change-group"),h(!0),i("update-groups-order",_.value),x())}))}if("set"===m.value){var o="";if(g.value.find((function(t){return"0"===t}))){var s=_.value.find((function(t){return 0===+t.idstr}));s&&(o=s.name)}v.value=v.value.concat(u.value),a.$http.post("/ajax/profile/setGroup",{uids:c.value.join(","),list_ids:g.value.join(","),list_name:o,origin_list_ids:v.value.join(",")}).then((function(t){t.data.ok>0&&t.data.data.result?(a.$_w_toast({type:"success",message:"操作成功"}),i("after-set-group",g.value.join(","),c.value.join(","),u.value.join(",")),x(),k(!1)):a.$_w_toast({type:"error",message:"操作失败"})}))}"edit"===m.value&&i("update-groups",_.value)};Object(s["s"])(l,(function(e){if(e){if("set"===m.value){var i="";1===c.value.length&&(i=c.value[0]),0===c.value.length&&1===t.newSelected.length&&(i=t.newSelected[0]),$({target_uid:i,filterType:"system",hasRecom:!0})}"edit"===m.value&&$({showBilateral:1})}}),{immediate:!0}),Object(s["s"])((function(){return t.newSelected}),(function(t){c.value=t})),Object(s["s"])((function(){return t.newGroup}),(function(t){u.value=t}));var j=A(a,{emit:i},_);return Object(n["a"])({check:p,input:f,pageStatus:m,createGroup:y,back:x,editForm:b,confirmForm:O,editGroup:w,groups:_,handleGroupCheckedChange:C,closeModal:k,existGroups:v},j)},components:{SelectGroup:v,CreateGroup:$,EditGroup:B}},M=E,F=i("bea9");function R(t){this["$style"]=F["default"].locals||F["default"]}var V=Object(p["a"])(M,a,o,!1,R,null,null);e["a"]=V.exports},d510:function(t,e,i){"use strict";var a=i("0b75"),o=i.n(a);e["default"]=o.a},d521:function(t,e,i){"use strict";var a=i("beb8"),o=i.n(a);e["default"]=o.a},d547:function(t,e,i){t.exports={titbox:"LikeTitle_titbox_7zUJm",tit:"LikeTitle_tit_2pY29",limits:"LikeTitle_limits_2Jha4",angle:"LikeTitle_angle_1zItU",pop:"LikeTitle_pop_3x_s5"}},d5ec:function(t,e,i){"use strict";var a=i("4f23"),o=i.n(a);e["default"]=o.a},d68e:function(t,e,i){"use strict";var a=i("51ce"),o=i.n(a);e["default"]=o.a},d764:function(t,e,i){t.exports={marginb:"FeatureHot_marginb_1Q8Jt"}},d848:function(t,e,i){t.exports={llist:"Edit_llist_1T3nI",llistin:"Edit_llistin_2AAie",lsort1:"Edit_lsort1_3y-AC",lsort2:"Edit_lsort2_2EtTh",lsort2in:"Edit_lsort2in_2krtb",hover:"Edit_hover_3T9Db",move:"Edit_move_UltpD",ltit:"Edit_ltit_1AvhM"}},d88c:function(t,e,i){},d8ac:function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_nav_messagesFlat",use:"woo_svg_nav_messagesFlat-usage",viewBox:"0 0 30 30",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" id="woo_svg_nav_messagesFlat"><path d="M4 8.009A2.501 2.501 0 016.503 5.5h16.994A2.5 2.5 0 0126 8.009V21.99a2.501 2.501 0 01-2.503 2.509H6.503A2.5 2.5 0 014 21.991V8.01zm10.199 6.273c.442.327 1.157.329 1.602 0l7.592-5.597c.888-.655.709-1.185-.384-1.185H6.991c-1.1 0-1.272.53-.384 1.185l7.592 5.597z" fill="currentColor" fill-rule="nonzero" /></symbol>'});s.a.add(r);e["default"]=r},d95a:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-panel",{class:[t.$style.wrap,t.hasHover&&t.$style.hover,t.bottomGap&&t.$style.bottomGap,t.noBackground&&t.$style.noBackground],attrs:{border:"all"}},[t._t("default")],2)},o=[],n={props:{hasHover:Boolean,bottomGap:{type:Boolean,default:!0},noBackground:{type:Boolean,default:!1}}},s=n,r=i("2ab3"),l=i("2877");function c(t){this["$style"]=r["default"].locals||r["default"]}var u=Object(l["a"])(s,a,o,!1,c,null,null);e["a"]=u.exports},d98d:function(t,e,i){t.exports={list:"card-ad-collection_list_1Ihzy",listin:"card-ad-collection_listin_1z8v_",item:"card-ad-collection_item_1ztpD",angleBtn:"card-ad-collection_angleBtn_Lp3Is",angleLeft:"card-ad-collection_angleLeft_EvYp_",angleRight:"card-ad-collection_angleRight_123WG"}},da01:function(t,e,i){"use strict";var a=i("8469"),o=i.n(a);o.a},da1c:function(t,e,i){t.exports={box:"FollowGroup_box_AdHV6"}},da58:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Card",{class:t.$style.wrap,attrs:{"aria-busy":"true"}},[i("div",{class:t.$style.header},[i("div",{class:t.$style.avatar}),i("div",{class:t.$style.info},[i("div",{class:[t.$style.line,t.$style.line1]}),i("div",{class:[t.$style.line,t.$style.line2]})])]),t._l(4,(function(e){return i("div",{key:e,class:[t.$style.line,t.$style.detail]})}))],2)},o=[],n={name:"feed-skeleton"},s=n,r=i("4237"),l=i("2877");function c(t){this["$style"]=r["default"].locals||r["default"]}var u=Object(l["a"])(s,a,o,!1,c,null,null);e["a"]=u.exports},da78:function(t,e,i){t.exports={addBtn:"Career_addBtn_2hZux",addicon:"Career_addicon_GFjYT",addtext:"Career_addtext_2-9UE",addMore:"Career_addMore_2kR9e",career:"Career_career_2iEtg"}},da83:function(t,e,i){t.exports={layer:"Configs_layer_2dw-N",alink:"Configs_alink_2Yg6L"}},db2e:function(t,e,i){t.exports={box1:"Place_box1_36OZB",tit:"Place_tit_3nn8X",ipt:"Place_ipt_y5__F",scroll:"Place_scroll_gyy7L",tip:"Place_tip_2efwX",pop1:"Place_pop1_Wo8kQ",item:"Place_item_2rh1L",icon:"Place_icon_22MlL",cut:"Place_cut_20od4",cur:"Place_cur_nhUlU"}},db38:function(t,e,i){t.exports={container:"Suggest_container_OP9F3",list:"Suggest_list_148Hy",title:"Suggest_title_3KMRt",item:"Suggest_item_kGaKV",active:"Suggest_active_2OZG2"}},db75:function(t,e,i){t.exports={box:"LayerCollect_box_3uBed",listout:"LayerCollect_listout_3dd0P",list:"LayerCollect_list_3EZqh",tit:"LayerCollect_tit_gE6_5",tag:"LayerCollect_tag_19drp",tag_all:"LayerCollect_tag_all_1WW2p",tag_cur:"LayerCollect_tag_cur_1VlE3",ipt_main:"LayerCollect_ipt_main_8sqNL",ipt:"LayerCollect_ipt_2ItdR","woo-input-wrap":"LayerCollect_woo-input-wrap_3PzGk",ipt1:"LayerCollect_ipt1_1UOnm",tip:"LayerCollect_tip_1IUNN",error:"LayerCollect_error_10wiG",check_container:"LayerCollect_check_container_1TfRW",check:"LayerCollect_check_1Hize"}},dbba:function(t,e,i){t.exports={switch:"VotePop_switch_1lpu_",votebox:"VotePop_votebox_nZDuy",ipttop:"VotePop_ipttop_ixl9K",ipttop1:"VotePop_ipttop1_6UCBk",textin:"VotePop_textin_3zVFp",tab:"VotePop_tab_vrgDa",label:"VotePop_label_3WuRw",boxc:"VotePop_boxc_XiCwV",picbed:"VotePop_picbed_15m2k",picclose:"VotePop_picclose_3GMaW",picedit:"VotePop_picedit_mCuI_",close:"VotePop_close_1AJeW",iptitem:"VotePop_iptitem_2yrdm",iptclose:"VotePop_iptclose_2FF3I",addc:"VotePop_addc_3WmIA",addc1:"VotePop_addc1_21Keg",add:"VotePop_add_C2gVP",icon:"VotePop_icon_28P8U",timer:"VotePop_timer_2rpOr",select:"VotePop_select_2OvCF",item_title:"VotePop_item_title_38-eE",multi:"VotePop_multi_K55M_",multi_item:"VotePop_multi_item_xMtoK",picadd:"VotePop_picadd_1HSy6",addtext:"VotePop_addtext_2Y3Y7",sort:"VotePop_sort_2m7eD",rightp:"VotePop_rightp_2jsG2",labelb:"VotePop_labelb_21M1S"}},dc45:function(t,e,i){t.exports={main:"BackTop_main_3m3aB",mainin:"BackTop_mainin_1sH8n"}},dc73:function(t,e,i){"use strict";var a=i("1f1c"),o=i.n(a);e["default"]=o.a},dc8c:function(t,e,i){"use strict";var a=i("c042"),o=i.n(a);e["default"]=o.a},dcc7:function(t,e,i){"use strict";var a=i("08ae"),o=i.n(a);e["default"]=o.a},dd4e:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.item.idstr?i("div",{ref:"commentEle",staticClass:"wbpro-list"},[t.item.idstr?i("div",{staticClass:"item1",class:{"wbpro-highlight":t.cid==t.item.idstr&&!t.rid}},[i("woo-box",{staticClass:"item1in"},[i("div",[i("a-link",{directives:[{name:"log",rawName:"v-log:click",value:t.getCommentClickLog(t.item,t.config.uid),expression:"getCommentClickLog(item, config.uid)",arg:"click"}],attrs:{to:"/u/"+t.item.user.id}},[t.item.user?i("woo-avatar",{key:t.item.user.profile_image_url,class:t.$style.cursor,attrs:{size:34,verified:t.getWeiboVerifiedIcon(t.item.user),src:t.item.user.profile_image_url,usercard:t.item.user.id}}):t._e()],1)],1),i("woo-box-item",{staticClass:"con1"},[i("div",{staticClass:"text"},[t.item.user&&t.item.user.screen_name?i("a-link",{directives:[{name:"log",rawName:"v-log:click",value:t.getCommentClickLog(t.item,t.config.uid),expression:"getCommentClickLog(item, config.uid)",arg:"click"}],attrs:{usercard:t.item.user.id,to:"/u/"+t.item.user.id}},[t._v(t._s(t.item.user.screen_name))]):t._e(),i("IconFans",{attrs:{mbrank:t.item.user&&t.item.user.mbrank,mbtype:t.item.user&&t.item.user.mbtype,svip:t.item.user&&t.item.user.svip,vvip:t.item.user&&t.item.user.vvip,fansIcon:t.item.user&&t.item.user.fansIcon}}),t._v(":"),t.item.text?i("span",{directives:[{name:"ahref",rawName:"v-ahref"}],domProps:{innerHTML:t._s(t.item.text)},on:{click:function(e){return e.stopPropagation(),t.clickText(e)}}}):t._e()],1),t.item.pics&&t.item.pics.length?t._l(t.item.pics,(function(e,a){return i("div",{key:a,staticClass:"media",on:{click:function(e){return e.stopPropagation(),t.viewPic(a,t.item.pics)}}},[i("woo-picture",{key:e.url,attrs:{src:e.url,alt:"等比图"}})],1)})):t._e(),i("a",{class:t.$style.associate_text,attrs:{href:t.item.extra_desc_url,target:"_blank"}},[t._v(t._s(t.item.extra_desc))]),i("woo-box",{ref:"info",staticClass:"info",attrs:{align:"center",justify:"between"}},[i("div",[t._v(" "+t._s(t._f("fromNow")(t.item.created_at,!0))+" "),t.item.source?i("span",[t._v(" "+t._s(t.item.source))]):t._e(),t.item.translate_source&&t.item.translated?i("span",[t._v(" "+t._s(t.item.translate_source))]):t._e(),1===t.item.approval_comment_type?i("span",[t._v("审核评论中，仅自己可见")]):t._e()]),t.item.button?t._e():i("IconList",{attrs:{iconsName:t.iconsName(t.item.user&&t.item.user.id,t.item),widthCount:!0,likeType:"comment",data:t.iconsData(t.item),actLogData:t.actLogData,weiboData:t.weiboData,translated:t.item.translated},on:{"translate-finish":function(e){return t.onTranslateFinish(t.item,e)},"translate-recover":function(){return t.onTranslateRecover(t.item)}}})],1)],2),t.item.button?i("woo-box",{attrs:{align:"center",justify:"between"}},[t.check?i("woo-button",{attrs:{sort:"simple",kind:"default",size:"s",disabled:""}},[t._v("已通过")]):i("woo-button",{class:t.$style.button,attrs:{sort:"line",size:"s",kind:"primary",loading:t.loading,disabled:t.loading},nativeOn:{click:function(e){return t.toCheck(e)}}},[t._v(" "+t._s(t.item.button.text)+" ")])],1):t._e()],1),i("div",{staticClass:"list2"},[t.item.comments&&t.item.comments.length?[t._l(t.item.comments,(function(e,a){return i("div",{key:e.id,staticClass:"item2"},[i("div",{staticClass:"con2"},[i("div",{staticClass:"text"},[e.user&&e.user.id?i("a-link",{directives:[{name:"log",rawName:"v-log:click",value:t.getCommentClickLog(e,t.config.uid),expression:"getCommentClickLog(comments, config.uid)",arg:"click"}],attrs:{usercard:e.user.id,to:"/u/"+e.user.id}},[t._v(t._s(e.user.screen_name))]):t._e(),!t.getWeiboVerifiedIcon(e.user)||e.user.fansIcon&&e.user.fansIcon.isAuthor?t._e():[e.user&&e.user.fansIcon&&"ai_assistant"!==e.user.fansIcon.name?i("woo-icon",{staticClass:"iconv",attrs:{symbol:t.getWeiboVerifiedIcon(e.user)}}):t._e()],i("IconFans",{attrs:{mbrank:e.user&&e.user.mbrank,mbtype:e.user&&e.user.mbtype,fansIcon:e.user&&e.user.fansIcon,svip:e.user&&e.user.svip,vvip:e.user&&e.user.vvip}}),t._v(":"),e.text?i("span",{directives:[{name:"ahref",rawName:"v-ahref"}],domProps:{innerHTML:t._s(e.text)}}):t._e()],2),e.pics&&e.pics.length?t._l(e.pics,(function(a,o){return i("div",{key:o,staticClass:"media",on:{click:function(i){return i.stopPropagation(),t.viewPic(o,e.pics)}}},[i("woo-picture",{key:a.url,attrs:{src:a.url,alt:"等比图"}})],1)})):t._e(),i("woo-box",{staticClass:"info",attrs:{align:"center",justify:"between"}},[i("div",[t._v(" "+t._s(t._f("fromNow")(e.created_at,!0))+" "),e.source?i("span",[t._v(t._s(e.source))]):t._e(),e.translate_source&&e.translated?i("span",[t._v(" "+t._s(e.translate_source))]):t._e(),1===e.approval_comment_type?i("span",[t._v("审核评论中，仅自己可见")]):t._e()]),i("IconList",{attrs:{iconsName:t.iconsCommentsName(e.user&&e.user.id,e),widthCount:!0,likeType:"comment",data:t.iconsData(e,t.item,a),actLogData:t.actLogData,translated:e.translated},on:{"translate-finish":function(i){return t.onTranslateFinish(e,i)},"translate-recover":function(){return t.onTranslateRecover(e)}}})],1)],2)])})),t.item.more_info&&t.item.more_info.highlight_text?i("div",{staticClass:"item2"},[i("div",{staticClass:"text",on:{click:function(e){return e.stopPropagation(),t.toReplyList()}}},[i("a",{attrs:{href:"javascript:;"}},[t._v(t._s(t.item.more_info.highlight_text)),i("woo-fonticon",{attrs:{value:"caretDown"}})],1)])]):t._e()]:t.item.more_info?i("div",{staticClass:"item2"},[i("div",{staticClass:"con2"},[t.item.more_info.text&&t.item.more_info.user_list&&t.item.more_info.user_list.length?i("div",{staticClass:"text"},[i("a-link",{attrs:{to:"/u/"+t.item.more_info.user_list[0].id,usercard:t.item.more_info.user_list[0].id}},[i("span",[t._v(t._s(t.item.more_info.user_list[0].screen_name))])]),t._v(" 等人 "),i("span",{class:[t.$style.toreply,t.$style.cursor],on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toReplyList()}}},[t._v(" "+t._s(t.item.more_info.highlight_text)+" "),i("woo-fonticon",{attrs:{value:"caretDown"}})],1)],1):t.item.more_info.highlight_text?i("div",{staticClass:"text",on:{click:function(e){return e.stopPropagation(),t.toReplyList()}}},[i("a",{attrs:{href:"javascript:;"}},[t._v(t._s(t.item.more_info.highlight_text)),i("woo-fonticon",{attrs:{value:"caretDown"}})],1)]):t._e()])]):t._e()],2)],1):t._e()]):t._e()},o=[],n=(i("99af"),i("4de4"),i("a15b"),i("5530")),s=i("2f62"),r=i("e054"),l=i("cc8d"),c=i("c9bf"),u=i("32d4"),d=i("eba1"),h=i("a2ba"),p=i("997f"),f={name:"Comment",props:["item","index","showReplyModal","actLogData","weiboData"],data:function(){return{pics:[],loading:!1,check:!1}},mounted:function(){this.goAnchor(this.cid)},computed:Object(n["a"])(Object(n["a"])({},Object(s["c"])(["composerCallback","config"])),{},{isMy:function(){var t,e;return!!(null===(t=this.weiboData)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.id)&&this.weiboData.user.id===this.config.uid},cid:function(){return this.$route.query.cid},rid:function(){return this.$route.query.rid},checkComment:function(){return this.weiboData&&2===this.weiboData.is_show_bulletin&&this.weiboData.comment_manage_info&&1===this.weiboData.comment_manage_info.approval_comment_type}}),watch:{composerCallback:function(t){if("reply"===t.action&&t.ok&&!this.showReplyModal&&(t.location[0]>=0||t.location[1]>=0)&&this.item.id===t.data.rootid)if(t.data.pic_ids&&t.data.pic_ids.length&&t.data.pic_ids[0]&&(t.data.pics=Object(r["a"])(t.data.pic_ids)),this.item.comments&&this.item.comments.length){if(!this.isMy&&this.checkComment&&(t.data.approval_comment_type=1),this.item.comments.length&&this.item.comments[0].idstr===t.data.idstr)return;this.item.comments.unshift(t.data),this.item.total_number++,this.item.more_info&&this.item.more_info.highlight_text&&(this.item.more_info.highlight_text="共".concat(this.item.total_number,"条回复")),this.weiboData.comments_count++,this.weiboData.comments_count_format=Object(d["b"])(this.weiboData.comments_count)}else this.$set(this.item,"comments",[t.data]),this.item.total_number=1,this.weiboData.comments_count++,this.weiboData.comments_count_format=Object(d["b"])(this.weiboData.comments_count)}},components:{IconList:c["a"],IconFans:u["a"]},methods:{clickText:function(t){if(this.item.isLongText&&this.item.associate_status_id){var e,i,a=t.target;if(a.classList.contains("expand")||a.classList.contains("collapse"))window.open("/".concat(null===(e=this.item)||void 0===e||null===(i=e.user)||void 0===i?void 0:i.id,"/").concat(this.item.associate_status_id))}},getCommentClickLog:p["a"],onTranslateRecover:h["b"],onTranslateFinish:h["a"],getWeiboVerifiedIcon:l["a"],viewPic:function(t,e){this.$Bus.$emit("showViewer",{data:{index:t,pics:e},type:"image"})},toReplyList:function(){this.$emit("updateReplyModal",{show:!0,id:this.item.idstr,total_number:this.item.total_number,rootComment:this.item})},iconsData:function(t,e,i){return Object(p["b"])("comment",t,e,this.index,i,t.is_associate?t.associate_id:this.weiboData.idstr)},goAnchor:function(t){var e=this;+this.cid===+this.item.idstr&&setTimeout((function(){e.rid?e.$emit("updateReplyModal",{show:!0,id:e.item.idstr,total_number:e.item.total_number,rootComment:e.item}):e.$refs.commentEle.scrollIntoView({block:"center",behavior:"smooth"})}),0)},iconsName:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[{name:"translate",title:"翻译",hover:0,hide:!(null===e||void 0===e?void 0:e.translate)},{name:"retweet",title:"转发",hover:0},{name:"comment",title:"评论",hover:0},{name:"like",title:"赞",hover:0}];return(this.isMy||this.config.uid===t)&&i.unshift({name:"delete",title:"删除",hover:1}),this.isMy&&this.config.uid!==t&&i.unshift({name:"screen",title:"屏蔽",hover:1}),this.config.uid!==t&&i.unshift({name:"report",title:"投诉",hover:1}),i.filter((function(t){return!t.hide}))},iconsCommentsName:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[{name:"translate",title:"翻译",hover:1,hide:!(null===e||void 0===e?void 0:e.translate)},{name:"retweet",title:"转发",hover:1},{name:"comment",title:"评论",hover:1},{name:"like",title:"赞",hover:1}];return(this.isMy||this.config.uid===t)&&i.unshift({name:"delete",title:"删除",hover:1}),this.isMy&&this.config.uid!==t&&i.unshift({name:"screen",title:"屏蔽",hover:1}),this.config.uid!==t&&i.unshift({name:"report",title:"投诉",hover:1}),i.filter((function(t){return!t.hide}))},toCheck:function(){var t=this;this.check||this.$http.post("/ajax/approval/update_comment_state",{cids:[this.item.id+":1"].join(",")}).then((function(e){e.data&&e.data.ok&&e.data.data&&e.data.data.result&&(t.loading=!0,setTimeout((function(){t.loading=!1,t.check=!t.check}),500))}))}}},m=f,v=(i("f377"),i("cbca")),_=i("2877");function g(t){this["$style"]=v["default"].locals||v["default"]}var b=Object(_["a"])(m,a,o,!1,g,null,null);e["a"]=b.exports},dd68:function(t,e,i){"use strict";var a=i("81b4"),o=i.n(a);o.a},dd79:function(t,e,i){"use strict";var a=i("20af"),o=i.n(a);e["default"]=o.a},dda0:function(t,e,i){"use strict";var a=i("9c87"),o=i.n(a);e["default"]=o.a},ddba:function(t,e,i){},ddd8:function(t,e,i){t.exports={main:"like-diy_main_25OGE",count:"like-diy_count_1g7Fw",iconWrap:"like-diy_iconWrap_1FqRF",icon:"like-diy_icon_3fRbq",liked:"like-diy_liked_Wtp1J"}},de5c:function(t,e,i){"use strict";var a=i("f321"),o=i.n(a);e["default"]=o.a},de96:function(t,e,i){t.exports={toolbarSpin:"picture-tool-bar_toolbarSpin_BzDfi",toolbar:"picture-tool-bar_toolbar_Mot_M",toolItem:"picture-tool-bar_toolItem_SumJU",icon:"picture-tool-bar_icon_3UbxU",divider:"picture-tool-bar_divider_1tFQE",fixed:"picture-tool-bar_fixed_3d4Bj"}},deb4:function(t,e,i){"use strict";var a=i("541c"),o=i.n(a);o.a},dedd:function(t,e,i){},df00:function(t,e,i){t.exports={cut:"CustomCard_cut_3-ELV",cut2:"CustomCard_cut2_2XGu6",wrap:"CustomCard_wrap_1QFBe",pad1:"CustomCard_pad1_2d_si",pad2:"CustomCard_pad2_1be1K",picbor1:"CustomCard_picbor1_2EXG8",picbor2:"CustomCard_picbor2_37Iug",content:"CustomCard_content_1DyWX",textbox:"CustomCard_textbox_PHrYE",textgap:"CustomCard_textgap_Y_9lm",title:"CustomCard_title_33A2X",desc:"CustomCard_desc_34Krq",iconbox:"CustomCard_iconbox_-MZ_I",icontext:"CustomCard_icontext_20b0Y",nocard:"CustomCard_nocard_3uyDj",noborderbottom:"CustomCard_noborderbottom_1GmMl"}},df71:function(t,e,i){t.exports={pop:"ProfileFeed_pop_3ieTb",dl:"ProfileFeed_dl_3lJ9i",ipt:"ProfileFeed_ipt_AxzuF",card1:"ProfileFeed_card1_K8xOv",card1in:"ProfileFeed_card1in_1VaKU",line1:"ProfileFeed_line1_20gL0",reset:"ProfileFeed_reset_3hjes",btn:"ProfileFeed_btn_2uYcC",btnin:"ProfileFeed_btnin_qNI_m",empty:"ProfileFeed_empty_2D3OA",resetBtn:"ProfileFeed_resetBtn_30elZ",sbtn:"ProfileFeed_sbtn_1fWjg",tipbox:"ProfileFeed_tipbox_1ftep",loadingIcon:"ProfileFeed_loadingIcon_1i09H"}},df79:function(t,e,i){t.exports={wrap:"card10_wrap_ZEp93",line:"card10_line_qY6oY",content:"card10_content_ASUD2",item:"card10_item_1gDOk",f12:"card10_f12_O4A-i",fb:"card10_fb_IwVTc",cla:"card10_cla_h698I",clb:"card10_clb_1PZnC",con:"card10_con_1bnJV",right:"card10_right_2ooxG",button:"card10_button_3jdcy"}},dfce:function(t,e,i){t.exports={box:"MonographPop_box_2-Gah",btn1:"MonographPop_btn1_3yVnD",btn2:"MonographPop_btn2_ez3f-",list:"MonographPop_list_2Bm-w",scroll:"MonographPop_scroll_1FuDd",item:"MonographPop_item_2JU-m",pic:"MonographPop_pic_3v7-2",cut:"MonographPop_cut_1lBeY",h3:"MonographPop_h3_3nxgj",h4:"MonographPop_h4_RBmfz",empty:"MonographPop_empty_33Igk",update:"MonographPop_update_3sxAf"}},e038:function(t,e,i){"use strict";var a=i("d0a4"),o=i.n(a);e["default"]=o.a},e054:function(t,e,i){"use strict";i("7db0"),i("d81d");var a=i("5abd");e["a"]=function(t,e){return t&&t.map((function(t){return{url:a["d"](t,"orj360"),geo:a["c"](t),large:{url:a["d"](t,"large")},mw690:{url:a["d"](t,"mw690")},normal:{url:a["d"](t,"mw1024")},mw2000:{url:a["d"](t,"mw2000")},pid:t,focus_point:e&&e.length&&e.find((function(e){return e.pic_id===t}))&&e.find((function(e){return e.pic_id===t})).focus_point,type:a["b"](t)}}))}},e057:function(t,e,i){"use strict";var a=i("c854"),o=i.n(a);e["default"]=o.a},e06d:function(t,e,i){t.exports={cut:"Comment_cut_1oNF3",loyal:"Comment_loyal_1INak",vip:"Comment_vip_XpjrY",button:"Comment_button_2icjf",cursor:"Comment_cursor_3aL6J",toreply:"Comment_toreply_34cmY"}},e0c7:function(t,e,i){"use strict";var a=i("42ad"),o=i.n(a);e["default"]=o.a},e2be:function(t,e,i){"use strict";var a=i("efc4"),o=i.n(a);e["default"]=o.a},e34d:function(t,e,i){"use strict";var a=function(){var t,e=this,i=e.$createElement,a=e._self._c||i;return a("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:e.visibilityChanged,intersection:{threshold:0,rootMargin:"0px 93px 0px 0px"}},expression:"{\n    callback: visibilityChanged,\n    intersection: {\n      threshold: 0,\n      rootMargin: '0px 93px 0px 0px'\n    }\n  }"}],staticClass:"picture"},[a("woo-box",{class:(t={},t[e.$style.singleImg]=e.isSinglePic,t[e.$style.inlineNum3]=3===e.inlineNum,t),style:e.singlePic.style,attrs:{old:"",wrap:"wrap",items:e.inlineNum,"gap-row":e.isSinglePic?0:4,"gap-col":e.isSinglePic?0:4}},[e._l(e.newPics,(function(t,i){return[t?a("woo-box-item",{key:i,class:[e.$style.item,e.$style.cursor],attrs:{grow:0},nativeOn:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.clickHandle(i,t)}}},[e.isGif(t.type,t.url,t.pid)?[e.isCurVideoImage(i)?e._e():a("div",{class:e.$style.tag},[e._v(" 动图 ")])]:e.isLivePhoto(t.type,t.url,t.pid)?[e.isCurVideoImage(i)?e._e():a("div",{class:[e.$style.tag,e.$style.live]},[e._v(" Live ")])]:e.isTall(t.geo)?a("div",{class:e.$style.tag},[e._v(" 长图 ")]):e._e(),e.showStaticPic(t)?a("woo-picture",{class:[e.$style.pic,e.isTall(t.geo)&&e.$style.picTall],style:e.singlePic.style,attrs:{src:t.focus_point?null:t.url,"aspect-ratio":e.getPicRadio(t.geo)}},[t.focus_point?a("img",{key:t.url,class:e.$style.focusImg,style:[e.focusImg(t.geo,t.focus_point,e.targetRatio),e.singlePic.focusImg],attrs:{src:t.url}}):e._e(),!e.$attrs.single&&e.isMask&&8===i&&e.pic_num>9?a("woo-box",{class:[e.$style.mask,e.$style.focusImg],attrs:{align:"center",justify:"center"}},[a("span",{class:e.$style.picNum,domProps:{innerHTML:e._s("+"+(e.pic_num-9))}})]):e._e(),t.isPay?a("div",{class:e.$style.payTag}):e._e(),e._t("pictureSlot",null,{picInfo:{pic:t,index:i}})],2):a("woo-picture",{class:[e.$style.pic,e.isTall(t.geo)&&e.$style.picTall],style:e.singlePic.style,attrs:{"aspect-ratio":e.getPicRadio(t.geo)}},[+e.curVideoImageIndex===+i?a("video",{ref:"videoImageRef",refInFor:!0,class:[e.getVideoImageRatio(t)<=1?e.$style.horiVideoImage:e.$style.vertVideoImage],attrs:{src:e.upgradeProtocol(t.video),poster:t.url,autoplay:"",muted:""},domProps:{muted:!0},on:{ended:e.onVideoImageEnded}}):a("img",{class:e.$style.customPoster,attrs:{src:t.url}}),!e.$attrs.single&&e.isMask&&8===i&&e.pic_num>9?a("woo-box",{class:[e.$style.mask,e.$style.focusImg],attrs:{align:"center",justify:"center"}},[a("span",{class:e.$style.picNum,domProps:{innerHTML:e._s("+"+(e.pic_num-9))}})]):e._e(),e._t("pictureSlot",null,{picInfo:{pic:t,index:i}})],2)],2):e._e()]}))],2)],1)},o=[],n=(i("4160"),i("fb6a"),i("a9e3"),i("ac1f"),i("5319"),i("159b"),i("b85c")),s=i("399b"),r=i("7909"),l={name:"feed-picture",props:{pics:Array,isMask:{type:Boolean,default:!0},pic_num:Number,isPay:Boolean,pagetype:String,lastIndex:{type:Number,default:0}},inheritAttrs:!1,mixins:[r["a"]],data:function(){return{lazy:this.$attrs["img-lazy"],singleFocusImg:{},playlist:[],curVideoImageIndex:0,timer:null}},watch:{visable:function(t){t&&(this.lazy=!1)},newPics:{handler:function(t,e){var i=this;if(JSON.stringify(t)!==JSON.stringify(e)&&(this.playlist=[],t.forEach((function(t,e){"gif"!==t.type&&"dynamic"!==t.type&&"livephoto"!==t.type||i.playlist.push({pid:t.pid,video:t.video,index:e})})),this.playlist.length)){var a=this.playlist.shift();this.curVideoImageIndex=a.index}},immediate:!0}},created:function(){this.visable&&(this.lazy=!1)},computed:{isSinglePic:function(){return this.pics&&1===this.pics.length},inlineNum:function(){var t=1;return this.newPics.length%3===0||2===this.newPics.length?t=3:(this.newPics.length%4===0||this.newPics.length>=5)&&(t=4),t},areaWidth:function(){var t="";return 1===this.inlineNum&&this.pics[0].geo.width<=160?t=this.$style.wrapTiny:this.inlineNum<3&&!this.$attrs.single&&(t=this.$style.wrapSlim),t},targetRatio:function(){var t,e,i,a;return this.isSinglePic?(null===(t=this.pics[0])||void 0===t||null===(e=t.geo)||void 0===e?void 0:e.width)/(null===(i=this.pics[0])||void 0===i||null===(a=i.geo)||void 0===a?void 0:a.height)===1?1:4/3:1},newPics:function(){var t=[];return t=!this.$attrs.single&&this.pics&&this.pics.length>9?this.pics.slice(0,9):this.pics,t},singlePicStyles:function(){if(this.isSinglePic){var t=168,e=this.isPay&&this.pics[0]&&this.pics[0].width?this.pics[0].width:this.pics[0].geo&&this.pics[0].geo.width,i=this.isPay&&this.pics[0]&&this.pics[0].height?this.pics[0].height:this.pics[0].geo&&this.pics[0].geo.height;return{width:"".concat(t,"px"),height:"".concat(e>i?t*(3/4):e<i?t*(4/3):1*t,"px")}}return{}},singlePic:function(){if(this.isSinglePic){var t=this.pics[0];if(!t.focus_point)return{style:this.singlePicStyles};var e=this.focusImg(t.geo,t.focus_point,this.targetRatio);if(e)return parseInt(e.width)<100?{focusImg:{width:"100%"},style:{width:e.width,height:this.singlePicStyles.height}}:parseInt(e.height)<100?{focusImg:{height:"100%"},style:{width:this.singlePicStyles.width,height:e.height}}:{style:this.singlePicStyles}}return{}}},methods:{upgradeProtocol:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.replace(/^http:/,"https:")},showStaticPic:function(t){return"gif"!==t.type&&"dynamic"!==t.type&&"livephoto"!==t.type},visibilityChanged:function(t){var e,i=this;0!==this.playlist.length&&(t?(this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout((function(){var t,e=null===(t=i.$refs)||void 0===t?void 0:t.videoImageRef;if(Array.isArray(e)&&(null===e||void 0===e?void 0:e.length)){var a,o=null===(a=i.$refs)||void 0===a?void 0:a.videoImageRef[0];(null===o||void 0===o?void 0:o.play)&&o.play()}}),100)):null===(e=this.$refs.videoImageRef)||void 0===e||e.forEach((function(t){t.pause()})))},getVideoImageRatio:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(null===t||void 0===t?void 0:t.geo)||{},i=e.height,a=void 0===i?1:i,o=e.width,n=void 0===o?1:o;return n/a},onVideoImageEnded:function(){if(0!==this.playlist.length){var t=this.playlist.shift();this.curVideoImageIndex=t.index}else this.curVideoImageIndex=-1},checkData:function(t,e){if(!Object(s["a"])(t)||!Array.isArray(e))return!1;var i,a=Object(n["a"])(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;return t.hasOwnProperty(o)}}catch(r){a.e(r)}finally{a.f()}},geoAble:function(t){return this.checkData(t,["width","height"])},pointAble:function(t){return this.checkData(t,["left","top","width","height"])},getPicRadio:function(t){var e="1:1";return this.pics&&1===this.pics.length&&this.geoAble(t)&&(this.$attrs.single?e=t.height/t.width:t.height<t.width?e="4:3":t.height>t.width&&(e=4/3)),e},focusImg:function(t,e,i){if(this.geoAble(t)&&this.pointAble(e)){var a,o,n,s,r,l,c=e.top,u=e.left,d=e.width,h=e.height,p=t.width,f=t.height,m={};f>p?(a="width",o="height",n="top",s=c,r=h,l=f/p):(a="height",o="width",n="left",s=u,r=d,l=p/f);var v=1,_=v*l,g=v,b=g*i,y=s*l,w=r*l;return m[a]="100%",m[o]=100*l/i+"%",m[n]=y+w/2<=b/2?0:_-y-w/2<=b/2?-100*(_-b)/b+"%":-100*(w/2+y-b/2)/b+"%",m}},isGif:function(t,e,i){if(!e)return!1;var a=/(http(s?):)([/|.|\w|\s|-])*\.(?:gif)/g;return"gif"===t||"dynamic"===t||a.test(e)},isLivePhoto:function(t,e,i){return!!e&&"livephoto"===t},isCurVideoImage:function(t){return t===this.curVideoImageIndex},isTall:function(t){return!!t&&(t.width/t.height<=.3||void 0)},clickHandle:function(t,e){var i=this.pics,a="edit"!==this.pagetype?this.$attrs:"",o=a.content;this.$emit("picture-tap",{index:t,pics:i,content:o},e,this.$el)}},beforeDestroy:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},c=l,u=i("2486"),d=i("2877");function h(t){this["$style"]=u["default"].locals||u["default"]}var p=Object(d["a"])(c,a,o,!1,h,null,null);e["a"]=p.exports},e39d:function(t,e,i){t.exports={wrap:"skeleton_wrap_7clg7",header:"skeleton_header_6kt4S",avatar:"skeleton_avatar_2Ryhr","shine-line-avatar":"skeleton_shine-line-avatar_1j-_O",info:"skeleton_info_3scs9",line:"skeleton_line_2bzCz","shine-line":"skeleton_shine-line_2Y0yk",line1:"skeleton_line1_ESb-Q",line2:"skeleton_line2_1ni6Y",detail:"skeleton_detail_3JAnB"}},e456:function(t,e,i){"use strict";var a=i("931c"),o=i.n(a);e["default"]=o.a},e496:function(t,e,i){"use strict";var a=i("adae"),o=i.n(a);e["default"]=o.a},e4dd:function(t,e,i){"use strict";var a=i("dfce"),o=i.n(a);e["default"]=o.a},e50f:function(t,e,i){"use strict";var a=i("56cf"),o=i.n(a);e["default"]=o.a},e66c:function(t,e,i){"use strict";var a=i("baa3"),o=i.n(a);e["default"]=o.a},e6c9:function(t,e,i){"use strict";var a=i("70a0"),o=i.n(a);e["default"]=o.a},e7b6:function(t,e,i){t.exports={container:"Suggest_container_2QyhC",list:"Suggest_list_1LdvW",title:"Suggest_title_r33lm",item:"Suggest_item_3DCtY",active:"Suggest_active_1A6Jf"}},e7d9:function(t,e,i){"use strict";var a=i("8dc0"),o=i.n(a);e["default"]=o.a},e83f:function(t){t.exports=JSON.parse('[{"tag":"atWeibo","name":"@我的微博","api":"/ajax/statuses/mentions","parmas":{},"type":"statuses","unread":"","unreadTag":"mention_status"},{"tag":"atWeibo","name":"关注人的微博","api":"/ajax/statuses/mentions","parmas":{"filter_by_author":1},"type":"statuses","unread":"","unreadTag":"attention_mention_status"},{"tag":"atWeibo","name":"原创微博","api":"/ajax/statuses/mentions","parmas":{"filter_by_type":1},"type":"statuses"},{"tag":"atCmt","name":"@我的评论","api":"/ajax/comments/mentions","parmas":{},"type":"comments","unread":"","unreadTag":"all_mention_cmt"},{"tag":"atCmt","name":"关注人的评论","api":"/ajax/comments/mentions","parmas":{"filter_by_author":1},"type":"comments","unread":"","unreadTag":"attention_mention_cmt"}]')},e844:function(t,e,i){"use strict";var a=i("402b"),o=i.n(a);e["default"]=o.a},e849:function(t,e,i){"use strict";var a=i("f633"),o=i.n(a);e["default"]=o.a},e878:function(t,e,i){"use strict";var a=i("c963"),o=i.n(a);e["default"]=o.a},e8f6:function(t,e,i){"use strict";i.d(e,"b",(function(){return d}));i("fb6a");var a=document.selection,o=function(t){if(!a)try{return t.selectionStart}catch(n){return 0}var e=0,i=a.createRange(),o=document.body.createTextRange();try{o.moveToElementText(t)}catch(s){}for(e;o.compareEndPoints("StartToStart",i)<0;e++)o.moveStart("character",1);return e},n=function(t){return t.value.slice(0,o(t))},s=function(t,e,i){if(t.focus(),a){var o=t.createTextRange();o.collapse(1),o.moveStart("character",e),o.moveEnd("character",i-e),o.select()}else t.setSelectionRange(e,i)},r=function(t,e,i,o){if(t.focus(),o=o||0,!a){var n=t.value,r=i-o,l=r+e.length;return t.value=n.slice(0,r)+e+n.slice(i,n.length),void s(t,l,l)}var c=a.createRange();c.moveStart("character",-o),c.text=e},l=function(t,e){t.focus();var i=t.value,o=u(t),n=o.length;if(0==o.length)r(t,e,c(t));else{var s=c(t);if(a){var l=a.createRange();l.text=e,d(t,s+e.length)}else t.value=i.slice(0,s)+e+i.slice(s+n,i.length),d(t,s+e.length)}},c=function(t){var e=0;if(a){t.focus();var i=a.createRange(),o=i.duplicate();o.moveToElementText(t),o.setEndPoint("EndToEnd",i),t.selectionStartIE=o.text.length-i.text.length,t.selectionEndIE=t.selectionStartIE+i.text.length,e=t.selectionStartIE}else(t.selectionStart||"0"==t.selectionStart)&&(e=t.selectionStart);return e},u=function(t){var e="",i=function(t){return void 0!=t.selectionStart&&void 0!=t.selectionEnd?t.value.substring(t.selectionStart,t.selectionEnd):""};return e=window.getSelection?i(t):a.createRange().text,e},d=function(t,e,i){if(e=null==e?t.value.length:e,i=null==i?0:i,t.focus(),t.createTextRange){var a=t.createTextRange();a.move("character",e),a.moveEnd("character",i),a.select()}else t.setSelectionRange&&t.setSelectionRange(e,e+i)},h=function(t,e,i){i=null==i?{}:i,i.rcs=null==i.rcs?t.value.length:1*i.rcs,i.rccl=null==i.rccl?0:1*i.rccl;var a=t.value,o=a.slice(0,i.rcs),n=a.slice(i.rcs+i.rccl,""==a?0:a.length);t.value=o+e+n,this.setCursor(t,i.rcs+(null==e?0:e.length))};e["a"]={selectionStart:o,selectionBefore:n,selectText:s,insertText:r,replaceText:l,getCursorPos:c,getSelectedText:u,setCursor:d,unCoverInsertText:h}},e9d1:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._l(t.profileList,(function(e,a){return i("a-link",{key:a,attrs:{"link-type":"old","style-type":"none",target:e.target,href:t.getHref(e)},nativeOn:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[i("nav-item",{attrs:{icon:e.icon,text:e.title,cur:a===t.curIndex},on:{click:function(i){return t.handle(e,a)}}},[e.badge&&e.badgeKey&&t.unread[e.badgeKey]?i("woo-badge",{class:t.$style.unRead,attrs:{value:t.unread[e.badgeKey],max:999}}):t._e()],1)],1)})),1)},o=[],n=(i("99af"),i("7db0"),i("caad"),i("c975"),i("fb6a"),i("b0c0"),i("5530")),s=i("566b"),r=i("cafe"),l=i("2f62"),c={name:"nav-left-profile",components:{navItem:r["a"]},data:function(){return{profileList:[],curIndex:0}},computed:Object(n["a"])(Object(n["a"])({},Object(l["c"])(["config","unread"])),{},{myUid:function(){return+this.config.uid},isMy:function(){if(this.$route.params.id)return this.myUid===+this.$route.params.id;if("nameProfile"===this.$route.name)return this.config.screen_name===this.$route.params.name;if("customProfile"===this.$route.name){var t=this.$route.params,e=t.custom,i=(t.page,[100206,100505,100406,100306,100606,103505,100605,100106]),a=i.find((function(t){return e.indexOf(t)>-1}));if(a){var o=e.slice(6);return this.myUid===+o}var n=this.config.user,s=n.domain,r=n.weihao;return[s,r].indexOf(e)>-1}return!1}}),watch:{$route:function(){this.getCurIndex()}},methods:{initData:function(){this.profileList=s,this.fetchCreatorData(),this.getCurIndex()},fetchCreatorData:function(){var t,e;if(this.profileList.length&&[2,5,6].includes(null===(t=this.config)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.verified_type)){var i=this.profileList.find((function(t){return"creator"===t.type}));i&&(i.title="企业管理中心",i.alink="https://e.weibo.com/v1/eps/manage/home")}},getHref:function(t){var e=t.type,i=t.alink,a=i;return e&&(a="".concat(i,"/").concat(this.myUid),"fans"===e?a="".concat(i,"/").concat(this.myUid,"?relate=fans"):"creator"===e&&(a=i)),a},getCurIndex:function(){if(this.isMy){var t=this.$route,e=t.name,i=t.query;switch(e){case"profile":this.curIndex=0;break;case"followGroup":case"myFollowTab":case"follow":this.curIndex=1,i&&"fans"===i.relate&&(this.curIndex=2);break;case"fav":this.curIndex=3;break;case"like":this.curIndex=4;break;default:break}}},handle:function(t,e){var i=t.type,a=t.alink;if("creator"===i&&a)window.open(a);else{var o={name:i,params:{id:this.myUid}};switch(i){case"fans":o=Object(n["a"])(Object(n["a"])({},o),{},{name:"follow",query:{relate:"fans"}});break;default:break}o&&this.$router.push(o)}"_blank"!==t.target&&(this.curIndex=e,this.$Bus.$emit("clickProfileNav",t,e))}},mounted:function(){this.initData()}},u=c,d=i("0724"),h=i("2877");function p(t){this["$style"]=d["default"].locals||d["default"]}var f=Object(h["a"])(u,a,o,!1,p,null,null);e["default"]=f.exports},ea2e:function(t,e,i){t.exports={wrap:"MessageLike_wrap_2UPx5",item1:"MessageLike_item1_1xe-Y",con1:"MessageLike_con1_TjgfS",h3:"MessageLike_h3_2T4HG",from:"MessageLike_from_1haIn",cutfrom:"MessageLike_cutfrom_1CqXc",wbtext:"MessageLike_wbtext_2OWT7",textImg:"MessageLike_textImg_3sVzo",repeatbox:"MessageLike_repeatbox_BU4hZ",repeatbgbox:"MessageLike_repeatbgbox_1WBB9",replyComment:"MessageLike_replyComment_1tLnU",replyCname:"MessageLike_replyCname_2F8Ff",text:"MessageLike_text_3VIQ5",empty:"MessageLike_empty_28nSM"}},ea46:function(t,e,i){"use strict";var a=i("8c89"),o=i.n(a);e["default"]=o.a},ea92:function(t,e,i){"use strict";var a=i("9277"),o=i.n(a);e["default"]=o.a},eab1:function(t,e,i){t.exports={box:"Ai_box_1gdsa",ani:"Ai_ani_3-S87",anibg:"Ai_anibg_2cajR",translateX:"Ai_translateX_19uJG",boxin:"Ai_boxin_vxdPS",tit:"Ai_tit_QRy8f",t1:"Ai_t1_1eqjE",clc:"Ai_clc_1Q3EB",cld:"Ai_cld_M-jbg",icon1:"Ai_icon1_36xTl",svg1:"Ai_svg1_29hh-",icon3:"Ai_icon3_lKzxj",btn:"Ai_btn_1nbvP",btnxs:"Ai_btnxs_1xM23",line:"Ai_line_-hVDP",icon2:"Ai_icon2_20vVe",t2:"Ai_t2_1Yxnh",icon22:"Ai_icon22_1qjI2",t4:"Ai_t4_18Dox",gap1:"Ai_gap1_1QdP9",scroll:"Ai_scroll_3d8NO"}},eaf6:function(t,e,i){"use strict";var a=i("dc45"),o=i.n(a);e["default"]=o.a},eb51:function(t,e,i){t.exports={box1:"ProfileMiniVideo_box1_3_wW6",item1:"ProfileMiniVideo_item1_3cNEs",pic1:"ProfileMiniVideo_pic1_2BT4G",icon1:"ProfileMiniVideo_icon1_oYtx4",pos1:"ProfileMiniVideo_pos1_3IBSq",like:"ProfileMiniVideo_like_-hh8S",liked:"ProfileMiniVideo_liked_1TYJj",likenum:"ProfileMiniVideo_likenum_2YEi2",empty:"ProfileMiniVideo_empty_1FGaf"}},eba1:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"a",(function(){return o}));i("6b93"),i("b680");function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"zh-CN",a=["","K","M","G","T"];"zh-CN"===i?a=["","万","亿"]:"zh-TW"===i&&(a=["","萬","億"]);var o="zh-CN"===i||"zh-TW"===i?4:3,n=Math.floor(Math.log10(Math.abs(t))/o),s=Math.min(n,a.length-1),r=a[s],l=parseFloat(t/Math.pow(10,s*o));return(1==s&&l>=100||2==s&&l<1||2==s&&l>=100)&&(e=0),s<1?t:parseFloat((t/Math.pow(10,s*o)).toFixed(e))+r}function o(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"zh-CN";if("number"===typeof t&&e)return i&e.apply_scenario_flag&&t>=e.display_text_min_number?e.display_text:a(t,1,o);throw"check param"}},eba6:function(t,e,i){"use strict";var a=i("4ee6"),o=i.n(a);e["default"]=o.a},eba9:function(t,e,i){t.exports={cut1:"card-article_cut1_omNqy",cut2:"card-article_cut2_ZjDQI",pic:"card-article_pic_Un3hv",post:"card-article_post_3soc8",posb:"card-article_posb_32dYG",img1:"card-article_img1_3Baf5",img2:"card-article_img2_1Emui",cutout:"card-article_cutout_vlO-_",btn2:"card-article_btn2_2VrbB"}},ebbd:function(t,e,i){"use strict";var a=i("9994"),o=i.n(a);e["default"]=o.a},ec1d:function(t,e,i){"use strict";var a=i("6d0b"),o=i.n(a);e["default"]=o.a},ec39:function(t,e,i){"use strict";var a=i("5779"),o=i.n(a);e["default"]=o.a},ec54:function(t,e,i){"use strict";var a=i("ed18"),o=i.n(a);e["default"]=o.a},ecbd:function(t,e,i){"use strict";var a=i("3789"),o=i.n(a);e["default"]=o.a},ed18:function(t,e,i){t.exports={tag:"Icon_tag_2GwDU",tag4:"Icon_tag4_2fr1F",tag3:"Icon_tag3_3FLqO",tag2:"Icon_tag2_1bN8w",tag1:"Icon_tag1_hdclm"}},ed22:function(t,e,i){"use strict";var a=i("a3d0"),o=i.n(a);e["default"]=o.a},ed5d:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));i("caad"),i("d81d"),i("b64b"),i("2532");var a=i("5530"),o=i("4360"),n={status:["mention_status","attention_mention_status"],cmtStatus:["all_mention_cmt","attention_mention_cmt"],cmt:["cmt","attention_cmt"],attitude:["attitude"]};function s(t){Object.keys(n).map((function(e){n[e].includes(t.unreadTag)&&r(n[e],t.unreadTag)}))}function r(t,e){var i=o["a"].state.unread.unread,n="",s={};!i[e]||i[e]<=0||(e!=t[0]?s[e]=0:(n=i[t[0]]||0,t.map((function(t){s[t]=0}))),o["a"].commit("updateUnread",Object(a["a"])(Object(a["a"])(Object(a["a"])({},i),s),{},{messages:(i.messages||0)-n,type:e})))}},ed98:function(t,e,i){t.exports={file:"ImageEdit_file_tQ-Z3",editbox:"ImageEdit_editbox_3x6Ce",box:"ImageEdit_box_2c32H",tip:"ImageEdit_tip_1LBG5"}},ee33:function(t,e,i){"use strict";i("ac1f"),i("466d"),i("5319");var a=i("e054");e["a"]={methods:{viewLarge:function(t,e){var i=Object(a["a"])(t);this.$Bus.$emit("showViewer",{data:{index:e,pics:i},type:"image"})},viewAvatar:function(t){var e=t.match(/\/[0-9a-zA-Z]*(?=\.(jpg|png|gif))/),i=e&&e[0].replace(/\//,"");i&&this.viewLarge([i],0)}}}},ee74:function(t){t.exports=JSON.parse('[{"title":"热门推荐","type":"weibo","icon":"navHot","groups":[]},{"title":"热门榜单","type":"list","icon":"navTime","groups":[]},{"title":"热搜榜","type":"search","icon":"navSearch","groups":[]},{"title":"文娱榜","type":"entertainment","icon":"navEntertainment","groups":[]},{"title":"要闻榜","type":"news","icon":"navNews","groups":[]}]')},eede:function(t,e,i){t.exports={bed2:"ServiceModule_bed2_1Bqp7",bed3:"ServiceModule_bed3_2iMD9",bed32:"ServiceModule_bed32_9soGt",page:"ServiceModule_page_Bujyu"}},ef69:function(t,e,i){t.exports={cut1:"card-ad_cut1_1Dmew",cut2:"card-ad_cut2_aPTMD",wrap:"card-ad_wrap_1fK2C",original:"card-ad_original_37Rna",con:"card-ad_con_1XJdH",pic:"card-ad_pic_1Ay3z",cutout:"card-ad_cutout_201g4",h3:"card-ad_h3_Hc31Y",h4:"card-ad_h4_2SQ4k",btn:"card-ad_btn_3Ri-_"}},ef95:function(t,e,i){t.exports={stbtn:"UserFilter_stbtn_2NeSP",pop:"UserFilter_pop_1pDju",dl:"UserFilter_dl_2XAgd",popb1:"UserFilter_popb1_3cdXw",popb2:"UserFilter_popb2_2nvyd",popb2in:"UserFilter_popb2in_1nrsZ",popb2in2:"UserFilter_popb2in2_AuAlE",bar:"UserFilter_bar_2CIKc",pbtnb:"UserFilter_pbtnb_Kcnqa",pbtn:"UserFilter_pbtn_34nOK"}},efbb:function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_nav_pub",use:"woo_svg_nav_pub-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="woo_svg_nav_pub"><path d="M5.794 10.195l2.122-.702 6.778-6.776a1.004 1.004 0 00-.04-1.377.998.998 0 00-1.374-.036L6.5 8.074l-.706 2.121zM14 6.002c-.552 0-1 .448-1 1.002v5.997H3V3.002h6a1 1 0 00.93-.476 1.005 1.005 0 000-1.047A1 1 0 009 1.003H2c-.552 0-1 .449-1 1.003v11.991C1 14.551 1.448 15 2 15h12c.552 0 1-.449 1-1.003V7.001c-.002-.552-.449-1-1-1z" fill="currentColor" fill-rule="evenodd" /></symbol>'});s.a.add(r);e["default"]=r},efc4:function(t,e,i){t.exports={tit:"Collect_tit_3qdlQ",tt:"Collect_tt_2nkPj",ts:"Collect_ts_2Bx2r",tsch:"Collect_tsch_2uh3O",list:"Collect_list_2LCmf",litem:"Collect_litem_17z5f",lcurr:"Collect_lcurr_1n-aY",ledit:"Collect_ledit_3T2KE",lipt:"Collect_lipt_73DWu",lbtn:"Collect_lbtn_1u4FA",tip:"Collect_tip_JAGHa",error:"Collect_error_YC5fY"}},f015:function(t,e,i){t.exports={clist:"CollectionChapter_clist_1-fIv",citembox:"CollectionChapter_citembox_E_MBl",citem:"CollectionChapter_citem_1mWNY",citemcurr:"CollectionChapter_citemcurr_37oVa",pop2:"CollectionChapter_pop2_2XNjj",iconl:"CollectionChapter_iconl_EsUVk",pop2in:"CollectionChapter_pop2in_nNRNw",pop2con:"CollectionChapter_pop2con_3KrCU"}},f085:function(t,e,i){"use strict";i("b0c0");var a=i("5530"),o=i("2f62");e["a"]={computed:Object(a["a"])(Object(a["a"])({},Object(o["d"])(["access"])),{},{lpage:function(){var t=this.access.history,e=this.$route.query.lpage,i={profile:"profile",nameProfile:"profile",customProfile:"profile",detail:"detail",hot:"hot",weibo:"hot",list:"hot",topic:"hot",search:"hot"};return e||(t&&t.length&&i[t[t.length-1].name]||"")}})}},f0ce:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.timerImage||t.data.covers&&t.data.covers[0]&&t.data.covers[0].url?i("div",{class:t.$style.picbed,on:{click:function(t){t.stopPropagation()}}},[i("Picture",{attrs:{optEdit:t.data&&t.data.titles,optClose:t.data&&t.data.titles,image:t.timerImage||t.data.covers[0].url,optAspectratio:"16:9"},on:{close:t.close,edit:t.edit}})],1):t._e()},o=[],n=(i("d3b7"),{props:{data:{type:Object,default:function(){return{}}},timerImage:{type:String}},components:{Picture:function(){return Promise.resolve().then(i.bind(null,"57f4"))}},data:function(){return{isShow:!1}},methods:{show:function(){this.isShow=!0},close:function(){var t=this;this.$_w_dialog({type:"confirm",title:"确认删除？",message:"删除之后将不可恢复",action:function(){t.isShow=!1,t.$emit("close")}})},edit:function(){this.$emit("edit")}}}),s=n,r=i("4dcd3"),l=i("2877");function c(t){this["$style"]=r["default"].locals||r["default"]}var u=Object(l["a"])(s,a,o,!1,c,null,null);e["a"]=u.exports},f165:function(t,e,i){t.exports={main:"NavItem_main_2hs9r",icon:"NavItem_icon_1tzN0",text:"NavItem_text_3Z0D7",cur:"NavItem_cur_2ercx"}},f18b:function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_rewriting",use:"woo_svg_rewriting-usage",viewBox:"0 0 1024 1024",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" id="woo_svg_rewriting"><path fill-rule="evenodd" clip-rule="evenodd" fill="currentColor" d="M512 59.847c118.733 0 229.834 46.112 312.723 125.55l48.443-48.204c16.965-16.865 44.279-16.673 61.008.43a43.655 43.655 0 0112.246 26.601L963.974 358.9c2.157 23.922-15.329 45.078-39.057 47.252a42.636 42.636 0 01-7.811 0l-193.061-17.694c-23.728-2.174-41.214-23.33-39.057-47.252a43.64 43.64 0 0112.255-26.609l74.262-75.82c-68.969-65.58-161.05-103.57-259.503-103.57-208.098 0-376.795 168.696-376.795 376.795S303.902 888.795 512 888.795c106.043 0 204.95-43.982 275.813-120.079 14.182-15.229 38.024-16.079 53.253-1.897s16.078 38.024 1.897 53.254C757.989 911.322 639.181 964.154 512 964.154 262.282 964.154 59.847 761.717 59.847 512S262.282 59.847 512 59.847z" /></symbol>'});s.a.add(r);e["default"]=r},f1ee:function(t,e,i){"use strict";var a=i("9875"),o=i.n(a);e["default"]=o.a},f294:function(t,e,i){},f321:function(t,e,i){t.exports={box:"Links_box_17T3k",itembox:"Links_itembox_13adY",line:"Links_line_1Xefq"}},f377:function(t,e,i){"use strict";var a=i("9178"),o=i.n(a);o.a},f51a:function(t,e,i){"use strict";var a=function(){var t,e,i=this,a=i.$createElement,o=i._self._c||a;return i.tabs&&i.tabs.length&&i.tabs[0].name?o("div",["hot"===i.pagetype&&i.tabs[0].name?o("woo-divider"):i._e(),o("woo-box",{staticClass:"wbpro-tab2",class:(t={},t[i.$style.pad1]=8===i.getStrLen(i.tabs[0].name),t),attrs:{old:"",items:i.colum}},[i._l(i.formatTabs.slice(0,i.showCount),(function(t,e){return o("woo-box-item",{directives:[{name:"click-enter",rawName:"v-click-enter.click.stop",value:function(){return i.changeTab(t,e,1)},expression:"() => changeTab(tab, index, 1)",modifiers:{click:!0,stop:!0}}],key:e,class:{cur:i.curIndex===e&&i.curIndex<i.showCount-1}},[e<7?o("woo-box",{attrs:{align:"center",justify:"center"}},[i.cut?o("div",{directives:[{name:"focus-visible",rawName:"v-focus-visible"}],staticClass:"wbpro-textcut"},[i._v(" "+i._s(t.name)+" ")]):i.red&&!i.cut?o("div",{staticClass:"text",class:i.$style.nowrap},[o("woo-badge",{attrs:{value:t.unread,max:99,dot:t.dot&&t.unread>0}},[i._v(" "+i._s(t.name)+" ")])],1):i.cut?i._e():o("div",{staticClass:"text",class:i.$style.nowrap},[i._v(" "+i._s(t.name)+" ")])]):i._e(),7===e?o("woo-box",{directives:[{name:"click-enter",rawName:"v-click-enter.click.stop",value:function(){i.show=!i.show},expression:"\n          () => {\n            show = !show;\n          }\n        ",modifiers:{click:!0,stop:!0}},{name:"focus-visible",rawName:"v-focus-visible"}],attrs:{align:"center",justify:"center"}},[o("woo-fonticon",{attrs:{value:"more",title:"更多"}})],1):i._e()],1)})),i.formatTabs.length<8?o("woo-box-item",[i._t("tabEnd")],2):i._e()],2),i.show?o("div",{staticClass:"wbpro-pos"},[o("div",{staticClass:"wbpro-tab2-pop",style:{height:i.tabHeight+"px"}},[o("woo-pop",{attrs:{show:i.show,animate:""},on:{"click-outside":i.close}},[o("woo-box",{staticClass:"wbpro-tab2",class:(e={},e[i.$style.pad1]=8===i.getStrLen(i.tabs[0].name),e),attrs:{old:"",items:i.showCount}},[i._l(i.formatTabs.slice(i.showCount),(function(t,e){return o("woo-box-item",{directives:[{name:"click-enter",rawName:"v-click-enter.click.stop",value:function(){i.changeTab(t,e,2)},expression:"\n              () => {\n                changeTab(tab, index, 2);\n              }\n            ",modifiers:{click:!0,stop:!0}}],key:e,class:{cur:i.curIndex===e+i.showCount&&i.curIndex>i.showCount-1}},[o("woo-box",{attrs:{align:"center",justify:"center"}},[o("div",{directives:[{name:"focus-visible",rawName:"v-focus-visible"}],staticClass:"wbpro-textcut"},[i._v(" "+i._s(t.name)+" ")])])],1)})),o("woo-box-item",[i._t("tabEnd")],2)],2)],1)],1)]):i._e()],1):i._e()},o=[],n=(i("a434"),i("a9e3"),i("b64b"),i("ade3")),s=i("5530"),r=i("2f62"),l={name:"Tab",props:{tabs:{type:Array,default:function(){return[]}},newCurIndex:{type:Number,default:0},pagetype:{type:String,default:""},red:{type:Boolean,default:!1},colum:{type:Number,default:8},cut:{type:Boolean,default:!0},keyField:{type:String,default:"gid"},showCount:{type:Number,default:8},disableOutsideClose:{type:Boolean,default:!1}},data:function(){return{show:!1,curIndex:0,sticky:!1,opacity:1}},mounted:function(){var t=this;if(this.$Bus.$on("reload",this.reloadHandle),this.$once("hook:beforeDestroy",(function(){t.$Bus.$off("reload",t.reloadHandle)})),this.newCurIndex>6){var e=[this.tabs[this.newCurIndex+1],this.tabs[6]];this.tabs[6]=e[0],this.tabs[this.newCurIndex+1]=e[1],this.curIndex=6}else this.curIndex=this.newCurIndex},watch:{newCurIndex:function(t){if(t>6){var e=[this.tabs[t+1],this.tabs[6]];this.tabs[6]=e[0],this.tabs[t+1]=e[1],this.curIndex=6}else this.curIndex=t}},computed:Object(s["a"])(Object(s["a"])({},Object(r["c"])(["unread"])),{},{formatTabs:function(){var t=this.tabs;return t&&t.length>6&&t[7]&&"more"!==t[7][this.keyField]&&t.splice(7,0,Object(n["a"])({name:"更多按钮"},this.keyField,"more")),t},tabHeight:function(){return this.tabs&&this.tabs.length?44*Math.ceil(this.tabs.length/this.showCount-1)+10:0}}),methods:{reloadHandle:function(t){"home"===t&&(this.curIndex=0)},changeTab:function(t,e,i){if(this.show&&(this.show=!1),this.curIndex=1===i?e:this.showCount+e,2===i){var a=[this.tabs[this.curIndex],this.tabs[6]];this.tabs[6]=a[0],this.tabs[this.curIndex]=a[1],this.curIndex=6}t=this.tabs[this.curIndex],this.$emit("changeTab",t,this.curIndex)},close:function(){this.disableOutsideClose||(this.show=!1)},getStrLen:function(t){for(var e=0,i=0,a=Object.keys(t);i<a.length;i++){var o=a[i];t.charCodeAt(o)>255?e+=2:e++}return e}}},c=l,u=i("0bfa"),d=i("2877");function h(t){this["$style"]=u["default"].locals||u["default"]}var p=Object(d["a"])(c,a,o,!1,h,null,null);e["a"]=p.exports},f579:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._l(t.hotList,(function(e,a){return i("a-link",{key:a,attrs:{to:t.getRouter(e.type,e.groups&&e.groups[0]&&e.groups[0].gid)}},[i("nav-item",{attrs:{icon:e.icon,text:e.title,cur:a===t.curIndex},nativeOn:{click:function(i){return t.handle(e,a)}}})],1)})),1)},o=[],n=(i("c740"),i("b0c0"),i("5530")),s=i("ee74"),r=i("cafe"),l={name:"nav-left-hot",components:{navItem:r["a"]},data:function(){return{hotList:[],curIndex:0}},mounted:function(){this.initData()},watch:{$route:function(t){this.getCurIndex()}},methods:{initData:function(){this.hotList=s,this.getCurIndex()},getCurIndex:function(){var t=this.$route.name;if("login"===t){var e=this.$route.query.tabtype||"weibo";this.curIndex=this.hotList.findIndex((function(t){return t.type===e}))}else this.curIndex="hot"===t?0:this.hotList.findIndex((function(e){return e.type===t}))},getRouter:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=this.$route.name;return"login"===i?{name:"login",query:Object(n["a"])(Object(n["a"])({},this.$route.query),{},{tabtype:t,gid:e,url:this.$route.query.url})}:{name:t,params:{gid:e}}},handle:function(t,e){this.curIndex=e,this.$Bus.$emit("handleHotNav",t,e)}}},c=l,u=i("2877"),d=Object(u["a"])(c,a,o,!1,null,null,null);e["default"]=d.exports},f583:function(t,e,i){"use strict";i.r(e);var a=i("e017"),o=i.n(a),n=i("21a1"),s=i.n(n),r=new o.a({id:"woo_svg_polishingColor",use:"woo_svg_polishingColor-usage",viewBox:"0 0 1024 1024",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" id="woo_svg_polishingColor"><linearGradient id="woo_svg_polishingColor_a" gradientUnits="userSpaceOnUse" x1="984.314" y1="-45.306" x2="932.622" y2="-99.093" gradientTransform="matrix(16.5 0 0 15.1678 -15248.25 1625.792)"><stop offset="0" stop-color="#ffbd00" /><stop offset=".567" stop-color="#ff8200" /><stop offset="1" stop-color="#ff5600" /></linearGradient><path fill="url(#woo_svg_polishingColor_a)" d="M623.486 759.748l30.969 80.518 80.518 30.968-80.518 30.969-30.969 80.518-30.968-80.518L512 871.234l80.518-30.968 30.968-80.518zM728.779 41.279c18.581 0 30.968 6.194 43.356 18.581l167.229 167.23c24.775 24.774 24.775 61.937 0 80.518L425.288 821.685c-12.387 12.387-24.775 18.581-43.356 18.581h-167.23c-30.968 0-55.743-24.774-55.743-55.743v-167.23c0-18.581 6.194-30.969 18.581-43.356L691.617 59.861c6.194-12.387 24.775-18.581 37.162-18.582zm148.649 501.689l37.162 105.293 105.293 37.163-105.293 37.162-37.162 105.293-37.162-105.293-105.293-37.163 105.293-37.163 37.162-105.292zM623.486 245.671L245.671 623.487v123.874h123.874L747.36 369.545 623.486 245.671zM146.572 177.54l37.162 105.293 105.293 37.163-105.293 37.163-37.162 105.291-37.162-105.292L4.118 319.995l105.293-37.163 37.161-105.292zm582.207-37.163l-61.937 61.937 123.874 123.874 61.937-61.937-123.874-123.874z" /></symbol>'});s.a.add(r);e["default"]=r},f5bc:function(t,e,i){"use strict";var a=i("78c9"),o=i.n(a);o.a},f5ea:function(t,e,i){"use strict";var a=i("ca44"),o=i.n(a);e["default"]=o.a},f616:function(t,e,i){"use strict";var a=i("ef69"),o=i.n(a);e["default"]=o.a},f620:function(t,e,i){"use strict";var a=i("06ff"),o=i.n(a);o.a},f633:function(t,e,i){t.exports={box:"VideoActivated_box_185o-",close:"VideoActivated_close_2oMr9",bg:"VideoActivated_bg_8WqdB",con:"VideoActivated_con_oxfLh",h2:"VideoActivated_h2_aGYu3",ul:"VideoActivated_ul_396-E",li:"VideoActivated_li_3XiMe",txt:"VideoActivated_txt_280AC",btnbox:"VideoActivated_btnbox_3zJbb",btn:"VideoActivated_btn_2HzXR",iptbox:"VideoActivated_iptbox_2Sj3f"}},f6337:function(t,e,i){t.exports={wrap:"SearchIcon_wrap_3fgul",icon:"SearchIcon_icon_UJAst"}},f666:function(t,e,i){"use strict";var a=i("16d8"),o=i.n(a);o.a},f7ec:function(t,e,i){t.exports={bed2:"RecomModule_bed2_3UoO1",bed3:"RecomModule_bed3_1x0EB",bed32:"RecomModule_bed32_3M15R",page:"RecomModule_page_1qK2y"}},f84c:function(t,e,i){"use strict";var a=i("da83"),o=i.n(a);e["default"]=o.a},f8b1:function(t,e,i){"use strict";var a=i("2bcb"),o=i.n(a);e["default"]=o.a},f91b:function(t,e,i){"use strict";var a=i("70b3"),o=i.n(a);e["default"]=o.a},f938:function(t,e,i){t.exports={main:"Index_main_gyzu9",backTop:"Index_backTop_3HnXx",selectorIcon:"Index_selectorIcon_3fvoF",top:"Index_top_3Tw6o"}},fa20:function(t,e,i){"use strict";function a(t){return t&&t.gender?{m:"他",f:"她"}[t.gender]:""}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.mbrank&&t.mbtype&&2!==t.mbtype}function n(t){if(t){var e=+t.verified_type,i=+t.verified_type_ext;if(t.verified){if(0===e)return 1===i?"vgold":2===i?"vorange":"vyellow";if(e>0&&e<8)return-1==i?"vgrey":"vblue"}}return""}i.d(e,"a",(function(){return a})),i.d(e,"d",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"b",(function(){return s}));var s=function(t){if(!t)return"留言";if(t.verified)switch(t.verified_type){case 2:return"联系";case 3:case 1:case 4:return"私信";case 5:case 6:case 7:return"客服"}return t.follow_me&&t.following?"私信":"留言"}},fa59:function(t,e,i){t.exports={content:"VisibleSelect_content_1055e",radios:"VisibleSelect_radios_3eNsZ",title:"VisibleSelect_title_3lB4q",desc:"VisibleSelect_desc_38mFW",select:"VisibleSelect_select_Ptd9H"}},fa84:function(t,e,i){t.exports={switchc:"Approval_switchc_1e-cv",desc:"Approval_desc_LeaDH",switch:"Approval_switch_3GMr7"}},fb31:function(t,e,i){"use strict";var a=i("98f0"),o=i.n(a);e["default"]=o.a},fb59:function(t,e,i){t.exports={box:"PlaceCard_box_1V_g4",box1:"PlaceCard_box1_3x5jQ",place:"PlaceCard_place_31SEE",box2:"PlaceCard_box2_1jtc5",icon:"PlaceCard_icon_3hMsy",icon1:"PlaceCard_icon1_1S-Jo",icon2:"PlaceCard_icon2_1aC7w"}},fba8:function(t,e,i){t.exports={stit:"FollowGroup_stit_3wyHa",stbtn:"FollowGroup_stbtn_3-kBd"}},fc01:function(t,e,i){t.exports={wrap:"annotation_wrap_2u4qa",iconNor:"annotation_iconNor_1J-hI",iconLocal:"annotation_iconLocal_GKSzW",text:"annotation_text_2FTzU",arr:"annotation_arr_3VEC-"}},fc1f:function(t,e,i){"use strict";var a=i("a863"),o=i.n(a);e["default"]=o.a},fc5f:function(t,e,i){"use strict";i.r(e);var a=function(){var t,e=this,i=e.$createElement,a=e._self._c||i;return a("div",{key:e.time,class:e.$style.box},["addComment"===e.toolAction&&e.remark_list.length?a("div",{class:e.$style.tab},[a("span",[e._v("附注类型：")]),e._l(e.remark_list,(function(t,i){return a("woo-radio",{key:i,class:e.$style.label,attrs:{value:t.type,size:"16"},model:{value:e.remark_type,callback:function(t){e.remark_type=t},expression:"remark_type"}},[e._v(e._s(t.name))])}))],2):e._e(),a("div",{class:[e.$style.box1]},[a("PublisherForm",{ref:"form",class:e.aiConfig.customSelectStyle?"ai-selection-style":"",attrs:{placeholder:e.placeholder,content:e.content,storge:e.storge,disabled:e.formDisabled,action:e.toolAction,info_sources:e.info_sources,maxCount:e.maxCount,curRemark:e.curRemark,aiConfig:e.aiConfig,aiTypeMap:e.aiTypeMap},on:{change:e.formChange,remarkChange:e.remarkChange,textcount:e.formTextCount,hide:function(t){return e.hideAllLayer("emotion")},imageUpload:e.pasteImg,videoUpload:e.pasteVideo,fromKeydownEnter:function(t){!e.sendDisabled&&e.toolbarPublishDebounce()},clickAssistCreation:e.onClickAssistCreation,applyGeneration:e.onApplyGeneration}})],1),e.aiConfig.polishVisible?a("div",{class:e.$style.box2},[a("PublisherAi",{attrs:{aiConfig:e.aiConfig},on:{replace:e.onGenerationReplace,rewrite:e.onGenerationRewrite,close:e.onGenerationClose,cancel:e.onGenerationCancel,insert:e.onGenerationInsert,applyGeneration:e.onApplyGeneration}})],1):e._e(),a("div",{class:[e.$style.box2,e.isHome&&"grayTheme"]},[a("PublisherImage",{ref:"image",attrs:{data:e.ModifyPic,canFoucs:!0,canSelectVideo:Boolean(!e.pri)&&"modify"!==e.set.action&&!(e.schedule_timestamp_init&&"schedule"===e.toolAction&&e.schedule_id),file:e.pasteImage,source:1,pri:e.pri,items:3,width:50},on:{change:e.imageChange}})],1),a("div",{class:e.$style.box2},[Object.keys(e.mcomment).length?a("PublisherMcomment",{attrs:{item:e.mcomment},on:{delete:e.deleteMcomment,change:e.changeMcomment}}):e._e(),a("PublisherVote",{ref:"vote",attrs:{data:e.vote},on:{edit:e.voteEdit,close:e.voteClose}}),"channel"!==e.toolAction||e.schedule_timestamp?a("PublisherVideo",{ref:"video",attrs:{data:e.media,timerImage:this.set&&this.set.data&&this.set.data.videoImage},on:{edit:e.videoEdit,close:e.videoClose}}):e._e(),a("PublisherTimer",{ref:"timer",class:(t={},t[e.$style.box3]=e.schedule_timestamp_init&&e.media,t),attrs:{action:e.toolAction,data:e.schedule_timestamp_init,id:e.schedule_id,config:e.scheduleConfig,timezoneInit:e.timezoneInit},on:{change:e.timerChange,close:e.timerClose}}),a("PlaceCard",{attrs:{position:e.position},on:{close:e.closePlace}}),a("Monograph",{attrs:{clear:e.clearMonograph,monograph:e.monograph}})],1),a("div",{class:e.isHome&&"grayTheme"},[a("PublisherTool",{ref:"tools",attrs:{formCount:e.formCount,data:e.publishData,action:e.toolAction,location:e.location,mcomment:e.mcomment,schedule_id:e.schedule_id,toolsfliter:e.toolsfliter,media:e.channelData,doneDisabled:e.doneDisabled,formDisabled:e.formDisabled,sendDesc:e.sendDesc,hasPid:e.hasPid,monograph:e.monograph,coCreation:e.coCreation,content:this.set&&"addComment"===this.set.action&&e.set.data.content.trim(),"visible-only":e.visibleOnly,scheduleConfig:e.scheduleConfig,aiConfig:e.aiConfig},on:{change:e.toolbarChange,publish:e.toolbarPublish,disabledCheck:e.disabledCheck}}),1===e.visible||5===e.visible||this.set&&"addComment"===this.set.action||this.set&&"modify"===this.set.action?e._e():a("Approval",{attrs:{approval_comment_type:e.set&&e.set.data&&e.set.data.approval_comment_type,ai_assistant_comment_type:e.set&&e.set.data&&e.set.data.ai_assistant_comment_type},on:{change:e.changeApprovalState}})],1),a("div",{staticClass:"wbpro-pos"},[a("PublisherEmoticon",{ref:"emoticon",on:{change:e.emoticonChange}}),a("PublisherVideoPop",{ref:"videopop",attrs:{"lock-screen":e.lockScreen,editData:e.editData},on:{change:function(t){return e.videoChange(arguments)}}}),a("VideoActivated",{ref:"videoActivated"}),a("PublisherMovieCommentPop",{ref:"movieCommentPop",on:{change:e.movieCommentChange}}),a("PublisherVotePop",{ref:"votepop",attrs:{"lock-screen":e.lockScreen},on:{change:function(t){return e.voteChange(t)}}}),a("PublisherPlace",{ref:"place",on:{change:e.placeChange}}),a("ImageSelect",{ref:"ImageSelect",on:{select:e.selectPri}}),a("MonographPop",{ref:"MonographPop",attrs:{setMonograph:e.setMonograph}})],1),e._e()])},o=[],n=(i("a623"),i("4de4"),i("c740"),i("a630"),i("caad"),i("c975"),i("a15b"),i("d81d"),i("fb6a"),i("45fc"),i("b0c0"),i("b64b"),i("d3b7"),i("07ac"),i("ac1f"),i("5377"),i("6062"),i("3ca3"),i("5319"),i("498a"),i("ddb0"),i("3835")),s=i("b85c"),r=(i("96cf"),i("1da1")),l=i("2909"),c=i("5530"),u=i("4328"),d=i.n(u),h=i("fc8e"),p=i.n(h),f=i("2f62"),m=i("072d"),v=i("bb16"),_=i("26c2"),g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.aiConfig.showEditArea?i("div",{class:[t.$style.box,t.aiConfig.generating&&t.$style.ani]},[i("div",{class:t.$style.anibg}),i("div",{class:t.$style.boxin},[!t.aiConfig.generated&&t.aiConfig.generating?i("woo-box",{class:t.$style.tit,attrs:{align:"center",justify:"between"}},["polish"===t.aiConfig.type?[i("woo-box",{attrs:{align:"center"}},[i("span",{class:t.$style.icon1},[i("Icons",{attrs:{symbol:"polishingColor"}})],1),i("span",{class:[t.$style.t1,t.$style.t4]},[t._v("正在帮您润色博文")]),i("span",{class:t.$style.icon3},[i("Icons",{attrs:{symbol:"loading"}})],1)]),i("woo-box",{class:t.$style.cld,attrs:{align:"center",justify:"end"}},[i("woo-button",{class:t.$style.btn,attrs:{sort:"simple",kind:"default"},on:{click:function(e){return t.$emit("cancel")}}},[i("Icons",{class:t.$style.icon22,attrs:{symbol:"cross"}})],1)],1)]:"continue"===t.aiConfig.type?[i("woo-box",{attrs:{align:"center"}},[i("span",{class:t.$style.icon1},[i("Icons",{attrs:{symbol:"continuationColor"}})],1),i("span",{class:[t.$style.t1,t.$style.t4]},[t._v("正在帮您续写博文")]),i("span",{class:t.$style.icon3},[i("Icons",{attrs:{symbol:"loading"}})],1)]),i("woo-box",{class:t.$style.cld,attrs:{align:"center",justify:"end"}},[i("woo-button",{class:t.$style.btn,attrs:{sort:"simple",kind:"default"},on:{click:function(e){return t.$emit("cancel")}}},[i("Icons",{class:t.$style.icon22,attrs:{symbol:"cross"}})],1)],1)]:"pic2Text"===t.aiConfig.type?[i("woo-box",{attrs:{align:"center"}},[i("span",{class:t.$style.icon1},[i("Icons",{attrs:{symbol:"illustrationColor"}})],1),i("span",{class:[t.$style.t1,t.$style.t4]},[t._v(" 正在根据图片为你生成配文 ")]),i("span",{class:t.$style.icon3},[i("Icons",{attrs:{symbol:"loading"}})],1)]),i("woo-box",{class:t.$style.cld,attrs:{align:"center",justify:"end"}},[i("woo-button",{class:t.$style.btn,attrs:{sort:"simple",kind:"default"},on:{click:function(e){return t.$emit("cancel")}}},[i("Icons",{class:t.$style.icon22,attrs:{symbol:"cross"}})],1)],1)]:t._e()],2):t._e(),t.aiConfig.failed?i("woo-box",{class:t.$style.tit,attrs:{align:"center",justify:"between"}},[i("woo-box",{attrs:{align:"center"}},[i("span",{class:t.$style.icon1},[i("Icons",{class:t.$style.svg1,attrs:{symbol:"rewriting"}})],1),i("span",{class:[t.$style.t1,t.$style.t4]},[t.aiConfig.noRetry?[i("span",{class:t.$style.clc},[t._v("调整下内容或稍后再试吧")])]:[i("span",{class:t.$style.clc},[t._v("AI开小差了，")]),i("a",{attrs:{href:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onFailureRetry(e)}}},[t._v(" 点击重试 ")])]],2)]),i("woo-box",{class:t.$style.cld,attrs:{align:"center",justify:"end"}},[i("woo-button",{class:t.$style.btn,attrs:{sort:"simple",kind:"default"},on:{click:function(e){return t.$emit("close")}}},[i("Icons",{class:t.$style.icon22,attrs:{symbol:"cross"}})],1)],1)],1):t._e(),t.aiConfig.generated&&t.aiConfig.resultArr.length?i("woo-box",{class:t.$style.tit,attrs:{align:"center",justify:"between"}},[i("woo-box",{attrs:{align:"center"}},[i("span",{class:t.$style.t1},[t._v("推荐：")]),t._l(t.aiConfig.resultArr,(function(e,a){return i("woo-button",{key:a,class:t.$style.btnxs,attrs:{kind:"default",size:"xs",title:e},on:{click:function(i){return t.onPic2TextClick(e)}}},[t._v(t._s(e))])}))],2),i("woo-box",{class:t.$style.cld,attrs:{align:"center",justify:"end"}},[i("woo-button",{class:t.$style.btn,attrs:{title:"重写",sort:"simple",kind:"default"},on:{click:t.onFailureRetry}},[i("Icons",{class:t.$style.icon2,attrs:{symbol:"rewriting"}})],1),i("div",{class:t.$style.line},[i("woo-divider",{attrs:{direction:"y","border-color":"var(--w-layer-border)"}})],1),i("woo-button",{class:t.$style.btn,attrs:{title:"关闭",sort:"simple",kind:"default"},on:{click:function(e){return t.$emit("close")}}},[i("Icons",{class:t.$style.icon2,attrs:{symbol:"close"}})],1)],1)],1):t.aiConfig.generated&&t.aiConfig.result?[i("woo-box",{class:t.$style.tit,attrs:{align:"center",justify:"between"}},[i("woo-box",{attrs:{align:"center"}},[i("span",{class:t.$style.icon1},[i("Icons",{attrs:{symbol:"polish"===t.aiConfig.type?"polishingColor":"continuationColor"}})],1),i("span",{class:[t.$style.t1,t.$style.t4]},[t._v("AI已完成"+t._s(t.text)+"，请自行判断并且谨慎采纳")])]),i("woo-box",{class:t.$style.cld,attrs:{align:"center",justify:"end"}},["polish"===t.aiConfig.type?i("woo-button",{class:t.$style.btn,attrs:{sort:"simple",kind:"default"},on:{click:function(e){return t.$emit("replace")}}},[i("Icons",{class:t.$style.icon2,attrs:{symbol:"replace"}}),i("span",{class:t.$style.t2},[t._v("替换博文")])],1):t._e(),"continue"===t.aiConfig.type?i("woo-button",{class:t.$style.btn,attrs:{sort:"simple",kind:"default"},on:{click:function(e){return t.$emit("insert")}}},[i("Icons",{class:t.$style.icon2,attrs:{symbol:"replace"}}),i("span",{class:t.$style.t2},[t._v("插入博文")])],1):t._e(),i("div",{class:t.$style.line},[i("woo-divider",{attrs:{direction:"y","border-color":"var(--w-layer-border)"}})],1),i("woo-button",{class:t.$style.btn,attrs:{sort:"simple",kind:"default"},on:{click:function(e){return t.$emit("rewrite")}}},[i("Icons",{class:t.$style.icon2,attrs:{symbol:"rewriting"}}),i("span",{class:t.$style.t2},[t._v("重写")])],1),i("div",{class:t.$style.line},[i("woo-divider",{attrs:{direction:"y","border-color":"var(--w-layer-border)"}})],1),i("woo-button",{class:t.$style.btn,attrs:{sort:"simple",kind:"default"},on:{click:function(e){return t.$emit("close")}}},[i("Icons",{class:t.$style.icon2,attrs:{symbol:"close"}}),i("span",{class:t.$style.t2},[t._v("关闭")])],1)],1)],1),i("woo-divider",{attrs:{"border-color":"var(--w-card-border)"}}),t.aiConfig.result?i("div",{class:[t.$style.gap1,t.$style.t1,t.$style.cld,t.$style.scroll],domProps:{innerHTML:t._s(t.resultText)}}):t._e()]:t._e()],2)]):t._e()},b=[],y=i("ed09"),w={polish:"润色",continue:"续写",pic2Text:"生成配文"},x={props:{aiConfig:{type:Object,default:function(){return{}}}},setup:function(t,e){var i=e.emit,a=Object(y["a"])((function(){return w[t.aiConfig.type]})),o=function(){t.aiConfig.retryTimes+=1,t.aiConfig.retryTimes>2&&(t.aiConfig.noRetry=!0),i("rewrite")},n=Object(y["a"])((function(){var e,i;return(null===(e=t.aiConfig)||void 0===e||null===(i=e.result)||void 0===i?void 0:i.replace(/\n/g,"<br />"))||""}));return{text:a,resultText:n,onFailureRetry:o}},methods:{onPic2TextClick:function(t){this.actionLog({act_code:7842,ext:"action:accept|type:pic2Text|lentrance:use"}),this.$emit("applyGeneration",t)}}},k=x,$=i("5055"),C=i("2877");function O(t){this["$style"]=$["default"].locals||$["default"]}var j=Object(C["a"])(k,g,b,!1,O,null,null),T=j.exports,D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.data.title?i("woo-panel",{class:t.$style.box,attrs:{border:"all"}},[i("woo-box",{attrs:{justify:"end"}},[t.data.exist?t._e():i("div",{class:t.$style.btn},[i("woo-fonticon",{attrs:{title:"编辑",value:"edit",kind:"dark"},nativeOn:{click:function(e){return e.stopPropagation(),t.$emit("edit")}}})],1),i("div",{class:t.$style.btn},[i("woo-fonticon",{attrs:{title:"删除",value:"close",kind:"dark"},nativeOn:{click:function(e){return e.stopPropagation(),t.$emit("close")}}})],1)]),i("woo-box",{class:t.$style.text},[i("div",{class:t.$style.icon},[i("woo-fonticon",{attrs:{value:"vote"}})],1),i("woo-box-item",[t._v("投票： "+t._s(t.data.title))])],1)],1):t._e()},S=[],I={props:{data:{type:Object,default:function(){return{}}}},mounted:function(){}},L=I,B=i("ac8e");function P(t){this["$style"]=B["default"].locals||B["default"]}var A=Object(C["a"])(L,D,S,!1,P,null,null),E=A.exports,M=i("f0ce"),F=i("957f"),R=i("1259"),V=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.visable?i("woo-modal",{attrs:{animation:"slide-bottom","lock-screen":t.lockScreen},nativeOn:{click:function(e){return e.stopPropagation(),t.clickModal(!1)}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.editVisable,expression:"editVisable"}],staticClass:"wbpro-layer"},[i("woo-panel",{attrs:{border:"bottom"}},[i("woo-box",{staticClass:"wbpro-layer-tit"},[i("woo-box-item",{staticClass:"wbpro-layer-tit-text",attrs:{align:"center"}},[t._v("投票")])],1)],1),i("div",{class:[t.$style.votebox,t.$style.rightp],staticStyle:{height:"488px",overflow:"scroll"}},[i("TextInput",{class:t.$style.ipttop,attrs:{text:t.title,maxOptionLen:t.maxTitleLen,placeholder:"填写标题",error:t.textOptionsError},on:{change:function(e){t.title=e}}}),i("div",{class:t.$style.tab},[i("span",[t._v("类型")]),i("woo-radio",{class:[t.$style.label,"text"===t.type&&t.$style.labelb],attrs:{value:"text",size:"16"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v("文字")]),i("woo-radio",{class:[t.$style.label,"pictext"===t.type&&t.$style.labelb],attrs:{value:"pictext",size:"16"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v("图文")])],1),"text"==t.type?i("div",{ref:"textContainer"},t._l(t.textOptions,(function(e,a){return i("woo-box",{key:a,class:t.$style.iptitem,attrs:{align:"center"}},[i("TextInput",{attrs:{text:e,placeholder:"选项"+(a+1),maxOptionLen:t.maxOptionLen,error:t.textOptionsError},on:{change:function(e){return t.changeTextOption(e,a)}}}),t.textOptions.length>2?i("div",{class:t.$style.iptclose},[i("woo-fonticon",{attrs:{title:"删除",value:"close",kind:"dark"},nativeOn:{click:function(e){return t.deleteText(a)}}})],1):t._e()],1)})),1):t._e(),"text"==t.type&&t.textOptions.length<t.curMax?i("woo-box",{class:[t.$style.iptitem,t.$style.addc],attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return t.addTextOption(e)}}},[i("span",{class:t.$style.add},[i("woo-fonticon",{class:t.$style.icon,attrs:{value:"add"}}),i("span",[t._v("添加选项")])],1)]):t._e(),"pictext"==t.type?i("div",{ref:"piccontinaer"},[i("woo-box",{class:t.$style.ipttop1,attrs:{old:"","gap-col":8,"gap-row":6,items:4}},[t._l(t.pictextOptions,(function(e,a){return i("woo-box-item",{key:a,staticStyle:{position:"relative"}},[t.pictextOptions.length>2?i("div",{class:t.$style.picclose,on:{click:function(i){return t.deleteImage(e,a)}}},[i("woo-fonticon",{attrs:{value:"close"}})],1):t._e(),""!=e.src?i("div",{class:t.$style.picedit,on:{click:function(e){return t.clickFile(a)}}},[t._v(" 编辑 ")]):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:""==e.src&&0==e.uploading,expression:"item.src == '' && item.uploading == false"}],class:t.$style.picbed,attrs:{title:"添加"}},[i("FileUpload",{ref:"curFile",refInFor:!0,class:t.$style.boxc,on:{change:function(i){return t.changeImage(i,e)}}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:""!=e.src||1==e.uploading,expression:"item.src != '' || item.uploading == true"}],class:t.$style.picbed},[i("Picture",{attrs:{image:e.src,loading:e.uploading}})],1),i("div",{class:t.$style.textin},[i("TextInput",{attrs:{text:e.label,placeholder:"选项"+(a+1),error:t.textPicOptionsError,maxOptionLen:12},on:{change:function(t){e.label=t}}})],1)])})),t.pictextOptions.length<t.curMax?i("woo-box-item",{staticStyle:{"vertical-align":"top"}},[i("woo-box",{class:t.$style.picadd,attrs:{align:"center",justify:"center",direction:"y"},nativeOn:{click:function(e){return t.addPicOptions(e)}}},[i("woo-fonticon",{attrs:{value:"add"}}),i("div",{class:t.$style.addtext},[t._v("添加选项")])],1)],1):t._e()],2)],1):t._e(),i("woo-box",{class:t.$style.timer},[i("div",{class:t.$style.item_title},[t._v("支持多选")]),i("woo-box",{class:t.$style.multi,attrs:{direction:t.is_multi_select?"x":"x-r",justify:"between",align:"center"}},[t.is_multi_select?i("woo-box",[i("div",[t._v(" 最少选 "),i("woo-box",{class:t.$style.multi_item,staticStyle:{width:"83px",margin:"0 12px"},attrs:{align:"center"}},[i("multiselect",{attrs:{options:t.selectMin.options,"show-labels":!1,searchable:!1,"custom-label":t.optionLabel,openDirection:"top"},on:{select:t.minSelect},model:{value:t.selectMin.custom_value,callback:function(e){t.$set(t.selectMin,"custom_value",e)},expression:"selectMin.custom_value"}})],1),t._v(" 项 ")],1),i("div",{staticStyle:{"margin-left":"68px"}},[t._v(" 最多选 "),i("woo-box",{class:t.$style.multi_item,staticStyle:{width:"94px",margin:"0 12px"},attrs:{align:"center"}},[i("multiselect",{attrs:{options:t.selectMax.options,"show-labels":!1,searchable:!1,"custom-label":t.optionLabel,openDirection:"top"},on:{select:t.maxSelect},model:{value:t.selectMax.custom_value,callback:function(e){t.$set(t.selectMax,"custom_value",e)},expression:"selectMax.custom_value"}})],1),t._v(" 项 ")],1)]):t._e(),i("woo-switch",{class:t.$style.switch,attrs:{size:.6875,color:"#75E257"},model:{value:t.is_multi_select,callback:function(e){t.is_multi_select=e},expression:"is_multi_select"}})],1)],1),i("woo-box",{class:t.$style.timer},[i("div",{class:t.$style.item_title},[t._v("截止时间")]),i("woo-box",{staticStyle:{width:"132px"},attrs:{align:"center"}},[i("multiselect",{attrs:{options:t.TimeOptions.options,"show-labels":!1,searchable:!1,"custom-label":t.optionLabel},on:{select:t.TimeTypeSelect},model:{value:t.endTimeOption.type,callback:function(e){t.$set(t.endTimeOption,"type",e)},expression:"endTimeOption.type"}})],1),t.TimeOptions&&t.TimeOptions.custom_value?i("TimeSelect",{attrs:{date:t.TimeOptions&&t.TimeOptions.custom_value,disabled:t.TimeOptions.custom_disabled},on:{select:t.CustomTimeSelect}}):t._e()],1),i("woo-box",{class:t.$style.timer},[i("div",{class:t.$style.item_title},[t._v("谁可以参与投票")]),i("div",{class:t.$style.top1},[i("woo-box",{staticClass:"wbpro-select wbpor-pos error",class:t.$style.sort,attrs:{align:"center"},nativeOn:{click:function(e){return e.stopPropagation(),t.clickModal(!0)}}},[i("woo-box-item",{attrs:{align:"center"}},[t._v(t._s(t.sortText))]),i("woo-box",{staticClass:"opt",attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"caretDown"}})],1),i("Sort",{directives:[{name:"show",rawName:"v-show",value:t.showSort,expression:"showSort"}],attrs:{conf:t.participant_conf,list:t.curConfig.participant_conf},on:{change:function(e){return t.modifySort(arguments)},close:function(e){t.showSort=!1}}})],1)],1)])],1),i("woo-box",{staticClass:"wbpro-layer-btn",attrs:{justify:"center"}},[i("woo-button",{staticClass:"wbpro-layer-btn-item",attrs:{sort:"flat",kind:"default"},nativeOn:{click:function(e){return t.close(e)}}},[t._v("取消")]),i("woo-button",{staticClass:"wbpro-layer-btn-item",attrs:{sort:"flat",kind:"primary",disabled:t.doneDisabled},nativeOn:{click:function(e){return t.done(e)}}},[t._v("完成")])],1)],1),i("CropperPop",{directives:[{name:"show",rawName:"v-show",value:t.coverVisable,expression:"coverVisable"}],ref:"cropper"})],1):t._e()},N=[],H=(i("a434"),i("2b3d"),i("6c3f")),z=i("b71e"),U=i("d2ea"),G=i("68f8"),q=i("57f4"),W=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.list?i("woo-box",{class:t.$style.sort},[i("div",{class:t.$style.sort1},[i("woo-box",{attrs:{direction:"y"}},t._l(t.list,(function(e,a){var o;return i("div",{key:a,class:[t.$style.item1,(o={},o[t.$style.curr]=a===t.descIndex,o)],on:{click:function(e){return e.stopPropagation(),t.changeDesc(a)}}},[t._v(" "+t._s(e.sort)+" ")])})),0)],1),t.list[t.descIndex]&&t.list[t.descIndex].list?i("div",{class:t.$style.sort2},[i("div",{class:t.$style.sort2box},[i("woo-box",{attrs:{direction:"y"}},t._l(t.list[t.descIndex].list,(function(e,a){var o;return i("div",{key:a,class:[t.$style.item2,(o={},o[t.$style.curr]=a===t.subIndex,o)],on:{click:function(e){return e.stopPropagation(),t.changeSubChannel(a)}}},[t._v(" "+t._s(e.name)+" ")])})),0)],1)]):t._e()]):t._e()},Q=[],J=(i("99af"),i("a9e3"),i("1276"),{props:{list:{type:Array},conf:{}},data:function(){return{descIndex:0,subIndex:0}},methods:{changeDesc:function(t){this.descIndex=t,this.subIndex=0;var e=this.list[this.descIndex].list[this.subIndex],i=e.name,a=e.id,o=e.type;this.$emit("change",i,"".concat(a,"_").concat(o))},changeSubChannel:function(t){this.subIndex=t;var e=this.list[this.descIndex].list[this.subIndex],i=e.name,a=e.id,o=e.type;this.$emit("change",i,"".concat(a,"_").concat(o)),this.$emit("close")},changeAll:function(t,e){this.descIndex=t,this.subIndex=e;var i=this.list[this.descIndex].list[this.subIndex],a=i.name,o=i.id,n=i.type;this.$emit("change",a,"".concat(o,"_").concat(n))},confInit:function(){var t=this.conf;if(t){var e=Object(n["a"])(t,1),i=e[0];if(i){var a=i.split("_"),o=Object(n["a"])(a,2),s=o[0],r=o[1],l=this.list.findIndex((function(t){return t.id==s})),c=this.list[l].list.findIndex((function(t){return t.type===Number(r)}));this.descIndex===l&&this.subIndex===c||this.changeAll(l,c)}}}},watch:{list:function(t){var e=this.list[this.descIndex].list[this.subIndex],i=e.name,a=e.id,o=e.type;this.$emit("change",i,"".concat(a,"_").concat(o)),this.confInit()},conf:function(t){this.confInit()}},mounted:function(){this.confInit()}}),K=J,Y=i("0e0f");function X(t){this["$style"]=Y["default"].locals||Y["default"]}var Z=Object(C["a"])(K,W,Q,!1,X,null,null),tt=Z.exports,et=i("5fa4"),it=(i("e607"),i("8e5f")),at=i.n(it),ot={},nt={props:{lockScreen:{type:Boolean,default:!0}},data:function(){return{title:"",type:"text",textOptions:["",""],pictextOptions:[{label:"",src:"",uploading:!1},{label:"",src:"",uploading:!1}],endTimeOption:{type:{label:"一天",value:"1"}},TimeOptions:{options:[{label:"一天",value:1},{label:"一周",value:7},{label:"一个月",value:30},{label:"自定义",value:-1}],custom_value:new Date,custom_disabled:!0},maxTitleLen:32,maxOptionLen:24,visable:!1,editVisable:!0,coverVisable:!1,doneDisabled:!0,titleNumber:0,textOptionsError:!1,textPicOptionsError:!1,is_multi_select:!1,minimum:2,maximum:12,showSort:!1,sortText:"所有人",participant_conf:null,curConfig:{}}},components:{FileUpload:G["default"],Picture:q["default"],CropperPop:z["a"],Multiselect:at.a,TimeSelect:et["a"],TextInput:U["default"],Sort:tt},computed:{curMax:function(){var t,e,i=null===(t=this.curConfig)||void 0===t||null===(e=t.option_conf)||void 0===e?void 0:e["text"===this.type?0:1];return(null===i||void 0===i?void 0:i.maxmaximum)||12},selectMin:function(){for(var t=this.curConfig.option_conf["text"===this.type?0:1],e=(t.minimum,[]),i="text"===this.type?this.textOptions.length:this.pictextOptions.length,a=1;a<=(i>this.maximum?this.maximum:i);a++)e.push({label:String(a),value:a});return{options:e,value:this.minimum,custom_value:{label:this.minimum,value:this.minimum},custom_disabled:!0}},selectMax:function(){for(var t="text"===this.type?this.textOptions.length:this.pictextOptions.length,e=[],i=this.minimum>1?this.minimum:2;i<=t;i++)e.push({label:i===t?"不限制":String(i),value:i});var a=t<this.maximum?t:this.maximum;return{options:e,value:a,custom_value:{label:a===t?"不限制":this.maximum,value:a},custom_disabled:!0}},selectOptionsDisabled:function(){var t=this,e="自定义"==this.selectOptions.select1.value;return this.$refs.select2&&(t.$refs.select2.$children[0].$el.disabled=e),e}},watch:{type:function(){this.handleMaxMix()},title:function(t){this.titleNumber=Math.ceil(Object(H["a"])(t)/2),this.titleNumber>32||0===this.titleNumber?(this.titleNumber>32&&(this.title=Object(H["d"])(t,32)),this.doneDisabled=!0):this.doneDisabled=!1},"pictextOptions.length":function(t){"text"!==this.type&&(this.maximum=t)},"textOptions.length":function(t){"text"===this.type&&(this.maximum=t)}},methods:{clickModal:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.showSort=t},modifySort:function(t){var e=Object(n["a"])(t,2),i=e[0],a=e[1];this.sortText=i,this.participant_conf=[a]},clickFile:function(t){var e=this.pictextOptions[t];this.changeImageUrl(e.src,e)},handleMaxMix:function(){var t,e,i=null===(t=ot)||void 0===t||null===(e=t.option_conf)||void 0===e?void 0:e["text"===this.type?0:1];this.minimum=i.minimum+1,this.maximum=i.maxmaximum},changeTextOption:function(t,e){this.textOptions[e]=t},countLen:function(t){return Math.ceil(Object(H["a"])(t)/2)},show:function(t){var e=this,i=t.title,a=void 0===i?"":i,o=t.type,n=void 0===o?"text":o,s=t.textOptions,r=void 0===s?["",""]:s,l=t.pictextOptions,c=void 0===l?[{label:"",src:"",uploading:!1},{label:"",src:"",uploading:!1}]:l,u=t.endTimeOption,d=void 0===u?{type:{label:"一天",value:"1"}}:u,h=t.endTime,p=t.is_multi_select,f=t.minimum,m=t.maximum,v=t.participant_conf;this.getConfig(),this.title=a,this.type=n,this.textOptions=r,this.pictextOptions=c,this.endTimeOption=d,this.visable=!0,this.is_multi_select=!!p,v&&(this.participant_conf=v),h&&"自定义"==d.type.label&&(this.TimeOptions.custom_disabled=!1,this.CustomTimeSelect(h)),this.$nextTick((function(){p&&(e.maximum=m,e.minimum=f)}))},close:function(){var t=this;!this.title&&this.textErroor()?this.hide():this.$_w_dialog({type:"confirm",title:"确认关闭？",message:"关闭之后将不可恢复",action:function(){t.hide(),Object.assign(t.$data,t.$options.data())}})},hide:function(){this.visable=!1,Object.assign(this.$data,this.$options.data())},textErroor:function(){var t;return t="text"===this.type?this.textOptions.some((function(t){return""===t})):this.pictextOptions.some((function(t){return""===t.label||""===t.src})),t},done:function(){var t=this,e=this.textErroor();if(e)this.textOptionsError=!1,this.textPicOptionsError=!1,this.$nextTick((function(){t.textOptionsError=!0,t.textPicOptionsError=!0}));else{var i={title:this.title,type:this.type,textOptions:this.textOptions,pictextOptions:this.pictextOptions,endTimeOption:this.endTimeOption,endTime:this.TimeOptions.custom_value,is_multi_select:this.is_multi_select};this.is_multi_select&&(i.maximum=this.maximum,i.minimum=this.minimum),this.participant_conf&&(i.participant_conf=this.participant_conf),this.$emit("change",i),this.textOptionsError=!1,this.textPicOptionsError=!1,this.hide()}},addTextOption:function(){this.textOptions.length<this.curMax&&this.textOptions.push("")},addPicOptions:function(){this.pictextOptions.length<this.curMax&&this.pictextOptions.push({label:"",src:"",uploading:!1})},changeImageUrl:function(t,e){var i=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i.$refs.cropper.setSrc(t,(function(t,a,o){"ok"==t&&(e.src=a,e.pid=o),i.editVisable=!0,i.coverVisable=!1})),i.editVisable=!1,i.coverVisable=!0;case 3:case"end":return a.stop()}}),a)})))()},changeImage:function(t,e){var i=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:o=URL.createObjectURL(t.target.files[0]),i.$refs.cropper.setSrc(o,(function(t,a,o){"ok"==t&&(e.src=a,e.pid=o),i.editVisable=!0,i.coverVisable=!1})),i.editVisable=!1,i.coverVisable=!0,t.target.value="";case 5:case"end":return a.stop()}}),a)})))()},closeImage:function(t,e){e.src="",e.uploading=!1},deleteText:function(t){this.textOptions.splice(t,1),this.minimum>this.textOptions.length&&(this.minimum=this.textOptions.length)},deleteImage:function(t,e){this.pictextOptions.splice(e,1),this.minimum>this.pictextOptions.length&&(this.minimum=this.pictextOptions.length)},optionLabel:function(t){var e=t.label;return e},minSelect:function(t){var e=t.value;this.minimum=e},maxSelect:function(t){var e=t.value;this.maximum=e},TimeTypeSelect:function(t){var e=t.value;this.TimeOptions.custom_disabled=-1!=e},CustomTimeSelect:function(t){this.TimeOptions.custom_value=t},getConfig:function(){var t,e=this;(null===(t=ot)||void 0===t?void 0:t.option_conf)?this.curConfig=ot:this.$http("/ajax/vote/config").then((function(t){var i;ot=null===(i=t.data)||void 0===i?void 0:i.data,e.curConfig=ot,e.handleMaxMix()}))}}},st=nt,rt=i("7da9");function lt(t){this["$style"]=rt["default"].locals||rt["default"]}var ct=Object(C["a"])(st,V,N,!1,lt,"1aefaecd",null),ut=ct.exports,dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.data?i("woo-box",{attrs:{align:"center",justify:"between"}},[i("woo-box-item",[i("woo-box",{attrs:{align:"center"}},[i("div",{class:t.$style.text1},[t._v("发布时间")]),i("TimeSelect",{attrs:{date:t.data,publisher:!0,id:t.id,action:t.action,timezoneInit:t.timezoneInit},on:{select:t.CustomTimeSelect}}),i("div",{class:t.$style.config,domProps:{innerHTML:t._s(t.formatConfig(t.config))}})],1)],1),t.showTool?i("div",{class:t.$style.text2},[i("a",{attrs:{href:"https://me.weibo.com/content/timer",target:"_blank"}},[t._v("管理待发布微博")])]):t._e(),t.showTool?i("div",{class:t.$style.btn},[i("woo-fonticon",{attrs:{title:"取消定时发博",value:"close",kind:"dark"},nativeOn:{click:function(e){return t.close(e)}}})],1):t._e()],1):t._e()},ht=[],pt=i("362c"),ft={mixins:[pt["a"]],props:{data:{type:Number,default:0},id:{type:String},action:{type:String},config:{},timezoneInit:{type:Number}},data:function(){return{visible:!0}},components:{TimeSelect:et["a"]},computed:{showTool:function(){return!this.id&&"timer"!==this.action}},methods:{CustomTimeSelect:function(t){this.TimeOptions=t,this.$emit("change",t)},formatConfig:function(t){if(t&&t.text)return t.text.replace(/\d+/,(function(t){return"<span>".concat(t,"</span>")}))}}},mt=ft,vt=i("e0c7");function _t(t){this["$style"]=vt["default"].locals||vt["default"]}var gt=Object(C["a"])(mt,dt,ht,!1,_t,null,null),bt=gt.exports,yt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.visable?i("div",{on:{click:function(t){t.stopPropagation()},keypress:function(t){t.stopPropagation()}}},[i("woo-pop",{class:t.$style.box1,attrs:{show:t.visable}},[i("woo-input",{class:t.$style.ipt,attrs:{placeholder:"搜索添加相关地点，获得更多曝光"},model:{value:t.q,callback:function(e){t.q=e},expression:"q"}}),t.isEmpty?t._e():i("div",{staticClass:"wbpro-pos",class:t.$style.scroll},[i("woo-pop",{class:t.$style.pop1,attrs:{show:""}},[i("woo-pop-wrap",[i("Scroll",{class:t.$style.mar1,attrs:{keyField:"poiid",data:t.items,isLoading:t.isLoading,isEmpty:t.isEmpty,isRetry:t.isRetry,isInCard:""},on:{loadMoreData:t.getPlaceDetail},scopedSlots:t._u([{key:"content",fn:function(e){var a,o=e.item;return[i("woo-pop-item",{class:(a={},a[t.$style.item]=!0,a[t.$style.cur]=1===t.index,a),attrs:{cur:1===t.index},nativeOn:{click:function(e){return t.change(o)}},scopedSlots:t._u([{key:"icon",fn:function(){return[i("woo-fonticon",{class:t.$style.icon,attrs:{value:"position"}})]},proxy:!0}],null,!0)},[i("woo-box-item",{class:t.$style.cut},[i("div",{staticClass:"wbpro-textcut"},[t._v(t._s(o.title))]),i("div",{staticClass:"wbpro-textcut"},[t._v(" "+t._s(o.client_show?o.client_show:"")+" ")])])],1)]}}],null,!1,3550917386)})],1)],1)],1),t.isEmpty&&""===t.q?i("div",{staticClass:"wbpro-pos",class:t.$style.scroll},[i("woo-tip",{class:t.$style.tip,attrs:{type:"warn",sort:"vertical"}},[t._v(" 无法获取定位 "),i("div",[t._v("请搜索你想要添加的地点")])])],1):t.isEmpty&&""!==t.q?i("div",{staticClass:"wbpro-pos",class:t.$style.scroll},[i("woo-tip",{class:t.$style.tip,attrs:{type:"warn",sort:"vertical"}},[t._v(" 没有相关地点 "),i("div",[t._v("换个关键词试试吧")])])],1):t._e()],1)],1):t._e()},wt=[],xt=(i("841c"),i("b047")),kt=i.n(xt),$t=i("6701"),Ct={data:function(){return{q:"",visable:!1,page:1,items:[],isLoading:!0,isRetry:!1,isNoData:!1,isEmpty:!1,timeout:null}},components:{Scroll:$t["a"]},methods:{change:function(t){this.$emit("change",{poiid:t.poiid,poititle:t.title,pc_title:t.pc_title,long:t.lon,lat:t.lat,spot_type:t.spot_type})},show:function(){this.visable=!0,this.getPlaceDetail()},hide:function(){Object.assign(this.$data,this.$options.data())},getPlaceDetail:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(this.page=1),this.isLoading=!0,this.isRetry=!1,this.isNoData=!1,this.isEmpty=!1,this.$http.get("/ajax/statuses/place",{params:{q:this.q,page:this.page}}).then((function(e){e.data.data&&e.data.data.pois&&!e.data.data.error?(t.isRetry=!1,t.items&&t.items.length?(1===t.page&&(t.items=[]),t.$nextTick((function(){t.items=t.items.concat(e.data.data.pois)}))):(t.items=[],t.$nextTick((function(){t.items=e.data.data.pois}))),t.isLoading=!0,t.page++,(0===e.data.data.pois.length||e.data.data.pois.length<10)&&(t.isNoData=!0,t.isLoading=!1)):0===t.items.length||""===t.q||1===t.page?(t.isEmpty=!0,t.items=[]):(t.isNoData=!0,t.isLoading=!1)}))}},watch:{q:function(t){this.search(!0)}},mounted:function(){var t=this;this.search=kt()((function(e){t.getPlaceDetail(e)}),500,{leading:!0})}},Ot=Ct,jt=i("9a37");function Tt(t){this["$style"]=jt["default"].locals||jt["default"]}var Dt=Object(C["a"])(Ot,yt,wt,!1,Tt,null,null),St=Dt.exports,It=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.modalVisible?i("woo-modal",{class:t.$style.box,attrs:{animation:"slide-bottom","lock-screen":""},nativeOn:{click:function(e){return e.stopPropagation(),t.popClose(e)},keypress:function(t){t.stopPropagation()}}},[i("div",{staticClass:"wbpro-layer"},[i("woo-panel",{attrs:{border:"bottom"}},[i("woo-box",{staticClass:"wbpro-layer-tit"},[i("woo-box-item",{staticClass:"wbpro-layer-tit-text",attrs:{align:"center"}},[t._v("点评")]),i("woo-box",{staticClass:"wbpro-layer-tit-opt",attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return t.hide(e)}}},[i("woo-fonticon",{attrs:{value:"cross"}})],1)],1)],1),i("div",[i("woo-box",{class:t.$style.search,attrs:{align:"center"}},[i("woo-box-item",{class:t.$style.spop,attrs:{align:"center"}},[i("woo-pop",{attrs:{show:this.searchItems&&this.searchItems.length&&this.focus},nativeOn:{click:function(t){t.stopPropagation()}},scopedSlots:t._u([{key:"ctrl",fn:function(){return[i("div",{on:{click:t.click}},[i("woo-input",{class:t.$style.ipt,attrs:{placeholder:"搜索电影"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enter(e)}},model:{value:t.search.key,callback:function(e){t.$set(t.search,"key",e)},expression:"search.key"}})],1)]},proxy:!0}],null,!1,3188785188)},[t._e()],1)],1)],1),t.isEmpty?t.isEmpty?i("div",{staticClass:"wbpro-pos",class:t.$style.scroll},[i("woo-tip",{class:t.$style.tip,attrs:{type:"warn",sort:"vertical"}},[t._v(" "+t._s(t.emptyText)+" ")])],1):t._e():i("div",{class:t.$style.scroll},[i("Scroll",{attrs:{keyField:"film_id",data:t.items,isLoading:t.isLoading,isEmpty:t.isEmpty,isRetry:t.isRetry,emptyText:t.emptyText},on:{loadMoreData:t.getPlaceDetail},scopedSlots:t._u([{key:"content",fn:function(e){var a=e.item;return[i("MovieItem",{class:t.$style.item,attrs:{item:a},nativeOn:{click:function(e){return t.selectItem(a)}}})]}}],null,!1,2479555525)})],1)],1)],1),t.showDeatil?i("woo-modal",{class:t.$style.box},[i("div",{staticClass:"wbpro-layer"},[i("woo-panel",{attrs:{border:"bottom"}},[i("woo-box",{staticClass:"wbpro-layer-tit"},[i("woo-box",{staticClass:"wbpro-layer-tit-nav",attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:"angleLeft"},nativeOn:{click:function(e){return e.stopPropagation(),t.cancel(e)}}})],1),i("woo-box-item",{staticClass:"wbpro-layer-tit-text",attrs:{align:"center"},nativeOn:{click:function(e){return e.stopPropagation(),t.cancel(e)}}},[t._v("返回")])],1)],1),i("div",{class:t.$style.searchpop},[i("MovieItem",{class:t.$style.item,attrs:{item:t.displayItem},nativeOn:{click:function(e){return t.selectItem(t.item)}}})],1)],1)]):t._e()],1):t._e()},Lt=[],Bt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-box",{attrs:{align:"center"}},[i("woo-picture",{key:t.item.poster||t.item.bill_small,class:t.$style.pic,attrs:{"aspect-ratio":1.25,src:t.item.poster||t.item.bill_small,alt:""}}),i("woo-box-item",{class:t.$style.con,attrs:{align:"center"}},[i("div",{class:t.$style.p1},[i("span",{class:t.$style.t11},[t._v(t._s(t.item.name))]),i("span",{class:t.$style.t12},[t._v(t._s(t.item.subtitle||t.item.sub_title))])]),i("woo-box",{class:t.$style.p2,attrs:{align:"center"}},[t.item.directors?i("span",[t._v("导演：")]):t._e(),t.item.directors?i("div",{class:[t.$style.cut,t.$style.t22]},[t._v(" "+t._s(t.item.directors)+" ")]):t._e(),t.item.actors?i("span",{class:t.item.directors&&t.$style.t23},[t._v("主演：")]):t._e(),t.item.actors?i("woo-box-item",{class:t.$style.cutout,attrs:{align:"center"}},[i("div",{class:[t.$style.cut,t.$style.t24]},[t._v(" "+t._s(t.item.actors)+" ")])]):t._e()],1),i("div",{class:t.$style.p3},t._l(t.item.tags,(function(e,a){var o,n;return i("span",{key:a,class:[t.$style.tag,(o={},o[t.$style.tag1]="vrecom"!==e.type,o),(n={},n[t.$style.tag2]="vrecom"===e.type,n)]},[t._v(t._s(e.text))])})),0)],1)],1)},Pt=[],At={props:["item"],data:function(){return{}}},Et=At,Mt=i("ec39");function Ft(t){this["$style"]=Mt["default"].locals||Mt["default"]}var Rt=Object(C["a"])(Et,Bt,Pt,!1,Ft,null,null),Vt=Rt.exports,Nt={mixins:[pt["a"]],components:{MovieItem:Vt,Scroll:$t["a"]},data:function(){return{items:[],searchItems:[],isLoading:!0,isRetry:!1,isNoData:!1,isEmpty:!1,emptyText:"对不起，暂时没有这部电影",timeout:null,showDeatil:!1,search:{key:""},focus:!1,displayItem:{},source:null}},watch:{"search.key":function(t){this.debounce(this.enter,300)()},modalVisible:function(t){t||(this.search.key=""),this.default()}},methods:{suggest:function(){var t=this;this.source.cancel("Operation canceled by the user.");var e=p.a.CancelToken;this.source=e.source(),this.$http("/ajax/movie/hot_suggest",{params:{k:this.search.key},cancelToken:this.source.token}).then((function(e){t.search.key&&e&&e.data&&e.data.data?t.searchItems=e.data.data:t.searchItems=[]}))},debounce:function(t,e){var i=this;return function(){null!==i.timeout&&clearTimeout(i.timeout),i.timeout=setTimeout(t,e)}},enter:function(){var t=this;this.source.cancel("Operation canceled by the user.");var e=p.a.CancelToken;this.source=e.source(),this.items=[],this.isEmpty=!1,this.isLoading=!0,this.search.key?this.$http("/ajax/movie/hot_search",{params:{k:this.search.key},cancelToken:this.source.token}).then((function(e){t.isLoading=!1,e.data&&e.data.data?(t.isEmpty=!1,t.items=e.data.data):t.isEmpty=!0})):this.default()},clickSearchItem:function(t){var e=this;this.showDeatil=!0,this.$http.get("/ajax/movie/hot_base",{params:{film_id:t.film_id}}).then((function(t){e.displayItem=t.data.data}))},cancel:function(){this.showDeatil=!1,this.displayItem={}},click:function(){this.focus=!0},popClose:function(){this.focus=!1},selectItem:function(t){this.$emit("change",t)},default:function(){var t=this;this.$http.get("/ajax/movie/hot_top",{params:{type:"hotshow"},cancelToken:this.source.token}).then((function(e){t.items=e.data.data.list,t.isNoData=!0,t.isLoading=!1}))}},mounted:function(){var t=p.a.CancelToken;this.source=t.source()}},Ht=Nt,zt=i("1e0f");function Ut(t){this["$style"]=zt["default"].locals||zt["default"]}var Gt=Object(C["a"])(Ht,It,Lt,!1,Ut,null,null),qt=Gt.exports,Wt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-panel",{class:t.$style.box,attrs:{border:"all"}},[i("woo-box",{attrs:{align:"center",justify:"between"}},[i("woo-box",{class:t.$style.star,attrs:{align:"center"}},[i("span",[t._v("*点评一下：")]),i("div",{class:t.$style.ssout},[i("div",{ref:"star",on:{mousemove:t.change,mouseleave:t.reset,click:t.confirm}},[i("div",t._l(5,(function(e){return i("woo-fonticon",{key:e,class:t.$style.icon,attrs:{title:"星星",value:"star"}})})),1),i("div",{class:t.$style.ss2,style:"width: "+t.percent+"%;"},t._l(5,(function(e){return i("woo-fonticon",{key:e,class:t.$style.icon,attrs:{title:"星星",value:"star"}})})),1)])]),i("span",[t._v(t._s(t.desc))])]),i("div",{class:t.$style.del},[i("woo-fonticon",{attrs:{title:"删除",value:"close",kind:"dark"},nativeOn:{click:function(e){return t.deleteItem(e)}}})],1)],1),i("MovieItem",{class:t.$style.gap,attrs:{item:t.item}})],1)},Qt=[],Jt=(i("b680"),{props:["item"],data:function(){return{curPercent:0,percent:0,desc:""}},components:{MovieItem:Vt},watch:{"item.film_id":function(t){this.get(t)}},methods:{get:function(t){var e=this;this.desc="",this.curPercent=0,this.percent=0;var i="1022:100120".concat(t);this.$http.get("/ajax/movie/darwin/list",{params:{user_id:window.$CONFIG.uid,object_ids:i}}).then((function(t){if(t.data&&t.data[i]&&t.data[i].user_score){e.percent=t.data[i].user_score/10*100;var a=["很差","一般","还行","不错","超赞"];e.desc=e.percent?a[Math.floor((e.percent-10)/20)]:"",e.confirm()}}))},reset:function(){if(!this.curPercent)return this.percent=0,void(this.desc="");this.percent=this.curPercent||10;var t=["很差","一般","还行","不错","超赞"];this.desc=this.percent?t[Math.floor((this.percent-10)/20)]:""},deleteItem:function(){var t=this;this.$_w_dialog({type:"confirm",title:"确认关闭？",message:"关闭之后将不可恢复",action:function(){t.$emit("change",0),t.$emit("delete")}})},change:function(t){var e=((t.clientX-this.$refs.star.getBoundingClientRect().left)/this.$refs.star.clientWidth).toFixed(2);this.percent=10*Math.ceil(Number(e)/.1)||10;var i=["很差","一般","还行","不错","超赞"];this.desc=this.percent?i[Math.floor((this.percent-10)/20)]:""},confirm:function(){this.$emit("change",this.percent/20),this.curPercent=this.percent}},mounted:function(){this.item&&this.get(this.item.film_id)}}),Kt=Jt,Yt=i("caf5");function Xt(t){this["$style"]=Yt["default"].locals||Yt["default"]}var Zt=Object(C["a"])(Kt,Wt,Qt,!1,Xt,null,null),te=Zt.exports,ee=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.position?i("div",{class:t.$style.box},[i("div",{class:t.$style.box1},[i("woo-box",{class:t.$style.place,attrs:{align:"center"}},[i("woo-fonticon",{class:[t.$style.icon,t.$style.icon1],attrs:{value:"placeFlat"}}),i("div",{class:[t.$style.box2,"wbpro-textcut"]},[t._v(" "+t._s(t.position.poititle)+" ")]),i("woo-fonticon",{class:[t.$style.icon,t.$style.icon2],attrs:{value:"close"},nativeOn:{click:function(e){return t.close(e)}}})],1)],1)]):t._e()},ie=[],ae={props:["position"],methods:{close:function(){this.$emit("close")}}},oe=ae,ne=i("2449");function se(t){this["$style"]=ne["default"].locals||ne["default"]}var re=Object(C["a"])(oe,ee,ie,!1,se,null,null),le=re.exports,ce=i("92e8"),ue=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("woo-modal",{directives:[{name:"show",rawName:"v-show",value:t.visable&&t.list,expression:"visable && list"}],attrs:{animation:"slide-bottom","lock-screen":""},nativeOn:{click:function(e){return e.stopPropagation(),t.hide(e)}}},[i("div",{class:t.$style.box,on:{click:function(t){t.stopPropagation()}}},[i("div",{class:t.$style.bg}),i("woo-fonticon",{class:t.$style.close,attrs:{value:"close"},nativeOn:{click:function(e){return t.hide(e)}}}),i("woo-box",{class:t.$style.con,attrs:{direction:"y",align:"center"}},[i("div",{class:t.$style.h2},[t._v(" 微博的视频服务升级为微博视频号服务"),i("br"),t._v(" 并在原有权益基础上享有更丰富的权益 ")]),i("div",{class:t.$style.ul},t._l(t.list,(function(e){return i("woo-box",{key:e,class:t.$style.li,attrs:{align:"center"}},[i("woo-picture",{attrs:{width:"18",src:e.icon,alt:""}}),i("woo-box-item",{class:t.$style.txt,attrs:{align:"center"}},[t._v(t._s(e.text))])],1)})),1),i("div",{class:t.$style.btnbox},[i("woo-button",{class:t.$style.btn,attrs:{sort:"flat",kind:"primary",fluid:""},nativeOn:{click:function(e){return e.stopPropagation(),t.open(e)}}},[t._v(" 继续发布 ")])],1),i("div",{class:t.$style.iptbox},[i("woo-checkbox",{model:{value:t.followVchannel,callback:function(e){t.followVchannel=e},expression:"followVchannel"}},[t._v("同时关注 @微博视频号")])],1)])],1)])},de=[],he={setup:function(t,e){var i=Object(y["n"])(!1),a=Object(y["n"])(!1),o=function(){i.value=!0},n=function(){a.value=!1,i.value=!1};return{visable:i,followVchannel:a,show:o,hide:n}},data:function(){return{list:null}},watch:{visable:function(t){var e,i,a,o,n=this;t&&(this.list||((null===this||void 0===this||null===(e=this.setComposerConfig)||void 0===e||null===(i=e.push_active)||void 0===i?void 0:i.vchannel_benefits)?this.list=null===this||void 0===this||null===(a=this.setComposerConfig)||void 0===a||null===(o=a.push_active)||void 0===o?void 0:o.vchannel_benefits:this.$http.get("/ajax/statuses/config",{params:{type:"push_active"}}).then((function(t){t.data.ok&&(n.list=t.data.data.vchannel_benefits,n.setComposerConfig({push_active:t.data.data}))}))))}},computed:Object(c["a"])({},Object(f["c"])(["composerConfig"])),methods:Object(c["a"])(Object(c["a"])({},Object(f["b"])(["setComposerConfig"])),{},{open:function(){var t=this;this.$http.post("/ajax/multimedia/planet_video_modify",{follow_vchannel:this.followVchannel?1:0}).then((function(e){var i,a;(null===(i=e.data)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.result)&&(t.hide(),window.$CONFIG.user.planet_video=!1,t.$parent.media.titles?t.$parent.$refs.videopop.show():t.$parent.$refs.videopop.showFiles())}))}})},pe=he,fe=i("e849");function me(t){this["$style"]=fe["default"].locals||fe["default"]}var ve=Object(C["a"])(pe,ue,de,!1,me,null,null),_e=ve.exports,ge=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.needOpen&&1!==t.visibleNumber?i("woo-box",{class:t.$style.switchc,attrs:{justify:"start",align:"center"}},[i("div",{class:t.$style.desc},[t._v(" "+t._s(t.composerConfig.push_active.ai_assistant_switcher?"评论智能助手":"评论精选")+" ")]),i("div",{class:t.$style.switch},[i("woo-switch",{attrs:{size:.6875},model:{value:t.approval_state,callback:function(e){t.approval_state=e},expression:"approval_state"}})],1)]):t._e()},be=[],ye={props:{approval_comment_type:{type:Number,default:0},ai_assistant_comment_type:{type:Number,default:0}},setup:function(t){var e=Object(y["n"])(!1),i=Object(y["n"])(!1);return{approval_state:e,needOpen:i}},methods:Object(c["a"])({},Object(f["b"])(["setApprovalState","setComposerConfig"])),computed:Object(c["a"])({},Object(f["c"])(["composerConfig"])),watch:{approval_state:function(t){var e;(null===(e=this.composerConfig)||void 0===e?void 0:e.push_active)&&this.$emit("change",[this.composerConfig.push_active.approval_switcher?"approval_state":"ai_assistant_state",t?"1":"0"])}},mounted:function(){var t,e,i,a,o=this;(null===this||void 0===this||null===(t=this.composerConfig)||void 0===t||null===(e=t.push_active)||void 0===e?void 0:e.approval_switcher)||(null===this||void 0===this||null===(i=this.composerConfig)||void 0===i||null===(a=i.push_active)||void 0===a?void 0:a.ai_assistant_switcher)?(this.needOpen=Boolean(this.composerConfig.push_active.approval_switcher||this.composerConfig.push_active.ai_assistant_switcher),this.approval_comment_type&&(this.approval_state=!0),this.ai_assistant_comment_type&&(this.approval_state=!0)):this.$http.get("/ajax/statuses/config",{params:{type:"push_active"}}).then((function(t){t.data.ok&&(o.needOpen=Boolean(t.data.data.approval_switcher||t.data.data.ai_assistant_switcher),o.setComposerConfig({push_active:t.data.data}),o.approval_comment_type&&(o.approval_state=!0),o.ai_assistant_comment_type&&(o.approval_state=!0))}))}},we=ye,xe=i("9443");function ke(t){this["$style"]=xe["default"].locals||xe["default"]}var $e=Object(C["a"])(we,ge,be,!1,ke,null,null),Ce=$e.exports,Oe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.visible?i("woo-modal",{class:t.$style.select,attrs:{animation:"slide-bottom","lock-screen":t.lockScreen},nativeOn:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"wbpro-layer"},[i("woo-panel",{attrs:{border:"bottom"}},[i("woo-box",{staticClass:"wbpro-layer-tit"},[i("woo-box-item",{staticClass:"wbpro-layer-tit-text",attrs:{align:"center"}},[t._v("请选择发布图片类型")]),i("woo-box",{staticClass:"wbpro-layer-tit-opt",attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{staticStyle:{cursor:"pointer"},attrs:{value:"cross"},nativeOn:{click:function(e){return t.hide(e)}}})],1)],1)],1),i("woo-box",{class:t.$style.container},t._l(t.selectList,(function(e,a){return i("woo-box",{key:a,class:t.$style.item,attrs:{align:"center",direction:"y",justify:"center"},nativeOn:{click:function(i){return i.stopPropagation(),t.open(e.pri)},mouseenter:function(i){return t.changeSelect(e)},mouseleave:function(i){return t.changeSelect(e)}}},[e.select?i("div",[i("woo-box",{class:t.$style.check_bg}),i("woo-fonticon",{class:t.$style.check,attrs:{value:"check"}})],1):t._e(),i("woo-box",{class:t.$style.icon,attrs:{align:"center",justify:"center"}},[i("woo-fonticon",{attrs:{value:e.icon}})],1),t._v(" "+t._s(e.name)+" ")],1)})),1)],1)]):t._e()},je=[],Te={data:function(){return{visible:!1,selectList:[{name:"普通图片",pri:0,icon:"imgUploader",select:0},{name:"专属图片",pri:1,icon:"vplus",select:0}]}},methods:{show:function(){this.visible=!0},hide:function(){this.visible=!1},changeSelect:function(t){t.select=!t.select},open:function(t){this.$emit("select",t),this.hide()}}},De=Te,Se=i("b573");function Ie(t){this["$style"]=Se["default"].locals||Se["default"]}var Le=Object(C["a"])(De,Oe,je,!1,Ie,null,null),Be=Le.exports;function Pe(){var t=Object(y["m"])({id:"",url:"",title:""}),e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.id,a=void 0===i?t.id:i,o=e.url,n=void 0===o?t.url:o,s=e.title,r=void 0===s?t.title:s;t.id=null!==a&&void 0!==a?a:t.id,t.url=null!==n&&void 0!==n?n:t.url,t.title=null!==r&&void 0!==r?r:t.title},i=function(){t.id="",t.url="",t.title=""};return{monograph:Object(y["a"])((function(){return t})),setMonograph:e,clearMonograph:i}}var Ae=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.monograph&&t.monograph.title?i("div",[i("woo-box",{class:t.$style.box,attrs:{align:"center"}},[i("woo-fonticon",{class:t.$style.bi1,attrs:{value:"collection"}}),i("span",{class:[t.$style.bt,"wbpro-textcut"]},[t._v(t._s(t.monograph.title))]),i("woo-fonticon",{class:t.$style.bi2,attrs:{value:"close",kind:"dark"},nativeOn:{click:function(e){return t.clear(e)}}})],1)],1):t._e()},Ee=[],Me={props:{clear:{},monograph:{}}},Fe=Me,Re=i("4d68");function Ve(t){this["$style"]=Re["default"].locals||Re["default"]}var Ne=Object(C["a"])(Fe,Ae,Ee,!1,Ve,null,null),He=Ne.exports,ze=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.modalVisible?i("woo-modal",{attrs:{"lock-screen":""}},[i("div",{staticClass:"wbpro-layer"},[i("woo-panel",{attrs:{border:"bottom"}},[i("woo-box",{staticClass:"wbpro-layer-tit"},[i("woo-box-item",{staticClass:"wbpro-layer-tit-text",attrs:{align:"center"}},[t._v("加入专栏")]),i("woo-box",{staticClass:"wbpro-layer-tit-opt",attrs:{align:"center",justify:"center"},nativeOn:{click:function(e){return t.hide(e)}}},[i("woo-fonticon",{attrs:{value:"cross"}})],1)],1)],1),i("div",{class:t.$style.box},[i("woo-box",{attrs:{algin:"center",justify:"between"}},[i("woo-button",{class:t.$style.btn1,attrs:{sort:"simple",kind:"primary",fonticon:"add",round:!1},on:{click:function(e){return t.handleAction("create")}}},[t._v("创建专栏")]),i("woo-button",{class:t.$style.btn2,attrs:{sort:"simple",kind:"default",fonticon:"monograph",disabled:0===t.items.length},on:{click:function(e){return t.handleAction("manage")}}},[t._v("管理我的专栏")])],1),i("div",{class:t.$style.scroll},[i("Scroll",{attrs:{keyField:"id",data:t.items,isLoading:t.isLoading,isEmpty:t.isEmpty,isRetry:t.isRetry,emptyText:t.emptyText},on:{loadMoreData:t.getDetail},scopedSlots:t._u([{key:"content",fn:function(e){var a=e.item;return[i("woo-box",{class:t.$style.item,attrs:{algin:"center"},nativeOn:{click:function(e){return t.changeMonograph(a)}}},[i("woo-picture",{class:t.$style.pic,attrs:{src:a.cover,alt:"等比图",width:"80"}}),i("woo-box-item",{class:t.$style.cut,attrs:{algin:"center"}},[i("div",{class:[t.$style.h3,"wbpro-textcut"]},[t._v(" "+t._s(a.title)+" ")]),i("div",{class:[t.$style.h4,"wbpro-textcut"]},[t._v(" "+t._s(a.summary)+" ")]),i("div",{class:[t.$style.h4,"wbpro-textcut"]},[i("span",{class:t.$style.update},[t._v("已更新："+t._s(a.total)+"条")]),i("span",[t._v("更新时间："+t._s(a.edited_time||a.created_time))])])])],1)]}}],null,!1,2431365443)})],1)],1)],1)]):t._e()},Ue=[],Ge={mixins:[pt["a"]],components:{Scroll:$t["a"]},props:{setMonograph:{}},setup:function(t){var e=Object(y["d"])(),i=e.proxy,a=Object(y["n"])([]),o=Object(y["n"])(!0),n=Object(y["n"])(!1),s=Object(y["n"])(!1),r=Object(y["n"])(!1),c=Object(y["n"])("暂无专栏"),u=Object(y["m"])({page:1}),d=function(e){var a=e.id,o=e.url,n=e.title;t.setMonograph({id:a,url:o,title:n}),i.hide()},h=function(){a.value=[],u.page=1,o.value=!0,n.value=!1,s.value=!1,r.value=!1,p()},p=function(){i.$http.get("/ajax/monograph/list",{params:u}).then((function(t){if(o.value=!1,u.page++,0===t.data.data.total)r.value=!0,s.value=!0;else if(t.data.data.list){var e;(e=a.value).push.apply(e,Object(l["a"])(t.data.data.list)),o.value=!0}else o.value=!1,s.value=!0}))},f=function(t){window.open("manage"===t?"https://mp.weibo.com/collection/editor/":"https://mp.weibo.com/collection/editor/setup?side_bar=0","monograph")},m=function(){i.modalVisible&&h()};return Object(y["k"])((function(){window.addEventListener("focus",m)})),Object(y["l"])((function(){window.removeEventListener("focus",m)})),{items:a,isEmpty:r,isLoading:o,isNoData:s,isRetry:n,emptyText:c,getDetail:p,reset:h,changeMonograph:d,handleAction:f}},watch:{modalVisible:function(t){t&&this.reset()}}},qe=Ge,We=i("e4dd");function Qe(t){this["$style"]=We["default"].locals||We["default"]}var Je=Object(C["a"])(qe,ze,Ue,!1,Qe,null,null),Ke=Je.exports,Ye=i("c54d"),Xe=i("8e18"),Ze=i("8a48"),ti=/(http|https):\/\/([\w.]+\/?)\S*/,ei={continue:1,polish:2,pic2Text:3},ii={continue:"AI续写",polish:"AI润色",pic2Text:"图生文"},ai={act_code:7842},oi={setup:function(t){var e=Object(Xe["a"])(),i=e.isAudio,a=e.isRss,o=e.isRssAll,n=Pe(),s=n.monograph,r=n.setMonograph,l=n.clearMonograph,c=Object(Ze["a"])(),u=c.timerCount;return{monograph:s,setMonograph:r,clearMonograph:l,timerCount:u,isAudio:i,isRss:a,isRssAll:o}},props:{visibleOnly:{type:Object,default:null},sendDesc:{type:String},toolsfliter:{type:Array,default:function(){return["emoticon","image","hash","at","video","article","vote","place","stopic","vellipsis","timer","audio","assistCreation"]}},lockScreen:{type:Boolean,default:!0},set:{type:Object,default:function(){return{}}},storge:{type:String,default:""},location:{type:String,default:""},channelData:{type:Object,default:function(){return{}}},doneDisabled:{},coCreation:{}},data:function(){var t,e,i,a,o,n;return{type:"text1",content:"",formDisabled:!1,pic_id:[],pic_focus_point:[],visible:0,media:{},vote:{},share_id:"",authority:0,formCount:{count:0,maxcount:0},maxCount:5e3,textCount:0,time:"",ModifyPic:"",toolAction:this.set&&this.set.action?this.set.action:"",schedule_timestamp:0,schedule_timestamp_init:0,schedule_id:"",pasteImage:[],pasteImageCache:[],editData:"",mcomment:{},position:null,approval_state:[],pri:0,mblog_id:"",mblog_uid:"",remark_type:"",info_sources:"",remark_list:[],mblog_statement:0,scheduleConfig:{},timezoneInit:0,aiType:1,aiConfig:{autoGenerateConfig:{result:[],generating:!1},tryAgain:!1,showPolishCount:30,showPic2TextCount:10,limitMinCount:10,polishVisible:!1,generating:!1,generated:!1,failed:!1,display:!0,result:"",resultArr:[],type:"",types:new Set,pid:"",showEditArea:!1,enablePolish:null===(t=window.$CONFIG)||void 0===t||null===(e=t.flags)||void 0===e?void 0:e.text_optima,enablePic2Text:null===(i=window.$CONFIG)||void 0===i||null===(a=i.flags)||void 0===a?void 0:a.pic_text,enableContinue:null===(o=window.$CONFIG)||void 0===o||null===(n=o.flags)||void 0===n?void 0:n.text_extend,timeout:3e4,customSelectStyle:!1,clickPolishSignal:!1,noRetry:!1,retryTimes:0},aiTypeMap:ei}},components:{PublisherForm:m["a"],PublisherTool:v["a"],PublisherAi:T,PublisherImage:_["a"],PublisherVote:E,PublisherVideo:M["a"],PublisherVideoPop:F["a"],PublisherEmoticon:R["a"],PublisherVotePop:ut,PublisherTimer:bt,PublisherPlace:St,PublisherMovieCommentPop:qt,PublisherMcomment:te,VideoActivated:_e,PlaceCard:le,Approval:Ce,ImageSelect:Be,Monograph:He,MonographPop:Ke},computed:Object(c["a"])(Object(c["a"])({},Object(f["c"])(["composerConfig"])),{},{curRemark:function(){var t=this;if("addComment"===this.toolAction){var e,i=this.remark_list.findIndex((function(e){return e.type===t.remark_type}));return i>-1?null===this||void 0===this||null===(e=this.remark_list)||void 0===e?void 0:e[i]:null}return null},placeholder:function(){var t=this;if("addComment"===this.toolAction){var e,i,a=this.remark_list.findIndex((function(e){return e.type===t.remark_type}));return null===this||void 0===this||null===(e=this.remark_list)||void 0===e||null===(i=e[a])||void 0===i?void 0:i.hint}return this.set&&this.set.placeholder||"有什么新鲜事想分享给大家？"},hasPid:function(){var t;return!!(null===this||void 0===this||null===(t=this.pic_id)||void 0===t?void 0:t.length)},isHome:function(){return["home","mygroups","login"].includes(this.$route.name)},publishData:function(){var t,e,i,a=this.content,o=this.pic_id,n=this.vote,s=this.media,r=this.visible,l=this.schedule_id,c=this.mcomment;(this.set&&"modify"===this.set.action||this.set&&"schedule"===this.set.action&&this.set.data&&this.set.data.schedule_id?(a=a.trim()===this.set.data.content.trim(),o=!o.length):(a=""===a,o=!o.length),this.set&&"modify"===this.set.action||this.set&&"schedule"===this.set.action&&this.set.data&&this.set.data.schedule_id)?t={content:this.content.trim()===this.set.data.content.trim(),pic_id:this.pic_id===(null===(e=this.set.data.pic_id)||void 0===e?void 0:e.join(",")),vote:0===Object.keys(n).length,media:0===Object.keys(s).length&&!(this.set&&this.set.data&&this.set.data.videoImage),mcomment:0===Object.keys(c).length}:t={content:""===this.content,pic_id:0===(null===(i=this.pic_id)||void 0===i?void 0:i.length),vote:0===Object.keys(n).length,media:0===Object.keys(s).length&&!(this.set&&this.set.data&&this.set.data.videoImage),mcomment:0===Object.keys(c).length};return Object.values(t).every((function(t){return t}))?this.$emit("change","date",!0):this.$emit("change","date",!1),{content:a,pic_id:o,vote:0===Object.keys(n).length,media:0===Object.keys(s).length&&!(this.set&&this.set.data&&this.set.data.videoImage),visible:r,vote_exist:n&&n.exist,schedule_id:l,mcomment:0===Object.keys(c).length,schedule_timestamp:this.schedule_timestamp}},sendDisabled:function(){return 0==this.formCount.count||this.formCount.count>this.formCount.maxcount}}),watch:{"set.publish":function(t){t&&this.set.publishCallback()},"set.content":function(t){t&&(this.content=t)},channelData:{deep:!0,handler:function(t){this.set.autoPublish&&this.toolbarPublish()}},schedule_timestamp:function(t){t?"timer"!==this.toolAction&&(this.toolAction="schedule"):this.toolAction="modify"===this.toolAction?"modify":""},publishData:{handler:function(t){var e=t.visible,i=t.vote_exist,a=t.schedule_id;delete t.schedule_id,delete t.visible,delete t.vote_exist,t.schedule_id=a,t.visible=e,t.vote_exist=i},deep:!0}},methods:Object(c["a"])(Object(c["a"])({},Object(f["b"])(["setPublisherCallBack","setPublisherModifyCallback","setComposerConfig"])),{},{changeApprovalState:function(t){this.approval_state=t},closePlace:function(){this.position=null},changeMcomment:function(t){this.$set(this.mcomment,"current_scroe",t)},deleteMcomment:function(){this.mcomment={}},movieCommentChange:function(t){this.$refs.movieCommentPop.hide(),this.mcomment=t},pasteVideo:function(t){var e;"{}"===JSON.stringify(this.media)&&"{}"===JSON.stringify(this.vote)&&"addComment"!==this.toolAction&&(this.hasPid||!(null===(e=window.$CONFIG.user)||void 0===e?void 0:e.v_plus)?this.pri?this.$_w_toast({type:"warn",message:"混发暂时不支持专属内容"}):this.pasteImage.push(t):(this.pasteImageCache=[],this.pasteImageCache.push(t),this.pasteImage.push(t)))},pasteImg:function(t){var e;"{}"===JSON.stringify(this.media)&&"{}"===JSON.stringify(this.vote)&&"addComment"!==this.toolAction&&(this.hasPid||!(null===(e=window.$CONFIG.user)||void 0===e?void 0:e.v_plus)?this.pasteImage.push(t):(this.pasteImageCache=[],this.pasteImageCache.push(t),this.$refs.ImageSelect.show()))},selectPri:function(t){var e;this.pri=t,(e=this.pasteImage).push.apply(e,Object(l["a"])(this.pasteImageCache))},placeChange:function(t){"modify"===this.toolAction?this.$refs.form.inserText("".concat(t.pc_title," ")):this.position=t},microChange:function(t){"close"===t&&this.$emit("change","close")},remarkChange:function(t){this.info_sources=t},formChange:function(t){this.content=t,this.$emit("change",t)},imageChange:function(t,e){var i,a,o=this;if("end"==t)o.pic_focus_point=[],o.pic_id=e.map((function(t){return t.crop&&o.pic_focus_point.push({pic_id:t.pid,foucs_point:t.crop.per}),t}));else if("remove"==t){var n;o.pic_focus_point=[],o.pic_id=e.map((function(t){return t.crop&&o.pic_focus_point.push({pic_id:t.pid,foucs_point:t.crop.per}),t})),0===(null===(n=o.pic_id)||void 0===n?void 0:n.length)&&(this.resetAutoGenerationConfig(),"pic2Text"===this.aiConfig.type&&(this.aiConfig.failed&&(this.aiConfig.failed=!1),this.onGenerationClose()))}else"change"==t?this.pic_id=e:"start"==t&&(this.pasteImage.length&&(this.pasteImage=[]),this.pic_id="loading");"upload-end"===t&&(!this.watchCb&&(null===(i=o.pic_id)||void 0===i?void 0:i.length)&&this.aiConfig.enablePic2Text&&this.formCount.count<this.aiConfig.showPic2TextCount&&this.getAutoGeneration(null===(a=o.pic_id[0])||void 0===a?void 0:a.pid))},voteChange:function(t){this.vote=t},voteEdit:function(){this.$refs.votepop.show(this.vote)},voteClose:function(){var t=this;this.vote.exist?this.$_w_dialog({type:"confirm",title:"确认",message:"确认删除链接",action:function(){t.content=t.content.replace(t.vote.short_url,""),t.vote={}}}):this.$_w_dialog({type:"confirm",title:"确认关闭？",message:"关闭之后将不可恢复",action:function(){t.vote={}}})},videoChange:function(t){switch(t[0]){case"success":this.media=t[1],this.media&&(this.editData=JSON.stringify(this.media));break}},checkSchedule:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$http.get("/ajax/statuses/user/count_limit");case 3:if(i=e.sent,!i.data.result.schedule){e.next=6;break}return e.abrupt("return",i.data.result.schedule);case 6:return e.abrupt("return",{});case 9:e.prev=9,e.t0=e["catch"](0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))()},toolbarChange:function(t,e){var i=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var o,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:a.t0=t,a.next="image"===a.t0?3:"vplus_image"===a.t0?5:"emoticon"===a.t0?7:"article"===a.t0?9:"ask"===a.t0?11:"fresh"===a.t0?13:"live"===a.t0?15:"vote"===a.t0?17:"audio"===a.t0?19:"video"===a.t0?21:"visible"===a.t0?23:"mblog_statement"===a.t0?26:"share_id"===a.t0?29:"at"===a.t0?31:"hash"===a.t0?34:"timer"===a.t0?37:"place"===a.t0?48:"authority"===a.t0?50:"mcomment"===a.t0?52:"stopic"===a.t0?55:"scomment"===a.t0?58:"collection"===a.t0?60:"polish"===a.t0?62:"continue"===a.t0||"pic2Text"===a.t0?63:67;break;case 3:return"{}"===JSON.stringify(i.media)&&"{}"===JSON.stringify(i.vote)&&(i.pri=0,i.$refs.image.showFiles()),a.abrupt("break",67);case 5:return"{}"===JSON.stringify(i.media)&&"{}"===JSON.stringify(i.vote)&&(i.pri=1,i.$refs.image.showFiles()),a.abrupt("break",67);case 7:return i.$refs.emoticon.show(),a.abrupt("break",67);case 9:return window.open("https://card.weibo.com/article/v3/editor"),a.abrupt("break",67);case 11:return window.open("https://weibo.com/ttwenda/p/publisher3in1"),a.abrupt("break",67);case 13:return window.open("https://mp.weibo.com/xian/fresh/all"),a.abrupt("break",67);case 15:return window.open("https://me.weibo.com/content/live"),a.abrupt("break",67);case 17:return"{}"===JSON.stringify(i.media)&&0===(null===i||void 0===i||null===(o=i.pic_id)||void 0===o?void 0:o.length)&&i.$refs.votepop.show(i.vote),a.abrupt("break",67);case 19:return window.open("https://weibo.com/upload/audio"),a.abrupt("break",67);case 21:return 64&window.$CONFIG.user.user_limit?i.$_w_dialog({message:"已限制发布视频"}):window.open("https://weibo.com/upload/channel"),a.abrupt("break",67);case 23:return i.visible=e,i.$emit("change","visible",e),a.abrupt("break",67);case 26:return i.mblog_statement=e,i.$emit("change","mblog_statement",e),a.abrupt("break",67);case 29:return i.share_id=e,a.abrupt("break",67);case 31:return i.$refs.form.inserText("@"),i.$refs.form.click(),a.abrupt("break",67);case 34:return i.$refs.form.inserText("#"),i.$refs.form.click(),a.abrupt("break",67);case 37:return a.next=39,i.timerCount();case 39:if(n=a.sent,s=n.schedule,i.scheduleConfig=s,s.residue_num||!s.text){a.next=45;break}return i.$_w_dialog({type:"confirm",message:s.text,btns:[{text:"确定",action:function(){window.open(s.scheme,"_blank")}}]}),a.abrupt("return");case 45:return i.schedule_timestamp=Date.now()+6e5,i.schedule_timestamp_init=Date.now()+6e5,a.abrupt("break",67);case 48:return i.$refs.place.show(),a.abrupt("break",67);case 50:return i.authority=e,a.abrupt("break",67);case 52:return i.$emit("change","close"),setTimeout((function(){i.$Bus.$emit("showReviewPop")}),300),a.abrupt("break",67);case 55:return i.$emit("change","close"),setTimeout((function(){i.$Bus.$emit("showTopicPop")}),300),a.abrupt("break",67);case 58:return i.$refs.movieCommentPop.show(),a.abrupt("break",67);case 60:return i.$refs.MonographPop.show(),a.abrupt("break",67);case 62:i.aiConfig.clickPolishSignal=!1;case 63:return i.aiConfig.types.add(ei[t]),i.resetRetryStatus(),i.onClickAssistCreation(t),a.abrupt("break",67);case 67:case"end":return a.stop()}}),a)})))()},handleVote:function(){if(this.vote.exist)return{};if(this.vote.title){var t=[];if(this.vote.pictextOptions[0]&&this.vote.pictextOptions[0].src&&"pictext"===this.vote.type){var e,i=Object(s["a"])(this.vote.pictextOptions.entries());try{for(i.s();!(e=i.n()).done;){var a=Object(n["a"])(e.value,2),o=a[0],r=a[1];t.push({}),t[o].content=r.label,t[o].pid=r.pid,t[o].pic=r.src}}catch(m){i.e(m)}finally{i.f()}}else{var l,c=Object(s["a"])(this.vote.textOptions.entries());try{for(c.s();!(l=c.n()).done;){var u=Object(n["a"])(l.value,2),d=u[0],h=u[1];t.push({}),t[d].content=h}}catch(m){c.e(m)}finally{c.f()}}var p="";p=-1===this.vote.endTimeOption.type.value?this.vote.endTime:Date.now()+864e5*this.vote.endTimeOption.type.value;var f={content:this.vote.title,vote_type:"text"===this.vote.type?0:1,expired_date:Math.floor(p/1e3),is_multi_select:this.vote.is_multi_select?1:0,vote_list:t};return f.is_multi_select&&(f.maximum=this.vote.maximum,f.minimum=this.vote.minimum,f.vote_type&&(f.image_multi_select=1)),this.vote.participant_conf&&(f.participant_conf=this.vote.participant_conf),JSON.stringify(f)}return""},handleMedia:function(){this.media&&this.media.covers&&this.media.covers[0].url&&delete this.media.covers[0].url;var t=JSON.parse(JSON.stringify(this.media));return this.isAudio&&delete t.desc,this.isRss&&delete t.rss,Object.keys(t).length?JSON.stringify(t):""},handlePic:function(){return this.pic_id.length?JSON.stringify(this.pic_id.map((function(t){return{type:t.type,media_id:t.media_id,pid:t.pid,short_url:t.short_url,media_group_id:t.media_group_id}}))):""},toolbarPublish:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var a,o,s,r,l,c,u,h,f,m,v,_,g,b,y,w,x,k,$,C,O,j,T,D,S,I,L,B,P,A,E,M;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if("channel"!==e.toolAction&&(!e.schedule_timestamp||e.schedule_timestamp_init)&&void 0===(null===e||void 0===e||null===(a=e.set)||void 0===a?void 0:a.publish)){i.next=9;break}if(c=e.set.publish,c){i.next=8;break}if((null===e||void 0===e||null===(u=e.set)||void 0===u?void 0:u.publishCallback(!1))&&e.$_w_dialog({btnConfirm:"我知道了",message:"设置自动发布成功！ 微博将于".concat(e.isAudio?"音频":"视频","文件上传并转码完成后自动发出。在文件上传完毕前请勿关闭浏览器窗口"),action:function(){e.$emit("change","auto"),e.$nextTick((function(){window.scrollTo(0,0)}))}}),!(null===e||void 0===e||null===(h=e.set)||void 0===h?void 0:h.publishCallback)){i.next=6;break}return i.abrupt("return");case 6:i.next=9;break;case 8:(Object.keys(e.channelData).length||e.isRss)&&(e.media=e.set.getSuccessData());case 9:if(f=e.toolAction?"modify":"update","channel"!==e.toolAction&&"addComment"!==e.toolAction||(f="update"),!e.schedule_timestamp_init||"schedule"!==e.toolAction||!e.schedule_id){i.next=15;break}f="schedule/edit",i.next=20;break;case 15:if(!e.schedule_timestamp){i.next=20;break}if(!(e.schedule_timestamp-Date.now()<54e4)){i.next=19;break}return e.$_w_toast({type:"error",message:"只能发 10 分钟后的定时微博"}),i.abrupt("return");case 19:f="schedule/upload";case 20:if(!e.pic_id||!e.pic_id.some((function(t){return 2===t.status}))){i.next=23;break}return e.$_w_toast({type:"error",message:"素材正在上传中，请稍后"}),i.abrupt("return");case 23:if(m={content:e.content,visible:e.visible,share_id:e.share_id,media:e.handleMedia(),vote:e.handleVote()},e.handlePic()&&(m.pic_id=e.handlePic()),e.isRss&&(f="rss_publish",(null===(v=e.media.rss)||void 0===v?void 0:v.cluster_id)&&(m.cluster_id=e.media.rss.cluster_id),(null===(_=e.media.rss)||void 0===_?void 0:_.rss_url)&&(m.rss_url=e.media.rss.rss_url),(null===(g=e.media.rss)||void 0===g?void 0:g.guid)&&(m.guid=e.media.rss.guid),e.isRssAll&&delete m.media),e.isAudio&&(e.media.desc&&(m.desc=e.media.desc),m.content||(m.content="分享音频")),"addComment"!==e.toolAction){i.next=38;break}if(m.mblog_id=e.mblog_id,m.mblog_uid=e.mblog_uid,m.remark_type=e.remark_type,m.info_sources=e.info_sources,m.info_sources||!e.curRemark.ref_type){i.next=35;break}return e.$_w_toast({type:"warn",message:"请输入参考信息来源链接"}),i.abrupt("return");case 35:if(!m.info_sources||ti.test(m.info_sources)){i.next=38;break}return e.$_w_toast({type:"warn",message:"请输入正确链接"}),i.abrupt("return");case 38:return t&&(m.geeTestParams=t),e.monograph.title&&(m.monograph=JSON.stringify(e.monograph)),(null===(o=e.media)||void 0===o?void 0:o.is_vip_paid)&&(m.is_vip_paid=8,null===(b=e.media)||void 0===b||delete b.is_vip_paid),"modify"!==f&&e.approval_state.length&&(y=Object(n["a"])(e.approval_state,2),w=y[0],x=y[1],m[w]=x),e.pri&&e.pic_id&&(m.is_vip_paid=1),e.set&&e.set.data&&e.set.data.extentionsParams&&(m.biz_ext=e.set.data.extentionsParams.biz_ext,m.callback_url=e.set.data.extentionsParams.callback_url),e.pic_focus_point.length&&(m.pic_focus_point=JSON.stringify(e.pic_focus_point)),Object.keys(e.mcomment).length&&(m.rating_object_id="1022:100120".concat(e.mcomment.film_id),m.score=e.mcomment.current_scroe),"modify"===e.toolAction&&(m.mid=e.set.data.mid),e.authority&&(m.auth_state=e.authority),e.mblog_statement&&(m.mblog_statement=e.mblog_statement),e.schedule_timestamp&&(m.schedule_timestamp=e.schedule_timestamp,"timer"===e.toolAction&&(m.showBatch=1),m.schedule_beijing_tz=e.schedule_beijing_tz?1:0),"schedule"===e.toolAction&&(m.schedule_id=e.schedule_id),(null===e||void 0===e||null===(s=e.position)||void 0===s?void 0:s.pc_title)&&(m.content+=e.position.pc_title),e.position?((null===(k=e.set)||void 0===k||null===($=k.data)||void 0===$?void 0:$.tag_struct)&&(e.set.data.tag_struct.map((function(t){"place"===t.otype&&(O=t)})),(null===(C=O)||void 0===C?void 0:C.tag_name)&&Object.assign(m,e.position)),"modify"===e.toolAction&&(m.update_geo="true")):(null===(r=e.set)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.tag_struct)&&(e.set.data.tag_struct.map((function(t){"place"===t.otype&&(T=t)})),(null===(j=T)||void 0===j?void 0:j.tag_name)&&Object.assign(m,{poiid:"",poititle:"",long:"",lat:"",spot_type:0}),"modify"===e.toolAction&&(m.update_geo="true")),["schedule/upload","update"].includes(f)&&e.aiConfig.types.size&&(m.types=Array.from(e.aiConfig.types).filter((function(t){return t})).join("&"),e.aiConfig.types=new Set),i.next=56,p.a.post("/ajax/statuses/".concat(f),d.a.stringify(m));case 56:if(D=i.sent,Object.keys(e.media).length&&e.$refs.videopop.updateMd5(e.media.media_id),!(D&&D.data&&D.data.ok>0)){i.next=73;break}if(!(null===(S=D.data)||void 0===S||null===(I=S.data)||void 0===I?void 0:I.verify)){i.next=72;break}return i.next=62,Object(Ye["b"])("video");case 62:if(L=i.sent,B=Object(n["a"])(L,2),P=B[0],A=B[1],!P){i.next=70;break}return Object(Ye["a"])(P),e.$_w_toast({type:"warn",message:"验证失败"}),i.abrupt("return",P);case 70:try{Object(Ye["a"])(P),e.toolbarPublish(JSON.stringify(A))}catch(F){}return i.abrupt("return");case 72:D.data.error?e.$_w_toast({type:"warn",message:D.data.msg||D.data.error}):(e.set&&e.set.data&&e.set.data.extentionsParams&&e.set.data.callback(),e.storge&&localStorage.setItem("from_content",""),E=D.data.msg?D.data.msg:"".concat(e.toolAction?"编辑":"发布","成功"),e.set.publish||e.$_w_toast({type:"success",message:E}),e.resetGenerationConfig(),"update"===f?!Object.keys(e.media).length&&e.pic_id.every((function(t){return"video"!==t.type}))&&e.setPublisherCallBack(D.data):"schedule/edit"===f?e.set.data.callback.callback(e.set.data.callback.index,D.data.data):"modify"===e.toolAction?(D.data.data.longTextContent=D.data.data.longText&&D.data.data.longText.longTextContent,e.setPublisherModifyCallback(D.data)):"timer"===e.toolAction&&e.set.data.callback.callback(D.data.data),e.set.data&&e.set.data.log&&e.actionLog(e.set.data.log),M=e.schedule_timestamp,e.approval_state=[],Object.assign(e.$data,e.$options.data()),e.clearMonograph(),e.time=Date.now(),e.set.publish?M?e.$emit("change","closeShow",2):e.$emit("change","closeShow",1):e.$emit("change","close"),e.toLog({luicode:e.$route.meta.uicode,actType:"publish",page:"home"==e.location?"publisher":"qPublisher"},!0));case 73:case"end":return i.stop()}}),i)})))()},videoEdit:function(){this.$refs.videopop.show(!1)},videoClose:function(){this.media={}},formTextCount:function(t){var e=t.count,i=t.maxcount;this.formCount={count:e,maxcount:i}},timerChange:function(t){t.time?(this.$emit("change","schedule_timestamp",!0),this.schedule_timestamp=t.time,this.schedule_beijing_tz=t.timezone):(this.$emit("change","schedule_timestamp",!0),this.schedule_timestamp=t)},timerClose:function(){this.$emit("change","schedule_timestamp",!1),this.schedule_timestamp_init=0,this.schedule_timestamp=0},emoticonChange:function(t){"→_→"===t.text?this.$refs.form.inserText(t.text):"[最右]"===t.phrase?this.$refs.form.inserText("→_→"):this.$refs.form.inserText("[".concat(t.text,"]"))},hideAllLayer:function(t){this.$refs.tools&&this.$refs.tools.hideAllLayer(),"emotion"!==t&&this.$refs.emoticon&&this.$refs.emoticon.hide(),this.$refs.videopop&&this.$refs.videopop.hide(),this.$refs.votepop&&this.$refs.votepop.hide(),this.$refs.place&&this.$refs.place.hide(),this.$refs.movieCommentPop&&this.$refs.movieCommentPop.hide(),this.$refs.videoActivated&&this.$refs.videoActivated.hide()},initData:function(){var t,e=this;if(0!==Object.keys(this.set).length&&setTimeout((function(){e.$refs.form.onhead(!e.set||!e.set.data||void 0===e.set.data.onhead||e.set.data.onhead)}),300),this.set&&this.set.content&&(this.content=this.set.content),this.set&&this.set.data){var i,a,o,n,s,r,l,c,u,d,h,p,f,m,v,_,g,b,y,w;if(this.toolAction=this.set.action?this.set.action:"",this.set.data.content&&(this.set.data.content=Object(ce["a"])(this.set.data.content,!0)),(null===(i=this.set.data)||void 0===i||null===(a=i.contents)||void 0===a?void 0:a.length)>1)if(null===this||void 0===this||null===(c=this.composerConfig)||void 0===c||null===(u=c.push_active)||void 0===u?void 0:u.repost_input_limits)this.maxCount=(null===(d=window.$REFRESHCONIFG)||void 0===d||null===(h=d.data)||void 0===h||null===(p=h.ab_test)||void 0===p?void 0:p.pc_repost_long)?(null===this||void 0===this||null===(f=this.composerConfig)||void 0===f||null===(m=f.push_active)||void 0===m?void 0:m.repost_input_limits)||1e3:140;else this.$http.get("/ajax/statuses/config",{params:{type:"push_active"}}).then((function(t){var i,a,o,n,s;t.data.ok&&(e.setComposerConfig({push_active:t.data.data}),e.maxCount=(null===(i=window.$REFRESHCONIFG)||void 0===i||null===(a=i.data)||void 0===a||null===(o=a.ab_test)||void 0===o?void 0:o.pc_repost_long)?(null===e||void 0===e||null===(n=e.composerConfig)||void 0===n||null===(s=n.push_active)||void 0===s?void 0:s.repost_input_limits)||1e3:140)}));if(this.set.data.maxCount&&(this.maxCount=this.set.data.maxCount),this.content=this.set.data.content&&"addComment"!==this.toolAction?this.set.data.content:"",this.visible=this.set.data.visable?this.set.data.visable:0,this.schedule_id=this.set.data.schedule_id?this.set.data.schedule_id:"",this.schedule_timestamp_init=this.set.data.schedule_timestamp?this.set.data.schedule_timestamp:0,this.ModifyPic={pic_id:this.set.data.pic_id?null===(o=this.set.data.pic_id)||void 0===o?void 0:o.join(","):"",pic_focus_point:this.set.data.pic_focus_point,mix_media_info:this.set.data.mix_media_info},this.set.data.schedule_at_beijing_tz&&(this.timezoneInit=this.set.data.schedule_at_beijing_tz),"addComment"===this.toolAction&&(this.mblog_id=this.set.data.mid,this.mblog_uid=this.set.data.mblog_uid,this.remark_list=this.set.data.remark_list,this.remark_type=this.remark_list[0].type),(null===(n=this.set.data)||void 0===n?void 0:n.is_paid)&&(null===(s=this.set.data)||void 0===s?void 0:s.pic_infos)&&Object.keys(this.set.data.pic_infos).length&&(this.pri=1,this.set.data.paid_pic_ids=this.set.data.pic_id.map((function(t){return e.set.data.pic_infos[t]})),this.ModifyPic.paid_pic_ids=this.set.data.paid_pic_ids),this.set.data.page_title)(null===(v=this.set.data)||void 0===v||null===(_=v.url_struct)||void 0===_||null===(g=_[0])||void 0===g?void 0:g.url_title)&&-1!==(null===(b=this.set.data.url_struct)||void 0===b?void 0:b[0].url_title.indexOf("的微博投票"))&&(this.vote={title:this.set.data.page_title,exist:!0,short_url:this.set.data.url_struct[0].short_url});if(null===this||void 0===this||null===(r=this.set)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.tag_struct)this.set.data.tag_struct.map((function(t){"place"===t.otype&&(w=t)})),(null===(y=w)||void 0===y?void 0:y.tag_name)&&(this.position={poititle:w.tag_name,poiid:w.oid.slice(11)})}(null===(t=this.set)||void 0===t?void 0:t.formDisabled)&&(this.formDisabled=this.set.formDisabled)},closePopHandle:function(){this.hideAllLayer()},closeWindow:function(t){return t.preventDefault(),t&&(t.returnValue="关闭该窗口将导致视频发布失败，确认关闭吗？"),"关闭该窗口将导致视频发布失败，确认关闭吗？"},onClickAssistCreation:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!e.aiConfig.generating){i.next=3;break}return e.$_w_dialog({type:"confirm",message:"当前内容或进度将不会被保存，确定要关闭".concat(ii[e.aiConfig.type],"？"),action:function(){e.aiConfig.tryAgain=!0,e.resetGeneratingStatus(),e.onClickAssistCreation(t)}}),i.abrupt("return");case 3:i.t0=t,i.next="polish"===i.t0?6:"continue"===i.t0?12:"pic2Text"===i.t0?18:20;break;case 6:if(!(e.formCount.count<e.aiConfig.limitMinCount)){i.next=10;break}return e.$_w_toast({type:"warn",message:"文本内容超过".concat(e.aiConfig.limitMinCount,"字时可使用此功能")}),e.resetGenerationConfig(),i.abrupt("return");case 10:return e.getGeneration(t),i.abrupt("break",20);case 12:if(!(e.formCount.count<e.aiConfig.limitMinCount)){i.next=16;break}return e.$_w_toast({type:"warn",message:"文本内容超过".concat(e.aiConfig.limitMinCount,"字时可使用此功能")}),e.resetGenerationConfig(),i.abrupt("return");case 16:return e.getGeneration(t),i.abrupt("break",20);case 18:return 0===e.pic_id.length?(e.toolbarChange("image"),e.watchCb&&"function"===typeof e.watchCb&&(e.watchCb(),e.watchCb=null),e.watchCb=e.$watch("pic_id",(function(i){var a;if((null===i||void 0===i?void 0:i.length)&&(null===(a=i[0])||void 0===a?void 0:a.pid)){var o=i[0].pid;e.aiConfig.pid=o,e.getGeneration(t),e.watchCb(),e.watchCb=null}}),{deep:!0})):(a=e.pic_id[0].pid,e.aiConfig.pid=a,e.getGeneration(t)),i.abrupt("break",20);case 20:case"end":return i.stop()}}),i)})))()},resetGeneratingStatus:function(){this.aiConfig.controller&&(this.aiConfig.controller.abort(),this.aiConfig.controller=null),this.aiConfig.generating=!1,this.aiConfig.generated=!1},getAutoGeneration:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e.aiConfig.display){i.next=2;break}return i.abrupt("return");case 2:if(!e.aiConfig.autoGenerateConfig.generating&&t){i.next=4;break}return i.abrupt("return");case 4:return e.aiConfig.autoGenerateConfig.generating=!0,a=new AbortController,e.aiConfig.autoGenerateConfig.controller=a,i.next=9,e.generate("","pic2Text",t,a.signal).catch((function(){}));case 9:e.aiConfig.autoGenerateConfig.result=i.sent,e.aiConfig.autoGenerateConfig.controller=null,e.aiConfig.autoGenerateConfig.generating=!1;case 12:case"end":return i.stop()}}),i)})))()},getGeneration:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var a,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.aiConfig.type=t,e.aiConfig.display=!1,e.aiConfig.polishVisible=!0,e.aiConfig.showEditArea=!0,e.aiConfig.result="",e.aiConfig.failed=!1,e.aiConfig.resultArr=[],e.aiConfig.generating=!0,e.aiConfig.generated=!1,a=new AbortController,e.aiConfig.controller=a,i.next=13,e.generate(e.content,e.aiConfig.type,e.aiConfig.pid,a.signal).catch((function(t){e.aiConfig.tryAgain&&"canceled"===t?e.aiConfig.tryAgain=!1:("canceled"===t?e.closeEditArea():e.aiConfig.failed=!0,e.resetGeneratingStatus())}));case 13:if(o=i.sent,o){i.next=16;break}return i.abrupt("return");case 16:e.aiConfig.controller=null,e.aiConfig.generating=!1,e.aiConfig.generated=!0,Array.isArray(o)&&(null===o||void 0===o?void 0:o.length)&&("pic2Text"===e.aiConfig.type?(e.aiConfig.resultArr=o,e.actionLog({act_code:7842,ext:"action:exposure|type:pic2Text|lentrance:use"})):e.aiConfig.result=o[0]),e.actionLog({act_code:7842,ext:"action:return_ok|type:".concat(e.aiConfig.type)});case 21:case"end":return i.stop()}}),i)})))()},generate:function(t,e,i,a){var o=this;return new Promise((function(n,s){var r=ei[e];o.$http.post("/ajax/statuses/generate",{content:t,task_type:r,pid:i},{signal:a,timeout:o.aiConfig.timeout,ignore_toast:!0}).then((function(t){t.data.ok>0?n(t.data.data):s()})).catch((function(t){s(t.message)}))}))},resetAutoGenerationConfig:function(){this.aiConfig.autoGenerateConfig.controller&&(this.aiConfig.autoGenerateConfig.controller.abort(),this.aiConfig.autoGenerateConfig.controller=null),this.aiConfig.autoGenerateConfig={result:[],generating:!1}},resetGenerationConfig:function(){this.aiConfig.polishVisible=!1,this.aiConfig.generating=!1,this.aiConfig.generated=!1,this.aiConfig.failed=!1,this.aiConfig.result="",this.aiConfig.resultArr=[],this.aiConfig.controller=null,this.aiConfig.showEditArea=!1,this.aiConfig.tryAgain=!1,this.aiConfig.clickPolishSignal=!1},onGenerationReplace:function(){var t="action:accept|type:".concat(this.aiConfig.type);"polish"===this.aiConfig.type&&(t+="|lentrance:".concat(this.aiConfig.clickPolishSignal?"recom":"use")),this.actionLog({act_code:ai.act_code,ext:t}),this.content=this.aiConfig.result,this.aiConfig.types.add(ei[this.aiConfig.type]),this.resetGenerationConfig(),this.highlightContent(0)},onGenerationRewrite:function(){this.actionLog({act_code:ai.act_code,ext:"action:rewrite|type:".concat(this.aiConfig.type)}),this.resetGenerationConfig(),this.onClickAssistCreation(this.aiConfig.type)},onGenerationClose:function(){this.actionLog({act_code:ai.act_code,ext:"action:close|type:".concat(this.aiConfig.type)}),this.closeEditArea()},closeEditArea:function(){this.resetGenerationConfig()},onGenerationCancel:function(){this.actionLog({act_code:ai.act_code,ext:"action:cancel|type:".concat(this.aiConfig.type)}),this.aiConfig.controller?(this.aiConfig.controller.abort(),this.aiConfig.controller=null):this.closeEditArea(),this.resetGenerationConfig()},onApplyGeneration:function(t){var e=this.content.length;this.content+=t,this.aiConfig.types.add(ei[this.aiConfig.type]),this.resetGenerationConfig(),this.resetAutoGenerationConfig(),this.highlightContent(e)},onGenerationInsert:function(){this.actionLog({act_code:ai.act_code,ext:"action:accept|type:continue"});var t=this.content.length;this.content+=this.aiConfig.result,this.aiConfig.types.add(ei[this.aiConfig.type]),this.resetGenerationConfig(),this.highlightContent(t)},highlightContent:function(t){var e=this;try{var i=this.$refs.form.$el,a=i&&i.querySelector("textarea");a&&(this.aiConfig.customSelectStyle=!0,this.$nextTick((function(){var i=e.content.length;a.focus(),a.setSelectionRange(t,i),setTimeout((function(){a.setSelectionRange(i,i),e.aiConfig.customSelectStyle=!1}),1500)})))}catch(o){}},resetRetryStatus:function(){this.aiConfig.noRetry=!1,this.aiConfig.retryTimes=0}}),created:function(){var t=this;this.$Bus.$on("closePop",this.closePopHandle),this.$once("hook:beforeDestroy",(function(){t.$Bus.$off("closePop",t.closePopHandle)}))},mounted:function(){var t=this;document.addEventListener("click",this.hideAllLayer),this.initData(),this.toolbarPublishDebounce=kt()((function(){t.toolbarPublish()}),500,{leading:!0,trailing:!1}),this.disabledCheck=kt()((function(){t.$emit("disabledCheck")}),500,{leading:!0,trailing:!1})},beforeDestroy:function(){this.watchCb&&this.watchCb(),this.watchCb=null,document.removeEventListener("click",this.hideAllLayer)}},ni=oi,si=i("c6d3");i("46a1");function ri(t){this["$style"]=si["default"].locals||si["default"]}var li=Object(C["a"])(ni,a,o,!1,ri,null,null);e["default"]=li.exports},fc6e:function(t,e,i){"use strict";var a=i("2020"),o=i.n(a);e["default"]=o.a},fc7c:function(t,e,i){"use strict";var a=i("578b"),o=i.n(a);e["default"]=o.a},fce4:function(t,e,i){},fd10:function(t,e,i){var a={"./":"3951","./card10":"9f0e","./card10.vue":"9f0e","./card11":"a14c","./card11.vue":"a14c","./card24":"3990","./card24.vue":"3990","./card3":"cf6f","./card3.vue":"cf6f","./card59":"50aa","./card59.vue":"50aa","./card6":"9d7f","./card6.vue":"9d7f","./card7":"9f87","./card7.vue":"9f87","./card8":"4a91","./card8.vue":"4a91","./card9":"47c6","./card9.vue":"47c6","./index":"3951","./index.vue":"3951"};function o(t){var e=n(t);return i(e)}function n(t){if(!i.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}o.keys=function(){return Object.keys(a)},o.resolve=n,t.exports=o,o.id="fd10"},fd20:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));i("ac1f"),i("466d");var a=function(t){if(!t)return 0;var e=t.match(/[^\x00-\xff]/g);return t.length+(e?e.length:0)}},fd5f:function(t,e,i){"use strict";var a=i("43bd"),o=i.n(a);e["default"]=o.a},fdff:function(t,e,i){},fe2e:function(t,e,i){"use strict";i("c975"),i("b0c0");var a=i("5530"),o=i("2f62");e["a"]={data:function(){var t,e="首页",i="home";return(null===(t=window.$CONFIG)||void 0===t?void 0:t.isNormal)||(e="推荐",i="hot"),{moduleTitle:e,moduleName:i}},watch:{$route:{handler:function(t,e){var i=t&&t.meta||{},a=i.channel,o=void 0===a?"":a,n=e&&e.meta||{},s=n.channel,r=void 0===s?"":s,l=t||{},c=l.name,u=void 0===c?"":c,d=e||{},h=d.name,p=void 0===h?"":h;if(o===r){if(["profile","newProfile","follow","customProfile","feature"].indexOf(p)>-1&&["follow","profile","newProfile","feature"].indexOf(u)>-1&&!this.isMy)return;this.getModule(o)}},immediate:!0},channel:{handler:function(t){(this.isMy||"profile"!==t)&&this.getModule(t)},immediate:!0}},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(o["d"])(["access"])),Object(o["c"])(["config"])),{},{channel:function(){return this.$route.meta.channel},history:function(){return this.access.history},isMy:function(){var t,e,i,a,o,n,s=this.$route,r=s.name,l=s.params,c=void 0===l?{}:l;return"profile"===r&&c.id===(null===(t=this.config)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.idstr)||("nameProfile"===r&&c.name===(null===(i=this.config)||void 0===i||null===(a=i.user)||void 0===a?void 0:a.screen_name)||!(!c.id||c.id!==(null===(o=this.config)||void 0===o||null===(n=o.user)||void 0===n?void 0:n.idstr)))}}),methods:{getModule:function(t){if(t)this.moduleTitle=this.$route.meta.title,this.moduleName=t;else if(this.history.length>1&&this.history[this.history.length-2]&&this.history[this.history.length-2].meta&&this.history[this.history.length-2].meta.channel){var e=this.history[this.history.length-2];if(["profile","newProfile"].indexOf(e.name)>-1)return;this.moduleTitle=e.meta.title,this.moduleName=e.meta.channel}}}}},ff22:function(t,e,i){t.exports={con1:"UserList_con1_1ptr9"}},ff33:function(t,e,i){t.exports={cut:"TopicFeedCard_cut_3akoX",topicFeedCard:"TopicFeedCard_topicFeedCard_159d4",item:"TopicFeedCard_item_1Ikoi",con:"TopicFeedCard_con_294Gq",clb:"TopicFeedCard_clb_3j52M",f12:"TopicFeedCard_f12_avvOy",cla:"TopicFeedCard_cla_1pQ6t",fb:"TopicFeedCard_fb_1aJkn",right:"TopicFeedCard_right_1ygKg",left:"TopicFeedCard_left_EgdGf",pic:"TopicFeedCard_pic_1ilsA"}},ff42:function(t,e,i){t.exports={wrap:"Only_wrap_3rPbM",full:"Only_full_3lEdG",auto:"Only_auto_23DtN"}},ff62:function(t,e,i){"use strict";var a=i("ffed"),o=i.n(a);o.a},ffda:function(t,e,i){t.exports={box:"Bottom_box_1riM3",text:"Bottom_text_1kFLe",highlight:"Bottom_highlight_2bf0X"}},ffe6:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"a",(function(){return o}));var a=[{text:"中文",value:"zh-CN"},{text:"English",value:"en-US"},{text:"日本語",value:"ja"},{text:"한국어",value:"ko"},{text:"ภาษาไทย",value:"th"}],o=function(){var t=navigator.language;return t}},ffed:function(t,e,i){}});