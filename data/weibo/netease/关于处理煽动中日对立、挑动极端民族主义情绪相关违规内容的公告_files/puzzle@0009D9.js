"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function _objectSpread2(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}!function(r,f,e,t,l,i){var n=void 0!==e&&e.resolve,c=r[t];function s(e){this.module=e,this.vars={},this.init()}c||((c=r[t]=function(){this.modules={}}).callbacks=[],c.ready=n?function(){return c.instance?e.resolve(c.instance.vars()):new e(function(e){return c.callbacks.push(e)})}:function(e){return c.instance?e(c.instance.vars()):c.callbacks.push(e)}),s.prototype.init=function(){var n=this;this.module.vars.filter(function(e){return"var"===e.fn||"fn"===e.fn}).forEach(function(e,t){var r=n["exec"+e.fn];r&&r.call(n,e)})},s.prototype.exec=function(){var n=this;this.module.vars.filter(function(e){return"var"!==e.fn}).forEach(function(e,t){var r=n["exec"+e.fn];r&&r.call(n,e)})},s.prototype.execvar=function(e){var t=e.name,r=e.value;this.vars[t]=r},s.prototype.execfn=function(e){var t=e.name,r=e.value;this.vars[t]=r},s.prototype.execscript=function(e){var r,n=this,t=e.url,o=e.boot,a=e.attrs,i=this.module.buildInVars,c=void 0===i?{}:i;(r=f.createElement(l)).src=t;var s=a||{};Object.keys(s).forEach(function(e){var t=s[e];"boolean"==typeof t?r[e]=t:r.setAttribute(e,t)});var u=f.getElementsByTagName(l)[0];u&&u.parentNode?u.parentNode.insertBefore(r,u):f.body.appendChild(r),o&&o.length&&(o=o.replace(/\$\{(\s*[A-z0-9_-]+\s*)\}/g,function(e,t){var r=void 0!==n.vars[t]?n.vars[t]:c[t];if(Array.isArray(r)||"object"===_typeof(r))try{r=JSON.stringify(r)}catch(e){r=Array.isArray(r)?"[]":"{}"}return r}),r.onload=function(){var e=f.createElement(l);e.innerHTML=o,u&&u.parentNode?u.parentNode.insertBefore(e,u):f.body.appendChild(e)})};var o=c.prototype;o.boot=function(){var n=this,e=i.modules,t=i.buildInVars,o=void 0===t?{}:t,a=[];(void 0===e?[]:e).filter(function(e){var t=n.modules[e.name]=new s(_objectSpread2(_objectSpread2({},e),{},{buildInVars:o})),r=Number(t.vars.moduleLoadRate);isNaN(r)&&(r=r||1),Math.random()<r&&a.push(t)}),a.forEach(function(e){var t=r.__puzzleIgnoreModules__||[];Array.isArray(t)&&-1!==t.indexOf(e.module.name)||e.exec()}),c.callbacks.forEach(function(e){e(n.vars())}),c.callbacks=[]},o.vars=function(){var r=this,n={};return Object.keys(this.modules).forEach(function(e){var t=r.modules[e];n[e]=t.vars}),n.CP_VARS=i.buildInVars||{},n},c.instance=new c,c.instance.boot()}(window,document,window.Promise,"puzzle","script",{"version":30643,"env":"","modules":[{"name":"music-corona","vars":[{"fn":"script","url":"https://s6.music.126.net/static_public/5e7dd9894cb30d2fd378f94f/2.12.1/music-corona.min.js","attrs":{"async":true,"crossorigin":"anonymous"},"boot":"(function(){\n     if (window.MusicCorona) {\n        var puzzleEnv = '${CP_ENV}' || 'prod';\n        var projectId = ${id};\n        window.corona = MusicCorona({\n            id: projectId,\n            env: puzzleEnv\n        });\n   }\n})();"},{"fn":"var","name":"on","value":true},{"fn":"var","name":"moduleLoadRate","value":1},{"fn":"var","name":"id","value":"2967"}]},{"name":"music-wapm","vars":[{"fn":"script","url":"https://s6.music.126.net/static_public/5c25ca49ac1f4d2d427da0fa/1.6.8/musicapm.min.js","boot":"(function(){\n     if (window.MusicAPM) {\n        var puzzleEnv = '${CP_ENV}' || 'prod';\n        var prodKey = '${appkey}';\n        var testKey = '${test_appkey}';\n        var uploadToTest = puzzleEnv !== 'prod' && testKey;\n        var appKey = uploadToTest ? testKey : prodKey;\n        var uploadServer = uploadToTest ? 'https://qa-wapm.igame.163.com' : 'https://sentry.music.163.com/wapm';\n        var sampleRate = uploadToTest ? 1.0 : ${sampleRate}\n        var udfCDNHostRegString = '${udfCDNHostRegString}'\n\n        var options = {\n           enableSPA: ${enableSPA},\n           hashSPA: ${hashSPA},\n           warningImageSize: ${warningImageSize},\n           filterCropImg: ${filterCropImg},\n           traceLongtask: ${traceLongtask},\n           traceResource: ${traceResource},\n           ignoreUrlPath: ${ignoreUrlPath},\n           uploadServer: uploadServer,\n           syncConfig: false,\n           debug: uploadToTest,\n           sampleRate: sampleRate,\n           vitalsBadline: ${vitalsBadline},\n           pendingRequest: ${pendingRequest},\n           useOverseaDomain: ${useOverseaDomain},\n           udfCDNHostRegString: udfCDNHostRegString\n        };\n        MusicAPM.install(appKey, options);\n   }\n})();","attrs":{"async":true}},{"fn":"var","name":"on","value":true},{"fn":"var","name":"moduleLoadRate","value":1},{"fn":"var","name":"appkey","value":"a56541b0-a59c-4ca8-b7a4-0690e697b314"},{"fn":"var","name":"test_appkey","value":"3d3b58ce-07da-46be-a89c-b8ae0619ef01"},{"fn":"var","name":"enableSPA","value":true},{"fn":"var","name":"hashSPA","value":false},{"fn":"var","name":"traceLongtask","value":false},{"fn":"var","name":"sampleRate","value":"0.1"},{"fn":"var","name":"warningImageSize","value":200},{"fn":"var","name":"filterCropImg","value":false},{"fn":"var","name":"udfCDNHostRegString","value":""},{"fn":"var","name":"ignoreUrlPath","value":" [{ rule: /\\/\\d+\\//, target: '/**/' }, { rule: /\\/\\d+$/, target: '/**' }]"},{"fn":"var","name":"vitalsBadline","value":{"LCP":5000,"CLS":0.5,"FID":500}},{"fn":"var","name":"pendingRequest","value":false},{"fn":"var","name":"useOverseaDomain","value":true},{"fn":"var","name":"traceResource","value":false}]}],"buildInVars":{"CP_ENV":"prod","CP_APP_NAME":"media-backflow","CP_APP_ID":"0009D9"}});