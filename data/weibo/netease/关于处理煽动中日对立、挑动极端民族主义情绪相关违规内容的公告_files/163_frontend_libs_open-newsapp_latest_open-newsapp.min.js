/*! Version: 7.5.4  Publish Time:  12/18/2023, 10:57:26 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).openNewsapp={})}(this,(function(e){"use strict";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function n(e,t){return e(t={exports:{}},t.exports),t.exports}var o=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var o=window.getSelection(),i=document.createRange();i.selectNodeContents(e),o.removeAllRanges(),o.addRange(i),t=o.toString()}return t},i=n((function(e,t){!function(e,t){var n=o(t);function o(e){return e&&e.__esModule?e:{default:e}}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=function(){function e(t){a(this,e),this.resolveOptions(t),this.initSelection()}return r(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var o=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=o+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,n.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=c}(e,o)}));function a(){}t(i),a.prototype={on:function(e,t,n){var o=this.e||(this.e={});return(o[e]||(o[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var o=this;function i(){o.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),o=0,i=n.length;o<i;o++)n[o].fn.apply(n[o].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),o=n[e],i=[];if(o&&t)for(var a=0,r=o.length;a<r;a++)o[a].fn!==t&&o[a].fn._!==t&&i.push(o[a]);return i.length?n[e]=i:delete n[e],this}};var r=a,c=a;r.TinyEmitter=c;var s=n((function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}}));s.node,s.nodeList,s.string,s.fn;if("undefined"!=typeof Element&&!Element.prototype.matches){var d=Element.prototype;d.matches=d.matchesSelector||d.mozMatchesSelector||d.msMatchesSelector||d.oMatchesSelector||d.webkitMatchesSelector}var l=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}};function u(e,t,n,o,i){var a=p.apply(this,arguments);return e.addEventListener(n,a,i),{destroy:function(){e.removeEventListener(n,a,i)}}}function p(e,t,n,o){return function(n){n.delegateTarget=l(n.target,t),n.delegateTarget&&o.call(e,n)}}var f=function(e,t,n,o,i){return"function"==typeof e.addEventListener?u.apply(null,arguments):"function"==typeof n?u.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return u(e,t,n,o,i)})))};var m=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!s.string(t))throw new TypeError("Second argument must be a String");if(!s.fn(n))throw new TypeError("Third argument must be a Function");if(s.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(s.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,n)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,n)}))}}}(e,t,n);if(s.string(e))return function(e,t,n){return f(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")},h=n((function(e,t){!function(e,t,n,o){var i=c(t),a=c(n),r=c(o);function c(e){return e&&e.__esModule?e:{default:e}}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){function t(e,n){d(this,t);var o=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.resolveOptions(n),o.listenClick(e),o}return p(t,e),l(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===s(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,r.default)(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new i.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return m("action",e)}},{key:"defaultTarget",value:function(e){var t=m("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return m("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach((function(e){n=n&&!!document.queryCommandSupported(e)})),n}}]),t}(a.default);function m(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}e.exports=f}(e,i,r,m)})),v=t(h);function w(e,t,n){var o=document.createElement("script");o.src=e,o.charset=n||"utf-8",o.onload=function(){o.onload=null,o.onerror=null,o.parentNode.removeChild(o),t&&t(!0)},o.onerror=function(){o.onload=null,o.onerror=null,o.parentNode.removeChild(o),t&&t(!1)},document.head.appendChild(o)}function y(e){(function(){var e=document.getElementById("open_newsapp_iframe");if(e)return e;var t=document.createElement("iframe");return t.id="open_newsapp_iframe",t.style.display="none",document.body.appendChild(t),t}()).src=e}var g=function(e){return function(t){return e===Object.prototype.toString.call(t).slice(8,-1)}},S=g("Object"),E=g("String"),b=g("Function"),A=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o="",i=function(e){var t=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.push(n?"".concat(encodeURIComponent(o),"=").concat(encodeURIComponent(e[o])):"".concat(o,"=").concat(e[o]));return t.join("&")};if(S(e)&&(o=i(e)),E(e))if(/\{.*\}/.test(e))try{o=i(JSON.parse(e))}catch(e){console.error(e)}else o=e;return t?t+(o?/\?/.test(t)?"&":"?":"")+o:o},k=function(e,t){var n,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"select_value_textarea",t=document.getElementById(e);return t||((t=document.createElement("textarea")).id=e,t.tabIndex=-1,t.style.cssText="position: absolute; top: -1000px; left: -1000px",document.body.appendChild(t),t)}();o.value=e,o.setAttribute("readonly",""),o.select(),o.setSelectionRange(0,o.value.length);try{n=document.execCommand("copy")}catch(e){n=!1,console.error(e)}o.removeAttribute("readonly"),document.activeElement.blur(),window.getSelection().removeAllRanges(),b(t)&&t({status:n?"success":"fail",content:e})},T=function(e){var t={};return e?(e.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),(function(e,n,o,i){t[n]=i})),t):{}},P=function(e){window.NTESAntAnalysis?e():window.addEventListener("NTMReady",e)},R=window.navigator.userAgent,_=/android/i.test(R),C=/iphone|ipad|ipod/i.test(R),I=/chrome/i.test(R);/Windows Phone/i.test(R);var N=/QQ\//i.test(R),M=/newsapp\//i.test(R),O=/MicroMessenger/i.test(R),L=/yixin/i.test(R);/POPO/i.test(R);var x=/Qzone/i.test(R),D=/weibo/i.test(R),U=/baidu/i.test(R),H=/NewsArticle/i.test(R)||/TTWebView/i.test(R),j=/OPR/i.test(R),F=/Sogou/i.test(R),q=/UCBrowser/i.test(R),J=/Firefox/i.test(R),W=/Huawei/i.test(R);/applewebkit\/\d+(\.\d+)*\d+\s*\(KHTML,\s*like\s*Gecko\)\s*version\/\d+(\.\d+)*\.\d+\s*mobile\/\d+\w\d+\s*safari\/\d+(\.\d+)*\.\d+$/i.test(R)&&window.hasOwnProperty("isLBBrowser");var B,Q=C?/MQQBrowser/i.test(R)&&!/SogouMSE/i.test(R):!(!/MQQBrowser/i.test(R)||N||O||/SogouMSE/i.test(R)),X=/VivoBrowser/i.test(R),G=/HeyTapBrowser/i.test(R),$=/SamsungBrowser/i.test(R),z=/MiuiBrowser/i.test(R),V=/QihooBrowser/i.test(R),Y=/Quark/i.test(R);(B=function(){if(C){var e=/OS ((\d+_?){2,3})\s/.exec(R);if(e&&e.length>0)return e[0].replace("OS","").replace("os","").replace(/\s+/g,"").replace(/_/g,".")}return""}().split("."))&&B.length>0&&parseInt(B[0]);var K,Z,ee,te,ne=(te=window.location.search,K=te,Z=new RegExp("([^?=&]+)(=([^&]*))?","g"),ee={},(K?(K.replace(Z,(function(e,t,n,o){ee[t]=o})),ee):null)||{}),oe="newsapp-lite"===ne.spss,ie={newsapp:{SCHEMA_PREFIX:"newsapp",DOWNLOAD_URL:C&&"m.163.com"===window.location.hostname?"//link.m.163.com/newsapp/applinks.html":"//m.163.com/newsapp/applinks.html",pkgname:"com.netease.newsreader.activity"},community:{SCHEMA_PREFIX:"ntescommunity",DOWNLOAD_URL:"//link.m.163.com/community/applinks.html",pkgname:"com.netease.newsreader.activity"},reader:{SCHEMA_PREFIX:"bookreader",DOWNLOAD_URL:"//link.m.163.com/reader/applinks.html",pkgname:"com.netease.newsreader.activity"}},ae=(N||Q||_&&O)&&!(C&&oe),re=O||x||D||U||j||F||q||J||$||W,ce=function(){return/(TAH-AN00m|JDN-W09|MI PAD 4|JDN-AL00|FDR-A03L|BAH-W09|FDR-A01w|AGS-W09|SM-F9160|SCM-W09|MI PAD 4 PLUS|AGS2-W09|AGS2-W09HN|SCMR-W09|MRX-W09|BAH2-W09|BAH3-W09|HUAWEI M2-801W|MRX-AL09|MI PAD|AGS-L09|MRX-W29|CMR-W09|HDN-W09|SM-T580|BAH-AL00|HUAWEI M2-803L|SM-T510|Lenovo TB-8703F|T1-821w|AGS2-AL00|Lenovo TB-X606F|TAH-AN00|Nexus 7|MI PAD 3|SCM-AL09|SM-T350|EBEN 80008|T1-A21w|HUAWEI M2-A01W|BAH2-AL10|KRJ-W09|SM-T550|BAH3-W59|EBEN T9|BAH3-AL00|SM-T560NU|CMR-AL09|Lenovo TB-8804F)/i.test(R)},se=function(){return/ipad/i.test(R)||/Mac OS X/i.test(R)&&parseInt((R.match(/Version\/(\d+)\./i)||[0,0])[1])>=13&&Math.min(screen.width,window.innerWidth)>=768},de={PROJECT_NAME:"",NUID:"",UUID:"",SPSP:"",SPSRF:"",PROJECT_ID:"",PARAM:"",INIT_ARGS:"",SCHEMA_PREFIX:"",CHANNEL:""};var le=function(){var e=document.referrer,t="",n="";if(e){var o=e.match(/^([hH][tT]{2}[pP]:\/\/|[hH][tT]{2}[pP][sS]:\/\/)([^\/]+).*?/);t=o&&o[2]?o[2]:t}t&&(n=t,[{test:/163\.com$/i,domain:"163"},{test:/baidu\.com$/i,domain:"baidu"},{test:/sm\.cn$/i,domain:"sm"},{test:/sogou\.com$/i,domain:"sogou"},{test:/so\.com$/i,domain:"360"},{test:/google/i,domain:"google"},{test:/bing/i,domain:"bing"},{test:/weibo/i,domain:"weibo"},{test:/toutiao/i,domain:"toutiao"}].some((function(e){return!!e.test.test(t)&&(n=e.domain,!0)})));var i=ne.referFrom;return/referFrom/.test(window.location.search)&&"163"==n&&(n=i||""),n}();function ue(){re||document.querySelector(".toast-wrap-d7fef5")||(document.body.insertAdjacentHTML("beforeend",'\n    <style>\n    .toast-wrap-d7fef5 { display: none; position: fixed;z-index:99999998;left: 0;top: 0; width: 100%; height: 100%; }\n    .mask-d7fef5 { height: 100%; opacity: 0; -webkit-transition: opacity 0.2s ease-in-out; transition: opacity 0.2s ease-in-out; background: rgba(0,0,0,0.6)}\n    .toast-wrap-d7fef5.active .mask-d7fef5 { opacity: 1;}\n    .toast-d7fef5 {\n      position:absolute;z-index:99999999;left:0;bottom: 0;width:100%;\n      -webkit-transform: translateY(100%); -webkit-transition:-webkit-transform 0.2s ease-in-out;\n      transform: translateY(100%); transition: transform 0.2s ease-in-out;\n    }\n    .toast-wrap-d7fef5.active .toast-d7fef5 { -webkit-transform: translateY(0); transform: translateY(0); }\n\n    .btn-d7fef5 { position: absolute; right:0;left:0;bottom:14.52%; height: 23.93%; }\n    </style>\n    <div class="toast-wrap-d7fef5">\n      <div class="mask-d7fef5"></div>\n      <div class="toast-d7fef5">\n        <div class="btn-d7fef5"></div>\n        <img src="//static.ws.126.net/163/frontend/images/toast-download.png" style="width: 100%; height: 100%; vertical-align: bottom;"/>\n      </div>\n    </div>\n  '),document.querySelector(".toast-wrap-d7fef5").addEventListener("click",(function(e){var t=e.target.classList,n=e.target.dataset,o=n.href,i=n.channel,a=void 0===i?"sps":i,r=n.spss,c=n.scheme;t.contains("btn-d7fef5")?(window.NTESAntAnalysis&&window.NTESAntAnalysis.sendData({projectid:de.PROJECT_ID,val_nm:"download",val_act:"module_layer_download",channel:a,info:{spsid:de.PROJECT_ID,spsuuid:de.NUID,spsc:a||"",spss:r||ne.spss,spspath:c.slice(0,-1)||""}}),setTimeout((function(){document.hidden||document.webkitHidden||(pe(),window.top.location.href=o)}),100)):(window.NTESAntAnalysis&&window.NTESAntAnalysis.sendData({projectid:de.PROJECT_ID,val_nm:"click",val_act:"module_layer_close",channel:a,info:{spsid:de.PROJECT_ID,spsuuid:de.NUID,spsc:a||"",spss:r||ne.spss}}),pe())})))}function pe(){var e=document.querySelector(".toast-wrap-d7fef5");e.classList.remove("active"),setTimeout((function(){e.style.display="none"}),200)}P((function(){de.NUID=window.NTESAntAnalysis&&window.NTESAntAnalysis.info&&window.NTESAntAnalysis.info.uid})),O?de.SPSP=ne.from?"wx:".concat(ne.from):"wx":N?de.SPSP="qq":D?de.SPSP="wb":L?de.SPSP="yx":H?de.SPSP="toutiao":U?de.SPSP="baidu":q?de.SPSP="uc":Q?de.SPSP="qqBrowser":F?de.SPSP="sogou":W?de.SPSP="huawei":X?de.SPSP="vivo":G?de.SPSP="oppo":z?de.SPSP="xiaomi":V?de.SPSP="360":Y&&(de.SPSP="quark"),de.SPSS=ne.spss?ne.spss:M?"native":"163"===le?"163":"other",de.SPSRF=le;var fe=[{type:"startup",reg:"^startup",scheme:"{{param}}"},{type:"wendaQuestion",reg:"^wt.*",scheme:"wendaquestion/{{param}}"},{type:"wendaAnswer",reg:"^hd.*",scheme:"wendaanswer/{{param}}"},{type:"web",reg:"^https?",scheme:"web/{{param}}"},{type:"article",reg:"^[A-Z0-9]{16}$",scheme:"doc/{{param}}"},{type:"special",reg:"^S[0-9]{13}$",scheme:"topic/{{param}}"},{type:"videoSpecial",reg:"^SV[0-9]{13}$",scheme:"vtopic/{{param}}"},{type:"photo",reg:"^\\d{4}\\/\\d{1,}",scheme:"photo/{{param}}"},{type:"live",reg:"^live\\/\\d{1,}",scheme:"{{param}}"},{type:"shortVideo",reg:"^shortvideo\\/",scheme:"{{param}}"},{type:"video",reg:"^V",scheme:"video/{{param}}"},{type:"reader",reg:"^reader",scheme:"{{param}}"},{type:"channel",reg:"^channel",scheme:"{{param}}"},{type:"tie",reg:"^tie",scheme:"{{param}}"},{type:"expert",reg:"^EX-?[0-9]+",scheme:"expert/{{param}}"},{type:"subject",reg:"^SJ[0-9]+",scheme:"subject/{{param}}"},{type:"luobo",reg:"^luobo\\/[0-9]+",scheme:"{{param}}/1"},{type:"mint",reg:"^mint\\/[0-9]+",scheme:"{{param}}"},{type:"book",reg:"^book\\/",scheme:"http://m.yuedu.163.com/reader/{{param}}"},{type:"shortnews",reg:"^shortnews\\/",scheme:"{{param}}"}];function me(e,t){/^\//.test(e)&&(e=e.slice(1));var n=function(e){var t=fe.filter((function(t){return new RegExp(t.reg).test(e)}))[0];if(t)return t;if(e)return{scheme:"{{param}}"};return fe[0]}(e),o=n.scheme.replace("{{param}}",e);return"web"===n.type&&(o=n.scheme.replace("{{param}}",encodeURIComponent(e))),"book"===n.type&&(o="web/"+encodeURIComponent(o)),o=A(t,o),o+=o.indexOf("?")>=0?"&":"?"}function he(e,t,n){if("newsapp"!==de.PROJECT_NAME)return n();var o="".concat(e).concat(encodeURIComponent("&spsopen=xhr")),i=!1,a=setTimeout((function(){i=!0,n()}),300),r=function(){i||(clearTimeout(a),n()),i=!0};if(!t)return r();var c=0,s=[65417,54198,47362,36541,21882,14398,9128,8465,6698,5863,4726,3943,2887];s.forEach((function(e){!function(e,t,n){var o=new window.XMLHttpRequest;o.open(e.toUpperCase(),t),o.onload=function(){n(null,{data:o.response,status:o.status})},o.onerror=function(){n(new Error("error"),{data:null,status:o.status})},o.send()}("get","http://loc.ws.126.net:".concat(e,"/startup?scheme=").concat(o),(function(e,t){e?++c===s.length&&r():"newsapp"===t.data&&clearTimeout(a)}))}))}var ve={androidDownloadUrl:"//static.ws.126.net/163/apk/newsapp/newsreader_sps_article.apk",appStoreLink:"https://itunes.apple.com/app/apple-store/id425349261?pt=104792803&ct=huiliu_8&mt=8",tencentMarket:"//a.app.qq.com/o/simple.jsp?pkgname=com.netease.newsreader.activity&ckey=CK1453551940543"};function we(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};!e||e.length>27||t[e]||(P(oe?function(){setTimeout((function(){w("//channel.m.163.com/data/d/iosTracking/spslite/click?callback=".concat(e,"&nuid=").concat(de.NUID,"&projectid=").concat(de.PROJECT_ID,"&source=").concat(ne.spss||""))}),50)}:function(){setTimeout((function(){w("//channel.m.163.com/data/d/iosTracking/".concat(e,"/click?callback=").concat(e,"&nuid=").concat(de.NUID,"&projectid=").concat(de.PROJECT_ID,"&source=").concat(ne.spss||""))}),50)}),window[e]=function(o){window[e]=null,o&&o.channel?(t[e]=o.channel,t[e].androidDownloadUrl=t[e].androidDownloadUrl||ve.androidDownloadUrl,t[e].appStoreLink=t[e].appStoreLink||ve.appStoreLink,t[e].tencentMarket=t[e].tencentMarket||ve.tencentMarket,ce()&&(t[e].androidDownloadUrl="https://mobilepics.ws.126.net/O21SqwMzamz2%3DwOv4QVXaF9wqIeZswNe%3D%3DHLJKPSH0.apk"),se()&&(t[e].appStoreLink="https://itunes.apple.com/app/apple-store/id1538717280"),o.uuid&&!de.UUID&&(de.UUID=o.uuid)):t[e]=ve,n&&n()})}var ye=!1,ge={},Se=_;function Ee(e){var t=e.param,n=void 0===t?de.PARAM:t,o=e.download,i=void 0!==o&&o,a=e.channel,r=void 0===a?de.CHANNEL:a,c=e.args,s=void 0===c?de.INIT_ARGS:c,d=e.redirect,l=void 0===d?"":d,u=e.projectId,p=void 0===u?de.PROJECT_ID:u,f=e.mod,m=void 0===f?"":f,h=e.spss,v=void 0===h?"":h,w=e.queries,g=void 0===w?de.QUERIES:w;ye||ue();var S={spsid:p,spsuuid:de.NUID,spsc:r,spss:v||de.SPSS,spspath:me(n,g).slice(0,-1),spsmod:m},E=Object.assign({},S,T(s));window.NTESAntAnalysis&&window.NTESAntAnalysis.sendData({projectid:p,val_nm:"download",val_act:"module_all",channel:r,info:E});var b=ge[r];b||(console.warn("\u672a\u627e\u5230\u6e20\u9053".concat(r,"\u5bf9\u5e94\u7684\u914d\u7f6e\u5305\uff0c\u8bf7\u67e5\u770b\u540e\u53f0\u662f\u5426\u914d\u7f6e\u53cainit\u65b9\u6cd5\u7684\u53c2\u6570channles\u4e2d\u662f\u5426\u5305\u542b").concat(r)),b=ve);var A=ie[de.PROJECT_NAME].DOWNLOAD_URL;if(ae?A=b.tencentMarket:C||se()?A=b.appStoreLink:_&&(A=b.androidDownloadUrl),i)window.top.location.href=A.replace("{CHANNLE}",r);else{var k=me(n,g),P="s=".concat(r,"&spsc=").concat(r,"&spss=").concat(v||de.SPSS,"&spsp=").concat(de.SPSP,"&spsid=").concat(p,"&spsuuid=").concat(de.NUID,"&spsw=").concat(ne.spsw||1,"&spssurl=").concat(encodeURIComponent(window.location.pathname),"&spsrf=").concat(de.SPSRF,"&spsmod=").concat(m);s&&(P="".concat(P,"&").concat(s)),Se&&(P="".concat(P,"&ts=").concat(Date.now()));var R="".concat(de.SCHEMA_PREFIX,"://").concat(k).concat(P),M=encodeURIComponent(R),L=encodeURIComponent("/"+k.slice(0,-1)),x=ie[de.PROJECT_NAME].DOWNLOAD_URL,U="".concat(x,"?path=").concat(L,"&").concat(P);if("newsapp"===de.PROJECT_NAME&&(U="".concat(U).concat("&prevent=1")),l)_?(y(R),setTimeout((function(){var e=decodeURIComponent(l);e.match(/^\/\//)&&(e="https:"+e);var t=!1;("function"==typeof window.URL&&new window.URL(e).hostname.indexOf("163.com")>-1||e.indexOf("163.com")>-1)&&(t=!0),!e.match(/^\s*javascript:/)&&t&&(window.top.location.href="".concat(U,"&redirect=").concat(encodeURIComponent(l)))}),120)):window.top.location.href="".concat(U,"&redirect=").concat(encodeURIComponent(l));else{var j=function(e){he(M,Se,(function(){if(ae){var t=ie[de.PROJECT_NAME].pkgname,n="http://a.app.qq.com/o/simple.jsp?pkgname=".concat(t,"&ckey=CK1331205846719&android_schema=").concat(M,"&ios_schema=").concat(M);b.tencentMarket?(b.tencentMarket=b.tencentMarket.replace(/com\.netease\.newsreader\.activity/,t),n=b.tencentMarket.indexOf("android_schema")>0?b.tencentMarket.replace(/newsapp(-lite)?:\/\/startup.*/,M):b.tencentMarket+"&android_schema="+M,n+="&ios_schema=".concat(M),window.top.location.href=n):window.top.location.href=U}else if(!_||D||O){var o="//"+window.location.host+window.location.pathname;if(!(Object.values(ie).map((function(e){return e.DOWNLOAD_URL})).indexOf(o)>-1)){var i=window.location.href;window.top.location.href=e?"".concat(U,"&redirect=").concat(encodeURIComponent(i)):U}}else _&&function(e,t,n,o){var i=document.querySelector(".toast-wrap-d7fef5");if(i){window.NTESAntAnalysis&&window.NTESAntAnalysis.sendData({projectid:de.PROJECT_ID,val_nm:"download",val_act:"module_layer_show",channel:t,info:{spsid:de.PROJECT_ID,spsuuid:de.NUID,spsc:t||"",spss:o||ne.spss,spspath:n.slice(0,-1)||""}});var a=i.querySelector(".btn-d7fef5");a.dataset.href=e,a.dataset.channel=t,a.dataset.scheme=n,a.dataset.spss=o,i.style.display="block",setTimeout((function(){i.classList.add("active")}),0)}else setTimeout((function(){document.hidden||document.webkitHidden||(window.top.location.href=e)}),500)}(b.androidDownloadUrl,r,k,v)}))},F=!0,J="iframe";C&&(F=!!(D||q||H)),_&&((O||N||Q||q)&&(F=!1),I&&(J="locationHref"));var W,B,X,G,$;F?("iframe"===J?y(R):"locationHref"===J&&(window.location.href=R),W=function(){j(!1)},B=Date.now(),X=C?3e3:1200,G=setTimeout((function(){document.hidden||document.webkitHidden||Date.now()-B>X+200||W()}),X),$=function(){(document.hidden||document.webkitHidden)&&clearTimeout(G)},document.addEventListener("visibilitychange",$,!1),document.addEventListener("webkitvisibilitychange",$,!1),window.addEventListener("pagehide",(function(){clearTimeout(G)}),!1)):j()}}}function be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.param,n=void 0===t?de.PARAM:t,o=e.args,i=void 0===o?de.INIT_ARGS:o,a=e.channel,r=void 0===a?de.CHANNEL:a,c=e.mod,s=void 0===c?"":c,d=e.queries,l=void 0===d?de.QUERIES:d,u="".concat(me(n,l),"s=CH_").concat(r,"&spsp=").concat(de.SPSP,"&spss=").concat(de.SPSS,"&spsid=").concat(de.PROJECT_ID,"&spsuuid=").concat(de.NUID,"&spsrf=").concat(de.SPSRF,"&spsmod=").concat(s);i&&(u="".concat(u,"&").concat(i));var p=Date.now()+6e5;return"\u7f51\u6613 `{{".concat(de.SCHEMA_PREFIX,"://").concat(u,"}}` !{{").concat(p,"}}! ${{").concat(r,"}}$ ^{{").concat(de.UUID,"}}^ ")}e.bind=function(e){var t=e.selector,n=e.download,o=void 0!==n&&n,i=e.param,a=void 0===i?de.PARAM:i,r=e.args,c=void 0===r?"":r,s=e.channel,d=void 0===s?de.CHANNEL:s,l=e.projectId,u=void 0===l?de.PROJECT_ID:l,p=e.mod,f=void 0===p?"":p,m=e.beforeOpen,h=void 0===m?function(){}:m,w=e.redirect,y=e.queries,g=void 0===y?de.QUERIES:y,S=e.emitOpen,E=void 0===S||S;if(!ye)throw new Error("\u5fc5\u987b\u63d0\u524d\u8c03\u7528init\u65b9\u6cd5");"string"==typeof t?Array.prototype.forEach.call(document.querySelectorAll(t),(function(e){e.style.cssText+="cursor: pointer;"})):t instanceof HTMLElement?t.style.cssText+="cursor: pointer;":(t instanceof HTMLCollection||t instanceof NodeList)&&Array.prototype.forEach.call(t,(function(e){e.style.cssText+="cursor: pointer;"}));var b=function(e){return A(Object.assign({},T(de.INIT_ARGS),T(c),T(e)),"",!1)},k=new v(t,{text:function(e){return be({param:e.dataset.param||a,args:b(e.dataset.args||""),channel:e.dataset.channel||d,mod:e.dataset.mod||f,queries:e.dataset.queries||g})}}),P=function(e){h(e.trigger,e),E&&Ee({param:e.trigger.dataset.param||a,channel:e.trigger.dataset.channel||d,mod:e.trigger.dataset.mod||f,args:b(e.trigger.dataset.args||""),download:e.trigger.dataset.download||o,projectId:u,redirect:e.trigger.dataset.redirect||w,queries:e.trigger.dataset.queries||g})};k.on("success",(function(e){P(e)})),k.on("error",(function(e){P(e)}))},e.copyClipboardContent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;k(e,t)},e.copyExpandContent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de.QUERIES,t=arguments.length>1?arguments[1]:void 0;k("\u7f51\u6613 %{{".concat(A(e),"}}%"),t)},e.getClipboardContent=be,e.getCompleteScheme=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de.PARAM,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:de.QUERIES,n=me(e,t),o="s=".concat(de.CHANNEL,"&spsc=").concat(de.CHANNEL,"&spss=").concat(de.SPSS,"&spsp=").concat(de.SPSP,"&spssurl=").concat(encodeURIComponent(window.location.pathname),"&spsid=").concat(de.PROJECT_ID,"&spsuuid=").concat(de.NUID,"&spsw=").concat(ne.spsw||1,"&spsrf=").concat(de.SPSRF);return de.INIT_ARGS&&(o="".concat(o,"&").concat(de.INIT_ARGS)),"".concat(n).concat(o)},e.init=function(e){var t=e.projectId,n=e.projectName,o=void 0===n?"newsapp":n,i=e.args,a=void 0===i?"":i,r=e.param,c=void 0===r?"nc":r,s=e.channels,d=void 0===s?"sps":s,l=e.callback,u=void 0===l?function(){}:l,p=e.queries;ye=!0,de.PARAM=c,de.PROJECT_NAME=o,"community"===ne.test?de.PROJECT_NAME="community":"reader"===ne.test&&(de.PROJECT_NAME="reader"),de.PROJECT_ID=t,de.INIT_ARGS=a,de.QUERIES=p,de.SCHEMA_PREFIX=ie[de.PROJECT_NAME].SCHEMA_PREFIX;var f=ne.spsc;if(f&&(Array.isArray(d)?-1===d.indexOf(f)&&d.unshift(f):E(d)&&d!==f&&(d=[f,d])),Array.isArray(d)){var m=d.length;de.CHANNEL=d[0];for(var h=0,v=function(){++h===m&&u()},w=0;w<m;w++)we(d[w],ge,v)}else de.CHANNEL=d,we(d,ge,u);"newsapp"===de.PROJECT_NAME&&ue()},e.open=Ee,e.version="7.5.4",Object.defineProperty(e,"__esModule",{value:!0})}));
