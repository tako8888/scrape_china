!function(t){function e(e){for(var n,i,o=e[0],s=e[1],a=0,l=[];a<o.length;a++)i=o[a],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&l.push(r[i][0]),r[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);for(c&&c(e);l.length;)l.shift()()}var n={},r={0:0};function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,i){n=r[t]=[e,i]}));e.push(n[2]=o);var s,a=document.createElement("script");a.charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.src=function(t){return i.p+""+({}[t]||t)+"."+{1:"0e3a53e043ad38ccab31"}[t]+".js"}(t);var c=new Error;s=function(e){a.onerror=a.onload=null,clearTimeout(l);var n=r[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",c.name="ChunkLoadError",c.type=i,c.request=o,n[1](c)}r[t]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:a})}),12e4);a.onerror=a.onload=s,document.head.appendChild(a)}return Promise.all(e)},i.m=t,i.c=n,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="//static.ws.126.net/163/frontend/backflow-ssr/article/",i.oe=function(t){throw console.error(t),t};var o=window.webpackJsonp=window.webpackJsonp||[],s=o.push.bind(o);o.push=e,o=o.slice();for(var a=0;a<o.length;a++)e(o[a]);var c=s;i(i.s=941)}([function(t,e,n){"use strict";(function(t){n.d(e,"k",(function(){return i})),n.d(e,"n",(function(){return o})),n.d(e,"t",(function(){return s})),n.d(e,"p",(function(){return c})),n.d(e,"o",(function(){return l})),n.d(e,"x",(function(){return u})),n.d(e,"w",(function(){return d})),n.d(e,"y",(function(){return h})),n.d(e,"q",(function(){return p})),n.d(e,"l",(function(){return g})),n.d(e,"s",(function(){return y})),n.d(e,"m",(function(){return b})),n.d(e,"u",(function(){return _})),n.d(e,"B",(function(){return E})),n.d(e,"r",(function(){return S})),n.d(e,"v",(function(){return A})),n.d(e,"b",(function(){return T})),n.d(e,"A",(function(){return C})),n.d(e,"j",(function(){return L})),n.d(e,"a",(function(){return I})),n.d(e,"i",(function(){return O})),n.d(e,"h",(function(){return D})),n.d(e,"g",(function(){return M})),n.d(e,"d",(function(){return N})),n.d(e,"e",(function(){return B})),n.d(e,"f",(function(){return U})),n.d(e,"c",(function(){return G}));var r=n(114);n.d(e,"z",(function(){return r.a}));var i,o,s,a,c,l,u,d,h,f,p,g,m,v,y,b,w,_,E,S,A,T,x=n(79);n(290),n(291),n(292),n(293);t&&t.hot&&t.hot.accept(),n(565);var k=navigator.userAgent;i=k.match(/android/gi),o=k.match(/iphone|ipod|ipad/gi),k.match(/OS\s(\d+)/i)&&(o&&k.match(/OS\s(\d+)/i)[1]),k.match(/OS\s(\d+)/i)&&(o&&k.match(/OS\s(\d+)/i)[1]),k.match(/os\s?(\d+)/i)&&(o&&k.match(/os\s?(\d+)/i)[1]),k.match(/os\s?(\d+)/i)&&(o&&k.match(/os\s?(\d+)/i)[1]),T=i&&(k.match(/android\s*(\d+)\.?/i)||[0,0])[1],s=k.match(/applewebkit\/\d+(\.\d+)*\d+\s*\(KHTML,\s*like\s*Gecko\)\s*version\/\d+(\.\d+)*\.\d+\s*mobile\/\d+\w\d+\s*safari\/\d+(\.\d+)*\.\d+$/i),a=k.match(/Windows Phone/gi),c=!i&&!o&&!a,l=k.match(/NewsApp/i),u=k.match(/micromessenger/i),d=k.match(/weibo/i),h=k.match(/yixin/i),f=k.match(/popo/i),p=k.match(/qq\//i),g=k.match(/baidu/i),/OPR/i.test(k),m=/Sogou/i.test(k),v=/UCBrowser/i.test(k),y=/Quark/i.test(k),b=k.match(/baidubrowser/i),/Firefox/i.test(k),/SamsungBrowser/i.test(k),w=/QihooBrowser/i.test(k),_=k.match(/NewsArticle/i)||k.match(/TTWebView/i),E=u?(k.match(/MicroMessenger\/([\d\.]+)/i)||[0,0])[1]:0,u||h||p||c||g||window._REFER_VAL,S=o?/MQQBrowser/i.test(k):!(!/MQQBrowser/i.test(k)||p||u),window._REFER_VAL,g||window._REFER_VAL,A=_||"toutiao"===window._REFER_VAL;var C=Object(r.a)().search;var R;!(!(R=document.createElement("canvas")).getContext||!R.getContext("2d"))&&R.toDataURL("image/webp").indexOf("data:image/webp");function L(t,e){var n=document.createElement("script");n.src=t,n.charset="utf-8",n.onload=function(){n.onload=null,n.onerror=null,n.parentNode.removeChild(n),"function"==typeof e&&e(!0)},n.onerror=function(){n.onload=null,n.onerror=null,n.parentNode.removeChild(n),"function"==typeof e&&e(!1)},document.head.appendChild(n)}function I(t){if(!t.url)throw new Error("Need for url");var e=t.dataType||"text",n=t.method||"GET",r="";r=t.data&&"string"!=typeof t.data?Object.keys(t.data).map((function(e){return"".concat(e,"=").concat(t.data[e])})).join("&"):t.data;var i=new XMLHttpRequest;i.open(n,t.url,!0),"POST"!==n.toUpperCase()||t.headers?t.headers&&Object.keys(t.headers).forEach((function(e){i.setRequestHeader(e,t.headers[e])})):i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.onload=function(){if(i.status>=200&&i.status<400){var n=i.responseText;if("JSON"===e.toUpperCase())try{n=JSON.parse(i.responseText)}catch(t){n={}}"function"==typeof t.success&&t.success(n)}else"function"==typeof t.error&&t.error()},i.send(r)}function O(t){if(!t)return"";var e=null;e="number"==typeof t?t:t.replace(/-/g,"/");var n=new Date(e),r=Date.now(),i=Math.floor((r-n.getTime())/864e5),o=Math.floor((r-n.getTime())/36e5),s=Math.floor((r-n.getTime())/6e4);if(i>0){if(1===i)return"1天前";var a=n.getMonth()+1,c=n.getDate();return"".concat(n.getFullYear(),"-").concat(a<10?"0"+a:a,"-").concat(c<10?"0"+c:c)}return o>0?o+"小时前":(s||1)+"分钟前"}function D(t){if(!t)return"";var e=t%60<10?"0"+t%60:t%60,n="00",r="",i=1;return t<600?n="0"+Math.floor(t/60):t<3600?n=Math.floor(t/60):t<36e3?(n=t%3600<600?"0"+Math.floor(t%3600/60):Math.floor(t%3600/60),r="0"+Math.floor(t/3600)+":"):i=0,i?r+n+":"+e:""}function M(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return"";function n(t){return t<10?"0".concat(t):t}e&&(t=Math.round(t/1e3));var r="",i="",o="";if(t<3600)return i=Math.floor(t/60),o=t%60,"".concat(n(i),":").concat(n(o));var s=3600*(r=Math.floor(t/3600));return i=Math.floor((t-s)/60),o=t%60,"".concat(n(r),":").concat(n(i),":").concat(n(o))}function N(t,e){for(var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector,r=t;r&&r.removeChild;){if(n.call(r,e))return r;r=r.parentElement;try{if(r&&r.tagName&&"html"===r.tagName.toLowerCase())return null}catch(t){}}return null}var P=/[<>"'/`]/g,F={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#x60;"};function B(t){return $(t)?t.replace(P,(function(t){return F[t]})):t}function U(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if($(t)){var n=e?/((&lt;br&gt;)|[\r|\n])+/g:/((&lt;br&gt;)|[\r|\n])/g,r="<br>";return t.replace(n,r)}return t}function $(t){return"string"==typeof t}function j(t,e){var n=[];if(Object(x.a)(t)){if(t.length<=e)return t;for(var r=[].concat(t),i=0;i<e;)i++,n.push(r.splice(Math.floor(Math.random()*r.length),1)[0])}return n}function G(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=[],i=0,o=function t(e,n){if(e.length>n){var i=Math.floor(e/n);r=r.map((function(t){return t+i})),e%i&&t(e.slice(i*n,e.length),n)}else e.forEach((function(t,e){r[e]=r[e]+1}))};if(e<2)return[t];var s=Math.floor(t.length/e)||1;return r=Array.from({length:e}).map((function(t){return s})),t.length%e&&o(t.slice(s*e,t.length),e),r=r.map((function(e){i+=e;var r=t.slice(i-e,i);if(e<n){var o=JSON.parse(JSON.stringify(t));o.splice(i-e,e),r=r.concat(j(o,n-e))}return r}))}}).call(this,n(62)(t))},function(t,e,n){var r=n(3),i=n(14),o=n(32),s=n(25),a=n(41),c=function(t,e,n){var l,u,d,h,f=t&c.F,p=t&c.G,g=t&c.S,m=t&c.P,v=t&c.B,y=p?r:g?r[e]||(r[e]={}):(r[e]||{}).prototype,b=p?i:i[e]||(i[e]={}),w=b.prototype||(b.prototype={});for(l in p&&(n=e),n)d=((u=!f&&y&&void 0!==y[l])?y:n)[l],h=v&&u?a(d,r):m&&"function"==typeof d?a(Function.call,d):d,y&&s(y,l,d,t&c.U),b[l]!=d&&o(b,l,h),m&&w[l]!=d&&(w[l]=d)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,n(59))},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(6);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(128)("wks"),i=n(64),o=n(3).Symbol,s="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=s&&o[t]||(s?o:i)("Symbol."+t))}).store=r},function(t,e,n){var r=n(43),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(119),i=Function.prototype,o=i.bind,s=i.call,a=r&&o.bind(s,s);t.exports=r?function(t){return t&&a(t)}:function(t){return t&&function(){return s.apply(t,arguments)}}},function(t,e,n){var r=n(29),i=n(30),o=n(242),s=n(55).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||s(e,t,{value:o.f(t)})}},function(t,e,n){"use strict";var r=n(2),i=n(118),o=n(10),s=n(22),a=n(150).f,c=n(430),l=n(29),u=n(159),d=n(83),h=n(30),f=function(t){var e=function(n,r,o){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,o)}return i(t,this,arguments)};return e.prototype=t.prototype,e};t.exports=function(t,e){var n,i,p,g,m,v,y,b,w=t.target,_=t.global,E=t.stat,S=t.proto,A=_?r:E?r[w]:(r[w]||{}).prototype,T=_?l:l[w]||d(l,w,{})[w],x=T.prototype;for(p in e)n=!c(_?p:w+(E?".":"#")+p,t.forced)&&A&&h(A,p),m=T[p],n&&(v=t.noTargetGet?(b=a(A,p))&&b.value:A[p]),g=n&&v?v:e[p],n&&typeof m==typeof g||(y=t.bind&&n?u(g,r):t.wrap&&n?f(g):S&&s(g)?o(g):g,(t.sham||g&&g.sham||m&&m.sham)&&d(y,"sham",!0),d(T,p,y),S&&(h(l,i=w+"Prototype")||d(l,i,{}),d(l[i],p,g),t.real&&x&&!x[p]&&d(x,p,g)))}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";var r=n(9);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(766);var i=n(767),o=n(833),s=n(339),a=n(93),c=n(835),l=n(848),u=r(n(206)),d=n(113),h=n(342),f=n(207),p=r(n(111)),g={zxb:o.zxb,fetch:i.fetch,getByPosition:i.getByPosition,getByLocation:i.getByLocation,getBackupAds:s.getBackupAds,getAbTestAds:s.getAbTestAds,getSpecialAds:s.getSpecialAds,parseADData:a.parseADData,parseCodeAdData:a.parseCodeAdData,render:c.render,renderCodeAd:c.renderCodeAd,exposure:l.exposure,simpleExposure:l.simpleExposure,positionExposure:l.positionExposure,click:l.click,abTest:u.default,getUid:d.getUid,AdExposure:h.AdExposure,createBox:c.createBox,track:l.track,recombineByAbTest:s.recombineByAbTest,Exposure:f.Exposure,constants:p.default};e.default=g},function(t,e,n){var r=n(2),i=n(98),o=n(30),s=n(158),a=n(81),c=n(227),l=i("wks"),u=r.Symbol,d=u&&u.for,h=c?u:u&&u.withoutSetter||s;t.exports=function(t){if(!o(l,t)||!a&&"string"!=typeof l[t]){var e="Symbol."+t;a&&o(u,t)?l[t]=u[t]:l[t]=c&&d?d(e):h(e)}return l[t]}},function(t,e,n){t.exports=!n(4)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(5),i=n(258),o=n(57),s=Object.defineProperty;e.f=n(17)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=n(432)},function(t,e,n){"use strict";var r,i=n(216),o=Object.prototype.toString,s=(r=Object.create(null),function(t){var e=o.call(t);return r[e]||(r[e]=e.slice(8,-1).toLowerCase())});function a(t){return t=t.toLowerCase(),function(e){return s(e)===t}}function c(t){return Array.isArray(t)}function l(t){return void 0===t}var u=a("ArrayBuffer");function d(t){return null!==t&&"object"==typeof t}function h(t){if("object"!==s(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}var f=a("Date"),p=a("File"),g=a("Blob"),m=a("FileList");function v(t){return"[object Function]"===o.call(t)}var y=a("URLSearchParams");function b(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),c(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}var w,_=(w="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(t){return w&&t instanceof w});t.exports={isArray:c,isArrayBuffer:u,isBuffer:function(t){return null!==t&&!l(t)&&null!==t.constructor&&!l(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return t&&("function"==typeof FormData&&t instanceof FormData||"[object FormData]"===o.call(t)||v(t.toString)&&"[object FormData]"===t.toString())},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&u(t.buffer)},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:d,isPlainObject:h,isUndefined:l,isDate:f,isFile:p,isBlob:g,isFunction:v,isStream:function(t){return d(t)&&v(t.pipe)},isURLSearchParams:y,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:b,merge:function t(){var e={};function n(n,r){h(e[r])&&h(n)?e[r]=t(e[r],n):h(n)?e[r]=t({},n):c(n)?e[r]=n.slice():e[r]=n}for(var r=0,i=arguments.length;r<i;r++)b(arguments[r],n);return e},extend:function(t,e,n){return b(e,(function(e,r){t[r]=n&&"function"==typeof e?i(e,n):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t},inherits:function(t,e,n,r){t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,n&&Object.assign(t.prototype,n)},toFlatObject:function(t,e,n){var r,i,o,s={};e=e||{};do{for(i=(r=Object.getOwnPropertyNames(t)).length;i-- >0;)s[o=r[i]]||(e[o]=t[o],s[o]=!0);t=Object.getPrototypeOf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:s,kindOfTest:a,endsWith:function(t,e,n){t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;var r=t.indexOf(e,n);return-1!==r&&r===n},toArray:function(t){if(!t)return null;var e=t.length;if(l(e))return null;for(var n=new Array(e);e-- >0;)n[e]=t[e];return n},isTypedArray:_,isFileList:m}},function(t,e,n){"use strict";(function(t,n){
/*!
 * Vue.js v2.6.14
 * (c) 2014-2021 Evan You
 * Released under the MIT License.
 */
var r=Object.freeze({});function i(t){return null==t}function o(t){return null!=t}function s(t){return!0===t}function a(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function c(t){return null!==t&&"object"==typeof t}var l=Object.prototype.toString;function u(t){return"[object Object]"===l.call(t)}function d(t){return"[object RegExp]"===l.call(t)}function h(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function f(t){return o(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function p(t){return null==t?"":Array.isArray(t)||u(t)&&t.toString===l?JSON.stringify(t,null,2):String(t)}function g(t){var e=parseFloat(t);return isNaN(e)?t:e}function m(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}m("slot,component",!0);var v=m("key,ref,slot,slot-scope,is");function y(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var b=Object.prototype.hasOwnProperty;function w(t,e){return b.call(t,e)}function _(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}var E=/-(\w)/g,S=_((function(t){return t.replace(E,(function(t,e){return e?e.toUpperCase():""}))})),A=_((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),T=/\B([A-Z])/g,x=_((function(t){return t.replace(T,"-$1").toLowerCase()}));var k=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n};function C(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function R(t,e){for(var n in e)t[n]=e[n];return t}function L(t){for(var e={},n=0;n<t.length;n++)t[n]&&R(e,t[n]);return e}function I(t,e,n){}var O=function(t,e,n){return!1},D=function(t){return t};function M(t,e){if(t===e)return!0;var n=c(t),r=c(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every((function(t,n){return M(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||o)return!1;var s=Object.keys(t),a=Object.keys(e);return s.length===a.length&&s.every((function(n){return M(t[n],e[n])}))}catch(t){return!1}}function N(t,e){for(var n=0;n<t.length;n++)if(M(t[n],e))return n;return-1}function P(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var F=["component","directive","filter"],B=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],U={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:O,isReservedAttr:O,isUnknownElement:O,getTagNamespace:I,parsePlatformTagName:D,mustUseProp:O,async:!0,_lifecycleHooks:B},$=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function j(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var G=new RegExp("[^"+$.source+".$_\\d]");var H,K="__proto__"in{},V="undefined"!=typeof window,q="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,z=q&&WXEnvironment.platform.toLowerCase(),W=V&&window.navigator.userAgent.toLowerCase(),Y=W&&/msie|trident/.test(W),X=W&&W.indexOf("msie 9.0")>0,Q=W&&W.indexOf("edge/")>0,J=(W&&W.indexOf("android"),W&&/iphone|ipad|ipod|ios/.test(W)||"ios"===z),Z=(W&&/chrome\/\d+/.test(W),W&&/phantomjs/.test(W),W&&W.match(/firefox\/(\d+)/)),tt={}.watch,et=!1;if(V)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){et=!0}}),window.addEventListener("test-passive",null,nt)}catch(t){}var rt=function(){return void 0===H&&(H=!V&&!q&&void 0!==t&&(t.process&&"server"===t.process.env.VUE_ENV)),H},it=V&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ot(t){return"function"==typeof t&&/native code/.test(t.toString())}var st,at="undefined"!=typeof Symbol&&ot(Symbol)&&"undefined"!=typeof Reflect&&ot(Reflect.ownKeys);st="undefined"!=typeof Set&&ot(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ct=I,lt=0,ut=function(){this.id=lt++,this.subs=[]};ut.prototype.addSub=function(t){this.subs.push(t)},ut.prototype.removeSub=function(t){y(this.subs,t)},ut.prototype.depend=function(){ut.target&&ut.target.addDep(this)},ut.prototype.notify=function(){var t=this.subs.slice();for(var e=0,n=t.length;e<n;e++)t[e].update()},ut.target=null;var dt=[];function ht(t){dt.push(t),ut.target=t}function ft(){dt.pop(),ut.target=dt[dt.length-1]}var pt=function(t,e,n,r,i,o,s,a){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},gt={child:{configurable:!0}};gt.child.get=function(){return this.componentInstance},Object.defineProperties(pt.prototype,gt);var mt=function(t){void 0===t&&(t="");var e=new pt;return e.text=t,e.isComment=!0,e};function vt(t){return new pt(void 0,void 0,void 0,String(t))}function yt(t){var e=new pt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var bt=Array.prototype,wt=Object.create(bt);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(t){var e=bt[t];j(wt,t,(function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var i,o=e.apply(this,n),s=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2)}return i&&s.observeArray(i),s.dep.notify(),o}))}));var _t=Object.getOwnPropertyNames(wt),Et=!0;function St(t){Et=t}var At=function(t){this.value=t,this.dep=new ut,this.vmCount=0,j(t,"__ob__",this),Array.isArray(t)?(K?function(t,e){t.__proto__=e}(t,wt):function(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];j(t,o,e[o])}}(t,wt,_t),this.observeArray(t)):this.walk(t)};function Tt(t,e){var n;if(c(t)&&!(t instanceof pt))return w(t,"__ob__")&&t.__ob__ instanceof At?n=t.__ob__:Et&&!rt()&&(Array.isArray(t)||u(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new At(t)),e&&n&&n.vmCount++,n}function xt(t,e,n,r,i){var o=new ut,s=Object.getOwnPropertyDescriptor(t,e);if(!s||!1!==s.configurable){var a=s&&s.get,c=s&&s.set;a&&!c||2!==arguments.length||(n=t[e]);var l=!i&&Tt(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=a?a.call(t):n;return ut.target&&(o.depend(),l&&(l.dep.depend(),Array.isArray(e)&&Rt(e))),e},set:function(e){var r=a?a.call(t):n;e===r||e!=e&&r!=r||a&&!c||(c?c.call(t,e):n=e,l=!i&&Tt(e),o.notify())}})}}function kt(t,e,n){if(Array.isArray(t)&&h(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var r=t.__ob__;return t._isVue||r&&r.vmCount?n:r?(xt(r.value,e,n),r.dep.notify(),n):(t[e]=n,n)}function Ct(t,e){if(Array.isArray(t)&&h(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||w(t,e)&&(delete t[e],n&&n.dep.notify())}}function Rt(t){for(var e=void 0,n=0,r=t.length;n<r;n++)(e=t[n])&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&Rt(e)}At.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)xt(t,e[n])},At.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Tt(t[e])};var Lt=U.optionMergeStrategies;function It(t,e){if(!e)return t;for(var n,r,i,o=at?Reflect.ownKeys(e):Object.keys(e),s=0;s<o.length;s++)"__ob__"!==(n=o[s])&&(r=t[n],i=e[n],w(t,n)?r!==i&&u(r)&&u(i)&&It(r,i):kt(t,n,i));return t}function Ot(t,e,n){return n?function(){var r="function"==typeof e?e.call(n,n):e,i="function"==typeof t?t.call(n,n):t;return r?It(r,i):i}:e?t?function(){return It("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function Dt(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(n):n}function Mt(t,e,n,r){var i=Object.create(t||null);return e?R(i,e):i}Lt.data=function(t,e,n){return n?Ot(t,e,n):e&&"function"!=typeof e?t:Ot(t,e)},B.forEach((function(t){Lt[t]=Dt})),F.forEach((function(t){Lt[t+"s"]=Mt})),Lt.watch=function(t,e,n,r){if(t===tt&&(t=void 0),e===tt&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};for(var o in R(i,t),e){var s=i[o],a=e[o];s&&!Array.isArray(s)&&(s=[s]),i[o]=s?s.concat(a):Array.isArray(a)?a:[a]}return i},Lt.props=Lt.methods=Lt.inject=Lt.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return R(i,t),e&&R(i,e),i},Lt.provide=Ot;var Nt=function(t,e){return void 0===e?t:e};function Pt(t,e,n){if("function"==typeof e&&(e=e.options),function(t,e){var n=t.props;if(n){var r,i,o={};if(Array.isArray(n))for(r=n.length;r--;)"string"==typeof(i=n[r])&&(o[S(i)]={type:null});else if(u(n))for(var s in n)i=n[s],o[S(s)]=u(i)?i:{type:i};else 0;t.props=o}}(e),function(t,e){var n=t.inject;if(n){var r=t.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(u(n))for(var o in n){var s=n[o];r[o]=u(s)?R({from:o},s):{from:s}}else 0}}(e),function(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"==typeof r&&(e[n]={bind:r,update:r})}}(e),!e._base&&(e.extends&&(t=Pt(t,e.extends,n)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)t=Pt(t,e.mixins[r],n);var o,s={};for(o in t)a(o);for(o in e)w(t,o)||a(o);function a(r){var i=Lt[r]||Nt;s[r]=i(t[r],e[r],n,r)}return s}function Ft(t,e,n,r){if("string"==typeof n){var i=t[e];if(w(i,n))return i[n];var o=S(n);if(w(i,o))return i[o];var s=A(o);return w(i,s)?i[s]:i[n]||i[o]||i[s]}}function Bt(t,e,n,r){var i=e[t],o=!w(n,t),s=n[t],a=Gt(Boolean,i.type);if(a>-1)if(o&&!w(i,"default"))s=!1;else if(""===s||s===x(t)){var c=Gt(String,i.type);(c<0||a<c)&&(s=!0)}if(void 0===s){s=function(t,e,n){if(!w(e,"default"))return;var r=e.default;0;if(t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n])return t._props[n];return"function"==typeof r&&"Function"!==$t(e.type)?r.call(t):r}(r,i,t);var l=Et;St(!0),Tt(s),St(l)}return s}var Ut=/^\s*function (\w+)/;function $t(t){var e=t&&t.toString().match(Ut);return e?e[1]:""}function jt(t,e){return $t(t)===$t(e)}function Gt(t,e){if(!Array.isArray(e))return jt(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(jt(e[n],t))return n;return-1}function Ht(t,e,n){ht();try{if(e)for(var r=e;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{if(!1===i[o].call(r,t,e,n))return}catch(t){Vt(t,r,"errorCaptured hook")}}Vt(t,e,n)}finally{ft()}}function Kt(t,e,n,r,i){var o;try{(o=n?t.apply(e,n):t.call(e))&&!o._isVue&&f(o)&&!o._handled&&(o.catch((function(t){return Ht(t,r,i+" (Promise/async)")})),o._handled=!0)}catch(t){Ht(t,r,i)}return o}function Vt(t,e,n){if(U.errorHandler)try{return U.errorHandler.call(null,t,e,n)}catch(e){e!==t&&qt(e,null,"config.errorHandler")}qt(t,e,n)}function qt(t,e,n){if(!V&&!q||"undefined"==typeof console)throw t;console.error(t)}var zt,Wt=!1,Yt=[],Xt=!1;function Qt(){Xt=!1;var t=Yt.slice(0);Yt.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&ot(Promise)){var Jt=Promise.resolve();zt=function(){Jt.then(Qt),J&&setTimeout(I)},Wt=!0}else if(Y||"undefined"==typeof MutationObserver||!ot(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())zt=void 0!==n&&ot(n)?function(){n(Qt)}:function(){setTimeout(Qt,0)};else{var Zt=1,te=new MutationObserver(Qt),ee=document.createTextNode(String(Zt));te.observe(ee,{characterData:!0}),zt=function(){Zt=(Zt+1)%2,ee.data=String(Zt)},Wt=!0}function ne(t,e){var n;if(Yt.push((function(){if(t)try{t.call(e)}catch(t){Ht(t,e,"nextTick")}else n&&n(e)})),Xt||(Xt=!0,zt()),!t&&"undefined"!=typeof Promise)return new Promise((function(t){n=t}))}var re=new st;function ie(t){!function t(e,n){var r,i,o=Array.isArray(e);if(!o&&!c(e)||Object.isFrozen(e)||e instanceof pt)return;if(e.__ob__){var s=e.__ob__.dep.id;if(n.has(s))return;n.add(s)}if(o)for(r=e.length;r--;)t(e[r],n);else for(i=Object.keys(e),r=i.length;r--;)t(e[i[r]],n)}(t,re),re.clear()}var oe=_((function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),r="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=r?t.slice(1):t,once:n,capture:r,passive:e}}));function se(t,e){function n(){var t=arguments,r=n.fns;if(!Array.isArray(r))return Kt(r,null,arguments,e,"v-on handler");for(var i=r.slice(),o=0;o<i.length;o++)Kt(i[o],null,t,e,"v-on handler")}return n.fns=t,n}function ae(t,e,n,r,o,a){var c,l,u,d;for(c in t)l=t[c],u=e[c],d=oe(c),i(l)||(i(u)?(i(l.fns)&&(l=t[c]=se(l,a)),s(d.once)&&(l=t[c]=o(d.name,l,d.capture)),n(d.name,l,d.capture,d.passive,d.params)):l!==u&&(u.fns=l,t[c]=u));for(c in e)i(t[c])&&r((d=oe(c)).name,e[c],d.capture)}function ce(t,e,n){var r;t instanceof pt&&(t=t.data.hook||(t.data.hook={}));var a=t[e];function c(){n.apply(this,arguments),y(r.fns,c)}i(a)?r=se([c]):o(a.fns)&&s(a.merged)?(r=a).fns.push(c):r=se([a,c]),r.merged=!0,t[e]=r}function le(t,e,n,r,i){if(o(e)){if(w(e,n))return t[n]=e[n],i||delete e[n],!0;if(w(e,r))return t[n]=e[r],i||delete e[r],!0}return!1}function ue(t){return a(t)?[vt(t)]:Array.isArray(t)?function t(e,n){var r,c,l,u,d=[];for(r=0;r<e.length;r++)i(c=e[r])||"boolean"==typeof c||(l=d.length-1,u=d[l],Array.isArray(c)?c.length>0&&(de((c=t(c,(n||"")+"_"+r))[0])&&de(u)&&(d[l]=vt(u.text+c[0].text),c.shift()),d.push.apply(d,c)):a(c)?de(u)?d[l]=vt(u.text+c):""!==c&&d.push(vt(c)):de(c)&&de(u)?d[l]=vt(u.text+c.text):(s(e._isVList)&&o(c.tag)&&i(c.key)&&o(n)&&(c.key="__vlist"+n+"_"+r+"__"),d.push(c)));return d}(t):void 0}function de(t){return o(t)&&o(t.text)&&!1===t.isComment}function he(t,e){if(t){for(var n=Object.create(null),r=at?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){for(var s=t[o].from,a=e;a;){if(a._provided&&w(a._provided,s)){n[o]=a._provided[s];break}a=a.$parent}if(!a)if("default"in t[o]){var c=t[o].default;n[o]="function"==typeof c?c.call(e):c}else 0}}return n}}function fe(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var o=t[r],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==e&&o.fnContext!==e||!s||null==s.slot)(n.default||(n.default=[])).push(o);else{var a=s.slot,c=n[a]||(n[a]=[]);"template"===o.tag?c.push.apply(c,o.children||[]):c.push(o)}}for(var l in n)n[l].every(pe)&&delete n[l];return n}function pe(t){return t.isComment&&!t.asyncFactory||" "===t.text}function ge(t){return t.isComment&&t.asyncFactory}function me(t,e,n){var i,o=Object.keys(e).length>0,s=t?!!t.$stable:!o,a=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(s&&n&&n!==r&&a===n.$key&&!o&&!n.$hasNormal)return n;for(var c in i={},t)t[c]&&"$"!==c[0]&&(i[c]=ve(e,c,t[c]))}else i={};for(var l in e)l in i||(i[l]=ye(e,l));return t&&Object.isExtensible(t)&&(t._normalized=i),j(i,"$stable",s),j(i,"$key",a),j(i,"$hasNormal",o),i}function ve(t,e,n){var r=function(){var t=arguments.length?n.apply(null,arguments):n({}),e=(t=t&&"object"==typeof t&&!Array.isArray(t)?[t]:ue(t))&&t[0];return t&&(!e||1===t.length&&e.isComment&&!ge(e))?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:r,enumerable:!0,configurable:!0}),r}function ye(t,e){return function(){return t[e]}}function be(t,e){var n,r,i,s,a;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=e(t[r],r);else if("number"==typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(c(t))if(at&&t[Symbol.iterator]){n=[];for(var l=t[Symbol.iterator](),u=l.next();!u.done;)n.push(e(u.value,n.length)),u=l.next()}else for(s=Object.keys(t),n=new Array(s.length),r=0,i=s.length;r<i;r++)a=s[r],n[r]=e(t[a],a,r);return o(n)||(n=[]),n._isVList=!0,n}function we(t,e,n,r){var i,o=this.$scopedSlots[t];o?(n=n||{},r&&(n=R(R({},r),n)),i=o(n)||("function"==typeof e?e():e)):i=this.$slots[t]||("function"==typeof e?e():e);var s=n&&n.slot;return s?this.$createElement("template",{slot:s},i):i}function _e(t){return Ft(this.$options,"filters",t)||D}function Ee(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Se(t,e,n,r,i){var o=U.keyCodes[e]||n;return i&&r&&!U.keyCodes[e]?Ee(i,r):o?Ee(o,t):r?x(r)!==e:void 0===t}function Ae(t,e,n,r,i){if(n)if(c(n)){var o;Array.isArray(n)&&(n=L(n));var s=function(s){if("class"===s||"style"===s||v(s))o=t;else{var a=t.attrs&&t.attrs.type;o=r||U.mustUseProp(e,a,s)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var c=S(s),l=x(s);c in o||l in o||(o[s]=n[s],i&&((t.on||(t.on={}))["update:"+s]=function(t){n[s]=t}))};for(var a in n)s(a)}else;return t}function Te(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||ke(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),r}function xe(t,e,n){return ke(t,"__once__"+e+(n?"_"+n:""),!0),t}function ke(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!=typeof t[r]&&Ce(t[r],e+"_"+r,n);else Ce(t,e,n)}function Ce(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Re(t,e){if(e)if(u(e)){var n=t.on=t.on?R({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(i,o):o}}else;return t}function Le(t,e,n,r){e=e||{$stable:!n};for(var i=0;i<t.length;i++){var o=t[i];Array.isArray(o)?Le(o,e,n):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return r&&(e.$key=r),e}function Ie(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"==typeof r&&r&&(t[e[n]]=e[n+1])}return t}function Oe(t,e){return"string"==typeof t?e+t:t}function De(t){t._o=xe,t._n=g,t._s=p,t._l=be,t._t=we,t._q=M,t._i=N,t._m=Te,t._f=_e,t._k=Se,t._b=Ae,t._v=vt,t._e=mt,t._u=Le,t._g=Re,t._d=Ie,t._p=Oe}function Me(t,e,n,i,o){var a,c=this,l=o.options;w(i,"_uid")?(a=Object.create(i))._original=i:(a=i,i=i._original);var u=s(l._compiled),d=!u;this.data=t,this.props=e,this.children=n,this.parent=i,this.listeners=t.on||r,this.injections=he(l.inject,i),this.slots=function(){return c.$slots||me(t.scopedSlots,c.$slots=fe(n,i)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return me(t.scopedSlots,this.slots())}}),u&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=me(t.scopedSlots,this.$slots)),l._scopeId?this._c=function(t,e,n,r){var o=je(a,t,e,n,r,d);return o&&!Array.isArray(o)&&(o.fnScopeId=l._scopeId,o.fnContext=i),o}:this._c=function(t,e,n,r){return je(a,t,e,n,r,d)}}function Ne(t,e,n,r,i){var o=yt(t);return o.fnContext=n,o.fnOptions=r,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function Pe(t,e){for(var n in e)t[S(n)]=e[n]}De(Me.prototype);var Fe={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;Fe.prepatch(n,n)}else{(t.componentInstance=function(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;o(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns);return new t.componentOptions.Ctor(n)}(t,Xe)).$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions;!function(t,e,n,i,o){0;var s=i.data.scopedSlots,a=t.$scopedSlots,c=!!(s&&!s.$stable||a!==r&&!a.$stable||s&&t.$scopedSlots.$key!==s.$key||!s&&t.$scopedSlots.$key),l=!!(o||t.$options._renderChildren||c);t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i);if(t.$options._renderChildren=o,t.$attrs=i.data.attrs||r,t.$listeners=n||r,e&&t.$options.props){St(!1);for(var u=t._props,d=t.$options._propKeys||[],h=0;h<d.length;h++){var f=d[h],p=t.$options.props;u[f]=Bt(f,p,e,t)}St(!0),t.$options.propsData=e}n=n||r;var g=t.$options._parentListeners;t.$options._parentListeners=n,Ye(t,n,g),l&&(t.$slots=fe(o,i.context),t.$forceUpdate());0}(e.componentInstance=t.componentInstance,n.propsData,n.listeners,e,n.children)},insert:function(t){var e,n=t.context,r=t.componentInstance;r._isMounted||(r._isMounted=!0,tn(r,"mounted")),t.data.keepAlive&&(n._isMounted?((e=r)._inactive=!1,nn.push(e)):Ze(r,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,n){if(n&&(e._directInactive=!0,Je(e)))return;if(!e._inactive){e._inactive=!0;for(var r=0;r<e.$children.length;r++)t(e.$children[r]);tn(e,"deactivated")}}(e,!0):e.$destroy())}},Be=Object.keys(Fe);function Ue(t,e,n,a,l){if(!i(t)){var u=n.$options._base;if(c(t)&&(t=u.extend(t)),"function"==typeof t){var d;if(i(t.cid)&&void 0===(t=function(t,e){if(s(t.error)&&o(t.errorComp))return t.errorComp;if(o(t.resolved))return t.resolved;var n=He;n&&o(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n);if(s(t.loading)&&o(t.loadingComp))return t.loadingComp;if(n&&!o(t.owners)){var r=t.owners=[n],a=!0,l=null,u=null;n.$on("hook:destroyed",(function(){return y(r,n)}));var d=function(t){for(var e=0,n=r.length;e<n;e++)r[e].$forceUpdate();t&&(r.length=0,null!==l&&(clearTimeout(l),l=null),null!==u&&(clearTimeout(u),u=null))},h=P((function(n){t.resolved=Ke(n,e),a?r.length=0:d(!0)})),p=P((function(e){o(t.errorComp)&&(t.error=!0,d(!0))})),g=t(h,p);return c(g)&&(f(g)?i(t.resolved)&&g.then(h,p):f(g.component)&&(g.component.then(h,p),o(g.error)&&(t.errorComp=Ke(g.error,e)),o(g.loading)&&(t.loadingComp=Ke(g.loading,e),0===g.delay?t.loading=!0:l=setTimeout((function(){l=null,i(t.resolved)&&i(t.error)&&(t.loading=!0,d(!1))}),g.delay||200)),o(g.timeout)&&(u=setTimeout((function(){u=null,i(t.resolved)&&p(null)}),g.timeout)))),a=!1,t.loading?t.loadingComp:t.resolved}}(d=t,u)))return function(t,e,n,r,i){var o=mt();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:r,tag:i},o}(d,e,n,a,l);e=e||{},Sn(t),o(e.model)&&function(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var i=e.on||(e.on={}),s=i[r],a=e.model.callback;o(s)?(Array.isArray(s)?-1===s.indexOf(a):s!==a)&&(i[r]=[a].concat(s)):i[r]=a}(t.options,e);var h=function(t,e,n){var r=e.options.props;if(!i(r)){var s={},a=t.attrs,c=t.props;if(o(a)||o(c))for(var l in r){var u=x(l);le(s,c,l,u,!0)||le(s,a,l,u,!1)}return s}}(e,t);if(s(t.options.functional))return function(t,e,n,i,s){var a=t.options,c={},l=a.props;if(o(l))for(var u in l)c[u]=Bt(u,l,e||r);else o(n.attrs)&&Pe(c,n.attrs),o(n.props)&&Pe(c,n.props);var d=new Me(n,c,s,i,t),h=a.render.call(null,d._c,d);if(h instanceof pt)return Ne(h,n,d.parent,a,d);if(Array.isArray(h)){for(var f=ue(h)||[],p=new Array(f.length),g=0;g<f.length;g++)p[g]=Ne(f[g],n,d.parent,a,d);return p}}(t,h,e,n,a);var p=e.on;if(e.on=e.nativeOn,s(t.options.abstract)){var g=e.slot;e={},g&&(e.slot=g)}!function(t){for(var e=t.hook||(t.hook={}),n=0;n<Be.length;n++){var r=Be[n],i=e[r],o=Fe[r];i===o||i&&i._merged||(e[r]=i?$e(o,i):o)}}(e);var m=t.options.name||l;return new pt("vue-component-"+t.cid+(m?"-"+m:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:h,listeners:p,tag:l,children:a},d)}}}function $e(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function je(t,e,n,r,l,u){return(Array.isArray(n)||a(n))&&(l=r,r=n,n=void 0),s(u)&&(l=2),function(t,e,n,r,a){if(o(n)&&o(n.__ob__))return mt();o(n)&&o(n.is)&&(e=n.is);if(!e)return mt();0;Array.isArray(r)&&"function"==typeof r[0]&&((n=n||{}).scopedSlots={default:r[0]},r.length=0);2===a?r=ue(r):1===a&&(r=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(r));var l,u;if("string"==typeof e){var d;u=t.$vnode&&t.$vnode.ns||U.getTagNamespace(e),l=U.isReservedTag(e)?new pt(U.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!o(d=Ft(t.$options,"components",e))?new pt(e,n,r,void 0,void 0,t):Ue(d,n,t,r,e)}else l=Ue(e,n,t,r);return Array.isArray(l)?l:o(l)?(o(u)&&function t(e,n,r){e.ns=n,"foreignObject"===e.tag&&(n=void 0,r=!0);if(o(e.children))for(var a=0,c=e.children.length;a<c;a++){var l=e.children[a];o(l.tag)&&(i(l.ns)||s(r)&&"svg"!==l.tag)&&t(l,n,r)}}(l,u),o(n)&&function(t){c(t.style)&&ie(t.style);c(t.class)&&ie(t.class)}(n),l):mt()}(t,e,n,r,l)}var Ge,He=null;function Ke(t,e){return(t.__esModule||at&&"Module"===t[Symbol.toStringTag])&&(t=t.default),c(t)?e.extend(t):t}function Ve(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(o(n)&&(o(n.componentOptions)||ge(n)))return n}}function qe(t,e){Ge.$on(t,e)}function ze(t,e){Ge.$off(t,e)}function We(t,e){var n=Ge;return function r(){var i=e.apply(null,arguments);null!==i&&n.$off(t,r)}}function Ye(t,e,n){Ge=t,ae(e,n||{},qe,ze,We,t),Ge=void 0}var Xe=null;function Qe(t){var e=Xe;return Xe=t,function(){Xe=e}}function Je(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function Ze(t,e){if(e){if(t._directInactive=!1,Je(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Ze(t.$children[n]);tn(t,"activated")}}function tn(t,e){ht();var n=t.$options[e],r=e+" hook";if(n)for(var i=0,o=n.length;i<o;i++)Kt(n[i],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+e),ft()}var en=[],nn=[],rn={},on=!1,sn=!1,an=0;var cn=0,ln=Date.now;if(V&&!Y){var un=window.performance;un&&"function"==typeof un.now&&ln()>document.createEvent("Event").timeStamp&&(ln=function(){return un.now()})}function dn(){var t,e;for(cn=ln(),sn=!0,en.sort((function(t,e){return t.id-e.id})),an=0;an<en.length;an++)(t=en[an]).before&&t.before(),e=t.id,rn[e]=null,t.run();var n=nn.slice(),r=en.slice();an=en.length=nn.length=0,rn={},on=sn=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Ze(t[e],!0)}(n),function(t){var e=t.length;for(;e--;){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&tn(r,"updated")}}(r),it&&U.devtools&&it.emit("flush")}var hn=0,fn=function(t,e,n,r,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++hn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new st,this.newDepIds=new st,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!G.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}(e),this.getter||(this.getter=I)),this.value=this.lazy?void 0:this.get()};fn.prototype.get=function(){var t;ht(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;Ht(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ie(t),ft(),this.cleanupDeps()}return t},fn.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},fn.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},fn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==rn[e]){if(rn[e]=!0,sn){for(var n=en.length-1;n>an&&en[n].id>t.id;)n--;en.splice(n+1,0,t)}else en.push(t);on||(on=!0,ne(dn))}}(this)},fn.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||c(t)||this.deep){var e=this.value;if(this.value=t,this.user){var n='callback for watcher "'+this.expression+'"';Kt(this.cb,this.vm,[t,e],this.vm,n)}else this.cb.call(this.vm,t,e)}}},fn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},fn.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},fn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var pn={enumerable:!0,configurable:!0,get:I,set:I};function gn(t,e,n){pn.get=function(){return this[e][n]},pn.set=function(t){this[e][n]=t},Object.defineProperty(t,n,pn)}function mn(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var n=t.$options.propsData||{},r=t._props={},i=t.$options._propKeys=[];t.$parent&&St(!1);var o=function(o){i.push(o);var s=Bt(o,e,n,t);xt(r,o,s),o in t||gn(t,"_props",o)};for(var s in e)o(s);St(!0)}(t,e.props),e.methods&&function(t,e){t.$options.props;for(var n in e)t[n]="function"!=typeof e[n]?I:k(e[n],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;u(e=t._data="function"==typeof e?function(t,e){ht();try{return t.call(e,e)}catch(t){return Ht(t,e,"data()"),{}}finally{ft()}}(e,t):e||{})||(e={});var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);for(;i--;){var o=n[i];0,r&&w(r,o)||(s=void 0,36!==(s=(o+"").charCodeAt(0))&&95!==s&&gn(t,"_data",o))}var s;Tt(e,!0)}(t):Tt(t._data={},!0),e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),r=rt();for(var i in e){var o=e[i],s="function"==typeof o?o:o.get;0,r||(n[i]=new fn(t,s||I,I,vn)),i in t||yn(t,i,o)}}(t,e.computed),e.watch&&e.watch!==tt&&function(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)_n(t,n,r[i]);else _n(t,n,r)}}(t,e.watch)}var vn={lazy:!0};function yn(t,e,n){var r=!rt();"function"==typeof n?(pn.get=r?bn(e):wn(n),pn.set=I):(pn.get=n.get?r&&!1!==n.cache?bn(e):wn(n.get):I,pn.set=n.set||I),Object.defineProperty(t,e,pn)}function bn(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),ut.target&&e.depend(),e.value}}function wn(t){return function(){return t.call(this,this)}}function _n(t,e,n,r){return u(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,r)}var En=0;function Sn(t){var e=t.options;if(t.super){var n=Sn(t.super);if(n!==t.superOptions){t.superOptions=n;var r=function(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&(e||(e={}),e[i]=n[i]);return e}(t);r&&R(t.extendOptions,r),(e=t.options=Pt(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function An(t){this._init(t)}function Tn(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var o=t.name||n.options.name;var s=function(t){this._init(t)};return(s.prototype=Object.create(n.prototype)).constructor=s,s.cid=e++,s.options=Pt(n.options,t),s.super=n,s.options.props&&function(t){var e=t.options.props;for(var n in e)gn(t.prototype,"_props",n)}(s),s.options.computed&&function(t){var e=t.options.computed;for(var n in e)yn(t.prototype,n,e[n])}(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,F.forEach((function(t){s[t]=n[t]})),o&&(s.options.components[o]=s),s.superOptions=n.options,s.extendOptions=t,s.sealedOptions=R({},s.options),i[r]=s,s}}function xn(t){return t&&(t.Ctor.options.name||t.tag)}function kn(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!d(t)&&t.test(e)}function Cn(t,e){var n=t.cache,r=t.keys,i=t._vnode;for(var o in n){var s=n[o];if(s){var a=s.name;a&&!e(a)&&Rn(n,o,r,i)}}}function Rn(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,y(n,e)}!function(t){t.prototype._init=function(t){var e=this;e._uid=En++,e._isVue=!0,t&&t._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=Pt(Sn(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Ye(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,i=n&&n.context;t.$slots=fe(e._renderChildren,i),t.$scopedSlots=r,t._c=function(e,n,r,i){return je(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return je(t,e,n,r,i,!0)};var o=n&&n.data;xt(t,"$attrs",o&&o.attrs||r,null,!0),xt(t,"$listeners",e._parentListeners||r,null,!0)}(e),tn(e,"beforeCreate"),function(t){var e=he(t.$options.inject,t);e&&(St(!1),Object.keys(e).forEach((function(n){xt(t,n,e[n])})),St(!0))}(e),mn(e),function(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}(e),tn(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(An),function(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=kt,t.prototype.$delete=Ct,t.prototype.$watch=function(t,e,n){if(u(e))return _n(this,t,e,n);(n=n||{}).user=!0;var r=new fn(this,t,e,n);if(n.immediate){var i='callback for immediate watcher "'+r.expression+'"';ht(),Kt(e,this,[r.value],this,i),ft()}return function(){r.teardown()}}}(An),function(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(Array.isArray(t))for(var i=0,o=t.length;i<o;i++)r.$on(t[i],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var r=0,i=t.length;r<i;r++)n.$off(t[r],e);return n}var o,s=n._events[t];if(!s)return n;if(!e)return n._events[t]=null,n;for(var a=s.length;a--;)if((o=s[a])===e||o.fn===e){s.splice(a,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?C(n):n;for(var r=C(arguments,1),i='event handler for "'+t+'"',o=0,s=n.length;o<s;o++)Kt(n[o],e,r,e,i)}return e}}(An),function(t){t.prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,o=Qe(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){tn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||y(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),tn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(An),function(t){De(t.prototype),t.prototype.$nextTick=function(t){return ne(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,i=n._parentVnode;i&&(e.$scopedSlots=me(i.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=i;try{He=e,t=r.call(e._renderProxy,e.$createElement)}catch(n){Ht(n,e,"render"),t=e._vnode}finally{He=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof pt||(t=mt()),t.parent=i,t}}(An);var Ln=[String,RegExp,Array],In={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Ln,exclude:Ln,max:[String,Number]},methods:{cacheVNode:function(){var t=this.cache,e=this.keys,n=this.vnodeToCache,r=this.keyToCache;if(n){var i=n.tag,o=n.componentInstance,s=n.componentOptions;t[r]={name:xn(s),tag:i,componentInstance:o},e.push(r),this.max&&e.length>parseInt(this.max)&&Rn(t,e[0],e,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Rn(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",(function(e){Cn(t,(function(t){return kn(e,t)}))})),this.$watch("exclude",(function(e){Cn(t,(function(t){return!kn(e,t)}))}))},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=Ve(t),n=e&&e.componentOptions;if(n){var r=xn(n),i=this.include,o=this.exclude;if(i&&(!r||!kn(i,r))||o&&r&&kn(o,r))return e;var s=this.cache,a=this.keys,c=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;s[c]?(e.componentInstance=s[c].componentInstance,y(a,c),a.push(c)):(this.vnodeToCache=e,this.keyToCache=c),e.data.keepAlive=!0}return e||t&&t[0]}}};!function(t){var e={get:function(){return U}};Object.defineProperty(t,"config",e),t.util={warn:ct,extend:R,mergeOptions:Pt,defineReactive:xt},t.set=kt,t.delete=Ct,t.nextTick=ne,t.observable=function(t){return Tt(t),t},t.options=Object.create(null),F.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,R(t.options.components,In),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=C(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=Pt(this.options,t),this}}(t),Tn(t),function(t){F.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&u(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}(t)}(An),Object.defineProperty(An.prototype,"$isServer",{get:rt}),Object.defineProperty(An.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(An,"FunctionalRenderContext",{value:Me}),An.version="2.6.14";var On=m("style,class"),Dn=m("input,textarea,option,select,progress"),Mn=m("contenteditable,draggable,spellcheck"),Nn=m("events,caret,typing,plaintext-only"),Pn=m("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Fn="http://www.w3.org/1999/xlink",Bn=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Un=function(t){return Bn(t)?t.slice(6,t.length):""},$n=function(t){return null==t||!1===t};function jn(t){for(var e=t.data,n=t,r=t;o(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=Gn(r.data,e));for(;o(n=n.parent);)n&&n.data&&(e=Gn(e,n.data));return function(t,e){if(o(t)||o(e))return Hn(t,Kn(e));return""}(e.staticClass,e.class)}function Gn(t,e){return{staticClass:Hn(t.staticClass,e.staticClass),class:o(t.class)?[t.class,e.class]:e.class}}function Hn(t,e){return t?e?t+" "+e:t:e||""}function Kn(t){return Array.isArray(t)?function(t){for(var e,n="",r=0,i=t.length;r<i;r++)o(e=Kn(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):c(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}var Vn={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},qn=m("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),zn=m("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Wn=function(t){return qn(t)||zn(t)};var Yn=Object.create(null);var Xn=m("text,number,password,search,email,tel,url");var Qn=Object.freeze({createElement:function(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(t,e){return document.createElementNS(Vn[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),Jn={create:function(t,e){Zn(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Zn(t,!0),Zn(e))},destroy:function(t){Zn(t,!0)}};function Zn(t,e){var n=t.data.ref;if(o(n)){var r=t.context,i=t.componentInstance||t.elm,s=r.$refs;e?Array.isArray(s[n])?y(s[n],i):s[n]===i&&(s[n]=void 0):t.data.refInFor?Array.isArray(s[n])?s[n].indexOf(i)<0&&s[n].push(i):s[n]=[i]:s[n]=i}}var tr=new pt("",{},[]),er=["create","activate","update","remove","destroy"];function nr(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&o(t.data)===o(e.data)&&function(t,e){if("input"!==t.tag)return!0;var n,r=o(n=t.data)&&o(n=n.attrs)&&n.type,i=o(n=e.data)&&o(n=n.attrs)&&n.type;return r===i||Xn(r)&&Xn(i)}(t,e)||s(t.isAsyncPlaceholder)&&i(e.asyncFactory.error))}function rr(t,e,n){var r,i,s={};for(r=e;r<=n;++r)o(i=t[r].key)&&(s[i]=r);return s}var ir={create:or,update:or,destroy:function(t){or(t,tr)}};function or(t,e){(t.data.directives||e.data.directives)&&function(t,e){var n,r,i,o=t===tr,s=e===tr,a=ar(t.data.directives,t.context),c=ar(e.data.directives,e.context),l=[],u=[];for(n in c)r=a[n],i=c[n],r?(i.oldValue=r.value,i.oldArg=r.arg,lr(i,"update",e,t),i.def&&i.def.componentUpdated&&u.push(i)):(lr(i,"bind",e,t),i.def&&i.def.inserted&&l.push(i));if(l.length){var d=function(){for(var n=0;n<l.length;n++)lr(l[n],"inserted",e,t)};o?ce(e,"insert",d):d()}u.length&&ce(e,"postpatch",(function(){for(var n=0;n<u.length;n++)lr(u[n],"componentUpdated",e,t)}));if(!o)for(n in a)c[n]||lr(a[n],"unbind",t,t,s)}(t,e)}var sr=Object.create(null);function ar(t,e){var n,r,i=Object.create(null);if(!t)return i;for(n=0;n<t.length;n++)(r=t[n]).modifiers||(r.modifiers=sr),i[cr(r)]=r,r.def=Ft(e.$options,"directives",r.name);return i}function cr(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function lr(t,e,n,r,i){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,r,i)}catch(r){Ht(r,n.context,"directive "+t.name+" "+e+" hook")}}var ur=[Jn,ir];function dr(t,e){var n=e.componentOptions;if(!(o(n)&&!1===n.Ctor.options.inheritAttrs||i(t.data.attrs)&&i(e.data.attrs))){var r,s,a=e.elm,c=t.data.attrs||{},l=e.data.attrs||{};for(r in o(l.__ob__)&&(l=e.data.attrs=R({},l)),l)s=l[r],c[r]!==s&&hr(a,r,s,e.data.pre);for(r in(Y||Q)&&l.value!==c.value&&hr(a,"value",l.value),c)i(l[r])&&(Bn(r)?a.removeAttributeNS(Fn,Un(r)):Mn(r)||a.removeAttribute(r))}}function hr(t,e,n,r){r||t.tagName.indexOf("-")>-1?fr(t,e,n):Pn(e)?$n(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):Mn(e)?t.setAttribute(e,function(t,e){return $n(e)||"false"===e?"false":"contenteditable"===t&&Nn(e)?e:"true"}(e,n)):Bn(e)?$n(n)?t.removeAttributeNS(Fn,Un(e)):t.setAttributeNS(Fn,e,n):fr(t,e,n)}function fr(t,e,n){if($n(n))t.removeAttribute(e);else{if(Y&&!X&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var pr={create:dr,update:dr};function gr(t,e){var n=e.elm,r=e.data,s=t.data;if(!(i(r.staticClass)&&i(r.class)&&(i(s)||i(s.staticClass)&&i(s.class)))){var a=jn(e),c=n._transitionClasses;o(c)&&(a=Hn(a,Kn(c))),a!==n._prevClass&&(n.setAttribute("class",a),n._prevClass=a)}}var mr,vr={create:gr,update:gr};function yr(t,e,n){var r=mr;return function i(){var o=e.apply(null,arguments);null!==o&&_r(t,i,n,r)}}var br=Wt&&!(Z&&Number(Z[1])<=53);function wr(t,e,n,r){if(br){var i=cn,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}mr.addEventListener(t,e,et?{capture:n,passive:r}:n)}function _r(t,e,n,r){(r||mr).removeEventListener(t,e._wrapper||e,n)}function Er(t,e){if(!i(t.data.on)||!i(e.data.on)){var n=e.data.on||{},r=t.data.on||{};mr=e.elm,function(t){if(o(t.__r)){var e=Y?"change":"input";t[e]=[].concat(t.__r,t[e]||[]),delete t.__r}o(t.__c)&&(t.change=[].concat(t.__c,t.change||[]),delete t.__c)}(n),ae(n,r,wr,_r,yr,e.context),mr=void 0}}var Sr,Ar={create:Er,update:Er};function Tr(t,e){if(!i(t.data.domProps)||!i(e.data.domProps)){var n,r,s=e.elm,a=t.data.domProps||{},c=e.data.domProps||{};for(n in o(c.__ob__)&&(c=e.data.domProps=R({},c)),a)n in c||(s[n]="");for(n in c){if(r=c[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),r===a[n])continue;1===s.childNodes.length&&s.removeChild(s.childNodes[0])}if("value"===n&&"PROGRESS"!==s.tagName){s._value=r;var l=i(r)?"":String(r);xr(s,l)&&(s.value=l)}else if("innerHTML"===n&&zn(s.tagName)&&i(s.innerHTML)){(Sr=Sr||document.createElement("div")).innerHTML="<svg>"+r+"</svg>";for(var u=Sr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;u.firstChild;)s.appendChild(u.firstChild)}else if(r!==a[n])try{s[n]=r}catch(t){}}}}function xr(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(t,e)||function(t,e){var n=t.value,r=t._vModifiers;if(o(r)){if(r.number)return g(n)!==g(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}(t,e))}var kr={create:Tr,update:Tr},Cr=_((function(t){var e={},n=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach((function(t){if(t){var r=t.split(n);r.length>1&&(e[r[0].trim()]=r[1].trim())}})),e}));function Rr(t){var e=Lr(t.style);return t.staticStyle?R(t.staticStyle,e):e}function Lr(t){return Array.isArray(t)?L(t):"string"==typeof t?Cr(t):t}var Ir,Or=/^--/,Dr=/\s*!important$/,Mr=function(t,e,n){if(Or.test(e))t.style.setProperty(e,n);else if(Dr.test(n))t.style.setProperty(x(e),n.replace(Dr,""),"important");else{var r=Pr(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[r]=n[i];else t.style[r]=n}},Nr=["Webkit","Moz","ms"],Pr=_((function(t){if(Ir=Ir||document.createElement("div").style,"filter"!==(t=S(t))&&t in Ir)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Nr.length;n++){var r=Nr[n]+e;if(r in Ir)return r}}));function Fr(t,e){var n=e.data,r=t.data;if(!(i(n.staticStyle)&&i(n.style)&&i(r.staticStyle)&&i(r.style))){var s,a,c=e.elm,l=r.staticStyle,u=r.normalizedStyle||r.style||{},d=l||u,h=Lr(e.data.style)||{};e.data.normalizedStyle=o(h.__ob__)?R({},h):h;var f=function(t,e){var n,r={};if(e)for(var i=t;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(n=Rr(i.data))&&R(r,n);(n=Rr(t.data))&&R(r,n);for(var o=t;o=o.parent;)o.data&&(n=Rr(o.data))&&R(r,n);return r}(e,!0);for(a in d)i(f[a])&&Mr(c,a,"");for(a in f)(s=f[a])!==d[a]&&Mr(c,a,null==s?"":s)}}var Br={create:Fr,update:Fr},Ur=/\s+/;function $r(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Ur).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function jr(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Ur).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" "+(t.getAttribute("class")||"")+" ",r=" "+e+" ";n.indexOf(r)>=0;)n=n.replace(r," ");(n=n.trim())?t.setAttribute("class",n):t.removeAttribute("class")}}function Gr(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&R(e,Hr(t.name||"v")),R(e,t),e}return"string"==typeof t?Hr(t):void 0}}var Hr=_((function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}})),Kr=V&&!X,Vr="transition",qr="transitionend",zr="animation",Wr="animationend";Kr&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Vr="WebkitTransition",qr="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(zr="WebkitAnimation",Wr="webkitAnimationEnd"));var Yr=V?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Xr(t){Yr((function(){Yr(t)}))}function Qr(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),$r(t,e))}function Jr(t,e){t._transitionClasses&&y(t._transitionClasses,e),jr(t,e)}function Zr(t,e,n){var r=ei(t,e),i=r.type,o=r.timeout,s=r.propCount;if(!i)return n();var a="transition"===i?qr:Wr,c=0,l=function(){t.removeEventListener(a,u),n()},u=function(e){e.target===t&&++c>=s&&l()};setTimeout((function(){c<s&&l()}),o+1),t.addEventListener(a,u)}var ti=/\b(transform|all)(,|$)/;function ei(t,e){var n,r=window.getComputedStyle(t),i=(r[Vr+"Delay"]||"").split(", "),o=(r[Vr+"Duration"]||"").split(", "),s=ni(i,o),a=(r[zr+"Delay"]||"").split(", "),c=(r[zr+"Duration"]||"").split(", "),l=ni(a,c),u=0,d=0;return"transition"===e?s>0&&(n="transition",u=s,d=o.length):"animation"===e?l>0&&(n="animation",u=l,d=c.length):d=(n=(u=Math.max(s,l))>0?s>l?"transition":"animation":null)?"transition"===n?o.length:c.length:0,{type:n,timeout:u,propCount:d,hasTransform:"transition"===n&&ti.test(r[Vr+"Property"])}}function ni(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return ri(e)+ri(t[n])})))}function ri(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function ii(t,e){var n=t.elm;o(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=Gr(t.data.transition);if(!i(r)&&!o(n._enterCb)&&1===n.nodeType){for(var s=r.css,a=r.type,l=r.enterClass,u=r.enterToClass,d=r.enterActiveClass,h=r.appearClass,f=r.appearToClass,p=r.appearActiveClass,m=r.beforeEnter,v=r.enter,y=r.afterEnter,b=r.enterCancelled,w=r.beforeAppear,_=r.appear,E=r.afterAppear,S=r.appearCancelled,A=r.duration,T=Xe,x=Xe.$vnode;x&&x.parent;)T=x.context,x=x.parent;var k=!T._isMounted||!t.isRootInsert;if(!k||_||""===_){var C=k&&h?h:l,R=k&&p?p:d,L=k&&f?f:u,I=k&&w||m,O=k&&"function"==typeof _?_:v,D=k&&E||y,M=k&&S||b,N=g(c(A)?A.enter:A);0;var F=!1!==s&&!X,B=ai(O),U=n._enterCb=P((function(){F&&(Jr(n,L),Jr(n,R)),U.cancelled?(F&&Jr(n,C),M&&M(n)):D&&D(n),n._enterCb=null}));t.data.show||ce(t,"insert",(function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),O&&O(n,U)})),I&&I(n),F&&(Qr(n,C),Qr(n,R),Xr((function(){Jr(n,C),U.cancelled||(Qr(n,L),B||(si(N)?setTimeout(U,N):Zr(n,a,U)))}))),t.data.show&&(e&&e(),O&&O(n,U)),F||B||U()}}}function oi(t,e){var n=t.elm;o(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=Gr(t.data.transition);if(i(r)||1!==n.nodeType)return e();if(!o(n._leaveCb)){var s=r.css,a=r.type,l=r.leaveClass,u=r.leaveToClass,d=r.leaveActiveClass,h=r.beforeLeave,f=r.leave,p=r.afterLeave,m=r.leaveCancelled,v=r.delayLeave,y=r.duration,b=!1!==s&&!X,w=ai(f),_=g(c(y)?y.leave:y);0;var E=n._leaveCb=P((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),b&&(Jr(n,u),Jr(n,d)),E.cancelled?(b&&Jr(n,l),m&&m(n)):(e(),p&&p(n)),n._leaveCb=null}));v?v(S):S()}function S(){E.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),h&&h(n),b&&(Qr(n,l),Qr(n,d),Xr((function(){Jr(n,l),E.cancelled||(Qr(n,u),w||(si(_)?setTimeout(E,_):Zr(n,a,E)))}))),f&&f(n,E),b||w||E())}}function si(t){return"number"==typeof t&&!isNaN(t)}function ai(t){if(i(t))return!1;var e=t.fns;return o(e)?ai(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function ci(t,e){!0!==e.data.show&&ii(e)}var li=function(t){var e,n,r={},c=t.modules,l=t.nodeOps;for(e=0;e<er.length;++e)for(r[er[e]]=[],n=0;n<c.length;++n)o(c[n][er[e]])&&r[er[e]].push(c[n][er[e]]);function u(t){var e=l.parentNode(t);o(e)&&l.removeChild(e,t)}function d(t,e,n,i,a,c,u){if(o(t.elm)&&o(c)&&(t=c[u]=yt(t)),t.isRootInsert=!a,!function(t,e,n,i){var a=t.data;if(o(a)){var c=o(t.componentInstance)&&a.keepAlive;if(o(a=a.hook)&&o(a=a.init)&&a(t,!1),o(t.componentInstance))return h(t,e),f(n,t.elm,i),s(c)&&function(t,e,n,i){var s,a=t;for(;a.componentInstance;)if(a=a.componentInstance._vnode,o(s=a.data)&&o(s=s.transition)){for(s=0;s<r.activate.length;++s)r.activate[s](tr,a);e.push(a);break}f(n,t.elm,i)}(t,e,n,i),!0}}(t,e,n,i)){var d=t.data,g=t.children,m=t.tag;o(m)?(t.elm=t.ns?l.createElementNS(t.ns,m):l.createElement(m,t),y(t),p(t,g,e),o(d)&&v(t,e),f(n,t.elm,i)):s(t.isComment)?(t.elm=l.createComment(t.text),f(n,t.elm,i)):(t.elm=l.createTextNode(t.text),f(n,t.elm,i))}}function h(t,e){o(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,g(t)?(v(t,e),y(t)):(Zn(t),e.push(t))}function f(t,e,n){o(t)&&(o(n)?l.parentNode(n)===t&&l.insertBefore(t,e,n):l.appendChild(t,e))}function p(t,e,n){if(Array.isArray(e)){0;for(var r=0;r<e.length;++r)d(e[r],n,t.elm,null,!0,e,r)}else a(t.text)&&l.appendChild(t.elm,l.createTextNode(String(t.text)))}function g(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return o(t.tag)}function v(t,n){for(var i=0;i<r.create.length;++i)r.create[i](tr,t);o(e=t.data.hook)&&(o(e.create)&&e.create(tr,t),o(e.insert)&&n.push(t))}function y(t){var e;if(o(e=t.fnScopeId))l.setStyleScope(t.elm,e);else for(var n=t;n;)o(e=n.context)&&o(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e),n=n.parent;o(e=Xe)&&e!==t.context&&e!==t.fnContext&&o(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e)}function b(t,e,n,r,i,o){for(;r<=i;++r)d(n[r],o,t,e,!1,n,r)}function w(t){var e,n,i=t.data;if(o(i))for(o(e=i.hook)&&o(e=e.destroy)&&e(t),e=0;e<r.destroy.length;++e)r.destroy[e](t);if(o(e=t.children))for(n=0;n<t.children.length;++n)w(t.children[n])}function _(t,e,n){for(;e<=n;++e){var r=t[e];o(r)&&(o(r.tag)?(E(r),w(r)):u(r.elm))}}function E(t,e){if(o(e)||o(t.data)){var n,i=r.remove.length+1;for(o(e)?e.listeners+=i:e=function(t,e){function n(){0==--n.listeners&&u(t)}return n.listeners=e,n}(t.elm,i),o(n=t.componentInstance)&&o(n=n._vnode)&&o(n.data)&&E(n,e),n=0;n<r.remove.length;++n)r.remove[n](t,e);o(n=t.data.hook)&&o(n=n.remove)?n(t,e):e()}else u(t.elm)}function S(t,e,n,r){for(var i=n;i<r;i++){var s=e[i];if(o(s)&&nr(t,s))return i}}function A(t,e,n,a,c,u){if(t!==e){o(e.elm)&&o(a)&&(e=a[c]=yt(e));var h=e.elm=t.elm;if(s(t.isAsyncPlaceholder))o(e.asyncFactory.resolved)?k(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(s(e.isStatic)&&s(t.isStatic)&&e.key===t.key&&(s(e.isCloned)||s(e.isOnce)))e.componentInstance=t.componentInstance;else{var f,p=e.data;o(p)&&o(f=p.hook)&&o(f=f.prepatch)&&f(t,e);var m=t.children,v=e.children;if(o(p)&&g(e)){for(f=0;f<r.update.length;++f)r.update[f](t,e);o(f=p.hook)&&o(f=f.update)&&f(t,e)}i(e.text)?o(m)&&o(v)?m!==v&&function(t,e,n,r,s){var a,c,u,h=0,f=0,p=e.length-1,g=e[0],m=e[p],v=n.length-1,y=n[0],w=n[v],E=!s;for(0;h<=p&&f<=v;)i(g)?g=e[++h]:i(m)?m=e[--p]:nr(g,y)?(A(g,y,r,n,f),g=e[++h],y=n[++f]):nr(m,w)?(A(m,w,r,n,v),m=e[--p],w=n[--v]):nr(g,w)?(A(g,w,r,n,v),E&&l.insertBefore(t,g.elm,l.nextSibling(m.elm)),g=e[++h],w=n[--v]):nr(m,y)?(A(m,y,r,n,f),E&&l.insertBefore(t,m.elm,g.elm),m=e[--p],y=n[++f]):(i(a)&&(a=rr(e,h,p)),i(c=o(y.key)?a[y.key]:S(y,e,h,p))?d(y,r,t,g.elm,!1,n,f):nr(u=e[c],y)?(A(u,y,r,n,f),e[c]=void 0,E&&l.insertBefore(t,u.elm,g.elm)):d(y,r,t,g.elm,!1,n,f),y=n[++f]);h>p?b(t,i(n[v+1])?null:n[v+1].elm,n,f,v,r):f>v&&_(e,h,p)}(h,m,v,n,u):o(v)?(o(t.text)&&l.setTextContent(h,""),b(h,null,v,0,v.length-1,n)):o(m)?_(m,0,m.length-1):o(t.text)&&l.setTextContent(h,""):t.text!==e.text&&l.setTextContent(h,e.text),o(p)&&o(f=p.hook)&&o(f=f.postpatch)&&f(t,e)}}}function T(t,e,n){if(s(n)&&o(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var x=m("attrs,class,staticClass,staticStyle,key");function k(t,e,n,r){var i,a=e.tag,c=e.data,l=e.children;if(r=r||c&&c.pre,e.elm=t,s(e.isComment)&&o(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(o(c)&&(o(i=c.hook)&&o(i=i.init)&&i(e,!0),o(i=e.componentInstance)))return h(e,n),!0;if(o(a)){if(o(l))if(t.hasChildNodes())if(o(i=c)&&o(i=i.domProps)&&o(i=i.innerHTML)){if(i!==t.innerHTML)return!1}else{for(var u=!0,d=t.firstChild,f=0;f<l.length;f++){if(!d||!k(d,l[f],n,r)){u=!1;break}d=d.nextSibling}if(!u||d)return!1}else p(e,l,n);if(o(c)){var g=!1;for(var m in c)if(!x(m)){g=!0,v(e,n);break}!g&&c.class&&ie(c.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,a){if(!i(e)){var c,u=!1,h=[];if(i(t))u=!0,d(e,h);else{var f=o(t.nodeType);if(!f&&nr(t,e))A(t,e,h,null,null,a);else{if(f){if(1===t.nodeType&&t.hasAttribute("data-server-rendered")&&(t.removeAttribute("data-server-rendered"),n=!0),s(n)&&k(t,e,h))return T(e,h,!0),t;c=t,t=new pt(l.tagName(c).toLowerCase(),{},[],void 0,c)}var p=t.elm,m=l.parentNode(p);if(d(e,h,p._leaveCb?null:m,l.nextSibling(p)),o(e.parent))for(var v=e.parent,y=g(e);v;){for(var b=0;b<r.destroy.length;++b)r.destroy[b](v);if(v.elm=e.elm,y){for(var E=0;E<r.create.length;++E)r.create[E](tr,v);var S=v.data.hook.insert;if(S.merged)for(var x=1;x<S.fns.length;x++)S.fns[x]()}else Zn(v);v=v.parent}o(m)?_([t],0,0):o(t.tag)&&w(t)}}return T(e,h,u),e.elm}o(t)&&w(t)}}({nodeOps:Qn,modules:[pr,vr,Ar,kr,Br,V?{create:ci,activate:ci,remove:function(t,e){!0!==t.data.show?oi(t,e):e()}}:{}].concat(ur)});X&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&vi(t,"input")}));var ui={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?ce(n,"postpatch",(function(){ui.componentUpdated(t,e,n)})):di(t,e,n.context),t._vOptions=[].map.call(t.options,pi)):("textarea"===n.tag||Xn(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",gi),t.addEventListener("compositionend",mi),t.addEventListener("change",mi),X&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){di(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,pi);if(i.some((function(t,e){return!M(t,r[e])})))(t.multiple?e.value.some((function(t){return fi(t,i)})):e.value!==e.oldValue&&fi(e.value,i))&&vi(t,"change")}}};function di(t,e,n){hi(t,e,n),(Y||Q)&&setTimeout((function(){hi(t,e,n)}),0)}function hi(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var o,s,a=0,c=t.options.length;a<c;a++)if(s=t.options[a],i)o=N(r,pi(s))>-1,s.selected!==o&&(s.selected=o);else if(M(pi(s),r))return void(t.selectedIndex!==a&&(t.selectedIndex=a));i||(t.selectedIndex=-1)}}function fi(t,e){return e.every((function(e){return!M(e,t)}))}function pi(t){return"_value"in t?t._value:t.value}function gi(t){t.target.composing=!0}function mi(t){t.target.composing&&(t.target.composing=!1,vi(t.target,"input"))}function vi(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function yi(t){return!t.componentInstance||t.data&&t.data.transition?t:yi(t.componentInstance._vnode)}var bi={model:ui,show:{bind:function(t,e,n){var r=e.value,i=(n=yi(n)).data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,ii(n,(function(){t.style.display=o}))):t.style.display=r?o:"none"},update:function(t,e,n){var r=e.value;!r!=!e.oldValue&&((n=yi(n)).data&&n.data.transition?(n.data.show=!0,r?ii(n,(function(){t.style.display=t.__vOriginalDisplay})):oi(n,(function(){t.style.display="none"}))):t.style.display=r?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}}},wi={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function _i(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?_i(Ve(e.children)):t}function Ei(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var o in i)e[S(o)]=i[o];return e}function Si(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var Ai=function(t){return t.tag||ge(t)},Ti=function(t){return"show"===t.name},xi={name:"transition",props:wi,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(Ai)).length){0;var r=this.mode;0;var i=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return i;var o=_i(i);if(!o)return i;if(this._leaving)return Si(t,i);var s="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?s+"comment":s+o.tag:a(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var c=(o.data||(o.data={})).transition=Ei(this),l=this._vnode,u=_i(l);if(o.data.directives&&o.data.directives.some(Ti)&&(o.data.show=!0),u&&u.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(o,u)&&!ge(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var d=u.data.transition=R({},c);if("out-in"===r)return this._leaving=!0,ce(d,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),Si(t,i);if("in-out"===r){if(ge(o))return l;var h,f=function(){h()};ce(c,"afterEnter",f),ce(c,"enterCancelled",f),ce(d,"delayLeave",(function(t){h=t}))}}return i}}},ki=R({tag:String,moveClass:String},wi);function Ci(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Ri(t){t.data.newPos=t.elm.getBoundingClientRect()}function Li(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}delete ki.mode;var Ii={Transition:xi,TransitionGroup:{props:ki,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var i=Qe(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],s=Ei(this),a=0;a<i.length;a++){var c=i[a];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))o.push(c),n[c.key]=c,(c.data||(c.data={})).transition=s;else;}if(r){for(var l=[],u=[],d=0;d<r.length;d++){var h=r[d];h.data.transition=s,h.data.pos=h.elm.getBoundingClientRect(),n[h.key]?l.push(h):u.push(h)}this.kept=t(e,null,l),this.removed=u}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Ci),t.forEach(Ri),t.forEach(Li),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,r=n.style;Qr(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(qr,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(qr,t),n._moveCb=null,Jr(n,e))})}})))},methods:{hasMove:function(t,e){if(!Kr)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){jr(n,t)})),$r(n,e),n.style.display="none",this.$el.appendChild(n);var r=ei(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}}};An.config.mustUseProp=function(t,e,n){return"value"===n&&Dn(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},An.config.isReservedTag=Wn,An.config.isReservedAttr=On,An.config.getTagNamespace=function(t){return zn(t)?"svg":"math"===t?"math":void 0},An.config.isUnknownElement=function(t){if(!V)return!0;if(Wn(t))return!1;if(t=t.toLowerCase(),null!=Yn[t])return Yn[t];var e=document.createElement(t);return t.indexOf("-")>-1?Yn[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Yn[t]=/HTMLUnknownElement/.test(e.toString())},R(An.options.directives,bi),R(An.options.components,Ii),An.prototype.__patch__=V?li:I,An.prototype.$mount=function(t,e){return function(t,e,n){var r;return t.$el=e,t.$options.render||(t.$options.render=mt),tn(t,"beforeMount"),r=function(){t._update(t._render(),n)},new fn(t,r,I,{before:function(){t._isMounted&&!t._isDestroyed&&tn(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,tn(t,"mounted")),t}(this,t=t&&V?function(t){if("string"==typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}(t):void 0,e)},V&&setTimeout((function(){U.devtools&&it&&it.emit("init",An)}),0),e.a=An}).call(this,n(59),n(421).setImmediate)},function(t,e){t.exports=function(t){return"function"==typeof t}},function(t,e,n){var r=n(51);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";var r=n(9);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,s=r(n(204)),a=r(n(111)),c={uaMatch:{iOS5:null!=navigator.userAgent.match(/OS 5_/i),isIos9:null!=navigator.userAgent.match(/OS 9_/i),isIphone:!!navigator.userAgent.match(/iphone/gi),isIos:!!navigator.userAgent.match(/iphone|ipad/gi),isIpad:!!navigator.userAgent.match(/ipad/gi),isNewsapp:!!navigator.userAgent.match(/NewsApp/gi),isWinPhone:!!navigator.userAgent.match(/Windows Phone/gi),isWeixin:!!navigator.userAgent.match(/MicroMessenger/gi),isMiniprogram:!!navigator.userAgent.match(/MicroMessenger.*miniProgram/gi),isWeibo:!!navigator.userAgent.match(/weibo/gi),isSogou:!!navigator.userAgent.match(/sogoumobilebrowser/gi),is360:!!navigator.userAgent.match(/QihooBrowser/gi),isUCBrowser:!!navigator.userAgent.match(/UCBrowser/gi),isQuarkBrowser:!!navigator.userAgent.match(/Quark/gi),isQQBrowser:!(!navigator.userAgent.match(/MQQBrowser/gi)||navigator.userAgent.match(/MicroMessenger/gi)||navigator.userAgent.match(/QQ\//gi)),isBaidu:!!navigator.userAgent.match(/baidu/gi),isYixin:!!navigator.userAgent.match(/yixin/gi),isPopo:!!navigator.userAgent.match(/popo/gi),isTrident:navigator.userAgent.indexOf("Trident")>-1,isPresto:navigator.userAgent.indexOf("Presto")>-1,isWebKit:navigator.userAgent.indexOf("AppleWebKit")>-1,isGecko:navigator.userAgent.indexOf("Gecko")>-1&&-1==navigator.userAgent.indexOf("KHTML"),isMobile:!!navigator.userAgent.match(/AppleWebKit.*Mobile.*/),isTIOS:!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),isAndroid:navigator.userAgent.indexOf("Android")>-1||navigator.userAgent.indexOf("Adr")>-1,iswebApp:-1==navigator.userAgent.indexOf("Safari"),isQQ:!!navigator.userAgent.match(/QQ\//i),isTouTiao:!!navigator.userAgent.match(/NewsArticle/i)||!!navigator.userAgent.match(/TTWebView/i),isIosSafari:(i=navigator.userAgent,o=window.hasOwnProperty("isLBBrowser"),/applewebkit\/\d+(\.\d+)*\d+\s*\(KHTML,\s*like\s*Gecko\)\s*version\/\d+(\.\d+)*\.\d+\s*mobile\/\d+\w\d+\s*safari\/\d+(\.\d+)*\.\d+$/i.test(i)&&!o),isPc:function(){var t=navigator.userAgent;return null==t.match(/iphone|ipad|ipod/gi)&&null==t.match(/Android/gi)&&null==t.match(/Windows Phone/gi)}()},isTouTiaoOther:function(){return!(""!==window._REFER_VAL||this.uaMatch.isPc||this.uaMatch.isWeixin||this.uaMatch.isQQ||this.uaMatch.isQQBrowser||this.uaMatch.isYixin||this.uaMatch.isPopo||this.uaMatch.isWeibo||this.uaMatch.isBaidu||this.uaMatch.isUCBrowser||this.uaMatch.isSogou||this.uaMatch.is360||this.uaMatch.isTouTiao)},isBaiduAll:function(){return this.uaMatch.isBaidu||"baidu"===window._REFER_VAL},isToutiaoAll:function(){return this.uaMatch.isTouTiao||"toutiao"===window._REFER_VAL},getChannelType:function(){var t=(0,s.default)(a.default.CHANNEL_TYPE,6),e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],c=t[5],l=e;return this.isToutiaoAll()&&(l=n),this.isBaiduAll()&&(l=r),this.uaMatch.isWeixin&&(l=i),this.uaMatch.isUCBrowser&&(l=o),this.uaMatch.isQQBrowser&&(l=c),l},getDom:function(t,e){return t instanceof HTMLElement?t:(e||document).querySelector(t)||document.createElement("div")},resizeImg:function(t,e){if(!t)return"";var n=e.width||220,r=e.height||165,i=e.quality||85;t=t.split("?")[0],/^http/g.test(t)||(t="".concat(location.protocol).concat(t));var o="jpg";return t.match(/gif/)&&(o="gif"),t.match(/png/)&&(o="png"),"//nimg.ws.126.net/?url=".concat(encodeURIComponent(t),"&thumbnail=").concat(n,"x").concat(r,"&quality=").concat(i,"&type=").concat(o)},getOnePic:function(t,e,n){var r=(n?t[e][n]:t[e])||"";return r&&(r=this.resizeImg(r,{width:750,height:2147483647})),r},hasAbTest:function(t){return void 0!==t.abTest&&/[0-9a-f]/.test(t.abTest)}};e.default=c},function(t,e,n){var r=n(3),i=n(32),o=n(31),s=n(64)("src"),a=n(569),c=(""+a).split("toString");n(14).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var l="function"==typeof n;l&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(l&&(o(n,s)||i(n,s,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:a?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[s]||a.call(this)}))},function(t,e,n){var r=n(1),i=n(4),o=n(51),s=/"/g,a=function(t,e,n,r){var i=String(o(t)),a="<"+e;return""!==n&&(a+=" "+n+'="'+String(r).replace(s,"&quot;")+'"'),a+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(a),r(r.P+r.F*i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",n)}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.isUndefined=e.isPromise=e.isString=e.isBoolean=e.isArray=e.isFunction=e.isObject=void 0;var r=function(t){return function(e){return t===Object.prototype.toString.call(e).slice(8,-1)}},i=r("Object");e.isObject=i;var o=r("Function");e.isFunction=o;var s=r("Array");e.isArray=s;var a=r("Boolean");e.isBoolean=a;var c=r("String");e.isString=c;var l=r("Promise");e.isPromise=l;var u=r("Undefined");e.isUndefined=u;var d={isObject:i,isFunction:o,isArray:s,isBoolean:a,isPromise:l,isUndefined:u,isString:c};e.default=d},function(t,e){t.exports={}},function(t,e,n){var r=n(10),i=n(54),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(18),i=n(63);t.exports=n(17)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(102),i=n(51);t.exports=function(t){return r(i(t))}},function(t,e,n){var r={topicSpecial:"http://nc.hz.service.163.org/nc/article/static/list/${id}/0-20.html",motif:"http://nc.hz.service.163.org/reader/api/motif/h5/home?motifId=${motifId}",reader:"http://nc.hz.service.163.org/reader/api/recommend/h5/detail?recommendId=${recommendID}&questionId=${questionId}&ua=NewsApp/94.0 iOS/11.4.1 (iPhone7,2)",videoAlbum:"http://c.m.163.com/recommend/video/videoAlbum?albumId=${albumid}",article:"http://nc.service.163.org/nc/rec/simple/article/${docid}/full.html",joke:"http://nc.service.163.org/nc/article/${docid}/full.html",book:"http://nc.hz.service.163.org/nc/book/detail/${bookid}.html",photo:"http://nc.hz.service.163.org/nc/photo/api/set/${cid}/${sid}.json",shortvideo:"http://nc.hz.service.163.org/nc/video/detail/${vid}.html",live:"http://live.service.163.org/liveAll/${roomid}.json",special:"http://nc.service.163.org/nc/special/${sid}.html",videoList:"http://nc.hz.service.163.org/nc/video/list/VBJ4L28O7/n/0-7.html",subscribe:"http://cm.user.service.163.org/api/v1/commons/user/profile/subscribe/home?tid=${subid}&sign=${sign}&ts=${ts}&ua=NewsApp/103.0%20iOS/13.1.2%20(iPhone11,8)",category:"http://nc.hz.service.163.org/nc/article/static/list/${tid}/${page}-100.html",short:"http://nc.hz.service.163.org/nc/shortnews/${id}/full.html",important:"http://c.m.163.com/dlist/article/dynamic?from=T1501473317216&offset=0&size=10&fn=1&LastStdTime=0&passport=&devId=&open=&openpath=",pineappleVideos:"http://boluo.m.163.com/pa/api/reflux/video/list",popularNews:"http://gw.m.163.com/nc-main/api/v1/hqc/no-repeat-hot-list",hotSearchWords:"http://c.m.163.com/nc/search/hotWord.html",relativeArticle:"http://c.m.163.com/news/relativeArticle/${docid}",allFocus:"http://newswap.service.163.org/touch/nc/api/article/relate/v3?docid=${docid}&from=backflow",commentNum:"http://gw.comment.service.163.org/batapi/v1/products/a2869674571f77b5a0867c3d71db5856/thread/app/summary/${docid}?ibc=newsappios",question:"http://gw.m.163.com/nc-reader/api/v1/question/detail?questionId=${questionId}&ua=NewsApp/54.0 iOS/11.4.1 (iPhone7,2)",longans:"http://gw.m.163.com/nc-reader/api/v1/answer/longtext/detail?questionId=${questionId}&docid=${docid}",hotAnswers:"http://nc.hz.service.163.org/reader/internal/question/hot/questions",hotNewsWords:"http://nos-i.netease.com/crawl/tt_hot_words",termNewsWords:"http://nos-i.netease.com/crawl/tt_term_content",activeNewsKeywords:"http://active.163.com/service/form/v1/13248/list.json?page=${pageNo}&pageSize=${pageSize}",hotNewsWordsNewsList:"http://bjrec.service.163.org/flow/common/search/text.jsonp?query_text=${keyword}&limit=${limit}&cursor=&from=SEM_BAIDU&ts=1471070364000&sign=ZINCAge193qeMD6w63ciXVCWbMqKMj9luZNaFRq245948ErR02zJ6/KXOnxX046I&ns=0320&origin=${origin}",hotNewsCombine:"http://nc.hz.service.163.org/fe/api/hot/news/combine",subscribeList:"http://nc.hz.service.163.org/nc/subscribe/list/${tid}/${type}/0-20.html?w=${w}&sign=${sign}",subscribeAllList:"http://nc.hz.service.163.org/nc/subscribe/list/${tid}/all/0-20.html?w=${w}&sign=${sign}",subscribeDocList:"http://nc.hz.service.163.org/nc/subscribe/list/${tid}/doc/0-20.html?w=${w}&sign=${sign}",getActivityInfo:"http://nc.hz.service.163.org/ug/back-api/videomoney/system-status",longTailWord:"http://cpl.ws.netease.com/long-tail-word.json?keywords=${keywords}&_=${timeStamp}&sign=${sign}&size=6",incrementContent:"http://nc.hz.service.163.org/fe/api/seo/news/increment",seoHotkeyword:"http://nc.hz.service.163.org/fe/api/doc/keywords?id=${docid}",topic:"http://nc.hz.service.163.org/new-topic/api/v2/topic/home?topicId=${topicId}",indexList:"http://newswap.service.163.org/touch/api/pagedata/index_yaowen",ambitus:"http://gw.m.163.com/nc-reader/api/v1/ambitus/h5/detail?contentId=${contentId}",ambitusCommentList:"http://gw.m.163.com/gentie-web/api/v1/ambitus/comment/list?contentId=${contentId}&offset=0&count=10",commentClient:"https://v6-gw.m.163.com/gentie-web/api/v2/products/a2869674571f77b5a0867c3d71db5856/threads/${docid}/app/comments/detail?format=building&headLimit=3&ibc=wap3g&cursor=0&limit=10&group=hotlist_A&tailLimit=2&showLevelThreshold=5&topCommentId=${topCommentId}&from=h5",comment:"https://comment.api.163.com/api/v1/products/a2869674571f77b5a0867c3d71db5856/threads/${docid}/app/comments/hotList",newComment:"https://comment.api.163.com/api/v1/products/a2869674571f77b5a0867c3d71db5856/threads/${docid}/app/comments/hotList?group=hotlist_A",commentCount:"https://comment.api.163.com/api/v1/products/a2869674571f77b5a0867c3d71db5856/threads/${docid}?ibc=newswap",hotRank:"https://gw.m.163.com/search/api/v1/hot_search",hotNews:"https://gw.m.163.com/nc-main/api/v1/hqc/no-repeat-hot-list",pushContent:"https://c.m.163.com/fe/api/topcontent/backflow",readerInfo:"https://c.m.163.com/reader/api/recommend/viewpoints?docid=${id}&ua=NewsApp/46.0%20iOS/11.4.1%20(iPhone7,2)",lecture:"http://gw.m.163.com/nc-reader/api/v1/lecture/detail?lectureId=${lectureId}",paidHome:"http://nc.hz.service.163.org/nc/api/v1/paid-collect/home?paidCollectId=${paidCollectId}",paidList:"http://nc.hz.service.163.org/nc/api/v1/paid-collect/content/list?paidCollectId=${paidCollectId}&orderby=1&size=50&offset=0",audioBook:"http://nc.hz.service.163.org/nc/api/v1/paid-audio/h5-detail?id=${audioBookId}",subscribeDynamicTab:"http://nc.hz.service.163.org/reader/api/recommend/list/v3?status=2&userId=${userId}&from=H5&userAgent=NewsApp/80.0"},i={topicSpecial:"http://c.m.163.com/nc/article/list/${id}/0-20.html",motif:"http://c.m.163.com/reader/api/motif/h5/home?motifId=${motifId}",reader:"http://c.m.163.com/reader/api/recommend/h5/detail?recommendId=${recommendID}&questionId=${questionId}&&ua=NewsApp/94.0 iOS/11.4.1 (iPhone7,2)",videoAlbum:"http://c.m.163.com/recommend/video/videoAlbum?albumId=${albumid}",article:"http://c.m.163.com/nc/article/${docid}/full.html?from=local",joke:"http://c.m.163.com/nc/article/${docid}/full.html",book:"http://c.m.163.com/nc/book/detail/${bookid}.html",photo:"http://c.m.163.com/photo/api/set/${cid}/${sid}.json",shortvideo:"http://c.m.163.com/nc/video/detail/${vid}.html",live:"http://data.live.126.net/liveAll/${roomid}.json",special:"http://c.m.163.com/nc/special/${sid}.html",videoList:"http://c.m.163.com/nc/video/list/VBJ4L28O7/n/0-7.html",subscribe:"http://gw.m.163.com/commons-user-main/api/v1/commons/user/profile/subscribe/home?tid=${subid}&sign=${sign}&ts=${ts}&ua=NewsApp/103.0%20iOS/13.1.2%20(iPhone11,8)",category:"http://c.m.163.com/nc/article/list/${tid}/${page}-100.html",short:"http://c.m.163.com/nc/shortnews/${id}/full.html",important:"http://c.m.163.com/dlist/article/dynamic?from=T1501473317216&offset=0&size=10&fn=1&LastStdTime=0&passport=&devId=&open=&openpath=",pineappleVideos:"http://boluo.m.163.com/pa/api/reflux/video/list",popularNews:"http://gw.m.163.com/nc-main/api/v1/hqc/no-repeat-hot-list",hotSearchWords:"http://c.m.163.com/nc/search/hotWord.html",relativeArticle:"http://c.m.163.com/news/relativeArticle/${docid}",allFocus:"https://m.163.com/touch/nc/api/article/relate/v3?docid=${docid}&from=backflow",commentNum:"http://comment.api.163.com/batapi/v1/products/a2869674571f77b5a0867c3d71db5856/thread/app/summary/${docid}?ibc=newsappios",longans:"http://gw.m.163.com/nc-reader/api/v1/answer/longtext/detail?questionId=${questionId}&docid=${docid}",question:"http://gw.m.163.com/nc-reader/api/v1/question/detail?questionId=${questionId}&ua=NewsApp/54.0 iOS/11.4.1 (iPhone7,2)",hotAnswers:"http://nc.hz.service.163.org/reader/internal/question/hot/questions",hotNewsWords:"http://nos-i.netease.com/crawl/tt_hot_words",termNewsWords:"http://nos-i.netease.com/crawl/tt_term_content",activeNewsKeywords:"http://active.163.com/service/form/v1/13248/list.json?page=${pageNo}&pageSize=${pageSize}",hotNewsWordsNewsList:"http://bjrec.m.163.com/flow/common/search/text.jsonp?query_text=${keyword}&limit=${limit}&cursor=&from=SEM_BAIDU&ts=1471070364000&sign=ZINCAge193qeMD6w63ciXVCWbMqKMj9luZNaFRq245948ErR02zJ6/KXOnxX046I&ns=0320&origin=${origin}",hotNewsCombine:"https://c.m.163.com/fe/api/hot/news/combine",subscribeList:"http://c.m.163.com/nc/subscribe/list/${tid}/${type}/0-20.html?w=${w}&sign=${sign}",subscribeAllList:"http://c.m.163.com/nc/subscribe/list/${tid}/all/0-20.html?w=${w}&sign=${sign}",subscribeDocList:"http://c.m.163.com/nc/subscribe/list/${tid}/doc/0-20.html?w=${w}&sign=${sign}",getActivityInfo:"http://nc.hz.service.163.org/ug/back-api/videomoney/system-status",longTailWord:"http://cpl.ws.netease.com/long-tail-word.json?keywords=${keywords}&_=${timeStamp}&sign=${sign}&size=6",incrementContent:"http://c.m.163.com/fe/api/seo/news/increment",seoHotkeyword:"http://c.m.163.com/fe/api/doc/keywords?id=${docid}",topic:"https://gw.m.163.com/nc/api/v2/topic/home?topicId=${topicId}",indexList:"http://m.163.com/touch/api/pagedata/index_yaowen",ambitus:"http://gw.m.163.com/nc-reader/api/v1/ambitus/h5/detail?contentId=${contentId}",ambitusCommentList:"http://gw.m.163.com/gentie-web/api/v1/ambitus/comment/list?contentId=${contentId}&offset=0&count=10",commentClient:"https://v6-gw.m.163.com/gentie-web/api/v2/products/a2869674571f77b5a0867c3d71db5856/threads/${docid}/app/comments/detail?format=building&headLimit=3&ibc=wap3g&cursor=0&limit=10&group=hotlist_A&tailLimit=2&showLevelThreshold=5&topCommentId=${topCommentId}&from=h5",comment:"https://comment.api.163.com/api/v1/products/a2869674571f77b5a0867c3d71db5856/threads/${docid}/app/comments/hotList",newComment:"https://comment.api.163.com/api/v1/products/a2869674571f77b5a0867c3d71db5856/threads/${docid}/app/comments/hotList?group=hotlist_A",commentCount:"https://comment.api.163.com/api/v1/products/a2869674571f77b5a0867c3d71db5856/threads/${docid}?ibc=newswap",hotRank:"https://gw.m.163.com/search/api/v1/hot_search",hotNews:"https://gw.m.163.com/nc-main/api/v1/hqc/no-repeat-hot-list",pushContent:"https://c.m.163.com/fe/api/topcontent/backflow",readerInfo:"https://c.m.163.com/reader/api/recommend/viewpoints?docid=${id}&ua=NewsApp/46.0%20iOS/11.4.1%20(iPhone7,2)",lecture:"http://gw.m.163.com/nc-reader/api/v1/lecture/detail?lectureId=${lectureId}",paidHome:"http://gw.m.163.com/nc/api/v1/paid-collect/home?paidCollectId=${paidCollectId}",paidList:"http://gw.m.163.com/nc/api/v1/paid-collect/content/list?paidCollectId=${paidCollectId}&orderby=1&size=50&offset=0",audioBook:"http://gw.m.163.com/nc/api/v1/paid-audio/h5-detail?id=${audioBookId}",subscribeDynamicTab:"https://c.m.163.com/reader/api/recommend/list/v3?status=2&userId=${userId}&from=H5&userAgent=NewsApp/80.0",communitySubHome:"/community/api/v1/user/profile/h5/home?userId=${userId}",communitySubList:"/community/api/v1/ugc/list"};r.communitySubHome=i.communitySubHome="http://community-test.m.163.com/community/api/v1/user/profile/h5/home?userId=${subid}",r.communitySubList=i.communitySubList="https://community-test.m.163.com/community/api/v1/ugc/list?userId=${subid}&status=2&from=homePage",r.communityMotif=i.communityMotif="http://community-test.m.163.com/community/api/v1/motif/h5/home?motifId=${motifId}",r.communityChat=i.communityChat="http://community-test.m.163.com/community/api/v1/nc/chat/group/shareInfo?groupId=${chatId}",r.communityUgc=i.communityUgc="http://community-test.m.163.com/community/api/v1/ugc/h5/detail?recommendId=${recommendID}",r.communitySubHome=i.communitySubHome="http://community.m.163.com/community/api/v1/user/profile/h5/home?userId=${subid}",r.communitySubList=i.communitySubList="https://community.m.163.com/community/api/v1/ugc/list?userId=${subid}&status=2&from=homePage",r.communityMotif=i.communityMotif="http://community.m.163.com/community/api/v1/motif/h5/home?motifId=${motifId}",r.communityChat=i.communityChat="http://community.m.163.com/community/api/v1/nc/chat/group/shareInfo?groupId=${chatId}",r.communityUgc=i.communityUgc="http://community.m.163.com/community/api/v1/ugc/h5/detail?recommendId=${recommendID}",r.communityTopic=i.communityTopic="http://community.m.163.com/community/api/v1/ugc/topic/home?topicId=${topicId}",t.exports={fallbackInterfaces:i,port:3001,interfaces:r}},function(t,e,n){var r=n(13);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,n){var r=n(119),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},function(t,e,n){"use strict";var r=n(4);t.exports=function(t,e){return!!t&&r((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},function(t,e,n){var r=n(325)("wks"),i=n(326),o=n(27).Symbol,s="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=s&&o[t]||(s?o:i)("Symbol."+t))}).store=r},,function(t,e,n){var r=n(22);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},function(t,e,n){var r=n(42);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(103),i=n(63),o=n(33),s=n(57),a=n(31),c=n(258),l=Object.getOwnPropertyDescriptor;e.f=n(17)?l:function(t,e){if(t=o(t),e=s(e,!0),c)try{return l(t,e)}catch(t){}if(a(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(1),i=n(14),o=n(4);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],s={};s[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",s)}},function(t,e,n){var r=n(41),i=n(102),o=n(23),s=n(8),a=n(274);t.exports=function(t,e){var n=1==t,c=2==t,l=3==t,u=4==t,d=6==t,h=5==t||d,f=e||a;return function(e,a,p){for(var g,m,v=o(e),y=i(v),b=r(a,p,3),w=s(y.length),_=0,E=n?f(e,w):c?f(e,0):void 0;w>_;_++)if((h||_ in y)&&(m=b(g=y[_],_,v),t))if(n)E[_]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return _;case 2:E.push(g)}else if(u)return!1;return d?-1:l||u?u:E}}},function(t,e){var n=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(152),i=n(97);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(10);t.exports=r({}.isPrototypeOf)},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";if(n(17)){var r=n(65),i=n(3),o=n(4),s=n(1),a=n(139),c=n(193),l=n(41),u=n(90),d=n(63),h=n(32),f=n(91),p=n(43),g=n(8),m=n(285),v=n(67),y=n(57),b=n(31),w=n(104),_=n(6),E=n(23),S=n(185),A=n(68),T=n(70),x=n(69).f,k=n(187),C=n(64),R=n(7),L=n(46),I=n(129),O=n(105),D=n(189),M=n(88),N=n(132),P=n(89),F=n(188),B=n(276),U=n(18),$=n(44),j=U.f,G=$.f,H=i.RangeError,K=i.TypeError,V=i.Uint8Array,q=Array.prototype,z=c.ArrayBuffer,W=c.DataView,Y=L(0),X=L(2),Q=L(3),J=L(4),Z=L(5),tt=L(6),et=I(!0),nt=I(!1),rt=D.values,it=D.keys,ot=D.entries,st=q.lastIndexOf,at=q.reduce,ct=q.reduceRight,lt=q.join,ut=q.sort,dt=q.slice,ht=q.toString,ft=q.toLocaleString,pt=R("iterator"),gt=R("toStringTag"),mt=C("typed_constructor"),vt=C("def_constructor"),yt=a.CONSTR,bt=a.TYPED,wt=a.VIEW,_t=L(1,(function(t,e){return xt(O(t,t[vt]),e)})),Et=o((function(){return 1===new V(new Uint16Array([1]).buffer)[0]})),St=!!V&&!!V.prototype.set&&o((function(){new V(1).set({})})),At=function(t,e){var n=p(t);if(n<0||n%e)throw H("Wrong offset!");return n},Tt=function(t){if(_(t)&&bt in t)return t;throw K(t+" is not a typed array!")},xt=function(t,e){if(!_(t)||!(mt in t))throw K("It is not a typed array constructor!");return new t(e)},kt=function(t,e){return Ct(O(t,t[vt]),e)},Ct=function(t,e){for(var n=0,r=e.length,i=xt(t,r);r>n;)i[n]=e[n++];return i},Rt=function(t,e,n){j(t,e,{get:function(){return this._d[n]}})},Lt=function(t){var e,n,r,i,o,s,a=E(t),c=arguments.length,u=c>1?arguments[1]:void 0,d=void 0!==u,h=k(a);if(null!=h&&!S(h)){for(s=h.call(a),r=[],e=0;!(o=s.next()).done;e++)r.push(o.value);a=r}for(d&&c>2&&(u=l(u,arguments[2],2)),e=0,n=g(a.length),i=xt(this,n);n>e;e++)i[e]=d?u(a[e],e):a[e];return i},It=function(){for(var t=0,e=arguments.length,n=xt(this,e);e>t;)n[t]=arguments[t++];return n},Ot=!!V&&o((function(){ft.call(new V(1))})),Dt=function(){return ft.apply(Ot?dt.call(Tt(this)):Tt(this),arguments)},Mt={copyWithin:function(t,e){return B.call(Tt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return J(Tt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return F.apply(Tt(this),arguments)},filter:function(t){return kt(this,X(Tt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return Z(Tt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Y(Tt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(Tt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return lt.apply(Tt(this),arguments)},lastIndexOf:function(t){return st.apply(Tt(this),arguments)},map:function(t){return _t(Tt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return at.apply(Tt(this),arguments)},reduceRight:function(t){return ct.apply(Tt(this),arguments)},reverse:function(){for(var t,e=Tt(this).length,n=Math.floor(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this},some:function(t){return Q(Tt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ut.call(Tt(this),t)},subarray:function(t,e){var n=Tt(this),r=n.length,i=v(t,r);return new(O(n,n[vt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,g((void 0===e?r:v(e,r))-i))}},Nt=function(t,e){return kt(this,dt.call(Tt(this),t,e))},Pt=function(t){Tt(this);var e=At(arguments[1],1),n=this.length,r=E(t),i=g(r.length),o=0;if(i+e>n)throw H("Wrong length!");for(;o<i;)this[e+o]=r[o++]},Ft={entries:function(){return ot.call(Tt(this))},keys:function(){return it.call(Tt(this))},values:function(){return rt.call(Tt(this))}},Bt=function(t,e){return _(t)&&t[bt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Ut=function(t,e){return Bt(t,e=y(e,!0))?d(2,t[e]):G(t,e)},$t=function(t,e,n){return!(Bt(t,e=y(e,!0))&&_(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?j(t,e,n):(t[e]=n.value,t)};yt||($.f=Ut,U.f=$t),s(s.S+s.F*!yt,"Object",{getOwnPropertyDescriptor:Ut,defineProperty:$t}),o((function(){ht.call({})}))&&(ht=ft=function(){return lt.call(this)});var jt=f({},Mt);f(jt,Ft),h(jt,pt,Ft.values),f(jt,{slice:Nt,set:Pt,constructor:function(){},toString:ht,toLocaleString:Dt}),Rt(jt,"buffer","b"),Rt(jt,"byteOffset","o"),Rt(jt,"byteLength","l"),Rt(jt,"length","e"),j(jt,gt,{get:function(){return this[bt]}}),t.exports=function(t,e,n,c){var l=t+((c=!!c)?"Clamped":"")+"Array",d="get"+t,f="set"+t,p=i[l],v=p||{},y=p&&T(p),b=!p||!a.ABV,E={},S=p&&p.prototype,k=function(t,n){j(t,n,{get:function(){return function(t,n){var r=t._d;return r.v[d](n*e+r.o,Et)}(this,n)},set:function(t){return function(t,n,r){var i=t._d;c&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[f](n*e+i.o,r,Et)}(this,n,t)},enumerable:!0})};b?(p=n((function(t,n,r,i){u(t,p,l,"_d");var o,s,a,c,d=0,f=0;if(_(n)){if(!(n instanceof z||"ArrayBuffer"==(c=w(n))||"SharedArrayBuffer"==c))return bt in n?Ct(p,n):Lt.call(p,n);o=n,f=At(r,e);var v=n.byteLength;if(void 0===i){if(v%e)throw H("Wrong length!");if((s=v-f)<0)throw H("Wrong length!")}else if((s=g(i)*e)+f>v)throw H("Wrong length!");a=s/e}else a=m(n),o=new z(s=a*e);for(h(t,"_d",{b:o,o:f,l:s,e:a,v:new W(o)});d<a;)k(t,d++)})),S=p.prototype=A(jt),h(S,"constructor",p)):o((function(){p(1)}))&&o((function(){new p(-1)}))&&N((function(t){new p,new p(null),new p(1.5),new p(t)}),!0)||(p=n((function(t,n,r,i){var o;return u(t,p,l),_(n)?n instanceof z||"ArrayBuffer"==(o=w(n))||"SharedArrayBuffer"==o?void 0!==i?new v(n,At(r,e),i):void 0!==r?new v(n,At(r,e)):new v(n):bt in n?Ct(p,n):Lt.call(p,n):new v(m(n))})),Y(y!==Function.prototype?x(v).concat(x(y)):x(v),(function(t){t in p||h(p,t,v[t])})),p.prototype=S,r||(S.constructor=p));var C=S[pt],R=!!C&&("values"==C.name||null==C.name),L=Ft.values;h(p,mt,!0),h(S,bt,l),h(S,wt,!0),h(S,vt,p),(c?new p(1)[gt]==l:gt in S)||j(S,gt,{get:function(){return l}}),E[l]=p,s(s.G+s.W+s.F*(p!=v),E),s(s.S,l,{BYTES_PER_ELEMENT:e}),s(s.S+s.F*o((function(){v.of.call(p,1)})),l,{from:Lt,of:It}),"BYTES_PER_ELEMENT"in S||h(S,"BYTES_PER_ELEMENT",e),s(s.P,l,Mt),P(l),s(s.P+s.F*St,l,{set:Pt}),s(s.P+s.F*!R,l,Ft),r||S.toString==ht||(S.toString=ht),s(s.P+s.F*o((function(){new p(1).slice()})),l,{slice:Nt}),s(s.P+s.F*(o((function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()}))||!o((function(){S.toLocaleString.call([1,2])}))),l,{toLocaleString:Dt}),M[l]=R?C:L,r||R||h(S,pt,L)}}else t.exports=function(){}},function(t,e,n){var r=n(29),i=n(2),o=n(22),s=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?s(r[t])||s(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},function(t,e,n){var r=n(2),i=n(97),o=r.Object;t.exports=function(t){return o(i(t))}},function(t,e,n){var r=n(2),i=n(35),o=n(228),s=n(230),a=n(56),c=n(120),l=r.TypeError,u=Object.defineProperty,d=Object.getOwnPropertyDescriptor;e.f=i?s?function(t,e,n){if(a(t),e=c(e),a(n),"function"==typeof t&&"prototype"===e&&"value"in n&&"writable"in n&&!n.writable){var r=d(t,e);r&&r.writable&&(t[e]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return u(t,e,n)}:u:function(t,e,n){if(a(t),e=c(e),a(n),o)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(2),i=n(40),o=r.String,s=r.TypeError;t.exports=function(t){if(i(t))return t;throw s(o(t)+" is not an object")}},function(t,e,n){var r=n(6);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(64)("meta"),i=n(6),o=n(31),s=n(18).f,a=0,c=Object.isExtensible||function(){return!0},l=!n(4)((function(){return c(Object.preventExtensions({}))})),u=function(t){s(t,r,{value:{i:"O"+ ++a,w:{}}})},d=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!c(t))return"F";if(!e)return"E";u(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!c(t))return!0;if(!e)return!1;u(t)}return t[r].w},onFreeze:function(t){return l&&d.NEED&&c(t)&&!o(t,r)&&u(t),t}}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(233);t.exports=function(t){return r(t.length)}},function(t,e,n){var r=n(29);t.exports=function(t){return r[t+"Prototype"]}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports=!1},function(t,e,n){var r=n(260),i=n(172);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(43),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(5),i=n(261),o=n(172),s=n(171)("IE_PROTO"),a=function(){},c=function(){var t,e=n(169)("iframe"),r=o.length;for(e.style.display="none",n(173).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;r--;)delete c.prototype[o[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=r(t),n=new a,a.prototype=null,n[s]=t):n=c(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(260),i=n(172).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(31),i=n(23),o=n(171)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){var r=n(7)("unscopables"),i=Array.prototype;null==i[r]&&n(32)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){var r=n(6);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){var r=n(27),i=n(47),o=n(140),s=n(92),a=n(142),c=function(t,e,n){var l,u,d,h=t&c.F,f=t&c.G,p=t&c.S,g=t&c.P,m=t&c.B,v=t&c.W,y=f?i:i[e]||(i[e]={}),b=y.prototype,w=f?r:p?r[e]:(r[e]||{}).prototype;for(l in f&&(n=e),n)(u=!h&&w&&void 0!==w[l])&&a(y,l)||(d=u?w[l]:n[l],y[l]=f&&"function"!=typeof w[l]?n[l]:m&&u?o(d,r):v&&w[l]==d?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(d):g&&"function"==typeof d?o(Function.call,d):d,g&&((y.virtual||(y.virtual={}))[l]=d,t&c.R&&b&&!b[l]&&s(b,l,d)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){var r=n(107);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(195)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){let n;const r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];e.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},e.getSymbolTotalCodewords=function(t){return r[t]},e.getBCHDigit=function(t){let e=0;for(;0!==t;)e++,t>>>=1;return e},e.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');n=t},e.isKanjiModeEnabled=function(){return void 0!==n},e.toSJIS=function(t){return n(t)}},function(t,e,n){const r=n(358),i=n(359);e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!r.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return i.testNumeric(t)?e.NUMERIC:i.testAlphanumeric(t)?e.ALPHANUMERIC:i.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(t){return n}}},function(t,e,n){t.exports=n(533)},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));var r=function(t){return function(e){return t===Object.prototype.toString.call(e).slice(8,-1)}},i=r("Object"),o=(r("Function"),r("Array"));r("String"),r("Null")},function(t,e,n){"use strict";var r=n(20);function i(t,e,n,r,i){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}r.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var o=i.prototype,s={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(t){s[t]={value:t}})),Object.defineProperties(i,s),Object.defineProperty(o,"isAxiosError",{value:!0}),i.from=function(t,e,n,s,a,c){var l=Object.create(o);return r.toFlatObject(t,l,(function(t){return t!==Error.prototype})),i.call(l,t.message,e,n,s,a),l.name=t.name,c&&Object.assign(l,c),l},t.exports=i},function(t,e,n){var r=n(153),i=n(13);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(t,e){t.exports=!0},function(t,e,n){var r=n(35),i=n(55),o=n(95);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(2),i=n(100),o=r.String;t.exports=function(t){if("Symbol"===i(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},function(t,e){t.exports={}},function(t,e,n){var r=n(18).f,i=n(31),o=n(7)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(1),i=n(51),o=n(4),s=n(175),a="["+s+"]",c=RegExp("^"+a+a+"*"),l=RegExp(a+a+"*$"),u=function(t,e,n){var i={},a=o((function(){return!!s[t]()||"​"!="​"[t]()})),c=i[t]=a?e(d):s[t];n&&(i[n]=c),r(r.P+r.F*a,"String",i)},d=u.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(l,"")),t};t.exports=u},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(3),i=n(18),o=n(17),s=n(7)("species");t.exports=function(t){var e=r[t];o&&e&&!e[s]&&i.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(25);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){var r=n(106),i=n(289);t.exports=n(75)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";var r=n(9);Object.defineProperty(e,"__esModule",{value:!0}),e.parseADData=e.parseAdType=e.parseCodeAdData=e.filterAd=void 0;var i=n(205),o=n(831),s=n(28),a=r(n(24)),c=r(n(111)),l=n(112);e.filterAd=function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.specialHideAd,i=window.isHideCodeAd||a.default.uaMatch.isMiniprogram;if((0,s.isArray)(t)){n=t.filter((function(t){return!(t&&"codeAD"===(t.type||t.style)&&i)})),r&&(n=[]);var o=n;(0,s.isArray)(e)&&e.length>=o.length&&(o=[],e.forEach((function(e,r){var i=n[r];o.push(i||{type:"adEmpty",abTest:a.default.hasAbTest(t[r]||{})?(t[r]||{}).abTest:"",position:e,adid:"empty-a-d-".concat((t[r]?"filter-":"")+e)})}))),n=o}return(0,s.isObject)(t)&&(n="codeAD"===(t.type||t.style)&&i||r?null:n),n};var u=function(t){var e=["tpl","snippet","src"].reduce((function(t,e){return t[e]=[],t}),{});try{var n=document.createElement("div");n.innerHTML=t.htmlResource||t.code_info,Array.prototype.slice.call(n.getElementsByTagName("script")).forEach((function(t){if(t.attributes.src){var n={};Object.keys(t.attributes).forEach((function(e){var r=t.attributes[e];n[r.name||r.nodeName]=r.value||r.nodeValue})),e.src.push(n)}else e.snippet.push(t.innerText)})),Array.prototype.slice.call(n.children).forEach((function(t){/script/i.test(t.nodeName)||e.tpl.push(t.outerHTML)}))}catch(e){console.log("parse:code:ad:res",e,t)}return e};e.parseCodeAdData=u;var d=function(t){var e=t.htmlResource||t.code_info,n=/^yt[-_]/.test(t.adid)?"A":"B";return"codeAD"===t.style&&(n=/cpro\.baidustatic\.com/.test(e)?"D":"C"),n};e.parseAdType=d;e.parseADData=function(t){var e=(0,o.clone)(t);if(e&&!e.____)try{var n=t.htmlResource||t.code_info;(e=Object.assign(e,{____:!0,params:1==+t.params?"openUserId=${uuid}&ntesChannel=${val_nm}&ct=${ct}&referer=${_REFER_VAL}":t.params||"",abTest:(0,s.isArray)(t.abTest)?t.abTest:(0,s.isUndefined)(t.abTest)?"":t.abTest+"",adType:t.adType||d(e),adPosition:"".concat(t.position||0),position:"".concat(t.position||0),location:"".concat(t.location),docid:"".concat(t.adid||t.adId,"-").concat(i.char.s4()),priority:"",uuid:"",ptime:"",title:t.title||"",digest:t.digest||t.desc||"",link:((t.relatedActionLinks||{}).landing_page||[])[0]||t.link||t.href||n,type:t.style||t.type,source:t.source||"",sourceID:"",articleID:"",impression:"",pic_info:t.resources&&t.resources.image&&t.resources.image.map((function(t){return{width:"",height:"",url:t.url}})),imgSrc:t.imgsrc||t.imgSrc||"",icon:t.icon||"",viewport_info:"",prevent:"",htmlResource:n})).eventTypes=Object.assign({},e.eventTypes,c.default.MONITOR),e.sendMonitorRequest=function(t){(0,s.isArray)(e.monitor)&&e.monitor.filter((function(e){return e.action===t})).map((function(t){return t.url})).forEach((function(t){(0,l.send)(t)}))},e.codeADData="codeAD"===e.type?u(e):null}catch(t){console.log(t)}return e||{}}},function(t,e,n){t.exports=n(555)},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(10),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},function(t,e,n){var r=n(2).TypeError;t.exports=function(t){if(null==t)throw r("Can't call method on "+t);return t}},function(t,e,n){var r=n(82),i=n(157);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.22.5",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.5/LICENSE",source:"https://github.com/zloirock/core-js"})},function(t,e,n){var r=n(96);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(2),i=n(164),o=n(22),s=n(96),a=n(16)("toStringTag"),c=r.Object,l="Arguments"==s(function(){return arguments}());t.exports=i?s:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=c(t),a))?n:l?s(e):"Object"==(r=s(e))&&o(e.callee)?"Arguments":r}},function(t,e,n){var r=n(164),i=n(55).f,o=n(83),s=n(30),a=n(462),c=n(16)("toStringTag");t.exports=function(t,e,n,l){if(t){var u=n?t:t.prototype;s(u,c)||i(u,c,{configurable:!0,value:e}),l&&!r&&o(u,"toString",a)}}},function(t,e,n){var r=n(50);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(50),i=n(7)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var r=n(5),i=n(42),o=n(7)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||null==(n=r(s)[o])?e:i(n)}},function(t,e,n){var r=n(74),i=n(739),o=n(740),s=Object.defineProperty;e.f=n(75)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={APP:"314EA67F",MONITOR:{show:0,click:1,play_start:2,play_pause:3,play_end:4,download:5,video_quit_interval:6,skip_interval:7,click_detail:8,seen:9,continue:10,close:19,exposure_interval:32},RESOURCE_TYPE:{0:"image",1:"video",2:"gif"},CHANNEL_TYPE:["other","toutiao","baidu","wechat","uc","qqBrowser"]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.elementIsVisible=e.removeCbFromEle=e.send=e.getApiHost=void 0;var r=n(28);e.getApiHost=function(){var t=window.location.href,e="//nex.163.com",n="//zxb.3g.163.com",r="//3g.163.com/zxbad";return/(dev|pre)\./.test(t)&&(e="//test.nex.163.com",n="//t.c.m.163.com",r="//t.c.m.163.com"),/adOnline=1/.test(t)&&(e="//nex.163.com",n="//zxb.3g.163.com",r="//3g.163.com/zxbad"),{nex:e,zxb:n,zxbad:r}};e.send=function(t){if(/^https:/.test(location.href)&&/^https:/.test(t)){var e=document.createElement("script");return e.onload=e.onerror=function(){e.parentNode&&e.parentNode.removeChild(e),e=void 0},e.src=t,void document.body.appendChild(e)}var n=new Image;n.onload=n.onerror=function(){n=null},n.src=t};e.removeCbFromEle=function(t,e){var n=-1;t.some((function(t,i){return(0,r.isObject)(t)&&t.cb===e||t===e?(n=i,!0):void 0})),t.splice(n,1)};e.elementIsVisible=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.getBoundingClientRect(),r=n.top,i=n.left,o=n.bottom,s=n.right,a=window,c=a.innerHeight,l=a.innerWidth;return e?r>0&&r<c||o>0&&o<c||i>0&&i<l||s>0&&s<l:r>=0&&i>=0&&o<=c&&s<=l}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getUid=e.getUidAsync=void 0;var r=n(145),i=function(){return(window.location.href.match(/abTest=(\w)/)||["",""])[1]||((window.NTESAntAnalysis||{}).info||{}).uid||""};e.getUidAsync=i;e.getUid=function(){return new Promise((function(t){(0,r.isReady)((function(){t(i())}))}))}},function(t,e,n){"use strict";function r(t,e){var n=t||window.location.search,r=e||window.location.hash,i=function(t,e){var n={};return t?(t.replace(e,(function(t,e,r,i){n[e]=i})),n):null};return{search:i(n,new RegExp("([^?=&]+)(=([^&]*))?","g"))||{},hash:i(r,new RegExp("([^#=&]+)(=([^&]*))?","g"))||{}}}n.d(e,"a",(function(){return r}))},function(t,e,n){t.exports=n(551)},function(t,e,n){t.exports=n(254)},function(t,e,n){"use strict";var r=n(80);function i(t){r.call(this,null==t?"canceled":t,r.ERR_CANCELED),this.name="CanceledError"}n(20).inherits(i,r,{__CANCEL__:!0}),t.exports=i},function(t,e,n){var r=n(119),i=Function.prototype,o=i.apply,s=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?s.bind(o):function(){return s.apply(o,arguments)})},function(t,e,n){var r=n(13);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},function(t,e,n){var r=n(426),i=n(121);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},function(t,e,n){var r=n(2),i=n(53),o=n(22),s=n(49),a=n(227),c=r.Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return o(e)&&s(e.prototype,c(t))}},function(t,e,n){var r=n(231),i=n(161);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){var e=+t;return e!=e||0===e?0:(e>0?r:n)(e)}},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(120),i=n(55),o=n(95);t.exports=function(t,e,n){var s=r(e);s in t?i.f(t,s,o(0,n)):t[s]=n}},function(t,e,n){var r=n(98),i=n(158),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e,n){var r=n(83);t.exports=function(t,e,n,i){return i&&i.enumerable?t[e]=n:r(t,e,n),t}},function(t,e,n){var r=n(14),i=n(3),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(65)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(33),i=n(8),o=n(67);t.exports=function(t){return function(e,n,s){var a,c=r(e),l=i(c.length),u=o(s,l);if(t&&n!=n){for(;l>u;)if((a=c[u++])!=a)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(50);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(7)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},t(o)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(5);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r=n(104),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e,n){"use strict";n(278);var r=n(25),i=n(32),o=n(4),s=n(51),a=n(7),c=n(190),l=a("species"),u=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var h=a(t),f=!o((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),p=f?!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[l]=function(){return n}),n[h](""),!e})):void 0;if(!f||!p||"replace"===t&&!u||"split"===t&&!d){var g=/./[h],m=n(s,h,""[t],(function(t,e,n,r,i){return e.exec===c?f&&!i?{done:!0,value:g.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),v=m[0],y=m[1];r(String.prototype,t,v),i(RegExp.prototype,h,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},function(t,e,n){var r=n(41),i=n(273),o=n(185),s=n(5),a=n(8),c=n(187),l={},u={};(e=t.exports=function(t,e,n,d,h){var f,p,g,m,v=h?function(){return t}:c(t),y=r(n,d,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(f=a(t.length);f>b;b++)if((m=e?y(s(p=t[b])[0],p[1]):y(t[b]))===l||m===u)return m}else for(g=v.call(t);!(p=g.next()).done;)if((m=i(g,y,p.value,e))===l||m===u)return m}).BREAK=l,e.RETURN=u},function(t,e,n){var r=n(3).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){"use strict";var r=n(3),i=n(1),o=n(25),s=n(91),a=n(58),c=n(136),l=n(90),u=n(6),d=n(4),h=n(132),f=n(86),p=n(176);t.exports=function(t,e,n,g,m,v){var y=r[t],b=y,w=m?"set":"add",_=b&&b.prototype,E={},S=function(t){var e=_[t];o(_,t,"delete"==t||"has"==t?function(t){return!(v&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!u(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(v||_.forEach&&!d((function(){(new b).entries().next()})))){var A=new b,T=A[w](v?{}:-0,1)!=A,x=d((function(){A.has(1)})),k=h((function(t){new b(t)})),C=!v&&d((function(){for(var t=new b,e=5;e--;)t[w](e,e);return!t.has(-0)}));k||((b=e((function(e,n){l(e,b,t);var r=p(new y,e,b);return null!=n&&c(n,m,r[w],r),r}))).prototype=_,_.constructor=b),(x||C)&&(S("delete"),S("has"),m&&S("get")),(C||T)&&S(w),v&&_.clear&&delete _.clear}else b=g.getConstructor(e,t,m,w),s(b.prototype,n),a.NEED=!0;return f(b,t),E[t]=b,i(i.G+i.W+i.F*(b!=y),E),v||g.setStrong(b,t,m),b}},function(t,e,n){for(var r,i=n(3),o=n(32),s=n(64),a=s("typed_array"),c=s("view"),l=!(!i.ArrayBuffer||!i.DataView),u=l,d=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(r=i[h[d++]])?(o(r.prototype,a,!0),o(r.prototype,c,!0)):u=!1;t.exports={ABV:l,CONSTR:u,TYPED:a,VIEW:c}},function(t,e,n){var r=n(141);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){t.exports={default:n(775),__esModule:!0}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){"use strict";var r=n(9);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.AntAnalysis=e.isReady=void 0;var i=r(n(108)),o=r(n(109)),s=n(28),a=r(n(832)),c=function(t){var e=window.location.search;return(e.substring(e.indexOf("?")+1).match(new RegExp("(?:(?:^|&)".concat(t,"=)([^&]*)")))||["",""])[1]};e.isReady=function(t){window.NTESAntAnalysis?t():window.addEventListener("NTMReady",(function(){t()}))};var l=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{projectId:"",spsc:"",channelParamsName:[]};(0,i.default)(this,t),this.config=n,this.queue=[],this.config.channelParams={},this.config.channelParamsName.forEach((function(t){e.config.channelParams[t]=c(t)})),window.addEventListener("NTMReady",(function(){for(;e.queue.length;){var t=e.queue.shift();(0,s.isArray)(t)?e.postSend(t):e.send(t)}}))}return(0,o.default)(t,[{key:"send",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=t.event,r=void 0===n?"click":n,i=t.target,o=void 0===i?"":i,s=t.projectId,l=void 0===s?this.config.projectId:s,u=t.spsc,d=void 0===u?this.config.spsc:u,h=t.info,f=void 0===h?{}:h,p=t.sc,g=void 0===p?"":p,m=t.val_nm||r,v=t.val_act||o;if(d&&(f.spsc=d),e&&(!this.config.channelParams[e]&&(this.config.channelParams[e]=c(e)),this.config.channelParams[e]&&(f.spsc=this.config.channelParams[e])),window.NTESAntAnalysis){var y={projectid:l,val_nm:m,val_act:v,info:f};if(g&&(y.sc=g),this.config.isDebug)return a.default.adType(y),void console.log("ant:@newap/ad ==>\n",y);window.NTESAntAnalysis.sendData(y)}else this.queue.push(t)}},{key:"postSend",value:function(t){var e=this,n=((0,s.isArray)(t)?t:[]).map((function(t){return{projectid:t.projectId||e.config.projectId,val_nm:t.val_nm||t.event,val_act:t.val_act||t.target,info:t.info}}));if(window.NTESAntAnalysis){if(n.forEach((function(t){a.default.adType(t)})),this.config.isDebug)return void n.forEach((function(t){console.log("ant:@newap/ad ==>\n",t)}));window.NTESAntAnalysis.postData(n)}else this.queue.push(n)}}]),t}();e.AntAnalysis=l;var u=null;!u&&(u=new l({projectId:window.antProjectId||window.projectId||"NTM-5AE0KFYY-2",isDebug:/(dev|pre)\./.test(window.location.href)&&1!=+c("offAntDebug"),spsc:"",prefix:"",channelParamsName:["frChannel"]}));var d=u;e.default=d},function(t,e,n){t.exports=n(423)},function(t,e,n){t.exports=n(436)},function(t,e,n){t.exports=n(539)},function(t,e,n){"use strict";(function(e){var r=n(20),i=n(400),o=n(80),s=n(219),a=n(220),c={"Content-Type":"application/x-www-form-urlencoded"};function l(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var u,d={transitional:s,adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e&&"[object process]"===Object.prototype.toString.call(e))&&(u=n(221)),u),transformRequest:[function(t,e){if(i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t))return t;if(r.isArrayBufferView(t))return t.buffer;if(r.isURLSearchParams(t))return l(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var n,o=r.isObject(t),s=e&&e["Content-Type"];if((n=r.isFileList(t))||o&&"multipart/form-data"===s){var c=this.env&&this.env.FormData;return a(n?{"files[]":t}:t,c&&new c)}return o||"application/json"===s?(l(e,"application/json"),function(t,e,n){if(r.isString(t))try{return(e||JSON.parse)(t),r.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||d.transitional,n=e&&e.silentJSONParsing,i=e&&e.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||i&&r.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(s){if("SyntaxError"===t.name)throw o.from(t,o.ERR_BAD_RESPONSE,this,null,this.response);throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(412)},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(t){d.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){d.headers[t]=r.merge(c)})),t.exports=d}).call(this,n(218))},function(t,e,n){var r=n(35),i=n(36),o=n(151),s=n(95),a=n(48),c=n(120),l=n(30),u=n(228),d=Object.getOwnPropertyDescriptor;e.f=r?d:function(t,e){if(t=a(t),e=c(e),u)try{return d(t,e)}catch(t){}if(l(t,e))return s(!i(o.f,t,e),t[e])}},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(2),i=n(10),o=n(13),s=n(96),a=r.Object,c=i("".split);t.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==s(t)?c(t,""):a(t)}:a},function(t,e,n){var r,i,o=n(2),s=n(427),a=o.process,c=o.Deno,l=a&&a.versions||c&&c.version,u=l&&l.v8;u&&(i=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=+r[1]),t.exports=i},function(t,e,n){var r=n(155);t.exports=function(t,e){var n=t[e];return null==n?void 0:r(n)}},function(t,e,n){var r=n(2),i=n(22),o=n(156),s=r.TypeError;t.exports=function(t){if(i(t))return t;throw s(o(t)+" is not a function")}},function(t,e,n){var r=n(2).String;t.exports=function(t){try{return r(t)}catch(t){return"Object"}}},function(t,e,n){var r=n(2),i=n(429),o=r["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=o},function(t,e,n){var r=n(10),i=0,o=Math.random(),s=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++i+o,36)}},function(t,e,n){var r=n(10),i=n(155),o=n(119),s=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?s(t,e):function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(123),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(10),i=n(13),o=n(22),s=n(100),a=n(53),c=n(236),l=function(){},u=[],d=a("Reflect","construct"),h=/^\s*(?:class|function)\b/,f=r(h.exec),p=!h.exec(l),g=function(t){if(!o(t))return!1;try{return d(l,u,t),!0}catch(t){return!1}},m=function(t){if(!o(t))return!1;switch(s(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(h,c(t))}catch(t){return!0}};m.sham=!0,t.exports=!d||i((function(){var t;return g(g.call)||!g(Object)||!g((function(){t=!0}))||t}))?m:g},function(t,e,n){var r={};r[n(16)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){var r=n(13),i=n(16),o=n(153),s=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[];return(e.constructor={})[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,n){var r,i=n(56),o=n(239),s=n(161),a=n(124),c=n(460),l=n(229),u=n(126),d=u("IE_PROTO"),h=function(){},f=function(t){return"<script>"+t+"<\/script>"},p=function(t){t.write(f("")),t.close();var e=t.parentWindow.Object;return t=null,e},g=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e;g="undefined"!=typeof document?document.domain&&r?p(r):((e=l("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(f("document.F=Object")),t.close(),t.F):p(r);for(var n=s.length;n--;)delete g.prototype[s[n]];return g()};a[d]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(h.prototype=i(t),n=new h,h.prototype=null,n[d]=t):n=g(),void 0===e?n:o.f(n,e)}},function(t,e,n){var r,i,o,s=n(463),a=n(2),c=n(10),l=n(40),u=n(83),d=n(30),h=n(157),f=n(126),p=n(124),g=a.TypeError,m=a.WeakMap;if(s||h.state){var v=h.state||(h.state=new m),y=c(v.get),b=c(v.has),w=c(v.set);r=function(t,e){if(b(v,t))throw new g("Object already initialized");return e.facade=t,w(v,t,e),e},i=function(t){return y(v,t)||{}},o=function(t){return b(v,t)}}else{var _=f("state");p[_]=!0,r=function(t,e){if(d(t,_))throw new g("Object already initialized");return e.facade=t,u(t,_,e),e},i=function(t){return d(t,_)?t[_]:{}},o=function(t){return d(t,_)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!l(e)||(n=i(e)).type!==t)throw g("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var r=n(100),i=n(154),o=n(85),s=n(16)("iterator");t.exports=function(t){if(null!=t)return i(t,s)||i(t,"@@iterator")||o[r(t)]}},function(t,e,n){var r=n(6),i=n(3).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){e.f=n(7)},function(t,e,n){var r=n(128)("keys"),i=n(64);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(3).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(6),i=n(5),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(41)(Function.call,n(44).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var r=n(6),i=n(174).set;t.exports=function(t,e,n){var o,s=e.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},function(t,e,n){"use strict";var r=n(43),i=n(51);t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){var r=n(43),i=n(51);t.exports=function(t){return function(e,n){var o,s,a=String(i(e)),c=r(n),l=a.length;return c<0||c>=l?t?"":void 0:(o=a.charCodeAt(c))<55296||o>56319||c+1===l||(s=a.charCodeAt(c+1))<56320||s>57343?t?a.charAt(c):o:t?a.slice(c,c+2):s-56320+(o-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(65),i=n(1),o=n(25),s=n(32),a=n(88),c=n(272),l=n(86),u=n(70),d=n(7)("iterator"),h=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,n,p,g,m,v){c(n,e,p);var y,b,w,_=function(t){if(!h&&t in T)return T[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},E=e+" Iterator",S="values"==g,A=!1,T=t.prototype,x=T[d]||T["@@iterator"]||g&&T[g],k=x||_(g),C=g?S?_("entries"):k:void 0,R="Array"==e&&T.entries||x;if(R&&(w=u(R.call(new t)))!==Object.prototype&&w.next&&(l(w,E,!0),r||"function"==typeof w[d]||s(w,d,f)),S&&x&&"values"!==x.name&&(A=!0,k=function(){return x.call(this)}),r&&!v||!h&&!A&&T[d]||s(T,d,k),a[e]=k,a[E]=f,g)if(y={values:S?k:_("values"),keys:m?k:_("keys"),entries:C},v)for(b in y)b in T||o(T,b,y[b]);else i(i.P+i.F*(h||A),e,y);return y}},function(t,e,n){var r=n(183),i=n(51);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){var r=n(6),i=n(50),o=n(7)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(7)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var r=n(88),i=n(7)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){"use strict";var r=n(18),i=n(63);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(104),i=n(7)("iterator"),o=n(88);t.exports=n(14).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){"use strict";var r=n(23),i=n(67),o=n(8);t.exports=function(t){for(var e=r(this),n=o(e.length),s=arguments.length,a=i(s>1?arguments[1]:void 0,n),c=s>2?arguments[2]:void 0,l=void 0===c?n:i(c,n);l>a;)e[a++]=t;return e}},function(t,e,n){"use strict";var r=n(71),i=n(277),o=n(88),s=n(33);t.exports=n(181)(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){"use strict";var r,i,o=n(133),s=RegExp.prototype.exec,a=String.prototype.replace,c=s,l=(r=/a/,i=/b*/g,s.call(r,"a"),s.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),u=void 0!==/()??/.exec("")[1];(l||u)&&(c=function(t){var e,n,r,i,c=this;return u&&(n=new RegExp("^"+c.source+"$(?!\\s)",o.call(c))),l&&(e=c.lastIndex),r=s.call(c,t),l&&r&&(c.lastIndex=c.global?r.index+r[0].length:e),u&&r&&r.length>1&&a.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=c},function(t,e,n){"use strict";var r=n(180)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r,i,o,s=n(41),a=n(266),c=n(173),l=n(169),u=n(3),d=u.process,h=u.setImmediate,f=u.clearImmediate,p=u.MessageChannel,g=u.Dispatch,m=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){y.call(t.data)};h&&f||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++m]=function(){a("function"==typeof t?t:Function(t),e)},r(m),m},f=function(t){delete v[t]},"process"==n(50)(d)?r=function(t){d.nextTick(s(y,t,1))}:g&&g.now?r=function(t){g.now(s(y,t,1))}:p?(o=(i=new p).port2,i.port1.onmessage=b,r=s(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(t){u.postMessage(t+"","*")},u.addEventListener("message",b,!1)):r="onreadystatechange"in l("script")?function(t){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),y.call(t)}}:function(t){setTimeout(s(y,t,1),0)}),t.exports={set:h,clear:f}},function(t,e,n){"use strict";var r=n(3),i=n(17),o=n(65),s=n(139),a=n(32),c=n(91),l=n(4),u=n(90),d=n(43),h=n(8),f=n(285),p=n(69).f,g=n(18).f,m=n(188),v=n(86),y=r.ArrayBuffer,b=r.DataView,w=r.Math,_=r.RangeError,E=r.Infinity,S=y,A=w.abs,T=w.pow,x=w.floor,k=w.log,C=w.LN2,R=i?"_b":"buffer",L=i?"_l":"byteLength",I=i?"_o":"byteOffset";function O(t,e,n){var r,i,o,s=new Array(n),a=8*n-e-1,c=(1<<a)-1,l=c>>1,u=23===e?T(2,-24)-T(2,-77):0,d=0,h=t<0||0===t&&1/t<0?1:0;for((t=A(t))!=t||t===E?(i=t!=t?1:0,r=c):(r=x(k(t)/C),t*(o=T(2,-r))<1&&(r--,o*=2),(t+=r+l>=1?u/o:u*T(2,1-l))*o>=2&&(r++,o/=2),r+l>=c?(i=0,r=c):r+l>=1?(i=(t*o-1)*T(2,e),r+=l):(i=t*T(2,l-1)*T(2,e),r=0));e>=8;s[d++]=255&i,i/=256,e-=8);for(r=r<<e|i,a+=e;a>0;s[d++]=255&r,r/=256,a-=8);return s[--d]|=128*h,s}function D(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,s=o>>1,a=i-7,c=n-1,l=t[c--],u=127&l;for(l>>=7;a>0;u=256*u+t[c],c--,a-=8);for(r=u&(1<<-a)-1,u>>=-a,a+=e;a>0;r=256*r+t[c],c--,a-=8);if(0===u)u=1-s;else{if(u===o)return r?NaN:l?-E:E;r+=T(2,e),u-=s}return(l?-1:1)*r*T(2,u-e)}function M(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function N(t){return[255&t]}function P(t){return[255&t,t>>8&255]}function F(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function B(t){return O(t,52,8)}function U(t){return O(t,23,4)}function $(t,e,n){g(t.prototype,e,{get:function(){return this[n]}})}function j(t,e,n,r){var i=f(+n);if(i+e>t[L])throw _("Wrong index!");var o=t[R]._b,s=i+t[I],a=o.slice(s,s+e);return r?a:a.reverse()}function G(t,e,n,r,i,o){var s=f(+n);if(s+e>t[L])throw _("Wrong index!");for(var a=t[R]._b,c=s+t[I],l=r(+i),u=0;u<e;u++)a[c+u]=l[o?u:e-u-1]}if(s.ABV){if(!l((function(){y(1)}))||!l((function(){new y(-1)}))||l((function(){return new y,new y(1.5),new y(NaN),"ArrayBuffer"!=y.name}))){for(var H,K=(y=function(t){return u(this,y),new S(f(t))}).prototype=S.prototype,V=p(S),q=0;V.length>q;)(H=V[q++])in y||a(y,H,S[H]);o||(K.constructor=y)}var z=new b(new y(2)),W=b.prototype.setInt8;z.setInt8(0,2147483648),z.setInt8(1,2147483649),!z.getInt8(0)&&z.getInt8(1)||c(b.prototype,{setInt8:function(t,e){W.call(this,t,e<<24>>24)},setUint8:function(t,e){W.call(this,t,e<<24>>24)}},!0)}else y=function(t){u(this,y,"ArrayBuffer");var e=f(t);this._b=m.call(new Array(e),0),this[L]=e},b=function(t,e,n){u(this,b,"DataView"),u(t,y,"DataView");var r=t[L],i=d(e);if(i<0||i>r)throw _("Wrong offset!");if(i+(n=void 0===n?r-i:h(n))>r)throw _("Wrong length!");this[R]=t,this[I]=i,this[L]=n},i&&($(y,"byteLength","_l"),$(b,"buffer","_b"),$(b,"byteLength","_l"),$(b,"byteOffset","_o")),c(b.prototype,{getInt8:function(t){return j(this,1,t)[0]<<24>>24},getUint8:function(t){return j(this,1,t)[0]},getInt16:function(t){var e=j(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=j(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return M(j(this,4,t,arguments[1]))},getUint32:function(t){return M(j(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return D(j(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return D(j(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){G(this,1,t,N,e)},setUint8:function(t,e){G(this,1,t,N,e)},setInt16:function(t,e){G(this,2,t,P,e,arguments[2])},setUint16:function(t,e){G(this,2,t,P,e,arguments[2])},setInt32:function(t,e){G(this,4,t,F,e,arguments[2])},setUint32:function(t,e){G(this,4,t,F,e,arguments[2])},setFloat32:function(t,e){G(this,4,t,U,e,arguments[2])},setFloat64:function(t,e){G(this,8,t,B,e,arguments[2])}});v(y,"ArrayBuffer"),v(b,"DataView"),a(b.prototype,s.VIEW,!0),e.ArrayBuffer=y,e.DataView=b},function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function a(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=e&&e.prototype instanceof d?e:d,o=Object.create(i.prototype),s=new S(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return T()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=w(s,n);if(a){if(a===u)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,s),o}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function h(){}function f(){}var p={};a(p,i,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(A([])));m&&m!==e&&n.call(m,i)&&(p=m);var v=f.prototype=d.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var r;this._invoke=function(i,o){function s(){return new e((function(r,s){!function r(i,o,s,a){var c=l(t[i],t,o);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,s,a)}),(function(t){r("throw",t,s,a)})):e.resolve(d).then((function(t){u.value=t,s(u)}),(function(t){return r("throw",t,s,a)}))}a(c.arg)}(i,o,r,s)}))}return r=r?r.then(s,s):s()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function A(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=f,a(v,"constructor",f),a(f,"constructor",h),h.displayName=a(f,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,a(t,s,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},y(b.prototype),a(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new b(c(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},y(v),a(v,s,"Generator"),a(v,i,(function(){return this})),a(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=A,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:A(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}(t.exports);try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(107),i=n(27).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports=!0},function(t,e,n){var r=n(323),i=n(198);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(325)("keys"),i=n(326);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(106).f,i=n(142),o=n(38)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){"use strict";var r=n(141);function i(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new i(t)}},function(t,e,n){var r=n(826),i=n(827),o=n(828),s=n(830);t.exports=function(t,e){return r(t)||i(t,e)||o(t,e)||s()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.char=void 0;var r={s4:function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},sn:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"abcdef0123456789",n=e.split("");return Array.from({length:t}).map((function(){return n[Math.floor(Math.random()*n.length)]})).join("")}};e.char=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(145),i=n(28),o=n(113),s={isHit:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,o.getUidAsync)(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0123456789abcdef";e=e.charAt(e.length-1).toLowerCase();var r=n.split(""),i=0,s=Number(t)*r.length||r.length,a=function(t){return Math.floor(Number(t)*r.length)};return Array.isArray(t)&&(i=a(t[0]),s=a(t[t.length-1]),i>0&&(i-=1)),r.slice(i,s).includes(e)},isSimpleHit:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,o.getUidAsync)(),n=e.charAt(e.length-1).toLowerCase();return(0,i.isArray)(t)?t.some((function(t){return new RegExp(t,"i").test(n)})):new RegExp(t,"i").test(n)},ensure:function(t){return new Promise((function(e){(0,r.isReady)((function(){e(),t()}))}))}};e.default=s},function(t,e,n){"use strict";var r=n(9);Object.defineProperty(e,"__esModule",{value:!0}),e.Exposure=void 0;var i=r(n(108)),o=r(n(109));n(849);var s=r(n(24)),a=n(28),c=n(205),l=n(112),u=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=s.default.getDom(t),o=i[this.options.cbs]||[];o.push({cb:e,type:r,flag:n,state:""}),i[this.options.cbs]=o,this.io.observe(i)},d=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.default)(this,t),this.options=n,this.options.cbs=n.cbs||c.char.s4(),this.io=new IntersectionObserver((function(t){t.forEach((function(t){var r=t.intersectionRatio,i=t.target,o=i[e.options.cbs]||[],s=(0,a.isArray)(n.threshold)?0:n.threshold||0,c=(s>0?r>=s:r>s)?"show":"hide";o=o.filter((function(t){var e=t.type,n=t.cb,r=t.flag,o=t.state,s={target:i,status:c,type:e};if(("all"===r||"show"===c)&&n(s),0===e){if("all"===r&&"hide"===c&&"show"===o)return!1;if("all"!==r&&"show"===c)return!1}return!0})).map((function(t){return t.state=c,t})),i[e.options.cbs]=o}))}),n)}return(0,o.default)(t,[{key:"on",value:function(t,e,n){u.call(this,t,e,n,1)}},{key:"once",value:function(t,e,n){u.call(this,t,e,n,0)}},{key:"delay",value:function(t,e,n){var r=this,i=n.type,o=n.duration,s=void 0===o?0:o,a=null;this.on(t,(function t(n){var o=n.status,c=n.target;"hide"===o?a&&clearTimeout(a):a=setTimeout((function(){e(n),"once"===i&&(0,l.removeCbFromEle)(c[r.options.cbs],t)}),s)}),"all")}},{key:"off",value:function(t,e){var n=s.default.getDom(t),r=n[this.options.cbs]||[];r=r.filter((function(t){return t.cb===e})),n[this.options.cbs]=r,(!r.length||!e)&&this.io.unobserve(n)}}]),t}();e.Exposure=d},function(t,e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(t){return n}}},function(t,e,n){"use strict";(function(t){var n=("undefined"!=typeof window?window:void 0!==t?t:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function r(t,e){if(void 0===e&&(e=[]),null===t||"object"!=typeof t)return t;var n,i=(n=function(e){return e.original===t},e.filter(n)[0]);if(i)return i.copy;var o=Array.isArray(t)?[]:{};return e.push({original:t,copy:o}),Object.keys(t).forEach((function(n){o[n]=r(t[n],e)})),o}function i(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}function o(t){return null!==t&&"object"==typeof t}var s=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"==typeof n?n():n)||{}},a={namespaced:{configurable:!0}};a.namespaced.get=function(){return!!this._rawModule.namespaced},s.prototype.addChild=function(t,e){this._children[t]=e},s.prototype.removeChild=function(t){delete this._children[t]},s.prototype.getChild=function(t){return this._children[t]},s.prototype.hasChild=function(t){return t in this._children},s.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},s.prototype.forEachChild=function(t){i(this._children,t)},s.prototype.forEachGetter=function(t){this._rawModule.getters&&i(this._rawModule.getters,t)},s.prototype.forEachAction=function(t){this._rawModule.actions&&i(this._rawModule.actions,t)},s.prototype.forEachMutation=function(t){this._rawModule.mutations&&i(this._rawModule.mutations,t)},Object.defineProperties(s.prototype,a);var c=function(t){this.register([],t,!1)};c.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},c.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return t+((e=e.getChild(n)).namespaced?n+"/":"")}),"")},c.prototype.update=function(t){!function t(e,n,r){0;if(n.update(r),r.modules)for(var i in r.modules){if(!n.getChild(i))return void 0;t(e.concat(i),n.getChild(i),r.modules[i])}}([],this.root,t)},c.prototype.register=function(t,e,n){var r=this;void 0===n&&(n=!0);var o=new s(e,n);0===t.length?this.root=o:this.get(t.slice(0,-1)).addChild(t[t.length-1],o);e.modules&&i(e.modules,(function(e,i){r.register(t.concat(i),e,n)}))},c.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],r=e.getChild(n);r&&r.runtime&&e.removeChild(n)},c.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return!!e&&e.hasChild(n)};var l;var u=function(t){var e=this;void 0===t&&(t={}),!l&&"undefined"!=typeof window&&window.Vue&&y(window.Vue);var r=t.plugins;void 0===r&&(r=[]);var i=t.strict;void 0===i&&(i=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new c(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new l,this._makeLocalGettersCache=Object.create(null);var o=this,s=this.dispatch,a=this.commit;this.dispatch=function(t,e){return s.call(o,t,e)},this.commit=function(t,e,n){return a.call(o,t,e,n)},this.strict=i;var u=this._modules.root.state;g(this,u,[],this._modules.root),p(this,u),r.forEach((function(t){return t(e)})),(void 0!==t.devtools?t.devtools:l.config.devtools)&&function(t){n&&(t._devtoolHook=n,n.emit("vuex:init",t),n.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){n.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){n.emit("vuex:action",t,e)}),{prepend:!0}))}(this)},d={state:{configurable:!0}};function h(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function f(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;g(t,n,[],t._modules.root,!0),p(t,n,e)}function p(t,e,n){var r=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var o=t._wrappedGetters,s={};i(o,(function(e,n){s[n]=function(t,e){return function(){return t(e)}}(e,t),Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})}));var a=l.config.silent;l.config.silent=!0,t._vm=new l({data:{$$state:e},computed:s}),l.config.silent=a,t.strict&&function(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}(t),r&&(n&&t._withCommit((function(){r._data.$$state=null})),l.nextTick((function(){return r.$destroy()})))}function g(t,e,n,r,i){var o=!n.length,s=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[s],t._modulesNamespaceMap[s]=r),!o&&!i){var a=m(e,n.slice(0,-1)),c=n[n.length-1];t._withCommit((function(){l.set(a,c,r.state)}))}var u=r.context=function(t,e,n){var r=""===e,i={dispatch:r?t.dispatch:function(n,r,i){var o=v(n,r,i),s=o.payload,a=o.options,c=o.type;return a&&a.root||(c=e+c),t.dispatch(c,s)},commit:r?t.commit:function(n,r,i){var o=v(n,r,i),s=o.payload,a=o.options,c=o.type;a&&a.root||(c=e+c),t.commit(c,s,a)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return function(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach((function(i){if(i.slice(0,r)===e){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return t.getters[i]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}(t,e)}},state:{get:function(){return m(t.state,n)}}}),i}(t,s,n);r.forEachMutation((function(e,n){!function(t,e,n,r){(t._mutations[e]||(t._mutations[e]=[])).push((function(e){n.call(t,r.state,e)}))}(t,s+n,e,u)})),r.forEachAction((function(e,n){var r=e.root?n:s+n,i=e.handler||e;!function(t,e,n,r){(t._actions[e]||(t._actions[e]=[])).push((function(e){var i,o=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},e);return(i=o)&&"function"==typeof i.then||(o=Promise.resolve(o)),t._devtoolHook?o.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):o}))}(t,r,i,u)})),r.forEachGetter((function(e,n){!function(t,e,n,r){if(t._wrappedGetters[e])return void 0;t._wrappedGetters[e]=function(t){return n(r.state,r.getters,t.state,t.getters)}}(t,s+n,e,u)})),r.forEachChild((function(r,o){g(t,e,n.concat(o),r,i)}))}function m(t,e){return e.reduce((function(t,e){return t[e]}),t)}function v(t,e,n){return o(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function y(t){l&&t===l||
/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */
function(t){if(Number(t.version.split(".")[0])>=2)t.mixin({beforeCreate:n});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[n].concat(t.init):n,e.call(this,t)}}function n(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}(l=t)}d.state.get=function(){return this._vm._data.$$state},d.state.set=function(t){0},u.prototype.commit=function(t,e,n){var r=this,i=v(t,e,n),o=i.type,s=i.payload,a=(i.options,{type:o,payload:s}),c=this._mutations[o];c&&(this._withCommit((function(){c.forEach((function(t){t(s)}))})),this._subscribers.slice().forEach((function(t){return t(a,r.state)})))},u.prototype.dispatch=function(t,e){var n=this,r=v(t,e),i=r.type,o=r.payload,s={type:i,payload:o},a=this._actions[i];if(a){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(s,n.state)}))}catch(t){0}var c=a.length>1?Promise.all(a.map((function(t){return t(o)}))):a[0](o);return new Promise((function(t,e){c.then((function(e){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(s,n.state)}))}catch(t){0}t(e)}),(function(t){try{n._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(s,n.state,t)}))}catch(t){0}e(t)}))}))}},u.prototype.subscribe=function(t,e){return h(t,this._subscribers,e)},u.prototype.subscribeAction=function(t,e){return h("function"==typeof t?{before:t}:t,this._actionSubscribers,e)},u.prototype.watch=function(t,e,n){var r=this;return this._watcherVM.$watch((function(){return t(r.state,r.getters)}),e,n)},u.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},u.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),g(this,this.state,t,this._modules.get(t),n.preserveState),p(this,this.state)},u.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var n=m(e.state,t.slice(0,-1));l.delete(n,t[t.length-1])})),f(this)},u.prototype.hasModule=function(t){return"string"==typeof t&&(t=[t]),this._modules.isRegistered(t)},u.prototype.hotUpdate=function(t){this._modules.update(t),f(this,!0)},u.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(u.prototype,d);var b=A((function(t,e){var n={};return S(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var r=T(this.$store,"mapState",t);if(!r)return;e=r.context.state,n=r.context.getters}return"function"==typeof i?i.call(this,e,n):e[i]},n[r].vuex=!0})),n})),w=A((function(t,e){var n={};return S(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=this.$store.commit;if(t){var o=T(this.$store,"mapMutations",t);if(!o)return;r=o.context.commit}return"function"==typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n})),_=A((function(t,e){var n={};return S(e).forEach((function(e){var r=e.key,i=e.val;i=t+i,n[r]=function(){if(!t||T(this.$store,"mapGetters",t))return this.$store.getters[i]},n[r].vuex=!0})),n})),E=A((function(t,e){var n={};return S(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=this.$store.dispatch;if(t){var o=T(this.$store,"mapActions",t);if(!o)return;r=o.context.dispatch}return"function"==typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n}));function S(t){return function(t){return Array.isArray(t)||o(t)}(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function A(t){return function(e,n){return"string"!=typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function T(t,e,n){return t._modulesNamespaceMap[n]}function x(t,e,n){var r=n?t.groupCollapsed:t.group;try{r.call(t,e)}catch(n){t.log(e)}}function k(t){try{t.groupEnd()}catch(e){t.log("—— log end ——")}}function C(){var t=new Date;return" @ "+R(t.getHours(),2)+":"+R(t.getMinutes(),2)+":"+R(t.getSeconds(),2)+"."+R(t.getMilliseconds(),3)}function R(t,e){return n="0",r=e-t.toString().length,new Array(r+1).join(n)+t;var n,r}var L={Store:u,install:y,version:"3.6.2",mapState:b,mapMutations:w,mapGetters:_,mapActions:E,createNamespacedHelpers:function(t){return{mapState:b.bind(null,t),mapGetters:_.bind(null,t),mapMutations:w.bind(null,t),mapActions:E.bind(null,t)}},createLogger:function(t){void 0===t&&(t={});var e=t.collapsed;void 0===e&&(e=!0);var n=t.filter;void 0===n&&(n=function(t,e,n){return!0});var i=t.transformer;void 0===i&&(i=function(t){return t});var o=t.mutationTransformer;void 0===o&&(o=function(t){return t});var s=t.actionFilter;void 0===s&&(s=function(t,e){return!0});var a=t.actionTransformer;void 0===a&&(a=function(t){return t});var c=t.logMutations;void 0===c&&(c=!0);var l=t.logActions;void 0===l&&(l=!0);var u=t.logger;return void 0===u&&(u=console),function(t){var d=r(t.state);void 0!==u&&(c&&t.subscribe((function(t,s){var a=r(s);if(n(t,d,a)){var c=C(),l=o(t),h="mutation "+t.type+c;x(u,h,e),u.log("%c prev state","color: #9E9E9E; font-weight: bold",i(d)),u.log("%c mutation","color: #03A9F4; font-weight: bold",l),u.log("%c next state","color: #4CAF50; font-weight: bold",i(a)),k(u)}d=a})),l&&t.subscribeAction((function(t,n){if(s(t,n)){var r=C(),i=a(t),o="action "+t.type+r;x(u,o,e),u.log("%c action","color: #03A9F4; font-weight: bold",i),k(u)}})))}}};e.a=L}).call(this,n(59))},function(t,e,n){var r=n(442),i=n(450),o=n(504),s=n(526);t.exports=function(t,e){return r(t)||i(t,e)||o(t,e)||s()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){t.exports=n(899)},,function(t,e,n){},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},s=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||s(e,t,n)},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.createRequest=e.BreakError=void 0;var l=c(n(215)),u=n(417);a(n(215),e),e.default=l.default;var d=function(t){function e(n){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}return i(e,t),e}(Error);e.BreakError=d;e.createRequest=function(t){var n=l.default.create(),r=u.Breaker.getInstance(t);return n.interceptors.request.use((function(t){if(r.recompute(),r.state===u.BreakState.OPEN)throw new d("break open");return t}),(function(t){return Promise.reject(t)})),n.interceptors.response.use((function(t){return r.record(),t}),(function(n){if(!(n instanceof d)){r.record(!0);var i=t.errorRetry,s=void 0===i?0:i;if((s=s>3?3:s)>0&&n.config)return(0,e.createRequest)(o(o({},t),{errorRetry:s-1})).request(n.config)}return Promise.reject(n)})),n}},function(t,e,n){t.exports=n(395)},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(20);function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var s=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),s.push(i(e)+"="+i(t))})))})),o=s.join("&")}if(o){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c,l=[],u=!1,d=-1;function h(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&f())}function f(){if(!u){var t=a(h);u=!0;for(var e=l.length;e;){for(c=l,l=[];++d<e;)c&&c[d].run();d=-1,e=l.length}c=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||u||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";t.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},function(t,e,n){"use strict";(function(e){var r=n(20);t.exports=function(t,n){n=n||new FormData;var i=[];function o(t){return null===t?"":r.isDate(t)?t.toISOString():r.isArrayBuffer(t)||r.isTypedArray(t)?"function"==typeof Blob?new Blob([t]):e.from(t):t}return function t(e,s){if(r.isPlainObject(e)||r.isArray(e)){if(-1!==i.indexOf(e))throw Error("Circular reference detected in "+s);i.push(e),r.forEach(e,(function(e,i){if(!r.isUndefined(e)){var a,c=s?s+"."+i:i;if(e&&!s&&"object"==typeof e)if(r.endsWith(i,"{}"))e=JSON.stringify(e);else if(r.endsWith(i,"[]")&&(a=r.toArray(e)))return void a.forEach((function(t){!r.isUndefined(t)&&n.append(c,o(t))}));t(e,c)}})),i.pop()}else n.append(s,o(e))}(t),n}}).call(this,n(401).Buffer)},function(t,e,n){"use strict";var r=n(20),i=n(405),o=n(406),s=n(217),a=n(222),c=n(409),l=n(410),u=n(219),d=n(80),h=n(117),f=n(411);t.exports=function(t){return new Promise((function(e,n){var p,g=t.data,m=t.headers,v=t.responseType;function y(){t.cancelToken&&t.cancelToken.unsubscribe(p),t.signal&&t.signal.removeEventListener("abort",p)}r.isFormData(g)&&r.isStandardBrowserEnv()&&delete m["Content-Type"];var b=new XMLHttpRequest;if(t.auth){var w=t.auth.username||"",_=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";m.Authorization="Basic "+btoa(w+":"+_)}var E=a(t.baseURL,t.url);function S(){if(b){var r="getAllResponseHeaders"in b?c(b.getAllResponseHeaders()):null,o={data:v&&"text"!==v&&"json"!==v?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:r,config:t,request:b};i((function(t){e(t),y()}),(function(t){n(t),y()}),o),b=null}}if(b.open(t.method.toUpperCase(),s(E,t.params,t.paramsSerializer),!0),b.timeout=t.timeout,"onloadend"in b?b.onloadend=S:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(S)},b.onabort=function(){b&&(n(new d("Request aborted",d.ECONNABORTED,t,b)),b=null)},b.onerror=function(){n(new d("Network Error",d.ERR_NETWORK,t,b,b)),b=null},b.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",r=t.transitional||u;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new d(e,r.clarifyTimeoutError?d.ETIMEDOUT:d.ECONNABORTED,t,b)),b=null},r.isStandardBrowserEnv()){var A=(t.withCredentials||l(E))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;A&&(m[t.xsrfHeaderName]=A)}"setRequestHeader"in b&&r.forEach(m,(function(t,e){void 0===g&&"content-type"===e.toLowerCase()?delete m[e]:b.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(b.withCredentials=!!t.withCredentials),v&&"json"!==v&&(b.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&b.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(p=function(t){b&&(n(!t||t&&t.type?new h:t),b.abort(),b=null)},t.cancelToken&&t.cancelToken.subscribe(p),t.signal&&(t.signal.aborted?p():t.signal.addEventListener("abort",p))),g||(g=null);var T=f(E);T&&-1===["http","https","file"].indexOf(T)?n(new d("Unsupported protocol "+T+":",d.ERR_BAD_REQUEST,t)):b.send(g)}))}},function(t,e,n){"use strict";var r=n(407),i=n(408);t.exports=function(t,e){return t&&!r(e)?i(t,e):e}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";var r=n(20);t.exports=function(t,e){e=e||{};var n={};function i(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function o(n){return r.isUndefined(e[n])?r.isUndefined(t[n])?void 0:i(void 0,t[n]):i(t[n],e[n])}function s(t){if(!r.isUndefined(e[t]))return i(void 0,e[t])}function a(n){return r.isUndefined(e[n])?r.isUndefined(t[n])?void 0:i(void 0,t[n]):i(void 0,e[n])}function c(n){return n in e?i(t[n],e[n]):n in t?i(void 0,t[n]):void 0}var l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return r.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=l[t]||o,i=e(t);r.isUndefined(i)&&e!==c||(n[t]=i)})),n}},function(t,e){t.exports={version:"0.27.2"}},function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},function(t,e,n){var r=n(81);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(35),i=n(13),o=n(229);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(2),i=n(40),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e,n){var r=n(35),i=n(13);t.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(t,e,n){var r=n(10),i=n(30),o=n(48),s=n(232).indexOf,a=n(124),c=r([].push);t.exports=function(t,e){var n,r=o(t),l=0,u=[];for(n in r)!i(a,n)&&i(r,n)&&c(u,n);for(;e.length>l;)i(r,n=e[l++])&&(~s(u,n)||c(u,n));return u}},function(t,e,n){var r=n(48),i=n(160),o=n(60),s=function(t){return function(e,n,s){var a,c=r(e),l=o(c),u=i(s,l);if(t&&n!=n){for(;l>u;)if((a=c[u++])!=a)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},function(t,e,n){var r=n(123),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){"use strict";var r=n(12),i=n(2),o=n(13),s=n(99),a=n(40),c=n(54),l=n(60),u=n(125),d=n(235),h=n(165),f=n(16),p=n(153),g=f("isConcatSpreadable"),m=i.TypeError,v=p>=51||!o((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),y=h("concat"),b=function(t){if(!a(t))return!1;var e=t[g];return void 0!==e?!!e:s(t)};r({target:"Array",proto:!0,arity:1,forced:!v||!y},{concat:function(t){var e,n,r,i,o,s=c(this),a=d(s,0),h=0;for(e=-1,r=arguments.length;e<r;e++)if(b(o=-1===e?s:arguments[e])){if(h+(i=l(o))>9007199254740991)throw m("Maximum allowed index exceeded");for(n=0;n<i;n++,h++)n in o&&u(a,h,o[n])}else{if(h>=9007199254740991)throw m("Maximum allowed index exceeded");u(a,h++,o)}return a.length=h,a}})},function(t,e,n){var r=n(435);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},function(t,e,n){var r=n(10),i=n(22),o=n(157),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return s(t)}),t.exports=o.inspectSource},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e,n){var r=n(35),i=n(30),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),c=a&&"something"===function(){}.name,l=a&&(!r||r&&s(o,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:l}},function(t,e,n){var r=n(35),i=n(230),o=n(55),s=n(56),a=n(48),c=n(122);e.f=r&&!i?Object.defineProperties:function(t,e){s(t);for(var n,r=a(e),i=c(e),l=i.length,u=0;l>u;)o.f(t,n=i[u++],r[n]);return t}},function(t,e,n){var r=n(231),i=n(161).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(96),i=n(48),o=n(240).f,s=n(461),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"Window"==r(t)?function(t){try{return o(t)}catch(t){return s(a)}}(t):o(i(t))}},function(t,e,n){var r=n(16);e.f=r},function(t,e,n){var r=n(36),i=n(53),o=n(16),s=n(127);t.exports=function(){var t=i("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,a=o("toPrimitive");e&&!e[a]&&s(e,a,(function(t){return r(n,this)}),{arity:1})}},function(t,e,n){var r=n(159),i=n(10),o=n(152),s=n(54),a=n(60),c=n(235),l=i([].push),u=function(t){var e=1==t,n=2==t,i=3==t,u=4==t,d=6==t,h=7==t,f=5==t||d;return function(p,g,m,v){for(var y,b,w=s(p),_=o(w),E=r(g,m),S=a(_),A=0,T=v||c,x=e?T(p,S):n||h?T(p,0):void 0;S>A;A++)if((f||A in _)&&(b=E(y=_[A],A,w),t))if(e)x[A]=b;else if(b)switch(t){case 3:return!0;case 5:return y;case 6:return A;case 2:l(x,y)}else switch(t){case 4:return!1;case 7:l(x,y)}return d?-1:i||u?u:x}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},function(t,e,n){var r=n(81);t.exports=r&&!!Symbol.for&&!!Symbol.keyFor},function(t,e,n){var r=n(12),i=n(53),o=n(118),s=n(36),a=n(10),c=n(13),l=n(99),u=n(22),d=n(40),h=n(121),f=n(247),p=n(81),g=i("JSON","stringify"),m=a(/./.exec),v=a("".charAt),y=a("".charCodeAt),b=a("".replace),w=a(1..toString),_=/[\uD800-\uDFFF]/g,E=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,A=!p||c((function(){var t=i("Symbol")();return"[null]"!=g([t])||"{}"!=g({a:t})||"{}"!=g(Object(t))})),T=c((function(){return'"\\udf06\\ud834"'!==g("\udf06\ud834")||'"\\udead"'!==g("\udead")})),x=function(t,e){var n=f(arguments),r=e;if((d(e)||void 0!==t)&&!h(t))return l(e)||(e=function(t,e){if(u(r)&&(e=s(r,this,t,e)),!h(e))return e}),n[1]=e,o(g,null,n)},k=function(t,e,n){var r=v(n,e-1),i=v(n,e+1);return m(E,t)&&!m(S,i)||m(S,t)&&!m(E,r)?"\\u"+w(y(t,0),16):t};g&&r({target:"JSON",stat:!0,arity:3,forced:A||T},{stringify:function(t,e,n){var r=f(arguments),i=o(A?x:g,null,r);return T&&"string"==typeof i?b(i,_,k):i}})},function(t,e,n){var r=n(10);t.exports=r([].slice)},function(t,e,n){n(249);var r=n(489),i=n(2),o=n(100),s=n(83),a=n(85),c=n(16)("toStringTag");for(var l in r){var u=i[l],d=u&&u.prototype;d&&o(d)!==c&&s(d,c,l),a[l]=a.Array}},function(t,e,n){"use strict";var r=n(48),i=n(484),o=n(85),s=n(167),a=n(55).f,c=n(250),l=n(82),u=n(35),d=s.set,h=s.getterFor("Array Iterator");t.exports=c(Array,"Array",(function(t,e){d(this,{type:"Array Iterator",target:r(t),index:0,kind:e})}),(function(){var t=h(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");var f=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!l&&u&&"values"!==f.name)try{a(f,"name",{value:"values"})}catch(t){}},function(t,e,n){"use strict";var r=n(12),i=n(36),o=n(82),s=n(238),a=n(22),c=n(485),l=n(252),u=n(487),d=n(101),h=n(83),f=n(127),p=n(16),g=n(85),m=n(251),v=s.PROPER,y=s.CONFIGURABLE,b=m.IteratorPrototype,w=m.BUGGY_SAFARI_ITERATORS,_=p("iterator"),E=function(){return this};t.exports=function(t,e,n,s,p,m,S){c(n,e,s);var A,T,x,k=function(t){if(t===p&&O)return O;if(!w&&t in L)return L[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},C=e+" Iterator",R=!1,L=t.prototype,I=L[_]||L["@@iterator"]||p&&L[p],O=!w&&I||k(p),D="Array"==e&&L.entries||I;if(D&&(A=l(D.call(new t)))!==Object.prototype&&A.next&&(o||l(A)===b||(u?u(A,b):a(A[_])||f(A,_,E)),d(A,C,!0,!0),o&&(g[C]=E)),v&&"values"==p&&I&&"values"!==I.name&&(!o&&y?h(L,"name","values"):(R=!0,O=function(){return i(I,this)})),p)if(T={values:k("values"),keys:m?O:k("keys"),entries:k("entries")},S)for(x in T)(w||R||!(x in L))&&f(L,x,T[x]);else r({target:e,proto:!0,forced:w||R},T);return o&&!S||L[_]===O||f(L,_,O,{name:p}),g[e]=O,T}},function(t,e,n){"use strict";var r,i,o,s=n(13),a=n(22),c=n(166),l=n(252),u=n(127),d=n(16),h=n(82),f=d("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(i=l(l(o)))!==Object.prototype&&(r=i):p=!0),null==r||s((function(){var t={};return r[f].call(t)!==t}))?r={}:h&&(r=c(r)),a(r[f])||u(r,f,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},function(t,e,n){var r=n(2),i=n(30),o=n(22),s=n(54),a=n(126),c=n(486),l=a("IE_PROTO"),u=r.Object,d=u.prototype;t.exports=c?u.getPrototypeOf:function(t){var e=s(t);if(i(e,l))return e[l];var n=e.constructor;return o(n)&&e instanceof n?n.prototype:e instanceof u?d:null}},function(t,e,n){"use strict";var r=n(503).charAt,i=n(84),o=n(167),s=n(250),a=o.set,c=o.getterFor("String Iterator");s(String,"String",(function(t){a(this,{type:"String Iterator",string:i(t),index:0})}),(function(){var t,e=c(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){var r=n(509);t.exports=r},function(t,e,n){t.exports=n(527)},function(t,e,n){n(12)({global:!0},{globalThis:n(2)})},function(t,e,n){"use strict";var r=n(13);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){return 1},1)}))}},function(t,e,n){t.exports=!n(17)&&!n(4)((function(){return 7!=Object.defineProperty(n(169)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(3),i=n(14),o=n(65),s=n(170),a=n(18).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e,n){var r=n(31),i=n(33),o=n(129)(!1),s=n(171)("IE_PROTO");t.exports=function(t,e){var n,a=i(t),c=0,l=[];for(n in a)n!=s&&r(a,n)&&l.push(n);for(;e.length>c;)r(a,n=e[c++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){var r=n(18),i=n(5),o=n(66);t.exports=n(17)?Object.defineProperties:function(t,e){i(t);for(var n,s=o(e),a=s.length,c=0;a>c;)r.f(t,n=s[c++],e[n]);return t}},function(t,e,n){var r=n(33),i=n(69).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return s.slice()}}(t):i(r(t))}},function(t,e,n){"use strict";var r=n(17),i=n(66),o=n(130),s=n(103),a=n(23),c=n(102),l=Object.assign;t.exports=!l||n(4)((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=r}))?function(t,e){for(var n=a(t),l=arguments.length,u=1,d=o.f,h=s.f;l>u;)for(var f,p=c(arguments[u++]),g=d?i(p).concat(d(p)):i(p),m=g.length,v=0;m>v;)f=g[v++],r&&!h.call(p,f)||(n[f]=p[f]);return n}:l},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){"use strict";var r=n(42),i=n(6),o=n(266),s=[].slice,a={},c=function(t,e,n){if(!(e in a)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";a[e]=Function("F,a","return new F("+r.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=s.call(arguments,1),a=function(){var r=n.concat(s.call(arguments));return this instanceof a?c(e,r.length,r):o(e,r,t)};return i(e.prototype)&&(a.prototype=e.prototype),a}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(3).parseInt,i=n(87).trim,o=n(175),s=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(s.test(n)?16:10))}:r},function(t,e,n){var r=n(3).parseFloat,i=n(87).trim;t.exports=1/r(n(175)+"-0")!=-1/0?function(t){var e=i(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},function(t,e,n){var r=n(50);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},function(t,e,n){var r=n(6),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){"use strict";var r=n(68),i=n(63),o=n(86),s={};n(32)(s,n(7)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(s,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(5);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(659);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(42),i=n(23),o=n(102),s=n(8);t.exports=function(t,e,n,a,c){r(e);var l=i(t),u=o(l),d=s(l.length),h=c?d-1:0,f=c?-1:1;if(n<2)for(;;){if(h in u){a=u[h],h+=f;break}if(h+=f,c?h<0:d<=h)throw TypeError("Reduce of empty array with no initial value")}for(;c?h>=0:d>h;h+=f)h in u&&(a=e(a,u[h],h,l));return a}},function(t,e,n){"use strict";var r=n(23),i=n(67),o=n(8);t.exports=[].copyWithin||function(t,e){var n=r(this),s=o(n.length),a=i(t,s),c=i(e,s),l=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===l?s:i(l,s))-c,s-a),d=1;for(c<a&&a<c+u&&(d=-1,c+=u-1,a+=u-1);u-- >0;)c in n?n[a]=n[c]:delete n[a],a+=d,c+=d;return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r=n(190);n(1)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(t,e,n){n(17)&&"g"!=/./g.flags&&n(18).f(RegExp.prototype,"flags",{configurable:!0,get:n(133)})},function(t,e,n){"use strict";var r,i,o,s,a=n(65),c=n(3),l=n(41),u=n(104),d=n(1),h=n(6),f=n(42),p=n(90),g=n(136),m=n(105),v=n(192).set,y=n(679)(),b=n(281),w=n(680),_=n(137),E=n(282),S=c.TypeError,A=c.process,T=A&&A.versions,x=T&&T.v8||"",k=c.Promise,C="process"==u(A),R=function(){},L=i=b.f,I=!!function(){try{var t=k.resolve(1),e=(t.constructor={})[n(7)("species")]=function(t){t(R,R)};return(C||"function"==typeof PromiseRejectionEvent)&&t.then(R)instanceof e&&0!==x.indexOf("6.6")&&-1===_.indexOf("Chrome/66")}catch(t){}}(),O=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},D=function(t,e){if(!t._n){t._n=!0;var n=t._c;y((function(){for(var r=t._v,i=1==t._s,o=0,s=function(e){var n,o,s,a=i?e.ok:e.fail,c=e.resolve,l=e.reject,u=e.domain;try{a?(i||(2==t._h&&P(t),t._h=1),!0===a?n=r:(u&&u.enter(),n=a(r),u&&(u.exit(),s=!0)),n===e.promise?l(S("Promise-chain cycle")):(o=O(n))?o.call(n,c,l):c(n)):l(r)}catch(t){u&&!s&&u.exit(),l(t)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&M(t)}))}},M=function(t){v.call(c,(function(){var e,n,r,i=t._v,o=N(t);if(o&&(e=w((function(){C?A.emit("unhandledRejection",i,t):(n=c.onunhandledrejection)?n({promise:t,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=C||N(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},N=function(t){return 1!==t._h&&0===(t._a||t._c).length},P=function(t){v.call(c,(function(){var e;C?A.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})}))},F=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),D(e,!0))},B=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw S("Promise can't be resolved itself");(e=O(t))?y((function(){var r={_w:n,_d:!1};try{e.call(t,l(B,r,1),l(F,r,1))}catch(t){F.call(r,t)}})):(n._v=t,n._s=1,D(n,!1))}catch(t){F.call({_w:n,_d:!1},t)}}};I||(k=function(t){p(this,k,"Promise","_h"),f(t),r.call(this);try{t(l(B,this,1),l(F,this,1))}catch(t){F.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(91)(k.prototype,{then:function(t,e){var n=L(m(this,k));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=C?A.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=l(B,t,1),this.reject=l(F,t,1)},b.f=L=function(t){return t===k||t===s?new o(t):i(t)}),d(d.G+d.W+d.F*!I,{Promise:k}),n(86)(k,"Promise"),n(89)("Promise"),s=n(14).Promise,d(d.S+d.F*!I,"Promise",{reject:function(t){var e=L(this);return(0,e.reject)(t),e.promise}}),d(d.S+d.F*(a||!I),"Promise",{resolve:function(t){return E(a&&this===s?k:this,t)}}),d(d.S+d.F*!(I&&n(132)((function(t){k.all(t).catch(R)}))),"Promise",{all:function(t){var e=this,n=L(e),r=n.resolve,i=n.reject,o=w((function(){var n=[],o=0,s=1;g(t,!1,(function(t){var a=o++,c=!1;n.push(void 0),s++,e.resolve(t).then((function(t){c||(c=!0,n[a]=t,--s||r(n))}),i)})),--s||r(n)}));return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=L(e),r=n.reject,i=w((function(){g(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(t,e,n){"use strict";var r=n(42);function i(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new i(t)}},function(t,e,n){var r=n(5),i=n(6),o=n(281);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(18).f,i=n(68),o=n(91),s=n(41),a=n(90),c=n(136),l=n(181),u=n(277),d=n(89),h=n(17),f=n(58).fastKey,p=n(72),g=h?"_s":"size",m=function(t,e){var n,r=f(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,l){var u=t((function(t,r){a(t,u,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[g]=0,null!=r&&c(r,n,t[l],t)}));return o(u.prototype,{clear:function(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var n=p(this,e),r=m(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[g]--}return!!r},forEach:function(t){p(this,e);for(var n,r=s(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!m(p(this,e),t)}}),h&&r(u.prototype,"size",{get:function(){return p(this,e)[g]}}),u},def:function(t,e,n){var r,i,o=m(t,e);return o?o.v=n:(t._l=o={i:i=f(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[g]++,"F"!==i&&(t._i[i]=o)),t},getEntry:m,setStrong:function(t,e,n){l(t,e,(function(t,n){this._t=p(t,e),this._k=n,this._l=void 0}),(function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?u(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,u(1))}),n?"entries":"values",!n,!0),d(e)}}},function(t,e,n){"use strict";var r=n(91),i=n(58).getWeak,o=n(5),s=n(6),a=n(90),c=n(136),l=n(46),u=n(31),d=n(72),h=l(5),f=l(6),p=0,g=function(t){return t._l||(t._l=new m)},m=function(){this.a=[]},v=function(t,e){return h(t.a,(function(t){return t[0]===e}))};m.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var n=v(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=f(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var l=t((function(t,r){a(t,l,e,"_i"),t._t=e,t._i=p++,t._l=void 0,null!=r&&c(r,n,t[o],t)}));return r(l.prototype,{delete:function(t){if(!s(t))return!1;var n=i(t);return!0===n?g(d(this,e)).delete(t):n&&u(n,this._i)&&delete n[this._i]},has:function(t){if(!s(t))return!1;var n=i(t);return!0===n?g(d(this,e)).has(t):n&&u(n,this._i)}}),l},def:function(t,e,n){var r=i(o(e),!0);return!0===r?g(t).set(e,n):r[t._i]=n,t},ufstore:g}},function(t,e,n){var r=n(43),i=n(8);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var r=n(69),i=n(130),o=n(5),s=n(3).Reflect;t.exports=s&&s.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(8),i=n(177),o=n(51);t.exports=function(t,e,n,s){var a=String(o(t)),c=a.length,l=void 0===n?" ":String(n),u=r(e);if(u<=c||""==l)return a;var d=u-c,h=i.call(l,Math.ceil(d/l.length));return h.length>d&&(h=h.slice(0,d)),s?h+a:a+h}},function(t,e,n){var r=n(17),i=n(66),o=n(33),s=n(103).f;t.exports=function(t){return function(e){for(var n,a=o(e),c=i(a),l=c.length,u=0,d=[];l>u;)n=c[u++],r&&!s.call(a,n)||d.push(t?[n,a[n]]:a[n]);return d}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";(function(t){t&&t.hot&&t.hot.accept()}).call(this,n(62)(t))},function(t,e,n){"use strict";(function(t){t&&t.hot&&t.hot.accept()}).call(this,n(62)(t))},function(t,e,n){"use strict";(function(t){t&&t.hot&&t.hot.accept()}).call(this,n(62)(t))},function(t,e,n){"use strict";(function(t){t&&t.hot&&t.hot.accept()}).call(this,n(62)(t))},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){t.exports=n(773)},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(143),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t){return function(){var e=t.apply(this,arguments);return new o.default((function(t,n){return function r(i,s){try{var a=e[i](s),c=a.value}catch(t){return void n(t)}if(!a.done)return o.default.resolve(c).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(c)}("next")}))}}},function(t,e,n){"use strict";var r=n(199),i=n(73),o=n(779),s=n(92),a=n(110),c=n(780),l=n(202),u=n(786),d=n(38)("iterator"),h=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,n,p,g,m,v){c(n,e,p);var y,b,w,_=function(t){if(!h&&t in T)return T[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},E=e+" Iterator",S="values"==g,A=!1,T=t.prototype,x=T[d]||T["@@iterator"]||g&&T[g],k=x||_(g),C=g?S?_("entries"):k:void 0,R="Array"==e&&T.entries||x;if(R&&(w=u(R.call(new t)))!==Object.prototype&&w.next&&(l(w,E,!0),r||"function"==typeof w[d]||s(w,d,f)),S&&x&&"values"!==x.name&&(A=!0,k=function(){return x.call(this)}),r&&!v||!h&&!A&&T[d]||s(T,d,k),a[e]=k,a[E]=f,g)if(y={values:S?k:_("values"),keys:m?k:_("keys"),entries:C},v)for(b in y)b in T||o(T,b,y[b]);else i(i.P+i.F*(h||A),e,y);return y}},function(t,e,n){var r=n(783),i=n(327);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(144);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(197),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(47),i=n(27),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(199)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(27).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(198);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(144),i=n(38)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var r=n(74),i=n(141),o=n(38)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||null==(n=r(s)[o])?e:i(n)}},function(t,e,n){var r,i,o,s=n(140),a=n(797),c=n(328),l=n(196),u=n(27),d=u.process,h=u.setImmediate,f=u.clearImmediate,p=u.MessageChannel,g=u.Dispatch,m=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){y.call(t.data)};h&&f||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++m]=function(){a("function"==typeof t?t:Function(t),e)},r(m),m},f=function(t){delete v[t]},"process"==n(144)(d)?r=function(t){d.nextTick(s(y,t,1))}:g&&g.now?r=function(t){g.now(s(y,t,1))}:p?(o=(i=new p).port2,i.port1.onmessage=b,r=s(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(t){u.postMessage(t+"","*")},u.addEventListener("message",b,!1)):r="onreadystatechange"in l("script")?function(t){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),y.call(t)}}:function(t){setTimeout(s(y,t,1),0)}),t.exports={set:h,clear:f}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(74),i=n(107),o=n(203);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(336),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){t.exports={default:n(805),__esModule:!0}},function(t,e,n){"use strict";var r=n(810),i=n(812);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=b,e.resolve=function(t,e){return b(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?b(t,!1,!0).resolveObject(e):e},e.format=function(t){i.isString(t)&&(t=b(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(l),d=["%","/","?",";","#"].concat(u),h=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(813);function b(t,e,n){if(t&&i.isObject(t)&&t instanceof o)return t;var r=new o;return r.parse(t,e,n),r}o.prototype.parse=function(t,e,n){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",l=t.split(a);l[0]=l[0].replace(/\\/g,"/");var b=t=l.join(a);if(b=b.trim(),!n&&1===t.split("#").length){var w=c.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=e?y.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var _=s.exec(b);if(_){var E=(_=_[0]).toLowerCase();this.protocol=E,b=b.substr(_.length)}if(n||_||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===b.substr(0,2);!S||_&&m[_]||(b=b.substr(2),this.slashes=!0)}if(!m[_]&&(S||_&&!v[_])){for(var A,T,x=-1,k=0;k<h.length;k++){-1!==(C=b.indexOf(h[k]))&&(-1===x||C<x)&&(x=C)}-1!==(T=-1===x?b.lastIndexOf("@"):b.lastIndexOf("@",x))&&(A=b.slice(0,T),b=b.slice(T+1),this.auth=decodeURIComponent(A)),x=-1;for(k=0;k<d.length;k++){var C;-1!==(C=b.indexOf(d[k]))&&(-1===x||C<x)&&(x=C)}-1===x&&(x=b.length),this.host=b.slice(0,x),b=b.slice(x),this.parseHost(),this.hostname=this.hostname||"";var R="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!R)for(var L=this.hostname.split(/\./),I=(k=0,L.length);k<I;k++){var O=L[k];if(O&&!O.match(f)){for(var D="",M=0,N=O.length;M<N;M++)O.charCodeAt(M)>127?D+="x":D+=O[M];if(!D.match(f)){var P=L.slice(0,k),F=L.slice(k+1),B=O.match(p);B&&(P.push(B[1]),F.unshift(B[2])),F.length&&(b="/"+F.join(".")+b),this.hostname=P.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=r.toASCII(this.hostname));var U=this.port?":"+this.port:"",$=this.hostname||"";this.host=$+U,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!g[E])for(k=0,I=u.length;k<I;k++){var j=u[k];if(-1!==b.indexOf(j)){var G=encodeURIComponent(j);G===j&&(G=escape(j)),b=b.split(j).join(G)}}var H=b.indexOf("#");-1!==H&&(this.hash=b.substr(H),b=b.slice(0,H));var K=b.indexOf("?");if(-1!==K?(this.search=b.substr(K),this.query=b.substr(K+1),e&&(this.query=y.parse(this.query)),b=b.slice(0,K)):e&&(this.search="",this.query={}),b&&(this.pathname=b),v[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var V=this.search||"";this.path=U+V}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=y.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||v[e])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+r},o.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var n=new o,r=Object.keys(this),s=0;s<r.length;s++){var a=r[s];n[a]=this[a]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var c=Object.keys(t),l=0;l<c.length;l++){var u=c[l];"protocol"!==u&&(n[u]=t[u])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!v[t.protocol]){for(var d=Object.keys(t),h=0;h<d.length;h++){var f=d[h];n[f]=t[f]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||m[t.protocol])n.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var g=n.pathname||"",y=n.search||"";n.path=g+y}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),w=t.host||t.pathname&&"/"===t.pathname.charAt(0),_=w||b||n.host&&t.pathname,E=_,S=n.pathname&&n.pathname.split("/")||[],A=(p=t.pathname&&t.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(A&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),_=_&&(""===p[0]||""===S[0])),w)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,S=p;else if(p.length)S||(S=[]),S.pop(),S=S.concat(p),n.search=t.search,n.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(A)n.hostname=n.host=S.shift(),(R=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=R.shift(),n.host=n.hostname=R.shift());return n.search=t.search,n.query=t.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=S.slice(-1)[0],x=(n.host||t.host||S.length>1)&&("."===T||".."===T)||""===T,k=0,C=S.length;C>=0;C--)"."===(T=S[C])?S.splice(C,1):".."===T?(S.splice(C,1),k++):k&&(S.splice(C,1),k--);if(!_&&!E)for(;k--;k)S.unshift("..");!_||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),x&&"/"!==S.join("/").substr(-1)&&S.push("");var R,L=""===S[0]||S[0]&&"/"===S[0].charAt(0);A&&(n.hostname=n.host=L?"":S.length?S.shift():"",(R=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=R.shift(),n.host=n.hostname=R.shift()));return(_=_||n.host&&S.length)&&!L&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){t.exports={default:n(818),__esModule:!0}},function(t,e,n){"use strict";var r=n(9);Object.defineProperty(e,"__esModule",{value:!0}),e.recombineByAbTest=e.getSpecialAds=e.getAbTestAds=e.getBackupAds=void 0;var i=n(93),o=n(28),s=r(n(24)),a=r(n(206)),c=function(t){for(var e=[],n=t.length-1;n>=0;n--){for(var r=n-1;r>0;r--)t[n].position===t[r].position&&(r=--n);e.unshift(t[n])}return e},l=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=!0,c=window.specialHideAd;a=!(0,o.isBoolean)(r)||r,(0,o.isObject)(r)&&(!(0,o.isUndefined)(r.isParseData)&&(a=r.isParseData),!(0,o.isUndefined)(r.isHideAd)&&(c=r.isHideAd),e=r.emptyPlaceholder);var l,u=[],d=n.page,h=n.area,f=n.range,p=n.data,g=n.ct,m=function(t){try{(0,o.isString)(t)&&(l=JSON.parse(t))}catch(e){l=window[t]}};if((0,o.isArray)(t)&&(t=t.filter((function(t){return(0,o.isObject)(t)}))),(0,o.isArray)(t)&&t.length||(0,o.isObject)(t))u=(0,o.isObject)(t)?[t]:t;else{if((0,o.isObject)(g)){var v=g.data,y=g.platform,b=void 0===y?s.default.getChannelType():y;(0,o.isObject)(v)&&(0,o.isObject)(v[b])&&(l=v[b]),m(v),(0,o.isObject)(l)&&(0,o.isObject)(l[b])&&(l=l[b])}if(l||((0,o.isObject)(p)&&(l=p),m(p)),(0,o.isObject)(l)){var w=(l[d]||{})[h]||[];(0,o.isArray)(w)&&(u=(u=(0,o.isArray)(f)&&f.length>1?w.filter((function(t){return!t.position||t.position>=f[0]&&t.position<=f[1]})):w).map((function(t){return t.adType=/cpro\.baidustatic\.com/.test(t.htmlResource)?"D":"C",t}))),(0,o.isObject)(w)&&(w.adType=/cpro\.baidustatic\.com/.test(w.htmlResource)?"D":"C",u=w)}}return a&&(u=u.map((function(t){return(0,i.parseADData)(t)}))),(0,i.filterAd)(u,e,c)};e.getBackupAds=l;e.getAbTestAds=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n){var r=e.emptyPlaceholder,o=e.isHideAd,u=e.isParseData;a.default.ensure((function(){var e=t.page,d=t.area,h=t.range,f=t.data,p=t.ct,g=[],m=l([],{page:e,area:d,range:h,ct:p},{isParseData:u});(m=m.concat(l([],{page:e,area:d,range:h,data:f},{isParseData:u}))).forEach((function(t){s.default.hasAbTest(t)&&a.default.isSimpleHit(t.abTest)&&g.push(t)})),n((0,i.filterAd)(c(g),r,o))}))}))};e.getSpecialAds=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r){var o=n.emptyPlaceholder,u=n.isHideAd,d=n.isParseData;a.default.ensure((function(){var n=e.page,h=e.area,f=e.range,p=e.data,g=e.ct,m=[],v=[],y=l([],{page:n,area:h,range:f,ct:g},{isParseData:d});(y=y.concat(l([],{page:n,area:h,range:f,data:p},{isParseData:d}))).forEach((function(t){s.default.hasAbTest(t)?a.default.isSimpleHit(t.abTest)&&m.push(t):v.push(t)})),y=m.concat(t.filter((function(t){return"adEmpty"!==(t.type||t.style)}))).concat(v),r((0,i.filterAd)(c(y),o,u))}))}))};e.recombineByAbTest=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n){var r=e.emptyPlaceholder,l=e.isOnlyAbTestAd,u=void 0!==l&&l,d=e.isHideAd;a.default.ensure((function(){var e,l=[],h=[],f=function(t){(0,o.isObject)(t)&&(s.default.hasAbTest(t)?a.default.isSimpleHit(t.abTest)&&l.push(t):h.push(t))};(0,o.isArray)(t)&&t.forEach((function(t){(0,o.isArray)(t)&&t.forEach((function(t){f(t)})),(0,o.isObject)(t)&&f(t)})),e=l.concat(u?[]:h),n((0,i.filterAd)(c(e),r,d))}))}))}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";var r=n(9);Object.defineProperty(e,"__esModule",{value:!0}),e.combine=e.parseSpecialUrl=e.getUrl=void 0;var i=n(113),o=r(n(24)),s=n(28);e.getUrl=function(t){return(0,s.isFunction)(t)?t():/^(https?:)?\/\//.test(t)&&!/\.(js|css|png|jpg|jpeg|gif|webp|ttf)/.test(t)?t:""};e.parseSpecialUrl=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={uuid:(0,i.getUidAsync)(),val_nm:(n||{}).val_nm||(n||{}).event,ct:o.default.getChannelType(),_REFER_VAL:window._REFER_VAL||""},s=t||{},a=s.params;return a?((a.match(/\${[^}]*}/g)||[]).forEach((function(t){a=a.replace(t,r[t.replace(/[${}]/g,"")])})),e?e+(/\?/.test(e)?"&":"?")+a:a):e};e.combine=function(t,e){var n=t,r=[];return n=n||"",(0,s.isObject)(n)&&(Object.keys(n).forEach((function(t){r.push("".concat(t,"=").concat(encodeURIComponent(n[t])))})),n=r.join("&")),/\//.test(e)?e+(n?/\?/.test(e)?"&":"?":"")+n:e&&n?"?".concat(n):n}},function(t,e,n){"use strict";var r=n(9);Object.defineProperty(e,"__esModule",{value:!0}),e.AdExposure=void 0;var i=r(n(108)),o=r(n(109)),s=r(n(24)),a=r(n(145)),c=n(207),l=n(112),u=function(){function t(e){(0,i.default)(this,t),this.options=Object.assign({exposureAd:{threshold:0,cbs:"__ioCbs__a"},exposurePosition:{threshold:.5,cbs:"__ioCbs__p"}},e||{}),this.adIo=new c.Exposure(this.options.exposureAd),this.posIo=new c.Exposure(this.options.exposurePosition),this.antAnalysis=a.default}return(0,o.default)(t,[{key:"positionExposure",value:function(t,e,n){var r=arguments,i=this,o=e||{},a=o.type,c=void 0===a?"once":a,u=o.duration,d=void 0===u?0:u,h=o.antData,f=void 0===h?null:h,p=s.default.getDom(t);if(!p._isBind_position){p._isBind_position=!0;var g=function t(e){var o=e.status,s=e.target;"once"===c&&(s=s||e.dom),"show"===o&&s?s.timer=setTimeout((function(){if((0,l.elementIsVisible)(s)){var e=n||r[r.length-1];"function"==typeof e&&e(),f&&(f.event=f.event||f.val_nm,f.target=f.target||f.val_act,i.antAnalysis.send(f)),s.timer=null,"once"===c&&(0,l.removeCbFromEle)(s[i.options.exposurePosition.cbs],t)}}),d):s&&(s.timer&&clearTimeout(s.timer),s.timer=null)};this.posIo.on(p,g,"all")}}},{key:"adExposure",value:function(t,e,n){var r=arguments,i=this,o=e||{},a=o.type,c=void 0===a?"once":a,l=o.antData,u=void 0===l?null:l,d=o.submit,h=void 0===d?"send":d,f=s.default.getDom(t);f._isBind_ad||(f._isBind_ad=!0,this.adIo["once"===c?"once":"on"](f,(function(t){var e=t.status,o=t.target;if("once"===c&&(o=o||t.dom),"show"===e&&o){var s=n||r[r.length-1];"function"==typeof s&&s(),u&&(u.event=u.event||u.val_nm,u.target=u.target||u.val_act,i.antAnalysis[h](u))}}),"none"))}}]),t}();e.AdExposure=u},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){const r=n(208),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];e.getBlocksCount=function(t,e){switch(e){case r.L:return i[4*(t-1)+0];case r.M:return i[4*(t-1)+1];case r.Q:return i[4*(t-1)+2];case r.H:return i[4*(t-1)+3];default:return}},e.getTotalCodewordsCount=function(t,e){switch(e){case r.L:return o[4*(t-1)+0];case r.M:return o[4*(t-1)+1];case r.Q:return o[4*(t-1)+2];case r.H:return o[4*(t-1)+3];default:return}}},function(t,e){e.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}},function(t,e){let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+")(?:.|[\r\n]))+";e.KANJI=new RegExp(n,"g"),e.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),e.BYTE=new RegExp(r,"g"),e.NUMERIC=new RegExp("[0-9]+","g"),e.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const i=new RegExp("^"+n+"$"),o=new RegExp("^[0-9]+$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");e.testKanji=function(t){return i.test(t)},e.testNumeric=function(t){return o.test(t)},e.testAlphanumeric=function(t){return s.test(t)}},function(t,e){function n(t){if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map((function(t){return[t,t]})))),6===e.length&&e.push("F","F");const n=parseInt(e.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+e.slice(0,6).join("")}}e.getOptions=function(t){t||(t={}),t.color||(t.color={});const e=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,r=t.width&&t.width>=21?t.width:void 0,i=t.scale||4;return{width:r,scale:r?4:i,margin:e,color:{dark:n(t.color.dark||"#000000ff"),light:n(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},e.getImageWidth=function(t,n){const r=e.getScale(t,n);return Math.floor((t+2*n.margin)*r)},e.qrToImageData=function(t,n,r){const i=n.modules.size,o=n.modules.data,s=e.getScale(i,r),a=Math.floor((i+2*r.margin)*s),c=r.margin*s,l=[r.color.light,r.color.dark];for(let e=0;e<a;e++)for(let n=0;n<a;n++){let u=4*(e*a+n),d=r.color.light;if(e>=c&&n>=c&&e<a-c&&n<a-c){d=l[o[Math.floor((e-c)/s)*i+Math.floor((n-c)/s)]?1:0]}t[u++]=d.r,t[u++]=d.g,t[u++]=d.b,t[u]=d.a}}},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(394);var s=o(n(214));i(n(214),e),e.default=s.default},function(t,e){function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(t){a=!0,i=t}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t){return new RegExp("(<p>)?\\s*"+t+"\\s*(<\\/p>)?","i")}t.exports=function(t){var e=t.body,r=t.docid,o="";e=(e=(e=(e=(e=e.replace(/<p[^<]*class=["']preset-original-title["']>(.*?)<\/p>/,(function(t,e){return o=e,""}))).replace("<p>\x3c!--viewpoint--\x3e</p>","")).replace(/(<br\/?>)*\s*(<(\/)?p[^<]*>)\s*(<br\/?>)*/g,"$2")).replace(/<object[^(</object>)]*application\/x-shockwave-flash[^(</object>)]*>/gi,"").replace(/<object[^>]*application\/x-shockwave-flash[^>]*>/gi,"")).replace(/<\s*a[^>]*href=(["'])?([^\s]+)\1[^>]*>.+?<\s*\/a\s*>/g,(function(t,e,n){return n})),Array.isArray(t.sectionTitle)&&t.sectionTitle.forEach((function(t){e=e.replace(t.ref,'<div class="section-title"><img src="'.concat(t.imgsrc,'" /><h3>').concat(t.title,"</h3></div>"))})),Array.isArray(t.opencourse)&&t.opencourse.length&&t.opencourse.forEach((function(t){var n=t.supportPreview&&2===t.contentType?'<span class="footer-1 js-link" data-url="'.concat(t.h5PreviewUrl,'" data-type="').concat(t.contentType,'">免费试听</span>'):"",r=t.title.length>24?t.title.slice(0,24)+"...":t.title,i=t.subtitle.length>16?t.subtitle.slice(0,16)+"...":t.subtitle,o='\n      <div class="m-opencourse">\n        <div class="m-link-card js-link" data-url="'.concat(t.h5DetailUrl,'" data-stat="').concat("inner@opencourse",'">\n          <div class="').concat("img",'">\n            ').concat(t.imageSquareUrl?'<figure class="js-lazy u-img-placeholder" data-echo="'.concat(t.imageSquareUrl,'" data-size="52"><img src=""></img></figure>'):"","\n            <div class='u-img-gradient-mask'>\n              <span>共").concat(t.contentCount,'集</span>\n            </div>\n          </div>\n          <div class="info">\n            <h3>').concat(r,"</h3>\n            <small>").concat(i,'</small>\n          </div>\n        </div>\n        <div class="m-opencourse-footer">\n            <div>\n              ').concat(n,'\n              <span class="footer-2">').concat(t.interestCount,'人感兴趣</span>\n            </div>\n            <div>\n              <span data-url="').concat(t.h5DetailUrl,'" class="footer-3 btn-red-radius js-link">查看详情</span>\n            </div>\n        </div>\n      </div>\n    ');e=e.replace(t.ref,o)})),!(Array.isArray(t.opencourse)&&t.opencourse.length)&&t.link&&t.link.length&&t.link.forEach((function(t){var n=t.href;if(/^https?:\/\/\w+\.163\.com\/news\/article\//.test(t.href)){var r=t.href.match(/article\/(\w+)\.html/)[1];n=/^https?:\/\/www/.test(t.href)?"https://c.m.163.com/news/a/".concat(r,".html"):"https://m.163.com/all/article/".concat(r,".html")}var i='<a class="news-link" href="'.concat(n,'">').concat(t.title,"</a>");if("linkCard"===t.type){var o="img",s="inner@card",a=t.href.match(/news\/l\/\w+/);t.href.match(/question\.html/)&&(o+=" radius",s+="_question"),a&&(s+="_live");var c=a?'<i class="icon-live"></i>':'<i class="icon-href"></i>';i='\n        <div class="m-link-card js-link" data-url="'.concat(n,'" data-stat="').concat(s,'">\n          <div class="').concat(o,'">\n            ').concat(t.imgsrc?'<figure class="js-lazy u-img-placeholder" data-size="52" data-echo="'.concat(t.imgsrc,'"><img src=""></img></figure>'):c,'\n          </div>\n          <div class="info">\n            <h3>').concat(t.title,"</h3>\n            <small>").concat(t.digest||"点击跳转",'</small>\n          </div>\n          <i class="icon-arrow"></i>\n        </div>\n      ')}e=e.replace(t.ref,i)}));var s=t.img&&t.img.filter((function(t){return t.photosetID})).length>0,a=t.img?t.img.length:0;return t.img&&t.img.length&&t.img.forEach((function(o,c){var l="",u=0,d=0;if(o.pixel){var h=n(o.pixel.split("*"),2);u=h[0],d=h[1],l=u>200?"":'style="width: '.concat(u,'px; display: block; margin: 0 auto;"')}var f=o.photosetID||"",p=1!==t.hideBackflowBtn&&(s||a),g=p?'data-param="'.concat(r,'" data-stat="inner@').concat(f?"album":"photo",'" data-mod="articleInnerPhoto" data-channel="news_sps_aphoto"'):"";o.src?(o.alt&&(o.alt=o.alt.replace(/<!--[^(-->)].*-->/g,"")),e=e.replace(i(o.ref),'\n          <div class="m-photo " style="position: relative;">\n            <figure class="js-lazy img-loaded u-img-placeholder" data-min="120" data-retry="1" data-alt="'.concat(o.alt||"",'" data-echo="').concat(o.src,'" data-size="335">\n              <img class="js-preview-img" src="https://static.ws.126.net/163/frontend/images/2022/empty.png" ').concat(l,' \n                data-echo="').concat(o.src,'" data-width="').concat(u,'" data-height="').concat(d,'"></img>\n                ').concat(f?'<span class="tag"><i class="icon-image"></i><span>'.concat(o.imgsum,"</span></span>"):"","\n                ").concat(p?'<div class="u-tip js-media-invoke" data-exposure="innerVideo" data-type="video" style="position: relative;">\n                      <div class="js-open-newsapp" data-exposure="innerPhoto@'.concat(c+1,'" ').concat(g,'>打开网易新闻 查看更多图片 <i class="icon-arrow"></i></div>\n                    </div>'):"","\n            </figure>\n              ").concat(o.alt?'<figcaption><i class="icon-quotes-left"></i>'+o.alt+"</figcaption>":"","\n          </div>\n        "))):e=e.replace(i(o.ref),"")})),t.video&&t.video.length&&t.video.forEach((function(n,r){var o="";if(n.url_mp4&&n.url_mp4.match(/\.(mp3|wav|8svx|aac|cdda|flac|m4a|mp2|ogg|opus|w64|wma)/i))o='\n        <div class="m-audio">\n          <audio controls preload="metadata" src="'.concat(n.url_mp4,'"></audio>\n          <div class="comment">').concat(n.alt,"</div>\n        </div>\n      ");else{var s=n.mp4_url&&n.mp4_url.replace(/^http\:/,""),a=n.m3u8_url&&n.m3u8_url.replace(/^http\:/,"");o='\n          <div class="m-video '.concat(n.videoRatio&&n.videoRatio<.5625?"verticalVideo":"",'">\n            <div class="js-video">\n              <figure class="js-img img-loaded js-lazy u-img-placeholder video-cover" data-min="120" data-retry="1" data-alt="').concat(n.alt||"",'" data-echo="').concat(n.cover,'" data-size="335">\n                <img src="" data-height="3.8rem"></img>\n                <i class="icon-play"></i>\n              </figure>\n              <video\n              data-mp4="').concat(s,'"\n              data-m3u8="').concat(a,'"\n              webkit-playsinline="true" playsinline="true" x5-video-player-fullscreen="false"  x5-video-player-type="h5-page" controls="true"> \n              </video>\n            </div>\n            ').concat(1!==t.hideBackflowBtn&&0===r?'<div class="u-tip js-media-invoke" data-exposure="innerVideo" data-type="video" style="position: relative;">\n                  <div class="js-open-newsapp" data-stat="inner@video" data-mod="articleInnerVideo"  data-channel="news_sps_avideo">打开网易新闻 查看更多视频 <i class="icon-arrow"></i></div>\n                </div>':"","\n            ").concat(n.alt?'<figcaption><i class="icon-quotes-left"></i>'+n.alt+"</figcaption>":"","\n          </div>\n        ")}e=e.replace(i(n.ref),o)})),t.timelines&&t.timelines.length&&t.timelines.forEach((function(t){var n=t.timeline.map((function(t,e){return"\n      <li>\n        <time>".concat(0===e?"最新":t.time,'</time>\n        <div class="event">').concat(t.event,"</div>\n      </li>\n    ")})).join("");e=e.replace(i(t.ref),'\n      <div class="m-timeline">\n        <header><i class="icon-timeline"></i>新闻时间线</header>\n        <ol>'.concat(n,"</ol>\n      </div>\n    "))})),t.variousTalks&&t.variousTalks.length&&t.variousTalks.forEach((function(t){var n=t.variousTalk.map((function(t){return'\n      <li>\n        <figure class="js-lazy img" data-echo="'.concat(t.headimg,'" data-size="32">\n        <img src="" alt="" style="">\n        </figure>\n        <div class="info">\n          <div class="name">').concat(t.name,'<i class="icon-flag ').concat(1==+t.standpoint?"red":"blue",'"></i></div>\n          <div class="talk">').concat(t.talk,"</div>\n        </div>\n      </li>\n    ")})).join("");e=e.replace(i(t.ref),'\n      <div class="m-talks">\n        <header><i class="icon-talk"></i>各方言论</header>\n        <ol>'.concat(n,"</ol>\n      </div>\n    "))})),t.ydbaike&&t.ydbaike.length&&t.ydbaike.forEach((function(t){e=e.replace(i(t.ref),'\n      <div class="m-special">\n        <header>'.concat(t.word,'  <a class="news-link" style="float: right" href="').concat(t.href,'">查看更多</a></header>\n        <main>\n          ').concat(t.digest,"\n        </main>\n      </div>\n    "))})),t.book&&t.book.length&&t.book.forEach((function(t){e=e.replace(i(t.ref),'\n      <div class="m-book js-open-newsapp" data-param="book/'.concat(t.docid,'" data-stat="inner@book">\n        <div class="img" data-echo="').concat(t.cover,'"></div>\n        <div class="info">\n          <h3>').concat(t.title,'</h3>\n          <div class="intro ellipsis-2r">').concat(t.content,'</div>\n          <div class="author">').concat(t.author," / ").concat(t.category,'</div>\n        </div>\n        <i class="icon-arrow"></i>\n      </div>\n    '))})),e=(e=e.replace(/<table/g,(function(t){return'<div class="table-wrapper">'+t}))).replace(/<\/table>/g,(function(t){return t+"</div>"})),t.spinfo&&t.spinfo.length&&t.spinfo.forEach((function(t){e=e.replace(i(t.ref),'\n      <div class="m-special js-sp-delegate">\n        <header class="js-sptype">'.concat(t.sptype,'</header>\n        <main class="js-content">').concat(t.spcontent.replace(/<br\/><a/g,"<a").replace(/<\/a><br\/>/g,"</a>"),"</main>\n      </div>\n    "))})),t.votes&&t.votes.length&&t.votes.forEach((function(t){e=e.replace(i(t.ref),(function(){var e=1!==t.option_type;if(e&&/normalVote/.test(t.voteType))return'<div class="js-normal-vote" data-voteid='.concat(t.voteid,'>\n                    <slot name="header"></slot>\n                  </div>');var n=t.ref.match(/PK/),r=1===t.date_type;if(!t.voteitem)return"";var i=t.voteitem.map((function(n,i){var o=100*n.num/t.sumnum;return r?'\n            <li>\n              <div class="inner">\n                <div>'.concat(i+1,". ").concat(n.name,' </div>\n                <div class="progress">\n                  <div class="bar" style="width: ').concat(o,'%"></div>\n                  <div class="rate">').concat(o.toFixed(0),"%</div>\n                </div>\n              </div>\n            </li>\n          "):'<li class="js-vote" data-id="'.concat(n.id,'" data-votenum="').concat(n.num,'">\n          <i class="').concat(e?"icon-radio":"icon-checkbox",'"></i>\n          <i class="').concat(e?"icon-radio-checked":"icon-checkbox-checked",'"></i>\n          <div class="inner">\n            ').concat(i+1,". ").concat(n.name,'\n            <div class="progress">\n              <div class="bar" style="width: ').concat(o,'%"></div>\n              <div class="rate">').concat(o.toFixed(0),"%</div>\n            </div>\n          </div>\n        </li>")})).join(""),o=e?"单选":"多选";o=n?"":o;var s=n?"PK":"投票";return s="".concat(s,r?"已结束":"进行中"),'\n        <div class="js-open-newsapp m-vote '.concat(""," ").concat(e?"single":"multi"," ").concat(r?"vote-off":"vote-on",'" data-id="').concat(t.voteid,'" data-stat="inner@vote">\n          <header>').concat(n?"PK台":"投票"," <span>").concat(o,"</span></header>\n          <main>\n            <h4>").concat(t.question,'</h4>\n            <div class="subtitle">').concat(t.date&&t.date.slice(0,10)," &nbsp;").concat(s,' &nbsp;<span class="sum" data-number="').concat(t.sumnum,'">').concat(t.sumnum,"人</span></div>\n            <ol>").concat(i,"</ol>\n          </main>\n          ").concat(r?"":'<footer class="commit js-vote-commit">提交</footer>',"\n        </div>\n      ")}))})),t.liveRoom&&t.liveRoom.length&&t.liveRoom.forEach((function(t){e=e.replace(i(t.ref),'\n      <div class="liveCard" data-liveid='.concat(t.liveId,"></div>\n    "))})),{body:e,originalTitle:o}}},function(t,e){function n(){return(n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var r="production";t.exports=n({env:r,filter:function(t){return!1},statementEn:"Notice: The content above (including the pictures and videos if any) is uploaded and posted by a user of NetEase Hao, which is a social media platform and only provides information storage services."},{})},function(t,e){t.exports={tidGroup:["T1590387404851","T1597382529330","T1604659912890","T1597403757008","T1594092129145","T1590387378246","T1600665036053","T1626177170019","T1594089825317","T1626170670993"]}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(255);function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),r(t,i.key,i)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),r(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(255);t.exports=function(t,e,n){return e in t?r(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){t.exports=n(544)},function(t,e,n){t.exports=n(558)},function(t,e,n){t.exports=n(561)},function(t,e){t.exports={projectId:"NTM-CQNTS2VV-3",pages:{article:{name:"article"},comment:{name:"comment"}}}},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAABjCAYAAACPO76VAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAY6ADAAQAAAABAAAAYwAAAACewVwgAAAK2UlEQVR4Ae2bW4hUyRnH1XF3xxBDlIHNjYSE5MWALwrmVQUvGI0K4ptBH3wKAX1SCYYVDD5o2I1ZczFGkygBSTawuKCYJYJrdCKaKIYoDivrLYF4jUEHdXrz/bvnN/mmPKenT3edmW6nCmq+S9X56qv//1TV6dM9EyakkhBICCQEEgIJgYRAQiAhkBBICCQEEgIJgYRAQiAhkBBICCQEEgIJgYRAQqC9EZg4yukVGe/jUc5tzIcrAk4zycaO/1ITFBssCMuLm+fnulDmgZ/nD6/vKLsoOI1MLitm6AvtrLhZgIe+0M6K0zG+RkApOhkf0+uKg40kNnYIrrfzdMXwbcTsOAkIsRL38UIdO5T1xhbIHugs21/v+3p/R+gAEytZ4iEVVzo2OpJ2SV8A1YNfT/fXSuf60N/W9uSSswP0elIpqN2XLODx5QHt/YrnbR+7bfUQhFYTBXTFQfdyUuCXrRLmAZCSvlYC27cpjgrX1qwXbfxtJ2OujBBQJgsZECFJpS28FkABGxLUTz5sdPyyiSVdJbRr3jb8G5MMPz0B4CtEdJkfIvAhAU1xBKSvAl9VfbwEcKTauY54vs2aq+2SbVcERMwCAIop3VdPQteOHTs+8+jRo58+ffr0T3fu3PnBtm3bPm/9X8moumFU1YYuUiHW64wHwdatmoMkhT7YL6XUJAEc8F4z3xSrn7T6KavTrPZYff3x48d//NiVSqXy+MaNG2/NnTv369b+Fatftvolq1+0+gWrn7P6ulVdP93qp60qpmJ/wmq3VY33qlWI80RBEGRItlWJmZCfpHSIkQQUkVTVjYcPTRd4w8rAwMC/L1269KP58+f/7u7duwPWqG2JKpvqfdK1HeFjqwqldakW+X0Jbd82anrZZECCCGGLqUoj46N6s+zv7796/PjxncuWLTtp/QQyxDx3Nj6kJwOCBLR0FcipWS+eH2NKSllksCogQzIk4xqI1JMPHz48vX///p0bNmy4Yv1EBCvDS08WxECCl4Atia7hvZ5ly1d6KYMMEaG4IoAVARns5a/YyugrMLvK7du33926deuP9+3b90+7DiI8ORACGbKpgC8bXcOHuny+hCT5tuh6WWSEK0Orgicl6a8aGbrTCxU75PuvXr16YO3atftPnz79X7vYkwFBSIgIJQR4qTwAHkluoY0/uiybDAHvVwWEiIx/NDub58+f3zl79uyeJUuW/P7+/fvPLI4IyCIGIlgtAhaf9Kxq7moJSQht+kWTZZIhEiDCrww9eoqMv7c6iydPnvQdO3bshytWrDhpsTwZ0gW6XyUQ4smQDiHSVbBr1v9XTJ6Nv2Wp7SRmySNXflXOkyjjTpky5avLly/fc+/evb27du3S55Mq0YOSVTh0TplfNwWrVTnoZpGkhnla09AHV+kq9KlZEf8qcKwSgu1XBSsDsF6zlXEx1sCDcWIc8n6l+BXCFoUk9dDG35QsiwzuOO5E7lJPxoWmMh7hosFD/ld2yP8ywiGftXWFBIT2CBnmN5dJhghhdYgMiJDUyvhbflqttxQ85DlPJAWuSMhaJQCPJNHQxl9IjgYZ7NmejG4j46+FMm2yc84h7w97DnkIEQnoECPpq7LxBHhdbU2VKAdpwZFj3gAjDp1xyLNK2TrZSsODna1WGClnXzVu9HmMBRmayKiXadOmfWPjxo2Hb926tX39+vV6A6yVCiGsXoiBCE9APfDrtTU81yhBBkdTLO4izgtJJso2pTe1OjNGZZsazG2YsLGf9PX16ZDfd+rUqf9Yo7YtKtsWWxnblrairHOE2C1vVeOSDNDTIX/hwoXdCxcuPGyv6586QkJiRIKvAh7wQ0n4wnLcbFNZyEyePLln1qxZb9y8efNd+yQ/1/qwooULWxWrnRC6gWPexMStbitDxnhVuru7v7ZgwYJf2NfAvz506NAMw0FECHCIgABPgtejQBczoGKRPHeYZNudGSMgV7HXK7+xr3+/d/HixX7ry9nB4y7bFVtV2qZGALSV5knTp0//tn3L+F0LohuM2krMhq7VnZxKBgJTp06dHbhj7iJB6JqZyMiEZcKEBw8e9OY0lebWh5xUhiNQscfcAzNnztw93D30KBu445lpZTgs7Wnqz/Y09c2enp7v2w/rwg94rmc5aloZhqv9LKjvxIkTOxcvXvy+mfoaV09IWU9NPEFZc/wyrsnQJ/Bz5879xEg4bN+l6xM4r0J4jAV8L2FBvqhlXJKhL6CuXLlyUO+ment7/bspSGBVID3wEBOVCAUbb2dGxV59HFm3bt23ZsyYsTsgIu99lMD354cnwZPk/U3p42Zl2BPSX/bu3fvm5s2b9RMhDzyfsJFsVawKTwSrIioJMPfSk2G/dv/wyJEjb61evfqkTVpAA3ooISHcqhohIAo5Y0FGlMS5m/Lks2fP7p45c+bnS5cufcd+r6snpHrgQ4RWgSdDuWatDA0bfR6jQUZW0lk+TbDlosP58uXLh9asWXPAnpT8T0AhA+C9ZEuCiDwSyBvZcr4+QJlkhAnL9tXnEUOv2D/bvLdly5Y9Bw8e/JcFFLAhAbK5+wEeW7lBCnnKVsFGrzoH/6gtSimLDBL0kgkho0xAQdzhfNlMSAiJkB8CkIAvqbyQ5Ii0pmqR7Uto+7bCellk+ETChMMJ+r6FdHc4f2AXAj4S8L0U2J4I5QIBSPIN88RPjqGNv2kZmwwlmPWqmYkxYcmmy+Dh/DM7nP8QHM4A7wnRWJ4A2VTykiQnfOQn25fQ9m0t6bHJ8MmQNJNDAoTv25DexOGssUIilIf85BNKcpHfl9D2bVH0MslQguFEZTdDRiuHM+Mhs3IiVy+lq5ROQm2Y2s/j0WNKJuAlYEjqbm2o2PfRvfrkvGnTJv8/fX4bYmtiBSD9eMpDtqSvysHnKNsX2ryvNL2MlaEJ6NxgIgJB78BkA9CIZOg3skePHn1z5cqVHwxe50HP0hXbE8F4XpKTJLqpw/QsW77SSxlkKGkmy4QhATlgv+rrnzhxov6RfljRa+3z58+/vWjRonfstbYHtxECiC/pc5Ctgq9mtQkJJFP2W1tNHmAAqgqqPZbqXdFQ0U8ur1279va8efMWzpkz57dGhH4mo+8YqHql4au2Kl5zSPdbF2MhfR7WNZMU9RnTot81xSr+Jy083uLDHhqrq6vr1OzZsz9rq2OSnQvvbd++/TurVq16//r16yJBIAJunvSrBtAlufu9ZNwQ8NCm35jIF0BqIQuAVwh0rTxfRb5sJG30lwQgwPRAZ+nql0WCuYfFku0L43jfmOqxzwxNUIBSABTA8EviEyGQQbu/jn6eCHxeSleRRMeWpPg2fG0hY5PBpPyEpQtIgS6pEvo8gbRL+jseHakYxOEa2RSvyxfa9GsbGZMMTTYEVRMFBIFIO31pw6/+KvglVXWtSkgE7fRXH69n2fK1ZYlJBhMUGAI3BIV2SFEfr9MuqWu5Hj1Pch3982z8bSvLIMNP1gMkXQT4Sl/5KOE12JJU9fV+rkXSht0R0oMQI2EfL9Tr2VljA2ie1DW0cX1o4+8I6QGKlbCP6XXFx0aONCbgIuk/kk2/jpKNglJkUlkxG/X5cULA1Rb6Qttf33F6FkgxJpEXN8+fN2Ye2Hn+vDgd4S8KTtFJxY7/UpJQFNTUPyGQEEgIJAQSAgmBhEBCICGQEEgIJAQSAgmBhEBCICGQEEgIJAQSAgmBhMBYIfA/1fKFF4Xy1ZkAAAAASUVORK5CYII="},function(t,e,n){const r=n(867),i=n(868),o=n(886),s=n(887);function a(t,e,n,o,s){const a=[].slice.call(arguments,1),c=a.length,l="function"==typeof a[c-1];if(!l&&!r())throw new Error("Callback required as last argument");if(!l){if(c<1)throw new Error("Too few arguments provided");return 1===c?(n=e,e=o=void 0):2!==c||e.getContext||(o=n,n=e,e=void 0),new Promise((function(r,s){try{const s=i.create(n,o);r(t(s,e,o))}catch(t){s(t)}}))}if(c<2)throw new Error("Too few arguments provided");2===c?(s=n,n=e,e=o=void 0):3===c&&(e.getContext&&void 0===s?(s=o,o=void 0):(s=o,o=n,n=e,e=void 0));try{const r=i.create(n,o);s(null,t(r,e,o))}catch(t){s(t)}}e.create=i.create,e.toCanvas=a.bind(null,o.render),e.toDataURL=a.bind(null,o.renderToDataURL),e.toString=a.bind(null,(function(t,e,n){return s.render(t,n)}))},function(t,e,n){t.exports=n.p+"ai-robot.1e58a08d5a0e.svga"},function(t,e,n){"use strict";(function(t){var r=n(388),i={};t&&t.hot&&t.hot.accept(),i=function(t,e){var n,i,o=navigator.userAgent,s=Object(r.a)({title:document.title,desc:"",img:"http://static.ws.126.net/163/frontend/images/logo-netease.png",statistics:{},other:"",wbText:document.title,wbImg:"",site:window.location.host,callback:function(){}},t),a=o.match(/micromessenger/gi),c=o.match(/weibo/gi),l=o.match(/qzone/gi),u=o.match(/yixin/gi),d=function(t,e){var n="";t&&"favorite"===t.shareTo?n="favorite":e.err_msg.match(/(confirm|ok)/)?(n="sharedone",s.callback(!0)):(n="shareerror",s.callback(!1)),window.NTESAntAnalysis&&window.NTESAntAnalysis.sendData({projectid:"NTM-CQNTS2VV-3",val_nm:"share",val_act:n})},h=function(){var e=window.NTESAntAnalysis&&"function"==typeof window.NTESAntAnalysis.getShareLink?window.NTESAntAnalysis.getShareLink():window.location.href;return t.isFromH5Share&&-1===e.indexOf("isFromH5Share")&&(e=-1!==e.indexOf("?")?"".concat(e,"&isFromH5Share=").concat(t.isFromH5Share):"".concat(e,"?isFromH5Share=").concat(t.isFromH5Share)),e};n=document.querySelectorAll(".share-icon"),i=function(t){var e="";for(var n in t)if({}.hasOwnProperty.call(t,n)){var r=void 0;r="other"===n?t[n]:"".concat(n,"=").concat(t[n]),e+="".concat(r,"&")}return e}(s.statistics),Array.prototype.forEach.call(n,(function(t){!a&&t.classList.contains("u-weixin")&&(t.style.display="none"),t.addEventListener("click",(function(t){var e=t.target.getAttribute("data-type");("wx"===e&&a||"wb"===e&&c||"qq"===e&&l||"yx"===e&&u)&&(t.stopPropagation(),t.preventDefault(),document.body.insertAdjacentHTML("beforeend",'<div class="share-tip"></div>')),window.neteaseTracker&&window.neteaseTracker(!1,"http://sps.163.com/func/?func=sharedone&".concat(i,"spsf=").concat(e),"","sps")}))})),document.addEventListener("click",(function(){var t=document.querySelector(".share-tip");t&&t.parentNode.removeChild(t)})),a?function(){function t(){window.WeixinJSBridge.on("menu:share:timeline",(function(t){window.WeixinJSBridge.invoke("shareTimeline",{img_url:s.img,img_width:200,img_height:200,link:h(),desc:s.desc,title:e&&"string"==typeof e?e:s.title},(function(e){d(t,e)}))})),window.WeixinJSBridge.on("menu:share:appmessage",(function(t){window.WeixinJSBridge.invoke("sendAppMessage",{img_url:s.img,link:h(),desc:s.desc,title:s.title},(function(e){d(t,e)}))}))}window.WeixinJSBridge?t():document.addEventListener("WeixinJSBridgeReady",(function(){t()}),!1)}():u&&document.addEventListener("YixinJSBridgeReady",(function(){var t=h();window.shareData={imgUrl:s.img,wImgUrl:s.wbImg,timeLineLink:t,sendFriendLink:t,weiboLink:t,tTitle:s.title,tContent:s.desc,fTitle:s.title,fContent:s.desc,wContent:s.wbText},window.YixinJSBridge&&window.YixinJSBridge.on("menu:share:appmessage",(function(){window.YixinJSBridge.invoke("sendAppMessage",{img_url:s.img,link:t,desc:s.desc,title:s.title})})),window.YixinJSBridge&&window.YixinJSBridge.on("menu:share:timeline",(function(){window.YixinJSBridge.invoke("shareTimeline",{img_url:s.img,img_width:200,img_height:200,link:t,desc:s.desc,title:s.title})}))}),!1)},e.a=i}).call(this,n(62)(t))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r})),t&&t.hot&&t.hot.accept();var r=Object.assign||function(){if(null===(arguments.length<=0?void 0:arguments[0]))throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(arguments.length<=0?void 0:arguments[0]),e=1;e<arguments.length;e++){var n=e<0||arguments.length<=e?void 0:arguments[e];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}}).call(this,n(62)(t))},function(t,e,n){var r=n(902);r.registerLanguage("xml",n(903)),r.registerLanguage("bash",n(904)),r.registerLanguage("c",n(905)),r.registerLanguage("cpp",n(906)),r.registerLanguage("csharp",n(907)),r.registerLanguage("css",n(908)),r.registerLanguage("markdown",n(909)),r.registerLanguage("diff",n(910)),r.registerLanguage("ruby",n(911)),r.registerLanguage("go",n(912)),r.registerLanguage("graphql",n(913)),r.registerLanguage("ini",n(914)),r.registerLanguage("java",n(915)),r.registerLanguage("javascript",n(916)),r.registerLanguage("json",n(917)),r.registerLanguage("kotlin",n(918)),r.registerLanguage("less",n(919)),r.registerLanguage("lua",n(920)),r.registerLanguage("makefile",n(921)),r.registerLanguage("perl",n(922)),r.registerLanguage("objectivec",n(923)),r.registerLanguage("php",n(924)),r.registerLanguage("php-template",n(925)),r.registerLanguage("plaintext",n(926)),r.registerLanguage("python",n(927)),r.registerLanguage("python-repl",n(928)),r.registerLanguage("r",n(929)),r.registerLanguage("rust",n(930)),r.registerLanguage("scss",n(931)),r.registerLanguage("shell",n(932)),r.registerLanguage("sql",n(933)),r.registerLanguage("swift",n(934)),r.registerLanguage("yaml",n(935)),r.registerLanguage("typescript",n(936)),r.registerLanguage("vbnet",n(937)),r.registerLanguage("wasm",n(938)),r.HighlightJS=r,r.default=r,t.exports=r},function(t,e,n){"use strict";t.exports=n(391).polyfill()},function(t,e){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
!function(n,r){"object"==typeof e&&void 0!==t?t.exports=r():"function"==typeof define&&define.amd?define(r):n.ES6Promise=r()}(this,(function(){"use strict";function t(t){return"function"==typeof t}var e=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},n=0,r=void 0,i=void 0,o=function(t,e){h[n]=t,h[n+1]=e,2===(n+=2)&&(i?i(f):v())};var s="undefined"!=typeof window?window:void 0,a=s||{},c=a.MutationObserver||a.WebKitMutationObserver,l="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),u="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var t=setTimeout;return function(){return t(f,1)}}var h=new Array(1e3);function f(){for(var t=0;t<n;t+=2){(0,h[t])(h[t+1]),h[t]=void 0,h[t+1]=void 0}n=0}var p,g,m,v=void 0;function y(t,e){var n=this,r=new this.constructor(_);void 0===r[w]&&I(r);var i=n._state;if(i){var s=arguments[i-1];o((function(){return R(i,r,s,n._result)}))}else k(n,r,t,e);return r}function b(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(_);return S(e,t),e}l?v=function(){return process.nextTick(f)}:c?(p=0,g=new c(f),m=document.createTextNode(""),g.observe(m,{characterData:!0}),v=function(){m.data=p=++p%2}):v=u?function(){var t=new MessageChannel;return t.port1.onmessage=f,function(){return t.port2.postMessage(0)}}():void 0===s&&"function"==typeof require?function(){try{var t=Function("return this")().require("vertx");return void 0!==(r=t.runOnLoop||t.runOnContext)?function(){r(f)}:d()}catch(t){return d()}}():d();var w=Math.random().toString(36).substring(2);function _(){}function E(e,n,r){n.constructor===e.constructor&&r===y&&n.constructor.resolve===b?function(t,e){1===e._state?T(t,e._result):2===e._state?x(t,e._result):k(e,void 0,(function(e){return S(t,e)}),(function(e){return x(t,e)}))}(e,n):void 0===r?T(e,n):t(r)?function(t,e,n){o((function(t){var r=!1,i=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,(function(n){r||(r=!0,e!==n?S(t,n):T(t,n))}),(function(e){r||(r=!0,x(t,e))}),t._label);!r&&i&&(r=!0,x(t,i))}),t)}(e,n,r):T(e,n)}function S(t,e){if(t===e)x(t,new TypeError("You cannot resolve a promise with itself"));else if(i=typeof(r=e),null===r||"object"!==i&&"function"!==i)T(t,e);else{var n=void 0;try{n=e.then}catch(e){return void x(t,e)}E(t,e,n)}var r,i}function A(t){t._onerror&&t._onerror(t._result),C(t)}function T(t,e){void 0===t._state&&(t._result=e,t._state=1,0!==t._subscribers.length&&o(C,t))}function x(t,e){void 0===t._state&&(t._state=2,t._result=e,o(A,t))}function k(t,e,n,r){var i=t._subscribers,s=i.length;t._onerror=null,i[s]=e,i[s+1]=n,i[s+2]=r,0===s&&t._state&&o(C,t)}function C(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,i=void 0,o=t._result,s=0;s<e.length;s+=3)r=e[s],i=e[s+n],r?R(n,r,i,o):i(o);t._subscribers.length=0}}function R(e,n,r,i){var o=t(r),s=void 0,a=void 0,c=!0;if(o){try{s=r(i)}catch(t){c=!1,a=t}if(n===s)return void x(n,new TypeError("A promises callback cannot return that same promise."))}else s=i;void 0!==n._state||(o&&c?S(n,s):!1===c?x(n,a):1===e?T(n,s):2===e&&x(n,s))}var L=0;function I(t){t[w]=L++,t._state=void 0,t._result=void 0,t._subscribers=[]}var O=function(){function t(t,n){this._instanceConstructor=t,this.promise=new t(_),this.promise[w]||I(this.promise),e(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?T(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&T(this.promise,this._result))):x(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;void 0===this._state&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===b){var i=void 0,o=void 0,s=!1;try{i=t.then}catch(t){s=!0,o=t}if(i===y&&void 0!==t._state)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===D){var a=new n(_);s?x(a,o):E(a,t,i),this._willSettleAt(a,e)}else this._willSettleAt(new n((function(e){return e(t)})),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;void 0===r._state&&(this._remaining--,2===t?x(r,n):this._result[e]=n),0===this._remaining&&T(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;k(t,void 0,(function(t){return n._settledAt(1,e,t)}),(function(t){return n._settledAt(2,e,t)}))},t}();var D=function(){function e(t){this[w]=L++,this._result=this._state=void 0,this._subscribers=[],_!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e((function(e){S(t,e)}),(function(e){x(t,e)}))}catch(e){x(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this.constructor;return t(e)?this.then((function(t){return n.resolve(e()).then((function(){return t}))}),(function(t){return n.resolve(e()).then((function(){throw t}))})):this.then(e,e)},e}();return D.prototype.then=y,D.all=function(t){return new O(this,t).promise},D.race=function(t){var n=this;return e(t)?new n((function(e,r){for(var i=t.length,o=0;o<i;o++)n.resolve(t[o]).then(e,r)})):new n((function(t,e){return e(new TypeError("You must pass an array to race."))}))},D.resolve=b,D.reject=function(t){var e=new this(_);return x(e,t),e},D._setScheduler=function(t){i=t},D._setAsap=function(t){o=t},D._asap=o,D.polyfill=function(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=D},D.Promise=D,D}))},function(t,e,n){},function(t,e,n){"use strict";n(213)},function(t,e,n){},function(t,e,n){"use strict";var r=n(20),i=n(216),o=n(396),s=n(224);var a=function t(e){var n=new o(e),a=i(o.prototype.request,n);return r.extend(a,o.prototype,n),r.extend(a,n),a.create=function(n){return t(s(e,n))},a}(n(149));a.Axios=o,a.CanceledError=n(117),a.CancelToken=n(414),a.isCancel=n(223),a.VERSION=n(225).version,a.toFormData=n(220),a.AxiosError=n(80),a.Cancel=a.CanceledError,a.all=function(t){return Promise.all(t)},a.spread=n(415),a.isAxiosError=n(416),t.exports=a,t.exports.default=a},function(t,e,n){"use strict";var r=n(20),i=n(217),o=n(397),s=n(398),a=n(224),c=n(222),l=n(413),u=l.validators;function d(t){this.defaults=t,this.interceptors={request:new o,response:new o}}d.prototype.request=function(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=e.transitional;void 0!==n&&l.assertOptions(n,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,r.unshift(t.fulfilled,t.rejected))}));var o,c=[];if(this.interceptors.response.forEach((function(t){c.push(t.fulfilled,t.rejected)})),!i){var d=[s,void 0];for(Array.prototype.unshift.apply(d,r),d=d.concat(c),o=Promise.resolve(e);d.length;)o=o.then(d.shift(),d.shift());return o}for(var h=e;r.length;){var f=r.shift(),p=r.shift();try{h=f(h)}catch(t){p(t);break}}try{o=s(h)}catch(t){return Promise.reject(t)}for(;c.length;)o=o.then(c.shift(),c.shift());return o},d.prototype.getUri=function(t){t=a(this.defaults,t);var e=c(t.baseURL,t.url);return i(e,t.params,t.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(t){d.prototype[t]=function(e,n){return this.request(a(n||{},{method:t,url:e,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(t){function e(e){return function(n,r,i){return this.request(a(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}d.prototype[t]=e(),d.prototype[t+"Form"]=e(!0)})),t.exports=d},function(t,e,n){"use strict";var r=n(20);function i(){this.handlers=[]}i.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},function(t,e,n){"use strict";var r=n(20),i=n(399),o=n(223),s=n(149),a=n(117);function c(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new a}t.exports=function(t){return c(t),t.headers=t.headers||{},t.data=i.call(t,t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||s.adapter)(t).then((function(e){return c(t),e.data=i.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(c(t),e&&e.response&&(e.response.data=i.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var r=n(20),i=n(149);t.exports=function(t,e,n){var o=this||i;return r.forEach(n,(function(n){t=n.call(o,t,e)})),t}},function(t,e,n){"use strict";var r=n(20);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(402),i=n(403),o=n(404);function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return d(this,t)}return l(this,t,e,n)}function l(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=h(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(e,n),i=(t=a(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(c.isBuffer(e)){var n=0|f(e.length);return 0===(t=a(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?a(t,0):h(t,e);if("Buffer"===e.type&&o(e.data))return h(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function d(t,e){if(u(e),t=a(t,e<0?0:0|f(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|f(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function f(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function p(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(t).length;default:if(r)return $(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,n);case"utf8":case"utf-8":return x(this,e,n);case"ascii":return k(this,e,n);case"latin1":case"binary":return C(this,e,n);case"base64":return T(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:y(t,e,n,r,i);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,r,i){var o,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var u=-1;for(o=n;o<a;o++)if(l(t,o)===l(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){for(var d=!0,h=0;h<c;h++)if(l(t,o+h)!==l(e,h)){d=!1;break}if(d)return o}return-1}function b(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function w(t,e,n,r){return G($(e,t.length-n),t,n,r)}function _(t,e,n,r){return G(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function E(t,e,n,r){return _(t,e,n,r)}function S(t,e,n,r){return G(j(e),t,n,r)}function A(t,e,n,r){return G(function(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function T(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function x(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,c,l=t[i],u=null,d=l>239?4:l>223?3:l>191?2:1;if(i+d<=n)switch(d){case 1:l<128&&(u=l);break;case 2:128==(192&(o=t[i+1]))&&(c=(31&l)<<6|63&o)>127&&(u=c);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(c=(15&l)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(c=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(u=c)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return l(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return function(t,e,n,r){return u(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}(null,t,e,n)},c.allocUnsafe=function(t){return d(null,t)},c.allocUnsafeSlow=function(t){return d(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=c.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?x(this,0,t):g.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,r,i){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),l=this.slice(r,i),u=t.slice(e,n),d=0;d<a;++d)if(l[d]!==u[d]){o=l[d],s=u[d];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return _(this,t,e,n);case"latin1":case"binary":return E(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function k(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function C(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function R(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=U(t[o]);return i}function L(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function O(t,e,n,r,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function D(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function M(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function N(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(t,e,n,r,o){return o||N(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function F(t,e,n,r,o){return o||N(t,0,n,8),i.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var i=e-t;n=new c(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},c.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||O(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||O(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):M(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);O(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);O(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):M(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return P(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return P(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return F(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return F(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=c.isBuffer(t)?t:$(new c(t,r).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function U(t){return t<16?"0"+t.toString(16):t.toString(16)}function $(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function j(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(B,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function G(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(59))},function(t,e,n){"use strict";e.byteLength=function(t){var e=l(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=l(t),s=r[0],a=r[1],c=new o(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),u=0,d=a>0?s-4:s;for(n=0;n<d;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],c[u++]=e>>16&255,c[u++]=e>>8&255,c[u++]=255&e;2===a&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,c[u++]=255&e);1===a&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,c[u++]=e>>8&255,c[u++]=255&e);return c},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(u(t,s,s+16383>a?a:s+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,n){for(var i,o,s=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,l=c>>1,u=-7,d=n?i-1:0,h=n?-1:1,f=t[e+d];for(d+=h,o=f&(1<<-u)-1,f>>=-u,u+=a;u>0;o=256*o+t[e+d],d+=h,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+t[e+d],d+=h,u-=8);if(0===o)o=1-l;else{if(o===c)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=l}return(f?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,c,l=8*o-i-1,u=(1<<l)-1,d=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+d>=1?h/c:h*Math.pow(2,1-d))*c>=2&&(s++,c/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(e*c-1)*Math.pow(2,i),s+=d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;t[n+f]=255&a,f+=p,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;t[n+f]=255&s,f+=p,s/=256,l-=8);t[n+f-p]|=128*g}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";var r=n(80);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}},function(t,e,n){"use strict";var r=n(20);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(20),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,s={};return t?(r.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(s[e]&&i.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([n]):s[e]?s[e]+", "+n:n}})),s):s}},function(t,e,n){"use strict";var r=n(20);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";t.exports=function(t){var e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}},function(t,e){t.exports=null},function(t,e,n){"use strict";var r=n(225).version,i=n(80),o={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){o[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));var s={};o.transitional=function(t,e,n){function o(t,e){return"[Axios v"+r+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,r,a){if(!1===t)throw new i(o(r," has been removed"+(e?" in "+e:"")),i.ERR_DEPRECATED);return e&&!s[r]&&(s[r]=!0,console.warn(o(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,r,a)}},t.exports={assertOptions:function(t,e,n){if("object"!=typeof t)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(t),o=r.length;o-- >0;){var s=r[o],a=e[s];if(a){var c=t[s],l=void 0===c||a(c,s,t);if(!0!==l)throw new i("option "+s+" must be "+l,i.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new i("Unknown option "+s,i.ERR_BAD_OPTION)}},validators:o}},function(t,e,n){"use strict";var r=n(117);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;this.promise.then((function(t){if(n._listeners){var e,r=n._listeners.length;for(e=0;e<r;e++)n._listeners[e](t);n._listeners=null}})),this.promise.then=function(t){var e,r=new Promise((function(t){n.subscribe(t),e=t})).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},i.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";var r=n(20);t.exports=function(t){return r.isObject(t)&&!0===t.isAxiosError}},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.Breaker=e.BreakState=void 0,function(t){t.OPEN="OPEN",t.CLOSED="CLOSED",t.HALF_OPEN="HALF-OPEN"}(r=e.BreakState||(e.BreakState={}));var i=function(){function t(t){this.failureCount=0,this.lastFailureTime=0;var e=t.maxCount,n=void 0===e?100:e,i=t.retryInterval,o=void 0===i?5e3:i;this.state=r.CLOSED,this.maxCount=n,this.retryInterval=o}return t.getInstance=function(e){var n=e.apiName,r=this.breakers[n];return r||(r=new t(e),this.breakers[n]=r),r},t.prototype.recompute=function(){this.maxCount<=this.failureCount?Date.now()-this.lastFailureTime>this.retryInterval?this.state=r.HALF_OPEN:this.state=r.OPEN:this.state=r.CLOSED},t.prototype.record=function(t){void 0===t&&(t=!1),t?(this.failureCount++,this.lastFailureTime=Date.now()):this.failureCount>0&&this.failureCount--,this.recompute()},t.breakers={},t}();e.Breaker=i},function(t,e,n){var r,i,o,s,a;r=n(419),i=n(226).utf8,o=n(420),s=n(226).bin,(a=function(t,e){t.constructor==String?t=e&&"binary"===e.encoding?s.stringToBytes(t):i.stringToBytes(t):o(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var n=r.bytesToWords(t),c=8*t.length,l=1732584193,u=-271733879,d=-1732584194,h=271733878,f=0;f<n.length;f++)n[f]=16711935&(n[f]<<8|n[f]>>>24)|4278255360&(n[f]<<24|n[f]>>>8);n[c>>>5]|=128<<c%32,n[14+(c+64>>>9<<4)]=c;var p=a._ff,g=a._gg,m=a._hh,v=a._ii;for(f=0;f<n.length;f+=16){var y=l,b=u,w=d,_=h;l=p(l,u,d,h,n[f+0],7,-680876936),h=p(h,l,u,d,n[f+1],12,-389564586),d=p(d,h,l,u,n[f+2],17,606105819),u=p(u,d,h,l,n[f+3],22,-1044525330),l=p(l,u,d,h,n[f+4],7,-176418897),h=p(h,l,u,d,n[f+5],12,1200080426),d=p(d,h,l,u,n[f+6],17,-1473231341),u=p(u,d,h,l,n[f+7],22,-45705983),l=p(l,u,d,h,n[f+8],7,1770035416),h=p(h,l,u,d,n[f+9],12,-1958414417),d=p(d,h,l,u,n[f+10],17,-42063),u=p(u,d,h,l,n[f+11],22,-1990404162),l=p(l,u,d,h,n[f+12],7,1804603682),h=p(h,l,u,d,n[f+13],12,-40341101),d=p(d,h,l,u,n[f+14],17,-1502002290),l=g(l,u=p(u,d,h,l,n[f+15],22,1236535329),d,h,n[f+1],5,-165796510),h=g(h,l,u,d,n[f+6],9,-1069501632),d=g(d,h,l,u,n[f+11],14,643717713),u=g(u,d,h,l,n[f+0],20,-373897302),l=g(l,u,d,h,n[f+5],5,-701558691),h=g(h,l,u,d,n[f+10],9,38016083),d=g(d,h,l,u,n[f+15],14,-660478335),u=g(u,d,h,l,n[f+4],20,-405537848),l=g(l,u,d,h,n[f+9],5,568446438),h=g(h,l,u,d,n[f+14],9,-1019803690),d=g(d,h,l,u,n[f+3],14,-187363961),u=g(u,d,h,l,n[f+8],20,1163531501),l=g(l,u,d,h,n[f+13],5,-1444681467),h=g(h,l,u,d,n[f+2],9,-51403784),d=g(d,h,l,u,n[f+7],14,1735328473),l=m(l,u=g(u,d,h,l,n[f+12],20,-1926607734),d,h,n[f+5],4,-378558),h=m(h,l,u,d,n[f+8],11,-2022574463),d=m(d,h,l,u,n[f+11],16,1839030562),u=m(u,d,h,l,n[f+14],23,-35309556),l=m(l,u,d,h,n[f+1],4,-1530992060),h=m(h,l,u,d,n[f+4],11,1272893353),d=m(d,h,l,u,n[f+7],16,-155497632),u=m(u,d,h,l,n[f+10],23,-1094730640),l=m(l,u,d,h,n[f+13],4,681279174),h=m(h,l,u,d,n[f+0],11,-358537222),d=m(d,h,l,u,n[f+3],16,-722521979),u=m(u,d,h,l,n[f+6],23,76029189),l=m(l,u,d,h,n[f+9],4,-640364487),h=m(h,l,u,d,n[f+12],11,-421815835),d=m(d,h,l,u,n[f+15],16,530742520),l=v(l,u=m(u,d,h,l,n[f+2],23,-995338651),d,h,n[f+0],6,-198630844),h=v(h,l,u,d,n[f+7],10,1126891415),d=v(d,h,l,u,n[f+14],15,-1416354905),u=v(u,d,h,l,n[f+5],21,-57434055),l=v(l,u,d,h,n[f+12],6,1700485571),h=v(h,l,u,d,n[f+3],10,-1894986606),d=v(d,h,l,u,n[f+10],15,-1051523),u=v(u,d,h,l,n[f+1],21,-2054922799),l=v(l,u,d,h,n[f+8],6,1873313359),h=v(h,l,u,d,n[f+15],10,-30611744),d=v(d,h,l,u,n[f+6],15,-1560198380),u=v(u,d,h,l,n[f+13],21,1309151649),l=v(l,u,d,h,n[f+4],6,-145523070),h=v(h,l,u,d,n[f+11],10,-1120210379),d=v(d,h,l,u,n[f+2],15,718787259),u=v(u,d,h,l,n[f+9],21,-343485551),l=l+y>>>0,u=u+b>>>0,d=d+w>>>0,h=h+_>>>0}return r.endian([l,u,d,h])})._ff=function(t,e,n,r,i,o,s){var a=t+(e&n|~e&r)+(i>>>0)+s;return(a<<o|a>>>32-o)+e},a._gg=function(t,e,n,r,i,o,s){var a=t+(e&r|n&~r)+(i>>>0)+s;return(a<<o|a>>>32-o)+e},a._hh=function(t,e,n,r,i,o,s){var a=t+(e^n^r)+(i>>>0)+s;return(a<<o|a>>>32-o)+e},a._ii=function(t,e,n,r,i,o,s){var a=t+(n^(e|~r))+(i>>>0)+s;return(a<<o|a>>>32-o)+e},a._blocksize=16,a._digestsize=16,t.exports=function(t,e){if(null==t)throw new Error("Illegal argument "+t);var n=r.wordsToBytes(a(t,e));return e&&e.asBytes?n:e&&e.asString?s.bytesToString(n):r.bytesToHex(n)}},function(t,e){var n,r;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&r.rotl(t,8)|4278255360&r.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=r.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var e=[],r=0;r<t.length;r+=3)for(var i=t[r]<<16|t[r+1]<<8|t[r+2],o=0;o<4;o++)8*r+6*o<=8*t.length?e.push(n.charAt(i>>>6*(3-o)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],r=0,i=0;r<t.length;i=++r%4)0!=i&&e.push((n.indexOf(t.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|n.indexOf(t.charAt(r))>>>6-2*i);return e}},t.exports=r},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(422),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(59))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i,o,s,a=1,c={},l=!1,u=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){f(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?(o="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(o)&&f(+e.data.slice(o.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),r=function(e){t.postMessage(o+e,"*")}):t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){f(t.data)},r=function(e){t.port2.postMessage(e)}}():u&&"onreadystatechange"in u.createElement("script")?(i=u.documentElement,r=function(t){var e=u.createElement("script");e.onreadystatechange=function(){f(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):r=function(t){setTimeout(f,0,t)},d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return c[a]=i,r(a),a++},d.clearImmediate=h}function h(t){delete c[t]}function f(t){if(l)setTimeout(f,0,t);else{var e=c[t];if(e){l=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{h(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(59),n(218))},function(t,e,n){var r=n(424);t.exports=r},function(t,e,n){n(425);var r=n(29);t.exports=r.Object.assign},function(t,e,n){var r=n(12),i=n(431);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},function(t,e,n){var r=n(2),i=n(36),o=n(40),s=n(121),a=n(154),c=n(428),l=n(16),u=r.TypeError,d=l("toPrimitive");t.exports=function(t,e){if(!o(t)||s(t))return t;var n,r=a(t,d);if(r){if(void 0===e&&(e="default"),n=i(r,t,e),!o(n)||s(n))return n;throw u("Can't convert object to primitive value")}return void 0===e&&(e="number"),c(t,e)}},function(t,e,n){var r=n(53);t.exports=r("navigator","userAgent")||""},function(t,e,n){var r=n(2),i=n(36),o=n(22),s=n(40),a=r.TypeError;t.exports=function(t,e){var n,r;if("string"===e&&o(n=t.toString)&&!s(r=i(n,t)))return r;if(o(n=t.valueOf)&&!s(r=i(n,t)))return r;if("string"!==e&&o(n=t.toString)&&!s(r=i(n,t)))return r;throw a("Can't convert object to primitive value")}},function(t,e,n){var r=n(2),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(13),i=n(22),o=/#|\.prototype\./,s=function(t,e){var n=c[a(t)];return n==u||n!=l&&(i(e)?r(e):!!e)},a=s.normalize=function(t){return String(t).replace(o,".").toLowerCase()},c=s.data={},l=s.NATIVE="N",u=s.POLYFILL="P";t.exports=s},function(t,e,n){"use strict";var r=n(35),i=n(10),o=n(36),s=n(13),a=n(122),c=n(162),l=n(151),u=n(54),d=n(152),h=Object.assign,f=Object.defineProperty,p=i([].concat);t.exports=!h||s((function(){if(r&&1!==h({b:1},h(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=h({},t)[n]||"abcdefghijklmnopqrst"!=a(h({},e)).join("")}))?function(t,e){for(var n=u(t),i=arguments.length,s=1,h=c.f,f=l.f;i>s;)for(var g,m=d(arguments[s++]),v=h?p(a(m),h(m)):a(m),y=v.length,b=0;y>b;)g=v[b++],r&&!o(f,m,g)||(n[g]=m[g]);return n}:h},function(t,e,n){var r=n(433);t.exports=r},function(t,e,n){var r=n(49),i=n(434),o=Array.prototype;t.exports=function(t){var e=t.concat;return t===o||r(o,t)&&e===o.concat?i:e}},function(t,e,n){n(234);var r=n(61);t.exports=r("Array").concat},function(t,e,n){var r=n(2),i=n(99),o=n(163),s=n(40),a=n(16)("species"),c=r.Array;t.exports=function(t){var e;return i(t)&&(e=t.constructor,(o(e)&&(e===c||i(e.prototype))||s(e)&&null===(e=e[a]))&&(e=void 0)),void 0===e?c:e}},function(t,e,n){var r=n(437);t.exports=r},function(t,e,n){var r=n(49),i=n(438),o=String.prototype;t.exports=function(t){var e=t.trim;return"string"==typeof t||t===o||r(o,t)&&e===o.trim?i:e}},function(t,e,n){n(439);var r=n(61);t.exports=r("String").trim},function(t,e,n){"use strict";var r=n(12),i=n(440).trim;r({target:"String",proto:!0,forced:n(441)("trim")},{trim:function(){return i(this)}})},function(t,e,n){var r=n(10),i=n(97),o=n(84),s=n(237),a=r("".replace),c="["+s+"]",l=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),d=function(t){return function(e){var n=o(i(e));return 1&t&&(n=a(n,l,"")),2&t&&(n=a(n,u,"")),n}};t.exports={start:d(1),end:d(2),trim:d(3)}},function(t,e,n){var r=n(238).PROPER,i=n(13),o=n(237);t.exports=function(t){return i((function(){return!!o[t]()||"​᠎"!=="​᠎"[t]()||r&&o[t].name!==t}))}},function(t,e,n){var r=n(443);t.exports=function(t){if(r(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){t.exports=n(444)},function(t,e,n){t.exports=n(445)},function(t,e,n){var r=n(446);t.exports=r},function(t,e,n){var r=n(447);t.exports=r},function(t,e,n){var r=n(448);t.exports=r},function(t,e,n){n(449);var r=n(29);t.exports=r.Array.isArray},function(t,e,n){n(12)({target:"Array",stat:!0},{isArray:n(99)})},function(t,e,n){var r=n(451),i=n(497);t.exports=function(t,e){var n=null==t?null:void 0!==r&&i(t)||t["@@iterator"];if(null!=n){var o,s,a=[],c=!0,l=!1;try{for(n=n.call(t);!(c=(o=n.next()).done)&&(a.push(o.value),!e||a.length!==e);c=!0);}catch(t){l=!0,s=t}finally{try{c||null==n.return||n.return()}finally{if(l)throw s}}return a}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){t.exports=n(452)},function(t,e,n){t.exports=n(453)},function(t,e,n){var r=n(454);n(490),n(491),n(492),n(493),n(494),n(495),n(496),t.exports=r},function(t,e,n){var r=n(455);t.exports=r},function(t,e,n){var r=n(456);n(248),t.exports=r},function(t,e,n){n(234),n(457),n(458),n(467),n(468),n(469),n(470),n(471),n(472),n(473),n(474),n(475),n(476),n(477),n(478),n(479),n(480),n(481),n(482),n(483);var r=n(29);t.exports=r.Symbol},function(t,e){},function(t,e,n){n(459),n(464),n(465),n(246),n(466)},function(t,e,n){"use strict";var r=n(12),i=n(2),o=n(36),s=n(10),a=n(82),c=n(35),l=n(81),u=n(13),d=n(30),h=n(49),f=n(56),p=n(48),g=n(120),m=n(84),v=n(95),y=n(166),b=n(122),w=n(240),_=n(241),E=n(162),S=n(150),A=n(55),T=n(239),x=n(151),k=n(127),C=n(98),R=n(126),L=n(124),I=n(158),O=n(16),D=n(242),M=n(11),N=n(243),P=n(101),F=n(167),B=n(244).forEach,U=R("hidden"),$=F.set,j=F.getterFor("Symbol"),G=Object.prototype,H=i.Symbol,K=H&&H.prototype,V=i.TypeError,q=i.QObject,z=S.f,W=A.f,Y=_.f,X=x.f,Q=s([].push),J=C("symbols"),Z=C("op-symbols"),tt=C("wks"),et=!q||!q.prototype||!q.prototype.findChild,nt=c&&u((function(){return 7!=y(W({},"a",{get:function(){return W(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=z(G,e);r&&delete G[e],W(t,e,n),r&&t!==G&&W(G,e,r)}:W,rt=function(t,e){var n=J[t]=y(K);return $(n,{type:"Symbol",tag:t,description:e}),c||(n.description=e),n},it=function(t,e,n){t===G&&it(Z,e,n),f(t);var r=g(e);return f(n),d(J,r)?(n.enumerable?(d(t,U)&&t[U][r]&&(t[U][r]=!1),n=y(n,{enumerable:v(0,!1)})):(d(t,U)||W(t,U,v(1,{})),t[U][r]=!0),nt(t,r,n)):W(t,r,n)},ot=function(t,e){f(t);var n=p(e),r=b(n).concat(lt(n));return B(r,(function(e){c&&!o(st,n,e)||it(t,e,n[e])})),t},st=function(t){var e=g(t),n=o(X,this,e);return!(this===G&&d(J,e)&&!d(Z,e))&&(!(n||!d(this,e)||!d(J,e)||d(this,U)&&this[U][e])||n)},at=function(t,e){var n=p(t),r=g(e);if(n!==G||!d(J,r)||d(Z,r)){var i=z(n,r);return!i||!d(J,r)||d(n,U)&&n[U][r]||(i.enumerable=!0),i}},ct=function(t){var e=Y(p(t)),n=[];return B(e,(function(t){d(J,t)||d(L,t)||Q(n,t)})),n},lt=function(t){var e=t===G,n=Y(e?Z:p(t)),r=[];return B(n,(function(t){!d(J,t)||e&&!d(G,t)||Q(r,J[t])})),r};l||(k(K=(H=function(){if(h(K,this))throw V("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?m(arguments[0]):void 0,e=I(t),n=function(t){this===G&&o(n,Z,t),d(this,U)&&d(this[U],e)&&(this[U][e]=!1),nt(this,e,v(1,t))};return c&&et&&nt(G,e,{configurable:!0,set:n}),rt(e,t)}).prototype,"toString",(function(){return j(this).tag})),k(H,"withoutSetter",(function(t){return rt(I(t),t)})),x.f=st,A.f=it,T.f=ot,S.f=at,w.f=_.f=ct,E.f=lt,D.f=function(t){return rt(O(t),t)},c&&(W(K,"description",{configurable:!0,get:function(){return j(this).description}}),a||k(G,"propertyIsEnumerable",st,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!l,sham:!l},{Symbol:H}),B(b(tt),(function(t){M(t)})),r({target:"Symbol",stat:!0,forced:!l},{useSetter:function(){et=!0},useSimple:function(){et=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!c},{create:function(t,e){return void 0===e?y(t):ot(y(t),e)},defineProperty:it,defineProperties:ot,getOwnPropertyDescriptor:at}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:ct}),N(),P(H,"Symbol"),L[U]=!0},function(t,e,n){var r=n(53);t.exports=r("document","documentElement")},function(t,e,n){var r=n(2),i=n(160),o=n(60),s=n(125),a=r.Array,c=Math.max;t.exports=function(t,e,n){for(var r=o(t),l=i(e,r),u=i(void 0===n?r:n,r),d=a(c(u-l,0)),h=0;l<u;l++,h++)s(d,h,t[l]);return d.length=h,d}},function(t,e,n){"use strict";var r=n(164),i=n(100);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(t,e,n){var r=n(2),i=n(22),o=n(236),s=r.WeakMap;t.exports=i(s)&&/native code/.test(o(s))},function(t,e,n){var r=n(12),i=n(53),o=n(30),s=n(84),a=n(98),c=n(245),l=a("string-to-symbol-registry"),u=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{for:function(t){var e=s(t);if(o(l,e))return l[e];var n=i("Symbol")(e);return l[e]=n,u[n]=e,n}})},function(t,e,n){var r=n(12),i=n(30),o=n(121),s=n(156),a=n(98),c=n(245),l=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{keyFor:function(t){if(!o(t))throw TypeError(s(t)+" is not a symbol");if(i(l,t))return l[t]}})},function(t,e,n){var r=n(12),i=n(81),o=n(13),s=n(162),a=n(54);r({target:"Object",stat:!0,forced:!i||o((function(){s.f(1)}))},{getOwnPropertySymbols:function(t){var e=s.f;return e?e(a(t)):[]}})},function(t,e,n){n(11)("asyncIterator")},function(t,e){},function(t,e,n){n(11)("hasInstance")},function(t,e,n){n(11)("isConcatSpreadable")},function(t,e,n){n(11)("iterator")},function(t,e,n){n(11)("match")},function(t,e,n){n(11)("matchAll")},function(t,e,n){n(11)("replace")},function(t,e,n){n(11)("search")},function(t,e,n){n(11)("species")},function(t,e,n){n(11)("split")},function(t,e,n){var r=n(11),i=n(243);r("toPrimitive"),i()},function(t,e,n){var r=n(53),i=n(11),o=n(101);i("toStringTag"),o(r("Symbol"),"Symbol")},function(t,e,n){n(11)("unscopables")},function(t,e,n){var r=n(2);n(101)(r.JSON,"JSON",!0)},function(t,e){},function(t,e){},function(t,e){t.exports=function(){}},function(t,e,n){"use strict";var r=n(251).IteratorPrototype,i=n(166),o=n(95),s=n(101),a=n(85),c=function(){return this};t.exports=function(t,e,n,l){var u=e+" Iterator";return t.prototype=i(r,{next:o(+!l,n)}),s(t,u,!1,!0),a[u]=c,t}},function(t,e,n){var r=n(13);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var r=n(10),i=n(56),o=n(488);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return i(n),o(r),e?t(n,r):n.__proto__=r,n}}():void 0)},function(t,e,n){var r=n(2),i=n(22),o=r.String,s=r.TypeError;t.exports=function(t){if("object"==typeof t||i(t))return t;throw s("Can't set "+o(t)+" as a prototype")}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){n(11)("asyncDispose")},function(t,e,n){n(11)("dispose")},function(t,e,n){n(11)("matcher")},function(t,e,n){n(11)("metadata")},function(t,e,n){n(11)("observable")},function(t,e,n){n(11)("patternMatch")},function(t,e,n){n(11)("replaceAll")},function(t,e,n){t.exports=n(498)},function(t,e,n){t.exports=n(499)},function(t,e,n){var r=n(500);t.exports=r},function(t,e,n){var r=n(501);t.exports=r},function(t,e,n){var r=n(502);n(248),t.exports=r},function(t,e,n){n(249),n(253);var r=n(168);t.exports=r},function(t,e,n){var r=n(10),i=n(123),o=n(84),s=n(97),a=r("".charAt),c=r("".charCodeAt),l=r("".slice),u=function(t){return function(e,n){var r,u,d=o(s(e)),h=i(n),f=d.length;return h<0||h>=f?t?"":void 0:(r=c(d,h))<55296||r>56319||h+1===f||(u=c(d,h+1))<56320||u>57343?t?a(d,h):r:t?l(d,h,h+2):u-56320+(r-55296<<10)+65536}};t.exports={codeAt:u(!1),charAt:u(!0)}},function(t,e,n){var r=n(505),i=n(512),o=n(525);t.exports=function(t,e){var n;if(t){if("string"==typeof t)return o(t,e);var s=r(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?i(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?o(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){t.exports=n(506)},function(t,e,n){t.exports=n(507)},function(t,e,n){var r=n(508);t.exports=r},function(t,e,n){var r=n(254);t.exports=r},function(t,e,n){var r=n(49),i=n(510),o=Array.prototype;t.exports=function(t){var e=t.slice;return t===o||r(o,t)&&e===o.slice?i:e}},function(t,e,n){n(511);var r=n(61);t.exports=r("Array").slice},function(t,e,n){"use strict";var r=n(12),i=n(2),o=n(99),s=n(163),a=n(40),c=n(160),l=n(60),u=n(48),d=n(125),h=n(16),f=n(165),p=n(247),g=f("slice"),m=h("species"),v=i.Array,y=Math.max;r({target:"Array",proto:!0,forced:!g},{slice:function(t,e){var n,r,i,h=u(this),f=l(h),g=c(t,f),b=c(void 0===e?f:e,f);if(o(h)&&(n=h.constructor,(s(n)&&(n===v||o(n.prototype))||a(n)&&null===(n=n[m]))&&(n=void 0),n===v||void 0===n))return p(h,g,b);for(r=new(void 0===n?v:n)(y(b-g,0)),i=0;g<b;g++,i++)g in h&&d(r,i,h[g]);return r.length=i,r}})},function(t,e,n){t.exports=n(513)},function(t,e,n){t.exports=n(514)},function(t,e,n){var r=n(515);t.exports=r},function(t,e,n){var r=n(516);t.exports=r},function(t,e,n){var r=n(517);t.exports=r},function(t,e,n){n(253),n(518);var r=n(29);t.exports=r.Array.from},function(t,e,n){var r=n(12),i=n(519);r({target:"Array",stat:!0,forced:!n(524)((function(t){Array.from(t)}))},{from:i})},function(t,e,n){"use strict";var r=n(2),i=n(159),o=n(36),s=n(54),a=n(520),c=n(522),l=n(163),u=n(60),d=n(125),h=n(523),f=n(168),p=r.Array;t.exports=function(t){var e=s(t),n=l(this),r=arguments.length,g=r>1?arguments[1]:void 0,m=void 0!==g;m&&(g=i(g,r>2?arguments[2]:void 0));var v,y,b,w,_,E,S=f(e),A=0;if(!S||this==p&&c(S))for(v=u(e),y=n?new this(v):p(v);v>A;A++)E=m?g(e[A],A):e[A],d(y,A,E);else for(_=(w=h(e,S)).next,y=n?new this:[];!(b=o(_,w)).done;A++)E=m?a(w,g,[b.value,A],!0):b.value,d(y,A,E);return y.length=A,y}},function(t,e,n){var r=n(56),i=n(521);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){i(t,"throw",e)}}},function(t,e,n){var r=n(36),i=n(56),o=n(154);t.exports=function(t,e,n){var s,a;i(t);try{if(!(s=o(t,"return"))){if("throw"===e)throw n;return n}s=r(s,t)}catch(t){a=!0,s=t}if("throw"===e)throw n;if(a)throw s;return i(s),n}},function(t,e,n){var r=n(16),i=n(85),o=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},function(t,e,n){var r=n(2),i=n(36),o=n(155),s=n(56),a=n(156),c=n(168),l=r.TypeError;t.exports=function(t,e){var n=arguments.length<2?c(t):e;if(o(n))return s(i(n,t));throw l(a(t)+" is not iterable")}},function(t,e,n){var r=n(16)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){t.exports=n(528)},function(t,e,n){var r=n(529);t.exports=r},function(t,e,n){var r=n(530);t.exports=r},function(t,e,n){var r=n(531);t.exports=r},function(t,e,n){n(532);var r=n(29).Object,i=t.exports=function(t,e,n){return r.defineProperty(t,e,n)};r.defineProperty.sham&&(i.sham=!0)},function(t,e,n){var r=n(12),i=n(35),o=n(55).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!i},{defineProperty:o})},function(t,e,n){t.exports=n(534)},function(t,e,n){n(535);var r=n(536);t.exports=r},function(t,e,n){n(256)},function(t,e,n){var r=n(537);t.exports=r},function(t,e,n){var r=n(538);t.exports=r},function(t,e,n){n(256),t.exports=n(2)},function(t,e,n){var r=n(540);t.exports=r},function(t,e,n){var r=n(49),i=n(541),o=Array.prototype;t.exports=function(t){var e=t.lastIndexOf;return t===o||r(o,t)&&e===o.lastIndexOf?i:e}},function(t,e,n){n(542);var r=n(61);t.exports=r("Array").lastIndexOf},function(t,e,n){var r=n(12),i=n(543);r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},function(t,e,n){"use strict";var r=n(118),i=n(48),o=n(123),s=n(60),a=n(257),c=Math.min,l=[].lastIndexOf,u=!!l&&1/[1].lastIndexOf(1,-0)<0,d=a("lastIndexOf"),h=u||!d;t.exports=h?function(t){if(u)return r(l,this,arguments)||0;var e=i(this),n=s(e),a=n-1;for(arguments.length>1&&(a=c(a,o(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in e&&e[a]===t)return a||0;return-1}:l},function(t,e,n){var r=n(545);t.exports=r},function(t,e,n){var r=n(49),i=n(546),o=String.prototype;t.exports=function(t){var e=t.startsWith;return"string"==typeof t||t===o||r(o,t)&&e===o.startsWith?i:e}},function(t,e,n){n(547);var r=n(61);t.exports=r("String").startsWith},function(t,e,n){"use strict";var r,i=n(12),o=n(10),s=n(150).f,a=n(233),c=n(84),l=n(548),u=n(97),d=n(550),h=n(82),f=o("".startsWith),p=o("".slice),g=Math.min,m=d("startsWith");i({target:"String",proto:!0,forced:!!(h||m||(r=s(String.prototype,"startsWith"),!r||r.writable))&&!m},{startsWith:function(t){var e=c(u(this));l(t);var n=a(g(arguments.length>1?arguments[1]:void 0,e.length)),r=c(t);return f?f(e,r,n):p(e,n,n+r.length)===r}})},function(t,e,n){var r=n(2),i=n(549),o=r.TypeError;t.exports=function(t){if(i(t))throw o("The method doesn't accept regular expressions");return t}},function(t,e,n){var r=n(40),i=n(96),o=n(16)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(16)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,n){var r=n(552);t.exports=r},function(t,e,n){var r=n(49),i=n(553),o=Array.prototype;t.exports=function(t){var e=t.indexOf;return t===o||r(o,t)&&e===o.indexOf?i:e}},function(t,e,n){n(554);var r=n(61);t.exports=r("Array").indexOf},function(t,e,n){"use strict";var r=n(12),i=n(10),o=n(232).indexOf,s=n(257),a=i([].indexOf),c=!!a&&1/a([1],1,-0)<0,l=s("indexOf");r({target:"Array",proto:!0,forced:c||!l},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return c?a(this,t,e)||0:o(this,t,e)}})},function(t,e,n){var r=n(556);t.exports=r},function(t,e,n){n(557);var r=n(29);t.exports=r.Object.keys},function(t,e,n){var r=n(12),i=n(54),o=n(122);r({target:"Object",stat:!0,forced:n(13)((function(){o(1)}))},{keys:function(t){return o(i(t))}})},function(t,e,n){var r=n(559);t.exports=r},function(t,e,n){n(560);var r=n(29).Object;t.exports=function(t){return r.getOwnPropertyNames(t)}},function(t,e,n){var r=n(12),i=n(13),o=n(241).f;r({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:o})},function(t,e,n){var r=n(562);t.exports=r},function(t,e,n){var r=n(49),i=n(563),o=Array.prototype;t.exports=function(t){var e=t.map;return t===o||r(o,t)&&e===o.map?i:e}},function(t,e,n){n(564);var r=n(61);t.exports=r("Array").map},function(t,e,n){"use strict";var r=n(12),i=n(244).map;r({target:"Array",proto:!0,forced:!n(165)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";n(566);var r,i=(r=n(737))&&r.__esModule?r:{default:r};i.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),i.default._babelPolyfill=!0},function(t,e,n){"use strict";n(567),n(710),n(712),n(715),n(717),n(719),n(721),n(723),n(725),n(727),n(729),n(731),n(733),n(194)},function(t,e,n){n(568),n(571),n(572),n(573),n(574),n(575),n(576),n(577),n(578),n(579),n(580),n(581),n(582),n(583),n(584),n(585),n(586),n(587),n(588),n(589),n(590),n(591),n(592),n(593),n(594),n(595),n(596),n(597),n(598),n(599),n(600),n(601),n(602),n(603),n(604),n(605),n(606),n(607),n(608),n(609),n(610),n(611),n(612),n(614),n(615),n(616),n(617),n(618),n(619),n(620),n(621),n(622),n(623),n(624),n(625),n(626),n(627),n(628),n(629),n(630),n(631),n(632),n(633),n(634),n(635),n(636),n(637),n(638),n(639),n(640),n(641),n(642),n(643),n(644),n(645),n(646),n(647),n(649),n(650),n(652),n(653),n(654),n(655),n(656),n(657),n(658),n(660),n(661),n(662),n(663),n(664),n(665),n(666),n(667),n(668),n(669),n(670),n(671),n(672),n(189),n(673),n(278),n(674),n(279),n(675),n(676),n(677),n(678),n(280),n(681),n(682),n(683),n(684),n(685),n(686),n(687),n(688),n(689),n(690),n(691),n(692),n(693),n(694),n(695),n(696),n(697),n(698),n(699),n(700),n(701),n(702),n(703),n(704),n(705),n(706),n(707),n(708),n(709),t.exports=n(14)},function(t,e,n){"use strict";var r=n(3),i=n(31),o=n(17),s=n(1),a=n(25),c=n(58).KEY,l=n(4),u=n(128),d=n(86),h=n(64),f=n(7),p=n(170),g=n(259),m=n(570),v=n(131),y=n(5),b=n(6),w=n(23),_=n(33),E=n(57),S=n(63),A=n(68),T=n(262),x=n(44),k=n(130),C=n(18),R=n(66),L=x.f,I=C.f,O=T.f,D=r.Symbol,M=r.JSON,N=M&&M.stringify,P=f("_hidden"),F=f("toPrimitive"),B={}.propertyIsEnumerable,U=u("symbol-registry"),$=u("symbols"),j=u("op-symbols"),G=Object.prototype,H="function"==typeof D&&!!k.f,K=r.QObject,V=!K||!K.prototype||!K.prototype.findChild,q=o&&l((function(){return 7!=A(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=L(G,e);r&&delete G[e],I(t,e,n),r&&t!==G&&I(G,e,r)}:I,z=function(t){var e=$[t]=A(D.prototype);return e._k=t,e},W=H&&"symbol"==typeof D.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof D},Y=function(t,e,n){return t===G&&Y(j,e,n),y(t),e=E(e,!0),y(n),i($,e)?(n.enumerable?(i(t,P)&&t[P][e]&&(t[P][e]=!1),n=A(n,{enumerable:S(0,!1)})):(i(t,P)||I(t,P,S(1,{})),t[P][e]=!0),q(t,e,n)):I(t,e,n)},X=function(t,e){y(t);for(var n,r=m(e=_(e)),i=0,o=r.length;o>i;)Y(t,n=r[i++],e[n]);return t},Q=function(t){var e=B.call(this,t=E(t,!0));return!(this===G&&i($,t)&&!i(j,t))&&(!(e||!i(this,t)||!i($,t)||i(this,P)&&this[P][t])||e)},J=function(t,e){if(t=_(t),e=E(e,!0),t!==G||!i($,e)||i(j,e)){var n=L(t,e);return!n||!i($,e)||i(t,P)&&t[P][e]||(n.enumerable=!0),n}},Z=function(t){for(var e,n=O(_(t)),r=[],o=0;n.length>o;)i($,e=n[o++])||e==P||e==c||r.push(e);return r},tt=function(t){for(var e,n=t===G,r=O(n?j:_(t)),o=[],s=0;r.length>s;)!i($,e=r[s++])||n&&!i(G,e)||o.push($[e]);return o};H||(a((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===G&&e.call(j,n),i(this,P)&&i(this[P],t)&&(this[P][t]=!1),q(this,t,S(1,n))};return o&&V&&q(G,t,{configurable:!0,set:e}),z(t)}).prototype,"toString",(function(){return this._k})),x.f=J,C.f=Y,n(69).f=T.f=Z,n(103).f=Q,k.f=tt,o&&!n(65)&&a(G,"propertyIsEnumerable",Q,!0),p.f=function(t){return z(f(t))}),s(s.G+s.W+s.F*!H,{Symbol:D});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)f(et[nt++]);for(var rt=R(f.store),it=0;rt.length>it;)g(rt[it++]);s(s.S+s.F*!H,"Symbol",{for:function(t){return i(U,t+="")?U[t]:U[t]=D(t)},keyFor:function(t){if(!W(t))throw TypeError(t+" is not a symbol!");for(var e in U)if(U[e]===t)return e},useSetter:function(){V=!0},useSimple:function(){V=!1}}),s(s.S+s.F*!H,"Object",{create:function(t,e){return void 0===e?A(t):X(A(t),e)},defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:tt});var ot=l((function(){k.f(1)}));s(s.S+s.F*ot,"Object",{getOwnPropertySymbols:function(t){return k.f(w(t))}}),M&&s(s.S+s.F*(!H||l((function(){var t=D();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(b(e)||void 0!==t)&&!W(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!W(e))return e}),r[1]=e,N.apply(M,r)}}),D.prototype[F]||n(32)(D.prototype,F,D.prototype.valueOf),d(D,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(t,e,n){t.exports=n(128)("native-function-to-string",Function.toString)},function(t,e,n){var r=n(66),i=n(130),o=n(103);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var s,a=n(t),c=o.f,l=0;a.length>l;)c.call(t,s=a[l++])&&e.push(s);return e}},function(t,e,n){var r=n(1);r(r.S,"Object",{create:n(68)})},function(t,e,n){var r=n(1);r(r.S+r.F*!n(17),"Object",{defineProperty:n(18).f})},function(t,e,n){var r=n(1);r(r.S+r.F*!n(17),"Object",{defineProperties:n(261)})},function(t,e,n){var r=n(33),i=n(44).f;n(45)("getOwnPropertyDescriptor",(function(){return function(t,e){return i(r(t),e)}}))},function(t,e,n){var r=n(23),i=n(70);n(45)("getPrototypeOf",(function(){return function(t){return i(r(t))}}))},function(t,e,n){var r=n(23),i=n(66);n(45)("keys",(function(){return function(t){return i(r(t))}}))},function(t,e,n){n(45)("getOwnPropertyNames",(function(){return n(262).f}))},function(t,e,n){var r=n(6),i=n(58).onFreeze;n(45)("freeze",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},function(t,e,n){var r=n(6),i=n(58).onFreeze;n(45)("seal",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},function(t,e,n){var r=n(6),i=n(58).onFreeze;n(45)("preventExtensions",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},function(t,e,n){var r=n(6);n(45)("isFrozen",(function(t){return function(e){return!r(e)||!!t&&t(e)}}))},function(t,e,n){var r=n(6);n(45)("isSealed",(function(t){return function(e){return!r(e)||!!t&&t(e)}}))},function(t,e,n){var r=n(6);n(45)("isExtensible",(function(t){return function(e){return!!r(e)&&(!t||t(e))}}))},function(t,e,n){var r=n(1);r(r.S+r.F,"Object",{assign:n(263)})},function(t,e,n){var r=n(1);r(r.S,"Object",{is:n(264)})},function(t,e,n){var r=n(1);r(r.S,"Object",{setPrototypeOf:n(174).set})},function(t,e,n){"use strict";var r=n(104),i={};i[n(7)("toStringTag")]="z",i+""!="[object z]"&&n(25)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(t,e,n){var r=n(1);r(r.P,"Function",{bind:n(265)})},function(t,e,n){var r=n(18).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(17)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(6),i=n(70),o=n(7)("hasInstance"),s=Function.prototype;o in s||n(18).f(s,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(1),i=n(267);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(t,e,n){var r=n(1),i=n(268);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(t,e,n){"use strict";var r=n(3),i=n(31),o=n(50),s=n(176),a=n(57),c=n(4),l=n(69).f,u=n(44).f,d=n(18).f,h=n(87).trim,f=r.Number,p=f,g=f.prototype,m="Number"==o(n(68)(g)),v="trim"in String.prototype,y=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){var n,r,i,o=(e=v?e.trim():h(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var s,c=e.slice(2),l=0,u=c.length;l<u;l++)if((s=c.charCodeAt(l))<48||s>i)return NaN;return parseInt(c,r)}}return+e};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof f&&(m?c((function(){g.valueOf.call(n)})):"Number"!=o(n))?s(new p(y(e)),n,f):y(e)};for(var b,w=n(17)?l(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;w.length>_;_++)i(p,b=w[_])&&!i(f,b)&&d(f,b,u(p,b));f.prototype=g,g.constructor=f,n(25)(r,"Number",f)}},function(t,e,n){"use strict";var r=n(1),i=n(43),o=n(269),s=n(177),a=1..toFixed,c=Math.floor,l=[0,0,0,0,0,0],u="Number.toFixed: incorrect invocation!",d=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*l[n],l[n]=r%1e7,r=c(r/1e7)},h=function(t){for(var e=6,n=0;--e>=0;)n+=l[e],l[e]=c(n/t),n=n%t*1e7},f=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==l[t]){var n=String(l[t]);e=""===e?n:e+s.call("0",7-n.length)+n}return e},p=function(t,e,n){return 0===e?n:e%2==1?p(t,e-1,n*t):p(t*t,e/2,n)};r(r.P+r.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(4)((function(){a.call({})}))),"Number",{toFixed:function(t){var e,n,r,a,c=o(this,u),l=i(t),g="",m="0";if(l<0||l>20)throw RangeError(u);if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(g="-",c=-c),c>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(c*p(2,69,1))-69)<0?c*p(2,-e,1):c/p(2,e,1),n*=4503599627370496,(e=52-e)>0){for(d(0,n),r=l;r>=7;)d(1e7,0),r-=7;for(d(p(10,r,1),0),r=e-1;r>=23;)h(1<<23),r-=23;h(1<<r),d(1,1),h(2),m=f()}else d(0,n),d(1<<-e,0),m=f()+s.call("0",l);return m=l>0?g+((a=m.length)<=l?"0."+s.call("0",l-a)+m:m.slice(0,a-l)+"."+m.slice(a-l)):g+m}})},function(t,e,n){"use strict";var r=n(1),i=n(4),o=n(269),s=1..toPrecision;r(r.P+r.F*(i((function(){return"1"!==s.call(1,void 0)}))||!i((function(){s.call({})}))),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?s.call(e):s.call(e,t)}})},function(t,e,n){var r=n(1);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var r=n(1),i=n(3).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,e,n){var r=n(1);r(r.S,"Number",{isInteger:n(270)})},function(t,e,n){var r=n(1);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(1),i=n(270),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,e,n){var r=n(1);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(1);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(1),i=n(268);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,e,n){var r=n(1),i=n(267);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,e,n){var r=n(1),i=n(271),o=Math.sqrt,s=Math.acosh;r(r.S+r.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,e,n){var r=n(1),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,n){var r=n(1),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var r=n(1),i=n(178);r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var r=n(1);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(1),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,e,n){var r=n(1),i=n(179);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,e,n){var r=n(1);r(r.S,"Math",{fround:n(613)})},function(t,e,n){var r=n(178),i=Math.pow,o=i(2,-52),s=i(2,-23),a=i(2,127)*(2-s),c=i(2,-126);t.exports=Math.fround||function(t){var e,n,i=Math.abs(t),l=r(t);return i<c?l*(i/c/s+1/o-1/o)*c*s:(n=(e=(1+s/o)*i)-(e-i))>a||n!=n?l*(1/0):l*n}},function(t,e,n){var r=n(1),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,o=0,s=0,a=arguments.length,c=0;s<a;)c<(n=i(arguments[s++]))?(o=o*(r=c/n)*r+1,c=n):o+=n>0?(r=n/c)*r:n;return c===1/0?1/0:c*Math.sqrt(o)}})},function(t,e,n){var r=n(1),i=Math.imul;r(r.S+r.F*n(4)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},function(t,e,n){var r=n(1);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var r=n(1);r(r.S,"Math",{log1p:n(271)})},function(t,e,n){var r=n(1);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(1);r(r.S,"Math",{sign:n(178)})},function(t,e,n){var r=n(1),i=n(179),o=Math.exp;r(r.S+r.F*n(4)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var r=n(1),i=n(179),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var r=n(1);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var r=n(1),i=n(67),o=String.fromCharCode,s=String.fromCodePoint;r(r.S+r.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,s=0;r>s;){if(e=+arguments[s++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var r=n(1),i=n(33),o=n(8);r(r.S,"String",{raw:function(t){for(var e=i(t.raw),n=o(e.length),r=arguments.length,s=[],a=0;n>a;)s.push(String(e[a++])),a<r&&s.push(String(arguments[a]));return s.join("")}})},function(t,e,n){"use strict";n(87)("trim",(function(t){return function(){return t(this,3)}}))},function(t,e,n){"use strict";var r=n(180)(!0);n(181)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},function(t,e,n){"use strict";var r=n(1),i=n(180)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(1),i=n(8),o=n(182),s="".endsWith;r(r.P+r.F*n(184)("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(e.length),a=void 0===n?r:Math.min(i(n),r),c=String(t);return s?s.call(e,c,a):e.slice(a-c.length,a)===c}})},function(t,e,n){"use strict";var r=n(1),i=n(182);r(r.P+r.F*n(184)("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(1);r(r.P,"String",{repeat:n(177)})},function(t,e,n){"use strict";var r=n(1),i=n(8),o=n(182),s="".startsWith;r(r.P+r.F*n(184)("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return s?s.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){"use strict";n(26)("anchor",(function(t){return function(e){return t(this,"a","name",e)}}))},function(t,e,n){"use strict";n(26)("big",(function(t){return function(){return t(this,"big","","")}}))},function(t,e,n){"use strict";n(26)("blink",(function(t){return function(){return t(this,"blink","","")}}))},function(t,e,n){"use strict";n(26)("bold",(function(t){return function(){return t(this,"b","","")}}))},function(t,e,n){"use strict";n(26)("fixed",(function(t){return function(){return t(this,"tt","","")}}))},function(t,e,n){"use strict";n(26)("fontcolor",(function(t){return function(e){return t(this,"font","color",e)}}))},function(t,e,n){"use strict";n(26)("fontsize",(function(t){return function(e){return t(this,"font","size",e)}}))},function(t,e,n){"use strict";n(26)("italics",(function(t){return function(){return t(this,"i","","")}}))},function(t,e,n){"use strict";n(26)("link",(function(t){return function(e){return t(this,"a","href",e)}}))},function(t,e,n){"use strict";n(26)("small",(function(t){return function(){return t(this,"small","","")}}))},function(t,e,n){"use strict";n(26)("strike",(function(t){return function(){return t(this,"strike","","")}}))},function(t,e,n){"use strict";n(26)("sub",(function(t){return function(){return t(this,"sub","","")}}))},function(t,e,n){"use strict";n(26)("sup",(function(t){return function(){return t(this,"sup","","")}}))},function(t,e,n){var r=n(1);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var r=n(1),i=n(23),o=n(57);r(r.P+r.F*n(4)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(t){var e=i(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var r=n(1),i=n(648);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(t,e,n){"use strict";var r=n(4),i=Date.prototype.getTime,o=Date.prototype.toISOString,s=function(t){return t>9?t:"0"+t};t.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!r((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+s(t.getUTCMonth()+1)+"-"+s(t.getUTCDate())+"T"+s(t.getUTCHours())+":"+s(t.getUTCMinutes())+":"+s(t.getUTCSeconds())+"."+(n>99?n:"0"+s(n))+"Z"}:o},function(t,e,n){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(25)(r,"toString",(function(){var t=o.call(this);return t==t?i.call(this):"Invalid Date"}))},function(t,e,n){var r=n(7)("toPrimitive"),i=Date.prototype;r in i||n(32)(i,r,n(651))},function(t,e,n){"use strict";var r=n(5),i=n(57);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),"number"!=t)}},function(t,e,n){var r=n(1);r(r.S,"Array",{isArray:n(131)})},function(t,e,n){"use strict";var r=n(41),i=n(1),o=n(23),s=n(273),a=n(185),c=n(8),l=n(186),u=n(187);i(i.S+i.F*!n(132)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,i,d,h=o(t),f="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,v=0,y=u(h);if(m&&(g=r(g,p>2?arguments[2]:void 0,2)),null==y||f==Array&&a(y))for(n=new f(e=c(h.length));e>v;v++)l(n,v,m?g(h[v],v):h[v]);else for(d=y.call(h),n=new f;!(i=d.next()).done;v++)l(n,v,m?s(d,g,[i.value,v],!0):i.value);return n.length=v,n}})},function(t,e,n){"use strict";var r=n(1),i=n(186);r(r.S+r.F*n(4)((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(1),i=n(33),o=[].join;r(r.P+r.F*(n(102)!=Object||!n(37)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var r=n(1),i=n(173),o=n(50),s=n(67),a=n(8),c=[].slice;r(r.P+r.F*n(4)((function(){i&&c.call(i)})),"Array",{slice:function(t,e){var n=a(this.length),r=o(this);if(e=void 0===e?n:e,"Array"==r)return c.call(this,t,e);for(var i=s(t,n),l=s(e,n),u=a(l-i),d=new Array(u),h=0;h<u;h++)d[h]="String"==r?this.charAt(i+h):this[i+h];return d}})},function(t,e,n){"use strict";var r=n(1),i=n(42),o=n(23),s=n(4),a=[].sort,c=[1,2,3];r(r.P+r.F*(s((function(){c.sort(void 0)}))||!s((function(){c.sort(null)}))||!n(37)(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),i(t))}})},function(t,e,n){"use strict";var r=n(1),i=n(46)(0),o=n(37)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(6),i=n(131),o=n(7)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(1),i=n(46)(1);r(r.P+r.F*!n(37)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(1),i=n(46)(2);r(r.P+r.F*!n(37)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(1),i=n(46)(3);r(r.P+r.F*!n(37)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(1),i=n(46)(4);r(r.P+r.F*!n(37)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(1),i=n(275);r(r.P+r.F*!n(37)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var r=n(1),i=n(275);r(r.P+r.F*!n(37)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var r=n(1),i=n(129)(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(s||!n(37)(o)),"Array",{indexOf:function(t){return s?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(1),i=n(33),o=n(43),s=n(8),a=[].lastIndexOf,c=!!a&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(c||!n(37)(a)),"Array",{lastIndexOf:function(t){if(c)return a.apply(this,arguments)||0;var e=i(this),n=s(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},function(t,e,n){var r=n(1);r(r.P,"Array",{copyWithin:n(276)}),n(71)("copyWithin")},function(t,e,n){var r=n(1);r(r.P,"Array",{fill:n(188)}),n(71)("fill")},function(t,e,n){"use strict";var r=n(1),i=n(46)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(71)("find")},function(t,e,n){"use strict";var r=n(1),i=n(46)(6),o="findIndex",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),r(r.P+r.F*s,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(71)(o)},function(t,e,n){n(89)("Array")},function(t,e,n){var r=n(3),i=n(176),o=n(18).f,s=n(69).f,a=n(183),c=n(133),l=r.RegExp,u=l,d=l.prototype,h=/a/g,f=/a/g,p=new l(h)!==h;if(n(17)&&(!p||n(4)((function(){return f[n(7)("match")]=!1,l(h)!=h||l(f)==f||"/a/i"!=l(h,"i")})))){l=function(t,e){var n=this instanceof l,r=a(t),o=void 0===e;return!n&&r&&t.constructor===l&&o?t:i(p?new u(r&&!o?t.source:t,e):u((r=t instanceof l)?t.source:t,r&&o?c.call(t):e),n?this:d,l)};for(var g=function(t){t in l||o(l,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},m=s(u),v=0;m.length>v;)g(m[v++]);d.constructor=l,l.prototype=d,n(25)(r,"RegExp",l)}n(89)("RegExp")},function(t,e,n){"use strict";n(279);var r=n(5),i=n(133),o=n(17),s=/./.toString,a=function(t){n(25)(RegExp.prototype,"toString",t,!0)};n(4)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?a((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)})):"toString"!=s.name&&a((function(){return s.call(this)}))},function(t,e,n){"use strict";var r=n(5),i=n(8),o=n(191),s=n(134);n(135)("match",1,(function(t,e,n,a){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=a(n,t,this);if(e.done)return e.value;var c=r(t),l=String(this);if(!c.global)return s(c,l);var u=c.unicode;c.lastIndex=0;for(var d,h=[],f=0;null!==(d=s(c,l));){var p=String(d[0]);h[f]=p,""===p&&(c.lastIndex=o(l,i(c.lastIndex),u)),f++}return 0===f?null:h}]}))},function(t,e,n){"use strict";var r=n(5),i=n(23),o=n(8),s=n(43),a=n(191),c=n(134),l=Math.max,u=Math.min,d=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g;n(135)("replace",2,(function(t,e,n,p){return[function(r,i){var o=t(this),s=null==r?void 0:r[e];return void 0!==s?s.call(r,o,i):n.call(String(o),r,i)},function(t,e){var i=p(n,t,this,e);if(i.done)return i.value;var d=r(t),h=String(this),f="function"==typeof e;f||(e=String(e));var m=d.global;if(m){var v=d.unicode;d.lastIndex=0}for(var y=[];;){var b=c(d,h);if(null===b)break;if(y.push(b),!m)break;""===String(b[0])&&(d.lastIndex=a(h,o(d.lastIndex),v))}for(var w,_="",E=0,S=0;S<y.length;S++){b=y[S];for(var A=String(b[0]),T=l(u(s(b.index),h.length),0),x=[],k=1;k<b.length;k++)x.push(void 0===(w=b[k])?w:String(w));var C=b.groups;if(f){var R=[A].concat(x,T,h);void 0!==C&&R.push(C);var L=String(e.apply(void 0,R))}else L=g(A,h,T,x,C,e);T>=E&&(_+=h.slice(E,T)+L,E=T+A.length)}return _+h.slice(E)}];function g(t,e,r,o,s,a){var c=r+t.length,l=o.length,u=f;return void 0!==s&&(s=i(s),u=h),n.call(a,u,(function(n,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(c);case"<":a=s[i.slice(1,-1)];break;default:var u=+i;if(0===u)return n;if(u>l){var h=d(u/10);return 0===h?n:h<=l?void 0===o[h-1]?i.charAt(1):o[h-1]+i.charAt(1):n}a=o[u-1]}return void 0===a?"":a}))}}))},function(t,e,n){"use strict";var r=n(5),i=n(264),o=n(134);n(135)("search",1,(function(t,e,n,s){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=s(n,t,this);if(e.done)return e.value;var a=r(t),c=String(this),l=a.lastIndex;i(l,0)||(a.lastIndex=0);var u=o(a,c);return i(a.lastIndex,l)||(a.lastIndex=l),null===u?-1:u.index}]}))},function(t,e,n){"use strict";var r=n(183),i=n(5),o=n(105),s=n(191),a=n(8),c=n(134),l=n(190),u=n(4),d=Math.min,h=[].push,f="length",p=!u((function(){RegExp(4294967295,"y")}));n(135)("split",2,(function(t,e,n,u){var g;return g="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[f]||2!="ab".split(/(?:ab)*/)[f]||4!=".".split(/(.?)(.?)/)[f]||".".split(/()()/)[f]>1||"".split(/.?/)[f]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(i,t,e);for(var o,s,a,c=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,p=void 0===e?4294967295:e>>>0,g=new RegExp(t.source,u+"g");(o=l.call(g,i))&&!((s=g.lastIndex)>d&&(c.push(i.slice(d,o.index)),o[f]>1&&o.index<i[f]&&h.apply(c,o.slice(1)),a=o[0][f],d=s,c[f]>=p));)g.lastIndex===o.index&&g.lastIndex++;return d===i[f]?!a&&g.test("")||c.push(""):c.push(i.slice(d)),c[f]>p?c.slice(0,p):c}:"0".split(void 0,0)[f]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var i=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):g.call(String(i),n,r)},function(t,e){var r=u(g,t,this,e,g!==n);if(r.done)return r.value;var l=i(t),h=String(this),f=o(l,RegExp),m=l.unicode,v=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(p?"y":"g"),y=new f(p?l:"^(?:"+l.source+")",v),b=void 0===e?4294967295:e>>>0;if(0===b)return[];if(0===h.length)return null===c(y,h)?[h]:[];for(var w=0,_=0,E=[];_<h.length;){y.lastIndex=p?_:0;var S,A=c(y,p?h:h.slice(_));if(null===A||(S=d(a(y.lastIndex+(p?0:_)),h.length))===w)_=s(h,_,m);else{if(E.push(h.slice(w,_)),E.length===b)return E;for(var T=1;T<=A.length-1;T++)if(E.push(A[T]),E.length===b)return E;_=w=S}}return E.push(h.slice(w)),E}]}))},function(t,e,n){var r=n(3),i=n(192).set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,c="process"==n(50)(s);t.exports=function(){var t,e,n,l=function(){var r,i;for(c&&(r=s.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(c)n=function(){s.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var u=a.resolve(void 0);n=function(){u.then(l)}}else n=function(){i.call(r,l)};else{var d=!0,h=document.createTextNode("");new o(l).observe(h,{characterData:!0}),n=function(){h.data=d=!d}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){"use strict";var r=n(283),i=n(72);t.exports=n(138)("Map",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=r.getEntry(i(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(i(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(283),i=n(72);t.exports=n(138)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r,i=n(3),o=n(46)(0),s=n(25),a=n(58),c=n(263),l=n(284),u=n(6),d=n(72),h=n(72),f=!i.ActiveXObject&&"ActiveXObject"in i,p=a.getWeak,g=Object.isExtensible,m=l.ufstore,v=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(t){if(u(t)){var e=p(t);return!0===e?m(d(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return l.def(d(this,"WeakMap"),t,e)}},b=t.exports=n(138)("WeakMap",v,y,l,!0,!0);h&&f&&(c((r=l.getConstructor(v,"WeakMap")).prototype,y),a.NEED=!0,o(["delete","has","get","set"],(function(t){var e=b.prototype,n=e[t];s(e,t,(function(e,i){if(u(e)&&!g(e)){this._f||(this._f=new r);var o=this._f[t](e,i);return"set"==t?this:o}return n.call(this,e,i)}))})))},function(t,e,n){"use strict";var r=n(284),i=n(72);n(138)("WeakSet",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(i(this,"WeakSet"),t,!0)}},r,!1,!0)},function(t,e,n){"use strict";var r=n(1),i=n(139),o=n(193),s=n(5),a=n(67),c=n(8),l=n(6),u=n(3).ArrayBuffer,d=n(105),h=o.ArrayBuffer,f=o.DataView,p=i.ABV&&u.isView,g=h.prototype.slice,m=i.VIEW;r(r.G+r.W+r.F*(u!==h),{ArrayBuffer:h}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(t){return p&&p(t)||l(t)&&m in t}}),r(r.P+r.U+r.F*n(4)((function(){return!new h(2).slice(1,void 0).byteLength})),"ArrayBuffer",{slice:function(t,e){if(void 0!==g&&void 0===e)return g.call(s(this),t);for(var n=s(this).byteLength,r=a(t,n),i=a(void 0===e?n:e,n),o=new(d(this,h))(c(i-r)),l=new f(this),u=new f(o),p=0;r<i;)u.setUint8(p++,l.getUint8(r++));return o}}),n(89)("ArrayBuffer")},function(t,e,n){var r=n(1);r(r.G+r.W+r.F*!n(139).ABV,{DataView:n(193).DataView})},function(t,e,n){n(52)("Int8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(52)("Uint8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(52)("Uint8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}),!0)},function(t,e,n){n(52)("Int16",2,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(52)("Uint16",2,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(52)("Int32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(52)("Uint32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(52)("Float32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(52)("Float64",8,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){var r=n(1),i=n(42),o=n(5),s=(n(3).Reflect||{}).apply,a=Function.apply;r(r.S+r.F*!n(4)((function(){s((function(){}))})),"Reflect",{apply:function(t,e,n){var r=i(t),c=o(n);return s?s(r,e,c):a.call(r,e,c)}})},function(t,e,n){var r=n(1),i=n(68),o=n(42),s=n(5),a=n(6),c=n(4),l=n(265),u=(n(3).Reflect||{}).construct,d=c((function(){function t(){}return!(u((function(){}),[],t)instanceof t)})),h=!c((function(){u((function(){}))}));r(r.S+r.F*(d||h),"Reflect",{construct:function(t,e){o(t),s(e);var n=arguments.length<3?t:o(arguments[2]);if(h&&!d)return u(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(l.apply(t,r))}var c=n.prototype,f=i(a(c)?c:Object.prototype),p=Function.apply.call(t,f,e);return a(p)?p:f}})},function(t,e,n){var r=n(18),i=n(1),o=n(5),s=n(57);i(i.S+i.F*n(4)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,e,n){o(t),e=s(e,!0),o(n);try{return r.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var r=n(1),i=n(44).f,o=n(5);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var r=n(1),i=n(5),o=function(t){this._t=i(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(272)(o,"Object",(function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}})),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,n){var r=n(44),i=n(70),o=n(31),s=n(1),a=n(6),c=n(5);s(s.S,"Reflect",{get:function t(e,n){var s,l,u=arguments.length<3?e:arguments[2];return c(e)===u?e[n]:(s=r.f(e,n))?o(s,"value")?s.value:void 0!==s.get?s.get.call(u):void 0:a(l=i(e))?t(l,n,u):void 0}})},function(t,e,n){var r=n(44),i=n(1),o=n(5);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},function(t,e,n){var r=n(1),i=n(70),o=n(5);r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,e,n){var r=n(1);r(r.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var r=n(1),i=n(5),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,e,n){var r=n(1);r(r.S,"Reflect",{ownKeys:n(286)})},function(t,e,n){var r=n(1),i=n(5),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,n){var r=n(18),i=n(44),o=n(70),s=n(31),a=n(1),c=n(63),l=n(5),u=n(6);a(a.S,"Reflect",{set:function t(e,n,a){var d,h,f=arguments.length<4?e:arguments[3],p=i.f(l(e),n);if(!p){if(u(h=o(e)))return t(h,n,a,f);p=c(0)}if(s(p,"value")){if(!1===p.writable||!u(f))return!1;if(d=i.f(f,n)){if(d.get||d.set||!1===d.writable)return!1;d.value=a,r.f(f,n,d)}else r.f(f,n,c(0,a));return!0}return void 0!==p.set&&(p.set.call(f,a),!0)}})},function(t,e,n){var r=n(1),i=n(174);i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){n(711),t.exports=n(14).Array.includes},function(t,e,n){"use strict";var r=n(1),i=n(129)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(71)("includes")},function(t,e,n){n(713),t.exports=n(14).Array.flatMap},function(t,e,n){"use strict";var r=n(1),i=n(714),o=n(23),s=n(8),a=n(42),c=n(274);r(r.P,"Array",{flatMap:function(t){var e,n,r=o(this);return a(t),e=s(r.length),n=c(r,0),i(n,r,r,e,0,1,t,arguments[1]),n}}),n(71)("flatMap")},function(t,e,n){"use strict";var r=n(131),i=n(6),o=n(8),s=n(41),a=n(7)("isConcatSpreadable");t.exports=function t(e,n,c,l,u,d,h,f){for(var p,g,m=u,v=0,y=!!h&&s(h,f,3);v<l;){if(v in c){if(p=y?y(c[v],v,n):c[v],g=!1,i(p)&&(g=void 0!==(g=p[a])?!!g:r(p)),g&&d>0)m=t(e,n,p,o(p.length),m,d-1)-1;else{if(m>=9007199254740991)throw TypeError();e[m]=p}m++}v++}return m}},function(t,e,n){n(716),t.exports=n(14).String.padStart},function(t,e,n){"use strict";var r=n(1),i=n(287),o=n(137),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*s,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){n(718),t.exports=n(14).String.padEnd},function(t,e,n){"use strict";var r=n(1),i=n(287),o=n(137),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*s,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){n(720),t.exports=n(14).String.trimLeft},function(t,e,n){"use strict";n(87)("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},function(t,e,n){n(722),t.exports=n(14).String.trimRight},function(t,e,n){"use strict";n(87)("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},function(t,e,n){n(724),t.exports=n(170).f("asyncIterator")},function(t,e,n){n(259)("asyncIterator")},function(t,e,n){n(726),t.exports=n(14).Object.getOwnPropertyDescriptors},function(t,e,n){var r=n(1),i=n(286),o=n(33),s=n(44),a=n(186);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),c=s.f,l=i(r),u={},d=0;l.length>d;)void 0!==(n=c(r,e=l[d++]))&&a(u,e,n);return u}})},function(t,e,n){n(728),t.exports=n(14).Object.values},function(t,e,n){var r=n(1),i=n(288)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){n(730),t.exports=n(14).Object.entries},function(t,e,n){var r=n(1),i=n(288)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,e,n){"use strict";n(280),n(732),t.exports=n(14).Promise.finally},function(t,e,n){"use strict";var r=n(1),i=n(14),o=n(3),s=n(105),a=n(282);r(r.P+r.R,"Promise",{finally:function(t){var e=s(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then((function(){return n}))}:t,n?function(n){return a(e,t()).then((function(){throw n}))}:t)}})},function(t,e,n){n(734),n(735),n(736),t.exports=n(14)},function(t,e,n){var r=n(3),i=n(1),o=n(137),s=[].slice,a=/MSIE .\./.test(o),c=function(t){return function(e,n){var r=arguments.length>2,i=!!r&&s.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};i(i.G+i.B+i.F*a,{setTimeout:c(r.setTimeout),setInterval:c(r.setInterval)})},function(t,e,n){var r=n(1),i=n(192);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){for(var r=n(189),i=n(66),o=n(25),s=n(3),a=n(32),c=n(88),l=n(7),u=l("iterator"),d=l("toStringTag"),h=c.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(f),g=0;g<p.length;g++){var m,v=p[g],y=f[v],b=s[v],w=b&&b.prototype;if(w&&(w[u]||a(w,u,h),w[d]||a(w,d,v),c[v]=h,y))for(m in r)w[m]||o(w,m,r[m],!0)}},function(t,e,n){n(738),t.exports=n(47).global},function(t,e,n){var r=n(73);r(r.G,{global:n(27)})},function(t,e,n){t.exports=!n(75)&&!n(195)((function(){return 7!=Object.defineProperty(n(196)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(107);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){"use strict";n(294)},function(t,e,n){"use strict";n(295)},function(t,e,n){"use strict";n(296)},function(t,e,n){"use strict";n(297)},function(t,e,n){"use strict";n(298)},function(t,e,n){"use strict";n(299)},function(t,e,n){"use strict";n(300)},function(t,e,n){"use strict";n(301)},function(t,e,n){"use strict";n(302)},function(t,e,n){"use strict";n(303)},function(t,e,n){"use strict";n(304)},function(t,e,n){"use strict";n(305)},function(t,e,n){"use strict";n(306)},function(t,e,n){"use strict";n(307)},function(t,e,n){"use strict";n(308)},function(t,e,n){"use strict";n(309)},function(t,e,n){"use strict";n(310)},function(t,e,n){"use strict";n(311)},function(t,e,n){"use strict";n(312)},function(t,e,n){"use strict";n(313)},function(t,e,n){"use strict";n(314)},function(t,e,n){"use strict";n(315)},function(t,e,n){"use strict";n(316)},function(t,e,n){"use strict";n(317)},function(t,e,n){"use strict";n(318)},function(t,e,n){"use strict";"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},writable:!0,configurable:!0})},function(t,e,n){"use strict";var r=n(9);Object.defineProperty(e,"__esModule",{value:!0}),e.getByPosition=e.getByLocation=e.fetch=void 0;var i=r(n(768)),o=n(28),s=r(n(24)),a=n(339),c=n(93),l=n(112),u=n(113),d=(0,l.getApiHost)().nex;e.fetch=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!1},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n||{},l=r.getUserGroup,h=void 0===l?u.getUid:l,f=r.emptyPlaceholder,p=r.isHideAd,g=void 0===p?window.specialHideAd:p,m=r.isParseData,v=void 0===m||m;return new Promise((function(r){var c=function(r){var c=t.app,l=t.column,u=t.type,h=t.location,f=t.sspLocation,p=t.timeout,g=void 0===p?3e3:p,m=t.more,v=t.source,y=void 0===v?s.default.getChannelType():v;(0,o.isString)(y)&&(m=(m||"")+"&source=".concat(y)),(0,o.isString)(r)&&(m=(m||"")+"&usergroup=".concat(r.substr(-1)));var b=!!(0,o.isFunction)(e)&&e(s.default.getChannelType());return b?Promise.resolve((0,o.isObject)(b)?(0,a.getBackupAds)([],b,n):[]):new i.default({host:t.host||d,column:l,type:u,location:h,app:c,sspLocation:f,timeout:g,more:m}).getAll().catch((function(t){return console.error(t),[]}))},l=(0,o.isFunction)(h)?h():h;return(0,o.isPromise)(l)?h().then((function(t){c(t).then((function(t){return r(t)}))})):l&&(0,o.isBoolean)(l)?(0,u.getUid)().then((function(t){c(t).then((function(t){return r(t)}))})):void c((0,o.isString)(l)?l:"").then((function(t){return r(t)}))})).then((function(t){return(0,c.filterAd)(t,f,g).map((function(t){return v?(0,c.parseADData)(t):t}))}))};e.getByLocation=function(t,e){return(0,o.isArray)(e)&&e.length?e.filter((function(e){return e.location===t})):[]};e.getByPosition=function(t,e){return(0,o.isArray)(e)&&e.length?e.filter((function(e){return e.position===t})):[]}},function(t,e,n){"use strict";var r=n(9);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(769)),o=r(n(770)),s=r(n(771)),a=r(n(108)),c=r(n(109)),l=n(772),u=r(n(821)),d=r(n(824)),h=r(n(111)),f=r(n(825)),p=function(){function t(e){var n=e.app,r=e.column,i=e.type,o=e.location,c=e.host,l=e.sspLocation,u=e.timeout,d=void 0===u?1e4:u,h=e.more;(0,a.default)(this,t),this.adPromise=this._fetch({host:c,column:r,type:i,location:o,app:n,sspLocation:l,timeout:d,more:h}).then((function(t){return t&&"object"===(0,s.default)(t)&&1===t.result?Promise.resolve(t.ads.map((function(t){return new f.default(t)}))):Promise.reject("SSP returns falied")}))}var e,n,r,p;return(0,c.default)(t,[{key:"_fetch",value:(p=(0,o.default)(i.default.mark((function t(e){var n,r,o,s,a,c,f,p,g,m,v,y,b;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.column,r=e.type,o=e.location,s=e.app,a=e.host,c=e.sspLocation,f=e.timeout,p=e.more,s||(s=h.default.APP),a||(a="https://nex.163.com"),t.next=5,u.default.getNetType();case 5:return g=t.sent.connection_type,m=d.default.getOS(),v=o&&o.join(","),c&&!Array.isArray(c)&&(c=[c]),y=c?"&location=".concat(c.join(",")):"",b="".concat(a,"/q?c=").concat(n,"&t=").concat(r,"&l=").concat(v,"&app=").concat(s,"&nt=").concat(g,"&os=").concat(m).concat(y).concat(p||""),t.abrupt("return",(0,l.fetch)({url:b,callback:"cb",cache:!1,noCacheParam:!0,timeout:f}));case 12:case"end":return t.stop()}}),t)}))),function(t){return p.apply(this,arguments)})},{key:"getByPosition",value:(r=(0,o.default)(i.default.mark((function t(e){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.adPromise;case 2:return n=t.sent,t.abrupt("return",n.filter((function(t){return t.position===e})));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"getByLocation",value:(n=(0,o.default)(i.default.mark((function t(e){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.adPromise;case 2:return n=t.sent,t.abrupt("return",n.filter((function(t){return t.location===e})));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"getAll",value:(e=(0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.adPromise;case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),t}();e.default=p},function(t,e,n){t.exports=n(194)},function(t,e){function n(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,i)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(i,o){var s=t.apply(e,r);function a(t){n(s,i,o,a,c,"next",t)}function c(t){n(s,i,o,a,c,"throw",t)}a(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function n(e){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fetch=void 0;var r,i=d(n(319)),o=d(n(320)),s=d(n(143)),a=d(n(335)),c=(r=(0,o.default)(i.default.mark((function t(e){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,l.sendRequest)(e);case 3:n=t.sent,e.resolve(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.reject(t.t0);case 10:return t.prev=10,h(e.cbFunctionName),t.finish(10);case 13:case"end":return t.stop()}}),t,this,[[0,7,10,13]])}))),function(t){return r.apply(this,arguments)}),l=(n(337),n(816)),u=n(820);function d(t){return t&&t.__esModule?t:{default:t}}function h(t){var e=(0,u.get)(t);e&&c(e)}e.fetch=function(t){var e=(0,a.default)({callback:"callback",cbFunctionName:"callback_"+(new Date).getTime(),cache:!1,timeout:1e4,noCacheParam:!1},t);return new s.default((function(t,n){var r=(0,a.default)({},e,{extraParams:{},resolve:t,reject:n}),i=e.cbFunctionName;if(!e.cache){var o=Math.round(1e8*Math.random());e.noCacheParam?i=i+"_rnd_"+o:r.extraParams.__rnd=o}r.cbFunctionName=i,window[i]||(0,u.exists)(i)?(0,u.add)(i,r):c(r)}))}},function(t,e,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(774),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";var n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag",c="object"==typeof t,l=e.regeneratorRuntime;if(l)c&&(t.exports=l);else{(l=e.regeneratorRuntime=c?t.exports:{}).wrap=g;var u={},d={};d[o]=function(){return this};var h=Object.getPrototypeOf,f=h&&h(h(x([])));f&&f!==n&&r.call(f,o)&&(d=f);var p=b.prototype=v.prototype=Object.create(d);y.prototype=p.constructor=b,b.constructor=y,b[a]=y.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(p),t},l.awrap=function(t){return{__await:t}},w(_.prototype),_.prototype[s]=function(){return this},l.AsyncIterator=_,l.async=function(t,e,n,r){var i=new _(g(t,e,n,r));return l.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(p),p[a]="Generator",p[o]=function(){return this},p.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=x,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}}}function g(t,e,n,r){var i=e&&e.prototype instanceof v?e:v,o=Object.create(i.prototype),s=new T(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return k()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=E(s,n);if(a){if(a===u)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=m(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,s),o}function m(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function v(){}function y(){}function b(){}function w(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function _(t){var e;this._invoke=function(n,i){function o(){return new Promise((function(e,o){!function e(n,i,o,s){var a=m(t[n],t,i);if("throw"!==a.type){var c=a.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then((function(t){e("next",t,o,s)}),(function(t){e("throw",t,o,s)})):Promise.resolve(l).then((function(t){c.value=t,o(c)}),s)}s(a.arg)}(n,i,e,o)}))}return e=e?e.then(o,o):o()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=m(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function x(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}}(function(){return this}()||Function("return this")())},function(t,e,n){n(776),n(777),n(787),n(791),n(803),n(804),t.exports=n(47).Promise},function(t,e){},function(t,e,n){"use strict";var r=n(778)(!0);n(321)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},function(t,e,n){var r=n(197),i=n(198);t.exports=function(t){return function(e,n){var o,s,a=String(i(e)),c=r(n),l=a.length;return c<0||c>=l?t?"":void 0:(o=a.charCodeAt(c))<55296||o>56319||c+1===l||(s=a.charCodeAt(c+1))<56320||s>57343?t?a.charAt(c):o:t?a.slice(c,c+2):s-56320+(o-55296<<10)+65536}}},function(t,e,n){t.exports=n(92)},function(t,e,n){"use strict";var r=n(781),i=n(289),o=n(202),s={};n(92)(s,n(38)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(s,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(74),i=n(782),o=n(327),s=n(201)("IE_PROTO"),a=function(){},c=function(){var t,e=n(196)("iframe"),r=o.length;for(e.style.display="none",n(328).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;r--;)delete c.prototype[o[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=r(t),n=new a,a.prototype=null,n[s]=t):n=c(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(106),i=n(74),o=n(322);t.exports=n(75)?Object.defineProperties:function(t,e){i(t);for(var n,s=o(e),a=s.length,c=0;a>c;)r.f(t,n=s[c++],e[n]);return t}},function(t,e,n){var r=n(142),i=n(200),o=n(784)(!1),s=n(201)("IE_PROTO");t.exports=function(t,e){var n,a=i(t),c=0,l=[];for(n in a)n!=s&&r(a,n)&&l.push(n);for(;e.length>c;)r(a,n=e[c++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){var r=n(200),i=n(324),o=n(785);t.exports=function(t){return function(e,n,s){var a,c=r(e),l=i(c.length),u=o(s,l);if(t&&n!=n){for(;l>u;)if((a=c[u++])!=a)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}}},function(t,e,n){var r=n(197),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(142),i=n(329),o=n(201)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){n(788);for(var r=n(27),i=n(92),o=n(110),s=n(38)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<a.length;c++){var l=a[c],u=r[l],d=u&&u.prototype;d&&!d[s]&&i(d,s,l),o[l]=o.Array}},function(t,e,n){"use strict";var r=n(789),i=n(790),o=n(110),s=n(200);t.exports=n(321)(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r,i,o,s,a=n(199),c=n(27),l=n(140),u=n(330),d=n(73),h=n(107),f=n(141),p=n(792),g=n(793),m=n(331),v=n(332).set,y=n(798)(),b=n(203),w=n(333),_=n(799),E=n(334),S=c.TypeError,A=c.process,T=A&&A.versions,x=T&&T.v8||"",k=c.Promise,C="process"==u(A),R=function(){},L=i=b.f,I=!!function(){try{var t=k.resolve(1),e=(t.constructor={})[n(38)("species")]=function(t){t(R,R)};return(C||"function"==typeof PromiseRejectionEvent)&&t.then(R)instanceof e&&0!==x.indexOf("6.6")&&-1===_.indexOf("Chrome/66")}catch(t){}}(),O=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},D=function(t,e){if(!t._n){t._n=!0;var n=t._c;y((function(){for(var r=t._v,i=1==t._s,o=0,s=function(e){var n,o,s,a=i?e.ok:e.fail,c=e.resolve,l=e.reject,u=e.domain;try{a?(i||(2==t._h&&P(t),t._h=1),!0===a?n=r:(u&&u.enter(),n=a(r),u&&(u.exit(),s=!0)),n===e.promise?l(S("Promise-chain cycle")):(o=O(n))?o.call(n,c,l):c(n)):l(r)}catch(t){u&&!s&&u.exit(),l(t)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&M(t)}))}},M=function(t){v.call(c,(function(){var e,n,r,i=t._v,o=N(t);if(o&&(e=w((function(){C?A.emit("unhandledRejection",i,t):(n=c.onunhandledrejection)?n({promise:t,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=C||N(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},N=function(t){return 1!==t._h&&0===(t._a||t._c).length},P=function(t){v.call(c,(function(){var e;C?A.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})}))},F=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),D(e,!0))},B=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw S("Promise can't be resolved itself");(e=O(t))?y((function(){var r={_w:n,_d:!1};try{e.call(t,l(B,r,1),l(F,r,1))}catch(t){F.call(r,t)}})):(n._v=t,n._s=1,D(n,!1))}catch(t){F.call({_w:n,_d:!1},t)}}};I||(k=function(t){p(this,k,"Promise","_h"),f(t),r.call(this);try{t(l(B,this,1),l(F,this,1))}catch(t){F.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(800)(k.prototype,{then:function(t,e){var n=L(m(this,k));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=C?A.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=l(B,t,1),this.reject=l(F,t,1)},b.f=L=function(t){return t===k||t===s?new o(t):i(t)}),d(d.G+d.W+d.F*!I,{Promise:k}),n(202)(k,"Promise"),n(801)("Promise"),s=n(47).Promise,d(d.S+d.F*!I,"Promise",{reject:function(t){var e=L(this);return(0,e.reject)(t),e.promise}}),d(d.S+d.F*(a||!I),"Promise",{resolve:function(t){return E(a&&this===s?k:this,t)}}),d(d.S+d.F*!(I&&n(802)((function(t){k.all(t).catch(R)}))),"Promise",{all:function(t){var e=this,n=L(e),r=n.resolve,i=n.reject,o=w((function(){var n=[],o=0,s=1;g(t,!1,(function(t){var a=o++,c=!1;n.push(void 0),s++,e.resolve(t).then((function(t){c||(c=!0,n[a]=t,--s||r(n))}),i)})),--s||r(n)}));return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=L(e),r=n.reject,i=w((function(){g(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(140),i=n(794),o=n(795),s=n(74),a=n(324),c=n(796),l={},u={};(e=t.exports=function(t,e,n,d,h){var f,p,g,m,v=h?function(){return t}:c(t),y=r(n,d,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(f=a(t.length);f>b;b++)if((m=e?y(s(p=t[b])[0],p[1]):y(t[b]))===l||m===u)return m}else for(g=v.call(t);!(p=g.next()).done;)if((m=i(g,y,p.value,e))===l||m===u)return m}).BREAK=l,e.RETURN=u},function(t,e,n){var r=n(74);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(110),i=n(38)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){var r=n(330),i=n(38)("iterator"),o=n(110);t.exports=n(47).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(27),i=n(332).set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,c="process"==n(144)(s);t.exports=function(){var t,e,n,l=function(){var r,i;for(c&&(r=s.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(c)n=function(){s.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var u=a.resolve(void 0);n=function(){u.then(l)}}else n=function(){i.call(r,l)};else{var d=!0,h=document.createTextNode("");new o(l).observe(h,{characterData:!0}),n=function(){h.data=d=!d}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){var r=n(27).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){var r=n(92);t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:r(t,i,e[i]);return t}},function(t,e,n){"use strict";var r=n(27),i=n(47),o=n(106),s=n(75),a=n(38)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:r[t];s&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(38)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},t(o)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(73),i=n(47),o=n(27),s=n(331),a=n(334);r(r.P+r.R,"Promise",{finally:function(t){var e=s(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then((function(){return n}))}:t,n?function(n){return a(e,t()).then((function(){throw n}))}:t)}})},function(t,e,n){"use strict";var r=n(73),i=n(203),o=n(333);r(r.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){n(806),t.exports=n(47).Object.assign},function(t,e,n){var r=n(73);r(r.S+r.F,"Object",{assign:n(807)})},function(t,e,n){"use strict";var r=n(75),i=n(322),o=n(808),s=n(809),a=n(329),c=n(323),l=Object.assign;t.exports=!l||n(195)((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=r}))?function(t,e){for(var n=a(t),l=arguments.length,u=1,d=o.f,h=s.f;l>u;)for(var f,p=c(arguments[u++]),g=d?i(p).concat(d(p)):i(p),m=g.length,v=0;m>v;)f=g[v++],r&&!h.call(p,f)||(n[f]=p[f]);return n}:l},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){(function(t,r){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof r&&r;s.global!==s&&s.window!==s&&s.self;var a,c=2147483647,l=/^xn--/,u=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,p=String.fromCharCode;function g(t){throw new RangeError(h[t])}function m(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function v(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+m((t=t.replace(d,".")).split("."),e).join(".")}function y(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function b(t){return m(t,(function(t){var e="";return t>65535&&(e+=p((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=p(t)})).join("")}function w(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function _(t,e,n){var r=0;for(t=n?f(t/700):t>>1,t+=f(t/e);t>455;r+=36)t=f(t/35);return f(r+36*t/(t+38))}function E(t){var e,n,r,i,o,s,a,l,u,d,h,p=[],m=t.length,v=0,y=128,w=72;for((n=t.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&g("not-basic"),p.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<m;){for(o=v,s=1,a=36;i>=m&&g("invalid-input"),((l=(h=t.charCodeAt(i++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:36)>=36||l>f((c-v)/s))&&g("overflow"),v+=l*s,!(l<(u=a<=w?1:a>=w+26?26:a-w));a+=36)s>f(c/(d=36-u))&&g("overflow"),s*=d;w=_(v-o,e=p.length+1,0==o),f(v/e)>c-y&&g("overflow"),y+=f(v/e),v%=e,p.splice(v++,0,y)}return b(p)}function S(t){var e,n,r,i,o,s,a,l,u,d,h,m,v,b,E,S=[];for(m=(t=y(t)).length,e=128,n=0,o=72,s=0;s<m;++s)(h=t[s])<128&&S.push(p(h));for(r=i=S.length,i&&S.push("-");r<m;){for(a=c,s=0;s<m;++s)(h=t[s])>=e&&h<a&&(a=h);for(a-e>f((c-n)/(v=r+1))&&g("overflow"),n+=(a-e)*v,e=a,s=0;s<m;++s)if((h=t[s])<e&&++n>c&&g("overflow"),h==e){for(l=n,u=36;!(l<(d=u<=o?1:u>=o+26?26:u-o));u+=36)E=l-d,b=36-d,S.push(p(w(d+E%b,0))),l=f(E/b);S.push(p(w(l,0))),o=_(n,v,r==i),n=0,++r}++n,++e}return S.join("")}a={version:"1.4.1",ucs2:{decode:y,encode:b},decode:E,encode:S,toASCII:function(t){return v(t,(function(t){return u.test(t)?"xn--"+S(t):t}))},toUnicode:function(t){return v(t,(function(t){return l.test(t)?E(t.slice(4).toLowerCase()):t}))}},void 0===(i=function(){return a}.call(e,n,e,t))||(t.exports=i)}()}).call(this,n(811)(t),n(59))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,n){"use strict";e.decode=e.parse=n(814),e.encode=e.stringify=n(815)},function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,o){e=e||"&",n=n||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var l=t.length;c>0&&l>c&&(l=c);for(var u=0;u<l;++u){var d,h,f,p,g=t[u].replace(a,"%20"),m=g.indexOf(n);m>=0?(d=g.substr(0,m),h=g.substr(m+1)):(d=g,h=""),f=decodeURIComponent(d),p=decodeURIComponent(h),r(s,f)?i(s[f])?s[f].push(p):s[f]=[s[f],p]:s[f]=p}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,a){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?o(s(t),(function(s){var a=encodeURIComponent(r(s))+n;return i(t[s])?o(t[s],(function(t){return a+encodeURIComponent(r(t))})).join(e):a+encodeURIComponent(r(t[s]))})).join(e):a?encodeURIComponent(r(a))+n+encodeURIComponent(r(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var s=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(336)),i=c(n(817)),o=c(n(335)),s=c(n(143));e.sendRequest=function(t){var e=t.url,n=t.cbFunctionName,c=t.callback,u=t.timeout,d=t.extraParams;if(!e)throw"should have url";return new s.default((function(t,s){var h=document.createElement("script"),f=void 0,p=setTimeout((function(){h&&(h.onload=h.onerror=l,h.parentNode&&h.parentNode.removeChild(h),h=null,s("timeout:"+u+"ms"))}),u);window[n]=function(t){f=t},h.onload=function(){return clearTimeout(p),window[n]=void 0,h.parentNode&&h.parentNode.removeChild(h),h=null,t(f)},h.onerror=function(t){return clearTimeout(p),window[n]=void 0,h.parentNode&&h.parentNode.removeChild(h),h=null,s(t)};var g,m,v,y=(0,o.default)({},d,(0,i.default)({},c,n));h.src=(g=e,m=y,(v=(0,a.parse)(g,!0)).query=(0,r.default)(v.query,m),delete v.search,(0,a.format)(v,!0)),document.body.appendChild(h)}))};var a=n(337);function c(t){return t&&t.__esModule?t:{default:t}}function l(){}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(338),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t,e,n){return e in t?(0,o.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){n(819);var r=n(47).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(73);r(r.S+r.F*!n(75),"Object",{defineProperty:n(106).f})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={};e.add=function(t,e){r[t]||(r[t]=[]),r[t].push(e)},e.get=function(t){try{var e=r[t].shift();return 0==r[t].length&&delete r[t],e}catch(t){return null}},e.exists=function(t){return r[t]&&r[t].length>0}},function(t,e,n){"use strict";var r=c(n(319)),i=c(n(143)),o=c(n(320)),s=c(n(822)),a=c(n(823));function c(t){return t&&t.__esModule?t:{default:t}}var l=1,u=new(function(){function t(){(0,s.default)(this,t)}var e;return(0,a.default)(t,[{key:"getNetType",value:(e=(0,o.default)(r.default.mark((function t(){var e,n,o,s,a,c,u,d,h;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e={connection_type:"unknown",operator_type:"unknown"},n=navigator.connection||navigator.mozConnection||navigator.webkitConnection,o=navigator.userAgent.toLowerCase(),!/micromessenger/.test(o)||!/nettype/.test(o)){t.next=8;break}(s=o.match(/nettype\/(\S*)/))&&(e.connection_type=s[1]),t.next=24;break;case 8:if(!window.qb_bridge||"function"!=typeof window.qb_bridge.nativeExec){t.next=13;break}(a=window.qb_bridge.nativeExec("connection","type",Math.floor(2e9*Math.random()),""))&&(e.connection_type=a),t.next=24;break;case 13:if(!window._flyflowNative||"function"!=typeof window._flyflowNative.exec){t.next=23;break}return c={1:"none",2:"2G",3:"3G",4:"4G",100:"wifi",101:"unknown",999:"unknown"},u={1:"CMCC",2:"CTCC",3:"CUCC",99:"unknown"},d="getNetType"+l,t.next=19,new i.default((function(t,e){l+=1,window[d]=function(e){window[d]=null,t(e)},setTimeout((function(){window._flyflowNative.exec("bd_network","getNetwork",null,d)}),0),setTimeout((function(){window[d]&&t(null)}),200)}));case 19:(h=t.sent)&&(h.connection_type&&(e.connection_type=c[h.connection_type]),h.operator_type&&(e.operator_type=u[h.operator_type])),t.next=24;break;case 23:n&&("string"==typeof n.type&&(e.connection_type=n.type),"string"==typeof n.effectiveType&&"wifi"!=e.connection_type&&(e.connection_type=n.effectiveType),"slow-2g"===e.connection_type&&(e.connection_type="2g"));case 24:return e.connection_type=e.connection_type.toLowerCase(),e.connection_type=e.connection_type.replace(/(\d+)g/g,"$1G"),-1===["cellular","4G","3G","wifi","2G","unknown","none"].indexOf(e.connection_type)&&(e.connection_type="unknown"),t.abrupt("return",e);case 29:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),t}());t.exports=u},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(338),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={getOS:function(){var t=navigator.userAgent.match(/(iphone|android)/gi);return t&&t[0]}};e.default=r},function(t,e,n){"use strict";var r=n(9);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(204)),o=r(n(108)),s=r(n(109)),a=r(n(111)),c=function(){function t(e){(0,o.default)(this,t);var n=/^yt[-_]/.test(e.adid)?"A":"B";"codeAD"===e.style&&(n=/cpro\.baidustatic\.com/.test(e.htmlResource)?"D":"C"),Object.assign(this,e,{adType:n}),this.resources=this.resources||[],this.relatedActionLinks=this.relatedActionLinks||[],this._formatResources(),this._formatRelatedLinks(),this.eventTypes=a.default.MONITOR}return(0,s.default)(t,[{key:"_formatResources",value:function(){this.resources=this.resources.reduce((function(t,e){return t[a.default.RESOURCE_TYPE[e.type]]=e.urls.map((function(t,n){if(!e.width_height||!e.width_height[n])return{url:t};var r=e.width_height[n].split(":"),o=(0,i.default)(r,2),s=o[0],a=o[1];return{url:t,width:parseInt(s),height:parseInt(a)}})),t}),{})}},{key:"_formatRelatedLinks",value:function(){this.relatedActionLinks=this.relatedActionLinks.reduce((function(t,e){try{t[e.type]||(t[e.type]=[]),t[e.type].push(e.url)}catch(t){console.warn(t)}return t}),{landing_page:[],download:[],detail:[]})}},{key:"sendMonitorRequest",value:function(t){var e=location.href.match(/https:/);this.monitor.filter((function(e){return e.action===t})).map((function(t){return t.url})).forEach((function(t){var n=t.match(/^https:/);if(e&&!n)return function(t){var e=new Image;e.onload=e.onerror=function(){e=null},e.src=t}(t);!function(t){var e=document.createElement("script");e.onload=e.onerror=function(){e.parentNode&&e.parentNode.removeChild(e),e=void 0},e.src=t,document.body.appendChild(e)}(t)}))}}]),t}();e.default=c},function(t,e){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(t){a=!0,i=t}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(829);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clone=void 0;e.clone=function t(e){var n={};switch(Object.prototype.toString.call(e).slice(8,-1)){case"Object":n=Object.create(e),Object.keys(e).forEach((function(r){n[r]=t(e[r])}));break;case"Array":n=e.map((function(e){return t(e)}));break;default:n=e}return n}},function(t,e,n){"use strict";var r=n(9);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(204)),o=n(28),s={adType:function(t){try{var e=decodeURIComponent((window.location.href.match(/verify=([^&#]*)/)||["",""])[1]).split("|"),n=(0,i.default)(e,2),r=n[0],s=n[1];return(0,o.isObject)(t)&&t[r]&&s.split("+").includes(t[r])&&console.log("ant:@newap/ad ==> ".concat(t[r],":\n"),t),[["val_act","exposure_ad",function(t){return!(t.info||{}).ad_type},"======== 广告曝光 info 缺失 ad_type 字段, 请检查 ========="]].some((function(e){return!(t[e[0]]!==e[1]||!e[2](t))&&(console.error(e[3]),console.log(t),console.error(e[3]),!0)}))}catch(t){return console.error(t),!0}}};e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.zxb=void 0;var r=n(112),i=n(113),o=n(28),s=n(205),a=n(93),c=n(834),l=(0,r.getApiHost)().zxb,u=function(t,e,n,r){Object.keys(t).forEach((function(i){(t[i]||[]).forEach((function(t){e[i]=e[i]||[],e[i].push((0,a.parseADData)({adid:t.adid,adType:"C",type:t.type,title:t.guide||"",desc:t.desc,link:t.url,htmlResource:"codeAD"===t.type?t.htmlResource:"",imgSrc:t.imgsrc||t.imgSrc||"",icon:t.icon||"",resources:{image:[{url:t.icon}]}}))})),e[i]=(0,a.filterAd)(e[i],n[i],r)}))};e.zxb=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n){var a={},d={},h=t||{},f=h.position,p=h.host,g=h.params,m=void 0===g?{}:g,v=e.isHideAd,y=void 0===v?window.specialHideAd:v,b=e.emptyPlaceholder,w=e.retry,_=void 0===w||w,E=e.lastErrorInfo,S=void 0===E||E,A=e.errorCallback,T=void 0===A?function(){}:A,x=e.type,k=e.beforeRequest,C=void 0===k?function(){}:k;f=f||m.position,(0,o.isString)(f)&&(f=f.split(",")),f.forEach((function(t,e){a[t]=[],d[t]=1===f.length?b:(0,o.isArray)(b)?b[e]:void 0}));try{!/^(https?:)?\/\//i.test(l=p||l)&&(l="//"+l),(0,i.getUid)().then((function(t){var e=Object.assign(m,{position:f.join(","),uuid:32===t.length?t:"".concat(s.char.sn(32-t.length)+t)});(0,o.isFunction)(C)&&C(e.uuid);var i=function(){return("jsonp"===x?(0,c.jsonp)({url:"".concat(l).concat(/t\.c\.m/.test(l)?"/nc/gl/zxbplacement/ad/placementInfoV2":"/ad/placementInfoV2"),functionName:"callback",data:e}):(0,c.fetchData)({method:"POST",url:"".concat(l).concat(/t\.c\.m/.test(l)?"/nc/gl/zxbplacement/ad/placementInfo":"/ad/placementInfo"),headers:{"Content-type":"text/plain"},data:JSON.stringify(e)})).then((function(t){var e=t.data,r=t.code;return 0===r?u(e,a,d,y):(0,o.isFunction)(T)&&T(new Error("code: ".concat(r))),n(a),t}))},h=function(t){n(a);var e="promise:catch";try{e="promise:catch:".concat(t.message)}catch(t){}(0,o.isFunction)(T)&&T(new Error(e))};i().catch((function(t){if(_){try{if(!S){var e;e="promise:catch:".concat(t.message),(0,o.isFunction)(T)&&T(new Error(e),"first")}}catch(t){}return l=p||(0,r.getApiHost)().zxbad,void i().catch((function(t){h(t)}))}h(t)}))}))}catch(t){n(a);var R="try:catch";try{R="try:catch:".concat(t.message)}catch(t){}(0,o.isFunction)(T)&&T(new Error(R))}}))}},function(t,e,n){"use strict";var r=n(9);Object.defineProperty(e,"__esModule",{value:!0}),e.jsonp=e.getScript=e.fetchData=e.ajax=void 0;var i=r(n(340)),o=n(28),s=n(341),a=function(t){var e=t.method,n=t.url,r=t.headers,i=void 0===r?{}:r,s=t.data,a=t.dataType,c=void 0===a?"json":a;return new Promise((function(t,r){var a=new XMLHttpRequest;a.open(e,n,!0),(0,o.isObject)(i)&&Object.keys(i).forEach((function(t){a.setRequestHeader(t,i[t])})),a.onload=function(){if(200!==a.status)r(new Error("xhr:status: ".concat(a.status)));else try{t("json"===c?JSON.parse(a.responseText):a.responseText)}catch(t){r(new Error("xhr:".concat(t.message,":").concat(a.responseText)))}},a.addEventListener("error",(function(t){r(new Error("xhr:error: ".concat(a.status,"|").concat(t.type)))})),a.addEventListener("abort",(function(){r(new Error("xhr:abort"))})),a.addEventListener("timeout",(function(){r(new Error("xhr:timeout"))})),a.send(s)}))};e.ajax=a;e.fetchData=function(t){var e=t.method,n=t.url,r=t.headers,i=void 0===r?{}:r,o=t.data,s=t.dataType,c=void 0===s?"json":s;return new Promise((function(t,r){window.fetch?window.fetch(n,{method:e,body:o,mode:"cors"}).then((function(t){return t.text()})).then((function(r){var i=r;if("json"===c)try{i=JSON.parse(r)}catch(t){throw new Error("fetch:".concat(t.message,":").concat(r,":").concat(n,":").concat(e))}t(i)})).catch((function(t){r(t)})):a({method:e,url:n,headers:i,data:o}).then((function(e){t(e)})).catch((function(t){r(t)}))}))};var c=function(t){return new Promise((function(e,n){var r=t.data,i=t.url,o=document.createElement("script");o.async=!0,o.crossorigin="anonymous",o.src=(0,s.combine)(r,i),o.onload=function(){e({})},o.onerror=function(t){var e="no message";try{e=t.message||t.code||t.type||e}catch(t){}n(new Error("loaded script error:".concat(e)))},document.querySelector("head").appendChild(o)}))};e.getScript=c;e.jsonp=function(t){return new Promise((function(e,n){var r=t.url,o=t.functionName,a=void 0===o?"callback":o,l=t.data,u=void 0===l?{}:l,d=t.callbackName,h=void 0===d?"_m".concat((new Date).getTime()).concat(Math.floor(100*Math.random())):d;window[h]=function(t){e(t)};var f=Object.assign(u,(0,i.default)({},a,h));c({url:r,data:f}).catch((function(){window.fetch?fetch((0,s.combine)(f,r),{mode:"cors"}).then((function(t){return t.text()})).then((function(t){e(JSON.parse(t.match(/([^(]*)\)/)[1]))})).catch((function(t){n(t)})):c({url:r,data:f}).catch((function(t){n(t)}))}))}))}},function(t,e,n){"use strict";var r=n(9);Object.defineProperty(e,"__esModule",{value:!0}),e.render=e.renderCodeAd=e.createBox=void 0;var i=n(93),o=r(n(24)),s=n(836),a=n(28);e.createBox=function(t){var e=document.createElement(t.tag||"section");return e.id=t.id,t.id&&e.setAttribute("id",t.id),t.class&&e.setAttribute("class",t.class),e};var c=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t};try{if("codeAD"===t.style||"codeAD"===t.type){var r=t.codeADData||(0,i.parseCodeAdData)(t);e&&setTimeout((function(){o.default.getDom(e).innerHTML=r.tpl.join(""),setTimeout((function(){r.snippet.length&&new Function(r.snippet.join(";"))(),r.src.length&&r.src.forEach((function(r){var i=document.createElement("script");i.crossorigin="anonymous",i.src=((0,a.isString)(r)?r:r.src).replace(/^https?:/,""),(0,a.isObject)(r)&&Object.keys(r).forEach((function(t){"src"!==t&&i.setAttribute(t,r[t])}));var s=e?o.default.getDom(e):document.body;(0,a.isFunction)(n)&&(i=n(i,t)),s.appendChild(i)}))}),0)}),0)}}catch(n){console.log(n,t,e)}};e.renderCodeAd=c;e.render=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{extra:function(t,e){return e},wrapperTag:"div",ui:"old"};try{if(!t)return"";var r=t.____?t:(0,i.parseADData)(t),l=n||{},u=l.extra,d=l.wrapperTag,h=void 0===d?"div":d,f=l.ui,p=void 0===f?"old":f,g=r.type,m="",v=o.default.getDom(e);switch(setTimeout((function(){o.default.getDom(".js-close",v).addEventListener("click",(function(t){t.stopPropagation(),t.preventDefault(),v.style.display="none"}))}),100),g){case"codeAD":c(r,e);break;default:if(g){if(s.templates[g]&&(m=s.templates[g](r,h,p)),(0,a.isFunction)(u)&&(m=u(r,m)),!m)throw"html snippet is null!";return e&&(o.default.getDom(e).innerHTML=m),m}}}catch(t){console.log(t,e)}return""}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.templates=void 0;var r=n(837),i=n(838),o=n(839),s=n(840),a=n(841),c=n(842),l=n(843),u=n(844),d=n(845),h=n(846),f=n(847),p={columsAD:r.columsAD,columsLiveAD:i.columsLiveAD,docAD:o.docAD,iframeAD:s.iframeAD,iframePhotoAD:a.iframePhotoAD,iframeAD_photoset:a.iframePhotoAD,photosetAD:c.photosetAD,textAD:l.textAD,waterfallsAD:u.waterfallsAD,ltrpAD:d.ltrpAD,cardAD:f.cardAD,adEmpty:h.adEmpty};e.templates=p},function(t,e,n){"use strict";var r=n(9);Object.defineProperty(e,"__esModule",{value:!0}),e.columsAD=void 0;var i=r(n(24)),o=!i.default.uaMatch.isIosSafari;e.columsAD=function(t){var e=t.docid,n=t.link,r=t.title,s=t.pic_info,a=t.imgSrc,c=t.source,l=void 0===c?"广告":c,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"section",d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"old",h="old"===d?'<span class="m_a_d_source">'.concat(l,"</span>"):'<div class="s_foot">\n          <div class="m_ad_source">'.concat(l,'</div>\n          <div class="m_ad_close" data-close="1"></div>\n        </div>'),f="\n      <".concat(u,' class="m_colum_a_d m_clearfix" id="').concat(e,'">\n        <a ').concat(o?"target = '_blank'":"",'  href="').concat(n,'">\n          <div class="s_title">').concat(r,'</div>\n          <div class="s_img">\n              <img src="').concat(s?i.default.getOnePic(s,0,"url"):a,'" />\n          </div>\n          ').concat(h,"\n        </a>\n      </").concat(u,">");return f}},function(t,e,n){"use strict";var r=n(9);Object.defineProperty(e,"__esModule",{value:!0}),e.columsLiveAD=void 0;var i=r(n(24)),o=!i.default.uaMatch.isIosSafari;e.columsLiveAD=function(t){var e=t.docid,n=t.link,r=t.title,s=t.pic_info,a=t.source,c=void 0===a?"广告":a,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"section",u='\n    <div class="live_d_line"></div>\n    <'.concat(l,' class="m_papa_m0 m_papa m_papa_live papa-item m_clearfix" id="').concat(e,'">\n      <a ').concat(o?"target = '_blank'":"",' href="').concat(n,'">\n        <div class="m_papa_title">').concat(r,'</div>\n        <div class="m_papa_img">\n          <img src="').concat(i.default.getOnePic(s,0,"url"),'">\n        </div>\n      </a>\n      <div class="papa_flag">').concat(c,"</div>\n    </").concat(l,">\n    ");return u}},function(t,e,n){"use strict";var r=n(9);Object.defineProperty(e,"__esModule",{value:!0}),e.docAD=void 0;var i=r(n(24)),o=!i.default.uaMatch.isIosSafari;e.docAD=function(t){var e=t.docid,n=t.link,r=t.title,s=t.pic_info,a=t.source,c=t.ptime,l=(t.desc,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"section"),u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"old",d="old"===u?'<div class="m_papa_desc m_clearfix">\n          <div class="m_papa_desc_l">\n              <span class="m_papa_promote">'.concat(a||"",'</span>\n              <span class="m_papa_time">').concat(c,'</span>\n          </div>\n          <div class="m_article_desc_r"></div>\n        </div>'):'<div class="s_foot">\n          <div class="m_ad_source">'.concat(a,'</div>\n          <div class="m_ad_close" data-close="1"></div>\n        </div>'),h="\n    <".concat(l,' class="m_a_d_doc m_papa papa-item m_clearfix" id="').concat(e,'">\n      <a ').concat(o?"target = '_blank'":"",' href="').concat(n,'" >\n          <div class="m_papa_img">\n              <img src="').concat(i.default.getOnePic(s,0,"url"),'">\n          </div>\n          <div class="m_papa_info">\n              <div class="m_papa_title">').concat(r||"","</div>\n              ").concat(d,"\n          </div>\n      </a>\n    </").concat(l,">\n  ");return h}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.iframeAD=void 0;e.iframeAD=function(t){var e=t.link,n=t.docid,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"section",i="\n    <".concat(r,' class="m_papa_iframe m_papa papa-item m_clearfix" id="').concat(n,'">\n      <div class="m_papa_iframe_wrap">\n           <iframe src="').concat(e,'" frameborder="0" allowtransparency="true" scrolling="no" sandbox="allow-scripts allow-same-origin allow-popups"></iframe>\n      </div>\n  </').concat(r,">");return i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.iframePhotoAD=void 0;e.iframePhotoAD=function(t){var e=t.link,n=t.docid,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"section",i="";return e&&(i="\n        <".concat(r,' class="m_papa_iframe_photoset m_papa papa-item m_clearfix" id="').concat(n,'">\n          <div class="m_papa_iframe_wrap">\n              <iframe src="').concat(e,'" frameborder="0" allowtransparency="true" scrolling="no"></iframe>\n          </div>\n      </').concat(r,">")),i}},function(t,e,n){"use strict";var r=n(9);Object.defineProperty(e,"__esModule",{value:!0}),e.photosetAD=void 0;var i=!r(n(24)).default.uaMatch.isIosSafari;e.photosetAD=function(t){var e=t.docid,n=t.link,r=t.title,o=t.source,s=t.pic_info,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"section",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"old",l="old"===c?"":'<div class="s_foot">\n          <div class="m_ad_source">'.concat(o,'</div>\n          <div class="m_ad_close" data-close="1"></div>\n        </div>'),u=s.map((function(t){return'<img src="'.concat(t.url,'">')})).join(""),d="\n    <".concat(a,' class="m_photoset_a_d m_papa_m1 m_papa papa-item m_clearfix" id="').concat(e,'">\n      <a ').concat(i?"target = '_blank'":"",' href="').concat(n,'" >\n          <div class="m_papa_title">\n              ').concat(r,"\n              ").concat("old"===c?'<span class="m_papa_promote">'.concat(o,"</span>"):"",'\n          </div>\n          <div class="m_papa_pic">\n              <div class="m_papa_pic_wrap m_clearfix">\n                ').concat(u,"\n              </div>\n          </div>\n          ").concat(l,"      \n      </a>\n  </").concat(a,">\n  ");return d}},function(t,e,n){"use strict";var r=n(9);Object.defineProperty(e,"__esModule",{value:!0}),e.textAD=void 0;var i=!r(n(24)).default.uaMatch.isIosSafari;e.textAD=function(t){var e=t.docid,n=t.link,r=t.title,o=t.source,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"section",a="\n    <".concat(s,' class="m_papa_m2 m_papa papa-item m_clearfix" id="').concat(e,'">\n      <a ').concat(i?"target = '_blank'":"",' href="').concat(n,'">\n          <div class="m_separate">\n              <div class="m_papa_content">\n                  ').concat(r,'\n                  <span class="m_papa_promote">').concat(o,"</span>\n              </div>\n          </div>\n      </a>\n    </").concat(s,">\n    ");return a}},function(t,e,n){"use strict";var r=n(9);Object.defineProperty(e,"__esModule",{value:!0}),e.waterfallsAD=void 0;var i=r(n(24)),o=!i.default.uaMatch.isIosSafari;e.waterfallsAD=function(t){var e=t.docid,n=t.link,r=t.title,s=t.pic_info,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"section",c="\n    <".concat(a,' class="papa_item m_photoset_square m_article list-item m_clearfix" id="').concat(e,'">\n      <a ').concat(o?"target = '_blank'":"",' href="').concat(n,'" >\n          <div class="m_photoset_square_img">\n              <img src="').concat(i.default.getOnePic(s,0,"url"),'">\n          </div>\n          <div class="m_photoset_square_info">\n              <div class="m_photoset_square_title">\n                  <span class="m_photoset_square_adflag">广告</span>\n                  <span>').concat(r,"</span>\n              </div>\n          </div>\n      </a>\n  </").concat(a,">\n  ");return c}},function(t,e,n){"use strict";var r=n(9);Object.defineProperty(e,"__esModule",{value:!0}),e.ltrpAD=void 0;var i=!r(n(24)).default.uaMatch.isIosSafari;e.ltrpAD=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"section",n=t.docid,r=t.link,o=t.title,s=t.pic_info,a=t.content,c=void 0===a?"":a,l=t.source,u=void 0===l?"广告":l,d="\n      <".concat(e,' class="m-ltrp" id="').concat(n,'">\n        <a ').concat(i?'target = "_blank"':"",'  href="').concat(r,'">\n          <div class="m-ltrp-title">\n            <div class="s-title">').concat(o,'</div>\n            <div class="s-source"><span class="s-promote">').concat(u,"</span><span>").concat(c,'</span></div>\n          </div>\n          <div class="m-ltrp-img">\n            ').concat(s.map((function(t){return'<img src="'.concat(t.url,'"/>')})).join(""),"\n          </div>\n        </a>\n        \n      </").concat(e,">");return d}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adEmpty=void 0;e.adEmpty=function(t){var e=t.docid,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"section";return"<".concat(n,' class="s_empty" id="').concat(e,'"></').concat(n,">")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cardAD=void 0;e.cardAD=function(t){var e=t.link,n=t.title,r=t.imgSrc,i=t.digest,o=t.docid;return'<a class="m_a_d_card" href="'.concat(e,'" id="').concat(o,'">\n        <div class="m_a_d_card_img"><img src="').concat(r,'" /></div>\n        <div class="info">\n          <h3>').concat(n,"</h3>\n          <small>").concat(i||"点击跳转",'</small>\n        </div>\n        <i class="icon-arrow"></i>\n    </a>')}},function(t,e,n){"use strict";var r=n(9);Object.defineProperty(e,"__esModule",{value:!0}),e.track=e.positionExposure=e.click=e.exposure=e.simpleExposure=void 0;var i=r(n(340)),o=r(n(24)),s=r(n(145)),a=n(28),c=n(342),l=r(n(206)),u=n(341),d=n(93),h=n(207);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var g=new c.AdExposure,m=new h.Exposure({threshold:0,cbs:"__ioCbs__s"}),v=function(t){var e="",n=o.default.getDom(t);return!(e=n.href||n.dataset.href||"")&&(e=(o.default.getDom("a",n)||{}).href),e},y=function(t){var e="normal";try{var n=o.default.getDom(t),r=n.clientHeight;if(r<=10&&(e="abnormal"),r>10&&window.getComputedStyle){var i=getComputedStyle(n).getPropertyValue("padding").split(/\s/).map((function(t){return parseInt(t,10)}));r-(i=i.length>=10?i[0]+i[2]:2*i[0])<=5&&(e="abnormal")}}catch(t){console.log(t)}return e},b=[];window.addEventListener&&window.addEventListener("beforeunload",(function(){b.forEach((function(t){t()}))}),!1);var w=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{antData:{val_nm:"",val_act:"",info:{}},type:void 0},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=e.antData,i=void 0===r?{}:r,o=e.type;try{var c=i.val_nm||i.event,u=i.val_act||i.target,d=i.info||{};m[o=o&&"once"!==o?"on":"once"](t,(function(){if(c&&u){var e=v(t);e&&!d.exposure_url&&(d.exposure_url=e),l.default.ensure((function(){s.default.send({val_nm:c,val_act:u,info:d})}))}(0,a.isFunction)(n)&&n()}))}catch(t){console.error(t)}};e.simpleExposure=w;var _=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{adData:{},antData:{val_nm:"",info:{}},type:void 0,reportAbnormal:""},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=e.adData,i=void 0===r?{}:r,c=e.antData,u=void 0===c?{}:c,f=e.type,p=e.reportAbnormal,m=void 0===p?"on":p;i=(0,d.parseADData)(i);try{var v=u.val_nm||u.event,w=i.type||i.style,_=!w||"adEmpty"===w,E=u.info||{};w&&(E=Object.assign(E,{type:i.type||i.style||"",exposure_url:i.link,exposure_id:i.adid||i.adId,ad_type:i.adType})),g.adExposure(t,{type:f},(function(){var e=function(t){t.forEach((function(t){s.default.send({val_nm:v,val_act:"".concat(t),info:E})}))};(!(0,a.isArray)(i.visibility)||!i.visibility.filter((function(t){return 0==+t.type})).length)&&i.sendMonitorRequest&&i.sendMonitorRequest((i.eventTypes||{}).show),_||l.default.ensure((function(){var n=["exposure_ad"];if("on"!==m||"normal"===y(t))return e(n);var r={timeout:null,interval:null},i=!1;r.interval=setInterval((function(){"normal"===y(t)&&(i=!0,e(n),clearInterval(r.interval),clearTimeout(r.timeout))}),300),r.timeout=setTimeout((function(){i||(clearInterval(r.interval),e("normal"===y(t)?n:["exposure_ad_abnormal"]),i=!0)}),6e4),b.push((function(){!i&&e("normal"===y(t)?n:["exposure_ad_abnormal"])}))})),"adEmpty"===w&&s.default.send({val_nm:v,val_act:"exposure_ad_empty",info:E}),(0,a.isFunction)(n)&&n()})),i&&(0,a.isArray)(i.visibility)&&i.visibility.forEach((function(e){var n,r=e.duration,a=void 0===r?0:r,c=e.rate_height;a=1e3*+a,n=+(void 0===c?0:c)/100,new h.Exposure({threshold:n}).delay(o.default.getDom(t),(function(){e.type&&i.sendMonitorRequest&&i.sendMonitorRequest((i.eventTypes||{})[["show","exposure_interval"][+e.type]]),s.default.send({val_nm:v,val_act:"exposure_ad_visibility_".concat(e.type),info:E})}),{type:"once",duration:a})}))}catch(t){console.error(t)}};e.exposure=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{adData:{},antData:{val_nm:"",info:{}},type:void 0,reportAbnormal:"on"},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};console.warn("请使用 ad.track.adExposure 方法",t);var r=e||{},i=r.antData,o=void 0===i?{}:i,a=o.val_nm,c=o.event,l=o.info,u=void 0===l?{}:l;a=a||c,_(t,e,(function(){n(),s.default.send({val_nm:a,val_act:"exposure_ad_position_general",info:u})}))};var E=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{adData:{},antData:{}},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=e.antData,i=void 0===r?{}:r,c=e.adData,l=void 0===c?{}:c,h=e.url,f=i.val_nm||i.event,p=i.val_act||i.target||"click_ad",g=i.info||{},m=o.default.getDom(t),y=(l=(0,d.parseADData)(l)).type||l.style;m.addEventListener("click",(function(t){var e="click";1==+t.target.dataset.close&&(e="close",p="close_ad");var r=(0,u.getUrl)(h)||v(m);if(r||"click"!==e){t.preventDefault();var o=(0,u.parseSpecialUrl)(l,r,i);g=Object.assign({type:y||"",exposure_url:l.link||r,exposure_id:l.adid,ad_type:l.adType},g),l.sendMonitorRequest&&l.sendMonitorRequest((l.eventTypes||{})[e]),(0,a.isFunction)(n)&&n(o,e),s.default.send({val_act:p,val_nm:f,info:g}),"click"===e&&setTimeout((function(){/dev\./.test(window.location.href)?window.open(o,"_blank"):window.location.href=o}),200),"close"===e&&(m.style.display="none")}}))};e.click=E;var S=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};try{var r=e.duration,i=void 0===r?500:r,c=e.antData,l=void 0===c?{}:c,u=e.type;l.val_nm=l.val_nm||l.event,l.val_act="exposure_ad_position",l.info=Object.assign({category:"",location:"",position:""},l.info||{}),["category","location","position"].forEach((function(t){!l.info[t]&&console.warn("请确认广告库存 ".concat(l.val_nm," 上报字段 ").concat(t," 是否正确, 如正确请忽略"))})),g.positionExposure(t,{duration:i,type:u},(function(){(0,a.isFunction)(n)&&n();var e=o.default.getDom(t),r=e.clientHeight,i=e.clientWidth;l.sc="".concat(i,"*").concat(r),s.default.send(l)}))}catch(t){console.error(t)}};e.positionExposure=S;var A={exposure:w,adExposure:_,adPositionExposure:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};try{var r=e.antData,i=void 0===r?{}:r,o=e.type,s=i.val_nm,a=i.event,c=i.info;s=s||a;var l=p({},c);["category","location","position"].forEach((function(t){delete l[t]})),w(t,{antData:{val_nm:s,val_act:"exposure_ad_position_general",info:l},type:o},(function(){n("general")})),S(t,e,(function(){n("")}))}catch(t){console.error(t)}},click:E};e.track=A},function(t,e){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var t=function(t){for(var e=window.document,n=i(e);n;)n=i(e=n.ownerDocument);return e}(),e=[],n=null,r=null;s.prototype.THROTTLE_TIMEOUT=100,s.prototype.POLL_INTERVAL=null,s.prototype.USE_MUTATION_OBSERVER=!0,s._setupCrossOriginUpdater=function(){return n||(n=function(t,n){r=t&&n?d(t,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},e.forEach((function(t){t._checkForIntersections()}))}),n},s._resetCrossOriginUpdater=function(){n=null,r=null},s.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(t.ownerDocument),this._checkForIntersections()}},s.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._unmonitorIntersections(t.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},s.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},s.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},s.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]}))},s.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},s.prototype._monitorIntersections=function(e){var n=e.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(e)){var r=this._checkForIntersections,o=null,s=null;this.POLL_INTERVAL?o=n.setInterval(r,this.POLL_INTERVAL):(a(n,"resize",r,!0),a(e,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(s=new n.MutationObserver(r)).observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(e),this._monitoringUnsubscribes.push((function(){var t=e.defaultView;t&&(o&&t.clearInterval(o),c(t,"resize",r,!0)),c(e,"scroll",r,!0),s&&s.disconnect()}));var l=this.root&&(this.root.ownerDocument||this.root)||t;if(e!=l){var u=i(e);u&&this._monitorIntersections(u.ownerDocument)}}},s.prototype._unmonitorIntersections=function(e){var n=this._monitoringDocuments.indexOf(e);if(-1!=n){var r=this.root&&(this.root.ownerDocument||this.root)||t;if(!this._observationTargets.some((function(t){var n=t.element.ownerDocument;if(n==e)return!0;for(;n&&n!=r;){var o=i(n);if((n=o&&o.ownerDocument)==e)return!0}return!1}))){var o=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),o(),e!=r){var s=i(e);s&&this._unmonitorIntersections(s.ownerDocument)}}}},s.prototype._unmonitorAllIntersections=function(){var t=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var e=0;e<t.length;e++)t[e]()},s.prototype._checkForIntersections=function(){if(this.root||!n||r){var t=this._rootIsInDom(),e=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var i=r.element,s=l(i),a=this._rootContainsTarget(i),c=r.entry,u=t&&a&&this._computeTargetAndRootIntersection(i,s,e),d=null;this._rootContainsTarget(i)?n&&!this.root||(d=e):d={top:0,bottom:0,left:0,right:0,width:0,height:0};var h=r.entry=new o({time:window.performance&&performance.now&&performance.now(),target:i,boundingClientRect:s,rootBounds:d,intersectionRect:u});c?t&&a?this._hasCrossedThreshold(c,h)&&this._queuedEntries.push(h):c&&c.isIntersecting&&this._queuedEntries.push(h):this._queuedEntries.push(h)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},s.prototype._computeTargetAndRootIntersection=function(e,i,o){if("none"!=window.getComputedStyle(e).display){for(var s,a,c,u,h,p,g,m,v=i,y=f(e),b=!1;!b&&y;){var w=null,_=1==y.nodeType?window.getComputedStyle(y):{};if("none"==_.display)return null;if(y==this.root||9==y.nodeType)if(b=!0,y==this.root||y==t)n&&!this.root?!r||0==r.width&&0==r.height?(y=null,w=null,v=null):w=r:w=o;else{var E=f(y),S=E&&l(E),A=E&&this._computeTargetAndRootIntersection(E,S,o);S&&A?(y=E,w=d(S,A)):(y=null,v=null)}else{var T=y.ownerDocument;y!=T.body&&y!=T.documentElement&&"visible"!=_.overflow&&(w=l(y))}if(w&&(s=w,a=v,c=void 0,u=void 0,h=void 0,p=void 0,g=void 0,m=void 0,c=Math.max(s.top,a.top),u=Math.min(s.bottom,a.bottom),h=Math.max(s.left,a.left),p=Math.min(s.right,a.right),m=u-c,v=(g=p-h)>=0&&m>=0&&{top:c,bottom:u,left:h,right:p,width:g,height:m}||null),!v)break;y=y&&f(y)}return v}},s.prototype._getRootRect=function(){var e;if(this.root&&!p(this.root))e=l(this.root);else{var n=p(this.root)?this.root:t,r=n.documentElement,i=n.body;e={top:0,left:0,right:r.clientWidth||i.clientWidth,width:r.clientWidth||i.clientWidth,bottom:r.clientHeight||i.clientHeight,height:r.clientHeight||i.clientHeight}}return this._expandRectByRootMargin(e)},s.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100})),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},s.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,r=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==n||o==r||o<n!=o<r)return!0}},s.prototype._rootIsInDom=function(){return!this.root||h(t,this.root)},s.prototype._rootContainsTarget=function(e){var n=this.root&&(this.root.ownerDocument||this.root)||t;return h(n,e)&&(!this.root||n==e.ownerDocument)},s.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},s.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=s,window.IntersectionObserverEntry=o}function i(t){try{return t.defaultView&&t.defaultView.frameElement||null}catch(t){return null}}function o(t){this.time=t.time,this.target=t.target,this.rootBounds=u(t.rootBounds),this.boundingClientRect=u(t.boundingClientRect),this.intersectionRect=u(t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function s(t,e){var n,r,i,o=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType&&9!=o.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout((function(){n(),i=null}),r))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function a(t,e,n,r){"function"==typeof t.addEventListener?t.addEventListener(e,n,r||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function c(t,e,n,r){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,r||!1):"function"==typeof t.detachEvent&&t.detachEvent("on"+e,n)}function l(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function u(t){return!t||"x"in t?t:{top:t.top,y:t.top,bottom:t.bottom,left:t.left,x:t.left,right:t.right,width:t.width,height:t.height}}function d(t,e){var n=e.top-t.top,r=e.left-t.left;return{top:n,left:r,height:e.height,width:e.width,bottom:n+e.height,right:r+e.width}}function h(t,e){for(var n=e;n;){if(n==t)return!0;n=f(n)}return!1}function f(e){var n=e.parentNode;return 9==e.nodeType&&e!=t?i(e):(n&&n.assignedSlot&&(n=n.assignedSlot.parentNode),n&&11==n.nodeType&&n.host?n.host:n)}function p(t){return t&&9===t.nodeType}}()},function(t,e,n){"use strict";n(343)},function(t,e,n){"use strict";n(344)},function(t,e,n){"use strict";n(345)},function(t,e,n){"use strict";n(346)},function(t,e,n){},function(t,e,n){"use strict";n(347)},function(t,e,n){},function(t,e,n){"use strict";n(348)},function(t,e,n){"use strict";n(349)},function(t,e,n){"use strict";n(350)},function(t,e,n){"use strict";n(351)},function(t,e,n){"use strict";n(352)},function(t,e,n){"use strict";n(353)},function(t,e,n){"use strict";n(354)},function(t,e,n){"use strict";n(355)},function(t,e,n){},function(t,e,n){"use strict";n(356)},function(t,e){t.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},function(t,e,n){const r=n(76),i=n(208),o=n(869),s=n(870),a=n(871),c=n(872),l=n(873),u=n(357),d=n(874),h=n(877),f=n(878),p=n(77),g=n(879);function m(t,e,n){const r=t.size,i=f.getEncodedBits(e,n);let o,s;for(o=0;o<15;o++)s=1==(i>>o&1),o<6?t.set(o,8,s,!0):o<8?t.set(o+1,8,s,!0):t.set(r-15+o,8,s,!0),o<8?t.set(8,r-o-1,s,!0):o<9?t.set(8,15-o-1+1,s,!0):t.set(8,15-o-1,s,!0);t.set(r-8,8,1,!0)}function v(t,e,n){const i=new o;n.forEach((function(e){i.put(e.mode.bit,4),i.put(e.getLength(),p.getCharCountIndicator(e.mode,t)),e.write(i)}));const s=8*(r.getSymbolTotalCodewords(t)-u.getTotalCodewordsCount(t,e));for(i.getLengthInBits()+4<=s&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(0);const a=(s-i.getLengthInBits())/8;for(let t=0;t<a;t++)i.put(t%2?17:236,8);return function(t,e,n){const i=r.getSymbolTotalCodewords(e),o=u.getTotalCodewordsCount(e,n),s=i-o,a=u.getBlocksCount(e,n),c=a-i%a,l=Math.floor(i/a),h=Math.floor(s/a),f=h+1,p=l-h,g=new d(p);let m=0;const v=new Array(a),y=new Array(a);let b=0;const w=new Uint8Array(t.buffer);for(let t=0;t<a;t++){const e=t<c?h:f;v[t]=w.slice(m,m+e),y[t]=g.encode(v[t]),m+=e,b=Math.max(b,e)}const _=new Uint8Array(i);let E,S,A=0;for(E=0;E<b;E++)for(S=0;S<a;S++)E<v[S].length&&(_[A++]=v[S][E]);for(E=0;E<p;E++)for(S=0;S<a;S++)_[A++]=y[S][E];return _}(i,t,e)}function y(t,e,n,i){let o;if(Array.isArray(t))o=g.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");{let r=e;if(!r){const e=g.rawSplit(t);r=h.getBestVersionForData(e,n)}o=g.fromString(t,r||40)}}const u=h.getBestVersionForData(o,n);if(!u)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<u)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+u+".\n")}else e=u;const d=v(e,n,o),f=r.getSymbolSize(e),p=new s(f);return function(t,e){const n=t.size,r=c.getPositions(e);for(let e=0;e<r.length;e++){const i=r[e][0],o=r[e][1];for(let e=-1;e<=7;e++)if(!(i+e<=-1||n<=i+e))for(let r=-1;r<=7;r++)o+r<=-1||n<=o+r||(e>=0&&e<=6&&(0===r||6===r)||r>=0&&r<=6&&(0===e||6===e)||e>=2&&e<=4&&r>=2&&r<=4?t.set(i+e,o+r,!0,!0):t.set(i+e,o+r,!1,!0))}}(p,e),function(t){const e=t.size;for(let n=8;n<e-8;n++){const e=n%2==0;t.set(n,6,e,!0),t.set(6,n,e,!0)}}(p),function(t,e){const n=a.getPositions(e);for(let e=0;e<n.length;e++){const r=n[e][0],i=n[e][1];for(let e=-2;e<=2;e++)for(let n=-2;n<=2;n++)-2===e||2===e||-2===n||2===n||0===e&&0===n?t.set(r+e,i+n,!0,!0):t.set(r+e,i+n,!1,!0)}}(p,e),m(p,n,0),e>=7&&function(t,e){const n=t.size,r=h.getEncodedBits(e);let i,o,s;for(let e=0;e<18;e++)i=Math.floor(e/3),o=e%3+n-8-3,s=1==(r>>e&1),t.set(i,o,s,!0),t.set(o,i,s,!0)}(p,e),function(t,e){const n=t.size;let r=-1,i=n-1,o=7,s=0;for(let a=n-1;a>0;a-=2)for(6===a&&a--;;){for(let n=0;n<2;n++)if(!t.isReserved(i,a-n)){let r=!1;s<e.length&&(r=1==(e[s]>>>o&1)),t.set(i,a-n,r),o--,-1===o&&(s++,o=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}(p,d),isNaN(i)&&(i=l.getBestMask(p,m.bind(null,p,n))),l.applyMask(i,p),m(p,n,i),{modules:p,version:e,errorCorrectionLevel:n,maskPattern:i,segments:o}}e.create=function(t,e){if(void 0===t||""===t)throw new Error("No input text");let n,o,s=i.M;return void 0!==e&&(s=i.from(e.errorCorrectionLevel,i.M),n=h.from(e.version),o=l.from(e.maskPattern),e.toSJISFunc&&r.setToSJISFunction(e.toSJISFunc)),y(t,n,s,o)}},function(t,e){function n(){this.buffer=[],this.length=0}n.prototype={get:function(t){const e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(let n=0;n<e;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=n},function(t,e){function n(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}n.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)},n.prototype.get=function(t,e){return this.data[t*this.size+e]},n.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n},n.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},t.exports=n},function(t,e,n){const r=n(76).getSymbolSize;e.getRowColCoords=function(t){if(1===t)return[];const e=Math.floor(t/7)+2,n=r(t),i=145===n?26:2*Math.ceil((n-13)/(2*e-2)),o=[n-7];for(let t=1;t<e-1;t++)o[t]=o[t-1]-i;return o.push(6),o.reverse()},e.getPositions=function(t){const n=[],r=e.getRowColCoords(t),i=r.length;for(let t=0;t<i;t++)for(let e=0;e<i;e++)0===t&&0===e||0===t&&e===i-1||t===i-1&&0===e||n.push([r[t],r[e]]);return n}},function(t,e,n){const r=n(76).getSymbolSize;e.getPositions=function(t){const e=r(t);return[[0,0],[e-7,0],[0,e-7]]}},function(t,e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const n=3,r=3,i=40,o=10;function s(t,n,r){switch(t){case e.Patterns.PATTERN000:return(n+r)%2==0;case e.Patterns.PATTERN001:return n%2==0;case e.Patterns.PATTERN010:return r%3==0;case e.Patterns.PATTERN011:return(n+r)%3==0;case e.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2==0;case e.Patterns.PATTERN101:return n*r%2+n*r%3==0;case e.Patterns.PATTERN110:return(n*r%2+n*r%3)%2==0;case e.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(t){const e=t.size;let r=0,i=0,o=0,s=null,a=null;for(let c=0;c<e;c++){i=o=0,s=a=null;for(let l=0;l<e;l++){let e=t.get(c,l);e===s?i++:(i>=5&&(r+=n+(i-5)),s=e,i=1),e=t.get(l,c),e===a?o++:(o>=5&&(r+=n+(o-5)),a=e,o=1)}i>=5&&(r+=n+(i-5)),o>=5&&(r+=n+(o-5))}return r},e.getPenaltyN2=function(t){const e=t.size;let n=0;for(let r=0;r<e-1;r++)for(let i=0;i<e-1;i++){const e=t.get(r,i)+t.get(r,i+1)+t.get(r+1,i)+t.get(r+1,i+1);4!==e&&0!==e||n++}return n*r},e.getPenaltyN3=function(t){const e=t.size;let n=0,r=0,o=0;for(let i=0;i<e;i++){r=o=0;for(let s=0;s<e;s++)r=r<<1&2047|t.get(i,s),s>=10&&(1488===r||93===r)&&n++,o=o<<1&2047|t.get(s,i),s>=10&&(1488===o||93===o)&&n++}return n*i},e.getPenaltyN4=function(t){let e=0;const n=t.data.length;for(let r=0;r<n;r++)e+=t.data[r];return Math.abs(Math.ceil(100*e/n/5)-10)*o},e.applyMask=function(t,e){const n=e.size;for(let r=0;r<n;r++)for(let i=0;i<n;i++)e.isReserved(i,r)||e.xor(i,r,s(t,i,r))},e.getBestMask=function(t,n){const r=Object.keys(e.Patterns).length;let i=0,o=1/0;for(let s=0;s<r;s++){n(s),e.applyMask(s,t);const r=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(s,t),r<o&&(o=r,i=s)}return i}},function(t,e,n){const r=n(875);function i(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(t){this.degree=t,this.genPoly=r.generateECPolynomial(this.degree)},i.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(t.length+this.degree);e.set(t);const n=r.mod(e,this.genPoly),i=this.degree-n.length;if(i>0){const t=new Uint8Array(this.degree);return t.set(n,i),t}return n},t.exports=i},function(t,e,n){const r=n(876);e.mul=function(t,e){const n=new Uint8Array(t.length+e.length-1);for(let i=0;i<t.length;i++)for(let o=0;o<e.length;o++)n[i+o]^=r.mul(t[i],e[o]);return n},e.mod=function(t,e){let n=new Uint8Array(t);for(;n.length-e.length>=0;){const t=n[0];for(let i=0;i<e.length;i++)n[i]^=r.mul(e[i],t);let i=0;for(;i<n.length&&0===n[i];)i++;n=n.slice(i)}return n},e.generateECPolynomial=function(t){let n=new Uint8Array([1]);for(let i=0;i<t;i++)n=e.mul(n,new Uint8Array([1,r.exp(i)]));return n}},function(t,e){const n=new Uint8Array(512),r=new Uint8Array(256);!function(){let t=1;for(let e=0;e<255;e++)n[e]=t,r[t]=e,t<<=1,256&t&&(t^=285);for(let t=255;t<512;t++)n[t]=n[t-255]}(),e.log=function(t){if(t<1)throw new Error("log("+t+")");return r[t]},e.exp=function(t){return n[t]},e.mul=function(t,e){return 0===t||0===e?0:n[r[t]+r[e]]}},function(t,e,n){const r=n(76),i=n(357),o=n(208),s=n(77),a=n(358),c=r.getBCHDigit(7973);function l(t,e){return s.getCharCountIndicator(t,e)+4}function u(t,e){let n=0;return t.forEach((function(t){const r=l(t.mode,e);n+=r+t.getBitsLength()})),n}e.from=function(t,e){return a.isValid(t)?parseInt(t,10):e},e.getCapacity=function(t,e,n){if(!a.isValid(t))throw new Error("Invalid QR Code version");void 0===n&&(n=s.BYTE);const o=8*(r.getSymbolTotalCodewords(t)-i.getTotalCodewordsCount(t,e));if(n===s.MIXED)return o;const c=o-l(n,t);switch(n){case s.NUMERIC:return Math.floor(c/10*3);case s.ALPHANUMERIC:return Math.floor(c/11*2);case s.KANJI:return Math.floor(c/13);case s.BYTE:default:return Math.floor(c/8)}},e.getBestVersionForData=function(t,n){let r;const i=o.from(n,o.M);if(Array.isArray(t)){if(t.length>1)return function(t,n){for(let r=1;r<=40;r++){if(u(t,r)<=e.getCapacity(r,n,s.MIXED))return r}}(t,i);if(0===t.length)return 1;r=t[0]}else r=t;return function(t,n,r){for(let i=1;i<=40;i++)if(n<=e.getCapacity(i,r,t))return i}(r.mode,r.getLength(),i)},e.getEncodedBits=function(t){if(!a.isValid(t)||t<7)throw new Error("Invalid QR Code version");let e=t<<12;for(;r.getBCHDigit(e)-c>=0;)e^=7973<<r.getBCHDigit(e)-c;return t<<12|e}},function(t,e,n){const r=n(76),i=r.getBCHDigit(1335);e.getEncodedBits=function(t,e){const n=t.bit<<3|e;let o=n<<10;for(;r.getBCHDigit(o)-i>=0;)o^=1335<<r.getBCHDigit(o)-i;return 21522^(n<<10|o)}},function(t,e,n){const r=n(77),i=n(880),o=n(881),s=n(882),a=n(884),c=n(359),l=n(76),u=n(885);function d(t){return unescape(encodeURIComponent(t)).length}function h(t,e,n){const r=[];let i;for(;null!==(i=t.exec(n));)r.push({data:i[0],index:i.index,mode:e,length:i[0].length});return r}function f(t){const e=h(c.NUMERIC,r.NUMERIC,t),n=h(c.ALPHANUMERIC,r.ALPHANUMERIC,t);let i,o;l.isKanjiModeEnabled()?(i=h(c.BYTE,r.BYTE,t),o=h(c.KANJI,r.KANJI,t)):(i=h(c.BYTE_KANJI,r.BYTE,t),o=[]);return e.concat(n,i,o).sort((function(t,e){return t.index-e.index})).map((function(t){return{data:t.data,mode:t.mode,length:t.length}}))}function p(t,e){switch(e){case r.NUMERIC:return i.getBitsLength(t);case r.ALPHANUMERIC:return o.getBitsLength(t);case r.KANJI:return a.getBitsLength(t);case r.BYTE:return s.getBitsLength(t)}}function g(t,e){let n;const c=r.getBestModeForData(t);if(n=r.from(e,c),n!==r.BYTE&&n.bit<c.bit)throw new Error('"'+t+'" cannot be encoded with mode '+r.toString(n)+".\n Suggested mode is: "+r.toString(c));switch(n!==r.KANJI||l.isKanjiModeEnabled()||(n=r.BYTE),n){case r.NUMERIC:return new i(t);case r.ALPHANUMERIC:return new o(t);case r.KANJI:return new a(t);case r.BYTE:return new s(t)}}e.fromArray=function(t){return t.reduce((function(t,e){return"string"==typeof e?t.push(g(e,null)):e.data&&t.push(g(e.data,e.mode)),t}),[])},e.fromString=function(t,n){const i=function(t,e){const n={},i={start:{}};let o=["start"];for(let s=0;s<t.length;s++){const a=t[s],c=[];for(let t=0;t<a.length;t++){const l=a[t],u=""+s+t;c.push(u),n[u]={node:l,lastCount:0},i[u]={};for(let t=0;t<o.length;t++){const s=o[t];n[s]&&n[s].node.mode===l.mode?(i[s][u]=p(n[s].lastCount+l.length,l.mode)-p(n[s].lastCount,l.mode),n[s].lastCount+=l.length):(n[s]&&(n[s].lastCount=l.length),i[s][u]=p(l.length,l.mode)+4+r.getCharCountIndicator(l.mode,e))}}o=c}for(let t=0;t<o.length;t++)i[o[t]].end=0;return{map:i,table:n}}(function(t){const e=[];for(let n=0;n<t.length;n++){const i=t[n];switch(i.mode){case r.NUMERIC:e.push([i,{data:i.data,mode:r.ALPHANUMERIC,length:i.length},{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.ALPHANUMERIC:e.push([i,{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.KANJI:e.push([i,{data:i.data,mode:r.BYTE,length:d(i.data)}]);break;case r.BYTE:e.push([{data:i.data,mode:r.BYTE,length:d(i.data)}])}}return e}(f(t,l.isKanjiModeEnabled())),n),o=u.find_path(i.map,"start","end"),s=[];for(let t=1;t<o.length-1;t++)s.push(i.table[o[t]].node);return e.fromArray(function(t){return t.reduce((function(t,e){const n=t.length-1>=0?t[t.length-1]:null;return n&&n.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)}),[])}(s))},e.rawSplit=function(t){return e.fromArray(f(t,l.isKanjiModeEnabled()))}},function(t,e,n){const r=n(77);function i(t){this.mode=r.NUMERIC,this.data=t.toString()}i.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){let e,n,r;for(e=0;e+3<=this.data.length;e+=3)n=this.data.substr(e,3),r=parseInt(n,10),t.put(r,10);const i=this.data.length-e;i>0&&(n=this.data.substr(e),r=parseInt(n,10),t.put(r,3*i+1))},t.exports=i},function(t,e,n){const r=n(77),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(t){this.mode=r.ALPHANUMERIC,this.data=t}o.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let n=45*i.indexOf(this.data[e]);n+=i.indexOf(this.data[e+1]),t.put(n,11)}this.data.length%2&&t.put(i.indexOf(this.data[e]),6)},t.exports=o},function(t,e,n){const r=n(883),i=n(77);function o(t){this.mode=i.BYTE,"string"==typeof t&&(t=r(t)),this.data=new Uint8Array(t)}o.getBitsLength=function(t){return 8*t},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)},t.exports=o},function(t,e,n){"use strict";t.exports=function(t){for(var e=[],n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319&&n>r+1){var o=t.charCodeAt(r+1);o>=56320&&o<=57343&&(i=1024*(i-55296)+o-56320+65536,r+=1)}i<128?e.push(i):i<2048?(e.push(i>>6|192),e.push(63&i|128)):i<55296||i>=57344&&i<65536?(e.push(i>>12|224),e.push(i>>6&63|128),e.push(63&i|128)):i>=65536&&i<=1114111?(e.push(i>>18|240),e.push(i>>12&63|128),e.push(i>>6&63|128),e.push(63&i|128)):e.push(239,191,189)}return new Uint8Array(e).buffer}},function(t,e,n){const r=n(77),i=n(76);function o(t){this.mode=r.KANJI,this.data=t}o.getBitsLength=function(t){return 13*t},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=i.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),t.put(n,13)}},t.exports=o},function(t,e,n){"use strict";var r={single_source_shortest_paths:function(t,e,n){var i={},o={};o[e]=0;var s,a,c,l,u,d,h,f=r.PriorityQueue.make();for(f.push(e,0);!f.empty();)for(c in a=(s=f.pop()).value,l=s.cost,u=t[a]||{})u.hasOwnProperty(c)&&(d=l+u[c],h=o[c],(void 0===o[c]||h>d)&&(o[c]=d,f.push(c,d),i[c]=a));if(void 0!==n&&void 0===o[n]){var p=["Could not find a path from ",e," to ",n,"."].join("");throw new Error(p)}return i},extract_shortest_path_from_predecessor_list:function(t,e){for(var n=[],r=e;r;)n.push(r),t[r],r=t[r];return n.reverse(),n},find_path:function(t,e,n){var i=r.single_source_shortest_paths(t,e,n);return r.extract_shortest_path_from_predecessor_list(i,n)},PriorityQueue:{make:function(t){var e,n=r.PriorityQueue,i={};for(e in t=t||{},n)n.hasOwnProperty(e)&&(i[e]=n[e]);return i.queue=[],i.sorter=t.sorter||n.default_sorter,i},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var n={value:t,cost:e};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=r},function(t,e,n){const r=n(360);e.render=function(t,e,n){let i=n,o=e;void 0!==i||e&&e.getContext||(i=e,e=void 0),e||(o=function(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),i=r.getOptions(i);const s=r.getImageWidth(t.modules.size,i),a=o.getContext("2d"),c=a.createImageData(s,s);return r.qrToImageData(c.data,t,i),function(t,e,n){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=n,e.width=n,e.style.height=n+"px",e.style.width=n+"px"}(a,o,s),a.putImageData(c,0,0),o},e.renderToDataURL=function(t,n,r){let i=r;void 0!==i||n&&n.getContext||(i=n,n=void 0),i||(i={});const o=e.render(t,n,i),s=i.type||"image/png",a=i.rendererOpts||{};return o.toDataURL(s,a.quality)}},function(t,e,n){const r=n(360);function i(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function o(t,e,n){let r=t+e;return void 0!==n&&(r+=" "+n),r}e.render=function(t,e,n){const s=r.getOptions(e),a=t.modules.size,c=t.modules.data,l=a+2*s.margin,u=s.color.light.a?"<path "+i(s.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",d="<path "+i(s.color.dark,"stroke")+' d="'+function(t,e,n){let r="",i=0,s=!1,a=0;for(let c=0;c<t.length;c++){const l=Math.floor(c%e),u=Math.floor(c/e);l||s||(s=!0),t[c]?(a++,c>0&&l>0&&t[c-1]||(r+=s?o("M",l+n,.5+u+n):o("m",i,0),i=0,s=!1),l+1<e&&t[c+1]||(r+=o("h",a),a=0)):i++}return r}(c,a,s.margin)+'"/>',h='viewBox="0 0 '+l+" "+l+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+h+' shape-rendering="crispEdges">'+u+d+"</svg>\n";return"function"==typeof n&&n(null,f),f}},function(t,e,n){"use strict";n(361)},function(t,e,n){"use strict";n(362)},function(t,e,n){"use strict";n(363)},function(t,e,n){"use strict";n(364)},function(t,e,n){"use strict";n(365)},function(t,e,n){"use strict";n(366)},function(t,e,n){"use strict";n(367)},function(t,e,n){"use strict";n(368)},function(t,e,n){},function(t,e,n){"use strict";n(369)},function(t,e,n){"use strict";n(370)},function(t,e,n){var r=n(900);t.exports=r},function(t,e,n){n(246);var r=n(29),i=n(118);r.JSON||(r.JSON={stringify:JSON.stringify}),t.exports=function(t,e,n){return i(r.JSON.stringify,null,arguments)}},function(t,e,n){"use strict";n(371)},function(t,e){function n(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach(e=>{const r=t[e],i=typeof r;"object"!==i&&"function"!==i||Object.isFrozen(r)||n(r)}),t}class r{constructor(t){void 0===t.data&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function i(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function o(t,...e){const n=Object.create(null);for(const e in t)n[e]=t[e];return e.forEach((function(t){for(const e in t)n[e]=t[e]})),n}const s=t=>!!t.scope;class a{constructor(t,e){this.buffer="",this.classPrefix=e.classPrefix,t.walk(this)}addText(t){this.buffer+=i(t)}openNode(t){if(!s(t))return;const e=((t,{prefix:e})=>{if(t.startsWith("language:"))return t.replace("language:","language-");if(t.includes(".")){const n=t.split(".");return[`${e}${n.shift()}`,...n.map((t,e)=>`${t}${"_".repeat(e+1)}`)].join(" ")}return`${e}${t}`})(t.scope,{prefix:this.classPrefix});this.span(e)}closeNode(t){s(t)&&(this.buffer+="</span>")}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}const c=(t={})=>{const e={children:[]};return Object.assign(e,t),e};class l{constructor(){this.rootNode=c(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const e=c({scope:t});this.add(e),this.stack.push(e)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,e){return"string"==typeof e?t.addText(e):e.children&&(t.openNode(e),e.children.forEach(e=>this._walk(t,e)),t.closeNode(e)),t}static _collapse(t){"string"!=typeof t&&t.children&&(t.children.every(t=>"string"==typeof t)?t.children=[t.children.join("")]:t.children.forEach(t=>{l._collapse(t)}))}}class u extends l{constructor(t){super(),this.options=t}addText(t){""!==t&&this.add(t)}startScope(t){this.openNode(t)}endScope(){this.closeNode()}__addSublanguage(t,e){const n=t.root;e&&(n.scope="language:"+e),this.add(n)}toHTML(){return new a(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function d(t){return t?"string"==typeof t?t:t.source:null}function h(t){return g("(?=",t,")")}function f(t){return g("(?:",t,")*")}function p(t){return g("(?:",t,")?")}function g(...t){return t.map(t=>d(t)).join("")}function m(...t){return"("+(function(t){const e=t[t.length-1];return"object"==typeof e&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}(t).capture?"":"?:")+t.map(t=>d(t)).join("|")+")"}function v(t){return new RegExp(t.toString()+"|").exec("").length-1}const y=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function b(t,{joinWith:e}){let n=0;return t.map(t=>{n+=1;const e=n;let r=d(t),i="";for(;r.length>0;){const t=y.exec(r);if(!t){i+=r;break}i+=r.substring(0,t.index),r=r.substring(t.index+t[0].length),"\\"===t[0][0]&&t[1]?i+="\\"+String(Number(t[1])+e):(i+=t[0],"("===t[0]&&n++)}return i}).map(t=>`(${t})`).join(e)}const w="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",_={begin:"\\\\[\\s\\S]",relevance:0},E={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[_]},S={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[_]},A=function(t,e,n={}){const r=o({scope:"comment",begin:t,end:e,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const i=m("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:g(/[ ]+/,"(",i,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},T=A("//","$"),x=A("/\\*","\\*/"),k=A("#","$"),C={scope:"number",begin:"\\b\\d+(\\.\\d+)?",relevance:0},R={scope:"number",begin:w,relevance:0},L={scope:"number",begin:"\\b(0b[01]+)",relevance:0},I={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[_,{begin:/\[/,end:/\]/,relevance:0,contains:[_]}]},O={scope:"title",begin:"[a-zA-Z]\\w*",relevance:0},D={scope:"title",begin:"[a-zA-Z_]\\w*",relevance:0},M={begin:"\\.\\s*[a-zA-Z_]\\w*",relevance:0};var N=Object.freeze({__proto__:null,APOS_STRING_MODE:E,BACKSLASH_ESCAPE:_,BINARY_NUMBER_MODE:L,BINARY_NUMBER_RE:"\\b(0b[01]+)",COMMENT:A,C_BLOCK_COMMENT_MODE:x,C_LINE_COMMENT_MODE:T,C_NUMBER_MODE:R,C_NUMBER_RE:w,END_SAME_AS_BEGIN:function(t){return Object.assign(t,{"on:begin":(t,e)=>{e.data._beginMatch=t[1]},"on:end":(t,e)=>{e.data._beginMatch!==t[1]&&e.ignoreMatch()}})},HASH_COMMENT_MODE:k,IDENT_RE:"[a-zA-Z]\\w*",MATCH_NOTHING_RE:/\b\B/,METHOD_GUARD:M,NUMBER_MODE:C,NUMBER_RE:"\\b\\d+(\\.\\d+)?",PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},QUOTE_STRING_MODE:S,REGEXP_MODE:I,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(t={})=>{const e=/^#![ ]*\//;return t.binary&&(t.begin=g(e,/.*\b/,t.binary,/\b.*/)),o({scope:"meta",begin:e,end:/$/,relevance:0,"on:begin":(t,e)=>{0!==t.index&&e.ignoreMatch()}},t)},TITLE_MODE:O,UNDERSCORE_IDENT_RE:"[a-zA-Z_]\\w*",UNDERSCORE_TITLE_MODE:D});function P(t,e){"."===t.input[t.index-1]&&e.ignoreMatch()}function F(t,e){void 0!==t.className&&(t.scope=t.className,delete t.className)}function B(t,e){e&&t.beginKeywords&&(t.begin="\\b("+t.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",t.__beforeBegin=P,t.keywords=t.keywords||t.beginKeywords,delete t.beginKeywords,void 0===t.relevance&&(t.relevance=0))}function U(t,e){Array.isArray(t.illegal)&&(t.illegal=m(...t.illegal))}function $(t,e){if(t.match){if(t.begin||t.end)throw new Error("begin & end are not supported with match");t.begin=t.match,delete t.match}}function j(t,e){void 0===t.relevance&&(t.relevance=1)}const G=(t,e)=>{if(!t.beforeMatch)return;if(t.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},t);Object.keys(t).forEach(e=>{delete t[e]}),t.keywords=n.keywords,t.begin=g(n.beforeMatch,h(n.begin)),t.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},t.relevance=0,delete n.beforeMatch},H=["of","and","for","in","not","or","if","then","parent","list","value"];function K(t,e){return e?Number(e):function(t){return H.includes(t.toLowerCase())}(t)?0:1}const V={},q=t=>{console.error(t)},z=(t,...e)=>{console.log("WARN: "+t,...e)},W=(t,e)=>{V[`${t}/${e}`]||(console.log(`Deprecated as of ${t}. ${e}`),V[`${t}/${e}`]=!0)},Y=new Error;function X(t,e,{key:n}){let r=0;const i=t[n],o={},s={};for(let t=1;t<=e.length;t++)s[t+r]=i[t],o[t+r]=!0,r+=v(e[t-1]);t[n]=s,t[n]._emit=o,t[n]._multi=!0}function Q(t){!function(t){t.scope&&"object"==typeof t.scope&&null!==t.scope&&(t.beginScope=t.scope,delete t.scope)}(t),"string"==typeof t.beginScope&&(t.beginScope={_wrap:t.beginScope}),"string"==typeof t.endScope&&(t.endScope={_wrap:t.endScope}),function(t){if(Array.isArray(t.begin)){if(t.skip||t.excludeBegin||t.returnBegin)throw q("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Y;if("object"!=typeof t.beginScope||null===t.beginScope)throw q("beginScope must be object"),Y;X(t,t.begin,{key:"beginScope"}),t.begin=b(t.begin,{joinWith:""})}}(t),function(t){if(Array.isArray(t.end)){if(t.skip||t.excludeEnd||t.returnEnd)throw q("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Y;if("object"!=typeof t.endScope||null===t.endScope)throw q("endScope must be object"),Y;X(t,t.end,{key:"endScope"}),t.end=b(t.end,{joinWith:""})}}(t)}function J(t){function e(e,n){return new RegExp(d(e),"m"+(t.case_insensitive?"i":"")+(t.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(t,e){e.position=this.position++,this.matchIndexes[this.matchAt]=e,this.regexes.push([e,t]),this.matchAt+=v(t)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const t=this.regexes.map(t=>t[1]);this.matcherRe=e(b(t,{joinWith:"|"}),!0),this.lastIndex=0}exec(t){this.matcherRe.lastIndex=this.lastIndex;const e=this.matcherRe.exec(t);if(!e)return null;const n=e.findIndex((t,e)=>e>0&&void 0!==t),r=this.matchIndexes[n];return e.splice(0,n),Object.assign(e,r)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(t){if(this.multiRegexes[t])return this.multiRegexes[t];const e=new n;return this.rules.slice(t).forEach(([t,n])=>e.addRule(t,n)),e.compile(),this.multiRegexes[t]=e,e}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(t,e){this.rules.push([t,e]),"begin"===e.type&&this.count++}exec(t){const e=this.getMatcher(this.regexIndex);e.lastIndex=this.lastIndex;let n=e.exec(t);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const e=this.getMatcher(0);e.lastIndex=this.lastIndex+1,n=e.exec(t)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(t.compilerExtensions||(t.compilerExtensions=[]),t.contains&&t.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return t.classNameAliases=o(t.classNameAliases||{}),function n(i,s){const a=i;if(i.isCompiled)return a;[F,$,Q,G].forEach(t=>t(i,s)),t.compilerExtensions.forEach(t=>t(i,s)),i.__beforeBegin=null,[B,U,j].forEach(t=>t(i,s)),i.isCompiled=!0;let c=null;return"object"==typeof i.keywords&&i.keywords.$pattern&&(i.keywords=Object.assign({},i.keywords),c=i.keywords.$pattern,delete i.keywords.$pattern),c=c||/\w+/,i.keywords&&(i.keywords=function t(e,n,r="keyword"){const i=Object.create(null);return"string"==typeof e?o(r,e.split(" ")):Array.isArray(e)?o(r,e):Object.keys(e).forEach((function(r){Object.assign(i,t(e[r],n,r))})),i;function o(t,e){n&&(e=e.map(t=>t.toLowerCase())),e.forEach((function(e){const n=e.split("|");i[n[0]]=[t,K(n[0],n[1])]}))}}(i.keywords,t.case_insensitive)),a.keywordPatternRe=e(c,!0),s&&(i.begin||(i.begin=/\B|\b/),a.beginRe=e(a.begin),i.end||i.endsWithParent||(i.end=/\B|\b/),i.end&&(a.endRe=e(a.end)),a.terminatorEnd=d(a.end)||"",i.endsWithParent&&s.terminatorEnd&&(a.terminatorEnd+=(i.end?"|":"")+s.terminatorEnd)),i.illegal&&(a.illegalRe=e(i.illegal)),i.contains||(i.contains=[]),i.contains=[].concat(...i.contains.map((function(t){return function(t){t.variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map((function(e){return o(t,{variants:null},e)})));if(t.cachedVariants)return t.cachedVariants;if(function t(e){return!!e&&(e.endsWithParent||t(e.starts))}(t))return o(t,{starts:t.starts?o(t.starts):null});if(Object.isFrozen(t))return o(t);return t}("self"===t?i:t)}))),i.contains.forEach((function(t){n(t,a)})),i.starts&&n(i.starts,s),a.matcher=function(t){const e=new r;return t.contains.forEach(t=>e.addRule(t.begin,{rule:t,type:"begin"})),t.terminatorEnd&&e.addRule(t.terminatorEnd,{type:"end"}),t.illegal&&e.addRule(t.illegal,{type:"illegal"}),e}(a),a}(t)}class Z extends Error{constructor(t,e){super(t),this.name="HTMLInjectionError",this.html=e}}const tt=i,et=o,nt=Symbol("nomatch"),rt=function(t){const e=Object.create(null),i=Object.create(null),o=[];let s=!0;const a="Could not find the language '{}', did you forget to load/include a language module?",c={disableAutodetect:!0,name:"Plain text",contains:[]};let l={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:u};function d(t){return l.noHighlightRe.test(t)}function v(t,e,n){let r="",i="";"object"==typeof e?(r=t,n=e.ignoreIllegals,i=e.language):(W("10.7.0","highlight(lang, code, ...args) has been deprecated."),W("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),i=t,r=e),void 0===n&&(n=!0);const o={code:r,language:i};x("before:highlight",o);const s=o.result?o.result:y(o.language,o.code,n);return s.code=o.code,x("after:highlight",s),s}function y(t,n,i,o){const c=Object.create(null);function u(){if(!T.keywords)return void k.addText(C);let t=0;T.keywordPatternRe.lastIndex=0;let e=T.keywordPatternRe.exec(C),n="";for(;e;){n+=C.substring(t,e.index);const i=_.case_insensitive?e[0].toLowerCase():e[0],o=(r=i,T.keywords[r]);if(o){const[t,r]=o;if(k.addText(n),n="",c[i]=(c[i]||0)+1,c[i]<=7&&(R+=r),t.startsWith("_"))n+=e[0];else{const n=_.classNameAliases[t]||t;h(e[0],n)}}else n+=e[0];t=T.keywordPatternRe.lastIndex,e=T.keywordPatternRe.exec(C)}var r;n+=C.substring(t),k.addText(n)}function d(){null!=T.subLanguage?function(){if(""===C)return;let t=null;if("string"==typeof T.subLanguage){if(!e[T.subLanguage])return void k.addText(C);t=y(T.subLanguage,C,!0,x[T.subLanguage]),x[T.subLanguage]=t._top}else t=b(C,T.subLanguage.length?T.subLanguage:null);T.relevance>0&&(R+=t.relevance),k.__addSublanguage(t._emitter,t.language)}():u(),C=""}function h(t,e){""!==t&&(k.startScope(e),k.addText(t),k.endScope())}function f(t,e){let n=1;const r=e.length-1;for(;n<=r;){if(!t._emit[n]){n++;continue}const r=_.classNameAliases[t[n]]||t[n],i=e[n];r?h(i,r):(C=i,u(),C=""),n++}}function p(t,e){return t.scope&&"string"==typeof t.scope&&k.openNode(_.classNameAliases[t.scope]||t.scope),t.beginScope&&(t.beginScope._wrap?(h(C,_.classNameAliases[t.beginScope._wrap]||t.beginScope._wrap),C=""):t.beginScope._multi&&(f(t.beginScope,e),C="")),T=Object.create(t,{parent:{value:T}}),T}function g(t){return 0===T.matcher.regexIndex?(C+=t[0],1):(O=!0,0)}function m(t){const e=t[0],i=n.substring(t.index),o=function t(e,n,i){let o=function(t,e){const n=t&&t.exec(e);return n&&0===n.index}(e.endRe,i);if(o){if(e["on:end"]){const t=new r(e);e["on:end"](n,t),t.isMatchIgnored&&(o=!1)}if(o){for(;e.endsParent&&e.parent;)e=e.parent;return e}}if(e.endsWithParent)return t(e.parent,n,i)}(T,t,i);if(!o)return nt;const s=T;T.endScope&&T.endScope._wrap?(d(),h(e,T.endScope._wrap)):T.endScope&&T.endScope._multi?(d(),f(T.endScope,t)):s.skip?C+=e:(s.returnEnd||s.excludeEnd||(C+=e),d(),s.excludeEnd&&(C=e));do{T.scope&&k.closeNode(),T.skip||T.subLanguage||(R+=T.relevance),T=T.parent}while(T!==o.parent);return o.starts&&p(o.starts,t),s.returnEnd?0:e.length}let v={};function w(e,o){const a=o&&o[0];if(C+=e,null==a)return d(),0;if("begin"===v.type&&"end"===o.type&&v.index===o.index&&""===a){if(C+=n.slice(o.index,o.index+1),!s){const e=new Error(`0 width match regex (${t})`);throw e.languageName=t,e.badRule=v.rule,e}return 1}if(v=o,"begin"===o.type)return function(t){const e=t[0],n=t.rule,i=new r(n),o=[n.__beforeBegin,n["on:begin"]];for(const n of o)if(n&&(n(t,i),i.isMatchIgnored))return g(e);return n.skip?C+=e:(n.excludeBegin&&(C+=e),d(),n.returnBegin||n.excludeBegin||(C=e)),p(n,t),n.returnBegin?0:e.length}(o);if("illegal"===o.type&&!i){const t=new Error('Illegal lexeme "'+a+'" for mode "'+(T.scope||"<unnamed>")+'"');throw t.mode=T,t}if("end"===o.type){const t=m(o);if(t!==nt)return t}if("illegal"===o.type&&""===a)return 1;if(I>1e5&&I>3*o.index){throw new Error("potential infinite loop, way more iterations than matches")}return C+=a,a.length}const _=S(t);if(!_)throw q(a.replace("{}",t)),new Error('Unknown language: "'+t+'"');const E=J(_);let A="",T=o||E;const x={},k=new l.__emitter(l);!function(){const t=[];for(let e=T;e!==_;e=e.parent)e.scope&&t.unshift(e.scope);t.forEach(t=>k.openNode(t))}();let C="",R=0,L=0,I=0,O=!1;try{if(_.__emitTokens)_.__emitTokens(n,k);else{for(T.matcher.considerAll();;){I++,O?O=!1:T.matcher.considerAll(),T.matcher.lastIndex=L;const t=T.matcher.exec(n);if(!t)break;const e=w(n.substring(L,t.index),t);L=t.index+e}w(n.substring(L))}return k.finalize(),A=k.toHTML(),{language:t,value:A,relevance:R,illegal:!1,_emitter:k,_top:T}}catch(e){if(e.message&&e.message.includes("Illegal"))return{language:t,value:tt(n),illegal:!0,relevance:0,_illegalBy:{message:e.message,index:L,context:n.slice(L-100,L+100),mode:e.mode,resultSoFar:A},_emitter:k};if(s)return{language:t,value:tt(n),illegal:!1,relevance:0,errorRaised:e,_emitter:k,_top:T};throw e}}function b(t,n){n=n||l.languages||Object.keys(e);const r=function(t){const e={value:tt(t),illegal:!1,relevance:0,_top:c,_emitter:new l.__emitter(l)};return e._emitter.addText(t),e}(t),i=n.filter(S).filter(T).map(e=>y(e,t,!1));i.unshift(r);const o=i.sort((t,e)=>{if(t.relevance!==e.relevance)return e.relevance-t.relevance;if(t.language&&e.language){if(S(t.language).supersetOf===e.language)return 1;if(S(e.language).supersetOf===t.language)return-1}return 0}),[s,a]=o,u=s;return u.secondBest=a,u}function w(t){let e=null;const n=function(t){let e=t.className+" ";e+=t.parentNode?t.parentNode.className:"";const n=l.languageDetectRe.exec(e);if(n){const e=S(n[1]);return e||(z(a.replace("{}",n[1])),z("Falling back to no-highlight mode for this block.",t)),e?n[1]:"no-highlight"}return e.split(/\s+/).find(t=>d(t)||S(t))}(t);if(d(n))return;if(x("before:highlightElement",{el:t,language:n}),t.dataset.highlighted)return void console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",t);if(t.children.length>0&&(l.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(t)),l.throwUnescapedHTML)){throw new Z("One of your code blocks includes unescaped HTML.",t.innerHTML)}e=t;const r=e.textContent,o=n?v(r,{language:n,ignoreIllegals:!0}):b(r);t.innerHTML=o.value,t.dataset.highlighted="yes",function(t,e,n){const r=e&&i[e]||n;t.classList.add("hljs"),t.classList.add("language-"+r)}(t,n,o.language),t.result={language:o.language,re:o.relevance,relevance:o.relevance},o.secondBest&&(t.secondBest={language:o.secondBest.language,relevance:o.secondBest.relevance}),x("after:highlightElement",{el:t,result:o,text:r})}let _=!1;function E(){if("loading"===document.readyState)return void(_=!0);document.querySelectorAll(l.cssSelector).forEach(w)}function S(t){return t=(t||"").toLowerCase(),e[t]||e[i[t]]}function A(t,{languageName:e}){"string"==typeof t&&(t=[t]),t.forEach(t=>{i[t.toLowerCase()]=e})}function T(t){const e=S(t);return e&&!e.disableAutodetect}function x(t,e){const n=t;o.forEach((function(t){t[n]&&t[n](e)}))}"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",(function(){_&&E()}),!1),Object.assign(t,{highlight:v,highlightAuto:b,highlightAll:E,highlightElement:w,highlightBlock:function(t){return W("10.7.0","highlightBlock will be removed entirely in v12.0"),W("10.7.0","Please use highlightElement now."),w(t)},configure:function(t){l=et(l,t)},initHighlighting:()=>{E(),W("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function(){E(),W("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function(n,r){let i=null;try{i=r(t)}catch(t){if(q("Language definition for '{}' could not be registered.".replace("{}",n)),!s)throw t;q(t),i=c}i.name||(i.name=n),e[n]=i,i.rawDefinition=r.bind(null,t),i.aliases&&A(i.aliases,{languageName:n})},unregisterLanguage:function(t){delete e[t];for(const e of Object.keys(i))i[e]===t&&delete i[e]},listLanguages:function(){return Object.keys(e)},getLanguage:S,registerAliases:A,autoDetection:T,inherit:et,addPlugin:function(t){!function(t){t["before:highlightBlock"]&&!t["before:highlightElement"]&&(t["before:highlightElement"]=e=>{t["before:highlightBlock"](Object.assign({block:e.el},e))}),t["after:highlightBlock"]&&!t["after:highlightElement"]&&(t["after:highlightElement"]=e=>{t["after:highlightBlock"](Object.assign({block:e.el},e))})}(t),o.push(t)},removePlugin:function(t){const e=o.indexOf(t);-1!==e&&o.splice(e,1)}}),t.debugMode=function(){s=!1},t.safeMode=function(){s=!0},t.versionString="11.9.0",t.regex={concat:g,lookahead:h,either:m,optional:p,anyNumberOfTimes:f};for(const t in N)"object"==typeof N[t]&&n(N[t]);return Object.assign(t,N),t},it=rt({});it.newInstance=()=>rt({}),t.exports=it,it.HighlightJS=it,it.default=it},function(t,e){t.exports=function(t){const e=t.regex,n=e.concat(/[\p{L}_]/u,e.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},i={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=t.inherit(i,{begin:/\(/,end:/\)/}),s=t.inherit(t.APOS_STRING_MODE,{className:"string"}),a=t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:/[\p{L}0-9._:-]+/u,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[r]},{begin:/'/,end:/'/,contains:[r]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[i,a,s,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[i,o,a,s]}]}]},t.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},r,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[a]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[c],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[c],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(n,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:c}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}},function(t,e){t.exports=function(t){const e=t.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:e.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[t.BACKSLASH_ESCAPE]},o={begin:/<<-?\s*(?=\w+)/,starts:{contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},s={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,n,i]};i.contains.push(s);const a={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},t.NUMBER_MODE,n]},c=t.SHEBANG({binary:`(${["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"].join("|")})`,relevance:10}),l={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[t.inherit(t.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0};return{name:"Bash",aliases:["sh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:["if","then","else","elif","fi","for","while","until","in","do","done","case","esac","function","select"],literal:["true","false"],built_in:["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset","alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","type","typeset","ulimit","unalias","set","shopt","autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp","chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"]},contains:[c,t.SHEBANG(),l,a,t.HASH_COMMENT_MODE,o,{match:/(\/[a-z._-]+)+/},s,{match:/\\"/},{className:"string",begin:/'/,end:/'/},{match:/\\'/},n]}}},function(t,e){t.exports=function(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="(decltype\\(auto\\)|"+e.optional("[a-zA-Z_]\\w*::")+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",i={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},o={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},s={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},a={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(o,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},c={className:"title",begin:e.optional("[a-zA-Z_]\\w*::")+t.IDENT_RE,relevance:0},l=e.optional("[a-zA-Z_]\\w*::")+t.IDENT_RE+"\\s*\\(",u={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal128","const","static","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},d=[a,i,n,t.C_BLOCK_COMMENT_MODE,s,o],h={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:u,contains:d.concat([{begin:/\(/,end:/\)/,keywords:u,contains:d.concat(["self"]),relevance:0}]),relevance:0},f={begin:"("+r+"[\\*&\\s]+)+"+l,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:u,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:"decltype\\(auto\\)",keywords:u,relevance:0},{begin:l,returnBegin:!0,contains:[t.inherit(c,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:u,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,o,s,i,{begin:/\(/,end:/\)/,keywords:u,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,o,s,i]}]},i,n,t.C_BLOCK_COMMENT_MODE,a]};return{name:"C",aliases:["h"],keywords:u,disableAutodetect:!0,illegal:"</",contains:[].concat(h,f,d,[a,{begin:t.IDENT_RE+"::",keywords:u},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},t.TITLE_MODE]}]),exports:{preprocessor:a,strings:o,keywords:u}}}},function(t,e){t.exports=function(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="(?!struct)(decltype\\(auto\\)|"+e.optional("[a-zA-Z_]\\w*::")+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",i={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},o={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},s={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},a={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(o,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},c={className:"title",begin:e.optional("[a-zA-Z_]\\w*::")+t.IDENT_RE,relevance:0},l=e.optional("[a-zA-Z_]\\w*::")+t.IDENT_RE+"\\s*\\(",u={type:["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],keyword:["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"]},d={className:"function.dispatch",relevance:0,keywords:{_hint:["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"]},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},h=[d,a,i,n,t.C_BLOCK_COMMENT_MODE,s,o],f={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:u,contains:h.concat([{begin:/\(/,end:/\)/,keywords:u,contains:h.concat(["self"]),relevance:0}]),relevance:0},p={className:"function",begin:"("+r+"[\\*&\\s]+)+"+l,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:u,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:"decltype\\(auto\\)",keywords:u,relevance:0},{begin:l,returnBegin:!0,contains:[c],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[o,s]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:u,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,o,s,i,{begin:/\(/,end:/\)/,keywords:u,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,o,s,i]}]},i,n,t.C_BLOCK_COMMENT_MODE,a]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:u,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(f,p,d,h,[a,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<(?!<)",end:">",keywords:u,contains:["self",i]},{begin:t.IDENT_RE+"::",keywords:u},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}},function(t,e){t.exports=function(t){const e={keyword:["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"].concat(["add","alias","and","ascending","async","await","by","descending","equals","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","remove","select","set","unmanaged","value|0","var","when","where","with","yield"]),built_in:["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],literal:["default","false","null","true"]},n=t.inherit(t.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),r={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},i={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},o=t.inherit(i,{illegal:/\n/}),s={className:"subst",begin:/\{/,end:/\}/,keywords:e},a=t.inherit(s,{illegal:/\n/}),c={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},t.BACKSLASH_ESCAPE,a]},l={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},s]},u=t.inherit(l,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},a]});s.contains=[l,c,i,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,r,t.C_BLOCK_COMMENT_MODE],a.contains=[u,c,o,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,r,t.inherit(t.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const d={variants:[l,c,i,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},h={begin:"<",end:">",contains:[{beginKeywords:"in out"},n]},f=t.IDENT_RE+"(<"+t.IDENT_RE+"(\\s*,\\s*"+t.IDENT_RE+")*>)?(\\[\\])?",p={begin:"@"+t.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:e,illegal:/::/,contains:[t.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"\x3c!--|--\x3e"},{begin:"</?",end:">"}]}]}),t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},d,r,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},n,h,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[n,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[n,h,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+f+"\\s+)+"+t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:e,contains:[{beginKeywords:["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"].join(" "),relevance:0},{begin:t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[t.TITLE_MODE,h],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:e,relevance:0,contains:[d,r,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},p]}}},function(t,e){const n=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],r=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],i=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],o=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],s=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();t.exports=function(t){const e=t.regex,a=(t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}))(t),c=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[a.BLOCK_COMMENT,{begin:/-(webkit|moz|ms|o)-(?=[a-z])/},a.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\.[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},a.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+i.join("|")+")"},{begin:":(:)?("+o.join("|")+")"}]},a.CSS_VARIABLE,{className:"attribute",begin:"\\b("+s.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[a.BLOCK_COMMENT,a.HEXCOLOR,a.IMPORTANT,a.CSS_NUMBER_MODE,...c,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...c,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},a.FUNCTION_DISPATCH]},{begin:e.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:/@-?\w[\w]*(-\w+)*/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:r.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...c,a.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+n.join("|")+")\\b"}]}}},function(t,e){t.exports=function(t){const e={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},n={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.regex.concat(/\[.+?\]\(/,/[A-Za-z][A-Za-z0-9+.-]*/,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},r={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},i={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},o=t.inherit(r,{contains:[]}),s=t.inherit(i,{contains:[]});r.contains.push(s),i.contains.push(o);let a=[e,n];return[r,i,o,s].forEach(t=>{t.contains=t.contains.concat(a)}),a=a.concat(r,i),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:a},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:a}]}]},e,{className:"bullet",begin:"^[ \t]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},r,i,{className:"quote",begin:"^>\\s+",contains:a,end:"$"},{className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},{begin:"^[-\\*]{3,}",end:"$"},n,{begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]}]}}},function(t,e){t.exports=function(t){const e=t.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:e.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:e.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}},function(t,e){t.exports=function(t){const e=t.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=e.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=e.concat(r,/(::\w+)*/),o={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield","include","extend","prepend","public","private","protected","raise","throw"],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},s={className:"doctag",begin:"@[A-Za-z]+"},a={begin:"#<",end:">"},c=[t.COMMENT("#","$",{contains:[s]}),t.COMMENT("^=begin","^=end",{contains:[s],relevance:10}),t.COMMENT("^__END__",t.MATCH_NOTHING_RE)],l={className:"subst",begin:/#\{/,end:/\}/,keywords:o},u={className:"string",contains:[t.BACKSLASH_ESCAPE,l],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:e.concat(/<<[-~]?'?/,e.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[t.BACKSLASH_ESCAPE,l]})]}]},d={className:"number",relevance:0,variants:[{begin:"\\b([1-9](_?[0-9])*|0)(\\.([0-9](_?[0-9])*))?([eE][+-]?([0-9](_?[0-9])*)|r)?i?\\b"},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},h={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:o}]},f=[u,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:o},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:o},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[h]},{begin:t.IDENT_RE+"::"},{className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[u,{begin:n}],relevance:0},d,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:o},{begin:"("+t.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[t.BACKSLASH_ESCAPE,l],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(a,c),relevance:0}].concat(a,c);l.contains=f,h.contains=f;const p=[{begin:/^\s*=>/,starts:{end:"$",contains:f}},{className:"meta.prompt",begin:"^([>?]>|[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]|(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>)(?=[ ])",starts:{end:"$",keywords:o,contains:f}}];return c.unshift(a),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:o,illegal:/\/\*/,contains:[t.SHEBANG({binary:"ruby"})].concat(p).concat(c).concat(f)}}},function(t,e){t.exports=function(t){const e={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:e,illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"string",variants:[t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{begin:t.C_NUMBER_RE+"[i]",relevance:1},t.C_NUMBER_MODE]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[t.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:e,illegal:/["']/}]}]}}},function(t,e){t.exports=function(t){const e=t.regex;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[t.HASH_COMMENT_MODE,t.QUOTE_STRING_MODE,t.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:e.concat(/[_A-Za-z][_0-9A-Za-z]*/,e.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}},function(t,e){t.exports=function(t){const e=t.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:t.NUMBER_RE}]},r=t.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},o={className:"literal",begin:/\bon|off|true|false|yes|no\b/},s={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},a={begin:/\[/,end:/\]/,contains:[r,o,i,s,n,"self"],relevance:0},c=e.either(/[A-Za-z0-9_-]+/,/"(\\"|[^"])*"/,/'[^']*'/);return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:e.concat(c,"(\\s*\\.\\s*",c,")*",e.lookahead(/\s*=\s*[^#\s]/)),className:"attr",starts:{end:/$/,contains:[r,a,o,i,s,n]}}]}}},function(t,e){var n="\\.([0-9](_*[0-9])*)",r="[0-9a-fA-F](_*[0-9a-fA-F])*",i={className:"number",variants:[{begin:`(\\b([0-9](_*[0-9])*)((${n})|\\.)?|(${n}))[eE][+-]?([0-9](_*[0-9])*)[fFdD]?\\b`},{begin:`\\b([0-9](_*[0-9])*)((${n})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${n})[fFdD]?\\b`},{begin:"\\b([0-9](_*[0-9])*)[fFdD]\\b"},{begin:`\\b0[xX]((${r})\\.?|(${r})?\\.(${r}))[pP][+-]?([0-9](_*[0-9])*)[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${r})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};t.exports=function(t){const e=t.regex,n="[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*",r=n+function t(e,n,r){return-1===r?"":e.replace(n,i=>t(e,n,r-1))}("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),o={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},s={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},a={className:"params",begin:/\(/,end:/\)/,keywords:o,relevance:0,contains:[t.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:o,illegal:/<\/|#/,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[t.BACKSLASH_ESCAPE]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[e.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[a,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",t.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:o,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:o,relevance:0,contains:[s,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,i,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},i,s]}}},function(t,e){const n=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],r=["true","false","null","undefined","NaN","Infinity"],i=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],o=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],s=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],a=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],c=[].concat(s,i,o);t.exports=function(t){const e=t.regex,l="[A-Za-z$_][0-9A-Za-z$_]*",u="<>",d="</>",h={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(t,e)=>{const n=t[0].length+t.index,r=t.input[n];if("<"===r||","===r)return void e.ignoreMatch();let i;">"===r&&(((t,{after:e})=>{const n="</"+t[0].slice(1);return-1!==t.input.indexOf(n,e)})(t,{after:n})||e.ignoreMatch());const o=t.input.substring(n);((i=o.match(/^\s*=/))||(i=o.match(/^\s+extends\s+/))&&0===i.index)&&e.ignoreMatch()}},f={$pattern:"[A-Za-z$_][0-9A-Za-z$_]*",keyword:n,literal:r,built_in:c,"variable.language":a},p="\\.([0-9](_?[0-9])*)",g={className:"number",variants:[{begin:`(\\b(0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*)((${p})|\\.)?|(${p}))[eE][+-]?([0-9](_?[0-9])*)\\b`},{begin:`\\b(0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*)\\b((${p})\\b|\\.)?|(${p})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},m={className:"subst",begin:"\\$\\{",end:"\\}",keywords:f,contains:[]},v={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,m],subLanguage:"xml"}},y={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,m],subLanguage:"css"}},b={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,m],subLanguage:"graphql"}},w={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,m]},_={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:l+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},E=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,v,y,b,w,{match:/\$\d+/},g];m.contains=E.concat({begin:/\{/,end:/\}/,keywords:f,contains:["self"].concat(E)});const S=[].concat(_,m.contains),A=S.concat([{begin:/\(/,end:/\)/,keywords:f,contains:["self"].concat(S)}]),T={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:f,contains:A},x={variants:[{match:[/class/,/\s+/,l,/\s+/,/extends/,/\s+/,e.concat(l,"(",e.concat(/\./,l),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,l],scope:{1:"keyword",3:"title.class"}}]},k={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...i,...o]}},C={variants:[{match:[/function/,/\s+/,l,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[T],illegal:/%/},R={match:e.concat(/\b/,(L=[...s,"super","import"],e.concat("(?!",L.join("|"),")")),l,e.lookahead(/\(/)),className:"title.function",relevance:0};var L;const I={begin:e.concat(/\./,e.lookahead(e.concat(l,/(?![0-9A-Za-z$_(])/))),end:l,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},O={match:[/get|set/,/\s+/,l,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},T]},D="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",M={match:[/const|var|let/,/\s+/,l,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(D)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[T]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:f,exports:{PARAMS_CONTAINS:A,CLASS_REFERENCE:k},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,v,y,b,w,_,{match:/\$\d+/},g,k,{className:"attr",begin:l+e.lookahead(":"),relevance:0},M,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[_,t.REGEXP_MODE,{className:"function",begin:D,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:f,contains:A}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:u,end:d},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:h.begin,"on:begin":h.isTrulyOpeningTag,end:h.end}],subLanguage:"xml",contains:[{begin:h.begin,end:h.end,skip:!0,contains:["self"]}]}]},C,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[T,t.inherit(t.TITLE_MODE,{begin:l,className:"title.function"})]},{match:/\.\.\./,relevance:0},I,{match:"\\$"+l,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[T]},R,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},x,O,{match:/\$[(.]/}]}}},function(t,e){t.exports=function(t){const e=["true","false","null"],n={scope:"literal",beginKeywords:e.join(" ")};return{name:"JSON",keywords:{literal:e},contains:[{className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},{match:/[{}[\],:]/,className:"punctuation",relevance:0},t.QUOTE_STRING_MODE,n,t.C_NUMBER_MODE,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}},function(t,e){var n="\\.([0-9](_*[0-9])*)",r="[0-9a-fA-F](_*[0-9a-fA-F])*",i={className:"number",variants:[{begin:`(\\b([0-9](_*[0-9])*)((${n})|\\.)?|(${n}))[eE][+-]?([0-9](_*[0-9])*)[fFdD]?\\b`},{begin:`\\b([0-9](_*[0-9])*)((${n})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${n})[fFdD]?\\b`},{begin:"\\b([0-9](_*[0-9])*)[fFdD]\\b"},{begin:`\\b0[xX]((${r})\\.?|(${r})?\\.(${r}))[pP][+-]?([0-9](_*[0-9])*)[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${r})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};t.exports=function(t){const e={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"@"},r={className:"subst",begin:/\$\{/,end:/\}/,contains:[t.C_NUMBER_MODE]},o={className:"variable",begin:"\\$"+t.UNDERSCORE_IDENT_RE},s={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[o,r]},{begin:"'",end:"'",illegal:/\n/,contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[t.BACKSLASH_ESCAPE,o,r]}]};r.contains.push(s);const a={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+t.UNDERSCORE_IDENT_RE+")?"},c={className:"meta",begin:"@"+t.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[t.inherit(s,{className:"string"}),"self"]}]},l=i,u=t.COMMENT("/\\*","\\*/",{contains:[t.C_BLOCK_COMMENT_MODE]}),d={variants:[{className:"type",begin:t.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},h=d;return h.variants[1].contains=[d],d.variants[1].contains=[h],{name:"Kotlin",aliases:["kt","kts"],keywords:e,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),t.C_LINE_COMMENT_MODE,u,{className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},n,a,c,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:e,relevance:5,contains:[{begin:t.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[t.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:e,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[d,t.C_LINE_COMMENT_MODE,u],relevance:0},t.C_LINE_COMMENT_MODE,u,a,c,s,t.C_NUMBER_MODE]},u]},{begin:[/class|interface|trait/,/\s+/,t.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},t.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},a,c]},s,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:"\n"},l]}}},function(t,e){const n=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],r=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],i=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],o=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],s=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse(),a=i.concat(o);t.exports=function(t){const e=(t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}))(t),c=a,l=[],u=[],d=function(t){return{className:"string",begin:"~?"+t+".*?"+t}},h=function(t,e,n){return{className:t,begin:e,relevance:n}},f={$pattern:/[a-z-]+/,keyword:"and or not only",attribute:r.join(" ")},p={begin:"\\(",end:"\\)",contains:u,keywords:f,relevance:0};u.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,d("'"),d('"'),e.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},e.HEXCOLOR,p,h("variable","@@?[\\w-]+",10),h("variable","@\\{[\\w-]+\\}"),h("built_in","~?`[^`]*?`"),{className:"attribute",begin:"[\\w-]+\\s*:",end:":",returnBegin:!0,excludeEnd:!0},e.IMPORTANT,{beginKeywords:"and not"},e.FUNCTION_DISPATCH);const g=u.concat({begin:/\{/,end:/\}/,contains:l}),m={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(u)},v={begin:"([\\w-]+|@\\{[\\w-]+\\})\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+s.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:u}}]},y={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:f,returnEnd:!0,contains:u,relevance:0}},b={className:"variable",variants:[{begin:"@[\\w-]+\\s*:",relevance:15},{begin:"@[\\w-]+"}],starts:{end:"[;}]",returnEnd:!0,contains:g}},w={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:"([\\w-]+|@\\{[\\w-]+\\})",end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:"[<='$\"]",relevance:0,contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,m,h("keyword","all\\b"),h("variable","@\\{[\\w-]+\\}"),{begin:"\\b("+n.join("|")+")\\b",className:"selector-tag"},e.CSS_NUMBER_MODE,h("selector-tag","([\\w-]+|@\\{[\\w-]+\\})",0),h("selector-id","#([\\w-]+|@\\{[\\w-]+\\})"),h("selector-class","\\.([\\w-]+|@\\{[\\w-]+\\})",0),h("selector-tag","&",0),e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+i.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+o.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:g},{begin:"!important"},e.FUNCTION_DISPATCH]},_={begin:`[\\w-]+:(:)?(${c.join("|")})`,returnBegin:!0,contains:[w]};return l.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,y,b,_,v,w,m,e.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:"[=>'/<($\"]",contains:l}}},function(t,e){t.exports=function(t){const e={begin:"\\[=*\\[",end:"\\]=*\\]",contains:["self"]},n=[t.COMMENT("--(?!\\[=*\\[)","$"),t.COMMENT("--\\[=*\\[","\\]=*\\]",{contains:[e],relevance:10})];return{name:"Lua",keywords:{$pattern:t.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:n.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[t.inherit(t.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:n}].concat(n)},t.C_NUMBER_MODE,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{className:"string",begin:"\\[=*\\[",end:"\\]=*\\]",contains:[e],relevance:5}])}}},function(t,e){t.exports=function(t){const e={className:"variable",variants:[{begin:"\\$\\("+t.UNDERSCORE_IDENT_RE+"\\)",contains:[t.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,e]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[e]},i={begin:"^"+t.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},o={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[e]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[t.HASH_COMMENT_MODE,e,n,r,i,{className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},o]}}},function(t,e){t.exports=function(t){const e=t.regex,n=/[dualxmsipngr]{0,12}/,r={$pattern:/[\w.]+/,keyword:["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"].join(" ")},i={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:r},o={begin:/->\{/,end:/\}/},s={variants:[{begin:/\$\d/},{begin:e.concat(/[$%@](\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@][^\s\w{]/,relevance:0}]},a=[t.BACKSLASH_ESCAPE,i,s],c=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],l=(t,r,i="\\1")=>{const o="\\1"===i?i:e.concat(i,r);return e.concat(e.concat("(?:",t,")"),r,/(?:\\.|[^\\\/])*?/,o,/(?:\\.|[^\\\/])*?/,i,n)},u=(t,r,i)=>e.concat(e.concat("(?:",t,")"),r,/(?:\\.|[^\\\/])*?/,i,n),d=[s,t.HASH_COMMENT_MODE,t.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),o,{className:"string",contains:a,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{begin:"(\\/\\/|"+t.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[t.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:l("s|tr|y",e.either(...c,{capture:!0}))},{begin:l("s|tr|y","\\(","\\)")},{begin:l("s|tr|y","\\[","\\]")},{begin:l("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:u("(?:m|qr)?",/\//,/\//)},{begin:u("m|qr",e.either(...c,{capture:!0}),/\1/)},{begin:u("m|qr",/\(/,/\)/)},{begin:u("m|qr",/\[/,/\]/)},{begin:u("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return i.contains=d,o.contains=d,{name:"Perl",aliases:["pl","pm"],keywords:r,contains:d}}},function(t,e){t.exports=function(t){const e=/[a-zA-Z@][a-zA-Z0-9_]*/,n={$pattern:e,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:{"variable.language":["this","super"],$pattern:e,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},illegal:"</",contains:[{className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,t.C_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+n.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:n,contains:[t.UNDERSCORE_TITLE_MODE]},{begin:"\\."+t.UNDERSCORE_IDENT_RE,relevance:0}]}}},function(t,e){t.exports=function(t){const e=t.regex,n=/(?![A-Za-z0-9])(?![$])/,r=e.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),i=e.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),o={scope:"variable",match:"\\$+"+r},s={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},a=t.inherit(t.APOS_STRING_MODE,{illegal:null}),c={scope:"string",variants:[t.inherit(t.QUOTE_STRING_MODE,{illegal:null,contains:t.QUOTE_STRING_MODE.contains.concat(s)}),a,{begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:t.QUOTE_STRING_MODE.contains.concat(s),"on:begin":(t,e)=>{e.data._beginMatch=t[1]||t[2]},"on:end":(t,e)=>{e.data._beginMatch!==t[1]&&e.ignoreMatch()}},t.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/})]},l={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},u=["false","null","true"],d=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],h=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],f={keyword:d,literal:(t=>{const e=[];return t.forEach(t=>{e.push(t),t.toLowerCase()===t?e.push(t.toUpperCase()):e.push(t.toLowerCase())}),e})(u),built_in:h},p=t=>t.map(t=>t.replace(/\|\d+$/,"")),g={variants:[{match:[/new/,e.concat("[ \t\n]","+"),e.concat("(?!",p(h).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},m=e.concat(r,"\\b(?!\\()"),v={variants:[{match:[e.concat(/::/,e.lookahead(/(?!class\b)/)),m],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,e.concat(/::/,e.lookahead(/(?!class\b)/)),m],scope:{1:"title.class",3:"variable.constant"}},{match:[i,e.concat("::",e.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},y={scope:"attr",match:e.concat(r,e.lookahead(":"),e.lookahead(/(?!::)/))},b={relevance:0,begin:/\(/,end:/\)/,keywords:f,contains:[y,o,v,t.C_BLOCK_COMMENT_MODE,c,l,g]},w={relevance:0,match:[/\b/,e.concat("(?!fn\\b|function\\b|",p(d).join("\\b|"),"|",p(h).join("\\b|"),"\\b)"),r,e.concat("[ \t\n]","*"),e.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[b]};b.contains.push(w);const _=[y,v,t.C_BLOCK_COMMENT_MODE,c,l,g];return{case_insensitive:!1,keywords:f,contains:[{begin:e.concat(/#\[\s*/,i),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:u,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:u,keyword:["new","array"]},contains:["self",..._]},..._,{scope:"meta",match:i}]},t.HASH_COMMENT_MODE,t.COMMENT("//","$"),t.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:t.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},{scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},{scope:"variable.language",match:/\$this\b/},o,w,v,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},g,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},t.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:f,contains:["self",o,v,t.C_BLOCK_COMMENT_MODE,c,l]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},t.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[t.inherit(t.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},t.UNDERSCORE_TITLE_MODE]},c,l]}}},function(t,e){t.exports=function(t){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},t.inherit(t.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),t.inherit(t.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}},function(t,e){t.exports=function(t){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}},function(t,e){t.exports=function(t){const e=t.regex,n=/[\p{XID_Start}_]\p{XID_Continue}*/u,r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],i={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},o={className:"meta",begin:/^(>>>|\.\.\.) /},s={className:"subst",begin:/\{/,end:/\}/,keywords:i,illegal:/#/},a={begin:/\{\{/,relevance:0},c={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,o],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,o],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,o,a,s]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,o,a,s]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[t.BACKSLASH_ESCAPE,a,s]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,a,s]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},l="[0-9](_?[0-9])*",u=`(\\b(${l}))?\\.(${l})|\\b(${l})\\.`,d="\\b|"+r.join("|"),h={className:"number",relevance:0,variants:[{begin:`(\\b(${l})|(${u}))[eE][+-]?(${l})[jJ]?(?=${d})`},{begin:`(${u})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${d})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${d})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${d})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${d})`},{begin:`\\b(${l})[jJ](?=${d})`}]},f={className:"comment",begin:e.lookahead(/# type:/),end:/$/,keywords:i,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},p={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:["self",o,h,c,t.HASH_COMMENT_MODE]}]};return s.contains=[c,h,o],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:i,illegal:/(<\/|\?)|=>/,contains:[o,h,{begin:/\bself\b/},{beginKeywords:"if",relevance:0},c,f,t.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[p]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[h,p,c]}]}}},function(t,e){t.exports=function(t){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}},function(t,e){t.exports=function(t){const e=t.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=e.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,o=e.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[t.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:e.lookahead(e.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),t.HASH_COMMENT_MODE,{scope:"string",contains:[t.BACKSLASH_ESCAPE],variants:[t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[o,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:o},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}},function(t,e){t.exports=function(t){const e=t.regex,n={className:"title.function.invoke",relevance:0,begin:e.concat(/\b/,/(?!let|for|while|if|else|match\b)/,t.IDENT_RE,e.lookahead(/\s*\(/))},r="([ui](8|16|32|64|128|size)|f(32|64))?",i=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],o=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:t.IDENT_RE+"!?",type:o,keyword:["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","unsafe","unsized","use","virtual","where","while","yield"],literal:["true","false","Some","None","Ok","Err"],built_in:i},illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.COMMENT("/\\*","\\*/",{contains:["self"]}),t.inherit(t.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'\\?(x\w{2}|u\w{4}|U\w{8}|.)'/}]},{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*/},{className:"number",variants:[{begin:"\\b0b([01_]+)"+r},{begin:"\\b0o([0-7_]+)"+r},{begin:"\\b0x([A-Fa-f0-9_]+)"+r},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+r}],relevance:0},{begin:[/fn/,/\s+/,t.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,t.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,t.UNDERSCORE_IDENT_RE,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,t.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,t.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:t.IDENT_RE+"::",keywords:{keyword:"Self",built_in:i,type:o}},{className:"punctuation",begin:"->"},n]}}},function(t,e){const n=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],r=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],i=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],o=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],s=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();t.exports=function(t){const e=(t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}))(t),a=o,c=i,l={className:"variable",begin:"(\\$[a-zA-Z-][a-zA-Z0-9_-]*)\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,e.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+n.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+c.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+a.join("|")+")"},l,{begin:/\(/,end:/\)/,contains:[e.CSS_NUMBER_MODE]},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+s.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[e.BLOCK_COMMENT,l,e.HEXCOLOR,e.CSS_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.IMPORTANT,e.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:"@[a-z-]+",keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:r.join(" ")},contains:[{begin:"@[a-z-]+",className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},l,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.HEXCOLOR,e.CSS_NUMBER_MODE]},e.FUNCTION_DISPATCH]}}},function(t,e){t.exports=function(t){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}},function(t,e){t.exports=function(t){const e=t.regex,n=t.COMMENT("--","$"),r=["true","false","unknown"],i=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],o=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],s=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],a=o,c=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year","add","asc","collation","desc","final","first","last","view"].filter(t=>!o.includes(t)),l={begin:e.concat(/\b/,e.either(...a),/\s*\(/),relevance:0,keywords:{built_in:a}};return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:function(t,{exceptions:e,when:n}={}){const r=n;return e=e||[],t.map(t=>t.match(/\|\d+$/)||e.includes(t)?t:r(t)?t+"|0":t)}(c,{when:t=>t.length<3}),literal:r,type:i,built_in:["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"]},contains:[{begin:e.either(...s),relevance:0,keywords:{$pattern:/[\w\.]+/,keyword:c.concat(s),literal:r,type:i}},{className:"type",begin:e.either("double precision","large object","with timezone","without timezone")},l,{className:"variable",begin:/@[a-z0-9][a-z0-9_]*/},{className:"string",variants:[{begin:/'/,end:/'/,contains:[{begin:/''/}]}]},{begin:/"/,end:/"/,contains:[{begin:/""/}]},t.C_NUMBER_MODE,t.C_BLOCK_COMMENT_MODE,n,{className:"operator",begin:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0}]}}},function(t,e){function n(t){return t?"string"==typeof t?t:t.source:null}function r(t){return i("(?=",t,")")}function i(...t){return t.map(t=>n(t)).join("")}function o(...t){return"("+(function(t){const e=t[t.length-1];return"object"==typeof e&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}(t).capture?"":"?:")+t.map(t=>n(t)).join("|")+")"}const s=t=>i(/\b/,t,/\w$/.test(t)?/\b/:/\B/),a=["Protocol","Type"].map(s),c=["init","self"].map(s),l=["Any","Self"],u=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],d=["false","nil","true"],h=["assignment","associativity","higherThan","left","lowerThan","none","right"],f=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],p=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],g=o(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),m=o(g,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),v=i(g,m,"*"),y=o(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),b=o(y,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),w=i(y,b,"*"),_=i(/[A-Z]/,b,"*"),E=["attached","autoclosure",i(/convention\(/,o("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",i(/objc\(/,w,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],S=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];t.exports=function(t){const e={match:/\s+/,relevance:0},n=t.COMMENT("/\\*","\\*/",{contains:["self"]}),g=[t.C_LINE_COMMENT_MODE,n],y={match:[/\./,o(...a,...c)],className:{2:"keyword"}},A={match:i(/\./,o(...u)),relevance:0},T=u.filter(t=>"string"==typeof t).concat(["_|0"]),x={variants:[{className:"keyword",match:o(...u.filter(t=>"string"!=typeof t).concat(l).map(s),...c)}]},k={$pattern:o(/\b\w+/,/#\w+/),keyword:T.concat(f),literal:d},C=[y,A,x],R=[{match:i(/\./,o(...p)),relevance:0},{className:"built_in",match:i(/\b/,o(...p),/(?=\()/)}],L={match:/->/,relevance:0},I=[L,{className:"operator",relevance:0,variants:[{match:v},{match:`\\.(\\.|${m})+`}]}],O={className:"number",relevance:0,variants:[{match:"\\b(([0-9]_*)+)(\\.(([0-9]_*)+))?([eE][+-]?(([0-9]_*)+))?\\b"},{match:"\\b0x(([0-9a-fA-F]_*)+)(\\.(([0-9a-fA-F]_*)+))?([pP][+-]?(([0-9]_*)+))?\\b"},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},D=(t="")=>({className:"subst",variants:[{match:i(/\\/,t,/[0\\tnr"']/)},{match:i(/\\/,t,/u\{[0-9a-fA-F]{1,8}\}/)}]}),M=(t="")=>({className:"subst",match:i(/\\/,t,/[\t ]*(?:[\r\n]|\r\n)/)}),N=(t="")=>({className:"subst",label:"interpol",begin:i(/\\/,t,/\(/),end:/\)/}),P=(t="")=>({begin:i(t,/"""/),end:i(/"""/,t),contains:[D(t),M(t),N(t)]}),F=(t="")=>({begin:i(t,/"/),end:i(/"/,t),contains:[D(t),N(t)]}),B={className:"string",variants:[P(),P("#"),P("##"),P("###"),F(),F("#"),F("##"),F("###")]},U=[t.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[t.BACKSLASH_ESCAPE]}],$={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:U},j=t=>{const e=i(t,/\//),n=i(/\//,t);return{begin:e,end:n,contains:[...U,{scope:"comment",begin:`#(?!.*${n})`,end:/$/}]}},G={scope:"regexp",variants:[j("###"),j("##"),j("#"),$]},H={match:i(/`/,w,/`/)},K=[H,{className:"variable",match:/\$\d+/},{className:"variable",match:`\\$${b}+`}],V=[{match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:S,contains:[...I,O,B]}]}},{scope:"keyword",match:i(/@/,o(...E))},{scope:"meta",match:i(/@/,w)}],q={match:r(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:i(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,b,"+")},{className:"type",match:_,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:i(/\s+&\s+/,r(_)),relevance:0}]},z={begin:/</,end:/>/,keywords:k,contains:[...g,...C,...V,L,q]};q.contains.push(z);const W={begin:/\(/,end:/\)/,relevance:0,keywords:k,contains:["self",{match:i(w,/\s*:/),keywords:"_|0",relevance:0},...g,G,...C,...R,...I,O,B,...K,...V,q]},Y={begin:/</,end:/>/,keywords:"repeat each",contains:[...g,q]},X={begin:/\(/,end:/\)/,keywords:k,contains:[{begin:o(r(i(w,/\s*:/)),r(i(w,/\s+/,w,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:w}]},...g,...C,...I,O,B,...V,q,W],endsParent:!0,illegal:/["']/},Q={match:[/(func|macro)/,/\s+/,o(H.match,w,v)],className:{1:"keyword",3:"title.function"},contains:[Y,X,e],illegal:[/\[/,/%/]},J={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[Y,X,e],illegal:/\[|%/},Z={match:[/operator/,/\s+/,v],className:{1:"keyword",3:"title"}},tt={begin:[/precedencegroup/,/\s+/,_],className:{1:"keyword",3:"title"},contains:[q],keywords:[...h,...d],end:/}/};for(const t of B.variants){const e=t.contains.find(t=>"interpol"===t.label);e.keywords=k;const n=[...C,...R,...I,O,B,...K];e.contains=[...n,{begin:/\(/,end:/\)/,contains:["self",...n]}]}return{name:"Swift",keywords:k,contains:[...g,Q,J,{beginKeywords:"struct protocol class extension enum actor",end:"\\{",excludeEnd:!0,keywords:k,contains:[t.inherit(t.TITLE_MODE,{className:"title.class",begin:/[A-Za-z$_][\u00C0-\u02B80-9A-Za-z$_]*/}),...C]},Z,tt,{beginKeywords:"import",end:/$/,contains:[...g],relevance:0},G,...C,...R,...I,O,B,...K,...V,q,W]}}},function(t,e){t.exports=function(t){const e="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"string",relevance:0,variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/\S+/}],contains:[t.BACKSLASH_ESCAPE,{className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]}]},i=t.inherit(r,{variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),o={className:"number",begin:"\\b[0-9]{4}(-[0-9][0-9]){0,2}([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?(\\.[0-9]*)?([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?\\b"},s={end:",",endsWithParent:!0,excludeEnd:!0,keywords:e,relevance:0},a={begin:/\{/,end:/\}/,contains:[s],illegal:"\\n",relevance:0},c={begin:"\\[",end:"\\]",contains:[s],illegal:"\\n",relevance:0},l=[{className:"attr",variants:[{begin:"\\w[\\w :\\/.-]*:(?=[ \t]|$)"},{begin:'"\\w[\\w :\\/.-]*":(?=[ \t]|$)'},{begin:"'\\w[\\w :\\/.-]*':(?=[ \t]|$)"}]},{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+t.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+t.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},t.HASH_COMMENT_MODE,{beginKeywords:e,keywords:{literal:e}},o,{className:"number",begin:t.C_NUMBER_RE+"\\b",relevance:0},a,c,r],u=[...l];return u.pop(),u.push(i),s.contains=u,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:l}}},function(t,e){const n="[A-Za-z$_][0-9A-Za-z$_]*",r=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],i=["true","false","null","undefined","NaN","Infinity"],o=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],s=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],a=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],c=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],l=[].concat(a,o,s);function u(t){const e=t.regex,u=n,d="<>",h="</>",f={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(t,e)=>{const n=t[0].length+t.index,r=t.input[n];if("<"===r||","===r)return void e.ignoreMatch();let i;">"===r&&(((t,{after:e})=>{const n="</"+t[0].slice(1);return-1!==t.input.indexOf(n,e)})(t,{after:n})||e.ignoreMatch());const o=t.input.substring(n);((i=o.match(/^\s*=/))||(i=o.match(/^\s+extends\s+/))&&0===i.index)&&e.ignoreMatch()}},p={$pattern:n,keyword:r,literal:i,built_in:l,"variable.language":c},g="\\.([0-9](_?[0-9])*)",m={className:"number",variants:[{begin:`(\\b(0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*)((${g})|\\.)?|(${g}))[eE][+-]?([0-9](_?[0-9])*)\\b`},{begin:`\\b(0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*)\\b((${g})\\b|\\.)?|(${g})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},v={className:"subst",begin:"\\$\\{",end:"\\}",keywords:p,contains:[]},y={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,v],subLanguage:"xml"}},b={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,v],subLanguage:"css"}},w={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,v],subLanguage:"graphql"}},_={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,v]},E={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:u+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},S=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,y,b,w,_,{match:/\$\d+/},m];v.contains=S.concat({begin:/\{/,end:/\}/,keywords:p,contains:["self"].concat(S)});const A=[].concat(E,v.contains),T=A.concat([{begin:/\(/,end:/\)/,keywords:p,contains:["self"].concat(A)}]),x={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:p,contains:T},k={variants:[{match:[/class/,/\s+/,u,/\s+/,/extends/,/\s+/,e.concat(u,"(",e.concat(/\./,u),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,u],scope:{1:"keyword",3:"title.class"}}]},C={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...o,...s]}},R={variants:[{match:[/function/,/\s+/,u,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[x],illegal:/%/};const L={match:e.concat(/\b/,(I=[...a,"super","import"],e.concat("(?!",I.join("|"),")")),u,e.lookahead(/\(/)),className:"title.function",relevance:0};var I;const O={begin:e.concat(/\./,e.lookahead(e.concat(u,/(?![0-9A-Za-z$_(])/))),end:u,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},D={match:[/get|set/,/\s+/,u,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},x]},M="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",N={match:[/const|var|let/,/\s+/,u,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(M)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[x]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:p,exports:{PARAMS_CONTAINS:T,CLASS_REFERENCE:C},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,y,b,w,_,E,{match:/\$\d+/},m,C,{className:"attr",begin:u+e.lookahead(":"),relevance:0},N,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[E,t.REGEXP_MODE,{className:"function",begin:M,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:p,contains:T}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:d,end:h},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:f.begin,"on:begin":f.isTrulyOpeningTag,end:f.end}],subLanguage:"xml",contains:[{begin:f.begin,end:f.end,skip:!0,contains:["self"]}]}]},R,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[x,t.inherit(t.TITLE_MODE,{begin:u,className:"title.function"})]},{match:/\.\.\./,relevance:0},O,{match:"\\$"+u,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[x]},L,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},k,D,{match:/\$[(.]/}]}}t.exports=function(t){const e=u(t),o=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],s={beginKeywords:"namespace",end:/\{/,excludeEnd:!0,contains:[e.exports.CLASS_REFERENCE]},a={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:o},contains:[e.exports.CLASS_REFERENCE]},d={$pattern:n,keyword:r.concat(["type","namespace","interface","public","private","protected","implements","declare","abstract","readonly","enum","override"]),literal:i,built_in:l.concat(o),"variable.language":c},h={className:"meta",begin:"@[A-Za-z$_][0-9A-Za-z$_]*"},f=(t,e,n)=>{const r=t.contains.findIndex(t=>t.label===e);if(-1===r)throw new Error("can not find mode to replace");t.contains.splice(r,1,n)};return Object.assign(e.keywords,d),e.exports.PARAMS_CONTAINS.push(h),e.contains=e.contains.concat([h,s,a]),f(e,"shebang",t.SHEBANG()),f(e,"use_strict",{className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/}),e.contains.find(t=>"func.def"===t.label).relevance=0,Object.assign(e,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),e}},function(t,e){t.exports=function(t){const e=t.regex,n=/\d{1,2}\/\d{1,2}\/\d{4}/,r=/\d{4}-\d{1,2}-\d{1,2}/,i=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,o=/\d{1,2}(:\d{1,2}){1,2}/,s={className:"literal",variants:[{begin:e.concat(/# */,e.either(r,n),/ *#/)},{begin:e.concat(/# */,o,/ *#/)},{begin:e.concat(/# */,i,/ *#/)},{begin:e.concat(/# */,e.either(r,n),/ +/,e.either(i,o),/ *#/)}]},a=t.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),c=t.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[{className:"string",begin:/"(""|[^/n])"C\b/},{className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},s,{className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},{className:"label",begin:/^\w+:/},a,c,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[c]}]}}},function(t,e){t.exports=function(t){t.regex;const e=t.COMMENT(/\(;/,/;\)/);return e.contains.push("self"),{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"]},contains:[t.COMMENT(/;;/,/$/),e,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},{className:"variable",begin:/\$[\w_]+/},{match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},{begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},t.QUOTE_STRING_MODE,{match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},{className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/},{className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/}]}}},function(t,e,n){},function(t,e,n){"use strict";n(372)},function(t,e,n){"use strict";n.r(e);var r=n(21),i=(n(390),n(392),{});n(393);function o(t,e,n,r,i,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:l}}var s=o(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("router-view",{staticClass:"view"})],1)],1)}),[],!1,null,null,null).exports,a=n(209),c=n(34),l={info:console.log,error:console.error},u={put:function(){},get:function(){}},d=n(373);function h(t){var e=Object(d.createRequest)(t),n=((new Date).getTime(),t.apiName),r=t.url,i=n;return i||(i=r.replace(/^https?:\/\//,"").split("/").slice(1,4).join("-")),e.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),e.interceptors.response.use((function(t){return(new Date).getTime(),t}),(function(t){return t.message,(new Date).getTime(),Promise.reject(t)})),e.request}function f(t){var e=t.url,n=t.apiName,r=t.fallbackUrl,i=t.reqHeaders,o=void 0===i?{}:i,s=t.method,a=void 0===s?"get":s,c=t.timeout,u=void 0===c?3e3:c,d=0,f={};try{o&&o["from-country"]&&(f["from-country"]=o["from-country"])}catch(t){}var p=function(t){return h({apiName:n,url:t})({url:t,method:a,timeout:u,headers:f})};return r?function t(e,n){return d>2?(l.error({stack:"FinalError: network timeout at: ".concat(e)}),p(n)):p(e).catch((function(){return d++,t(e,n)}))}(e,r):p(e)}function p(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){p(o,r,i,s,a,"next",t)}function a(t){p(o,r,i,s,a,"throw",t)}s(void 0)}))}}n(418);function m(t,e){return function(t,e){return x.apply(this,arguments)}(t,e)}function v(){return function(){return k.apply(this,arguments)}()}function y(t){return function(t){return C.apply(this,arguments)}(t)}function b(t){return function(t){return R.apply(this,arguments)}(t)}function w(t,e){return function(t){return L.apply(this,arguments)}(t,e)}function _(t){return function(t){return I.apply(this,arguments)}(t)}function E(t){return function(t){f({url:"https://comment.api.163.com/api/v1/products/a2869674571f77b5a0867c3d71db5856/threads/".concat(t,"/app/action/upvote?ibc=newssps"),apiName:"updateVote",method:"POST"})}(t)}function S(){return function(){return O.apply(this,arguments)}()}function A(){return function(){return D.apply(this,arguments)}()}function T(t){return function(t){return M.apply(this,arguments)}(t)}function x(){return(x=g(regeneratorRuntime.mark((function t(e,n){var r,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.interfaces.article.replace("${docid}",e),i=c.fallbackInterfaces.article.replace("${docid}",e),t.next=4,f({url:r,apiName:"article",fallbackUrl:i,reqHeaders:n});case 4:return o=t.sent,t.abrupt("return",o.data[e]);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(){return(k=g(regeneratorRuntime.mark((function t(){var e,n,r,i,o,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=u.get("hotSearchWords"))||!Array.isArray(e)){t.next=3;break}return t.abrupt("return",e);case 3:return n=c.interfaces.hotRank,t.prev=4,t.next=7,f({url:n,apiName:"hotRank"});case 7:if(r=t.sent,!(i=r.data.data)||!Array.isArray(i.hotRank)){t.next=14;break}return o=i.hotWordDisplayNum||10,s=i.hotRank.slice(0,o),u.put("hotSearchWords",s,24e4),t.abrupt("return",s);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(4),l.error("getHotSearchWords",t.t0);case 19:return t.abrupt("return",[]);case 20:case"end":return t.stop()}}),t,null,[[4,16]])})))).apply(this,arguments)}function C(){return(C=g(regeneratorRuntime.mark((function t(e){var n,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.interfaces.seoHotkeyword.replace("${docid}",e),t.prev=1,t.next=4,f({url:n,apiName:"seoHotkeyword"});case 4:if(r=t.sent,!(i=r.data).data||!i.data.keywords){t.next=8;break}return t.abrupt("return",i.data);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),l.error("getSeoSearchWords",t.t0);case 13:return t.abrupt("return",{});case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))).apply(this,arguments)}function R(){return(R=g(regeneratorRuntime.mark((function t(e){var n,r,i,o,s,a,u,d,h,p,g,m,v,y;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=c.interfaces.allFocus.replace("${docid}",e),t.next=4,f({url:n,apiName:"allFocus"});case 4:if(r=t.sent,i=r.data,!Array.isArray(i)){t.next=14;break}for(o=[],s=0;s<i.length;s++)("video"===(a=i[s]).type&&"bigPic"!==a.showStyle||"doc"===a.type&&"onePic"===a.showStyle||"doc"===a.type&&"bigPic"===a.showStyle)&&o.push(s);for(u=o.slice(0),d=o.length,h=Math.floor(.7*d),p=d-1;p>=h;p--)g=Math.floor((p+1)*Math.random()),m=u[g],u[g]=u[p],u[p]=m;for(v=u.slice(h),y=0;y<i.length;y++)v.includes(y)?i[y].addApp=1:i[y].addApp=0;return t.abrupt("return",i);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),l.error("getRelativeArticle",t.t0);case 19:return t.abrupt("return",[]);case 20:case"end":return t.stop()}}),t,null,[[0,16]])})))).apply(this,arguments)}function L(){return(L=g(regeneratorRuntime.mark((function t(e){var n,r,i,o,s,a,u,d=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d.length>1&&void 0!==d[1]?d[1]:"old",e){t.next=3;break}return t.abrupt("return",{});case 3:return t.prev=3,n=c.interfaces.commentCount.replace("${docid}",e),t.next=7,f({url:n,apiName:"commentCount"});case 7:if(r=t.sent,i=r.data&&r.data.cmtCount,o=r.data&&r.data.status&&"off"===r.data.status.web,i){t.next=12;break}return t.abrupt("return",{});case 12:return s=c.interfaces.newComment.replace("${docid}",e),t.next=15,f({url:s,apiName:"newComment"});case 15:if(a=t.sent,!(u=a&&a.data)){t.next=21;break}return u.cmtCount=i,u.closeFlag=o,t.abrupt("return",u);case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(3),l.error("getComment",t.t0);case 26:return t.abrupt("return",{});case 27:case"end":return t.stop()}}),t,null,[[3,23]])})))).apply(this,arguments)}function I(){return(I=g(regeneratorRuntime.mark((function t(e){var n,r,i,o,s,a,c,l,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="//comment.api.163.com/batapi/v1/products/a2869674571f77b5a0867c3d71db5856/thread/summary/".concat(e,"?ibc=newswap"),t.next=3,f({url:n,apiName:"commentSetting"});case 3:return r=t.sent,i=r.data,o=[-2,-4,-5],s=i.code,a=!0,c=!1,o.indexOf(s)>-1&&(a=!1),1!==s&&-7!==s||(l=i.threadVoteSwitch,u=i.threadVoteType,"1"===l&&(a=!1),"candle"===u&&(c=!0)),t.abrupt("return",{data:i,showModule:a,showCandle:c});case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(){return(O=g(regeneratorRuntime.mark((function t(){var e,n,r,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=c.interfaces.hotNews,t.next=3,f({url:e,apiName:"hotNews"});case 3:if(n=t.sent,!(r=n.data.data)||!Array.isArray(r.items)){t.next=11;break}return(i=r.items.slice(0,6)).push(i[0]),o=[],i.forEach((function(t,e){var n=t.title,r=t.contentId,i=t.type;o.push({idx:e,title:n,contentId:r,type:i})})),t.abrupt("return",o);case 11:return t.abrupt("return",[]);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function D(){return(D=g(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=c.interfaces.pushContent,t.next=4,f({url:e,apiName:"pushContent"});case 4:if(n=t.sent,!(r=n.data.data)||!Array.isArray(r.list)){t.next=8;break}return t.abrupt("return",r.list[0]);case 8:t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:return t.abrupt("return",{});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function M(){return(M=g(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",{});case 2:return t.prev=2,n=c.interfaces.readerInfo.replace("${id}",e),t.next=6,f({url:n,apiName:"readerInfo"});case 6:if(!(r=t.sent).data){t.next=9;break}return t.abrupt("return",r.data.data);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),l.error("getReaderInfo",t.t0);case 14:return t.abrupt("return",{});case 15:case"end":return t.stop()}}),t,null,[[2,11]])})))).apply(this,arguments)}var N=n(374),P=n.n(N),F=n(375),B=n.n(F);function U(t){this.name="NoFoundError",this.message=t||"NoFound Message",this.stack=(new Error).stack}U.prototype=Object.create(Error.prototype),U.prototype.constructor=U;var $=n(376),j={fetchMain:function(t,e){var n=t.commit,r=(t.state,e.id),i=e.ua;return m(r,e.headers).then((function(t){if(!t||null===t.body||void 0===t.body||B.a.filter(t))throw new U("notFound");if(/baiduspider|bytespider|Sogou\sweb\sspider|YisouSpider|360Spider|googlebot|bingbot/i.test(i)){var e=t.sourceinfo&&t.sourceinfo.tid;if(e&&$.tidGroup.includes(e))throw new U("notFound")}var r=P()(t),o=r.body,s=r.originalTitle;n("setBody",o),n("setOriginalTitle",s);var a=t;a.body="",n("setMain",a)}))},fetchHotSearchWords:function(t){var e=t.commit;t.state;return v().then((function(t){return e("setHotSearchWords",t)})).catch((function(t){return l.error("fetchHotSearchWords",t)}))},fetchSeoSearchWords:function(t,e){var n=t.commit;t.state;return y(e.id).then((function(t){n("setSeoSearchWords",t),t.keywords&&n("setImportantDescription",t.keywords.replace(/"/g,"“"))})).catch((function(t){return l.error("fetchSeoSearchWords",t)}))},fetchRelativeArticle:function(t,e){var n=t.commit;t.state;return b(e.id).then((function(t){return n("setRelativeArticle",t)})).catch((function(t){return l.error("fetchRelativeArticle",t)}))},fetchCommentSetting:function(t,e){var n=t.commit;t.state;return _(e.id).then((function(t){return n("setTie",t)})).catch((function(t){return l.error("fetchCommentSetting",t)}))},fetchReaderInfo:function(t,e){var n=t.commit;t.state;return T(e).then((function(t){return n("setReaderInfo",t)})).catch((function(t){return l.error("fetchReaderInfo",t)}))}},G={setMain:function(t,e){t.main=e},setHotSearchWords:function(t,e){t.hotSearchWords=e},setBody:function(t,e){t.body=e},setOriginalTitle:function(t,e){t.originalTitle=e},setSeoSearchWords:function(t,e){t.seoSearchWords=e},setImportantDescription:function(t,e){t.importantDescription=e},setRelativeArticle:function(t,e){t.relativeArticle=e},setPopularNews:function(t,e){t.popularNews=e},setLongTailWord:function(t,e){t.longTail=e},setVideoNum:function(t){var e=t.videoNum;t.videoNum=e+1},setReaderInfo:function(t,e){t.readerInfo=e},setStatementEn:function(t,e){t.statementEn=e},setTie:function(t,e){t.tieSetting=e}};function H(t,e){for(var n in e)t[n]=e[n];return t}r.a.use(a.a);var K=/[!'()*]/g,V=function(t){return"%"+t.charCodeAt(0).toString(16)},q=/%2C/g,z=function(t){return encodeURIComponent(t).replace(K,V).replace(q,",")};function W(t){try{return decodeURIComponent(t)}catch(t){0}return t}var Y=function(t){return null==t||"object"==typeof t?t:String(t)};function X(t){var e={};return(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach((function(t){var n=t.replace(/\+/g," ").split("="),r=W(n.shift()),i=n.length>0?W(n.join("=")):null;void 0===e[r]?e[r]=i:Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]})),e):e}function Q(t){var e=t?Object.keys(t).map((function(e){var n=t[e];if(void 0===n)return"";if(null===n)return z(e);if(Array.isArray(n)){var r=[];return n.forEach((function(t){void 0!==t&&(null===t?r.push(z(e)):r.push(z(e)+"="+z(t)))})),r.join("&")}return z(e)+"="+z(n)})).filter((function(t){return t.length>0})).join("&"):null;return e?"?"+e:""}var J=/\/?$/;function Z(t,e,n,r){var i=r&&r.options.stringifyQuery,o=e.query||{};try{o=tt(o)}catch(t){}var s={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:o,params:e.params||{},fullPath:rt(e,i),matched:t?nt(t):[]};return n&&(s.redirectedFrom=rt(n,i)),Object.freeze(s)}function tt(t){if(Array.isArray(t))return t.map(tt);if(t&&"object"==typeof t){var e={};for(var n in t)e[n]=tt(t[n]);return e}return t}var et=Z(null,{path:"/"});function nt(t){for(var e=[];t;)e.unshift(t),t=t.parent;return e}function rt(t,e){var n=t.path,r=t.query;void 0===r&&(r={});var i=t.hash;return void 0===i&&(i=""),(n||"/")+(e||Q)(r)+i}function it(t,e,n){return e===et?t===e:!!e&&(t.path&&e.path?t.path.replace(J,"")===e.path.replace(J,"")&&(n||t.hash===e.hash&&ot(t.query,e.query)):!(!t.name||!e.name)&&(t.name===e.name&&(n||t.hash===e.hash&&ot(t.query,e.query)&&ot(t.params,e.params))))}function ot(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var n=Object.keys(t).sort(),r=Object.keys(e).sort();return n.length===r.length&&n.every((function(n,i){var o=t[n];if(r[i]!==n)return!1;var s=e[n];return null==o||null==s?o===s:"object"==typeof o&&"object"==typeof s?ot(o,s):String(o)===String(s)}))}function st(t){for(var e=0;e<t.matched.length;e++){var n=t.matched[e];for(var r in n.instances){var i=n.instances[r],o=n.enteredCbs[r];if(i&&o){delete n.enteredCbs[r];for(var s=0;s<o.length;s++)i._isBeingDestroyed||o[s](i)}}}}var at={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var n=e.props,r=e.children,i=e.parent,o=e.data;o.routerView=!0;for(var s=i.$createElement,a=n.name,c=i.$route,l=i._routerViewCache||(i._routerViewCache={}),u=0,d=!1;i&&i._routerRoot!==i;){var h=i.$vnode?i.$vnode.data:{};h.routerView&&u++,h.keepAlive&&i._directInactive&&i._inactive&&(d=!0),i=i.$parent}if(o.routerViewDepth=u,d){var f=l[a],p=f&&f.component;return p?(f.configProps&&ct(p,o,f.route,f.configProps),s(p,o,r)):s()}var g=c.matched[u],m=g&&g.components[a];if(!g||!m)return l[a]=null,s();l[a]={component:m},o.registerRouteInstance=function(t,e){var n=g.instances[a];(e&&n!==t||!e&&n===t)&&(g.instances[a]=e)},(o.hook||(o.hook={})).prepatch=function(t,e){g.instances[a]=e.componentInstance},o.hook.init=function(t){t.data.keepAlive&&t.componentInstance&&t.componentInstance!==g.instances[a]&&(g.instances[a]=t.componentInstance),st(c)};var v=g.props&&g.props[a];return v&&(H(l[a],{route:c,configProps:v}),ct(m,o,c,v)),s(m,o,r)}};function ct(t,e,n,r){var i=e.props=function(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}(n,r);if(i){i=e.props=H({},i);var o=e.attrs=e.attrs||{};for(var s in i)t.props&&s in t.props||(o[s]=i[s],delete i[s])}}function lt(t,e,n){var r=t.charAt(0);if("/"===r)return t;if("?"===r||"#"===r)return e+t;var i=e.split("/");n&&i[i.length-1]||i.pop();for(var o=t.replace(/^\//,"").split("/"),s=0;s<o.length;s++){var a=o[s];".."===a?i.pop():"."!==a&&i.push(a)}return""!==i[0]&&i.unshift(""),i.join("/")}function ut(t){return t.replace(/\/+/g,"/")}var dt=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},ht=xt,ft=yt,pt=function(t,e){return wt(yt(t,e),e)},gt=wt,mt=Tt,vt=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function yt(t,e){for(var n,r=[],i=0,o=0,s="",a=e&&e.delimiter||"/";null!=(n=vt.exec(t));){var c=n[0],l=n[1],u=n.index;if(s+=t.slice(o,u),o=u+c.length,l)s+=l[1];else{var d=t[o],h=n[2],f=n[3],p=n[4],g=n[5],m=n[6],v=n[7];s&&(r.push(s),s="");var y=null!=h&&null!=d&&d!==h,b="+"===m||"*"===m,w="?"===m||"*"===m,_=n[2]||a,E=p||g;r.push({name:f||i++,prefix:h||"",delimiter:_,optional:w,repeat:b,partial:y,asterisk:!!v,pattern:E?Et(E):v?".*":"[^"+_t(_)+"]+?"})}}return o<t.length&&(s+=t.substr(o)),s&&r.push(s),r}function bt(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function wt(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)"object"==typeof t[r]&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",At(e)));return function(e,r){for(var i="",o=e||{},s=(r||{}).pretty?bt:encodeURIComponent,a=0;a<t.length;a++){var c=t[a];if("string"!=typeof c){var l,u=o[c.name];if(null==u){if(c.optional){c.partial&&(i+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(dt(u)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var d=0;d<u.length;d++){if(l=s(u[d]),!n[a].test(l))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(l)+"`");i+=(0===d?c.prefix:c.delimiter)+l}}else{if(l=c.asterisk?encodeURI(u).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})):s(u),!n[a].test(l))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+l+'"');i+=c.prefix+l}}else i+=c}return i}}function _t(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function Et(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function St(t,e){return t.keys=e,t}function At(t){return t&&t.sensitive?"":"i"}function Tt(t,e,n){dt(e)||(n=e||n,e=[]);for(var r=(n=n||{}).strict,i=!1!==n.end,o="",s=0;s<t.length;s++){var a=t[s];if("string"==typeof a)o+=_t(a);else{var c=_t(a.prefix),l="(?:"+a.pattern+")";e.push(a),a.repeat&&(l+="(?:"+c+l+")*"),o+=l=a.optional?a.partial?c+"("+l+")?":"(?:"+c+"("+l+"))?":c+"("+l+")"}}var u=_t(n.delimiter||"/"),d=o.slice(-u.length)===u;return r||(o=(d?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),o+=i?"$":r&&d?"":"(?="+u+"|$)",St(new RegExp("^"+o,At(n)),e)}function xt(t,e,n){return dt(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return St(t,e)}(t,e):dt(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(xt(t[i],e,n).source);return St(new RegExp("(?:"+r.join("|")+")",At(n)),e)}(t,e,n):function(t,e,n){return Tt(yt(t,n),e,n)}(t,e,n)}ht.parse=ft,ht.compile=pt,ht.tokensToFunction=gt,ht.tokensToRegExp=mt;var kt=Object.create(null);function Ct(t,e,n){e=e||{};try{var r=kt[t]||(kt[t]=ht.compile(t));return"string"==typeof e.pathMatch&&(e[0]=e.pathMatch),r(e,{pretty:!0})}catch(t){return""}finally{delete e[0]}}function Rt(t,e,n,r){var i="string"==typeof t?{path:t}:t;if(i._normalized)return i;if(i.name){var o=(i=H({},t)).params;return o&&"object"==typeof o&&(i.params=H({},o)),i}if(!i.path&&i.params&&e){(i=H({},i))._normalized=!0;var s=H(H({},e.params),i.params);if(e.name)i.name=e.name,i.params=s;else if(e.matched.length){var a=e.matched[e.matched.length-1].path;i.path=Ct(a,s,e.path)}else 0;return i}var c=function(t){var e="",n="",r=t.indexOf("#");r>=0&&(e=t.slice(r),t=t.slice(0,r));var i=t.indexOf("?");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{path:t,query:n,hash:e}}(i.path||""),l=e&&e.path||"/",u=c.path?lt(c.path,l,n||i.append):l,d=function(t,e,n){void 0===e&&(e={});var r,i=n||X;try{r=i(t||"")}catch(t){r={}}for(var o in e){var s=e[o];r[o]=Array.isArray(s)?s.map(Y):Y(s)}return r}(c.query,i.query,r&&r.options.parseQuery),h=i.hash||c.hash;return h&&"#"!==h.charAt(0)&&(h="#"+h),{_normalized:!0,path:u,query:d,hash:h}}var Lt,It=function(){},Ot={name:"RouterLink",props:{to:{type:[String,Object],required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:[String,Array],default:"click"}},render:function(t){var e=this,n=this.$router,r=this.$route,i=n.resolve(this.to,r,this.append),o=i.location,s=i.route,a=i.href,c={},l=n.options.linkActiveClass,u=n.options.linkExactActiveClass,d=null==l?"router-link-active":l,h=null==u?"router-link-exact-active":u,f=null==this.activeClass?d:this.activeClass,p=null==this.exactActiveClass?h:this.exactActiveClass,g=s.redirectedFrom?Z(null,Rt(s.redirectedFrom),null,n):s;c[p]=it(r,g,this.exactPath),c[f]=this.exact||this.exactPath?c[p]:function(t,e){return 0===t.path.replace(J,"/").indexOf(e.path.replace(J,"/"))&&(!e.hash||t.hash===e.hash)&&function(t,e){for(var n in e)if(!(n in t))return!1;return!0}(t.query,e.query)}(r,g);var m=c[p]?this.ariaCurrentValue:null,v=function(t){Dt(t)&&(e.replace?n.replace(o,It):n.push(o,It))},y={click:Dt};Array.isArray(this.event)?this.event.forEach((function(t){y[t]=v})):y[this.event]=v;var b={class:c},w=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:a,route:s,navigate:v,isActive:c[f],isExactActive:c[p]});if(w){if(1===w.length)return w[0];if(w.length>1||!w.length)return 0===w.length?t():t("span",{},w)}if("a"===this.tag)b.on=y,b.attrs={href:a,"aria-current":m};else{var _=function t(e){var n;if(e)for(var r=0;r<e.length;r++){if("a"===(n=e[r]).tag)return n;if(n.children&&(n=t(n.children)))return n}}(this.$slots.default);if(_){_.isStatic=!1;var E=_.data=H({},_.data);for(var S in E.on=E.on||{},E.on){var A=E.on[S];S in y&&(E.on[S]=Array.isArray(A)?A:[A])}for(var T in y)T in E.on?E.on[T].push(y[T]):E.on[T]=v;var x=_.data.attrs=H({},_.data.attrs);x.href=a,x["aria-current"]=m}else b.on=y}return t(this.tag,b,this.$slots.default)}};function Dt(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||t.defaultPrevented||void 0!==t.button&&0!==t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}var Mt="undefined"!=typeof window;function Nt(t,e,n,r,i){var o=e||[],s=n||Object.create(null),a=r||Object.create(null);t.forEach((function(t){!function t(e,n,r,i,o,s){var a=i.path,c=i.name;0;var l=i.pathToRegexpOptions||{},u=function(t,e,n){n||(t=t.replace(/\/$/,""));if("/"===t[0])return t;if(null==e)return t;return ut(e.path+"/"+t)}(a,o,l.strict);"boolean"==typeof i.caseSensitive&&(l.sensitive=i.caseSensitive);var d={path:u,regex:Pt(u,l),components:i.components||{default:i.component},alias:i.alias?"string"==typeof i.alias?[i.alias]:i.alias:[],instances:{},enteredCbs:{},name:c,parent:o,matchAs:s,redirect:i.redirect,beforeEnter:i.beforeEnter,meta:i.meta||{},props:null==i.props?{}:i.components?i.props:{default:i.props}};i.children&&i.children.forEach((function(i){var o=s?ut(s+"/"+i.path):void 0;t(e,n,r,i,d,o)}));n[d.path]||(e.push(d.path),n[d.path]=d);if(void 0!==i.alias)for(var h=Array.isArray(i.alias)?i.alias:[i.alias],f=0;f<h.length;++f){0;var p={path:h[f],children:i.children};t(e,n,r,p,o,d.path||"/")}c&&(r[c]||(r[c]=d))}(o,s,a,t,i)}));for(var c=0,l=o.length;c<l;c++)"*"===o[c]&&(o.push(o.splice(c,1)[0]),l--,c--);return{pathList:o,pathMap:s,nameMap:a}}function Pt(t,e){return ht(t,[],e)}function Ft(t,e){var n=Nt(t),r=n.pathList,i=n.pathMap,o=n.nameMap;function s(t,n,s){var a=Rt(t,n,!1,e),l=a.name;if(l){var u=o[l];if(!u)return c(null,a);var d=u.regex.keys.filter((function(t){return!t.optional})).map((function(t){return t.name}));if("object"!=typeof a.params&&(a.params={}),n&&"object"==typeof n.params)for(var h in n.params)!(h in a.params)&&d.indexOf(h)>-1&&(a.params[h]=n.params[h]);return a.path=Ct(u.path,a.params),c(u,a,s)}if(a.path){a.params={};for(var f=0;f<r.length;f++){var p=r[f],g=i[p];if(Bt(g.regex,a.path,a.params))return c(g,a,s)}}return c(null,a)}function a(t,n){var r=t.redirect,i="function"==typeof r?r(Z(t,n,null,e)):r;if("string"==typeof i&&(i={path:i}),!i||"object"!=typeof i)return c(null,n);var a=i,l=a.name,u=a.path,d=n.query,h=n.hash,f=n.params;if(d=a.hasOwnProperty("query")?a.query:d,h=a.hasOwnProperty("hash")?a.hash:h,f=a.hasOwnProperty("params")?a.params:f,l){o[l];return s({_normalized:!0,name:l,query:d,hash:h,params:f},void 0,n)}if(u){var p=function(t,e){return lt(t,e.parent?e.parent.path:"/",!0)}(u,t);return s({_normalized:!0,path:Ct(p,f),query:d,hash:h},void 0,n)}return c(null,n)}function c(t,n,r){return t&&t.redirect?a(t,r||n):t&&t.matchAs?function(t,e,n){var r=s({_normalized:!0,path:Ct(n,e.params)});if(r){var i=r.matched,o=i[i.length-1];return e.params=r.params,c(o,e)}return c(null,e)}(0,n,t.matchAs):Z(t,n,r,e)}return{match:s,addRoute:function(t,e){var n="object"!=typeof t?o[t]:void 0;Nt([e||t],r,i,o,n),n&&n.alias.length&&Nt(n.alias.map((function(t){return{path:t,children:[e]}})),r,i,o,n)},getRoutes:function(){return r.map((function(t){return i[t]}))},addRoutes:function(t){Nt(t,r,i,o)}}}function Bt(t,e,n){var r=e.match(t);if(!r)return!1;if(!n)return!0;for(var i=1,o=r.length;i<o;++i){var s=t.keys[i-1];s&&(n[s.name||"pathMatch"]="string"==typeof r[i]?W(r[i]):r[i])}return!0}var Ut=Mt&&window.performance&&window.performance.now?window.performance:Date;function $t(){return Ut.now().toFixed(3)}var jt=$t();function Gt(){return jt}function Ht(t){return jt=t}var Kt=Object.create(null);function Vt(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var t=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(t,""),n=H({},window.history.state);return n.key=Gt(),window.history.replaceState(n,"",e),window.addEventListener("popstate",Wt),function(){window.removeEventListener("popstate",Wt)}}function qt(t,e,n,r){if(t.app){var i=t.options.scrollBehavior;i&&t.app.$nextTick((function(){var o=function(){var t=Gt();if(t)return Kt[t]}(),s=i.call(t,e,n,r?o:null);s&&("function"==typeof s.then?s.then((function(t){Zt(t,o)})).catch((function(t){0})):Zt(s,o))}))}}function zt(){var t=Gt();t&&(Kt[t]={x:window.pageXOffset,y:window.pageYOffset})}function Wt(t){zt(),t.state&&t.state.key&&Ht(t.state.key)}function Yt(t){return Qt(t.x)||Qt(t.y)}function Xt(t){return{x:Qt(t.x)?t.x:window.pageXOffset,y:Qt(t.y)?t.y:window.pageYOffset}}function Qt(t){return"number"==typeof t}var Jt=/^#\d/;function Zt(t,e){var n,r="object"==typeof t;if(r&&"string"==typeof t.selector){var i=Jt.test(t.selector)?document.getElementById(t.selector.slice(1)):document.querySelector(t.selector);if(i){var o=t.offset&&"object"==typeof t.offset?t.offset:{};e=function(t,e){var n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{x:r.left-n.left-e.x,y:r.top-n.top-e.y}}(i,o={x:Qt((n=o).x)?n.x:0,y:Qt(n.y)?n.y:0})}else Yt(t)&&(e=Xt(t))}else r&&Yt(t)&&(e=Xt(t));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:t.behavior}):window.scrollTo(e.x,e.y))}var te,ee=Mt&&((-1===(te=window.navigator.userAgent).indexOf("Android 2.")&&-1===te.indexOf("Android 4.0")||-1===te.indexOf("Mobile Safari")||-1!==te.indexOf("Chrome")||-1!==te.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function ne(t,e){zt();var n=window.history;try{if(e){var r=H({},n.state);r.key=Gt(),n.replaceState(r,"",t)}else n.pushState({key:Ht($t())},"",t)}catch(n){window.location[e?"replace":"assign"](t)}}function re(t){ne(t,!0)}function ie(t,e,n){var r=function(i){i>=t.length?n():t[i]?e(t[i],(function(){r(i+1)})):r(i+1)};r(0)}var oe={redirected:2,aborted:4,cancelled:8,duplicated:16};function se(t,e){return ce(t,e,oe.redirected,'Redirected when going from "'+t.fullPath+'" to "'+function(t){if("string"==typeof t)return t;if("path"in t)return t.path;var e={};return le.forEach((function(n){n in t&&(e[n]=t[n])})),JSON.stringify(e,null,2)}(e)+'" via a navigation guard.')}function ae(t,e){return ce(t,e,oe.cancelled,'Navigation cancelled from "'+t.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function ce(t,e,n,r){var i=new Error(r);return i._isRouter=!0,i.from=t,i.to=e,i.type=n,i}var le=["params","query","hash"];function ue(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function de(t,e){return ue(t)&&t._isRouter&&(null==e||t.type===e)}function he(t){return function(e,n,r){var i=!1,o=0,s=null;fe(t,(function(t,e,n,a){if("function"==typeof t&&void 0===t.cid){i=!0,o++;var c,l=me((function(e){var i;((i=e).__esModule||ge&&"Module"===i[Symbol.toStringTag])&&(e=e.default),t.resolved="function"==typeof e?e:Lt.extend(e),n.components[a]=e,--o<=0&&r()})),u=me((function(t){var e="Failed to resolve async component "+a+": "+t;s||(s=ue(t)?t:new Error(e),r(s))}));try{c=t(l,u)}catch(t){u(t)}if(c)if("function"==typeof c.then)c.then(l,u);else{var d=c.component;d&&"function"==typeof d.then&&d.then(l,u)}}})),i||r()}}function fe(t,e){return pe(t.map((function(t){return Object.keys(t.components).map((function(n){return e(t.components[n],t.instances[n],t,n)}))})))}function pe(t){return Array.prototype.concat.apply([],t)}var ge="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function me(t){var e=!1;return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];if(!e)return e=!0,t.apply(this,n)}}var ve=function(t,e){this.router=t,this.base=function(t){if(!t)if(Mt){var e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else t="/";"/"!==t.charAt(0)&&(t="/"+t);return t.replace(/\/$/,"")}(e),this.current=et,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function ye(t,e,n,r){var i=fe(t,(function(t,r,i,o){var s=function(t,e){"function"!=typeof t&&(t=Lt.extend(t));return t.options[e]}(t,e);if(s)return Array.isArray(s)?s.map((function(t){return n(t,r,i,o)})):n(s,r,i,o)}));return pe(r?i.reverse():i)}function be(t,e){if(e)return function(){return t.apply(e,arguments)}}ve.prototype.listen=function(t){this.cb=t},ve.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},ve.prototype.onError=function(t){this.errorCbs.push(t)},ve.prototype.transitionTo=function(t,e,n){var r,i=this;try{r=this.router.match(t,this.current)}catch(t){throw this.errorCbs.forEach((function(e){e(t)})),t}var o=this.current;this.confirmTransition(r,(function(){i.updateRoute(r),e&&e(r),i.ensureURL(),i.router.afterHooks.forEach((function(t){t&&t(r,o)})),i.ready||(i.ready=!0,i.readyCbs.forEach((function(t){t(r)})))}),(function(t){n&&n(t),t&&!i.ready&&(de(t,oe.redirected)&&o===et||(i.ready=!0,i.readyErrorCbs.forEach((function(e){e(t)}))))}))},ve.prototype.confirmTransition=function(t,e,n){var r=this,i=this.current;this.pending=t;var o,s,a=function(t){!de(t)&&ue(t)&&(r.errorCbs.length?r.errorCbs.forEach((function(e){e(t)})):console.error(t)),n&&n(t)},c=t.matched.length-1,l=i.matched.length-1;if(it(t,i)&&c===l&&t.matched[c]===i.matched[l])return this.ensureURL(),t.hash&&qt(this.router,i,t,!1),a(((s=ce(o=i,t,oe.duplicated,'Avoided redundant navigation to current location: "'+o.fullPath+'".')).name="NavigationDuplicated",s));var u=function(t,e){var n,r=Math.max(t.length,e.length);for(n=0;n<r&&t[n]===e[n];n++);return{updated:e.slice(0,n),activated:e.slice(n),deactivated:t.slice(n)}}(this.current.matched,t.matched),d=u.updated,h=u.deactivated,f=u.activated,p=[].concat(function(t){return ye(t,"beforeRouteLeave",be,!0)}(h),this.router.beforeHooks,function(t){return ye(t,"beforeRouteUpdate",be)}(d),f.map((function(t){return t.beforeEnter})),he(f)),g=function(e,n){if(r.pending!==t)return a(ae(i,t));try{e(t,i,(function(e){!1===e?(r.ensureURL(!0),a(function(t,e){return ce(t,e,oe.aborted,'Navigation aborted from "'+t.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}(i,t))):ue(e)?(r.ensureURL(!0),a(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(a(se(i,t)),"object"==typeof e&&e.replace?r.replace(e):r.push(e)):n(e)}))}catch(t){a(t)}};ie(p,g,(function(){ie(function(t){return ye(t,"beforeRouteEnter",(function(t,e,n,r){return function(t,e,n){return function(r,i,o){return t(r,i,(function(t){"function"==typeof t&&(e.enteredCbs[n]||(e.enteredCbs[n]=[]),e.enteredCbs[n].push(t)),o(t)}))}}(t,n,r)}))}(f).concat(r.router.resolveHooks),g,(function(){if(r.pending!==t)return a(ae(i,t));r.pending=null,e(t),r.router.app&&r.router.app.$nextTick((function(){st(t)}))}))}))},ve.prototype.updateRoute=function(t){this.current=t,this.cb&&this.cb(t)},ve.prototype.setupListeners=function(){},ve.prototype.teardown=function(){this.listeners.forEach((function(t){t()})),this.listeners=[],this.current=et,this.pending=null};var we=function(t){function e(e,n){t.call(this,e,n),this._startLocation=_e(this.base)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,n=e.options.scrollBehavior,r=ee&&n;r&&this.listeners.push(Vt());var i=function(){var n=t.current,i=_e(t.base);t.current===et&&i===t._startLocation||t.transitionTo(i,(function(t){r&&qt(e,t,n,!0)}))};window.addEventListener("popstate",i),this.listeners.push((function(){window.removeEventListener("popstate",i)}))}},e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,n){var r=this,i=this.current;this.transitionTo(t,(function(t){ne(ut(r.base+t.fullPath)),qt(r.router,t,i,!1),e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this,i=this.current;this.transitionTo(t,(function(t){re(ut(r.base+t.fullPath)),qt(r.router,t,i,!1),e&&e(t)}),n)},e.prototype.ensureURL=function(t){if(_e(this.base)!==this.current.fullPath){var e=ut(this.base+this.current.fullPath);t?ne(e):re(e)}},e.prototype.getCurrentLocation=function(){return _e(this.base)},e}(ve);function _e(t){var e=window.location.pathname,n=e.toLowerCase(),r=t.toLowerCase();return!t||n!==r&&0!==n.indexOf(ut(r+"/"))||(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var Ee=function(t){function e(e,n,r){t.call(this,e,n),r&&function(t){var e=_e(t);if(!/^\/#/.test(e))return window.location.replace(ut(t+"/#"+e)),!0}(this.base)||Se()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router.options.scrollBehavior,n=ee&&e;n&&this.listeners.push(Vt());var r=function(){var e=t.current;Se()&&t.transitionTo(Ae(),(function(r){n&&qt(t.router,r,e,!0),ee||ke(r.fullPath)}))},i=ee?"popstate":"hashchange";window.addEventListener(i,r),this.listeners.push((function(){window.removeEventListener(i,r)}))}},e.prototype.push=function(t,e,n){var r=this,i=this.current;this.transitionTo(t,(function(t){xe(t.fullPath),qt(r.router,t,i,!1),e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this,i=this.current;this.transitionTo(t,(function(t){ke(t.fullPath),qt(r.router,t,i,!1),e&&e(t)}),n)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;Ae()!==e&&(t?xe(e):ke(e))},e.prototype.getCurrentLocation=function(){return Ae()},e}(ve);function Se(){var t=Ae();return"/"===t.charAt(0)||(ke("/"+t),!1)}function Ae(){var t=window.location.href,e=t.indexOf("#");return e<0?"":t=t.slice(e+1)}function Te(t){var e=window.location.href,n=e.indexOf("#");return(n>=0?e.slice(0,n):e)+"#"+t}function xe(t){ee?ne(Te(t)):window.location.hash=t}function ke(t){ee?re(Te(t)):window.location.replace(Te(t))}var Ce=function(t){function e(e,n){t.call(this,e,n),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,n){var r=this;this.transitionTo(t,(function(t){r.stack=r.stack.slice(0,r.index+1).concat(t),r.index++,e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this;this.transitionTo(t,(function(t){r.stack=r.stack.slice(0,r.index).concat(t),e&&e(t)}),n)},e.prototype.go=function(t){var e=this,n=this.index+t;if(!(n<0||n>=this.stack.length)){var r=this.stack[n];this.confirmTransition(r,(function(){var t=e.current;e.index=n,e.updateRoute(r),e.router.afterHooks.forEach((function(e){e&&e(r,t)}))}),(function(t){de(t,oe.duplicated)&&(e.index=n)}))}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(ve),Re=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=Ft(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!ee&&!1!==t.fallback,this.fallback&&(e="hash"),Mt||(e="abstract"),this.mode=e,e){case"history":this.history=new we(this,t.base);break;case"hash":this.history=new Ee(this,t.base,this.fallback);break;case"abstract":this.history=new Ce(this,t.base);break;default:0}},Le={currentRoute:{configurable:!0}};function Ie(t,e){return t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}Re.prototype.match=function(t,e,n){return this.matcher.match(t,e,n)},Le.currentRoute.get=function(){return this.history&&this.history.current},Re.prototype.init=function(t){var e=this;if(this.apps.push(t),t.$once("hook:destroyed",(function(){var n=e.apps.indexOf(t);n>-1&&e.apps.splice(n,1),e.app===t&&(e.app=e.apps[0]||null),e.app||e.history.teardown()})),!this.app){this.app=t;var n=this.history;if(n instanceof we||n instanceof Ee){var r=function(t){n.setupListeners(),function(t){var r=n.current,i=e.options.scrollBehavior;ee&&i&&"fullPath"in t&&qt(e,t,r,!1)}(t)};n.transitionTo(n.getCurrentLocation(),r,r)}n.listen((function(t){e.apps.forEach((function(e){e._route=t}))}))}},Re.prototype.beforeEach=function(t){return Ie(this.beforeHooks,t)},Re.prototype.beforeResolve=function(t){return Ie(this.resolveHooks,t)},Re.prototype.afterEach=function(t){return Ie(this.afterHooks,t)},Re.prototype.onReady=function(t,e){this.history.onReady(t,e)},Re.prototype.onError=function(t){this.history.onError(t)},Re.prototype.push=function(t,e,n){var r=this;if(!e&&!n&&"undefined"!=typeof Promise)return new Promise((function(e,n){r.history.push(t,e,n)}));this.history.push(t,e,n)},Re.prototype.replace=function(t,e,n){var r=this;if(!e&&!n&&"undefined"!=typeof Promise)return new Promise((function(e,n){r.history.replace(t,e,n)}));this.history.replace(t,e,n)},Re.prototype.go=function(t){this.history.go(t)},Re.prototype.back=function(){this.go(-1)},Re.prototype.forward=function(){this.go(1)},Re.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(t){return Object.keys(t.components).map((function(e){return t.components[e]}))}))):[]},Re.prototype.resolve=function(t,e,n){var r=Rt(t,e=e||this.history.current,n,this),i=this.match(r,e),o=i.redirectedFrom||i.fullPath;return{location:r,route:i,href:function(t,e,n){var r="hash"===n?"#"+e:e;return t?ut(t+"/"+r):r}(this.history.base,o,this.mode),normalizedTo:r,resolved:i}},Re.prototype.getRoutes=function(){return this.matcher.getRoutes()},Re.prototype.addRoute=function(t,e){this.matcher.addRoute(t,e),this.history.current!==et&&this.history.transitionTo(this.history.getCurrentLocation())},Re.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==et&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(Re.prototype,Le),Re.install=function t(e){if(!t.installed||Lt!==e){t.installed=!0,Lt=e;var n=function(t){return void 0!==t},r=function(t,e){var r=t.$options._parentVnode;n(r)&&n(r=r.data)&&n(r=r.registerRouteInstance)&&r(t,e)};e.mixin({beforeCreate:function(){n(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,r(this,this)},destroyed:function(){r(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",at),e.component("RouterLink",Ot);var i=e.config.optionMergeStrategies;i.beforeRouteEnter=i.beforeRouteLeave=i.beforeRouteUpdate=i.created}},Re.version="3.5.3",Re.isNavigationFailure=de,Re.NavigationFailureType=oe,Re.START_LOCATION=et,Mt&&window.Vue&&window.Vue.use(Re);var Oe=Re,De=n(146),Me=n.n(De),Ne=n(19),Pe=n.n(Ne),Fe=n(147),Be=n.n(Fe),Ue=n(210),$e=n.n(Ue),je=n(377),Ge=n.n(je),He=n(378),Ke=n.n(He),Ve=n(379),qe=n.n(Ve),ze=n(78),We=n.n(ze),Ye=n(116),Xe=n.n(Ye),Qe=n(148),Je=n.n(Qe),Ze=n(380),tn=n.n(Ze),en=n(115),nn=n.n(en),rn=n(94),on=n.n(rn);var sn=function(t){return"string"==typeof t};var an=function(t){return void 0===t};var cn=function(t){return"string"==typeof t&&""!==t},ln=n(381),un=n.n(ln);var dn=function(t){return"[object Object]"===Object.prototype.toString.call(t)};var hn=function(t){return dn(t)&&un()(t).length>0};var fn=function(t){return Array.isArray(t)};var pn=function(t){return fn(t)&&!!t.length};var gn=function(t){var e;an(t)&&(t=(null===(e=We.a.location)||void 0===e?void 0:e.search)||"");var n={};return t.replace(/([^?=&]+)(=([^&]*))?/g,(function(t,e,r,i){var o=decodeURIComponent(e),s=cn(i)?decodeURIComponent(i):null,a=n[o];return an(a)?n[o]=s:fn(a)?a.push(s):n[o]=[a,s],""})),n};var mn=function(t){return null===t};function vn(t,e){var n;return Pe()(n="".concat(encodeURIComponent(t),"=")).call(n,mn(e)?"":"".concat(encodeURIComponent(String(e))))}var yn=function(t){if(!hn(t))return"";var e=[];return on()(t).forEach((function(n){var r=t[n];fn(r)?r.forEach((function(t){an(t)||e.push(vn(n,t))})):an(r)||e.push(vn(n,r))})),e.join("&")};function bn(t){var e=[];t.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^/]*/g,(function(t){return"/.."===t?e.pop():e.push(t),t}));var n=e.join("");return"/"===n.charAt(0)?n:"/".concat(n)}var wn=function(){function t(e,n){var r,i,o;(Ge()(this,t),qe()(this,"parts",{protocol:"",hostname:"",port:"",pathname:"",searchParams:{},hash:""}),an(e))&&(e=(null===(o=We.a.location)||void 0===o?void 0:o.href)||"");var s=Be()(r=String(e)).call(r).match(/^([^:/?#]+:)?(?:\/\/(([^:/?#]+)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);if(!s)throw new Error('Failed to construct "Url": Invalid param "urlString"');var a,c=s[1]||"",l=s[3]||"",u=s[4]||"",d=s[5]||"",h=s[6]||"",f=s[7]||"";if((!c||!l)&&(n||null!==(i=We.a.location)&&void 0!==i&&i.href)){var p=new t(n).parts;if(!l){var g,m;if(d||h||(a=p.searchParams),"/"!==d.charAt(0))if(d)d=Xe()(g=p.pathname).call(g,0,Je()(m=p.pathname).call(m,"/")+1)+d;else d=p.pathname;d=bn(d),l=p.hostname,"80"===(u=p.port)&&(u="")}c||(c=p.protocol)}this.parts={protocol:c,hostname:l,port:u,pathname:d||"/",searchParams:h?gn(h):Me()({},a),hash:f}}return Ke()(t,[{key:"protocol",value:function(t){return an(t)?this.parts.protocol:(/^[a-zA-Z]/.test(t)&&(this.parts.protocol="".concat(String(t).split(":")[0],":")),this)}},{key:"hostname",value:function(t){return an(t)?this.parts.hostname:(this.parts.hostname=String(t),this)}},{key:"port",value:function(t){if(an(t))return this.parts.port;var e=String(t);return(""===e||/^\d+$/.test(e))&&(this.parts.port="80"===e?"":e),this}},{key:"host",value:function(t){if(an(t)){var e,n,r=this.port();return Pe()(e=Pe()(n="".concat(this.hostname())).call(n,r?":":"")).call(e,r)}var i=String(t).split(":"),o=$e()(i,2),s=o[0],a=o[1],c=void 0===a?"":a;return this.hostname(s),this.port(c),this}},{key:"origin",value:function(t){var e;if(an(t))return Pe()(e="".concat(this.protocol(),"//")).call(e,this.host());var n=String(t).split("//"),r=$e()(n,2),i=r[0],o=r[1];return this.protocol(i),this.host(o),this}},{key:"pathname",value:function(t){var e=this.parts.pathname;if(an(t))return e;var n=String(t);return tn()(n).call(n,"/")||(n=Xe()(e).call(e,0,Je()(e).call(e,"/")+1)+n),this.parts.pathname=bn(n),this}},{key:"filename",value:function(t){var e=this.pathname();return an(t)?e.split("/").pop()||"":(this.pathname(t),this)}},{key:"extension",value:function(){var t=this.filename(),e=Je()(t).call(t,".");return e>-1?Xe()(t).call(t,e+1):""}},{key:"search",value:function(t){var e=this.parts.searchParams;if(an(t)){var n=yn(e);return n?"?".concat(n):""}return!0===t?e:(hn(t)?this.parts.searchParams=t:sn(t)&&(this.parts.searchParams=gn(t)),this)}},{key:"hash",value:function(t){var e,n;if(an(t))return this.parts.hash;var r=nn()(e=String(t)).call(e,"#");return this.parts.hash="#".concat(Xe()(n=String(t)).call(n,r+1)),this}},{key:"href",value:function(){var t,e,n;return Pe()(t=Pe()(e=Pe()(n="".concat(this.origin())).call(n,this.pathname())).call(e,this.search())).call(t,this.hash())}},{key:"setSearch",value:function(t,e){var n=this.parts.searchParams;return cn(t)?n[t]=e:hn(t)&&on()(t).forEach((function(e){n[e]=t[e]})),this.parts.searchParams=n,this}},{key:"addSearch",value:function(t,e){var n=this;if(hn(t))on()(t).forEach((function(e){n.addSearch(e,t[e])}));else if(cn(t)&&!an(e)){var r,i=this.parts.searchParams,o=i[t];if(an(o))i[t]=e;else i[t]=Pe()(r=[]).call(r,o,e)}return this}},{key:"removeSearch",value:function(t,e){var n=this,r=this.parts.searchParams;if(hn(t))on()(t).forEach((function(e){n.removeSearch(e,t[e])}));else if(pn(t))t.forEach((function(t){r[t]=void 0}));else if(cn(t))if(an(e))r[t]=void 0;else{var i,o,s=Pe()(i=[]).call(i,e),a=function(t,e){var n=[];return t.forEach((function(t){var r=t;-1===nn()(e).call(e,r)&&n.push(t)})),n}(Pe()(o=[]).call(o,r[t]),s);a.length<=1&&(r[t]=a[0])}return this}},{key:"toString",value:function(){return this.href()}}]),t}(),_n=n(382),En=[50,90,150,230,330,480,750,960,1280,1440],Sn=n.n(_n)()(En).call(En,(function(t){return 1.2*t})),An=Math.max(We.a.devicePixelRatio||1,2);var Tn=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t*(e?An:1);if(n>2147483647)return t;var r=Sn.some((function(t,e){return n<=t&&(n=En[e],!0)}));return r||(n=En[En.length-1]),n};var xn=function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},kn={webpAlpha:"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",webpAnimation:"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"},Cn=function(t,e){var n=new Image,r=function(t){e(!(!t||"load"!==t.type)&&1===n.width)};n.onload=r,n.onerror=r,n.src=kn[t]},Rn={};function Ln(){var t;if(xn())try{var e,n=document.createElement("canvas");if(n.getContext&&n.getContext("2d"))t=0===nn()(e=n.toDataURL("image/webp")).call(e,"data:image/webp")}catch(e){t=!1}else t=!1;Rn.webpAlpha=t,Rn.webpAnimation=t}xn()&&(Cn("webpAlpha",(function(t){return Rn.webpAlpha=t})),Cn("webpAnimation",(function(t){return Rn.webpAnimation=t})));var In=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"webpAlpha";return an(Rn[t])&&Ln(),!!Rn[t]};function On(t,e){return Math.ceil(e.specificSize||"y"===e.mode?t:Tn(t,e.withDpr))}var Dn=function(t){var e,n,r,i,o,s,a;if(!cn(t.src))return"";var c=Me()({width:2147483647,height:2147483647,quality:"75",reserveAnimation:!1},t);if(!c.format){var l=new wn(c.src).extension();/^gif$/i.test(l)?c.reserveAnimation?c.format=In("webpAnimation")?"awebp":"gif":c.format=In()?"webp":"jpg":In()?c.format="webp":/^(jpe?g|png|bmp)$/i.test(l)?c.format=l:c.format="jpg"}if("gif"===c.format)return c.src;var u=c.protocol;sn(u)||(u=xn()?window.location.protocol:"");var d=On(c.width,c),h=On(c.height,c);return Pe()(e=Pe()(n=Pe()(r=Pe()(i=Pe()(o=Pe()(s="".concat(u,"//nimg.ws.126.net/?url=")).call(s,encodeURIComponent(Be()(a=c.src).call(a)),"&thumbnail=")).call(o,d)).call(i,c.mode||"x")).call(r,h,"&quality=")).call(n,c.quality,"&type=")).call(e,c.format)},Mn=o({computed:{data:function(){return this.$store.state.main},seoImage:function(){return this.data.img&&this.data.img.length>0?Dn({src:this.data.img[0].src,width:335}):""}}},(function(){var t=this.$createElement,e=this._self._c||t;return this.seoImage?e("img",{staticStyle:{display:"none"},attrs:{src:this.seoImage}}):this._e()}),[],!1,null,null,null).exports,Nn=n(0),Pn=n(114),Fn=Object(Pn.a)().search,Bn=Fn&&Fn.debug;function Un(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0123456789abcdef";Bn&&(t="69a87f72dc9a921c6f07ba2f71845411");var r=t[t.length-1],i=n.split(""),o=Object(Nn.c)(i,e),s=null;return o.map((function(t,e){-1!==t.indexOf(r)&&(s=e)})),{ranges:o,idx:s}}var $n=null;function jn(){return(jn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Gn=[],Hn=!1;Hn=/3g\.163\.com/.test(window.location.host),window.addEventListener("NTMReady",(function(){if(Gn.length)for(;Gn.length;){var t=Gn.shift();Vn(t.target,t.info)}}));var Kn={pageType:"",info:{}};function Vn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"click";if(t)if(window.NTESAntAnalysis){var r=Nn.A.spsc||"sps_article",i=Nn.q&&"qq";i=Nn.y&&"yixin",i=Nn.w&&"weibo",i=Nn.x&&"weixin";var o=Nn.k?"android@".concat(i,"@").concat(r):"ios@".concat(i,"@").concat(r);window.NTESAntAnalysis&&window.NTESAntAnalysis.sendData({projectid:Hn?"NTM-5AE0KFYY-2":"NTM-CQNTS2VV-3",val_nm:n,val_act:"".concat(Kn.pageType,"@").concat(t),info:jn({},Kn.info,{from:o},e)})}else Gn.push({target:t,info:e})}var qn=function(t){window.NTESAntAnalysis?t():window.addEventListener("NTMReady",(function(){t()}))};function zn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(t){a=!0,i=t}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Wn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wn(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yn(){if(Nn.x){Object(Nn.j)("//res.wx.qq.com/open/js/jweixin-1.6.0.js",(function(t){var e;t&&(e=window.location.href.split("#")[0],h({apiName:"weixinJssdk"})({url:"https://taidu.3g.163.com/news-support/weixin/jssdk/netease_media_tech_signature?url=".concat(encodeURIComponent(e)),method:"POST"}).then((function(t){var e,n,r,i,o,s,a=t.data;a&&200===a.code?(e=a.data,n=e.appId,r=void 0===n?"wxdffabcd3c14a65e1":n,i=e.timestamp,o=e.nonceStr,s=e.signature,wx.config({debug:!1,appId:r,timestamp:i,nonceStr:o,signature:s,jsApiList:["previewImage"],openTagList:["wx-open-launch-app"]}),wx.ready((function(){Vn("wx@open@tag@config@ready")})),wx.error((function(){Vn("wx@open@tag@config@error")})),document.addEventListener("WeixinOpenTagsError",(function(t){Vn("wx@open@tag@config@document@error")})),Vn("wx@open@tag@jssdk@success")):Vn("wx@open@tag@jssdk@error")})))}))}}var Xn=n(383),Qn=n.n(Xn),Jn=0,Zn={props:{wxTagAntData:{type:Object,default:function(){return{}}}},data:function(){return{supported:!1,path:"",tagId:"launch-app"}},methods:{launchEvent:function(t){Vn("wx@open@tag@launch@success")},errorEvent:function(t){if(t&&t.detail){Vn("wx@open@tag@launch@".concat(t.detail.errMsg,"@error"));var e=this.wxTagAntData.channel;window.openNewsapp&&window.openNewsapp.open({param:this.path,channel:e})}},copy:function(){var t=this.wxTagAntData,e=t.stat,n=t.mod,r=t.channel;if(e&&Vn(e,{spsmod:n}),window.openNewsapp&&window.openNewsapp.copyClipboardContent){var i=Date.now()+6e5,o="网易 `{{newsapp://".concat(this.path,"}}` !{{").concat(i,"}}! ${{").concat(r,"}}$ ");window.openNewsapp.copyClipboardContent(o)}}},mounted:function(){var t,e,n=this;(function(){if(Nn.B&&Nn.b>4){var t=zn(Nn.B.split("."),3),e=t[0],n=t[1],r=void 0===n?0:n,i=t[2];if(e>=7&&r>=0&&(void 0===i?0:i)>=12)return!0}return!1})()&&(Jn++,this.tagId+=Jn,t=2,e=function(t){if(0===t.idx||1===t.idx){n.supported=!0;var e=Nn.A.spsnuid,r=void 0===e?"":e,i=Nn.A.spsdevid,o=void 0===i?"":i,s=Nn.A.spsvid,a=void 0===s?"":s,c=Nn.A.spsshare,l=void 0===c?"":c,u=Nn.A.spsts,d=void 0===u?"":u,h=Nn.A.spstoken,f=void 0===h?"":h,p=n.wxTagAntData,g=p.mod,m=p.param,v=p.channel,y=void 0===v?"news_sps_aother":v;n.path="".concat(m||"doc/"+n.$route.params.id,"?spsopen=wx_open_tag&s=").concat(y,"&spsp=wx&spss=other&spsid=").concat(Qn.a.projectId,"&spsuuid=").concat(window.NTESAntAnalysis.info.uid,"&spsrf=&spsmod=").concat(g,"&title=").concat(encodeURIComponent(document.title),"&timestamp=&spsnuid=").concat(r,"&spsdevid=").concat(o,"&spsvid=").concat(a,"&spsshare=").concat(l,"&spsts=").concat(d,"&spstoken=").concat(f),Vn("wx@open@tag@show")}},$n?e($n):window.NTESAntAnalysis?($n=Un(window.NTESAntAnalysis.info.uid,t),e($n)):window.addEventListener("NTMReady",(function(){$n=Un(window.NTESAntAnalysis.info.uid,t),e($n)})))}},tr=(n(741),o(Zn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.supported?n("wx-open-launch-app",{staticClass:"launch-btn",attrs:{id:t.tagId,appid:"wx7be3c1bb46c68c63",extinfo:t.path},on:{error:t.errorEvent,launch:t.launchEvent,click:t.copy}},[n("script",{attrs:{type:"text/wxtag-template"}},[t._v('\n    <style>.btn {height: 1000px; width: 100%;}</style>\n      <div class="btn"></div>\n  ')])]):t._e()}),[],!1,null,"99b32c8e",null).exports),er={props:["path"],computed:{isShowed:function(){return!this.$store.state.main.hideBackflowBtn}},components:{WxOpenLaunchApp:tr}},nr=(n(742),o(er,(function(){var t=this.$createElement,e=this._self._c||t;return this.isShowed?e("div",{staticClass:"js-top-container logoTop",attrs:{"data-exposure":"logoTop"}},[e("div",{staticClass:"s-top js-open-newsapp",attrs:{"data-param":this.path,"data-stat":"top","data-mod":"articleLogoTop","data-channel":"news_sps_atop"}},[e("div",{staticClass:"s-img"}),e("div",{staticClass:"s-btn"},[this._v("打开")])]),e("WxOpenLaunchApp",{attrs:{wxTagAntData:{mod:"articleLogoTop",stat:"open@top",channel:"news_sps_atop"}}})],1):this._e()}),[],!1,null,"22a7a85a",null).exports),rr=new r.a;function ir(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,i)}var or={data:function(){return{content:"",docId:"",isShowed:!1,showSmallLogo:!1,imgsrc:""}},components:{WxOpenLaunchApp:tr},computed:{wxTagInfo:function(){return{mod:"push",stat:"open@push",channel:"news_sps_apush",param:"doc/"+this.docId}}},mounted:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=localStorage&&localStorage.getItem("backflow:article:push"),r=(new Date).toISOString().split("T")[0],n!==r){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,A();case 6:if(i=t.sent,e.content=i.title,e.docId=i.docid,e.content){t.next=11;break}return t.abrupt("return");case 11:i.imgsrc?(e.imgsrc=Dn({src:i.imgsrc,width:90}),e.showSmallLogo=!0):e.imgsrc="https://static.ws.126.net/163/frontend/images/logo-netease.png",rr.$on("showPush",(function(){e.isShowed=!0,localStorage.setItem("backflow:article:push",r),Vn("exposure@push")}));case 13:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){ir(o,r,i,s,a,"next",t)}function a(t){ir(o,r,i,s,a,"throw",t)}s(void 0)}))})()}},sr=(n(743),o(or,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isShowed?n("section",{staticClass:"push"},[n("div",{staticClass:"push-inner"},[n("div",{staticClass:"push-content"},[n("div",{staticClass:"js-open-newsapp s-icon",style:{background:"url("+t.imgsrc+") no-repeat top / cover"},attrs:{"data-stat":"push","data-mod":"push","data-channel":"news_sps_apush","data-param":t.docId}},[t.showSmallLogo?n("div",{staticClass:"s-logo"}):t._e(),n("WxOpenLaunchApp",{attrs:{wxTagAntData:t.wxTagInfo}})],1),n("div",{staticClass:"s-content"},[n("div",{staticClass:"js-open-newsapp s-title",attrs:{"data-stat":"push","data-mod":"push","data-channel":"news_sps_apush","data-param":t.docId}},[t._v("\n          "+t._s(t.content)+"\n          "),n("WxOpenLaunchApp",{attrs:{wxTagAntData:t.wxTagInfo}})],1),n("div",{staticClass:"wx-more"},[t._m(0),n("WxOpenLaunchApp",{attrs:{wxTagAntData:{mod:"push",stat:"open@push",channel:"news_sps_apush",param:"web/https://wp.m.163.com/163/html/newsapp/hot-content/index.html?version=hotFirstTab&__wv_ns=l&__sf=d"}}})],1)])])])]):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"js-open-newsapp more-box",attrs:{"data-stat":"push","data-mod":"push","data-channel":"news_sps_apush","data-param":"https://wp.m.163.com/163/html/newsapp/hot-content/index.html?version=hotFirstTab&__wv_ns=l&__sf=d"}},[e("span",{staticClass:"s-more"},[this._v(" 速看最新快讯 ")])])}],!1,null,"484b817a",null).exports),ar={computed:{data:function(){return this.$store.state.main},text:function(){return this.data.rumorInfo&&this.data.rumorInfo.text}}},cr=(n(744),o(ar,(function(){var t=this.$createElement,e=this._self._c||t;return this.text?e("div",{staticClass:"rumor"},[e("p",{staticClass:"icon"}),e("p",[this._v(this._s(this.text))])]):this._e()}),[],!1,null,"5ff99944",null).exports),lr={name:"businessBanner",computed:{data:function(){return this.$store.state.main},imgUrl:function(){return{background:url(this.data.themeInfo.banner.imgUrl)}},param:function(){var t=this.data.themeInfo.banner.linkUrl;return t?t.replace(/^newsapp:\/\//,""):this.data.docid}}},ur=(n(745),o(lr,(function(){var t=this.$createElement,e=this._self._c||t;return this.data.themeInfo&&this.data.themeInfo.banner?e("div",{staticClass:"business",attrs:{"data-param":this.param}},[e("div",{staticClass:"s-content",style:{background:"url("+this.data.themeInfo.banner.imgUrl+") no-repeat top / cover"}}),this.data.themeInfo.banner.linkUrl?e("div",{staticClass:"s-arrows"}):this._e()]):this._e()}),[],!1,null,"093eb4a6",null).exports),dr={name:"breadcrumb",computed:{data:function(){return this.$store.state.main},url:function(){return"//c.m.163.com/news/sub/".concat(this.data.sourceinfo.tid,".html")}}},hr=(n(746),o(dr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"breadcrumb"},[t._m(0),t.data.sourceinfo?n("li",[n("a",{attrs:{href:t.url}},[t._v(t._s(t.data.sourceinfo.tname||t.data.source))])]):t._e()])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{attrs:{href:"//c.m.163.com"}},[this._v("首页")])])}],!1,null,"1703a235",null).exports),fr={name:"subtitle",components:{WxOpenLaunchApp:tr},computed:{data:function(){return this.$store.state.main},avatarUrl:function(){return Dn({src:this.data.sourceinfo.topic_icons,width:31})},isTelegram:function(){return"telegram"===this.data.articleType},isShowed:function(){return 1!==this.$store.state.main.hideBackflowBtn},isSubscribe:function(){return!(!this.data.sourceinfo||!this.data.sourceinfo.tid)},ptime:function(){return this.data.ptime&&this.data.ptime.slice(0,-3)||""}}},pr=(n(747),o(fr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[t.isTelegram?t._e():n("h1",{staticClass:"header-top"},[t._v(t._s(t.data.title))]),n("div",{staticClass:"header-bottom",attrs:{"data-exposure":"subtitle"}},[t.isTelegram?n("div",{staticClass:"header-subtitle"},[n("div",{staticClass:"header-subtitle-middle"},[n("p",[n("span",{staticClass:"telegram-time"},[t._v(t._s(t.ptime))])])])]):t.isShowed&&t.isSubscribe?n("div",{staticClass:"header-subtitle js-open-newsapp",attrs:{"data-param":"reader/"+t.data.sourceinfo.tid,"data-stat":"subtitle","data-mod":"articleSubtitle","data-channel":"news_sps_afollow"}},[n("img",{staticClass:"s-avatar",attrs:{src:t.avatarUrl}}),n("div",{staticClass:"header-subtitle-middle"},[n("p",{staticClass:"s-source"},[t._v(t._s(t.data.sourceinfo&&t.data.sourceinfo.tname||t.data.source||""))]),n("p",[n("span",{staticClass:"s-ptime"},[t._v(t._s(t.ptime))]),t.data.ipLocation?n("span",{staticClass:"s-location"},[t._v(t._s(t.data.ipLocation))]):t._e()])]),t._m(0)]):n("div",{staticClass:"header-subtitle"},[n("div",{staticClass:"header-subtitle-middle"},[n("p",{staticClass:"s-source"},[t._v(t._s(t.data.sourceinfo&&t.data.sourceinfo.tname||t.data.source||""))]),n("p",[n("span",{staticClass:"s-ptime"},[t._v(t._s(t.ptime))]),t.data.ipLocation?n("span",{staticClass:"s-location"},[t._v(t._s(t.data.ipLocation))]):t._e()])])]),t.isShowed&&t.isSubscribe?n("WxOpenLaunchApp",{attrs:{wxTagAntData:{mod:"articleSubtitle",stat:"open@subtitle",param:"reader/"+t.data.sourceinfo.tid,channel:"news_sps_afollow"}}}):t._e()],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header-subtitle-right"},[e("span",{staticClass:"s-follow"}),e("span",{staticClass:"s-like"},[this._v("关注")])])}],!1,null,null,null).exports),gr={name:"originalTitle",computed:{originalTitle:function(){return this.$store.state.originalTitle}}},mr=(n(748),o(gr,(function(){var t=this.$createElement,e=this._self._c||t;return this.originalTitle?e("div",{staticClass:"originalTitle"},[this._v(this._s(this.originalTitle))]):this._e()}),[],!1,null,"4162fcfe",null).exports),vr={name:"corePrompt",computed:{data:function(){return this.$store.state.main},className:function(){return"s-color".concat(this.data.corePrompt.serialStyle," s-number")}}},yr=(n(749),o(vr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.data.corePrompt?n("div",{staticClass:"corePrompt"},[n("header",[t._v(t._s(t.data.corePrompt.moduleName))]),t.data.corePrompt.prompts?t._l(t.data.corePrompt.prompts,(function(e,r){return n("div",{key:r,staticClass:"corePrompt-item"},[n("div",{class:t.className},[t._v(t._s(e.serial))]),n("div",[t._v(t._s(e.content))])])})):t._e()],2):t._e()}),[],!1,null,"53884f25",null).exports),br={name:"hotSearchWords",components:{WxOpenLaunchApp:tr},computed:{data:function(){return this.$store.state.main},hotSearchWords:function(){return this.$store.state.hotSearchWords},needTop:function(){var t=(this.hotSearchWords[0]||{}).type;return!!(void 0===t?0:t)}},methods:{getRankClass:function(t){var e=t.rank;return this.needTop?1===e?"top0":e>4?"":"top3":e>3?"":"top3"},getRankNum:function(t){var e=t.rank;return this.needTop?1===e?"":e-1:e},getUrl:function(t){var e=t.skipUrl,n=t.word;return e||"https://c.m.163.com/news/search?spsc=sps&spss=sps_sem&redirect=1&keyword=".concat(encodeURIComponent(n))},skip:function(){}}},wr=(n(750),o(br,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return!t.data.hideAd&&t.hotSearchWords.length?n("section",{staticClass:"hotRank"},[n("header",{staticClass:"hotRank-header"},[t._m(0),n("WxOpenLaunchApp",{attrs:{wxTagAntData:{mod:"articleHotSearchBtn",stat:"open@hotSearch-btn",channel:"news_sps_asearch",param:"web/https://wp.m.163.com/163/html/newsapp/hot-content/index.html?version=searchFirstTab&__wv_ns=l&__sf=d"}}})],1),n("div",{staticClass:"hotRank-body"},t._l(t.hotSearchWords,(function(e){return n("a",{key:e.exp,staticClass:"hotRank-body-item js-click-news",attrs:{href:t.getUrl(e),"data-param":"nc/search?word="+encodeURIComponent(e.word),"data-redirect":t.getUrl(e),"data-stat":"hotSearch-item","data-mod":"articleHotSearchItem_"+e.rank,"data-exposure":"hotSearch-item","data-info":JSON.stringify({position:e.rank})},on:{click:t.skip}},[n("span",{staticClass:"s-rank",class:t.getRankClass(e)},[t._v(t._s(t.getRankNum(e)))]),n("span",{staticClass:"s-word"},[t._v(t._s(e.word))]),e.hotDegree?n("span",{staticClass:"s-degree"},[t._v(t._s(e.hotDegree))]):t._e(),e.hotDegree?n("i",{staticClass:"sprite s-trend",class:1===e.trend?"up":"down"}):t._e()])})),0)]):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hotRank-header-info js-open-newsapp",attrs:{"data-param":"https://wp.m.163.com/163/html/newsapp/hot-content/index.html?version=searchFirstTab&__wv_ns=l&__sf=d","data-stat":"hotSearch-btn","data-mod":"articleHotSearchBtn","data-exposure":"hotSearch-btn","data-channel":"news_sps_asearch"}},[e("span",{staticClass:"s-head"},[this._v("网易热搜")]),e("span",{staticClass:"s-dec"},[this._v("每30分钟更新")]),e("div",{staticClass:"s-more"},[this._v("打开应用 查看全部"),e("i",{staticClass:"sprite"})])])}],!1,null,"9a3c933c",null).exports),_r=o({name:"seoSearchWords",computed:{seoSearchWords:function(){return this.$store.state.seoSearchWords&&this.$store.state.seoSearchWords.keywordsList}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.seoSearchWords&&t.seoSearchWords.length?n("div",{staticClass:"seoSearchWords"},t._l(t.seoSearchWords,(function(e){return n("h2",{key:e,staticStyle:{height:"1px",overflow:"hidden",color:"transparent"}},[t._v("\n    "+t._s(e)+"\n  ")])})),0):t._e()}),[],!1,null,null,null).exports,Er={name:"dkeys",computed:{dkeys:function(){var t=this,e=this.$store.state.main.dkeys;return e&&""!==e?e.split(",").map((function(e){return{title:e,link:"https://news.163.com".concat(t.getKeywordUrl(e))}})):[]}},methods:{encodeUnicode:function(t){for(var e=[],n=0;n<t.length;n++)e[n]="00".concat(t.charCodeAt(n).toString(16)).slice(-4);return"\\u".concat(e.join("\\u"))},getKeywordUrl:function(t){var e=this.encodeUnicode(t);return e=e.replace(/\\u/g,""),"/keywords/".concat(e.charAt(0),"/").concat(e.charAt(2),"/").concat(e,"/1.html")}}},Sr=(n(751),o(Er,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dkeys"},t._l(t.dkeys,(function(e){return n("a",{key:e.title,attrs:{href:e.link}},[t._v(t._s(e.title))])})),0)}),[],!1,null,"2c8244d8",null).exports),Ar={name:"foot",data:function(){return{statementEn:""}},computed:{main:function(){return this.$store.state.main}},beforeCreate:function(){try{this.$store.commit("setStatementEn",this.$ssrContext.statementEn)}catch(t){}},mounted:function(){this.statementEn=this.$store.state.statementEn}},Tr=(n(752),o(Ar,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"foot"},[t.main.creativeStatement?n("div",{staticClass:"s-tip"},[t._v("声明："+t._s(t.main.creativeStatement))]):t._e(),t.main.statement?n("div",{staticClass:"s-statement"},[t._v(t._s(t.main.statement))]):t._e(),t.statementEn?n("div",{staticClass:"s-statementen"},[t._v(t._s(t.statementEn))]):t._e(),t.main.ec?n("div",{staticClass:"s-editor clearfix"},[t._v("责任编辑："+t._s(t.main.ec))]):t._e()])}),[],!1,null,"01792669",null).exports),xr=function(t){window.NTESAntAnalysis?t():window.addEventListener("NTMReady",(function(){t()}))};function kr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Cr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kr(Object(n),!0).forEach((function(e){Rr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Rr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Lr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e=new wn(window.location.href),n=e.search(!0);e.search(Cr(Cr({},n),{},{from:"backflowShare"}));var r=e.href(),i=document.title||document.getElementsByTagName("title")[0].innerText||"网易新闻",o="".concat(i," ").concat(r);navigator.share?navigator.share({title:i,text:o,url:r}).then((function(){Vn("click@@systemShare@success")})).catch((function(t){Vn("click@@systemShare@cancle")})):t()},Ir={methods:{eventShare:function(){Vn("click@articleBottomShare"),Nn.x?rr.$emit("showShareGuide",1):Lr((function(){window.openNewsapp&&window.openNewsapp.copyClipboardContent(window.location.href),rr.$emit("showShareGuide",2)}))}}},Or=(n(753),{data:function(){return{liked:!1,vote:0,move:"",isShowEditor:!1}},computed:{main:function(){return this.$store.state.main},tieSetting:function(){return this.$store.state.tieSetting},threadWeightVote:function(){var t=this.formatVote(this.tieSetting.data.threadWeightVote);return this.vote=t,t},subscribeUrl:function(){return this.main.sourceinfo?"reader/".concat(this.main.sourceinfo.tid):""},editorIcon:function(){var t=this.main.sourceinfo&&this.main.sourceinfo.topic_icons;return t?Dn({src:t,width:60}):""},editorName:function(){var t=this.main.sourceinfo&&this.main.sourceinfo.tname||this.main.source||"";return t.length>6?"".concat(t.slice(0,6),"..."):t}},watch:{threadWeightVote:function(){},liked:function(t){if(t){var e=this.tieSetting.data.threadWeightVote;this.vote=this.formatVote(e+1)}}},components:{BaseShare:o(Ir,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"share",attrs:{"data-exposure":"weixin@share"}},[e("div",{staticClass:"action-share",on:{click:this.eventShare}},[this._m(0),e("div",{staticClass:"s-text"},[this._v("分享")])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"action-share-icon"},[e("i",{staticClass:"icon"})])}],!1,null,"68fd766e",null).exports},methods:{eventShowEditor:function(){this.liked&&this.editorIcon&&(this.isShowEditor=!0)},eventShowThanks:function(){var t=(new Date).getTime(),e=0;lottie?lottie.loadAnimation({container:this.$refs.thanks,renderer:"svg",loop:!1,autoplay:!0,path:"https://static.ws.126.net/163/frontend/backflow-ssr/ThankLike.json"}):window.addEventListener("NETEASELottieReady",(function(){e=(new Date).getTime(),lottie.loadAnimation({container:this.$refs.thanks,renderer:"svg",loop:!1,autoplay:!0,path:"https://static.ws.126.net/163/frontend/backflow-ssr/ThankLike.json"}),Vn("@lottie@not@Ready",{ptime:e-t})}))},eventLike:function(){this.liked||(this.liked=!0,E(this.main.docid))},formatVote:function(t){return t<1e4?t:"".concat(Math.floor(t/1e3)/10,"万")}},mounted:function(){var t=this;xr((function(){window.NTESAntAnalysis.observer.once(t.$el,(function(){Object(Nn.j)("https://static.ws.126.net/163/frontend/backflow-ssr/netLottieReady.js")}))}))}}),Dr=(n(754),o(Or,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wapper"},[n("div",{staticClass:"box",style:t.move},[n("base-share"),n("div",{staticClass:"action-like",class:t.liked?" js-liked":"",on:{click:t.eventLike}},[n("div",{ref:"like",staticClass:"action-like-icon"},[n("i",{staticClass:"sprite s-grey"}),n("i",{staticClass:"sprite s-red",on:{animationend:t.eventShowEditor,webkitAnimationEnd:t.eventShowEditor}})]),n("div",{staticClass:"s-text"},[t._v(t._s(t.vote?t.vote+"赞":"帮TA点赞"))])])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowEditor,expression:"isShowEditor"}],staticClass:"action-editor"},[n("div",{ref:"thanks",staticClass:"action-editor-thanks"}),n("div",{staticClass:"action-editor-avator js-open-newsapp",attrs:{"data-param":t.subscribeUrl},on:{animationend:t.eventShowThanks,webkitAnimationEnd:t.eventShowThanks}},[n("div",{staticClass:"action-editor-icon",style:"background: url("+t.editorIcon+") no-repeat content-box; background-size: cover;"},[n("span",[t._v("作者")])]),n("div",{staticClass:"s-text"},[t._v(t._s(t.editorName))])])])])}),[],!1,null,"487b618b",null).exports),Mr={data:function(){return{lighted:!1,candle:""}},computed:{main:function(){return this.$store.state.main}},methods:{eventLight:function(){this.lighted||(this.lighted=!0,this.candle+=1)}},created:function(){this.main.threadVote&&(this.candle=this.main.threadVote<1e4?this.main.threadVote:"".concat((this.main.threadVote/1e4).toFixed(2),"万"))}},Nr=(n(755),{data:function(){return{}},components:{BaseLike:Dr,BaseCandle:o(Mr,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"action-candle",class:this.lighted?"js-lighted":"",on:{click:this.eventLight}},[this._m(0),e("div",{staticClass:"s-text"},[this._v(this._s(this.candle?this.candle+"盏":"帮TA点蜡烛"))])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"action-candle-icon"},[e("i",{staticClass:"sprite s-grey"}),e("i",{staticClass:"sprite s-selected"})])}],!1,null,"3f8bee54",null).exports},computed:{main:function(){return this.$store.state.main},tieSetting:function(){return this.$store.state.tieSetting},showModule:function(){return this.tieSetting.showModule},showCandle:function(){return this.tieSetting.showCandle}}}),Pr=(n(756),o(Nr,(function(){var t=this.$createElement,e=this._self._c||t;return this.showModule?e("div",{staticClass:"action"},[this.showCandle?e("base-candle"):e("base-like")],1):this._e()}),[],!1,null,"33656961",null).exports),Fr={name:"longTail",computed:{longTail:function(){return this.$store.state.longTail}}},Br=(n(757),o(Fr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"longTail"},t._l(t.longTail,(function(e,r){return n("li",{key:r},[n("a",{attrs:{href:"https://c.m.163.com/news/search?spsc=sps&spss=sps_sem&redirect=1&keyword"+encodeURIComponent(e)}},[t._v("\n      "+t._s(e)+"\n    ")])])})),0)}),[],!1,null,null,null).exports),Ur={name:"BackgroundImage",props:{backImage:{type:Object,default:function(){return{}}}},data:function(){return{style:{}}},methods:{loadImg:function(){var t=this;this.backImage&&this.backImage.src&&window.NTESAntAnalysis.observer.once(this.$el,(function(){var e=t.backImage,n=e.imgSize,r=void 0===n?108:n,i=e.isAudio,o=void 0!==i&&i,s=e.src,a=Dn({src:s,width:r});o&&(a="".concat(s,"?param=140y140")),t.style={background:"url(".concat(a,") no-repeat top center"),backgroundSize:"cover"}}))}},mounted:function(){var t=this;xr((function(){t.loadImg()}))}},$r=(n(758),{name:"pictures",props:["config"],data:function(){return{src:""}},components:{BackgroundImage:o(Ur,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"background-bg",style:this.style},[this._t("default")],2)}),[],!1,null,null,null).exports}}),jr=(n(759),o($r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"js-img u-img-placeholder",class:t.config.class||"img"},[n("BackgroundImage",{staticClass:"s-big-image",attrs:{backImage:t.config}}),t.config.showIcon?n("i",{staticClass:"sprite play-icon"}):t._e(),t.config.isAudio?n("div",{staticClass:"audio-icon"},[n("i"),t._v(t._s(t.config.duration))]):t._e()],1)}),[],!1,null,"2e2f2df9",null).exports),Gr={name:"tips",props:["item"],components:{WxOpenLaunchApp:tr},computed:{count:function(){var t=this.item.replyCount,e=t>1e4?"".concat(Math.round(t/9999*Math.pow(10,1))/Math.pow(10,1),"万"):t,n="跟贴";return e?(this.item.isAudio&&(n="次播放"),"".concat(e).concat(n)):""}}},Hr=(n(760),o(Gr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tip"},[n("div",{staticClass:"s-source"},[t._v(t._s(t.item.source||""))]),n("div",{staticClass:"tip-info"},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.count,expression:"count"}],staticClass:"s-count"},[t._v(t._s(t.count))]),t.item.addApp?n("span",{staticClass:"s-button js-open-newsapp",attrs:{"data-stat":"tipAppButton","data-param":t.item.docId,"data-mod":"articleRelativeAppButton"}},[t._v("\n      APP专享\n      "),n("WxOpenLaunchApp",{attrs:{wxTagAntData:{mod:"articleRelativeAppButton",stat:"open@tipAppButton",param:"doc/"+t.item.docId}}})],1):t._e(),t.item.isAudio?n("span",{staticClass:"s-audio js-open-newsapp",attrs:{"data-stat":"tipMusicAudioButton","data-param":t.item.extraLinkUrl,"data-mod":"articleRelativeMusicAudioButton"}},[t._v("\n      云音乐特供\n    ")]):t._e()])])}),[],!1,null,"2fb22dcc",null).exports),Kr={name:"bigImg",props:["item"],components:{Pictures:jr,Tips:Hr},computed:{href:function(){return"//c.m.163.com/news/v/".concat(this.item.docId,".html")},picConfig:function(){return{showIcon:!0,src:this.item.bigPicUrl,class:"cover",imgSize:335}}}},Vr=(n(761),o(Kr,(function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"big-img js-item",attrs:{href:this.href}},[e("h4",{staticClass:"ellipsis-2r"},[this._v(this._s(this.item.title))]),e("pictures",{attrs:{config:this.picConfig}}),e("tips",{attrs:{item:this.item}})],1)}),[],!1,null,null,null).exports),qr={props:["item"],components:{Tips:Hr,Pictures:jr},computed:{href:function(){return"//c.m.163.com/news/".concat("video"===this.item.type?"v":"a","/").concat(this.item.docId,".html")},picConfig:function(){return{showIcon:"video"===this.item.type,src:this.item.imgsrc,class:"img",imgSize:108}}},methods:{eventOpenApp:function(t){var e=t.target;Object(Nn.d)(e,".js-open-newsapp")&&t.preventDefault()}}},zr=(n(762),o(qr,(function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"single-img",attrs:{href:this.href},on:{click:this.eventOpenApp}},[e("main",[e("h4",{staticClass:"ellipsis-2r"},[this._v(this._s(this.item.title))]),e("tips",{attrs:{item:this.item}})],1),e("pictures",{attrs:{config:this.picConfig}})],1)}),[],!1,null,"126db628",null).exports),Wr={props:["item","round"],components:{Tips:Hr,Pictures:jr},computed:{href:function(){return"//c.m.163.com/news/a/".concat(this.item.docId,".html")},imgs:function(){return JSON.parse(this.item.picsUrl)}}},Yr=(n(763),o(Wr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"three-img js-item",attrs:{href:t.href}},[n("h4",[t._v(t._s(t.item.title))]),n("div",{staticClass:"img-wrap"},t._l(t.imgs.slice(0,3),(function(e,r){return n("pictures",{key:r,attrs:{config:{src:t.imgs[r].url,imgSize:108}}})})),1),n("tips",{attrs:{item:t.item}})],1)}),[],!1,null,null,null).exports),Xr={props:["item"],components:{Tips:Hr,Pictures:jr},computed:{href:function(){return this.item.extraLinkUrl},tipsConfig:function(){return{source:this.item.source,replyCount:this.item.playCount,extraLinkUrl:this.item.extraLinkUrl,isAudio:!0}},picConfig:function(){return{src:this.item.imgsrc,duration:Object(Nn.g)(this.item.audioTime,!0),isAudio:!0}}},methods:{eventOpenApp:function(t){var e=t.target;Object(Nn.d)(e,".js-open-newsapp")&&t.preventDefault()}}};n(764);var Qr={name:"newsItem",props:["item","idx"],components:{MusicAudio:o(Xr,(function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"music-audio",attrs:{href:this.href},on:{click:this.eventOpenApp}},[e("main",[e("h4",{staticClass:"ellipsis-2r"},[this._v(this._s(this.item.title))]),e("tips",{attrs:{item:this.tipsConfig}})],1),e("pictures",{attrs:{config:this.picConfig}})],1)}),[],!1,null,"236defd2",null).exports,BigImg:Vr,SingleImg:zr,ThreeImg:Yr},computed:{options:function(){var t="",e=this.item.docId;"musicAudio"===this.item.type&&(t="open@musicAudio",e=""),t="video"===this.item.type&&"bigPic"===this.item.showStyle?"open@video":"".concat(this.idx<3+this.videoNum?"open":"redirect","@").concat(this.item.type);var n,r,i,o=!(this.idx<3+this.videoNum);return n={"data-param":e,"data-info":JSON.stringify({recallby:this.item.recallBy,showstyle:this.item.showStyle,type:this.item.type,position:this.idx+1,mod:"articleRelative"}),"data-args":"title=".concat(encodeURIComponent(this.item.title||"")),"data-stat":this.item.type,"data-mod":"articleRelative_".concat(this.idx+1),"data-exposure":t},r="data-".concat(o?"redirect":"url"),i=this.redirectUrl,r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n},videoNum:function(){return this.$store.state.videoNum},redirectUrl:function(){return"//c.m.163.com/news/".concat("video"===this.item.type?"v":"a","/").concat(this.item.docId,".html")}},methods:{sendData:function(t){var e=t.currentTarget.dataset,n=e.stat,r=e.info,i={};if(r)try{i=JSON.parse(r)}catch(t){throw t}Vn("open@"+n,i)}},mounted:function(){"video"===this.item.type&&"bigPic"===this.item.showStyle&&this.$store.commit("setVideoNum")}},Jr=(n(765),o(Qr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",t._b({on:{click:t.sendData}},"li",t.options,!1),["video"===t.item.type?["bigPic"===t.item.showStyle?n("big-img",{attrs:{item:t.item}}):n("single-img",{attrs:{item:t.item}})]:t._e(),"doc"===t.item.type?["onePic"===t.item.showStyle||"bigPic"===t.item.showStyle?n("single-img",{attrs:{item:t.item}}):n("three-img",{attrs:{item:t.item}})]:t._e(),"musicAudio"===t.item.type?n("music-audio",{attrs:{item:t.item}}):t._e(),n("div",{staticClass:"line"})],2)}),[],!1,null,"38fd3f69",null).exports),Zr=n(15),ti=n.n(Zr),ei={name:"ad",props:["data"],data:function(){return{ad:{},showLine:!1}},methods:{adEvent:function(t){var e={val_nm:"article_backflow_relateNews",info:{category:"SPS",location:21,position:1}};ti.a.track.adExposure(".js-ad",{adData:t,antData:e}),ti.a.track.click(".js-relate-news-box",{adData:t,antData:e}),ti.a.track.adPositionExposure(".js-ad",{antData:e})}},mounted:function(){var t=this;Vn("request@@advertize@relateNew"),ti.a.fetch({column:"SPS",app:"7A16FBB6",type:"wap_stream",location:[21],more:"&app_way=1"},void 0,{isParseData:!1}).then((function(e){Vn("response@@advertize@relateNew"),t.ad=e[0];var n=ti.a.parseADData(t.ad);n&&(t.showLine=!0,ti.a.render(n,".js-ad",{ui:"new"})),t.adEvent(n)}))}},ni=(n(850),{name:"relativeArticle",props:["adConfig"],computed:{data:function(){return this.$store.state.main},relativeArticle:function(){return this.$store.state.relativeArticle||[]},showModule:function(){return!this.data.hideAd&&Array.isArray(this.relativeArticle)&&this.relativeArticle.length>0}},components:{NewsItem:Jr,Ad:o(ei,(function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"ad js-relate-news-box"},[e("div",{staticClass:"js-ad"}),this.showLine?e("div",{staticClass:"ad-line"}):this._e()])}),[],!1,null,"1233de4c",null).exports}}),ri=(n(851),o(ni,(function(){var t=this.$createElement,e=this._self._c||t;return this.showModule?e("section",{staticClass:"g-relative-new"},[e("ul",this._l(this.relativeArticle.slice(0,3),(function(t,n){return e("news-item",{key:n,attrs:{item:t,idx:n}})})),1),e("ad",{attrs:{data:this.data}}),e("ul",{staticClass:"behindAd"},this._l(this.relativeArticle.slice(3),(function(t,n){return e("news-item",{key:n,attrs:{item:t,idx:n+3}})})),1)],1):this._e()}),[],!1,null,null,null).exports);function ii(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,i)}var oi={data:function(){return{msg:{},liveid:"",showLive:!1}},computed:{title:function(){return this.msg.roomName||""},status:function(){var t={0:"直播未开始",1:"直播进行中",2:"直播已结束"}[this.msg.liveStatus];return t||"点击进入"}},methods:{eventSkip:function(){Vn("live@card");var t="//c.m.163.com/news/l/".concat(this.liveid,".html");window.location.href=t},getLiveMsg:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(Nn.j)("//data.live.126.net/liveAll/".concat(e.liveid,".json?callback=initMessages")),window.initMessages=function(t){window.initMessages=null,e.msg=t,e.showLive=!0,e.$nextTick()};case 2:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){ii(o,r,i,s,a,"next",t)}function a(t){ii(o,r,i,s,a,"throw",t)}s(void 0)}))})()}},mounted:function(){this.liveid=this.$root.liveid,this.getLiveMsg()}},si=(n(852),o(oi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.showLive,expression:"showLive"}],staticClass:"liveCard",attrs:{id:"live"},on:{click:t.eventSkip}},[n("div",{staticClass:"liveCard-icon"},[n("div",{staticClass:"s-pic"},[n("img",{attrs:{src:t.msg.imgsrc}})])]),n("div",{staticClass:"liveCard-content"},[n("div",{staticClass:"s-title ellipsis-2r"},[t._v(t._s(t.title))]),n("div",{staticClass:"s-status"},[n("span",[t._v(t._s(t.status))])])])])}),[],!1,null,"3fb5c8d6",null).exports),ai=o({props:["data","item","index","isClickedVoteItem"],data:function(){return{isShowRes:this.data.isEnd||!1,styleWidth:""}},watch:{isClickedVoteItem:function(t){this.isShowRes=t,this.styleWidth=t?"width: ".concat(this.percent):""}},computed:{liClass:function(){var t="".concat(this.item.cur," ").concat(this.item.status," animate rank-").concat(this.index+1);return this.isClickedVoteItem&&(t+=" fade-in").indexOf("cur")>-1&&(t+=" is-select-item"),t},width:function(){return"width: ".concat(this.percent)},label:function(){return this.item.itemName},percent:function(){return"".concat(Math.floor(this.item.count/this.data._total*100),"%")},count:function(){return Object(Nn.e)(this.item.count)}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{class:t.liClass,attrs:{"data-itemId":t.item.itemId,"data-stat":"normal@vote","data-index":t.index+1,"data-idx":t.index}},[t.isShowRes?n("div",{staticClass:"bar-item"},[n("div",{staticClass:"i-ctn"},[n("i",{class:t.item.status+""+t.item.cur,style:t.width,attrs:{"data-width":t.percent}})]),n("div",{staticClass:"item"},[n("div",{staticClass:"label"},[n("em",{class:t.item.status||t.item.cur||""}),n("span",[t._v(t._s(t.label))])]),n("div",{staticClass:"count"},[t._v("\n        "+t._s(t.count)+"人\n        "),n("div",{staticClass:"count-percent"},[t._v(t._s(t.percent))])])])]):n("div",{staticClass:"item init"},[n("div",{staticClass:"label"},[n("span",[t._v(t._s(t.label))])])])])}),[],!1,null,null,null).exports,ci={props:["data"],data:function(){return{userVoteItemName:""}},computed:{userName:function(){return decodeURIComponent(Object(Nn.z)().search.voteUserNick||"")},userVoteItemId:function(){return Object(Nn.z)().search.voteItemId||""},isShowUserVoteMsg:function(){return 0===this.data._type&&this.userName&&this.userVoteItemName&&!Object(Nn.z)().search.isFromH5Share}},watch:{data:function(){this.userVoteItemName=this.getVoteItemName(this.userVoteItemId)}},methods:{getVoteItemName:function(t){var e="";return this.data.items.forEach((function(n){if(n.itemId===t)return e=n.itemName})),e}}},li=(n(853),o(ci,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this.isShowUserVoteMsg?e("p",{staticClass:"user-vote-msg"},[this._v(this._s(this.userName)+"投了【"+this._s(this.userVoteItemName)+"】")]):this._e()])}),[],!1,null,"236bb0fd",null).exports);n(854);function ui(){return(ui=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var di={components:{BaseVoteItem:ai,BaseVoteUser:li},data:function(){return{isVoted:!1,data:{},voteid:"",voteClass:""}},computed:{isNoAnswerVoteItem:function(){return 0===this.data._type},voteBoxStatusCls:function(){var t;return t=this.data.isEnd?" is-end":this.isVoted?" is-voted":"",t},voteBoxType:function(){var t=this.isNoAnswerVoteItem&&(this.data.isEnd||this.isVoted)?" no-answer-vote-box":"";return t},count:function(){return this.data._total?this.data._total<1e4?this.data._total:"".concat((this.data._total/1e4).toFixed(2),"万"):"多"}},methods:{getItemClass:function(t,e){return"".concat(t.cur," ").concat(t.status," animate rank-").concat(e+1)},eventVote:function(t){var e=this,n=Object(Nn.d)(t.target,"li");if(n){var r=(n||{}).dataset||{},i=r.idx,o=r.stat;if(o&&Vn(o),!this.isVoted&&!this.data.isEnd&&this.data.isStart){var s=this.data.items.map((function(t,n){var r=t;return r.status=1===Number(t.isRight)?"right":"",n===Number(i)&&(1===e.data._type&&(r.status=["wrong","right"][Number(t.isRight)]),r.cur="cur",r.count+=1),r}));this.isVoted=!0,this.data._total=this.data._total+1,this.data.items=s,this.handleNoAnswerVoteData()}}},handleNoAnswerVoteData:function(){var t=this.data.items,e=t.map((function(t,e){return{count:t.count,index:e}}));e.sort((function(t,e){return e.count-t.count}));var n=0;e.forEach((function(r,i){0!==i&&(e[i-1].count!==r.count&&n++);t[r.index].index=n}))},getVoteInfo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=h({apiName:"voteInfo"});n({url:"https://gw.m.163.com/vote/showJsonVote.do?voteId=".concat(this.voteid),method:"GET"}).then((function(e){t(e.data)})).catch((function(t){e(t)}))},timestamp:function(t){var e,n=[];if(t){for(var r=0,i=(e=t.split(" ")).length;r<i;r++)/-/.test(e[r])&&(n=n.concat(e[r].split("-"))),/:/.test(e[r])&&(n=n.concat(e[r].split(":")));for(var o=0;o<6;o++)n[o]=1===o?Number(n[o])-1:Number(n[o])||0}return new Date(n[0],n[1],n[2],n[3],n[4],n[5]).getTime()}},mounted:function(){var t=this;this.voteid=this.$root.voteid,this.getVoteInfo((function(e){var n=e,r=(new Date).getTime(),i=null;"0"!==n.type&&"1"!==n.type||!Array.isArray(n.items)||(n._total=n.items.reduce((function(t,e){return("number"==typeof t?t:t.count)+e.count})),n._type=n.items.some((function(t){return"1"===t.isRight}))?1:0,n.isEnd=t.timestamp(n.endTime.replace(/\.\d+$/,""))-r<0,n.isStart=!n.beginTime||t.timestamp(n.beginTime.replace(/\.\d+$/,""))-r<0,i=n.isStart?"进行中":"未开始",n.statusLabel=n.isEnd?"已截止":i,n.items=n.items.map((function(t){return ui(t,{cur:"",status:n.isEnd&&"1"===t.isRight?"right":""})})),t.data=n,t.handleNoAnswerVoteData())}))}},hi=(n(855),o(di,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"widget-vote",class:t.voteBoxStatusCls+t.voteBoxType,on:{click:t.eventVote}},[n("h2",[t._v(t._s(t.data.title))]),n("ul",t._l(t.data.items,(function(e,r){return n("base-vote-item",{key:r,attrs:{data:t.data,item:e,isClickedVoteItem:t.isVoted,index:r}})})),1),n("div",{staticClass:"vote-footer"},[n("p",{staticClass:"tip"},[n("span",[t._v(t._s(t.count)+"人参与")]),n("span",{staticClass:"status"},[t._v("投票"+t._s(t.data.statusLabel))])]),n("base-vote-user",{attrs:{data:t.data}}),(t.isVoted||t.data.isEnd)&&t.data.articleUrl?n("div",{staticClass:"btn js-open-newsapp",attrs:{"data-param":"${schema}","data-stat":"normal@vote@article"}},[t._v("\n      "+t._s(t.data.article)+"\n    ")]):t._e()],1)])}),[],!1,null,"1f458cac",null).exports);function fi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pi={exports:{}};!function(t,e){var n,r,i,o,s;n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,r=/^(?=([^\/?#]*))\1([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,s={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var i=s.parseURL(t);if(!i)throw new Error("Error trying to parse base URL.");return i.path=s.normalizePath(i.path),s.buildURLFromParts(i)}var o=s.parseURL(e);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=s.normalizePath(o.path),s.buildURLFromParts(o)):e;var a=s.parseURL(t);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var c=r.exec(a.path);a.netLoc=c[1],a.path=c[2]}a.netLoc&&!a.path&&(a.path="/");var l={scheme:a.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(l.netLoc=a.netLoc,"/"!==o.path[0]))if(o.path){var u=a.path,d=u.substring(0,u.lastIndexOf("/")+1)+o.path;l.path=s.normalizePath(d)}else l.path=a.path,o.params||(l.params=a.params,o.query||(l.query=a.query));return null===l.path&&(l.path=n.alwaysNormalize?s.normalizePath(o.path):o.path),s.buildURLFromParts(l)},parseURL:function(t){var e=n.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(i,"");t.length!==(t=t.replace(o,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=s}(pi);var gi=pi.exports;function mi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mi(Object(n),!0).forEach((function(e){bi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function yi(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}function bi(t,e,n){return(e=yi(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wi(){return(wi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}const _i=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Ei=Number.isSafeInteger||function(t){return"number"==typeof t&&Math.abs(t)<=Si},Si=Number.MAX_SAFE_INTEGER||9007199254740991;let Ai=function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",t}({}),Ti=function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t}({}),xi=function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.UNKNOWN="unknown",t}({});const ki=function(){},Ci={trace:ki,debug:ki,log:ki,warn:ki,info:ki,error:ki};let Ri=Ci;function Li(t,...e){e.forEach((function(e){Ri[e]=t[e]?t[e].bind(t):function(t){const e=self.console[t];return e?e.bind(self.console,`[${t}] >`):ki}(e)}))}const Ii=Ri,Oi=/^(\d+)x(\d+)$/,Di=/(.+?)=(".*?"|.*?)(?:,|$)/g;class Mi{constructor(t){"string"==typeof t&&(t=Mi.parseAttrList(t)),wi(this,t)}get clientAttrs(){return Object.keys(this).filter(t=>"X-"===t.substring(0,2))}decimalInteger(t){const e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e}hexadecimalInteger(t){if(this[t]){let e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;const n=new Uint8Array(e.length/2);for(let t=0;t<e.length/2;t++)n[t]=parseInt(e.slice(2*t,2*t+2),16);return n}return null}hexadecimalIntegerAsNumber(t){const e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e}decimalFloatingPoint(t){return parseFloat(this[t])}optionalFloat(t,e){const n=this[t];return n?parseFloat(n):e}enumeratedString(t){return this[t]}bool(t){return"YES"===this[t]}decimalResolution(t){const e=Oi.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}}static parseAttrList(t){let e;const n={};for(Di.lastIndex=0;null!==(e=Di.exec(t));){let t=e[2];0===t.indexOf('"')&&t.lastIndexOf('"')===t.length-1&&(t=t.slice(1,-1));n[e[1].trim()]=t}return n}}function Ni(t){return"SCTE35-OUT"===t||"SCTE35-IN"===t}class Pi{constructor(t,e){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,e){const n=e.attr;for(const e in n)if(Object.prototype.hasOwnProperty.call(t,e)&&t[e]!==n[e]){Ii.warn(`DATERANGE tag attribute: "${e}" does not match for tags with ID: "${t.ID}"`),this._badValueForSameId=e;break}t=wi(new Mi({}),n,t)}if(this.attr=t,this._startDate=new Date(t["START-DATE"]),"END-DATE"in this.attr){const t=new Date(this.attr["END-DATE"]);_i(t.getTime())&&(this._endDate=t)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const t=this.duration;return null!==t?new Date(this._startDate.getTime()+1e3*t):null}get duration(){if("DURATION"in this.attr){const t=this.attr.decimalFloatingPoint("DURATION");if(_i(t))return t}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&_i(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class Fi{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var Bi="audio",Ui="video",$i="audiovideo";class ji{constructor(t){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={[Bi]:null,[Ui]:null,[$i]:null},this.baseurl=t}setByteRange(t,e){const n=t.split("@",2);let r;r=1===n.length?(null==e?void 0:e.byteRangeEndOffset)||0:parseInt(n[1]),this._byteRange=[r,parseInt(n[0])+r]}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=gi.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(t){this._url=t}}class Gi extends ji{constructor(t,e){super(e),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new Fi,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=t}get decryptdata(){const{levelkeys:t}=this;if(!t&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const t=this.levelkeys.identity;if(t)this._decryptdata=t.getDecryptData(this.sn);else{const t=Object.keys(this.levelkeys);if(1===t.length)return this._decryptdata=this.levelkeys[t[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(null===this.programDateTime)return null;if(!_i(this.programDateTime))return null;const t=_i(this.duration)?this.duration:0;return this.programDateTime+1e3*t}get encrypted(){var t;if(null!=(t=this._decryptdata)&&t.encrypted)return!0;if(this.levelkeys){const t=Object.keys(this.levelkeys),e=t.length;if(e>1||1===e&&this.levelkeys[t[0]].encrypted)return!0}return!1}setKeyFormat(t){if(this.levelkeys){const e=this.levelkeys[t];e&&!this._decryptdata&&(this._decryptdata=e.getDecryptData(this.sn))}}abortRequests(){var t,e;null==(t=this.loader)||t.abort(),null==(e=this.keyLoader)||e.abort()}setElementaryStreamInfo(t,e,n,r,i,o=!1){const{elementaryStreams:s}=this,a=s[t];a?(a.startPTS=Math.min(a.startPTS,e),a.endPTS=Math.max(a.endPTS,n),a.startDTS=Math.min(a.startDTS,r),a.endDTS=Math.max(a.endDTS,i)):s[t]={startPTS:e,endPTS:n,startDTS:r,endDTS:i,partial:o}}clearElementaryStreamInfo(){const{elementaryStreams:t}=this;t[Bi]=null,t[Ui]=null,t[$i]=null}}class Hi extends ji{constructor(t,e,n,r,i){super(n),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new Fi,this.duration=t.decimalFloatingPoint("DURATION"),this.gap=t.bool("GAP"),this.independent=t.bool("INDEPENDENT"),this.relurl=t.enumeratedString("URI"),this.fragment=e,this.index=r;const o=t.enumeratedString("BYTERANGE");o&&this.setByteRange(o,i),i&&(this.fragOffset=i.fragOffset+i.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:t}=this;return!!(t.audio||t.video||t.audiovideo)}}class Ki{constructor(t){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=t}reloaded(t){if(!t)return this.advanced=!0,void(this.updated=!0);const e=this.lastPartSn-t.lastPartSn,n=this.lastPartIndex-t.lastPartIndex;this.updated=this.endSN!==t.endSN||!!n||!!e||!this.live,this.advanced=this.endSN>t.endSN||e>0||0===e&&n>0,this.updated||this.advanced?this.misses=Math.floor(.6*t.misses):this.misses=t.misses+1,this.availabilityDelay=t.availabilityDelay}get hasProgramDateTime(){return!!this.fragments.length&&_i(this.fragments[this.fragments.length-1].programDateTime)}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||10}get drift(){const t=this.driftEndTime-this.driftStartTime;if(t>0){return 1e3*(this.driftEnd-this.driftStart)/t}return 1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var t;return null!=(t=this.fragments)&&t.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function Vi(t){return Uint8Array.from(atob(t),t=>t.charCodeAt(0))}function qi(t){const e=t.split(":");let n=null;if("data"===e[0]&&2===e.length){const t=e[1].split(";"),r=t[t.length-1].split(",");if(2===r.length){const e="base64"===r[0],i=r[1];e?(t.splice(-1,1),n=Vi(i)):n=function(t){const e=zi(t).subarray(0,16),n=new Uint8Array(16);return n.set(e,16-e.length),n}(i)}}return n}function zi(t){return Uint8Array.from(unescape(encodeURIComponent(t)),t=>t.charCodeAt(0))}const Wi="undefined"!=typeof self?self:void 0;var Yi={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Xi="org.w3.clearkey",Qi="com.apple.streamingkeydelivery",Ji="com.microsoft.playready",Zi="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function to(t){switch(t){case Qi:return Yi.FAIRPLAY;case Ji:return Yi.PLAYREADY;case Zi:return Yi.WIDEVINE;case Xi:return Yi.CLEARKEY}}var eo="edef8ba979d64acea3c827dcd51d21ed";function no(t){switch(t){case Yi.FAIRPLAY:return Qi;case Yi.PLAYREADY:return Ji;case Yi.WIDEVINE:return Zi;case Yi.CLEARKEY:return Xi}}function ro(t){const{drmSystems:e,widevineLicenseUrl:n}=t,r=e?[Yi.FAIRPLAY,Yi.WIDEVINE,Yi.PLAYREADY,Yi.CLEARKEY].filter(t=>!!e[t]):[];return!r[Yi.WIDEVINE]&&n&&r.push(Yi.WIDEVINE),r}const io=null!=Wi&&null!=(oo=Wi.navigator)&&oo.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;var oo;function so(t,e,n){return Uint8Array.prototype.slice?t.slice(e,n):new Uint8Array(Array.prototype.slice.call(t,e,n))}const ao=(t,e)=>e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,co=(t,e)=>e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,lo=(t,e)=>{const n=e;let r=0;for(;ao(t,e);){r+=10;r+=uo(t,e+6),co(t,e+10)&&(r+=10),e+=r}if(r>0)return t.subarray(n,n+r)},uo=(t,e)=>{let n=0;return n=(127&t[e])<<21,n|=(127&t[e+1])<<14,n|=(127&t[e+2])<<7,n|=127&t[e+3],n},ho=(t,e)=>ao(t,e)&&uo(t,e+6)+10<=t.length-e,fo=t=>{const e=mo(t);for(let t=0;t<e.length;t++){const n=e[t];if(po(n))return _o(n)}},po=t=>t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info,go=t=>{const e=String.fromCharCode(t[0],t[1],t[2],t[3]),n=uo(t,4);return{type:e,size:n,data:t.subarray(10,10+n)}},mo=t=>{let e=0;const n=[];for(;ao(t,e);){const r=uo(t,e+6);e+=10;const i=e+r;for(;e+8<i;){const r=go(t.subarray(e)),i=vo(r);i&&n.push(i),e+=r.size+10}co(t,e)&&(e+=10)}return n},vo=t=>"PRIV"===t.type?yo(t):"W"===t.type[0]?wo(t):bo(t),yo=t=>{if(t.size<2)return;const e=Eo(t.data,!0),n=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:n.buffer}},bo=t=>{if(t.size<2)return;if("TXXX"===t.type){let e=1;const n=Eo(t.data.subarray(e),!0);e+=n.length+1;const r=Eo(t.data.subarray(e));return{key:t.type,info:n,data:r}}const e=Eo(t.data.subarray(1));return{key:t.type,data:e}},wo=t=>{if("WXXX"===t.type){if(t.size<2)return;let e=1;const n=Eo(t.data.subarray(e),!0);e+=n.length+1;const r=Eo(t.data.subarray(e));return{key:t.type,info:n,data:r}}const e=Eo(t.data);return{key:t.type,data:e}},_o=t=>{if(8===t.data.byteLength){const e=new Uint8Array(t.data),n=1&e[3];let r=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return r/=45,n&&(r+=47721858.84),Math.round(r)}},Eo=(t,e=!1)=>{const n=Ao();if(n){const r=n.decode(t);if(e){const t=r.indexOf("\0");return-1!==t?r.substring(0,t):r}return r.replace(/\0/g,"")}const r=t.length;let i,o,s,a="",c=0;for(;c<r;){if(i=t[c++],0===i&&e)return a;if(0!==i&&3!==i)switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(i);break;case 12:case 13:o=t[c++],a+=String.fromCharCode((31&i)<<6|63&o);break;case 14:o=t[c++],s=t[c++],a+=String.fromCharCode((15&i)<<12|(63&o)<<6|(63&s)<<0)}}return a};let So;function Ao(){if(!navigator.userAgent.includes("PlayStation 4"))return So||void 0===self.TextDecoder||(So=new self.TextDecoder("utf-8")),So}const To=function(t){let e="";for(let n=0;n<t.length;n++){let r=t[n].toString(16);r.length<2&&(r="0"+r),e+=r}return e},xo=Math.pow(2,32)-1,ko=[].push,Co={video:1,audio:2,id3:3,text:4};function Ro(t){return String.fromCharCode.apply(null,t)}function Lo(t,e){const n=t[e]<<8|t[e+1];return n<0?65536+n:n}function Io(t,e){const n=Do(t,e);return n<0?4294967296+n:n}function Oo(t,e){let n=Io(t,e);return n*=Math.pow(2,32),n+=Io(t,e+4),n}function Do(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function Mo(t,e,n){t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n}function No(t,e){const n=[];if(!e.length)return n;const r=t.byteLength;for(let i=0;i<r;){const o=Io(t,i),s=o>1?i+o:r;if(Ro(t.subarray(i+4,i+8))===e[0])if(1===e.length)n.push(t.subarray(i+8,s));else{const r=No(t.subarray(i+8,s),e.slice(1));r.length&&ko.apply(n,r)}i=s}return n}function Po(t){const e=[],n=t[0];let r=8;const i=Io(t,r);r+=4;let o=0,s=0;0===n?(o=Io(t,r),s=Io(t,r+4),r+=8):(o=Oo(t,r),s=Oo(t,r+8),r+=16),r+=2;let a=t.length+s;const c=Lo(t,r);r+=2;for(let n=0;n<c;n++){let n=r;const o=Io(t,n);n+=4;const s=2147483647&o;if(1===(2147483648&o)>>>31)return Ii.warn("SIDX has hierarchical references (not supported)"),null;const c=Io(t,n);n+=4,e.push({referenceSize:s,subsegmentDuration:c,info:{duration:c/i,start:a,end:a+s-1}}),a+=s,n+=4,r=n}return{earliestPresentationTime:o,timescale:i,version:n,referencesCount:c,references:e}}function Fo(t){const e=[],n=No(t,["moov","trak"]);for(let t=0;t<n.length;t++){const r=n[t],i=No(r,["tkhd"])[0];if(i){let t=i[0];const n=Io(i,0===t?12:20),o=No(r,["mdia","mdhd"])[0];if(o){t=o[0];const i=Io(o,0===t?12:20),s=No(r,["mdia","hdlr"])[0];if(s){const t=Ro(s.subarray(8,12)),o={soun:Bi,vide:Ui}[t];if(o){const t=Bo(No(r,["mdia","minf","stbl","stsd"])[0]);e[n]={timescale:i,type:o},e[o]=vi({timescale:i,id:n},t)}}}}}return No(t,["moov","mvex","trex"]).forEach(t=>{const n=Io(t,4),r=e[n];r&&(r.default={duration:Io(t,12),flags:Io(t,20)})}),e}function Bo(t){const e=t.subarray(8),n=e.subarray(86),r=Ro(e.subarray(4,8));let i=r;const o="enca"===r||"encv"===r;if(o){const t=No(e,[r])[0];No(t.subarray("enca"===r?28:78),["sinf"]).forEach(t=>{const e=No(t,["schm"])[0];if(e){const n=Ro(e.subarray(4,8));if("cbcs"===n||"cenc"===n){const e=No(t,["frma"])[0];e&&(i=Ro(e))}}})}switch(i){case"avc1":case"avc2":case"avc3":case"avc4":{const t=No(n,["avcC"])[0];i+="."+$o(t[1])+$o(t[2])+$o(t[3]);break}case"mp4a":{const t=No(e,[r])[0],n=No(t.subarray(28),["esds"])[0];if(n&&n.length>12){let t=4;if(3!==n[t++])break;t=Uo(n,t),t+=2;const e=n[t++];if(128&e&&(t+=2),64&e&&(t+=n[t++]),4!==n[t++])break;t=Uo(n,t);const r=n[t++];if(64!==r)break;if(i+="."+$o(r),t+=12,5!==n[t++])break;t=Uo(n,t);const o=n[t++];let s=(248&o)>>3;31===s&&(s+=1+((7&o)<<3)+((224&n[t])>>5)),i+="."+s}break}case"hvc1":case"hev1":{const t=No(n,["hvcC"])[0],e=t[1],r=["","A","B","C"][e>>6],o=31&e,s=Io(t,2),a=(32&e)>>5?"H":"L",c=t[12],l=t.subarray(6,12);i+="."+r+o,i+="."+s.toString(16).toUpperCase(),i+="."+a+c;let u="";for(let t=l.length;t--;){const e=l[t];if(e||u){u="."+e.toString(16).toUpperCase()+u}}i+=u;break}case"dvh1":case"dvhe":{const t=No(n,["dvcC"])[0],e=t[2]>>1&127,r=t[2]<<5&32|t[3]>>3&31;i+="."+jo(e)+"."+jo(r);break}case"vp09":{const t=No(n,["vpcC"])[0],e=t[4],r=t[5],o=t[6]>>4&15;i+="."+jo(e)+"."+jo(r)+"."+jo(o);break}case"av01":{const t=No(n,["av1C"])[0],e=t[1]>>>5,r=31&t[1],o=t[2]>>>7?"H":"M",s=(64&t[2])>>6,a=(32&t[2])>>5,c=2===e&&s?a?12:10:s?10:8,l=(16&t[2])>>4,u=(8&t[2])>>3,d=(4&t[2])>>2,h=3&t[2],f=1,p=1,g=1,m=0;i+="."+e+"."+jo(r)+o+"."+jo(c)+"."+l+"."+u+d+h+"."+jo(f)+"."+jo(p)+"."+jo(g)+"."+m;break}}return{codec:i,encrypted:o}}function Uo(t,e){const n=e+5;for(;128&t[e++]&&e<n;);return e}function $o(t){return("0"+t.toString(16).toUpperCase()).slice(-2)}function jo(t){return(t<10?"0":"")+t}function Go(t){const e=No(t,["schm"])[0];if(e){const n=Ro(e.subarray(4,8));if("cbcs"===n||"cenc"===n)return No(t,["schi","tenc"])[0]}return Ii.error("[eme] missing 'schm' box"),null}function Ho(t){const e=Io(t,0);let n=8;1&e&&(n+=4),4&e&&(n+=4);let r=0;const i=Io(t,4);for(let o=0;o<i;o++){if(256&e){r+=Io(t,n),n+=4}512&e&&(n+=4),1024&e&&(n+=4),2048&e&&(n+=4)}return r}function Ko(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}function Vo(t,e){const n=[],r=e.samples,i=e.timescale,o=e.id;let s=!1;return No(r,["moof"]).map(a=>{const c=a.byteOffset-8;No(a,["traf"]).map(a=>{const l=No(a,["tfdt"]).map(t=>{const e=t[0];let n=Io(t,4);return 1===e&&(n*=Math.pow(2,32),n+=Io(t,8)),n/i})[0];return void 0!==l&&(t=l),No(a,["tfhd"]).map(l=>{const u=Io(l,4),d=16777215&Io(l,0);let h=0;const f=0!=(16&d);let p=0;const g=0!=(32&d);let m=8;u===o&&(0!=(1&d)&&(m+=8),0!=(2&d)&&(m+=4),0!=(8&d)&&(h=Io(l,m),m+=4),f&&(p=Io(l,m),m+=4),g&&(m+=4),"video"===e.type&&(s=function(t){if(!t)return!1;const e=t.indexOf("."),n=e<0?t:t.substring(0,e);return"hvc1"===n||"hev1"===n||"dvh1"===n||"dvhe"===n}(e.codec)),No(a,["trun"]).map(o=>{const a=o[0],l=16777215&Io(o,0),u=0!=(1&l);let d=0;const f=0!=(4&l),g=0!=(256&l);let m=0;const v=0!=(512&l);let y=0;const b=0!=(1024&l),w=0!=(2048&l);let _=0;const E=Io(o,4);let S=8;u&&(d=Io(o,S),S+=4),f&&(S+=4);let A=d+c;for(let c=0;c<E;c++){if(g?(m=Io(o,S),S+=4):m=h,v?(y=Io(o,S),S+=4):y=p,b&&(S+=4),w&&(_=0===a?Io(o,S):Do(o,S),S+=4),e.type===Ui){let e=0;for(;e<y;){const o=Io(r,A);if(A+=4,qo(s,r[A])){zo(r.subarray(A,A+o),s?2:1,t+_/i,n)}A+=o,e+=o+4}}t+=m/i}}))})})}),n}function qo(t,e){if(t){const t=e>>1&63;return 39===t||40===t}return 6===(31&e)}function zo(t,e,n,r){const i=Wo(t);let o=0;o+=e;let s=0,a=0,c=0;for(;o<i.length;){s=0;do{if(o>=i.length)break;c=i[o++],s+=c}while(255===c);a=0;do{if(o>=i.length)break;c=i[o++],a+=c}while(255===c);const t=i.length-o;let e=o;if(a<t)o+=a;else if(a>t){Ii.error(`Malformed SEI payload. ${a} is too small, only ${t} bytes left to parse.`);break}if(4===s){if(181===i[e++]){const t=Lo(i,e);if(e+=2,49===t){const t=Io(i,e);if(e+=4,1195456820===t){const t=i[e++];if(3===t){const o=i[e++],a=31&o,c=64&o,l=c?2+3*a:0,u=new Uint8Array(l);if(c){u[0]=o;for(let t=1;t<l;t++)u[t]=i[e++]}r.push({type:t,payloadType:s,pts:n,bytes:u})}}}}}else if(5===s&&a>16){const t=[];for(let n=0;n<16;n++){const r=i[e++].toString(16);t.push(1==r.length?"0"+r:r),3!==n&&5!==n&&7!==n&&9!==n||t.push("-")}const o=a-16,c=new Uint8Array(o);for(let t=0;t<o;t++)c[t]=i[e++];r.push({payloadType:s,pts:n,uuid:t.join(""),userData:Eo(c),userDataBytes:c})}}}function Wo(t){const e=t.byteLength,n=[];let r=1;for(;r<e-2;)0===t[r]&&0===t[r+1]&&3===t[r+2]?(n.push(r+2),r+=2):r++;if(0===n.length)return t;const i=e-n.length,o=new Uint8Array(i);let s=0;for(r=0;r<i;s++,r++)s===n[0]&&(s++,n.shift()),o[r]=t[s];return o}function Yo(t,e,n){if(16!==t.byteLength)throw new RangeError("Invalid system id");let r,i,o;if(e){r=1,i=new Uint8Array(16*e.length);for(let t=0;t<e.length;t++){const n=e[t];if(16!==n.byteLength)throw new RangeError("Invalid key");i.set(n,16*t)}}else r=0,i=new Uint8Array;r>0?(o=new Uint8Array(4),e.length>0&&new DataView(o.buffer).setUint32(0,e.length,!1)):o=new Uint8Array;const s=new Uint8Array(4);return n&&n.byteLength>0&&new DataView(s.buffer).setUint32(0,n.byteLength,!1),function(t,...e){const n=e.length;let r=8,i=n;for(;i--;)r+=e[i].byteLength;const o=new Uint8Array(r);for(o[0]=r>>24&255,o[1]=r>>16&255,o[2]=r>>8&255,o[3]=255&r,o.set(t,4),i=0,r=8;i<n;i++)o.set(e[i],r),r+=e[i].byteLength;return o}([112,115,115,104],new Uint8Array([r,0,0,0]),t,o,i,s,n||new Uint8Array)}let Xo={};class Qo{static clearKeyUriToKeyIdMap(){Xo={}}constructor(t,e,n,r=[1],i=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=t,this.uri=e,this.keyFormat=n,this.keyFormatVersions=r,this.iv=i,this.encrypted=!!t&&"NONE"!==t,this.isCommonEncryption=this.encrypted&&"AES-128"!==t}isSupported(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case Qi:case Zi:case Ji:case Xi:return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}getDecryptData(t){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!=typeof t&&("AES-128"!==this.method||this.iv||Ii.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),t=0);const e=function(t){const e=new Uint8Array(16);for(let n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e}(t);return new Qo(this.method,this.uri,"identity",this.keyFormatVersions,e)}const e=qi(this.uri);if(e)switch(this.keyFormat){case Zi:this.pssh=e,e.length>=22&&(this.keyId=e.subarray(e.length-22,e.length-6));break;case Ji:{const t=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=Yo(t,null,e);const n=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2),r=String.fromCharCode.apply(null,Array.from(n)),i=r.substring(r.indexOf("<"),r.length),o=(new DOMParser).parseFromString(i,"text/xml").getElementsByTagName("KID")[0];if(o){const t=o.childNodes[0]?o.childNodes[0].nodeValue:o.getAttribute("VALUE");if(t){const e=Vi(t).subarray(0,16);!function(t){const e=function(t,e,n){const r=t[e];t[e]=t[n],t[n]=r};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}(e),this.keyId=e}}break}default:{let t=e.subarray(0,16);if(16!==t.length){const e=new Uint8Array(16);e.set(t,16-t.length),t=e}this.keyId=t;break}}if(!this.keyId||16!==this.keyId.byteLength){let t=Xo[this.uri];if(!t){const e=Object.keys(Xo).length%Number.MAX_SAFE_INTEGER;t=new Uint8Array(16);new DataView(t.buffer,12,4).setUint32(0,e),Xo[this.uri]=t}this.keyId=t}return this}}const Jo=/\{\$([a-zA-Z0-9-_]+)\}/g;function Zo(t){return Jo.test(t)}function ts(t,e,n){if(null!==t.variableList||t.hasVariableRefs)for(let r=n.length;r--;){const i=n[r],o=e[i];o&&(e[i]=es(t,o))}}function es(t,e){if(null!==t.variableList||t.hasVariableRefs){const n=t.variableList;return e.replace(Jo,e=>{const r=e.substring(2,e.length-1),i=null==n?void 0:n[r];return void 0===i?(t.playlistParsingError||(t.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${r}"`)),e):i})}return e}function ns(t,e,n){let r,i,o=t.variableList;if(o||(t.variableList=o={}),"QUERYPARAM"in e){r=e.QUERYPARAM;try{const t=new self.URL(n).searchParams;if(!t.has(r))throw new Error(`"${r}" does not match any query parameter in URI: "${n}"`);i=t.get(r)}catch(e){t.playlistParsingError||(t.playlistParsingError=new Error("EXT-X-DEFINE QUERYPARAM: "+e.message))}}else r=e.NAME,i=e.VALUE;r in o?t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${r}"`)):o[r]=i||""}function rs(t,e,n){const r=e.IMPORT;if(n&&r in n){let e=t.variableList;e||(t.variableList=e={}),e[r]=n[r]}else t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${r}"`))}function is(t=!0){if("undefined"==typeof self)return;return(t||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}const os={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function ss(t,e,n=!0){return!t.split(",").some(t=>!as(t,e,n))}function as(t,e,n=!0){var r;const i=is(n);return null!=(r=null==i?void 0:i.isTypeSupported(cs(t,e)))&&r}function cs(t,e){return`${e}/mp4;codecs="${t}"`}function ls(t){if(t){const e=t.substring(0,4);return os.video[e]}return 2}function us(t){return t.split(",").reduce((t,e)=>{const n=os.video[e];return n?(2*n+t)/(t?3:2):(os.audio[e]+t)/(t?2:1)},0)}const ds={};const hs=/flac|opus/i;function fs(t,e=!0){return t.replace(hs,t=>function(t,e=!0){if(ds[t])return ds[t];const n={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"]}[t];for(let r=0;r<n.length;r++)if(as(n[r],"audio",e))return ds[t]=n[r],n[r];return t}(t.toLowerCase(),e))}function ps(t,e){return t&&"mp4a"!==t?t:e}const gs=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,ms=/#EXT-X-MEDIA:(.*)/g,vs=/^#EXT(?:INF|-X-TARGETDURATION):/m,ys=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),bs=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class ws{static findGroup(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(r.id===e)return r}}static resolve(t,e){return gi.buildAbsoluteURL(e,t,{alwaysNormalize:!0})}static isMediaPlaylist(t){return vs.test(t)}static parseMasterPlaylist(t,e){const n={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:Zo(t)},r=[];let i;for(gs.lastIndex=0;null!=(i=gs.exec(t));)if(i[1]){var o;const t=new Mi(i[1]);ts(n,t,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const s=es(n,i[2]),a={attrs:t,bitrate:t.decimalInteger("BANDWIDTH")||t.decimalInteger("AVERAGE-BANDWIDTH"),name:t.NAME,url:ws.resolve(s,e)},c=t.decimalResolution("RESOLUTION");c&&(a.width=c.width,a.height=c.height),Ss(t.CODECS,a),null!=(o=a.unknownCodecs)&&o.length||r.push(a),n.levels.push(a)}else if(i[3]){const t=i[3],r=i[4];switch(t){case"SESSION-DATA":{const t=new Mi(r);ts(n,t,["DATA-ID","LANGUAGE","VALUE","URI"]);const e=t["DATA-ID"];e&&(null===n.sessionData&&(n.sessionData={}),n.sessionData[e]=t);break}case"SESSION-KEY":{const t=_s(r,e,n);t.encrypted&&t.isSupported()?(null===n.sessionKeys&&(n.sessionKeys=[]),n.sessionKeys.push(t)):Ii.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${r}"`);break}case"DEFINE":{const t=new Mi(r);ts(n,t,["NAME","VALUE","QUERYPARAM"]),ns(n,t,e)}break;case"CONTENT-STEERING":{const t=new Mi(r);ts(n,t,["SERVER-URI","PATHWAY-ID"]),n.contentSteering={uri:ws.resolve(t["SERVER-URI"],e),pathwayId:t["PATHWAY-ID"]||"."};break}case"START":n.startTimeOffset=Es(r)}}const s=r.length>0&&r.length<n.levels.length;return n.levels=s?r:n.levels,0===n.levels.length&&(n.playlistParsingError=new Error("no levels found in manifest")),n}static parseMasterPlaylistMedia(t,e,n){let r;const i={},o=n.levels,s={AUDIO:o.map(t=>({id:t.attrs.AUDIO,audioCodec:t.audioCodec})),SUBTITLES:o.map(t=>({id:t.attrs.SUBTITLES,textCodec:t.textCodec})),"CLOSED-CAPTIONS":[]};let a=0;for(ms.lastIndex=0;null!==(r=ms.exec(t));){const t=new Mi(r[1]),o=t.TYPE;if(o){const r=s[o],c=i[o]||[];i[o]=c,ts(n,t,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const l=t.LANGUAGE,u=t["ASSOC-LANGUAGE"],d=t.CHANNELS,h=t.CHARACTERISTICS,f=t["INSTREAM-ID"],p={attrs:t,bitrate:0,id:a++,groupId:t["GROUP-ID"]||"",name:t.NAME||l||"",type:o,default:t.bool("DEFAULT"),autoselect:t.bool("AUTOSELECT"),forced:t.bool("FORCED"),lang:l,url:t.URI?ws.resolve(t.URI,e):""};if(u&&(p.assocLang=u),d&&(p.channels=d),h&&(p.characteristics=h),f&&(p.instreamId=f),null!=r&&r.length){const t=ws.findGroup(r,p.groupId)||r[0];As(p,t,"audioCodec"),As(p,t,"textCodec")}c.push(p)}}return i}static parseLevelPlaylist(t,e,n,r,i,o){const s=new Ki(e),a=s.fragments;let c,l,u,d=null,h=0,f=0,p=0,g=0,m=null,v=new Gi(r,e),y=-1,b=!1,w=null;for(ys.lastIndex=0,s.m3u8=t,s.hasVariableRefs=Zo(t);null!==(c=ys.exec(t));){b&&(b=!1,v=new Gi(r,e),v.start=p,v.sn=h,v.cc=g,v.level=n,d&&(v.initSegment=d,v.rawProgramDateTime=d.rawProgramDateTime,d.rawProgramDateTime=null,w&&(v.setByteRange(w),w=null)));const t=c[1];if(t){v.duration=parseFloat(t);const e=(" "+c[2]).slice(1);v.title=e||null,v.tagList.push(e?["INF",t,e]:["INF",t])}else if(c[3]){if(_i(v.duration)){v.start=p,u&&ks(v,u,s),v.sn=h,v.level=n,v.cc=g,a.push(v);const t=(" "+c[3]).slice(1);v.relurl=es(s,t),Ts(v,m),m=v,p+=v.duration,h++,f=0,b=!0}}else if(c[4]){const t=(" "+c[4]).slice(1);m?v.setByteRange(t,m):v.setByteRange(t)}else if(c[5])v.rawProgramDateTime=(" "+c[5]).slice(1),v.tagList.push(["PROGRAM-DATE-TIME",v.rawProgramDateTime]),-1===y&&(y=a.length);else{if(c=c[0].match(bs),!c){Ii.warn("No matches on slow regex match for level playlist!");continue}for(l=1;l<c.length&&void 0===c[l];l++);const t=(" "+c[l]).slice(1),i=(" "+c[l+1]).slice(1),p=c[l+2]?(" "+c[l+2]).slice(1):"";switch(t){case"PLAYLIST-TYPE":s.type=i.toUpperCase();break;case"MEDIA-SEQUENCE":h=s.startSN=parseInt(i);break;case"SKIP":{const t=new Mi(i);ts(s,t,["RECENTLY-REMOVED-DATERANGES"]);const e=t.decimalInteger("SKIPPED-SEGMENTS");if(_i(e)){s.skippedSegments=e;for(let t=e;t--;)a.unshift(null);h+=e}const n=t.enumeratedString("RECENTLY-REMOVED-DATERANGES");n&&(s.recentlyRemovedDateranges=n.split("\t"));break}case"TARGETDURATION":s.targetduration=Math.max(parseInt(i),1);break;case"VERSION":s.version=parseInt(i);break;case"INDEPENDENT-SEGMENTS":case"EXTM3U":break;case"ENDLIST":s.live=!1;break;case"#":(i||p)&&v.tagList.push(p?[i,p]:[i]);break;case"DISCONTINUITY":g++,v.tagList.push(["DIS"]);break;case"GAP":v.gap=!0,v.tagList.push([t]);break;case"BITRATE":v.tagList.push([t,i]);break;case"DATERANGE":{const t=new Mi(i);ts(s,t,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),ts(s,t,t.clientAttrs);const e=new Pi(t,s.dateRanges[t.ID]);e.isValid||s.skippedSegments?s.dateRanges[e.id]=e:Ii.warn(`Ignoring invalid DATERANGE tag: "${i}"`),v.tagList.push(["EXT-X-DATERANGE",i]);break}case"DEFINE":{const t=new Mi(i);ts(s,t,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in t?rs(s,t,o):ns(s,t,e)}break;case"DISCONTINUITY-SEQUENCE":g=parseInt(i);break;case"KEY":{const t=_s(i,e,s);if(t.isSupported()){if("NONE"===t.method){u=void 0;break}u||(u={}),u[t.keyFormat]&&(u=wi({},u)),u[t.keyFormat]=t}else Ii.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${i}"`);break}case"START":s.startTimeOffset=Es(i);break;case"MAP":{const t=new Mi(i);if(ts(s,t,["BYTERANGE","URI"]),v.duration){const i=new Gi(r,e);xs(i,t,n,u),d=i,v.initSegment=d,d.rawProgramDateTime&&!v.rawProgramDateTime&&(v.rawProgramDateTime=d.rawProgramDateTime)}else{const e=v.byteRangeEndOffset;if(e){const t=v.byteRangeStartOffset;w=`${e-t}@${t}`}else w=null;xs(v,t,n,u),d=v,b=!0}break}case"SERVER-CONTROL":{const t=new Mi(i);s.canBlockReload=t.bool("CAN-BLOCK-RELOAD"),s.canSkipUntil=t.optionalFloat("CAN-SKIP-UNTIL",0),s.canSkipDateRanges=s.canSkipUntil>0&&t.bool("CAN-SKIP-DATERANGES"),s.partHoldBack=t.optionalFloat("PART-HOLD-BACK",0),s.holdBack=t.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const t=new Mi(i);s.partTarget=t.decimalFloatingPoint("PART-TARGET");break}case"PART":{let t=s.partList;t||(t=s.partList=[]);const n=f>0?t[t.length-1]:void 0,r=f++,o=new Mi(i);ts(s,o,["BYTERANGE","URI"]);const a=new Hi(o,v,e,r,n);t.push(a),v.duration+=a.duration;break}case"PRELOAD-HINT":{const t=new Mi(i);ts(s,t,["URI"]),s.preloadHint=t;break}case"RENDITION-REPORT":{const t=new Mi(i);ts(s,t,["URI"]),s.renditionReports=s.renditionReports||[],s.renditionReports.push(t);break}default:Ii.warn("line parsed but not handled: "+c)}}}m&&!m.relurl?(a.pop(),p-=m.duration,s.partList&&(s.fragmentHint=m)):s.partList&&(Ts(v,m),v.cc=g,s.fragmentHint=v,u&&ks(v,u,s));const _=a.length,E=a[0],S=a[_-1];if(p+=s.skippedSegments*s.targetduration,p>0&&_&&S){s.averagetargetduration=p/_;const t=S.sn;s.endSN="initSegment"!==t?t:0,s.live||(S.endList=!0),E&&(s.startCC=E.cc)}else s.endSN=0,s.startCC=0;return s.fragmentHint&&(p+=s.fragmentHint.duration),s.totalduration=p,s.endCC=g,y>0&&function(t,e){let n=t[e];for(let r=e;r--;){const e=t[r];if(!e)return;e.programDateTime=n.programDateTime-1e3*e.duration,n=e}}(a,y),s}}function _s(t,e,n){var r,i;const o=new Mi(t);ts(n,o,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const s=null!=(r=o.METHOD)?r:"",a=o.URI,c=o.hexadecimalInteger("IV"),l=o.KEYFORMATVERSIONS,u=null!=(i=o.KEYFORMAT)?i:"identity";a&&o.IV&&!c&&Ii.error("Invalid IV: "+o.IV);const d=a?ws.resolve(a,e):"",h=(l||"1").split("/").map(Number).filter(Number.isFinite);return new Qo(s,d,u,h,c)}function Es(t){const e=new Mi(t).decimalFloatingPoint("TIME-OFFSET");return _i(e)?e:null}function Ss(t,e){let n=(t||"").split(/[ ,]+/).filter(t=>t);["video","audio","text"].forEach(t=>{const r=n.filter(e=>function(t,e){const n=os[e];return!!n&&!!n[t.slice(0,4)]}(e,t));r.length&&(e[t+"Codec"]=r.join(","),n=n.filter(t=>-1===r.indexOf(t)))}),e.unknownCodecs=n}function As(t,e,n){const r=e[n];r&&(t[n]=r)}function Ts(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):null!=e&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime),_i(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}function xs(t,e,n,r){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=n,t.sn="initSegment",r&&(t.levelkeys=r),t.initSegment=null}function ks(t,e,n){t.levelkeys=e;const{encryptedFragments:r}=n;r.length&&r[r.length-1].levelkeys===e||!Object.keys(e).some(t=>e[t].isCommonEncryption)||r.push(t)}var Cs="manifest",Rs="level",Ls="audioTrack",Is="subtitleTrack",Os="main",Ds="audio",Ms="subtitle";function Ns(t){const{type:e}=t;switch(e){case Ls:return Ds;case Is:return Ms;default:return Os}}function Ps(t,e){let n=t.url;return void 0!==n&&0!==n.indexOf("data:")||(n=e.url),n}class Fs{constructor(t){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=t,this.registerListeners()}startLoad(t){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:t}=this;t.on(Ai.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Ai.LEVEL_LOADING,this.onLevelLoading,this),t.on(Ai.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.on(Ai.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:t}=this;t.off(Ai.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Ai.LEVEL_LOADING,this.onLevelLoading,this),t.off(Ai.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.off(Ai.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(t){const e=this.hls.config,n=e.pLoader,r=e.loader,i=new(n||r)(e);return this.loaders[t.type]=i,i}getInternalLoader(t){return this.loaders[t.type]}resetInternalLoader(t){this.loaders[t]&&delete this.loaders[t]}destroyInternalLoaders(){for(const t in this.loaders){const e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(t,e){const{url:n}=e;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:Cs,url:n,deliveryDirectives:null})}onLevelLoading(t,e){const{id:n,level:r,pathwayId:i,url:o,deliveryDirectives:s}=e;this.load({id:n,level:r,pathwayId:i,responseType:"text",type:Rs,url:o,deliveryDirectives:s})}onAudioTrackLoading(t,e){const{id:n,groupId:r,url:i,deliveryDirectives:o}=e;this.load({id:n,groupId:r,level:null,responseType:"text",type:Ls,url:i,deliveryDirectives:o})}onSubtitleTrackLoading(t,e){const{id:n,groupId:r,url:i,deliveryDirectives:o}=e;this.load({id:n,groupId:r,level:null,responseType:"text",type:Is,url:i,deliveryDirectives:o})}load(t){var e;const n=this.hls.config;let r,i=this.getInternalLoader(t);if(i){const e=i.context;if(e&&e.url===t.url&&e.level===t.level)return void Ii.trace("[playlist-loader]: playlist request ongoing");Ii.log("[playlist-loader]: aborting previous loader for type: "+t.type),i.abort()}if(r=t.type===Cs?n.manifestLoadPolicy.default:wi({},n.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),i=this.createInternalLoader(t),_i(null==(e=t.deliveryDirectives)?void 0:e.part)){let e;if(t.type===Rs&&null!==t.level?e=this.hls.levels[t.level].details:t.type===Ls&&null!==t.id?e=this.hls.audioTracks[t.id].details:t.type===Is&&null!==t.id&&(e=this.hls.subtitleTracks[t.id].details),e){const t=e.partTarget,n=e.targetduration;if(t&&n){const e=1e3*Math.max(3*t,.8*n);r=wi({},r,{maxTimeToFirstByteMs:Math.min(e,r.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(e,r.maxTimeToFirstByteMs)})}}}const o=r.errorRetry||r.timeoutRetry||{},s={loadPolicy:r,timeout:r.maxLoadTimeMs,maxRetry:o.maxNumRetry||0,retryDelay:o.retryDelayMs||0,maxRetryDelay:o.maxRetryDelayMs||0},a={onSuccess:(t,e,n,r)=>{const i=this.getInternalLoader(n);this.resetInternalLoader(n.type);const o=t.data;0===o.indexOf("#EXTM3U")?(e.parsing.start=performance.now(),ws.isMediaPlaylist(o)?this.handleTrackOrLevelPlaylist(t,e,n,r||null,i):this.handleMasterPlaylist(t,e,n,r)):this.handleManifestParsingError(t,n,new Error("no EXTM3U delimiter"),r||null,e)},onError:(t,e,n,r)=>{this.handleNetworkError(e,n,!1,t,r)},onTimeout:(t,e,n)=>{this.handleNetworkError(e,n,!0,void 0,t)}};i.load(t,s,a)}handleMasterPlaylist(t,e,n,r){const i=this.hls,o=t.data,s=Ps(t,n),a=ws.parseMasterPlaylist(o,s);if(a.playlistParsingError)return void this.handleManifestParsingError(t,n,a.playlistParsingError,r,e);const{contentSteering:c,levels:l,sessionData:u,sessionKeys:d,startTimeOffset:h,variableList:f}=a;this.variableList=f;const{AUDIO:p=[],SUBTITLES:g,"CLOSED-CAPTIONS":m}=ws.parseMasterPlaylistMedia(o,s,a);if(p.length){p.some(t=>!t.url)||!l[0].audioCodec||l[0].attrs.AUDIO||(Ii.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),p.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new Mi({}),bitrate:0,url:""}))}i.trigger(Ai.MANIFEST_LOADED,{levels:l,audioTracks:p,subtitles:g,captions:m,contentSteering:c,url:s,stats:e,networkDetails:r,sessionData:u,sessionKeys:d,startTimeOffset:h,variableList:f})}handleTrackOrLevelPlaylist(t,e,n,r,i){const o=this.hls,{id:s,level:a,type:c}=n,l=Ps(t,n),u=_i(a)?a:_i(s)?s:0,d=Ns(n),h=ws.parseLevelPlaylist(t.data,l,u,d,0,this.variableList);if(c===Cs){const t={attrs:new Mi({}),bitrate:0,details:h,name:"",url:l};o.trigger(Ai.MANIFEST_LOADED,{levels:[t],audioTracks:[],url:l,stats:e,networkDetails:r,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}e.parsing.end=performance.now(),n.levelDetails=h,this.handlePlaylistLoaded(h,t,e,n,r,i)}handleManifestParsingError(t,e,n,r,i){this.hls.trigger(Ai.ERROR,{type:Ti.NETWORK_ERROR,details:xi.MANIFEST_PARSING_ERROR,fatal:e.type===Cs,url:t.url,err:n,error:n,reason:n.message,response:t,context:e,networkDetails:r,stats:i})}handleNetworkError(t,e,n=!1,r,i){let o=`A network ${n?"timeout":"error"+(r?" (status "+r.code+")":"")} occurred while loading ${t.type}`;t.type===Rs?o+=`: ${t.level} id: ${t.id}`:t.type!==Ls&&t.type!==Is||(o+=` id: ${t.id} group-id: "${t.groupId}"`);const s=new Error(o);Ii.warn("[playlist-loader]: "+o);let a=xi.UNKNOWN,c=!1;const l=this.getInternalLoader(t);switch(t.type){case Cs:a=n?xi.MANIFEST_LOAD_TIMEOUT:xi.MANIFEST_LOAD_ERROR,c=!0;break;case Rs:a=n?xi.LEVEL_LOAD_TIMEOUT:xi.LEVEL_LOAD_ERROR,c=!1;break;case Ls:a=n?xi.AUDIO_TRACK_LOAD_TIMEOUT:xi.AUDIO_TRACK_LOAD_ERROR,c=!1;break;case Is:a=n?xi.SUBTITLE_TRACK_LOAD_TIMEOUT:xi.SUBTITLE_LOAD_ERROR,c=!1}l&&this.resetInternalLoader(t.type);const u={type:Ti.NETWORK_ERROR,details:a,fatal:c,url:t.url,loader:l,context:t,error:s,networkDetails:e,stats:i};if(r){const n=(null==e?void 0:e.url)||t.url;u.response=vi({url:n,data:void 0},r)}this.hls.trigger(Ai.ERROR,u)}handlePlaylistLoaded(t,e,n,r,i,o){const s=this.hls,{type:a,level:c,id:l,groupId:u,deliveryDirectives:d}=r,h=Ps(e,r),f=Ns(r),p="number"==typeof r.level&&f===Os?c:void 0;if(!t.fragments.length){const t=new Error("No Segments found in Playlist");return void s.trigger(Ai.ERROR,{type:Ti.NETWORK_ERROR,details:xi.LEVEL_EMPTY_ERROR,fatal:!1,url:h,error:t,reason:t.message,response:e,context:r,level:p,parent:f,networkDetails:i,stats:n})}t.targetduration||(t.playlistParsingError=new Error("Missing Target Duration"));const g=t.playlistParsingError;if(g)s.trigger(Ai.ERROR,{type:Ti.NETWORK_ERROR,details:xi.LEVEL_PARSING_ERROR,fatal:!1,url:h,error:g,reason:g.message,response:e,context:r,level:p,parent:f,networkDetails:i,stats:n});else switch(t.live&&o&&(o.getCacheAge&&(t.ageHeader=o.getCacheAge()||0),o.getCacheAge&&!isNaN(t.ageHeader)||(t.ageHeader=0)),a){case Cs:case Rs:s.trigger(Ai.LEVEL_LOADED,{details:t,level:p||0,id:l||0,stats:n,networkDetails:i,deliveryDirectives:d});break;case Ls:s.trigger(Ai.AUDIO_TRACK_LOADED,{details:t,id:l||0,groupId:u||"",stats:n,networkDetails:i,deliveryDirectives:d});break;case Is:s.trigger(Ai.SUBTITLE_TRACK_LOADED,{details:t,id:l||0,groupId:u||"",stats:n,networkDetails:i,deliveryDirectives:d})}}}function Bs(t,e){let n;try{n=new Event("addtrack")}catch(t){n=document.createEvent("Event"),n.initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)}function Us(t,e){const n=t.mode;if("disabled"===n&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error("addCue is failed for: "+e)}catch(n){Ii.debug("[texttrack-utils]: "+n);try{const n=new self.TextTrackCue(e.startTime,e.endTime,e.text);n.id=e.id,t.addCue(n)}catch(t){Ii.debug("[texttrack-utils]: Legacy TextTrackCue fallback failed: "+t)}}"disabled"===n&&(t.mode=n)}function $s(t){const e=t.mode;if("disabled"===e&&(t.mode="hidden"),t.cues)for(let e=t.cues.length;e--;)t.removeCue(t.cues[e]);"disabled"===e&&(t.mode=e)}function js(t,e,n,r){const i=t.mode;if("disabled"===i&&(t.mode="hidden"),t.cues&&t.cues.length>0){const i=function(t,e,n){const r=[],i=function(t,e){if(e<t[0].startTime)return 0;const n=t.length-1;if(e>t[n].endTime)return-1;let r=0,i=n;for(;r<=i;){const o=Math.floor((i+r)/2);if(e<t[o].startTime)i=o-1;else{if(!(e>t[o].startTime&&r<n))return o;r=o+1}}return t[r].startTime-e<e-t[i].startTime?r:i}(t,e);if(i>-1)for(let o=i,s=t.length;o<s;o++){const i=t[o];if(i.startTime>=e&&i.endTime<=n)r.push(i);else if(i.startTime>n)return r}return r}(t.cues,e,n);for(let e=0;e<i.length;e++)r&&!r(i[e])||t.removeCue(i[e])}"disabled"===i&&(t.mode=i)}function Gs(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];"subtitles"!==r.kind&&"captions"!==r.kind||!r.label||e.push(t[n])}return e}var Hs="org.id3",Ks="com.apple.quicktime.HLS",Vs="https://aomedia.org/emsg/ID3";function qs(){if("undefined"!=typeof self)return self.VTTCue||self.TextTrackCue}function zs(t,e,n,r,i){let o=new t(e,n,"");try{o.value=r,i&&(o.type=i)}catch(s){o=new t(e,n,JSON.stringify(i?vi({type:i},r):r))}return o}const Ws=(()=>{const t=qs();try{t&&new t(0,Number.POSITIVE_INFINITY,"")}catch(t){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function Ys(t,e){return t.getTime()/1e3-e}class Xs{constructor(t){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=t,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:t}=this;t.on(Ai.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(Ai.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(Ai.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Ai.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.on(Ai.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(Ai.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:t}=this;t.off(Ai.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(Ai.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(Ai.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Ai.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.off(Ai.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(Ai.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(t,e){this.media=e.media}onMediaDetaching(){this.id3Track&&($s(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(t){const e=this.getID3Track(t.textTracks);return e.mode="hidden",e}getID3Track(t){if(this.media){for(let e=0;e<t.length;e++){const n=t[e];if("metadata"===n.kind&&"id3"===n.label)return Bs(n,this.media),n}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(t,e){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:n,enableID3MetadataCues:r}}}=this;if(!n&&!r)return;const{samples:i}=e;this.id3Track||(this.id3Track=this.createTrack(this.media));const o=qs();if(o)for(let t=0;t<i.length;t++){const e=i[t].type;if(e===Vs&&!n||!r)continue;const s=mo(i[t].data);if(s){const n=i[t].pts;let r=n+i[t].duration;r>Ws&&(r=Ws);r-n<=0&&(r=n+.25);for(let t=0;t<s.length;t++){const i=s[t];if(!po(i)){this.updateId3CueEnds(n,e);const t=zs(o,n,r,i,e);t&&this.id3Track.addCue(t)}}}}}updateId3CueEnds(t,e){var n;const r=null==(n=this.id3Track)?void 0:n.cues;if(r)for(let n=r.length;n--;){const i=r[n];i.type===e&&i.startTime<t&&i.endTime===Ws&&(i.endTime=t)}}onBufferFlushing(t,{startOffset:e,endOffset:n,type:r}){const{id3Track:i,hls:o}=this;if(!o)return;const{config:{enableEmsgMetadataCues:s,enableID3MetadataCues:a}}=o;if(i&&(s||a)){let t;t="audio"===r?t=>t.type===Hs&&a:"video"===r?t=>t.type===Vs&&s:t=>t.type===Hs&&a||t.type===Vs&&s,js(i,e,n,t)}}onLevelUpdated(t,{details:e}){if(!this.media||!e.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:n,id3Track:r}=this,{dateRanges:i}=e,o=Object.keys(i);if(r){const t=Object.keys(n).filter(t=>!o.includes(t));for(let e=t.length;e--;){const i=t[e];Object.keys(n[i].cues).forEach(t=>{r.removeCue(n[i].cues[t])}),delete n[i]}}const s=e.fragments[e.fragments.length-1];if(0===o.length||!_i(null==s?void 0:s.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const a=s.programDateTime/1e3-s.start,c=qs();for(let t=0;t<o.length;t++){const e=o[t],r=i[e],s=Ys(r.startDate,a),d=n[e],h=(null==d?void 0:d.cues)||{};let f=(null==d?void 0:d.durationKnown)||!1,p=Ws;const g=r.endDate;if(g)p=Ys(g,a),f=!0;else if(r.endOnNext&&!f){const t=o.reduce((t,e)=>{if(e!==r.id){const n=i[e];if(n.class===r.class&&n.startDate>r.startDate&&(!t||r.startDate<t.startDate))return n}return t},null);t&&(p=Ys(t.startDate,a),f=!0)}const m=Object.keys(r.attr);for(let t=0;t<m.length;t++){const n=m[t];if("ID"===(u=n)||"CLASS"===u||"START-DATE"===u||"DURATION"===u||"END-DATE"===u||"END-ON-NEXT"===u)continue;const i=h[n];if(i)f&&!d.durationKnown&&(i.endTime=p);else if(c){let t=r.attr[n];Ni(n)&&(l=t,t=Uint8Array.from(l.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer);const i=zs(c,s,p,{key:n,data:t},Ks);i&&(i.id=e,this.id3Track.addCue(i),h[n]=i)}}n[e]={cues:h,dateRange:r,durationKnown:f}}var l,u}}class Qs{constructor(t){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=t,this.config=t.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:t,levelDetails:e}=this;return void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:e?t.liveMaxLatencyDurationCount*e.targetduration:0}get targetLatency(){const{levelDetails:t}=this;if(null===t)return null;const{holdBack:e,partHoldBack:n,targetduration:r}=t,{liveSyncDuration:i,liveSyncDurationCount:o,lowLatencyMode:s}=this.config,a=this.hls.userConfig;let c=s&&n||e;(a.liveSyncDuration||a.liveSyncDurationCount||0===c)&&(c=void 0!==i?i:o*r);const l=r;return c+Math.min(1*this.stallCount,l)}get liveSyncPosition(){const t=this.estimateLiveEdge(),e=this.targetLatency,n=this.levelDetails;if(null===t||null===e||null===n)return null;const r=n.edge,i=t-e-this.edgeStalled,o=r-n.totalduration,s=r-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(o,i),s)}get drift(){const{levelDetails:t}=this;return null===t?1:t.drift}get edgeStalled(){const{levelDetails:t}=this;if(null===t)return 0;const e=3*(this.config.lowLatencyMode&&t.partTarget||t.targetduration);return Math.max(t.age-e,0)}get forwardBufferLength(){const{media:t,levelDetails:e}=this;if(!t||!e)return 0;const n=t.buffered.length;return(n?t.buffered.end(n-1):e.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(Ai.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Ai.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(Ai.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Ai.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(Ai.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(Ai.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Ai.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(Ai.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(Ai.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(Ai.ERROR,this.onError,this)}onMediaAttached(t,e){this.media=e.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(t,{details:e}){this.levelDetails=e,e.advanced&&this.timeupdate(),!e.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(t,e){var n;e.details===xi.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(n=this.levelDetails)&&n.live&&Ii.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:t,levelDetails:e}=this;if(!t||!e)return;this.currentTime=t.currentTime;const n=this.computeLatency();if(null===n)return;this._latency=n;const{lowLatencyMode:r,maxLiveSyncPlaybackRate:i}=this.config;if(!r||1===i||!e.live)return;const o=this.targetLatency;if(null===o)return;const s=n-o;if(s<Math.min(this.maxLatency,o+e.targetduration)&&s>.05&&this.forwardBufferLength>1){const e=Math.min(2,Math.max(1,i)),n=Math.round(2/(1+Math.exp(-.75*s-this.edgeStalled))*20)/20;t.playbackRate=Math.min(e,Math.max(1,n))}else 1!==t.playbackRate&&0!==t.playbackRate&&(t.playbackRate=1)}estimateLiveEdge(){const{levelDetails:t}=this;return null===t?null:t.edge+t.age}computeLatency(){const t=this.estimateLiveEdge();return null===t?null:t-this.currentTime}}const Js=["NONE","TYPE-0","TYPE-1",null];const Zs=["SDR","PQ","HLG"];var ta="",ea="YES",na="v2";class ra{constructor(t,e,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=t,this.part=e,this.skip=n}addDirectives(t){const e=new self.URL(t);return void 0!==this.msn&&e.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&e.searchParams.set("_HLS_part",this.part.toString()),this.skip&&e.searchParams.set("_HLS_skip",this.skip),e.href}}class ia{constructor(t){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[t.url],this._attrs=[t.attrs],this.bitrate=t.bitrate,t.details&&(this.details=t.details),this.id=t.id||0,this.name=t.name,this.width=t.width||0,this.height=t.height||0,this.frameRate=t.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=t.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=t.audioCodec,this.videoCodec=t.videoCodec,this.codecSet=[t.videoCodec,t.audioCodec].filter(t=>!!t).map(t=>t.substring(0,4)).join(","),this.addGroupId("audio",t.attrs.AUDIO),this.addGroupId("text",t.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(t){return oa(this._audioGroups,t)}hasSubtitleGroup(t){return oa(this._subtitleGroups,t)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(t,e){if(e)if("audio"===t){let t=this._audioGroups;t||(t=this._audioGroups=[]),-1===t.indexOf(e)&&t.push(e)}else if("text"===t){let t=this._subtitleGroups;t||(t=this._subtitleGroups=[]),-1===t.indexOf(e)&&t.push(e)}}get urlId(){return 0}set urlId(t){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var t;return null==(t=this.audioGroups)?void 0:t[0]}get textGroupId(){var t;return null==(t=this.subtitleGroups)?void 0:t[0]}addFallback(){}}function oa(t,e){return!(!e||!t)&&-1!==t.indexOf(e)}function sa(t,e){const n=e.startPTS;if(_i(n)){let r,i=0;e.sn>t.sn?(i=n-t.start,r=t):(i=t.start-n,r=e),r.duration!==i&&(r.duration=i)}else if(e.sn>t.sn){t.cc===e.cc&&t.minEndPTS?e.start=t.start+(t.minEndPTS-t.start):e.start=t.start+t.duration}else e.start=Math.max(t.start-e.duration,0)}function aa(t,e,n,r,i,o){r-n<=0&&(Ii.warn("Fragment should have a positive duration",e),r=n+e.duration,o=i+e.duration);let s=n,a=r;const c=e.startPTS,l=e.endPTS;if(_i(c)){const t=Math.abs(c-n);_i(e.deltaPTS)?e.deltaPTS=Math.max(t,e.deltaPTS):e.deltaPTS=t,s=Math.max(n,c),n=Math.min(n,c),i=Math.min(i,e.startDTS),a=Math.min(r,l),r=Math.max(r,l),o=Math.max(o,e.endDTS)}const u=n-e.start;0!==e.start&&(e.start=n),e.duration=r-e.start,e.startPTS=n,e.maxStartPTS=s,e.startDTS=i,e.endPTS=r,e.minEndPTS=a,e.endDTS=o;const d=e.sn;if(!t||d<t.startSN||d>t.endSN)return 0;let h;const f=d-t.startSN,p=t.fragments;for(p[f]=e,h=f;h>0;h--)sa(p[h],p[h-1]);for(h=f;h<p.length-1;h++)sa(p[h],p[h+1]);return t.fragmentHint&&sa(p[p.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,u}function ca(t,e){let n=null;const r=t.fragments;for(let t=r.length-1;t>=0;t--){const e=r[t].initSegment;if(e){n=e;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;let i,o=0;if(function(t,e,n){const r=e.skippedSegments,i=Math.max(t.startSN,e.startSN)-e.startSN,o=(t.fragmentHint?1:0)+(r?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,s=e.startSN-t.startSN,a=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,c=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;for(let t=i;t<=o;t++){const i=c[s+t];let o=a[t];r&&!o&&t<r&&(o=e.fragments[t]=i),i&&o&&n(i,o)}}(t,e,(t,r)=>{t.relurl&&(o=t.cc-r.cc),_i(t.startPTS)&&_i(t.endPTS)&&(r.start=r.startPTS=t.startPTS,r.startDTS=t.startDTS,r.maxStartPTS=t.maxStartPTS,r.endPTS=t.endPTS,r.endDTS=t.endDTS,r.minEndPTS=t.minEndPTS,r.duration=t.endPTS-t.startPTS,r.duration&&(i=r),e.PTSKnown=e.alignedSliding=!0),r.elementaryStreams=t.elementaryStreams,r.loader=t.loader,r.stats=t.stats,t.initSegment&&(r.initSegment=t.initSegment,n=t.initSegment)}),n){(e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments).forEach(t=>{var e;!t||t.initSegment&&t.initSegment.relurl!==(null==(e=n)?void 0:e.relurl)||(t.initSegment=n)})}if(e.skippedSegments)if(e.deltaUpdateFailed=e.fragments.some(t=>!t),e.deltaUpdateFailed){Ii.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let t=e.skippedSegments;t--;)e.fragments.shift();e.startSN=e.fragments[0].sn,e.startCC=e.fragments[0].cc}else e.canSkipDateRanges&&(e.dateRanges=function(t,e,n){const r=wi({},t);n&&n.forEach(t=>{delete r[t]});return Object.keys(e).forEach(t=>{const n=new Pi(e[t].attr,r[t]);n.isValid?r[t]=n:Ii.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(e[t].attr)}"`)}),r}(t.dateRanges,e.dateRanges,e.recentlyRemovedDateranges));const s=e.fragments;if(o){Ii.warn("discontinuity sliding from playlist, take drift into account");for(let t=0;t<s.length;t++)s[t].cc+=o}e.skippedSegments&&(e.startCC=e.fragments[0].cc),function(t,e,n){if(t&&e){let r=0;for(let i=0,o=t.length;i<=o;i++){const o=t[i],s=e[i+r];o&&s&&o.index===s.index&&o.fragment.sn===s.fragment.sn?n(o,s):r--}}}(t.partList,e.partList,(t,e)=>{e.elementaryStreams=t.elementaryStreams,e.stats=t.stats}),i?aa(e,i,i.startPTS,i.endPTS,i.startDTS,i.endDTS):la(t,e),s.length&&(e.totalduration=e.edge-s[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;const a=e.advancedDateTime;if(e.advanced&&a){const t=e.edge;e.driftStart||(e.driftStartTime=a,e.driftStart=t),e.driftEndTime=a,e.driftEnd=t}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime}function la(t,e){const n=e.startSN+e.skippedSegments-t.startSN,r=t.fragments;n<0||n>=r.length||ua(e,r[n].start)}function ua(t,e){if(e){const n=t.fragments;for(let r=t.skippedSegments;r<n.length;r++)n[r].start+=e;t.fragmentHint&&(t.fragmentHint.start+=e)}}function da(t,e,n){var r;return null!=t&&t.details?ha(null==(r=t.details)?void 0:r.partList,e,n):null}function ha(t,e,n){if(t)for(let r=t.length;r--;){const i=t[r];if(i.index===n&&i.fragment.sn===e)return i}return null}function fa(t){t.forEach((t,e)=>{const{details:n}=t;null!=n&&n.fragments&&n.fragments.forEach(t=>{t.level=e})})}function pa(t){switch(t.details){case xi.FRAG_LOAD_TIMEOUT:case xi.KEY_LOAD_TIMEOUT:case xi.LEVEL_LOAD_TIMEOUT:case xi.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function ga(t,e){const n=pa(e);return t.default[(n?"timeout":"error")+"Retry"]}function ma(t,e){const n="linear"===t.backoff?1:Math.pow(2,e);return Math.min(n*t.retryDelayMs,t.maxRetryDelayMs)}function va(t){return vi(vi({},t),{errorRetry:null,timeoutRetry:null})}function ya(t,e,n,r){if(!t)return!1;const i=null==r?void 0:r.code,o=e<t.maxNumRetry&&(function(t){return 0===t&&!1===navigator.onLine||!!t&&(t<400||t>499)}(i)||!!n);return t.shouldRetry?t.shouldRetry(t,e,n,r,o):o}const ba=function(t,e){let n=0,r=t.length-1,i=null,o=null;for(;n<=r;){i=(n+r)/2|0,o=t[i];const s=e(o);if(s>0)n=i+1;else{if(!(s<0))return o;r=i-1}}return null};function wa(t,e,n=0,r=0){let i=null;if(t){i=e[t.sn-e[0].sn+1]||null;const r=t.endDTS-n;r>0&&r<15e-7&&(n+=15e-7)}else 0===n&&0===e[0].start&&(i=e[0]);if(i&&(!t||t.level===i.level)&&0===_a(n,r,i))return i;const o=ba(e,_a.bind(null,n,r));return!o||o===t&&i?i:o}function _a(t=0,e=0,n){if(n.start<=t&&n.start+n.duration>t)return 0;const r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=t?1:n.start-r>t&&n.start?-1:0}function Ea(t,e,n){const r=1e3*Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return(n.endProgramDateTime||0)-r>t}var Sa=0,Aa=2,Ta=3,xa=5,ka=0,Ca=1,Ra=2;class La{constructor(t,e){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=Ii.log.bind(Ii,e+":"),this.warn=Ii.warn.bind(Ii,e+":"),this.hls=t}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){-1!==this.timer&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(t,e){const n=null==e?void 0:e.renditionReports;if(n){let r=-1;for(let i=0;i<n.length;i++){const o=n[i];let s;try{s=new self.URL(o.URI,e.url).href}catch(t){Ii.warn("Could not construct new URL for Rendition Report: "+t),s=o.URI||""}if(s===t){r=i;break}s===t.substring(0,s.length)&&(r=i)}if(-1!==r){const t=n[r],i=parseInt(t["LAST-MSN"])||(null==e?void 0:e.lastPartSn);let o=parseInt(t["LAST-PART"])||(null==e?void 0:e.lastPartIndex);if(this.hls.config.lowLatencyMode){const t=Math.min(e.age-e.partTarget,e.targetduration);o>=0&&t>e.partTarget&&(o+=1)}return new ra(i,o>=0?o:void 0,ta)}}}loadPlaylist(t){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(t){return this.canLoad&&!!t&&!!t.url&&(!t.details||t.details.live)}shouldReloadPlaylist(t){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(t)}playlistLoaded(t,e,n){const{details:r,stats:i}=e,o=self.performance.now(),s=i.loading.first?Math.max(0,o-i.loading.first):0;if(r.advancedDateTime=Date.now()-s,r.live||null!=n&&n.live){if(r.reloaded(n),n&&this.log(`live playlist ${t} ${r.advanced?"REFRESHED "+r.lastPartSn+"-"+r.lastPartIndex:r.updated?"UPDATED":"MISSED"}`),n&&r.fragments.length>0&&ca(n,r),!this.canLoad||!r.live)return;let s,a=void 0,c=void 0;if(r.canBlockReload&&r.endSN&&r.advanced){const t=this.hls.config.lowLatencyMode,i=r.lastPartSn,o=r.endSN,l=r.lastPartIndex,u=i===o,d=t?0:l;-1!==l?(a=u?o+1:i,c=u?d:l+1):a=o+1;const h=r.age,f=h+r.ageHeader;let p=Math.min(f-r.partTarget,1.5*r.targetduration);if(p>0){if(n&&p>n.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${n.tuneInGoal} to: ${p} with playlist age: ${r.age}`),p=0;else{const t=Math.floor(p/r.targetduration);if(a+=t,void 0!==c){c+=Math.round(p%r.targetduration/r.partTarget)}this.log(`CDN Tune-in age: ${r.ageHeader}s last advanced ${h.toFixed(2)}s goal: ${p} skip sn ${t} to part ${c}`)}r.tuneInGoal=p}if(s=this.getDeliveryDirectives(r,e.deliveryDirectives,a,c),t||!u)return void this.loadPlaylist(s)}else(r.canBlockReload||r.canSkipUntil)&&(s=this.getDeliveryDirectives(r,e.deliveryDirectives,a,c));const l=this.hls.mainForwardBufferInfo,u=l?l.end-l.len:0,d=function(t,e=1/0){let n=1e3*t.targetduration;if(t.updated){const r=t.fragments,i=4;if(r.length&&n*i>e){const t=1e3*r[r.length-1].duration;t<n&&(n=t)}}else n/=2;return Math.round(n)}(r,1e3*(r.edge-u));r.updated&&o>this.requestScheduled+d&&(this.requestScheduled=i.loading.start),void 0!==a&&r.canBlockReload?this.requestScheduled=i.loading.first+d-(1e3*r.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+d<o?this.requestScheduled=o:this.requestScheduled-o<=0&&(this.requestScheduled+=d);let h=this.requestScheduled-o;h=Math.max(0,h),this.log(`reload live playlist ${t} in ${Math.round(h)} ms`),this.timer=self.setTimeout(()=>this.loadPlaylist(s),h)}else this.clearTimer()}getDeliveryDirectives(t,e,n,r){let i=function(t,e){const{canSkipUntil:n,canSkipDateRanges:r,endSN:i}=t;return n&&(void 0!==e?e-i:0)<n?r?na:ea:ta}(t,n);return null!=e&&e.skip&&t.deltaUpdateFailed&&(n=e.msn,r=e.part,i=ta),new ra(n,r,i)}checkRetry(t){const e=t.details,n=pa(t),r=t.errorAction,{action:i,retryCount:o=0,retryConfig:s}=r||{},a=!!r&&!!s&&(i===xa||!r.resolved&&i===Aa);if(a){var c;if(this.requestScheduled=-1,o>=s.maxNumRetry)return!1;if(n&&null!=(c=t.context)&&c.deliveryDirectives)this.warn(`Retrying playlist loading ${o+1}/${s.maxNumRetry} after "${e}" without delivery-directives`),this.loadPlaylist();else{const t=ma(s,o);this.timer=self.setTimeout(()=>this.loadPlaylist(),t),this.warn(`Retrying playlist loading ${o+1}/${s.maxNumRetry} after "${e}" in ${t}ms`)}t.levelRetry=!0,r.resolved=!0}return a}}class Ia{constructor(t,e=0,n=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=t,this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=e,this.totalWeight_=n}sample(t,e){const n=Math.pow(this.alpha_,t);this.estimate_=e*(1-n)+n*this.estimate_,this.totalWeight_+=t}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const t=1-Math.pow(this.alpha_,this.totalWeight_);if(t)return this.estimate_/t}return this.estimate_}}class Oa{constructor(t,e,n,r=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Ia(t),this.fast_=new Ia(e),this.defaultTTFB_=r,this.ttfb_=new Ia(t)}update(t,e){const{slow_:n,fast_:r,ttfb_:i}=this;n.halfLife!==t&&(this.slow_=new Ia(t,n.getEstimate(),n.getTotalWeight())),r.halfLife!==e&&(this.fast_=new Ia(e,r.getEstimate(),r.getTotalWeight())),i.halfLife!==t&&(this.ttfb_=new Ia(t,i.getEstimate(),i.getTotalWeight()))}sample(t,e){const n=(t=Math.max(t,this.minDelayMs_))/1e3,r=8*e/n;this.fast_.sample(n,r),this.slow_.sample(n,r)}sampleTTFB(t){const e=t/1e3,n=Math.sqrt(2)*Math.exp(-Math.pow(e,2)/2);this.ttfb_.sample(n,Math.max(t,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}const Da={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]},Ma={};function Na(t,e,n,r,i,o){const s=t.audioCodec?t.audioGroups:null,a=null==o?void 0:o.audioCodec,c=null==o?void 0:o.channels,l=c?parseInt(c):a?1/0:2;let u=null;if(null!=s&&s.length)try{u=1===s.length&&s[0]?e.groups[s[0]].channels:s.reduce((t,n)=>{if(n){const r=e.groups[n];if(!r)throw new Error(`Audio track group ${n} not found`);Object.keys(r.channels).forEach(e=>{t[e]=(t[e]||0)+r.channels[e]})}return t},{2:0})}catch(t){return!0}return void 0!==t.videoCodec&&(t.width>1920&&t.height>1088||t.height>1920&&t.width>1088||t.frameRate>Math.max(r,30)||"SDR"!==t.videoRange&&t.videoRange!==n||t.bitrate>Math.max(i,8e6))||!!u&&_i(l)&&Object.keys(u).some(t=>parseInt(t)>l)}function Pa(t,e,n){const r=t.videoCodec,i=t.audioCodec;if(!r||!i||!n)return Promise.resolve(Da);const o={width:t.width,height:t.height,bitrate:Math.ceil(Math.max(.9*t.bitrate,t.averageBitrate)),framerate:t.frameRate||30},s=t.videoRange;"SDR"!==s&&(o.transferFunction=s.toLowerCase());const a=r.split(",").map(t=>({type:"media-source",video:vi(vi({},o),{},{contentType:cs(t,"video")})}));return i&&t.audioGroups&&t.audioGroups.forEach(t=>{var n;t&&(null==(n=e.groups[t])||n.tracks.forEach(e=>{if(e.groupId===t){const t=e.channels||"",n=parseFloat(t);_i(n)&&n>2&&a.push.apply(a,i.split(",").map(t=>({type:"media-source",audio:{contentType:cs(t,"audio"),channels:""+n}})))}}))}),Promise.all(a.map(t=>{const e=function(t){const{audio:e,video:n}=t,r=n||e;if(r){const t=r.contentType.split('"')[1];if(n)return`r${n.height}x${n.width}f${Math.ceil(n.framerate)}${n.transferFunction||"sd"}_${t}_${Math.ceil(n.bitrate/1e5)}`;if(e)return`c${e.channels}${e.spatialRendering?"s":"n"}_${t}`}return""}(t);return Ma[e]||(Ma[e]=n.decodingInfo(t))})).then(t=>({supported:!t.some(t=>!t.supported),configurations:a,decodingInfoResults:t})).catch(t=>({supported:!1,configurations:a,decodingInfoResults:[],error:t}))}function Fa(t,e){let n=!1,r=[];return t&&(n="SDR"!==t,r=[t]),e&&(r=e.allowedVideoRanges||Zs.slice(0),n=void 0!==e.preferHDR?e.preferHDR:function(){if("function"==typeof matchMedia){const t=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(t.media!==e.media)return!0===t.matches}return!1}(),r=n?r.filter(t=>"SDR"!==t):["SDR"]),{preferHDR:n,allowedVideoRanges:r}}function Ba(t,e){Ii.log(`[abr] start candidates with "${t}" ignored because ${e}`)}function Ua(t,e,n){if("attrs"in t){const n=e.indexOf(t);if(-1!==n)return n}for(let r=0;r<e.length;r++){if($a(t,e[r],n))return r}return-1}function $a(t,e,n){const{groupId:r,name:i,lang:o,assocLang:s,characteristics:a,default:c}=t,l=t.forced;return(void 0===r||e.groupId===r)&&(void 0===i||e.name===i)&&(void 0===o||e.lang===o)&&(void 0===o||e.assocLang===s)&&(void 0===c||e.default===c)&&(void 0===l||e.forced===l)&&(void 0===a||function(t,e=""){const n=t.split(","),r=e.split(",");return n.length===r.length&&!n.some(t=>-1===r.indexOf(t))}(a,e.characteristics))&&(void 0===n||n(t,e))}function ja(t,e){const{audioCodec:n,channels:r}=t;return!(void 0!==n&&(e.audioCodec||"").substring(0,4)!==n.substring(0,4)||void 0!==r&&r!==(e.channels||"2"))}function Ga(t,e,n){for(let r=e;r;r--)if(n(t[r]))return r;for(let r=e+1;r<t.length;r++)if(n(t[r]))return r;return-1}var Ha="NOT_LOADED",Ka="APPENDING",Va="PARTIAL",qa="OK";class za{constructor(t){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=t,this._registerListeners()}_registerListeners(){const{hls:t}=this;t.on(Ai.BUFFER_APPENDED,this.onBufferAppended,this),t.on(Ai.FRAG_BUFFERED,this.onFragBuffered,this),t.on(Ai.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:t}=this;t.off(Ai.BUFFER_APPENDED,this.onBufferAppended,this),t.off(Ai.FRAG_BUFFERED,this.onFragBuffered,this),t.off(Ai.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(t,e){const n=this.activePartLists[e];if(n)for(let e=n.length;e--;){const r=n[e];if(!r)break;const i=r.end;if(r.start<=t&&null!==i&&t<=i)return r}return this.getBufferedFrag(t,e)}getBufferedFrag(t,e){const{fragments:n}=this,r=Object.keys(n);for(let i=r.length;i--;){const o=n[r[i]];if((null==o?void 0:o.body.type)===e&&o.buffered){const e=o.body;if(e.start<=t&&t<=e.end)return e}}return null}detectEvictedFragments(t,e,n,r){this.timeRanges&&(this.timeRanges[t]=e);const i=(null==r?void 0:r.fragment.sn)||-1;Object.keys(this.fragments).forEach(r=>{const o=this.fragments[r];if(!o)return;if(i>=o.body.sn)return;if(!o.buffered&&!o.loaded)return void(o.body.type===n&&this.removeFragment(o.body));const s=o.range[t];s&&s.time.some(t=>{const n=!this.isTimeBuffered(t.startPTS,t.endPTS,e);return n&&this.removeFragment(o.body),n})})}detectPartialFragments(t){const e=this.timeRanges,{frag:n,part:r}=t;if(!e||"initSegment"===n.sn)return;const i=Ya(n),o=this.fragments[i];if(!o||o.buffered&&n.gap)return;const s=!n.relurl;if(Object.keys(e).forEach(t=>{const i=n.elementaryStreams[t];if(!i)return;const a=e[t],c=s||!0===i.partial;o.range[t]=this.getBufferedTimes(n,r,c,a)}),o.loaded=null,Object.keys(o.range).length){o.buffered=!0;(o.body.endList=n.endList||o.body.endList)&&(this.endListFragments[o.body.type]=o),Wa(o)||this.removeParts(n.sn-1,n.type)}else this.removeFragment(o.body)}removeParts(t,e){const n=this.activePartLists[e];n&&(this.activePartLists[e]=n.filter(e=>e.fragment.sn>=t))}fragBuffered(t,e){const n=Ya(t);let r=this.fragments[n];!r&&e&&(r=this.fragments[n]={body:t,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},t.gap&&(this.hasGaps=!0)),r&&(r.loaded=null,r.buffered=!0)}getBufferedTimes(t,e,n,r){const i={time:[],partial:n},o=t.start,s=t.end,a=t.minEndPTS||s,c=t.maxStartPTS||o;for(let t=0;t<r.length;t++){const e=r.start(t)-this.bufferPadding,n=r.end(t)+this.bufferPadding;if(c>=e&&a<=n){i.time.push({startPTS:Math.max(o,r.start(t)),endPTS:Math.min(s,r.end(t))});break}if(o<n&&s>e){const e=Math.max(o,r.start(t)),n=Math.min(s,r.end(t));n>e&&(i.partial=!0,i.time.push({startPTS:e,endPTS:n}))}else if(s<=e)break}return i}getPartialFragment(t){let e,n,r,i=null,o=0;const{bufferPadding:s,fragments:a}=this;return Object.keys(a).forEach(c=>{const l=a[c];l&&Wa(l)&&(n=l.body.start-s,r=l.body.end+s,t>=n&&t<=r&&(e=Math.min(t-n,r-t),o<=e&&(i=l.body,o=e)))}),i}isEndListAppended(t){const e=this.endListFragments[t];return void 0!==e&&(e.buffered||Wa(e))}getState(t){const e=Ya(t),n=this.fragments[e];return n?n.buffered?Wa(n)?Va:qa:Ka:Ha}isTimeBuffered(t,e,n){let r,i;for(let o=0;o<n.length;o++){if(r=n.start(o)-this.bufferPadding,i=n.end(o)+this.bufferPadding,t>=r&&e<=i)return!0;if(e<=r)return!1}return!1}onFragLoaded(t,e){const{frag:n,part:r}=e;if("initSegment"===n.sn||n.bitrateTest)return;const i=r?null:e,o=Ya(n);this.fragments[o]={body:n,appendedPTS:null,loaded:i,buffered:!1,range:Object.create(null)}}onBufferAppended(t,e){const{frag:n,part:r,timeRanges:i}=e;if("initSegment"===n.sn)return;const o=n.type;if(r){let t=this.activePartLists[o];t||(this.activePartLists[o]=t=[]),t.push(r)}this.timeRanges=i,Object.keys(i).forEach(t=>{const e=i[t];this.detectEvictedFragments(t,e,o,r)})}onFragBuffered(t,e){this.detectPartialFragments(e)}hasFragment(t){const e=Ya(t);return!!this.fragments[e]}hasParts(t){var e;return!(null==(e=this.activePartLists[t])||!e.length)}removeFragmentsInRange(t,e,n,r,i){r&&!this.hasGaps||Object.keys(this.fragments).forEach(o=>{const s=this.fragments[o];if(!s)return;const a=s.body;a.type!==n||r&&!a.gap||a.start<e&&a.end>t&&(s.buffered||i)&&this.removeFragment(a)})}removeFragment(t){const e=Ya(t);t.stats.loaded=0,t.clearElementaryStreamInfo();const n=this.activePartLists[t.type];if(n){const e=t.sn;this.activePartLists[t.type]=n.filter(t=>t.fragment.sn!==e)}delete this.fragments[e],t.endList&&delete this.endListFragments[t.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function Wa(t){var e,n,r;return t.buffered&&(t.body.gap||(null==(e=t.range.video)?void 0:e.partial)||(null==(n=t.range.audio)?void 0:n.partial)||(null==(r=t.range.audiovideo)?void 0:r.partial))}function Ya(t){return`${t.type}_${t.level}_${t.sn}`}const Xa={length:0,start:()=>0,end:()=>0};class Qa{static isBuffered(t,e){try{if(t){const n=Qa.getBuffered(t);for(let t=0;t<n.length;t++)if(e>=n.start(t)&&e<=n.end(t))return!0}}catch(t){}return!1}static bufferInfo(t,e,n){try{if(t){const r=Qa.getBuffered(t),i=[];let o;for(o=0;o<r.length;o++)i.push({start:r.start(o),end:r.end(o)});return this.bufferedInfo(i,e,n)}}catch(t){}return{len:0,start:e,end:e,nextStart:void 0}}static bufferedInfo(t,e,n){e=Math.max(0,e),t.sort((function(t,e){const n=t.start-e.start;return n||e.end-t.end}));let r=[];if(n)for(let e=0;e<t.length;e++){const i=r.length;if(i){const o=r[i-1].end;t[e].start-o<n?t[e].end>o&&(r[i-1].end=t[e].end):r.push(t[e])}else r.push(t[e])}else r=t;let i,o=0,s=e,a=e;for(let t=0;t<r.length;t++){const c=r[t].start,l=r[t].end;if(e+n>=c&&e<l)s=c,a=l,o=a-e;else if(e+n<c){i=c;break}}return{len:o,start:s||0,end:a||0,nextStart:i}}static getBuffered(t){try{return t.buffered}catch(t){return Ii.log("failed to get media.buffered",t),Xa}}}class Ja{constructor(t,e,n,r=0,i=-1,o=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=t,this.sn=e,this.id=n,this.size=r,this.part=i,this.partial=o}}function Za(t,e){for(let r=0,i=t.length;r<i;r++){var n;if((null==(n=t[r])?void 0:n.cc)===e)return t[r]}return null}function tc(t,e){if(t){const n=t.start+e;t.start=t.startPTS=n,t.endPTS=n+t.duration}}function ec(t,e){const n=e.fragments;for(let e=0,r=n.length;e<r;e++)tc(n[e],t);e.fragmentHint&&tc(e.fragmentHint,t),e.alignedSliding=!0}function nc(t,e,n){e&&(!function(t,e,n){if(function(t,e,n){return!(!e||!(n.endCC>n.startCC||t&&t.cc<n.startCC))}(t,n,e)){const t=function(t,e){const n=t.fragments,r=e.fragments;if(!r.length||!n.length)return void Ii.log("No fragments to align");const i=Za(n,r[0].cc);if(i&&(!i||i.startPTS))return i;Ii.log("No frag in previous level to align on")}(n,e);t&&_i(t.start)&&(Ii.log("Adjusting PTS using last level due to CC increase within current level "+e.url),ec(t.start,e))}}(t,n,e),!n.alignedSliding&&e&&rc(n,e),n.alignedSliding||!e||n.skippedSegments||la(e,n))}function rc(t,e){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;const n=t.fragments,r=e.fragments;if(!n.length||!r.length)return;let i,o;const s=Math.min(e.endCC,t.endCC);e.startCC<s&&t.startCC<s&&(i=Za(r,s),o=Za(n,s)),i&&o||(i=r[Math.floor(r.length/2)],o=Za(n,i.cc)||n[Math.floor(n.length/2)]);const a=i.programDateTime,c=o.programDateTime;if(!a||!c)return;ec((c-a)/1e3-(o.start-i.start),t)}const ic=Math.pow(2,17);class oc{constructor(t){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=t}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(t,e){const n=t.url;if(!n)return Promise.reject(new cc({type:Ti.NETWORK_ERROR,details:xi.FRAG_LOAD_ERROR,fatal:!1,frag:t,error:new Error("Fragment does not have a "+(n?"part list":"url")),networkDetails:null}));this.abort();const r=this.config,i=r.fLoader,o=r.loader;return new Promise((s,a)=>{if(this.loader&&this.loader.destroy(),t.gap){if(t.tagList.some(t=>"GAP"===t[0]))return void a(ac(t));t.gap=!1}const c=this.loader=t.loader=i?new i(r):new o(r),l=sc(t),u=va(r.fragLoadPolicy.default),d={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===t.sn?1/0:ic};t.stats=c.stats,c.load(l,d,{onSuccess:(e,n,r,i)=>{this.resetLoader(t,c);let o=e.data;r.resetIV&&t.decryptdata&&(t.decryptdata.iv=new Uint8Array(o.slice(0,16)),o=o.slice(16)),s({frag:t,part:null,payload:o,networkDetails:i})},onError:(e,r,i,o)=>{this.resetLoader(t,c),a(new cc({type:Ti.NETWORK_ERROR,details:xi.FRAG_LOAD_ERROR,fatal:!1,frag:t,response:vi({url:n,data:void 0},e),error:new Error(`HTTP Error ${e.code} ${e.text}`),networkDetails:i,stats:o}))},onAbort:(e,n,r)=>{this.resetLoader(t,c),a(new cc({type:Ti.NETWORK_ERROR,details:xi.INTERNAL_ABORTED,fatal:!1,frag:t,error:new Error("Aborted"),networkDetails:r,stats:e}))},onTimeout:(e,n,r)=>{this.resetLoader(t,c),a(new cc({type:Ti.NETWORK_ERROR,details:xi.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,error:new Error(`Timeout after ${d.timeout}ms`),networkDetails:r,stats:e}))},onProgress:(n,r,i,o)=>{e&&e({frag:t,part:null,payload:i,networkDetails:o})}})})}loadPart(t,e,n){this.abort();const r=this.config,i=r.fLoader,o=r.loader;return new Promise((s,a)=>{if(this.loader&&this.loader.destroy(),t.gap||e.gap)return void a(ac(t,e));const c=this.loader=t.loader=i?new i(r):new o(r),l=sc(t,e),u=va(r.fragLoadPolicy.default),d={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:ic};e.stats=c.stats,c.load(l,d,{onSuccess:(r,i,o,a)=>{this.resetLoader(t,c),this.updateStatsFromPart(t,e);const l={frag:t,part:e,payload:r.data,networkDetails:a};n(l),s(l)},onError:(n,r,i,o)=>{this.resetLoader(t,c),a(new cc({type:Ti.NETWORK_ERROR,details:xi.FRAG_LOAD_ERROR,fatal:!1,frag:t,part:e,response:vi({url:l.url,data:void 0},n),error:new Error(`HTTP Error ${n.code} ${n.text}`),networkDetails:i,stats:o}))},onAbort:(n,r,i)=>{t.stats.aborted=e.stats.aborted,this.resetLoader(t,c),a(new cc({type:Ti.NETWORK_ERROR,details:xi.INTERNAL_ABORTED,fatal:!1,frag:t,part:e,error:new Error("Aborted"),networkDetails:i,stats:n}))},onTimeout:(n,r,i)=>{this.resetLoader(t,c),a(new cc({type:Ti.NETWORK_ERROR,details:xi.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,part:e,error:new Error(`Timeout after ${d.timeout}ms`),networkDetails:i,stats:n}))}})})}updateStatsFromPart(t,e){const n=t.stats,r=e.stats,i=r.total;if(n.loaded+=r.loaded,i){const r=Math.round(t.duration/e.duration),o=Math.min(Math.round(n.loaded/i),r),s=(r-o)*Math.round(n.loaded/o);n.total=n.loaded+s}else n.total=Math.max(n.loaded,n.total);const o=n.loading,s=r.loading;o.start?o.first+=s.first-s.start:(o.start=s.start,o.first=s.first),o.end=s.end}resetLoader(t,e){t.loader=null,this.loader===e&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),e.destroy()}}function sc(t,e=null){const n=e||t,r={frag:t,part:e,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},i=n.byteRangeStartOffset,o=n.byteRangeEndOffset;if(_i(i)&&_i(o)){var s;let e=i,n=o;if("initSegment"===t.sn&&"AES-128"===(null==(s=t.decryptdata)?void 0:s.method)){const t=o-i;t%16&&(n=o+(16-t%16)),0!==i&&(r.resetIV=!0,e=i-16)}r.rangeStart=e,r.rangeEnd=n}return r}function ac(t,e){const n=new Error(`GAP ${t.gap?"tag":"attribute"} found`),r={type:Ti.MEDIA_ERROR,details:xi.FRAG_GAP,fatal:!1,frag:t,error:n,networkDetails:null};return e&&(r.part=e),(e||t).stats.aborted=!0,new cc(r)}class cc extends Error{constructor(t){super(t.error.message),this.data=void 0,this.data=t}}class lc{constructor(t,e){this.subtle=void 0,this.aesIV=void 0,this.subtle=t,this.aesIV=e}decrypt(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)}}class uc{constructor(t,e){this.subtle=void 0,this.key=void 0,this.subtle=t,this.key=e}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}class dc{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(t){const e=new DataView(t),n=new Uint32Array(4);for(let t=0;t<4;t++)n[t]=e.getUint32(4*t);return n}initTable(){const t=this.sBox,e=this.invSBox,n=this.subMix,r=n[0],i=n[1],o=n[2],s=n[3],a=this.invSubMix,c=a[0],l=a[1],u=a[2],d=a[3],h=new Uint32Array(256);let f=0,p=0,g=0;for(g=0;g<256;g++)h[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){let n=p^p<<1^p<<2^p<<3^p<<4;n=n>>>8^255&n^99,t[f]=n,e[n]=f;const a=h[f],g=h[a],m=h[g];let v=257*h[n]^16843008*n;r[f]=v<<24|v>>>8,i[f]=v<<16|v>>>16,o[f]=v<<8|v>>>24,s[f]=v,v=16843009*m^65537*g^257*a^16843008*f,c[n]=v<<24|v>>>8,l[n]=v<<16|v>>>16,u[n]=v<<8|v>>>24,d[n]=v,f?(f=a^h[h[h[m^a]]],p^=h[h[p]]):f=p=1}}expandKey(t){const e=this.uint8ArrayToUint32Array_(t);let n=!0,r=0;for(;r<e.length&&n;)n=e[r]===this.key[r],r++;if(n)return;this.key=e;const i=this.keySize=e.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);const o=this.ksRows=4*(i+6+1);let s,a;const c=this.keySchedule=new Uint32Array(o),l=this.invKeySchedule=new Uint32Array(o),u=this.sBox,d=this.rcon,h=this.invSubMix,f=h[0],p=h[1],g=h[2],m=h[3];let v,y;for(s=0;s<o;s++)s<i?v=c[s]=e[s]:(y=v,s%i==0?(y=y<<8|y>>>24,y=u[y>>>24]<<24|u[y>>>16&255]<<16|u[y>>>8&255]<<8|u[255&y],y^=d[s/i|0]<<24):i>6&&s%i==4&&(y=u[y>>>24]<<24|u[y>>>16&255]<<16|u[y>>>8&255]<<8|u[255&y]),c[s]=v=(c[s-i]^y)>>>0);for(a=0;a<o;a++)s=o-a,y=3&a?c[s]:c[s-4],l[a]=a<4||s<=4?y:f[u[y>>>24]]^p[u[y>>>16&255]]^g[u[y>>>8&255]]^m[u[255&y]],l[a]=l[a]>>>0}networkToHostOrderSwap(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24}decrypt(t,e,n){const r=this.keySize+6,i=this.invKeySchedule,o=this.invSBox,s=this.invSubMix,a=s[0],c=s[1],l=s[2],u=s[3],d=this.uint8ArrayToUint32Array_(n);let h=d[0],f=d[1],p=d[2],g=d[3];const m=new Int32Array(t),v=new Int32Array(m.length);let y,b,w,_,E,S,A,T,x,k,C,R,L,I;const O=this.networkToHostOrderSwap;for(;e<m.length;){for(x=O(m[e]),k=O(m[e+1]),C=O(m[e+2]),R=O(m[e+3]),E=x^i[0],S=R^i[1],A=C^i[2],T=k^i[3],L=4,I=1;I<r;I++)y=a[E>>>24]^c[S>>16&255]^l[A>>8&255]^u[255&T]^i[L],b=a[S>>>24]^c[A>>16&255]^l[T>>8&255]^u[255&E]^i[L+1],w=a[A>>>24]^c[T>>16&255]^l[E>>8&255]^u[255&S]^i[L+2],_=a[T>>>24]^c[E>>16&255]^l[S>>8&255]^u[255&A]^i[L+3],E=y,S=b,A=w,T=_,L+=4;y=o[E>>>24]<<24^o[S>>16&255]<<16^o[A>>8&255]<<8^o[255&T]^i[L],b=o[S>>>24]<<24^o[A>>16&255]<<16^o[T>>8&255]<<8^o[255&E]^i[L+1],w=o[A>>>24]<<24^o[T>>16&255]<<16^o[E>>8&255]<<8^o[255&S]^i[L+2],_=o[T>>>24]<<24^o[E>>16&255]<<16^o[S>>8&255]<<8^o[255&A]^i[L+3],v[e]=O(y^h),v[e+1]=O(_^f),v[e+2]=O(w^p),v[e+3]=O(b^g),h=x,f=k,p=C,g=R,e+=4}return v.buffer}}class hc{constructor(t,{removePKCS7Padding:e=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=t.enableSoftwareAES,this.removePKCS7Padding=e,e)try{const t=self.crypto;t&&(this.subtle=t.subtle||t.webkitSubtle)}catch(t){}null===this.subtle&&(this.useSoftware=!0)}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:t,remainderData:e}=this;if(!t||e)return this.reset(),null;const n=new Uint8Array(t);return this.reset(),this.removePKCS7Padding?function(t){const e=t.byteLength,n=e&&new DataView(t.buffer).getUint8(e-1);return n?so(t,0,e-n):t}(n):n}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(t,e,n){return this.useSoftware?new Promise((r,i)=>{this.softwareDecrypt(new Uint8Array(t),e,n);const o=this.flush();o?r(o.buffer):i(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(t),e,n)}softwareDecrypt(t,e,n){const{currentIV:r,currentResult:i,remainderData:o}=this;this.logOnce("JS AES decrypt"),o&&(t=Ko(o,t),this.remainderData=null);const s=this.getValidChunk(t);if(!s.length)return null;r&&(n=r);let a=this.softwareDecrypter;a||(a=this.softwareDecrypter=new dc),a.expandKey(e);const c=i;return this.currentResult=a.decrypt(s.buffer,0,n),this.currentIV=so(s,-16).buffer,c||null}webCryptoDecrypt(t,e,n){const r=this.subtle;return this.key===e&&this.fastAesKey||(this.key=e,this.fastAesKey=new uc(r,e)),this.fastAesKey.expandKey().then(e=>{if(!r)return Promise.reject(new Error("web crypto not initialized"));this.logOnce("WebCrypto AES decrypt");return new lc(r,new Uint8Array(n)).decrypt(t.buffer,e)}).catch(r=>(Ii.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${r.name}: ${r.message}`),this.onWebCryptoError(t,e,n)))}onWebCryptoError(t,e,n){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(t,e,n);const r=this.flush();if(r)return r.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(t){let e=t;const n=t.length-t.length%16;return n!==t.length&&(e=so(t,0,n),this.remainderData=so(t,n)),e}logOnce(t){this.logEnabled&&(Ii.log("[decrypter]: "+t),this.logEnabled=!1)}}const fc=function(t){let e="";const n=t.length;for(let r=0;r<n;r++)e+=`[${t.start(r).toFixed(3)}-${t.end(r).toFixed(3)}]`;return e},pc="STOPPED",gc="IDLE",mc="KEY_LOADING",vc="FRAG_LOADING",yc="FRAG_LOADING_WAITING_RETRY",bc="WAITING_TRACK",wc="PARSING",_c="PARSED",Ec="ENDED",Sc="ERROR",Ac="WAITING_INIT_PTS",Tc="WAITING_LEVEL";class xc extends class{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(t){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,t),!0)}clearInterval(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}clearNextTick(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}tick(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}{constructor(t,e,n,r,i){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=pc,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=i,this.logPrefix=r,this.log=Ii.log.bind(Ii,r+":"),this.warn=Ii.warn.bind(Ii,r+":"),this.hls=t,this.fragmentLoader=new oc(t.config),this.keyLoader=n,this.fragmentTracker=e,this.config=t.config,this.decrypter=new hc(t.config),t.on(Ai.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(t){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const t=this.fragCurrent;null!=t&&t.loader&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=pc}_streamEnded(t,e){if(e.live||t.nextStart||!t.end||!this.media)return!1;const n=e.partList;if(null!=n&&n.length){const t=n[n.length-1];return Qa.isBuffered(this.media,t.start+t.duration/2)}const r=e.fragments[e.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(r)}getLevelDetails(){var t;if(this.levels&&null!==this.levelLastLoaded)return null==(t=this.levelLastLoaded)?void 0:t.details}onMediaAttached(t,e){const n=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),n.addEventListener("seeking",this.onvseeking),n.addEventListener("ended",this.onvended);const r=this.config;this.levels&&r.autoStartLoad&&this.state===pc&&this.startLoad(r.startPosition)}onMediaDetaching(){const t=this.media;null!=t&&t.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),t&&this.onvseeking&&this.onvended&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:t,fragCurrent:e,media:n,mediaBuffer:r,state:i}=this,o=n?n.currentTime:0,s=Qa.bufferInfo(r||n,o,t.maxBufferHole);if(this.log(`media seeking to ${_i(o)?o.toFixed(3):o}, state: ${i}`),this.state===Ec)this.resetLoadingState();else if(e){const n=t.maxFragLookUpTolerance,r=e.start-n,i=e.start+e.duration+n;if(!s.len||i<s.start||r>s.end){const t=o>i;(o<r||t)&&(t&&e.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),e.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}n&&(this.fragmentTracker.removeFragmentsInRange(o,1/0,this.playlistType,!0),this.lastCurrentTime=o),this.loadedmetadata||s.len||(this.nextLoadPosition=this.startPosition=o),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(t,e){this.startTimeOffset=e.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.hls.off(Ai.MANIFEST_LOADED,this.onManifestLoaded,this),this.stopLoad(),super.onHandlerDestroying(),this.hls=null}onHandlerDestroyed(){this.state=pc,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(t,e,n){this._loadFragForPlayback(t,e,n)}_loadFragForPlayback(t,e,n){this._doFragLoad(t,e,n,e=>{if(this.fragContextChanged(t))return this.warn(`Fragment ${t.sn}${e.part?" p: "+e.part.index:""} of level ${t.level} was dropped during download.`),void this.fragmentTracker.removeFragment(t);t.stats.chunkCount++,this._handleFragmentLoadProgress(e)}).then(e=>{if(!e)return;const n=this.state;this.fragContextChanged(t)?(n===vc||!this.fragCurrent&&n===wc)&&(this.fragmentTracker.removeFragment(t),this.state=gc):("payload"in e&&(this.log(`Loaded fragment ${t.sn} of level ${t.level}`),this.hls.trigger(Ai.FRAG_LOADED,e)),this._handleFragmentLoadComplete(e))}).catch(e=>{this.state!==pc&&this.state!==Sc&&(this.warn(e),this.resetFragmentLoading(t))})}clearTrackerIfNeeded(t){var e;const{fragmentTracker:n}=this;if(n.getState(t)===Ka){const e=t.type,r=this.getFwdBufferInfo(this.mediaBuffer,e),i=Math.max(t.duration,r?r.len:this.config.maxBufferLength);this.reduceMaxBufferLength(i)&&n.removeFragment(t)}else 0===(null==(e=this.mediaBuffer)?void 0:e.buffered.length)?n.removeAllFragments():n.hasParts(t.type)&&(n.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type}),n.getState(t)===Va&&n.removeFragment(t))}checkLiveUpdate(t){if(t.updated&&!t.live){const e=t.fragments[t.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type})}t.fragments[0]||(t.deltaUpdateFailed=!0)}flushMainBuffer(t,e,n=null){if(!(t-e))return;const r={startOffset:t,endOffset:e,type:n};this.hls.trigger(Ai.BUFFER_FLUSHING,r)}_loadInitSegment(t,e){this._doFragLoad(t,e).then(e=>{if(!e||this.fragContextChanged(t)||!this.levels)throw new Error("init load aborted");return e}).then(e=>{const{hls:n}=this,{payload:r}=e,i=t.decryptdata;if(r&&r.byteLength>0&&null!=i&&i.key&&i.iv&&"AES-128"===i.method){const o=self.performance.now();return this.decrypter.decrypt(new Uint8Array(r),i.key.buffer,i.iv.buffer).catch(e=>{throw n.trigger(Ai.ERROR,{type:Ti.MEDIA_ERROR,details:xi.FRAG_DECRYPT_ERROR,fatal:!1,error:e,reason:e.message,frag:t}),e}).then(r=>{const i=self.performance.now();return n.trigger(Ai.FRAG_DECRYPTED,{frag:t,payload:r,stats:{tstart:o,tdecrypt:i}}),e.payload=r,this.completeInitSegmentLoad(e)})}return this.completeInitSegmentLoad(e)}).catch(e=>{this.state!==pc&&this.state!==Sc&&(this.warn(e),this.resetFragmentLoading(t))})}completeInitSegmentLoad(t){const{levels:e}=this;if(!e)throw new Error("init load aborted, missing levels");const n=t.frag.stats;this.state=gc,t.frag.data=new Uint8Array(t.payload),n.parsing.start=n.buffering.start=self.performance.now(),n.parsing.end=n.buffering.end=self.performance.now(),this.tick()}fragContextChanged(t){const{fragCurrent:e}=this;return!t||!e||t.sn!==e.sn||t.level!==e.level}fragBufferedComplete(t,e){var n,r,i,o;const s=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${t.type} sn: ${t.sn}${e?" part: "+e.index:""} of ${this.playlistType===Os?"level":"track"} ${t.level} (frag:[${(null!=(n=t.startPTS)?n:NaN).toFixed(3)}-${(null!=(r=t.endPTS)?r:NaN).toFixed(3)}] > buffer:${s?fc(Qa.getBuffered(s)):"(detached)"})`),"initSegment"!==t.sn){var a;if(t.type!==Ms){const e=t.elementaryStreams;if(!Object.keys(e).some(t=>!!e[t]))return void(this.state=gc)}const e=null==(a=this.levels)?void 0:a[t.level];null!=e&&e.fragmentError&&(this.log(`Resetting level fragment error count of ${e.fragmentError} on frag buffered`),e.fragmentError=0)}this.state=gc,s&&(!this.loadedmetadata&&t.type==Os&&s.buffered.length&&(null==(i=this.fragCurrent)?void 0:i.sn)===(null==(o=this.fragPrevious)?void 0:o.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(t){const{transmuxer:e}=this;if(!e)return;const{frag:n,part:r,partsLoaded:i}=t,o=!i||0===i.length||i.some(t=>!t),s=new Ja(n.level,n.sn,n.stats.chunkCount+1,0,r?r.index:-1,!o);e.flush(s)}_handleFragmentLoadProgress(t){}_doFragLoad(t,e,n=null,r){var i;const o=null==e?void 0:e.details;if(!this.levels||!o)throw new Error(`frag load aborted, missing level${o?"":" detail"}s`);let s=null;if(!t.encrypted||null!=(i=t.decryptdata)&&i.key?!t.encrypted&&o.encryptedFragments.length&&this.keyLoader.loadClear(t,o.encryptedFragments):(this.log(`Loading key for ${t.sn} of [${o.startSN}-${o.endSN}], ${"[stream-controller]"===this.logPrefix?"level":"track"} ${t.level}`),this.state=mc,this.fragCurrent=t,s=this.keyLoader.load(t).then(t=>{if(!this.fragContextChanged(t.frag))return this.hls.trigger(Ai.KEY_LOADED,t),this.state===mc&&(this.state=gc),t}),this.hls.trigger(Ai.KEY_LOADING,{frag:t}),null===this.fragCurrent&&(s=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),n=Math.max(t.start,n||0),this.config.lowLatencyMode&&"initSegment"!==t.sn){const i=o.partList;if(i&&r){n>t.end&&o.fragmentHint&&(t=o.fragmentHint);const a=this.getNextPart(i,t,n);if(a>-1){const c=i[a];let l;return this.log(`Loading part sn: ${t.sn} p: ${c.index} cc: ${t.cc} of playlist [${o.startSN}-${o.endSN}] parts [0-${a}-${i.length-1}] ${"[stream-controller]"===this.logPrefix?"level":"track"}: ${t.level}, target: ${parseFloat(n.toFixed(3))}`),this.nextLoadPosition=c.start+c.duration,this.state=vc,l=s?s.then(n=>!n||this.fragContextChanged(n.frag)?null:this.doFragPartsLoad(t,c,e,r)).catch(t=>this.handleFragLoadError(t)):this.doFragPartsLoad(t,c,e,r).catch(t=>this.handleFragLoadError(t)),this.hls.trigger(Ai.FRAG_LOADING,{frag:t,part:c,targetBufferTime:n}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):l}if(!t.url||this.loadedEndOfParts(i,n))return Promise.resolve(null)}}this.log(`Loading fragment ${t.sn} cc: ${t.cc} ${o?"of ["+o.startSN+"-"+o.endSN+"] ":""}${"[stream-controller]"===this.logPrefix?"level":"track"}: ${t.level}, target: ${parseFloat(n.toFixed(3))}`),_i(t.sn)&&!this.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),this.state=vc;const a=this.config.progressive;let c;return c=a&&s?s.then(e=>!e||this.fragContextChanged(null==e?void 0:e.frag)?null:this.fragmentLoader.load(t,r)).catch(t=>this.handleFragLoadError(t)):Promise.all([this.fragmentLoader.load(t,a?r:void 0),s]).then(([t])=>(!a&&t&&r&&r(t),t)).catch(t=>this.handleFragLoadError(t)),this.hls.trigger(Ai.FRAG_LOADING,{frag:t,targetBufferTime:n}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):c}doFragPartsLoad(t,e,n,r){return new Promise((i,o)=>{var s;const a=[],c=null==(s=n.details)?void 0:s.partList,l=e=>{this.fragmentLoader.loadPart(t,e,r).then(r=>{a[e.index]=r;const o=r.part;this.hls.trigger(Ai.FRAG_LOADED,r);const s=da(n,t.sn,e.index+1)||ha(c,t.sn,e.index+1);if(!s)return i({frag:t,part:o,partsLoaded:a});l(s)}).catch(o)};l(e)})}handleFragLoadError(t){if("data"in t){const e=t.data;t.data&&e.details===xi.INTERNAL_ABORTED?this.handleFragLoadAborted(e.frag,e.part):this.hls.trigger(Ai.ERROR,e)}else this.hls.trigger(Ai.ERROR,{type:Ti.OTHER_ERROR,details:xi.INTERNAL_EXCEPTION,err:t,error:t,fatal:!0});return null}_handleTransmuxerFlush(t){const e=this.getCurrentContext(t);if(!e||this.state!==wc)return void(this.fragCurrent||this.state===pc||this.state===Sc||(this.state=gc));const{frag:n,part:r,level:i}=e,o=self.performance.now();n.stats.parsing.end=o,r&&(r.stats.parsing.end=o),this.updateLevelTiming(n,r,i,t.partial)}getCurrentContext(t){const{levels:e,fragCurrent:n}=this,{level:r,sn:i,part:o}=t;if(null==e||!e[r])return this.warn(`Levels object was unset while buffering fragment ${i} of level ${r}. The current chunk will not be buffered.`),null;const s=e[r],a=o>-1?da(s,i,o):null,c=a?a.fragment:function(t,e,n){if(null==t||!t.details)return null;const r=t.details;let i=r.fragments[e-r.startSN];return i||(i=r.fragmentHint,i&&i.sn===e?i:e<r.startSN&&n&&n.sn===e?n:null)}(s,i,n);return c?(n&&n!==c&&(c.stats=n.stats),{frag:c,part:a,level:s}):null}bufferFragmentData(t,e,n,r,i){var o;if(!t||this.state!==wc)return;const{data1:s,data2:a}=t;let c=s;if(s&&a&&(c=Ko(s,a)),null==(o=c)||!o.length)return;const l={type:t.type,frag:e,part:n,chunkMeta:r,parent:e.type,data:c};if(this.hls.trigger(Ai.BUFFER_APPENDING,l),t.dropped&&t.independent&&!n){if(i)return;this.flushBufferGap(e)}}flushBufferGap(t){const e=this.media;if(!e)return;if(!Qa.isBuffered(e,e.currentTime))return void this.flushMainBuffer(0,t.start);const n=e.currentTime,r=Qa.bufferInfo(e,n,0),i=t.duration,o=Math.min(2*this.config.maxFragLookUpTolerance,.25*i),s=Math.max(Math.min(t.start-o,r.end-o),n+o);t.start-s>o&&this.flushMainBuffer(s,t.start)}getFwdBufferInfo(t,e){const n=this.getLoadPosition();return _i(n)?this.getFwdBufferInfoAtPos(t,n,e):null}getFwdBufferInfoAtPos(t,e,n){const{config:{maxBufferHole:r}}=this,i=Qa.bufferInfo(t,e,r);if(0===i.len&&void 0!==i.nextStart){const o=this.fragmentTracker.getBufferedFrag(e,n);if(o&&i.nextStart<o.end)return Qa.bufferInfo(t,e,Math.max(i.nextStart,r))}return i}getMaxBufferLength(t){const{config:e}=this;let n;return n=t?Math.max(8*e.maxBufferSize/t,e.maxBufferLength):e.maxBufferLength,Math.min(n,e.maxMaxBufferLength)}reduceMaxBufferLength(t){const e=this.config,n=t||e.maxBufferLength;return e.maxMaxBufferLength>=n&&(e.maxMaxBufferLength/=2,this.warn(`Reduce max buffer length to ${e.maxMaxBufferLength}s`),!0)}getAppendedFrag(t,e=Os){const n=this.fragmentTracker.getAppendedFrag(t,Os);return n&&"fragment"in n?n.fragment:n}getNextFragment(t,e){const n=e.fragments,r=n.length;if(!r)return null;const{config:i}=this,o=n[0].start;let s;if(e.live){const a=i.initialLiveManifestSize;if(r<a)return this.warn(`Not enough fragments to start playback (have: ${r}, need: ${a})`),null;(!e.PTSKnown&&!this.startFragRequested&&-1===this.startPosition||t<o)&&(s=this.getInitialLiveFragment(e,n),this.startPosition=this.nextLoadPosition=s?this.hls.liveSyncPosition||s.start:t)}else t<=o&&(s=n[0]);if(!s){const n=i.lowLatencyMode?e.partEnd:e.fragmentEnd;s=this.getFragmentAtPosition(t,n,e)}return this.mapToInitFragWhenRequired(s)}isLoopLoading(t,e){const n=this.fragmentTracker.getState(t);return(n===qa||n===Va&&!!t.gap)&&this.nextLoadPosition>e}getNextFragmentLoopLoading(t,e,n,r,i){const o=t.gap,s=this.getNextFragment(this.nextLoadPosition,e);if(null===s)return s;if(t=s,o&&t&&!t.gap&&n.nextStart){const e=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,n.nextStart,r);if(null!==e&&n.len+e.len>=i)return this.log(`buffer full after gaps in "${r}" playlist starting at sn: ${t.sn}`),null}return t}mapToInitFragWhenRequired(t){return null==t||!t.initSegment||null!=t&&t.initSegment.data||this.bitrateTest?t:t.initSegment}getNextPart(t,e,n){let r=-1,i=!1,o=!0;for(let s=0,a=t.length;s<a;s++){const a=t[s];if(o=o&&!a.independent,r>-1&&n<a.start)break;const c=a.loaded;c?r=-1:(i||a.independent||o)&&a.fragment===e&&(r=s),i=c}return r}loadedEndOfParts(t,e){const n=t[t.length-1];return n&&e>n.start&&n.loaded}getInitialLiveFragment(t,e){const n=this.fragPrevious;let r=null;if(n){if(t.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+n.programDateTime),r=function(t,e,n){if(null===e||!Array.isArray(t)||!t.length||!_i(e))return null;if(e<(t[0].programDateTime||0))return null;if(e>=(t[t.length-1].endProgramDateTime||0))return null;n=n||0;for(let r=0;r<t.length;++r){const i=t[r];if(Ea(e,n,i))return i}return null}(e,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!r){const i=n.sn+1;if(i>=t.startSN&&i<=t.endSN){const o=e[i-t.startSN];n.cc===o.cc&&(r=o,this.log("Live playlist, switching playlist, load frag with next SN: "+r.sn))}r||(r=function(t,e){return ba(t,t=>t.cc<e?1:t.cc>e?-1:0)}(e,n.cc),r&&this.log("Live playlist, switching playlist, load frag with same CC: "+r.sn))}}else{const e=this.hls.liveSyncPosition;null!==e&&(r=this.getFragmentAtPosition(e,this.bitrateTest?t.fragmentEnd:t.edge,t))}return r}getFragmentAtPosition(t,e,n){const{config:r}=this;let{fragPrevious:i}=this,{fragments:o,endSN:s}=n;const{fragmentHint:a}=n,c=r.maxFragLookUpTolerance,l=n.partList,u=!!(r.lowLatencyMode&&null!=l&&l.length&&a);let d;if(u&&a&&!this.bitrateTest&&(o=o.concat(a),s=a.sn),t<e){d=wa(i,o,t,t>e-c?0:c)}else d=o[o.length-1];if(d){const t=d.sn-n.startSN,e=this.fragmentTracker.getState(d);if((e===qa||e===Va&&d.gap)&&(i=d),i&&d.sn===i.sn&&(!u||l[0].fragment.sn>d.sn)){if(i&&d.level===i.level){const e=o[t+1];d=d.sn<s&&this.fragmentTracker.getState(e)!==qa?e:null}}}return d}synchronizeToLiveEdge(t){const{config:e,media:n}=this;if(!n)return;const r=this.hls.liveSyncPosition,i=n.currentTime,o=t.fragments[0].start,s=t.edge,a=i>=o-e.maxFragLookUpTolerance&&i<=s;if(null!==r&&n.duration>r&&(i<r||!a)){const o=void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:e.liveMaxLatencyDurationCount*t.targetduration;(!a&&n.readyState<4||i<s-o)&&(this.loadedmetadata||(this.nextLoadPosition=r),n.readyState&&(this.warn(`Playback: ${i.toFixed(3)} is located too far from the end of live sliding playlist: ${s}, reset currentTime to : ${r.toFixed(3)}`),n.currentTime=r))}}alignPlaylists(t,e,n){const r=t.fragments.length;if(!r)return this.warn("No fragments in live playlist"),0;const i=t.fragments[0].start,o=!e,s=t.alignedSliding&&_i(i);if(o||!s&&!i){const{fragPrevious:i}=this;nc(i,n,t);const o=t.fragments[0].start;return this.log(`Live playlist sliding: ${o.toFixed(2)} start-sn: ${e?e.startSN:"na"}->${t.startSN} prev-sn: ${i?i.sn:"na"} fragments: ${r}`),o}return i}waitForCdnTuneIn(t){return t.live&&t.canBlockReload&&t.partTarget&&t.tuneInGoal>Math.max(t.partHoldBack,3*t.partTarget)}setStartPosition(t,e){let n=this.startPosition;if(n<e&&(n=-1),-1===n||-1===this.lastCurrentTime){const r=null!==this.startTimeOffset,i=r?this.startTimeOffset:t.startTimeOffset;null!==i&&_i(i)?(n=e+i,i<0&&(n+=t.totalduration),n=Math.min(Math.max(e,n),e+t.totalduration),this.log(`Start time offset ${i} found in ${r?"multivariant":"media"} playlist, adjust startPosition to ${n}`),this.startPosition=n):t.live?n=this.hls.liveSyncPosition||e:this.startPosition=n=0,this.lastCurrentTime=n}this.nextLoadPosition=n}getLoadPosition(){const{media:t}=this;let e=0;return this.loadedmetadata&&t?e=t.currentTime:this.nextLoadPosition&&(e=this.nextLoadPosition),e}handleFragLoadAborted(t,e){this.transmuxer&&"initSegment"!==t.sn&&t.stats.aborted&&(this.warn(`Fragment ${t.sn}${e?" part "+e.index:""} of level ${t.level} was aborted`),this.resetFragmentLoading(t))}resetFragmentLoading(t){this.fragCurrent&&(this.fragContextChanged(t)||this.state===yc)||(this.state=gc)}onFragmentOrKeyLoadError(t,e){if(e.chunkMeta&&!e.frag){const t=this.getCurrentContext(e.chunkMeta);t&&(e.frag=t.frag)}const n=e.frag;if(!n||n.type!==t||!this.levels)return;var r;if(this.fragContextChanged(n))return void this.warn(`Frag load error must match current frag to retry ${n.url} > ${null==(r=this.fragCurrent)?void 0:r.url}`);const i=e.details===xi.FRAG_GAP;i&&this.fragmentTracker.fragBuffered(n,!0);const o=e.errorAction,{action:s,retryCount:a=0,retryConfig:c}=o||{};if(o&&s===xa&&c){this.resetStartWhenNotLoaded(this.levelLastLoaded);const r=ma(c,a);this.warn(`Fragment ${n.sn} of ${t} ${n.level} errored with ${e.details}, retrying loading ${a+1}/${c.maxNumRetry} in ${r}ms`),o.resolved=!0,this.retryDate=self.performance.now()+r,this.state=yc}else if(c&&o){if(this.resetFragmentErrors(t),!(a<c.maxNumRetry))return void Ii.warn(`${e.details} reached or exceeded max retry (${a})`);i||s===Ta||(o.resolved=!0)}else(null==o?void 0:o.action)===Aa?this.state=Tc:this.state=Sc;this.tickImmediate()}reduceLengthAndFlushBuffer(t){if(this.state===wc||this.state===_c){const e=t.parent,n=this.getFwdBufferInfo(this.mediaBuffer,e),r=n&&n.len>.5;r&&this.reduceMaxBufferLength(n.len);const i=!r;return i&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${e} buffer`),t.frag&&(this.fragmentTracker.removeFragment(t.frag),this.nextLoadPosition=t.frag.start),this.resetLoadingState(),i}return!1}resetFragmentErrors(t){t===Ds&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==pc&&(this.state=gc)}afterBufferFlushed(t,e,n){if(!t)return;const r=Qa.getBuffered(t);this.fragmentTracker.detectEvictedFragments(e,r,n),this.state===Ec&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=gc}resetStartWhenNotLoaded(t){if(!this.loadedmetadata){this.startFragRequested=!1;const e=t?t.details:null;null!=e&&e.live?(this.startPosition=-1,this.setStartPosition(e,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(t){this.warn(`The loading context changed while buffering fragment ${t.sn} of level ${t.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(t=0){this.fragmentTracker.removeFragmentsInRange(t,1/0,this.playlistType,!1,!0)}updateLevelTiming(t,e,n,r){var i;const o=n.details;if(!o)return void this.warn("level.details undefined");if(!Object.keys(t.elementaryStreams).reduce((e,i)=>{const s=t.elementaryStreams[i];if(s){const a=s.endPTS-s.startPTS;if(a<=0)return this.warn(`Could not parse fragment ${t.sn} ${i} duration reliably (${a})`),e||!1;const c=r?0:aa(o,t,s.startPTS,s.endPTS,s.startDTS,s.endDTS);return this.hls.trigger(Ai.LEVEL_PTS_UPDATED,{details:o,level:n,drift:c,type:i,frag:t,start:s.startPTS,end:s.endPTS}),!0}return e},!1)&&null===(null==(i=this.transmuxer)?void 0:i.error)){const e=new Error(`Found no media in fragment ${t.sn} of level ${t.level} resetting transmuxer to fallback to playlist timing`);if(0===n.fragmentError&&(n.fragmentError++,t.gap=!0,this.fragmentTracker.removeFragment(t),this.fragmentTracker.fragBuffered(t,!0)),this.warn(e.message),this.hls.trigger(Ai.ERROR,{type:Ti.MEDIA_ERROR,details:xi.FRAG_PARSING_ERROR,fatal:!1,error:e,frag:t,reason:`Found no media in msn ${t.sn} of level "${n.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state=_c,this.hls.trigger(Ai.FRAG_PARSED,{frag:t,part:e})}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(t){"demuxerWorker"===t.event&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(t){const e=this._state;e!==t&&(this._state=t,this.log(`${e}->${t}`))}get state(){return this._state}}class kc{constructor(){this.chunks=[],this.dataLength=0}push(t){this.chunks.push(t),this.dataLength+=t.length}flush(){const{chunks:t,dataLength:e}=this;let n;return t.length?(n=1===t.length?t[0]:function(t,e){const n=new Uint8Array(e);let r=0;for(let e=0;e<t.length;e++){const i=t[e];n.set(i,r),r+=i.length}return n}(t,e),this.reset(),n):new Uint8Array(0)}reset(){this.chunks.length=0,this.dataLength=0}}function Cc(t="",e=9e4){return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class Rc{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(t,e,n,r){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(t){this.initPTS=t,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(t,e){return!1}appendFrame(t,e,n){}demux(t,e){this.cachedData&&(t=Ko(this.cachedData,t),this.cachedData=null);let n,r=lo(t,0),i=r?r.length:0;const o=this._audioTrack,s=this._id3Track,a=r?fo(r):void 0,c=t.length;for((null===this.basePTS||0===this.frameIndex&&_i(a))&&(this.basePTS=Lc(a,e,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),r&&r.length>0&&s.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:Hs,duration:Number.POSITIVE_INFINITY});i<c;){if(this.canParse(t,i)){const e=this.appendFrame(o,t,i);e?(this.frameIndex++,this.lastPTS=e.sample.pts,i+=e.length,n=i):i=c}else ho(t,i)?(r=lo(t,i),s.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:Hs,duration:Number.POSITIVE_INFINITY}),i+=r.length,n=i):i++;if(i===c&&n!==c){const e=so(t,n);this.cachedData?this.cachedData=Ko(this.cachedData,e):this.cachedData=e}}return{audioTrack:o,videoTrack:Cc(),id3Track:s,textTrack:Cc()}}demuxSampleAes(t,e,n){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(t){const e=this.cachedData;return e&&(this.cachedData=null,this.demux(e,0)),{audioTrack:this._audioTrack,videoTrack:Cc(),id3Track:this._id3Track,textTrack:Cc()}}destroy(){}}const Lc=(t,e,n)=>{if(_i(t))return 90*t;return 9e4*e+(n?9e4*n.baseTime/n.timescale:0)};function Ic(t,e){return 255===t[e]&&240==(246&t[e+1])}function Oc(t,e){return 1&t[e+1]?7:9}function Dc(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function Mc(t,e){return e+1<t.length&&Ic(t,e)}function Nc(t,e){if(Mc(t,e)){const n=Oc(t,e);if(e+n>=t.length)return!1;const r=Dc(t,e);if(r<=n)return!1;const i=e+r;return i===t.length||Mc(t,i)}return!1}function Pc(t,e,n,r,i){if(!t.samplerate){const o=function(t,e,n,r){let i,o,s,a;const c=navigator.userAgent.toLowerCase(),l=r,u=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];i=1+((192&e[n+2])>>>6);const d=(60&e[n+2])>>>2;if(!(d>u.length-1))return s=(1&e[n+2])<<2,s|=(192&e[n+3])>>>6,Ii.log(`manifest codec:${r}, ADTS type:${i}, samplingIndex:${d}`),/firefox/i.test(c)?d>=6?(i=5,a=new Array(4),o=d-3):(i=2,a=new Array(2),o=d):-1!==c.indexOf("android")?(i=2,a=new Array(2),o=d):(i=5,a=new Array(4),r&&(-1!==r.indexOf("mp4a.40.29")||-1!==r.indexOf("mp4a.40.5"))||!r&&d>=6?o=d-3:((r&&-1!==r.indexOf("mp4a.40.2")&&(d>=6&&1===s||/vivaldi/i.test(c))||!r&&1===s)&&(i=2,a=new Array(2)),o=d)),a[0]=i<<3,a[0]|=(14&d)>>1,a[1]|=(1&d)<<7,a[1]|=s<<3,5===i&&(a[1]|=(14&o)>>1,a[2]=(1&o)<<7,a[2]|=8,a[3]=0),{config:a,samplerate:u[d],channelCount:s,codec:"mp4a.40."+i,manifestCodec:l};{const e=new Error("invalid ADTS sampling index:"+d);t.emit(Ai.ERROR,Ai.ERROR,{type:Ti.MEDIA_ERROR,details:xi.FRAG_PARSING_ERROR,fatal:!0,error:e,reason:e.message})}}(e,n,r,i);if(!o)return;t.config=o.config,t.samplerate=o.samplerate,t.channelCount=o.channelCount,t.codec=o.codec,t.manifestCodec=o.manifestCodec,Ii.log(`parsed codec:${t.codec}, rate:${o.samplerate}, channels:${o.channelCount}`)}}function Fc(t){return 9216e4/t}function Bc(t,e,n,r,i){const o=r+i*Fc(t.samplerate),s=function(t,e){const n=Oc(t,e);if(e+n<=t.length){const r=Dc(t,e)-n;if(r>0)return{headerLength:n,frameLength:r}}}(e,n);let a;if(s){const{frameLength:r,headerLength:i}=s,c=i+r,l=Math.max(0,n+c-e.length);l?(a=new Uint8Array(c-i),a.set(e.subarray(n+i,e.length),0)):a=e.subarray(n+i,n+c);const u={unit:a,pts:o};return l||t.samples.push(u),{sample:u,length:c,missing:l}}const c=e.length-n;a=new Uint8Array(c),a.set(e.subarray(n,e.length),0);return{sample:{unit:a,pts:o},length:c,missing:-1}}let Uc=null;const $c=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],jc=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Gc=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Hc=[0,1,1,4];function Kc(t,e,n,r,i){if(n+24>e.length)return;const o=Vc(e,n);if(o&&n+o.frameLength<=e.length){const s=r+i*(9e4*o.samplesPerFrame/o.sampleRate),a={unit:e.subarray(n,n+o.frameLength),pts:s,dts:s};return t.config=[],t.channelCount=o.channelCount,t.samplerate=o.sampleRate,t.samples.push(a),{sample:a,length:o.frameLength,missing:0}}}function Vc(t,e){const n=t[e+1]>>3&3,r=t[e+1]>>1&3,i=t[e+2]>>4&15,o=t[e+2]>>2&3;if(1!==n&&0!==i&&15!==i&&3!==o){const s=t[e+2]>>1&1,a=t[e+3]>>6,c=1e3*$c[14*(3===n?3-r:3===r?3:4)+i-1],l=jc[3*(3===n?0:2===n?1:2)+o],u=3===a?1:2,d=Gc[n][r],h=Hc[r],f=8*d*h,p=Math.floor(d*c/l+s)*h;if(null===Uc){const t=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Uc=t?parseInt(t[1]):0}return!!Uc&&Uc<=87&&2===r&&c>=224e3&&0===a&&(t[e+3]=128|t[e+3]),{sampleRate:l,channelCount:u,frameLength:p,samplesPerFrame:f}}}function qc(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])}function zc(t,e){return e+1<t.length&&qc(t,e)}function Wc(t,e){if(e+1<t.length&&qc(t,e)){const n=4,r=Vc(t,e);let i=n;null!=r&&r.frameLength&&(i=r.frameLength);const o=e+i;return o===t.length||zc(t,o)}return!1}const Yc=/\/emsg[-/]ID3/i;const Xc=(t,e)=>{let n=0,r=5;e+=r;const i=new Uint32Array(1),o=new Uint32Array(1),s=new Uint8Array(1);for(;r>0;){s[0]=t[e];const a=Math.min(r,8),c=8-a;o[0]=4278190080>>>24+c<<c,i[0]=(s[0]&o[0])>>c,n=n?n<<a|i[0]:i[0],e+=1,r-=a}return n};class Qc extends Rc{constructor(t){super(),this.observer=void 0,this.observer=t}resetInitSegment(t,e,n,r){super.resetInitSegment(t,e,n,r),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:e,duration:r,inputTimeScale:9e4,dropped:0}}canParse(t,e){return e+64<t.length}appendFrame(t,e,n){const r=Jc(t,e,n,this.basePTS,this.frameIndex);if(-1!==r){return{sample:t.samples[t.samples.length-1],length:r,missing:0}}}static probe(t){if(!t)return!1;const e=lo(t,0);if(!e)return!1;const n=e.length;return 11===t[n]&&119===t[n+1]&&void 0!==fo(e)&&Xc(t,n)<16}}function Jc(t,e,n,r,i){if(n+8>e.length)return-1;if(11!==e[n]||119!==e[n+1])return-1;const o=e[n+4]>>6;if(o>=3)return-1;const s=[48e3,44100,32e3][o],a=63&e[n+4],c=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*a+o];if(n+c>e.length)return-1;const l=e[n+6]>>5;let u=0;2===l?u+=2:(1&l&&1!==l&&(u+=2),4&l&&(u+=2));const d=(e[n+6]<<8|e[n+7])>>12-u&1,h=[2,1,2,3,3,4,4,5][l]+d,f=e[n+5]>>3,p=7&e[n+5],g=new Uint8Array([o<<6|f<<1|p>>2,(3&p)<<6|l<<3|d<<2|a>>4,a<<4&224]),m=r+i*(1536/s*9e4),v=e.subarray(n,n+c);return t.config=g,t.channelCount=h,t.samplerate=s,t.samples.push({unit:v,pts:m}),c}class Zc{constructor(t){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const t=this.data,e=this.bytesAvailable,n=t.byteLength-e,r=new Uint8Array(4),i=Math.min(4,e);if(0===i)throw new Error("no bytes available");r.set(t.subarray(n,n+i)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i}skipBits(t){let e;t=Math.min(t,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(e=(t-=this.bitsAvailable)>>3,t-=e<<3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)}readBits(t){let e=Math.min(this.bitsAvailable,t);const n=this.word>>>32-e;if(t>32&&Ii.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0)this.word<<=e;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return e=t-e,e>0&&this.bitsAvailable?n<<e|this.readBits(e):n}skipLZ(){let t;for(t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const t=this.skipLZ();return this.readBits(t+1)-1}readEG(){const t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)}readBoolean(){return 1===this.readBits(1)}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(t){let e,n=8,r=8;for(let i=0;i<t;i++)0!==r&&(e=this.readEG(),r=(n+e+256)%256),n=0===r?n:r}readSPS(){let t,e,n,r=0,i=0,o=0,s=0;const a=this.readUByte.bind(this),c=this.readBits.bind(this),l=this.readUEG.bind(this),u=this.readBoolean.bind(this),d=this.skipBits.bind(this),h=this.skipEG.bind(this),f=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);a();const g=a();if(c(5),d(3),a(),f(),100===g||110===g||122===g||244===g||44===g||83===g||86===g||118===g||128===g){const t=l();if(3===t&&d(1),f(),f(),d(1),u())for(e=3!==t?8:12,n=0;n<e;n++)u()&&p(n<6?16:64)}f();const m=l();if(0===m)l();else if(1===m)for(d(1),h(),h(),t=l(),n=0;n<t;n++)h();f(),d(1);const v=l(),y=l(),b=c(1);0===b&&d(1),d(1),u()&&(r=l(),i=l(),o=l(),s=l());let w=[1,1];if(u()&&u()){switch(a()){case 1:w=[1,1];break;case 2:w=[12,11];break;case 3:w=[10,11];break;case 4:w=[16,11];break;case 5:w=[40,33];break;case 6:w=[24,11];break;case 7:w=[20,11];break;case 8:w=[32,11];break;case 9:w=[80,33];break;case 10:w=[18,11];break;case 11:w=[15,11];break;case 12:w=[64,33];break;case 13:w=[160,99];break;case 14:w=[4,3];break;case 15:w=[3,2];break;case 16:w=[2,1];break;case 255:w=[a()<<8|a(),a()<<8|a()]}}return{width:Math.ceil(16*(v+1)-2*r-2*i),height:(2-b)*(y+1)*16-(b?2:4)*(o+s),pixelRatio:w}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class tl extends class{constructor(){this.VideoSample=null}createVideoSample(t,e,n,r){return{key:t,frame:!1,pts:e,dts:n,units:[],debug:r,length:0}}getLastNalUnit(t){var e;let n,r=this.VideoSample;if(r&&0!==r.units.length||(r=t[t.length-1]),null!=(e=r)&&e.units){const t=r.units;n=t[t.length-1]}return n}pushAccessUnit(t,e){if(t.units.length&&t.frame){if(void 0===t.pts){const n=e.samples,r=n.length;if(!r)return void e.dropped++;{const e=n[r-1];t.pts=e.pts,t.dts=e.dts}}e.samples.push(t)}t.debug.length&&Ii.log(t.pts+"/"+t.dts+":"+t.debug)}}{parseAVCPES(t,e,n,r,i){const o=this.parseAVCNALu(t,n.data);let s,a=this.VideoSample,c=!1;n.data=null,a&&o.length&&!t.audFound&&(this.pushAccessUnit(a,t),a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts,"")),o.forEach(r=>{var o;switch(r.type){case 1:{let e=!1;s=!0;const i=r.data;if(c&&i.length>4){const t=new Zc(i).readSliceType();2!==t&&4!==t&&7!==t&&9!==t||(e=!0)}var l;if(e)null!=(l=a)&&l.frame&&!a.key&&(this.pushAccessUnit(a,t),a=this.VideoSample=null);a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts,"")),a.frame=!0,a.key=e;break}case 5:s=!0,null!=(o=a)&&o.frame&&!a.key&&(this.pushAccessUnit(a,t),a=this.VideoSample=null),a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts,"")),a.key=!0,a.frame=!0;break;case 6:s=!0,zo(r.data,1,n.pts,e.samples);break;case 7:{var u,d;s=!0,c=!0;const e=r.data,n=new Zc(e).readSPS();if(!t.sps||t.width!==n.width||t.height!==n.height||(null==(u=t.pixelRatio)?void 0:u[0])!==n.pixelRatio[0]||(null==(d=t.pixelRatio)?void 0:d[1])!==n.pixelRatio[1]){t.width=n.width,t.height=n.height,t.pixelRatio=n.pixelRatio,t.sps=[e],t.duration=i;const r=e.subarray(1,4);let o="avc1.";for(let t=0;t<3;t++){let e=r[t].toString(16);e.length<2&&(e="0"+e),o+=e}t.codec=o}break}case 8:s=!0,t.pps=[r.data];break;case 9:s=!0,t.audFound=!0,a&&this.pushAccessUnit(a,t),a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts,"");break;case 12:s=!0;break;default:s=!1,a&&(a.debug+="unknown NAL "+r.type+" ")}if(a&&s){a.units.push(r)}}),r&&a&&(this.pushAccessUnit(a,t),this.VideoSample=null)}parseAVCNALu(t,e){const n=e.byteLength;let r=t.naluState||0;const i=r,o=[];let s,a,c,l=0,u=-1,d=0;for(-1===r&&(u=0,d=31&e[0],r=0,l=1);l<n;)if(s=e[l++],r)if(1!==r)if(s)if(1===s){if(a=l-r-1,u>=0){const t={data:e.subarray(u,a),type:d};o.push(t)}else{const n=this.getLastNalUnit(t.samples);n&&(i&&l<=4-i&&n.state&&(n.data=n.data.subarray(0,n.data.byteLength-i)),a>0&&(n.data=Ko(n.data,e.subarray(0,a)),n.state=0))}l<n?(c=31&e[l],u=l,d=c,r=0):r=-1}else r=0;else r=3;else r=s?0:2;else r=s?0:1;if(u>=0&&r>=0){const t={data:e.subarray(u,n),type:d,state:r};o.push(t)}if(0===o.length){const n=this.getLastNalUnit(t.samples);n&&(n.data=Ko(n.data,e))}return t.naluState=r,o}}class el{constructor(t,e,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new hc(e,{removePKCS7Padding:!1})}decryptBuffer(t){return this.decrypter.decrypt(t,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(t,e,n){const r=t[e].unit;if(r.length<=16)return;const i=r.subarray(16,r.length-r.length%16),o=i.buffer.slice(i.byteOffset,i.byteOffset+i.length);this.decryptBuffer(o).then(i=>{const o=new Uint8Array(i);r.set(o,16),this.decrypter.isSync()||this.decryptAacSamples(t,e+1,n)})}decryptAacSamples(t,e,n){for(;;e++){if(e>=t.length)return void n();if(!(t[e].unit.length<32)&&(this.decryptAacSample(t,e,n),!this.decrypter.isSync()))return}}getAvcEncryptedData(t){const e=16*Math.floor((t.length-48)/160)+16,n=new Int8Array(e);let r=0;for(let e=32;e<t.length-16;e+=160,r+=16)n.set(t.subarray(e,e+16),r);return n}getAvcDecryptedUnit(t,e){const n=new Uint8Array(e);let r=0;for(let e=32;e<t.length-16;e+=160,r+=16)t.set(n.subarray(r,r+16),e);return t}decryptAvcSample(t,e,n,r,i){const o=Wo(i.data),s=this.getAvcEncryptedData(o);this.decryptBuffer(s.buffer).then(s=>{i.data=this.getAvcDecryptedUnit(o,s),this.decrypter.isSync()||this.decryptAvcSamples(t,e,n+1,r)})}decryptAvcSamples(t,e,n,r){if(t instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;e++,n=0){if(e>=t.length)return void r();const i=t[e].units;for(;!(n>=i.length);n++){const o=i[n];if(!(o.data.length<=48||1!==o.type&&5!==o.type||(this.decryptAvcSample(t,e,n,r,o),this.decrypter.isSync())))return}}}}class nl{constructor(t,e,n){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=t,this.config=e,this.typeSupported=n,this.videoParser=new tl}static probe(t){const e=nl.syncOffset(t);return e>0&&Ii.warn("MPEG2-TS detected but first sync word found @ offset "+e),-1!==e}static syncOffset(t){const e=t.length;let n=Math.min(940,e-188)+1,r=0;for(;r<n;){let i=!1,o=-1,s=0;for(let a=r;a<e;a+=188){if(71!==t[a]||e-a!=188&&71!==t[a+188]){if(s)return-1;break}if(s++,-1===o&&(o=a,0!==o&&(n=Math.min(o+18612,t.length-188)+1)),i||(i=0===rl(t,a)),i&&s>1&&(0===o&&s>2||a+188>n))return o}r++}return-1}static createTrack(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:Co[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===t?e:void 0}}resetInitSegment(t,e,n,r){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=nl.createTrack("video"),this._audioTrack=nl.createTrack("audio",r),this._id3Track=nl.createTrack("id3"),this._txtTrack=nl.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=e,this.videoCodec=n,this._duration=r}resetTimeStamp(){}resetContiguity(){const{_audioTrack:t,_videoTrack:e,_id3Track:n}=this;t&&(t.pesData=null),e&&(e.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(t,e,n=!1,r=!1){let i;n||(this.sampleAes=null);const o=this._videoTrack,s=this._audioTrack,a=this._id3Track,c=this._txtTrack;let l=o.pid,u=o.pesData,d=s.pid,h=a.pid,f=s.pesData,p=a.pesData,g=null,m=this.pmtParsed,v=this._pmtId,y=t.length;if(this.remainderData&&(y=(t=Ko(this.remainderData,t)).length,this.remainderData=null),y<188&&!r)return this.remainderData=t,{audioTrack:s,videoTrack:o,id3Track:a,textTrack:c};const b=Math.max(0,nl.syncOffset(t));y-=(y-b)%188,y<t.byteLength&&!r&&(this.remainderData=new Uint8Array(t.buffer,y,t.buffer.byteLength-y));let w=0;for(let e=b;e<y;e+=188)if(71===t[e]){const r=!!(64&t[e+1]),y=rl(t,e);let w;if((48&t[e+3])>>4>1){if(w=e+5+t[e+4],w===e+188)continue}else w=e+4;switch(y){case l:r&&(u&&(i=al(u))&&this.videoParser.parseAVCPES(o,c,i,!1,this._duration),u={data:[],size:0}),u&&(u.data.push(t.subarray(w,e+188)),u.size+=e+188-w);break;case d:if(r){if(f&&(i=al(f)))switch(s.segmentCodec){case"aac":this.parseAACPES(s,i);break;case"mp3":this.parseMPEGPES(s,i);break;case"ac3":this.parseAC3PES(s,i)}f={data:[],size:0}}f&&(f.data.push(t.subarray(w,e+188)),f.size+=e+188-w);break;case h:r&&(p&&(i=al(p))&&this.parseID3PES(a,i),p={data:[],size:0}),p&&(p.data.push(t.subarray(w,e+188)),p.size+=e+188-w);break;case 0:r&&(w+=t[w]+1),v=this._pmtId=il(t,w);break;case v:{r&&(w+=t[w]+1);const i=ol(t,w,this.typeSupported,n);l=i.videoPid,l>0&&(o.pid=l,o.segmentCodec=i.segmentVideoCodec),d=i.audioPid,d>0&&(s.pid=d,s.segmentCodec=i.segmentAudioCodec),h=i.id3Pid,h>0&&(a.pid=h),null===g||m||(Ii.warn(`MPEG-TS PMT found at ${e} after unknown PID '${g}'. Backtracking to sync byte @${b} to parse all TS packets.`),g=null,e=b-188),m=this.pmtParsed=!0;break}case 17:case 8191:break;default:g=y}}else w++;if(w>0){const t=new Error(`Found ${w} TS packet/s that do not start with 0x47`);this.observer.emit(Ai.ERROR,Ai.ERROR,{type:Ti.MEDIA_ERROR,details:xi.FRAG_PARSING_ERROR,fatal:!1,error:t,reason:t.message})}o.pesData=u,s.pesData=f,a.pesData=p;const _={audioTrack:s,videoTrack:o,id3Track:a,textTrack:c};return r&&this.extractRemainingSamples(_),_}flush(){const{remainderData:t}=this;let e;return this.remainderData=null,e=t?this.demux(t,-1,!1,!0):{videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e}extractRemainingSamples(t){const{audioTrack:e,videoTrack:n,id3Track:r,textTrack:i}=t,o=n.pesData,s=e.pesData,a=r.pesData;let c;if(o&&(c=al(o))?(this.videoParser.parseAVCPES(n,i,c,!0,this._duration),n.pesData=null):n.pesData=o,s&&(c=al(s))){switch(e.segmentCodec){case"aac":this.parseAACPES(e,c);break;case"mp3":this.parseMPEGPES(e,c);break;case"ac3":this.parseAC3PES(e,c)}e.pesData=null}else null!=s&&s.size&&Ii.log("last AAC PES packet truncated,might overlap between fragments"),e.pesData=s;a&&(c=al(a))?(this.parseID3PES(r,c),r.pesData=null):r.pesData=a}demuxSampleAes(t,e,n){const r=this.demux(t,n,!0,!this.config.progressive),i=this.sampleAes=new el(this.observer,this.config,e);return this.decrypt(r,i)}decrypt(t,e){return new Promise(n=>{const{audioTrack:r,videoTrack:i}=t;r.samples&&"aac"===r.segmentCodec?e.decryptAacSamples(r.samples,0,()=>{i.samples?e.decryptAvcSamples(i.samples,0,0,()=>{n(t)}):n(t)}):i.samples&&e.decryptAvcSamples(i.samples,0,0,()=>{n(t)})})}destroy(){this._duration=0}parseAACPES(t,e){let n=0;const r=this.aacOverFlow;let i,o,s,a=e.data;if(r){this.aacOverFlow=null;const e=r.missing,i=r.sample.unit.byteLength;if(-1===e)a=Ko(r.sample.unit,a);else{const o=i-e;r.sample.unit.set(a.subarray(0,e),o),t.samples.push(r.sample),n=r.missing}}for(i=n,o=a.length;i<o-1&&!Mc(a,i);i++);if(i!==n){let t;const e=i<o-1;t=e?"AAC PES did not start with ADTS header,offset:"+i:"No ADTS header found in AAC PES";const n=new Error(t);if(Ii.warn("parsing error: "+t),this.observer.emit(Ai.ERROR,Ai.ERROR,{type:Ti.MEDIA_ERROR,details:xi.FRAG_PARSING_ERROR,fatal:!1,levelRetry:e,error:n,reason:t}),!e)return}if(Pc(t,this.observer,a,i,this.audioCodec),void 0!==e.pts)s=e.pts;else{if(!r)return void Ii.warn("[tsdemuxer]: AAC PES unknown PTS");{const e=Fc(t.samplerate);s=r.sample.pts+e}}let c,l=0;for(;i<o;){if(c=Bc(t,a,i,s,l),i+=c.length,c.missing){this.aacOverFlow=c;break}for(l++;i<o-1&&!Mc(a,i);i++);}}parseMPEGPES(t,e){const n=e.data,r=n.length;let i=0,o=0;const s=e.pts;if(void 0!==s)for(;o<r;)if(zc(n,o)){const e=Kc(t,n,o,s,i);if(!e)break;o+=e.length,i++}else o++;else Ii.warn("[tsdemuxer]: MPEG PES unknown PTS")}parseAC3PES(t,e){{const n=e.data,r=e.pts;if(void 0===r)return void Ii.warn("[tsdemuxer]: AC3 PES unknown PTS");const i=n.length;let o,s=0,a=0;for(;a<i&&(o=Jc(t,n,a,r,s++))>0;)a+=o}}parseID3PES(t,e){if(void 0===e.pts)return void Ii.warn("[tsdemuxer]: ID3 PES unknown PTS");const n=wi({},e,{type:this._videoTrack?Vs:Hs,duration:Number.POSITIVE_INFINITY});t.samples.push(n)}}function rl(t,e){return((31&t[e+1])<<8)+t[e+2]}function il(t,e){return(31&t[e+10])<<8|t[e+11]}function ol(t,e,n,r){const i={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},o=e+3+((15&t[e+1])<<8|t[e+2])-4;for(e+=12+((15&t[e+10])<<8|t[e+11]);e<o;){const o=rl(t,e),s=(15&t[e+3])<<8|t[e+4];switch(t[e]){case 207:if(!r){sl("ADTS AAC");break}case 15:-1===i.audioPid&&(i.audioPid=o);break;case 21:-1===i.id3Pid&&(i.id3Pid=o);break;case 219:if(!r){sl("H.264");break}case 27:-1===i.videoPid&&(i.videoPid=o,i.segmentVideoCodec="avc");break;case 3:case 4:n.mpeg||n.mp3?-1===i.audioPid&&(i.audioPid=o,i.segmentAudioCodec="mp3"):Ii.log("MPEG audio found, not supported in this browser");break;case 193:if(!r){sl("AC-3");break}case 129:n.ac3?-1===i.audioPid&&(i.audioPid=o,i.segmentAudioCodec="ac3"):Ii.log("AC-3 audio found, not supported in this browser");break;case 6:if(-1===i.audioPid&&s>0){let r=e+5,a=s;for(;a>2;){switch(t[r]){case 106:!0!==n.ac3?Ii.log("AC-3 audio found, not supported in this browser for now"):(i.audioPid=o,i.segmentAudioCodec="ac3")}const e=t[r+1]+2;r+=e,a-=e}}break;case 194:case 135:Ii.warn("Unsupported EC-3 in M2TS found");break;case 36:Ii.warn("Unsupported HEVC in M2TS found")}e+=s+5}return i}function sl(t){Ii.log(t+" with AES-128-CBC encryption found in unencrypted stream")}function al(t){let e,n,r,i,o,s=0;const a=t.data;if(!t||0===t.size)return null;for(;a[0].length<19&&a.length>1;)a[0]=Ko(a[0],a[1]),a.splice(1,1);e=a[0];if(1===(e[0]<<16)+(e[1]<<8)+e[2]){if(n=(e[4]<<8)+e[5],n&&n>t.size-6)return null;const c=e[7];192&c&&(i=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,64&c?(o=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2,i-o>54e5&&(Ii.warn(Math.round((i-o)/9e4)+"s delta between PTS and DTS, align them"),i=o)):o=i),r=e[8];let l=r+9;if(t.size<=l)return null;t.size-=l;const u=new Uint8Array(t.size);for(let t=0,n=a.length;t<n;t++){e=a[t];let n=e.byteLength;if(l){if(l>n){l-=n;continue}e=e.subarray(l),n-=l,l=0}u.set(e,s),s+=n}return n&&(n-=r+3),{data:u,pts:i,dts:o,len:n}}return null}class cl{static getSilentFrame(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}const ll=Math.pow(2,32)-1;class ul{static init(){let t;for(t in ul.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},ul.types)ul.types.hasOwnProperty(t)&&(ul.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);const e=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);ul.HDLR_TYPES={video:e,audio:n};const r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i=new Uint8Array([0,0,0,0,0,0,0,0]);ul.STTS=ul.STSC=ul.STCO=i,ul.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),ul.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),ul.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),ul.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),a=new Uint8Array([0,0,0,1]);ul.FTYP=ul.box(ul.types.ftyp,o,a,o,s),ul.DINF=ul.box(ul.types.dinf,ul.box(ul.types.dref,r))}static box(t,...e){let n=8,r=e.length;const i=r;for(;r--;)n+=e[r].byteLength;const o=new Uint8Array(n);for(o[0]=n>>24&255,o[1]=n>>16&255,o[2]=n>>8&255,o[3]=255&n,o.set(t,4),r=0,n=8;r<i;r++)o.set(e[r],n),n+=e[r].byteLength;return o}static hdlr(t){return ul.box(ul.types.hdlr,ul.HDLR_TYPES[t])}static mdat(t){return ul.box(ul.types.mdat,t)}static mdhd(t,e){e*=t;const n=Math.floor(e/(ll+1)),r=Math.floor(e%(ll+1));return ul.box(ul.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))}static mdia(t){return ul.box(ul.types.mdia,ul.mdhd(t.timescale,t.duration),ul.hdlr(t.type),ul.minf(t))}static mfhd(t){return ul.box(ul.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}static minf(t){return"audio"===t.type?ul.box(ul.types.minf,ul.box(ul.types.smhd,ul.SMHD),ul.DINF,ul.stbl(t)):ul.box(ul.types.minf,ul.box(ul.types.vmhd,ul.VMHD),ul.DINF,ul.stbl(t))}static moof(t,e,n){return ul.box(ul.types.moof,ul.mfhd(t),ul.traf(n,e))}static moov(t){let e=t.length;const n=[];for(;e--;)n[e]=ul.trak(t[e]);return ul.box.apply(null,[ul.types.moov,ul.mvhd(t[0].timescale,t[0].duration)].concat(n).concat(ul.mvex(t)))}static mvex(t){let e=t.length;const n=[];for(;e--;)n[e]=ul.trex(t[e]);return ul.box.apply(null,[ul.types.mvex,...n])}static mvhd(t,e){e*=t;const n=Math.floor(e/(ll+1)),r=Math.floor(e%(ll+1)),i=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return ul.box(ul.types.mvhd,i)}static sdtp(t){const e=t.samples||[],n=new Uint8Array(4+e.length);let r,i;for(r=0;r<e.length;r++)i=e[r].flags,n[r+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return ul.box(ul.types.sdtp,n)}static stbl(t){return ul.box(ul.types.stbl,ul.stsd(t),ul.box(ul.types.stts,ul.STTS),ul.box(ul.types.stsc,ul.STSC),ul.box(ul.types.stsz,ul.STSZ),ul.box(ul.types.stco,ul.STCO))}static avc1(t){let e,n,r,i=[],o=[];for(e=0;e<t.sps.length;e++)n=t.sps[e],r=n.byteLength,i.push(r>>>8&255),i.push(255&r),i=i.concat(Array.prototype.slice.call(n));for(e=0;e<t.pps.length;e++)n=t.pps[e],r=n.byteLength,o.push(r>>>8&255),o.push(255&r),o=o.concat(Array.prototype.slice.call(n));const s=ul.box(ul.types.avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|t.sps.length].concat(i).concat([t.pps.length]).concat(o))),a=t.width,c=t.height,l=t.pixelRatio[0],u=t.pixelRatio[1];return ul.box(ul.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,a>>8&255,255&a,c>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,ul.box(ul.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),ul.box(ul.types.pasp,new Uint8Array([l>>24,l>>16&255,l>>8&255,255&l,u>>24,u>>16&255,u>>8&255,255&u])))}static esds(t){const e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))}static audioStsd(t){const e=t.samplerate;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,e>>8&255,255&e,0,0])}static mp4a(t){return ul.box(ul.types.mp4a,ul.audioStsd(t),ul.box(ul.types.esds,ul.esds(t)))}static mp3(t){return ul.box(ul.types[".mp3"],ul.audioStsd(t))}static ac3(t){return ul.box(ul.types["ac-3"],ul.audioStsd(t),ul.box(ul.types.dac3,t.config))}static stsd(t){return"audio"===t.type?"mp3"===t.segmentCodec&&"mp3"===t.codec?ul.box(ul.types.stsd,ul.STSD,ul.mp3(t)):"ac3"===t.segmentCodec?ul.box(ul.types.stsd,ul.STSD,ul.ac3(t)):ul.box(ul.types.stsd,ul.STSD,ul.mp4a(t)):ul.box(ul.types.stsd,ul.STSD,ul.avc1(t))}static tkhd(t){const e=t.id,n=t.duration*t.timescale,r=t.width,i=t.height,o=Math.floor(n/(ll+1)),s=Math.floor(n%(ll+1));return ul.box(ul.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,255&r,0,0,i>>8&255,255&i,0,0]))}static traf(t,e){const n=ul.sdtp(t),r=t.id,i=Math.floor(e/(ll+1)),o=Math.floor(e%(ll+1));return ul.box(ul.types.traf,ul.box(ul.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),ul.box(ul.types.tfdt,new Uint8Array([1,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,o>>24,o>>16&255,o>>8&255,255&o])),ul.trun(t,n.length+16+20+8+16+8+8),n)}static trak(t){return t.duration=t.duration||4294967295,ul.box(ul.types.trak,ul.tkhd(t),ul.mdia(t))}static trex(t){const e=t.id;return ul.box(ul.types.trex,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(t,e){const n=t.samples||[],r=n.length,i=12+16*r,o=new Uint8Array(i);let s,a,c,l,u,d;for(e+=8+i,o.set(["video"===t.type?1:0,0,15,1,r>>>24&255,r>>>16&255,r>>>8&255,255&r,e>>>24&255,e>>>16&255,e>>>8&255,255&e],0),s=0;s<r;s++)a=n[s],c=a.duration,l=a.size,u=a.flags,d=a.cts,o.set([c>>>24&255,c>>>16&255,c>>>8&255,255&c,l>>>24&255,l>>>16&255,l>>>8&255,255&l,u.isLeading<<2|u.dependsOn,u.isDependedOn<<6|u.hasRedundancy<<4|u.paddingValue<<1|u.isNonSync,61440&u.degradPrio,15&u.degradPrio,d>>>24&255,d>>>16&255,d>>>8&255,255&d],12+16*s);return ul.box(ul.types.trun,o)}static initSegment(t){ul.types||ul.init();const e=ul.moov(t);return Ko(ul.FTYP,e)}}ul.types=void 0,ul.HDLR_TYPES=void 0,ul.STTS=void 0,ul.STSC=void 0,ul.STCO=void 0,ul.STSZ=void 0,ul.VMHD=void 0,ul.SMHD=void 0,ul.STSD=void 0,ul.FTYP=void 0,ul.DINF=void 0;function dl(t,e,n=1,r=!1){const i=t*e*n;return r?Math.round(i):i}function hl(t,e=!1){return dl(t,1e3,1/9e4,e)}let fl,pl=null,gl=null;class ml{constructor(t,e,n,r=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=t,this.config=e,this.typeSupported=n,this.ISGenerated=!1,null===pl){const t=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);pl=t?parseInt(t[1]):0}if(null===gl){const t=navigator.userAgent.match(/Safari\/(\d+)/i);gl=t?parseInt(t[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(t){Ii.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=t}resetNextTimestamp(){Ii.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){Ii.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(t){let e=!1;const n=t.reduce((t,n)=>{const r=n.pts-t;return r<-4294967296?(e=!0,vl(t,n.pts)):r>0?t:n.pts},t[0].pts);return e&&Ii.debug("PTS rollover detected"),n}remux(t,e,n,r,i,o,s,a){let c,l,u,d,h,f,p=i,g=i;const m=t.pid>-1,v=e.pid>-1,y=e.samples.length,b=t.samples.length>0,w=s&&y>0||y>1;if((!m||b)&&(!v||w)||this.ISGenerated||s){if(this.ISGenerated){var _,E,S,A;const t=this.videoTrackConfig;!t||e.width===t.width&&e.height===t.height&&(null==(_=e.pixelRatio)?void 0:_[0])===(null==(E=t.pixelRatio)?void 0:E[0])&&(null==(S=e.pixelRatio)?void 0:S[1])===(null==(A=t.pixelRatio)?void 0:A[1])||this.resetInitSegment()}else u=this.generateIS(t,e,i,o);const n=this.isVideoContiguous;let r,s=-1;if(w&&(s=function(t){for(let e=0;e<t.length;e++)if(t[e].key)return e;return-1}(e.samples),!n&&this.config.forceKeyFrameOnDiscontinuity))if(f=!0,s>0){Ii.warn(`[mp4-remuxer]: Dropped ${s} out of ${y} video samples due to a missing keyframe`);const t=this.getVideoStartPts(e.samples);e.samples=e.samples.slice(s),e.dropped+=s,g+=(e.samples[0].pts-t)/e.inputTimeScale,r=g}else-1===s&&(Ii.warn(`[mp4-remuxer]: No keyframe found out of ${y} video samples`),f=!1);if(this.ISGenerated){if(b&&w){const n=this.getVideoStartPts(e.samples),r=(vl(t.samples[0].pts,n)-n)/e.inputTimeScale;p+=Math.max(0,r),g+=Math.max(0,-r)}if(b){if(t.samplerate||(Ii.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),u=this.generateIS(t,e,i,o)),l=this.remuxAudio(t,p,this.isAudioContiguous,o,v||w||a===Ds?g:void 0),w){const r=l?l.endPTS-l.startPTS:0;e.inputTimeScale||(Ii.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),u=this.generateIS(t,e,i,o)),c=this.remuxVideo(e,g,n,r)}}else w&&(c=this.remuxVideo(e,g,n,0));c&&(c.firstKeyFrame=s,c.independent=-1!==s,c.firstKeyFramePTS=r)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(n.samples.length&&(h=yl(n,i,this._initPTS,this._initDTS)),r.samples.length&&(d=bl(r,i,this._initPTS))),{audio:l,video:c,initSegment:u,independent:f,text:d,id3:h}}generateIS(t,e,n,r){const i=t.samples,o=e.samples,s=this.typeSupported,a={},c=this._initPTS;let l,u,d,h=!c||r,f="audio/mp4";if(h&&(l=u=1/0),t.config&&i.length){switch(t.timescale=t.samplerate,t.segmentCodec){case"mp3":s.mpeg?(f="audio/mpeg",t.codec=""):s.mp3&&(t.codec="mp3");break;case"ac3":t.codec="ac-3"}a.audio={id:"audio",container:f,codec:t.codec,initSegment:"mp3"===t.segmentCodec&&s.mpeg?new Uint8Array(0):ul.initSegment([t]),metadata:{channelCount:t.channelCount}},h&&(d=t.inputTimeScale,c&&d===c.timescale?h=!1:l=u=i[0].pts-Math.round(d*n))}if(e.sps&&e.pps&&o.length){if(e.timescale=e.inputTimeScale,a.video={id:"main",container:"video/mp4",codec:e.codec,initSegment:ul.initSegment([e]),metadata:{width:e.width,height:e.height}},h)if(d=e.inputTimeScale,c&&d===c.timescale)h=!1;else{const t=this.getVideoStartPts(o),e=Math.round(d*n);u=Math.min(u,vl(o[0].dts,t)-e),l=Math.min(l,t-e)}this.videoTrackConfig={width:e.width,height:e.height,pixelRatio:e.pixelRatio}}if(Object.keys(a).length)return this.ISGenerated=!0,h?(this._initPTS={baseTime:l,timescale:d},this._initDTS={baseTime:u,timescale:d}):l=d=void 0,{tracks:a,initPTS:l,timescale:d}}remuxVideo(t,e,n,r){const i=t.inputTimeScale,o=t.samples,s=[],a=o.length,c=this._initPTS;let l,u,d=this.nextAvcDts,h=8,f=this.videoSampleDuration,p=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,m=!1;if(!n||null===d){const t=e*i,r=o[0].pts-vl(o[0].dts,o[0].pts);pl&&null!==d&&Math.abs(t-r-d)<15e3?n=!0:d=t-r}const v=c.baseTime*i/c.timescale;for(let t=0;t<a;t++){const e=o[t];e.pts=vl(e.pts-v,d),e.dts=vl(e.dts-v,d),e.dts<o[t>0?t-1:t].dts&&(m=!0)}m&&o.sort((function(t,e){const n=t.dts-e.dts,r=t.pts-e.pts;return n||r})),l=o[0].dts,u=o[o.length-1].dts;const y=u-l,b=y?Math.round(y/(a-1)):f||t.inputTimeScale/30;if(n){const t=l-d,n=t>b,r=t<-1;if((n||r)&&(n?Ii.warn(`AVC: ${hl(t,!0)} ms (${t}dts) hole between fragments detected at ${e.toFixed(3)}`):Ii.warn(`AVC: ${hl(-t,!0)} ms (${t}dts) overlapping between fragments detected at ${e.toFixed(3)}`),!r||d>=o[0].pts||pl)){l=d;const e=o[0].pts-t;if(n)o[0].dts=l,o[0].pts=e;else for(let n=0;n<o.length&&!(o[n].dts>e);n++)o[n].dts-=t,o[n].pts-=t;Ii.log(`Video: Initial PTS/DTS adjusted: ${hl(e,!0)}/${hl(l,!0)}, delta: ${hl(t,!0)} ms`)}}l=Math.max(0,l);let w=0,_=0,E=l;for(let t=0;t<a;t++){const e=o[t],n=e.units,r=n.length;let i=0;for(let t=0;t<r;t++)i+=n[t].data.length;_+=i,w+=r,e.length=i,e.dts<E?(e.dts=E,E+=b/4|0||1):E=e.dts,p=Math.min(e.pts,p),g=Math.max(e.pts,g)}u=o[a-1].dts;const S=_+4*w+8;let A;try{A=new Uint8Array(S)}catch(t){return void this.observer.emit(Ai.ERROR,Ai.ERROR,{type:Ti.MUX_ERROR,details:xi.REMUX_ALLOC_ERROR,fatal:!1,error:t,bytes:S,reason:"fail allocating video mdat "+S})}const T=new DataView(A.buffer);T.setUint32(0,S),A.set(ul.types.mdat,4);let x=!1,k=Number.POSITIVE_INFINITY,C=Number.POSITIVE_INFINITY,R=Number.NEGATIVE_INFINITY,L=Number.NEGATIVE_INFINITY;for(let t=0;t<a;t++){const e=o[t],n=e.units;let c,l=0;for(let t=0,e=n.length;t<e;t++){const e=n[t],r=e.data,i=e.data.byteLength;T.setUint32(h,i),h+=4,A.set(r,h),h+=i,l+=4+i}if(t<a-1)f=o[t+1].dts-e.dts,c=o[t+1].pts-e.pts;else{const n=this.config,s=t>0?e.dts-o[t-1].dts:b;if(c=t>0?e.pts-o[t-1].pts:b,n.stretchShortVideoTrack&&null!==this.nextAudioPts){const t=Math.floor(n.maxBufferHole*i),o=(r?p+r*i:this.nextAudioPts)-e.pts;o>t?(f=o-s,f<0?f=s:x=!0,Ii.log(`[mp4-remuxer]: It is approximately ${o/90} ms to the next segment; using duration ${f/90} ms for the last video frame.`)):f=s}else f=s}const u=Math.round(e.pts-e.dts);k=Math.min(k,f),R=Math.max(R,f),C=Math.min(C,c),L=Math.max(L,c),s.push(new wl(e.key,f,l,u))}if(s.length)if(pl){if(pl<70){const t=s[0].flags;t.dependsOn=2,t.isNonSync=0}}else if(gl&&L-C<R-k&&b/R<.025&&0===s[0].cts){Ii.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let t=l;for(let e=0,n=s.length;e<n;e++){const r=t+s[e].duration,i=t+s[e].cts;if(e<n-1){const t=r+s[e+1].cts;s[e].duration=t-i}else s[e].duration=e?s[e-1].duration:b;s[e].cts=0,t=r}}f=x||!f?b:f,this.nextAvcDts=d=u+f,this.videoSampleDuration=f,this.isVideoContiguous=!0;const I={data1:ul.moof(t.sequenceNumber++,l,wi({},t,{samples:s})),data2:A,startPTS:p/i,endPTS:(g+f)/i,startDTS:l/i,endDTS:d/i,type:"video",hasAudio:!1,hasVideo:!0,nb:s.length,dropped:t.dropped};return t.samples=[],t.dropped=0,I}getSamplesPerFrame(t){switch(t.segmentCodec){case"mp3":return 1152;case"ac3":return 1536;default:return 1024}}remuxAudio(t,e,n,r,i){const o=t.inputTimeScale,s=o/(t.samplerate?t.samplerate:o),a=this.getSamplesPerFrame(t),c=a*s,l=this._initPTS,u="mp3"===t.segmentCodec&&this.typeSupported.mpeg,d=[],h=void 0!==i;let f=t.samples,p=u?0:8,g=this.nextAudioPts||-1;const m=e*o,v=l.baseTime*o/l.timescale;if(this.isAudioContiguous=n=n||f.length&&g>0&&(r&&Math.abs(m-g)<9e3||Math.abs(vl(f[0].pts-v,m)-g)<20*c),f.forEach((function(t){t.pts=vl(t.pts-v,m)})),!n||g<0){if(f=f.filter(t=>t.pts>=0),!f.length)return;g=0===i?0:r&&!h?Math.max(0,m):f[0].pts}if("aac"===t.segmentCodec){const e=this.config.maxAudioFramesDrift;for(let n=0,r=g;n<f.length;n++){const i=f[n],s=i.pts,a=s-r,l=Math.abs(1e3*a/o);if(a<=-e*c&&h)0===n&&(Ii.warn(`Audio frame @ ${(s/o).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*a/o)} ms.`),this.nextAudioPts=g=r=s);else if(a>=e*c&&l<1e4&&h){let e=Math.round(a/c);r=s-e*c,r<0&&(e--,r+=c),0===n&&(this.nextAudioPts=g=r),Ii.warn(`[mp4-remuxer]: Injecting ${e} audio frame @ ${(r/o).toFixed(3)}s due to ${Math.round(1e3*a/o)} ms gap.`);for(let o=0;o<e;o++){const e=Math.max(r,0);let o=cl.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);o||(Ii.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),o=i.unit.subarray()),f.splice(n,0,{unit:o,pts:e}),r+=c,n++}}i.pts=r,r+=c}}let y,b=null,w=null,_=0,E=f.length;for(;E--;)_+=f[E].unit.byteLength;for(let e=0,r=f.length;e<r;e++){const r=f[e],i=r.unit;let o=r.pts;if(null!==w){d[e-1].duration=Math.round((o-w)/s)}else{if(n&&"aac"===t.segmentCodec&&(o=g),b=o,!(_>0))return;_+=p;try{y=new Uint8Array(_)}catch(t){return void this.observer.emit(Ai.ERROR,Ai.ERROR,{type:Ti.MUX_ERROR,details:xi.REMUX_ALLOC_ERROR,fatal:!1,error:t,bytes:_,reason:"fail allocating audio mdat "+_})}if(!u){new DataView(y.buffer).setUint32(0,_),y.set(ul.types.mdat,4)}}y.set(i,p);const c=i.byteLength;p+=c,d.push(new wl(!0,a,c,0)),w=o}const S=d.length;if(!S)return;const A=d[d.length-1];this.nextAudioPts=g=w+s*A.duration;const T=u?new Uint8Array(0):ul.moof(t.sequenceNumber++,b/s,wi({},t,{samples:d}));t.samples=[];const x=b/o,k=g/o,C={data1:T,data2:y,startPTS:x,endPTS:k,startDTS:x,endDTS:k,type:"audio",hasAudio:!0,hasVideo:!1,nb:S};return this.isAudioContiguous=!0,C}remuxEmptyAudio(t,e,n,r){const i=t.inputTimeScale,o=i/(t.samplerate?t.samplerate:i),s=this.nextAudioPts,a=this._initDTS,c=9e4*a.baseTime/a.timescale,l=(null!==s?s:r.startDTS*i)+c,u=r.endDTS*i+c,d=1024*o,h=Math.ceil((u-l)/d),f=cl.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(Ii.warn("[mp4-remuxer]: remux empty Audio"),!f)return void Ii.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");const p=[];for(let t=0;t<h;t++){const e=l+t*d;p.push({unit:f,pts:e,dts:e})}return t.samples=p,this.remuxAudio(t,e,n,!1)}}function vl(t,e){let n;if(null===e)return t;for(n=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=n;return t}function yl(t,e,n,r){const i=t.samples.length;if(!i)return;const o=t.inputTimeScale;for(let s=0;s<i;s++){const i=t.samples[s];i.pts=vl(i.pts-n.baseTime*o/n.timescale,e*o)/o,i.dts=vl(i.dts-r.baseTime*o/r.timescale,e*o)/o}const s=t.samples;return t.samples=[],{samples:s}}function bl(t,e,n){const r=t.samples.length;if(!r)return;const i=t.inputTimeScale;for(let o=0;o<r;o++){const r=t.samples[o];r.pts=vl(r.pts-n.baseTime*i/n.timescale,e*i)/i}t.samples.sort((t,e)=>t.pts-e.pts);const o=t.samples;return t.samples=[],{samples:o}}class wl{constructor(t,e,n,r){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=e,this.size=n,this.cts=r,this.flags={isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:t?2:1,isNonSync:t?0:1}}}function _l(t,e){const n=null==t?void 0:t.codec;if(n&&n.length>4)return n;if(e===Bi){if("ec-3"===n||"ac-3"===n||"alac"===n)return n;if("fLaC"===n||"Opus"===n){return fs(n,!1)}const t="mp4a.40.5";return Ii.info(`Parsed audio codec "${n}" or audio object type not handled. Using "${t}"`),t}return Ii.warn(`Unhandled video codec "${n}"`),"hvc1"===n||"hev1"===n?"hvc1.1.6.L120.90":"av01"===n?"av01.0.04M.08":"avc1.42e01e"}try{fl=self.performance.now.bind(self.performance)}catch(t){Ii.debug("Unable to use Performance API on this environment"),fl=null==Wi?void 0:Wi.Date.now}const El=[{demux:class{constructor(t,e){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=e}resetTimeStamp(){}resetInitSegment(t,e,n,r){const i=this.videoTrack=Cc("video",1),o=this.audioTrack=Cc("audio",1),s=this.txtTrack=Cc("text",1);if(this.id3Track=Cc("id3",1),this.timeOffset=0,null==t||!t.byteLength)return;const a=Fo(t);if(a.video){const{id:t,timescale:e,codec:n}=a.video;i.id=t,i.timescale=s.timescale=e,i.codec=n}if(a.audio){const{id:t,timescale:e,codec:n}=a.audio;o.id=t,o.timescale=e,o.codec=n}s.id=Co.text,i.sampleDuration=0,i.duration=o.duration=r}resetContiguity(){this.remainderData=null}static probe(t){return function(t){const e=t.byteLength;for(let n=0;n<e;){const r=Io(t,n);if(r>8&&109===t[n+4]&&111===t[n+5]&&111===t[n+6]&&102===t[n+7])return!0;n=r>1?n+r:e}return!1}(t)}demux(t,e){this.timeOffset=e;let n=t;const r=this.videoTrack,i=this.txtTrack;if(this.config.progressive){this.remainderData&&(n=Ko(this.remainderData,t));const e=function(t){const e={valid:null,remainder:null},n=No(t,["moof"]);if(n.length<2)return e.remainder=t,e;const r=n[n.length-1];return e.valid=so(t,0,r.byteOffset-8),e.remainder=so(t,r.byteOffset-8),e}(n);this.remainderData=e.remainder,r.samples=e.valid||new Uint8Array}else r.samples=n;const o=this.extractID3Track(r,e);return i.samples=Vo(e,r),{videoTrack:r,audioTrack:this.audioTrack,id3Track:o,textTrack:this.txtTrack}}flush(){const t=this.timeOffset,e=this.videoTrack,n=this.txtTrack;e.samples=this.remainderData||new Uint8Array,this.remainderData=null;const r=this.extractID3Track(e,this.timeOffset);return n.samples=Vo(t,e),{videoTrack:e,audioTrack:Cc(),id3Track:r,textTrack:Cc()}}extractID3Track(t,e){const n=this.id3Track;if(t.samples.length){const r=No(t.samples,["emsg"]);r&&r.forEach(t=>{const r=function(t){const e=t[0];let n="",r="",i=0,o=0,s=0,a=0,c=0,l=0;if(0===e){for(;"\0"!==Ro(t.subarray(l,l+1));)n+=Ro(t.subarray(l,l+1)),l+=1;for(n+=Ro(t.subarray(l,l+1)),l+=1;"\0"!==Ro(t.subarray(l,l+1));)r+=Ro(t.subarray(l,l+1)),l+=1;r+=Ro(t.subarray(l,l+1)),l+=1,i=Io(t,12),o=Io(t,16),a=Io(t,20),c=Io(t,24),l=28}else if(1===e){l+=4,i=Io(t,l),l+=4;const e=Io(t,l);l+=4;const o=Io(t,l);for(l+=4,s=2**32*e+o,Ei(s)||(s=Number.MAX_SAFE_INTEGER,Ii.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),a=Io(t,l),l+=4,c=Io(t,l),l+=4;"\0"!==Ro(t.subarray(l,l+1));)n+=Ro(t.subarray(l,l+1)),l+=1;for(n+=Ro(t.subarray(l,l+1)),l+=1;"\0"!==Ro(t.subarray(l,l+1));)r+=Ro(t.subarray(l,l+1)),l+=1;r+=Ro(t.subarray(l,l+1)),l+=1}return{schemeIdUri:n,value:r,timeScale:i,presentationTime:s,presentationTimeDelta:o,eventDuration:a,id:c,payload:t.subarray(l,t.byteLength)}}(t);if(Yc.test(r.schemeIdUri)){const t=_i(r.presentationTime)?r.presentationTime/r.timeScale:e+r.presentationTimeDelta/r.timeScale;let i=4294967295===r.eventDuration?Number.POSITIVE_INFINITY:r.eventDuration/r.timeScale;i<=.001&&(i=Number.POSITIVE_INFINITY);const o=r.payload;n.samples.push({data:o,len:o.byteLength,dts:t,pts:t,type:Vs,duration:i})}})}return n}demuxSampleAes(t,e,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}},remux:class{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(t){this.initPTS=t,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(t,e,n,r){this.audioCodec=e,this.videoCodec=n,this.generateInitSegment(function(t,e){if(!t||!e)return t;const n=e.keyId;if(n&&e.isCommonEncryption){No(t,["moov","trak"]).forEach(t=>{const e=No(t,["mdia","minf","stbl","stsd"])[0].subarray(8);let r=No(e,["enca"]);const i=r.length>0;i||(r=No(e,["encv"])),r.forEach(t=>{No(i?t.subarray(28):t.subarray(78),["sinf"]).forEach(t=>{const e=Go(t);if(e){const t=e.subarray(8,24);t.some(t=>0!==t)||(Ii.log(`[eme] Patching keyId in 'enc${i?"a":"v"}>sinf>>tenc' box: ${To(t)} -> ${To(n)}`),e.set(n,8))}})})})}return t}(t,r)),this.emitInitSegment=!0}generateInitSegment(t){let{audioCodec:e,videoCodec:n}=this;if(null==t||!t.byteLength)return this.initTracks=void 0,void(this.initData=void 0);const r=this.initData=Fo(t);r.audio&&(e=_l(r.audio,Bi)),r.video&&(n=_l(r.video,Ui));const i={};r.audio&&r.video?i.audiovideo={container:"video/mp4",codec:e+","+n,initSegment:t,id:"main"}:r.audio?i.audio={container:"audio/mp4",codec:e,initSegment:t,id:"audio"}:r.video?i.video={container:"video/mp4",codec:n,initSegment:t,id:"main"}:Ii.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=i}remux(t,e,n,r,i,o){var s,a;let{initPTS:c,lastEndTime:l}=this;const u={audio:void 0,video:void 0,text:r,id3:n,initSegment:void 0};_i(l)||(l=this.lastEndTime=i||0);const d=e.samples;if(null==d||!d.length)return u;const h={initPTS:void 0,timescale:1};let f=this.initData;if(null!=(s=f)&&s.length||(this.generateInitSegment(d),f=this.initData),null==(a=f)||!a.length)return Ii.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),u;this.emitInitSegment&&(h.tracks=this.initTracks,this.emitInitSegment=!1);const p=function(t,e){let n=0,r=0,i=0;const o=No(t,["moof","traf"]);for(let t=0;t<o.length;t++){const s=o[t],a=No(s,["tfhd"])[0],c=e[Io(a,4)];if(!c)continue;const l=c.default,u=Io(a,0)|(null==l?void 0:l.flags);let d=null==l?void 0:l.duration;8&u&&(d=Io(a,2&u?12:8));const h=c.timescale||9e4,f=No(s,["trun"]);for(let t=0;t<f.length;t++){if(n=Ho(f[t]),!n&&d){n=d*Io(f[t],4)}c.type===Ui?r+=n/h:c.type===Bi&&(i+=n/h)}}if(0===r&&0===i){let e=1/0,n=0,r=0;const i=No(t,["sidx"]);for(let t=0;t<i.length;t++){const o=Po(i[t]);if(null!=o&&o.references){e=Math.min(e,o.earliestPresentationTime/o.timescale);const t=o.references.reduce((t,e)=>t+e.info.duration||0,0);n=Math.max(n,t+o.earliestPresentationTime/o.timescale),r=n-e}}if(r&&_i(r))return r}return r||i}(d,f),g=function(t,e){return No(e,["moof","traf"]).reduce((e,n)=>{const r=No(n,["tfdt"])[0],i=r[0],o=No(n,["tfhd"]).reduce((e,n)=>{const o=Io(n,4),s=t[o];if(s){let t=Io(r,4);if(1===i){if(t===xo)return Ii.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),e;t*=xo+1,t+=Io(r,8)}const n=t/(s.timescale||9e4);if(_i(n)&&(null===e||n<e))return n}return e},null);return null!==o&&_i(o)&&(null===e||o<e)?o:e},null)}(f,d),m=null===g?i:g;(function(t,e,n,r){if(null===t)return!0;const i=Math.max(r,1),o=e-t.baseTime/t.timescale;return Math.abs(o-n)>i}(c,m,i,p)||h.timescale!==c.timescale&&o)&&(h.initPTS=m-i,c&&1===c.timescale&&Ii.warn("Adjusting initPTS by "+(h.initPTS-c.baseTime)),this.initPTS=c={baseTime:h.initPTS,timescale:1});const v=t?m-c.baseTime/c.timescale:l,y=v+p;!function(t,e,n){No(e,["moof","traf"]).forEach(e=>{No(e,["tfhd"]).forEach(r=>{const i=Io(r,4),o=t[i];if(!o)return;const s=o.timescale||9e4;No(e,["tfdt"]).forEach(t=>{const e=t[0],r=n*s;if(r){let n=Io(t,4);if(0===e)n-=r,n=Math.max(n,0),Mo(t,4,n);else{n*=Math.pow(2,32),n+=Io(t,8),n-=r,n=Math.max(n,0);const e=Math.floor(n/(xo+1)),i=Math.floor(n%(xo+1));Mo(t,4,e),Mo(t,8,i)}}})})})}(f,d,c.baseTime/c.timescale),p>0?this.lastEndTime=y:(Ii.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const b=!!f.audio,w=!!f.video;let _="";b&&(_+="audio"),w&&(_+="video");const E={data1:d,startPTS:v,startDTS:v,endPTS:y,endDTS:y,type:_,hasAudio:b,hasVideo:w,nb:1,dropped:0};return u.audio="audio"===E.type?E:void 0,u.video="audio"!==E.type?E:void 0,u.initSegment=h,u.id3=yl(n,i,c,c),r.samples.length&&(u.text=bl(r,i,c)),u}}},{demux:nl,remux:ml},{demux:class extends Rc{constructor(t,e){super(),this.observer=void 0,this.config=void 0,this.observer=t,this.config=e}resetInitSegment(t,e,n,r){super.resetInitSegment(t,e,n,r),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:e,duration:r,inputTimeScale:9e4,dropped:0}}static probe(t){if(!t)return!1;const e=lo(t,0);let n=(null==e?void 0:e.length)||0;if(Wc(t,n))return!1;for(let e=t.length;n<e;n++)if(Nc(t,n))return Ii.log("ADTS sync word found !"),!0;return!1}canParse(t,e){return function(t,e){return function(t,e){return e+5<t.length}(t,e)&&Ic(t,e)&&Dc(t,e)<=t.length-e}(t,e)}appendFrame(t,e,n){Pc(t,this.observer,e,n,t.manifestCodec);const r=Bc(t,e,n,this.basePTS,this.frameIndex);if(r&&0===r.missing)return r}},remux:ml},{demux:class extends Rc{resetInitSegment(t,e,n,r){super.resetInitSegment(t,e,n,r),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:e,duration:r,inputTimeScale:9e4,dropped:0}}static probe(t){if(!t)return!1;const e=lo(t,0);let n=(null==e?void 0:e.length)||0;if(e&&11===t[n]&&119===t[n+1]&&void 0!==fo(e)&&Xc(t,n)<=16)return!1;for(let e=t.length;n<e;n++)if(Wc(t,n))return Ii.log("MPEG Audio sync word found !"),!0;return!1}canParse(t,e){return function(t,e){return qc(t,e)&&4<=t.length-e}(t,e)}appendFrame(t,e,n){if(null!==this.basePTS)return Kc(t,e,n,this.basePTS,this.frameIndex)}},remux:ml}];El.splice(2,0,{demux:Qc,remux:ml});class Sl{constructor(t,e,n,r,i){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=t,this.typeSupported=e,this.config=n,this.vendor=r,this.id=i}configure(t){this.transmuxConfig=t,this.decrypter&&this.decrypter.reset()}push(t,e,n,r){const i=n.transmuxing;i.executeStart=fl();let o=new Uint8Array(t);const{currentTransmuxState:s,transmuxConfig:a}=this;r&&(this.currentTransmuxState=r);const{contiguous:c,discontinuity:l,trackSwitch:u,accurateTimeOffset:d,timeOffset:h,initSegmentChange:f}=r||s,{audioCodec:p,videoCodec:g,defaultInitPts:m,duration:v,initSegmentData:y}=a,b=function(t,e){let n=null;t.byteLength>0&&null!=(null==e?void 0:e.key)&&null!==e.iv&&null!=e.method&&(n=e);return n}(o,e);if(b&&"AES-128"===b.method){const t=this.getDecrypter();if(!t.isSync())return this.decryptionPromise=t.webCryptoDecrypt(o,b.key.buffer,b.iv.buffer).then(t=>{const e=this.push(t,null,n);return this.decryptionPromise=null,e}),this.decryptionPromise;{let e=t.softwareDecrypt(o,b.key.buffer,b.iv.buffer);if(n.part>-1&&(e=t.flush()),!e)return i.executeEnd=fl(),Al(n);o=new Uint8Array(e)}}const w=this.needsProbing(l,u);if(w){const t=this.configureTransmuxer(o);if(t)return Ii.warn("[transmuxer] "+t.message),this.observer.emit(Ai.ERROR,Ai.ERROR,{type:Ti.MEDIA_ERROR,details:xi.FRAG_PARSING_ERROR,fatal:!1,error:t,reason:t.message}),i.executeEnd=fl(),Al(n)}(l||u||f||w)&&this.resetInitSegment(y,p,g,v,e),(l||f||w)&&this.resetInitialTimestamp(m),c||this.resetContiguity();const _=this.transmux(o,b,h,d,n),E=this.currentTransmuxState;return E.contiguous=!0,E.discontinuity=!1,E.trackSwitch=!1,i.executeEnd=fl(),_}flush(t){const e=t.transmuxing;e.executeStart=fl();const{decrypter:n,currentTransmuxState:r,decryptionPromise:i}=this;if(i)return i.then(()=>this.flush(t));const o=[],{timeOffset:s}=r;if(n){const e=n.flush();e&&o.push(this.push(e,null,t))}const{demuxer:a,remuxer:c}=this;if(!a||!c)return e.executeEnd=fl(),[Al(t)];const l=a.flush(s);return Tl(l)?l.then(e=>(this.flushRemux(o,e,t),o)):(this.flushRemux(o,l,t),o)}flushRemux(t,e,n){const{audioTrack:r,videoTrack:i,id3Track:o,textTrack:s}=e,{accurateTimeOffset:a,timeOffset:c}=this.currentTransmuxState;Ii.log(`[transmuxer.ts]: Flushed fragment ${n.sn}${n.part>-1?" p: "+n.part:""} of level ${n.level}`);const l=this.remuxer.remux(r,i,o,s,c,a,!0,this.id);t.push({remuxResult:l,chunkMeta:n}),n.transmuxing.executeEnd=fl()}resetInitialTimestamp(t){const{demuxer:e,remuxer:n}=this;e&&n&&(e.resetTimeStamp(t),n.resetTimeStamp(t))}resetContiguity(){const{demuxer:t,remuxer:e}=this;t&&e&&(t.resetContiguity(),e.resetNextTimestamp())}resetInitSegment(t,e,n,r,i){const{demuxer:o,remuxer:s}=this;o&&s&&(o.resetInitSegment(t,e,n,r),s.resetInitSegment(t,e,n,i))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(t,e,n,r,i){let o;return o=e&&"SAMPLE-AES"===e.method?this.transmuxSampleAes(t,e,n,r,i):this.transmuxUnencrypted(t,n,r,i),o}transmuxUnencrypted(t,e,n,r){const{audioTrack:i,videoTrack:o,id3Track:s,textTrack:a}=this.demuxer.demux(t,e,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(i,o,s,a,e,n,!1,this.id),chunkMeta:r}}transmuxSampleAes(t,e,n,r,i){return this.demuxer.demuxSampleAes(t,e,n).then(t=>({remuxResult:this.remuxer.remux(t.audioTrack,t.videoTrack,t.id3Track,t.textTrack,n,r,!1,this.id),chunkMeta:i}))}configureTransmuxer(t){const{config:e,observer:n,typeSupported:r,vendor:i}=this;let o;for(let e=0,n=El.length;e<n;e++){var s;if(null!=(s=El[e].demux)&&s.probe(t)){o=El[e];break}}if(!o)return new Error("Failed to find demuxer by probing fragment data");const a=this.demuxer,c=this.remuxer,l=o.remux,u=o.demux;c&&c instanceof l||(this.remuxer=new l(n,e,r,i)),a&&a instanceof u||(this.demuxer=new u(n,e,r),this.probe=u.probe)}needsProbing(t,e){return!this.demuxer||!this.remuxer||t||e}getDecrypter(){let t=this.decrypter;return t||(t=this.decrypter=new hc(this.config)),t}}const Al=t=>({remuxResult:{},chunkMeta:t});function Tl(t){return"then"in t&&t.then instanceof Function}class xl{constructor(t,e,n,r,i){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=t,this.videoCodec=e,this.initSegmentData=n,this.duration=r,this.defaultInitPts=i||null}}class kl{constructor(t,e,n,r,i,o){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=t,this.contiguous=e,this.accurateTimeOffset=n,this.trackSwitch=r,this.timeOffset=i,this.initSegmentChange=o}}var Cl={exports:{}};!function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new i(r,o||t,s),c=n?n+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],a]:t._events[c].push(a):(t._events[c]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},a.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,i,o,s){var a=n?n+t:t;if(!this._events[a])return!1;var c,l,u=this._events[a],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,r),!0;case 4:return u.fn.call(u.context,e,r,i),!0;case 5:return u.fn.call(u.context,e,r,i,o),!0;case 6:return u.fn.call(u.context,e,r,i,o,s),!0}for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var h,f=u.length;for(l=0;l<f;l++)switch(u[l].once&&this.removeListener(t,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,e);break;case 3:u[l].fn.call(u[l].context,e,r);break;case 4:u[l].fn.call(u[l].context,e,r,i);break;default:if(!c)for(h=1,c=new Array(d-1);h<d;h++)c[h-1]=arguments[h];u[l].fn.apply(u[l].context,c)}}return!0},a.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||i&&!a.once||r&&a.context!==r||s(this,o);else{for(var c=0,l=[],u=a.length;c<u;c++)(a[c].fn!==e||i&&!a[c].once||r&&a[c].context!==r)&&l.push(a[c]);l.length?this._events[o]=1===l.length?l[0]:l:s(this,o)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&s(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a}(Cl);var Rl=fi(Cl.exports);class Ll{constructor(t,e,n,r){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const i=t.config;this.hls=t,this.id=e,this.useWorker=!!i.enableWorker,this.onTransmuxComplete=n,this.onFlush=r;const o=(t,e)=>{(e=e||{}).frag=this.frag,e.id=this.id,t===Ai.ERROR&&(this.error=e.error),this.hls.trigger(t,e)};this.observer=new Rl,this.observer.on(Ai.FRAG_DECRYPTED,o),this.observer.on(Ai.ERROR,o);const s=is(i.preferManagedMediaSource)||{isTypeSupported:()=>!1},a={mpeg:s.isTypeSupported("audio/mpeg"),mp3:s.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:s.isTypeSupported('audio/mp4; codecs="ac-3"')},c=navigator.vendor;if(this.useWorker&&"undefined"!=typeof Worker){if(i.workerPath||"function"==typeof __HLS_WORKER_BUNDLE__){try{i.workerPath?(Ii.log(`loading Web Worker ${i.workerPath} for "${e}"`),this.workerContext=function(t){const e=new self.URL(t,self.location.href).href;return{worker:new self.Worker(e),scriptURL:e}}(i.workerPath)):(Ii.log(`injecting Web Worker for "${e}"`),this.workerContext=function(){const t=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),e=self.URL.createObjectURL(t);return{worker:new self.Worker(e),objectURL:e}}()),this.onwmsg=t=>this.onWorkerMessage(t);const{worker:t}=this.workerContext;t.addEventListener("message",this.onwmsg),t.onerror=t=>{const n=new Error(`${t.message}  (${t.filename}:${t.lineno})`);i.enableWorker=!1,Ii.warn(`Error in "${e}" Web Worker, fallback to inline`),this.hls.trigger(Ai.ERROR,{type:Ti.OTHER_ERROR,details:xi.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:n})},t.postMessage({cmd:"init",typeSupported:a,vendor:c,id:e,config:JSON.stringify(i)})}catch(t){Ii.warn(`Error setting up "${e}" Web Worker, fallback to inline`,t),this.resetWorker(),this.error=null,this.transmuxer=new Sl(this.observer,a,i,c,e)}return}}this.transmuxer=new Sl(this.observer,a,i,c,e)}resetWorker(){if(this.workerContext){const{worker:t,objectURL:e}=this.workerContext;e&&self.URL.revokeObjectURL(e),t.removeEventListener("message",this.onwmsg),t.onerror=null,t.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}const t=this.observer;t&&t.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(t,e,n,r,i,o,s,a,c,l){var u,d;c.transmuxing.start=self.performance.now();const{transmuxer:h}=this,f=o?o.start:i.start,p=i.decryptdata,g=this.frag,m=!(g&&i.cc===g.cc),v=!(g&&c.level===g.level),y=g?c.sn-g.sn:-1,b=this.part?c.part-this.part.index:-1,w=0===y&&c.id>1&&c.id===(null==g?void 0:g.stats.chunkCount),_=!v&&(1===y||0===y&&(1===b||w&&b<=0)),E=self.performance.now();(v||y||0===i.stats.parsing.start)&&(i.stats.parsing.start=E),!o||!b&&_||(o.stats.parsing.start=E);const S=!(g&&(null==(u=i.initSegment)?void 0:u.url)===(null==(d=g.initSegment)?void 0:d.url)),A=new kl(m,_,a,v,f,S);if(!_||m||S){Ii.log(`[transmuxer-interface, ${i.type}]: Starting new transmux session for sn: ${c.sn} p: ${c.part} level: ${c.level} id: ${c.id}\n        discontinuity: ${m}\n        trackSwitch: ${v}\n        contiguous: ${_}\n        accurateTimeOffset: ${a}\n        timeOffset: ${f}\n        initSegmentChange: ${S}`);const t=new xl(n,r,e,s,l);this.configureTransmuxer(t)}if(this.frag=i,this.part=o,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:t,decryptdata:p,chunkMeta:c,state:A},t instanceof ArrayBuffer?[t]:[]);else if(h){const e=h.push(t,p,c,A);Tl(e)?(h.async=!0,e.then(t=>{this.handleTransmuxComplete(t)}).catch(t=>{this.transmuxerError(t,c,"transmuxer-interface push error")})):(h.async=!1,this.handleTransmuxComplete(e))}}flush(t){t.transmuxing.start=self.performance.now();const{transmuxer:e}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:t});else if(e){let n=e.flush(t);Tl(n)||e.async?(Tl(n)||(n=Promise.resolve(n)),n.then(e=>{this.handleFlushResult(e,t)}).catch(e=>{this.transmuxerError(e,t,"transmuxer-interface flush error")})):this.handleFlushResult(n,t)}}transmuxerError(t,e,n){this.hls&&(this.error=t,this.hls.trigger(Ai.ERROR,{type:Ti.MEDIA_ERROR,details:xi.FRAG_PARSING_ERROR,chunkMeta:e,fatal:!1,error:t,err:t,reason:n}))}handleFlushResult(t,e){t.forEach(t=>{this.handleTransmuxComplete(t)}),this.onFlush(e)}onWorkerMessage(t){const e=t.data,n=this.hls;switch(e.event){case"init":{var r;const t=null==(r=this.workerContext)?void 0:r.objectURL;t&&self.URL.revokeObjectURL(t);break}case"transmuxComplete":this.handleTransmuxComplete(e.data);break;case"flush":this.onFlush(e.data);break;case"workerLog":Ii[e.data.logType]&&Ii[e.data.logType](e.data.message);break;default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,n.trigger(e.event,e.data)}}configureTransmuxer(t){const{transmuxer:e}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:t}):e&&e.configure(t)}handleTransmuxComplete(t){t.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(t)}}function Il(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Ol(t[n].attrs,e[n].attrs))return!1;return!0}function Ol(t,e,n){const r=t["STABLE-RENDITION-ID"];return r&&!n?r===e["STABLE-RENDITION-ID"]:!(n||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(n=>t[n]!==e[n])}function Dl(t,e){return e.label.toLowerCase()===t.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(t.lang||"").toLowerCase())}class Ml{constructor(t){this.buffered=void 0;const e=(e,n,r)=>{if((n>>>=0)>r-1)throw new DOMException(`Failed to execute '${e}' on 'TimeRanges': The index provided (${n}) is greater than the maximum bound (${r})`);return t[n][e]};this.buffered={get length(){return t.length},end:n=>e("end",n,t.length),start:n=>e("start",n,t.length)}}}class Nl{constructor(t){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=t}append(t,e,n){const r=this.queues[e];r.push(t),1!==r.length||n||this.executeNext(e)}insertAbort(t,e){this.queues[e].unshift(t),this.executeNext(e)}appendBlocker(t){let e;const n=new Promise(t=>{e=t}),r={execute:e,onStart:()=>{},onComplete:()=>{},onError:()=>{}};return this.append(r,t),n}executeNext(t){const e=this.queues[t];if(e.length){const n=e[0];try{n.execute()}catch(e){Ii.warn(`[buffer-operation-queue]: Exception executing "${t}" SourceBuffer operation: ${e}`),n.onError(e);const r=this.buffers[t];null!=r&&r.updating||this.shiftAndExecuteNext(t)}}}shiftAndExecuteNext(t){this.queues[t].shift(),this.executeNext(t)}current(t){return this.queues[t][0]}}const Pl=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/;function Fl(t){const e=t.querySelectorAll("source");[].slice.call(e).forEach(e=>{t.removeChild(e)})}const Bl={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Ul=function(t){let e=t;return Bl.hasOwnProperty(t)&&(e=Bl[t]),String.fromCharCode(e)},$l={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},jl={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Gl={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Hl={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Kl=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class Vl{constructor(){this.time=null,this.verboseLevel=0}log(t,e){if(this.verboseLevel>=t){const n="function"==typeof e?e():e;Ii.log(`${this.time} [${t}] ${n}`)}}}const ql=function(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].toString(16));return e};class zl{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(t){const e=["foreground","underline","italics","background","flash"];for(let n=0;n<e.length;n++){const r=e[n];t.hasOwnProperty(r)&&(this[r]=t[r])}}isDefault(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}equals(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash}copy(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class Wl{constructor(){this.uchar=" ",this.penState=new zl}reset(){this.uchar=" ",this.penState.reset()}setChar(t,e){this.uchar=t,this.penState.copy(e)}setPenState(t){this.penState.copy(t)}equals(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)}copy(t){this.uchar=t.uchar,this.penState.copy(t.penState)}isEmpty(){return" "===this.uchar&&this.penState.isDefault()}}class Yl{constructor(t){this.chars=[],this.pos=0,this.currPenState=new zl,this.cueStartTime=null,this.logger=void 0;for(let t=0;t<100;t++)this.chars.push(new Wl);this.logger=t}equals(t){for(let e=0;e<100;e++)if(!this.chars[e].equals(t.chars[e]))return!1;return!0}copy(t){for(let e=0;e<100;e++)this.chars[e].copy(t.chars[e])}isEmpty(){let t=!0;for(let e=0;e<100;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t}setCursor(t){this.pos!==t&&(this.pos=t),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>100&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=100)}moveCursor(t){const e=this.pos+t;if(t>1)for(let t=this.pos+1;t<e+1;t++)this.chars[t].setPenState(this.currPenState);this.setCursor(e)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(t){t>=144&&this.backSpace();const e=Ul(t);this.pos>=100?this.logger.log(0,()=>"Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))}clearFromPos(t){let e;for(e=t;e<100;e++)this.chars[e].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const t=[];let e=!0;for(let n=0;n<100;n++){const r=this.chars[n].uchar;" "!==r&&(e=!1),t.push(r)}return e?"":t.join("")}setPenStyles(t){this.currPenState.setStyles(t);this.chars[this.pos].setPenState(this.currPenState)}}class Xl{constructor(t){this.rows=[],this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let e=0;e<15;e++)this.rows.push(new Yl(t));this.logger=t}reset(){for(let t=0;t<15;t++)this.rows[t].clear();this.currRow=14}equals(t){let e=!0;for(let n=0;n<15;n++)if(!this.rows[n].equals(t.rows[n])){e=!1;break}return e}copy(t){for(let e=0;e<15;e++)this.rows[e].copy(t.rows[e])}isEmpty(){let t=!0;for(let e=0;e<15;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(t){this.rows[this.currRow].insertChar(t)}setPen(t){this.rows[this.currRow].setPenStyles(t)}moveCursor(t){this.rows[this.currRow].moveCursor(t)}setCursor(t){this.logger.log(2,"setCursor: "+t);this.rows[this.currRow].setCursor(t)}setPAC(t){this.logger.log(2,()=>"pacData = "+JSON.stringify(t));let e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(let t=0;t<15;t++)this.rows[t].clear();const t=this.currRow+1-this.nrRollUpRows,n=this.lastOutputScreen;if(n){const r=n.rows[t].cueStartTime,i=this.logger.time;if(null!==r&&null!==i&&r<i)for(let r=0;r<this.nrRollUpRows;r++)this.rows[e-this.nrRollUpRows+r+1].copy(n.rows[t+r])}}this.currRow=e;const n=this.rows[this.currRow];if(null!==t.indent){const e=t.indent,r=Math.max(e-1,0);n.setCursor(t.indent),t.color=n.chars[r].penState.foreground}const r={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(r)}setBkgData(t){this.logger.log(2,()=>"bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)}setRollUpRows(t){this.nrRollUpRows=t}rollUp(){if(null===this.nrRollUpRows)return void this.logger.log(3,"roll_up but nrRollUpRows not set yet");this.logger.log(1,()=>this.getDisplayText());const t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),this.logger.log(2,"Rolling up")}getDisplayText(t){t=t||!1;const e=[];let n="",r=-1;for(let n=0;n<15;n++){const i=this.rows[n].getTextString();i&&(r=n+1,t?e.push("Row "+r+": '"+i+"'"):e.push(i.trim()))}return e.length>0&&(n=t?"["+e.join(" | ")+"]":e.join("\n")),n}getTextAndFormat(){return this.rows}}class Ql{constructor(t,e,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=t,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new Xl(n),this.nonDisplayedMemory=new Xl(n),this.lastOutputScreen=new Xl(n),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(t){this.outputFilter=t}setPAC(t){this.writeScreen.setPAC(t)}setBkgData(t){this.writeScreen.setBkgData(t)}setMode(t){t!==this.mode&&(this.mode=t,this.logger.log(2,()=>"MODE="+t),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)}insertChars(t){for(let e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);const e=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>e+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(t){this.logger.log(2,"RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){const t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(t){this.logger.log(2,"TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)}ccMIDROW(t){const e={flash:!1};if(e.underline=t%2==1,e.italics=t>=46,e.italics)e.foreground="white";else{const n=Math.floor(t/2)-16,r=["white","green","blue","cyan","red","yellow","magenta"];e.foreground=r[n]}this.logger.log(2,"MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)}outputDataUpdate(t=!1){const e=this.logger.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))}}class Jl{constructor(t,e,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory={a:null,b:null},this.logger=void 0;const r=this.logger=new Vl;this.channels=[null,new Ql(t,e,r),new Ql(t+1,n,r)]}getHandler(t){return this.channels[t].getHandler()}setHandler(t,e){this.channels[t].setHandler(e)}addData(t,e){let n,r,i,o=!1;this.logger.time=t;for(let t=0;t<e.length;t+=2)if(r=127&e[t],i=127&e[t+1],0!==r||0!==i){if(this.logger.log(3,"["+ql([e[t],e[t+1]])+"] -> ("+ql([r,i])+")"),n=this.parseCmd(r,i),n||(n=this.parseMidrow(r,i)),n||(n=this.parsePAC(r,i)),n||(n=this.parseBackgroundAttributes(r,i)),!n&&(o=this.parseChars(r,i),o)){const t=this.currentChannel;if(t&&t>0){this.channels[t].insertChars(o)}else this.logger.log(2,"No channel found yet. TEXT-MODE?")}n||o||this.logger.log(2,"Couldn't parse cleaned data "+ql([r,i])+" orig: "+ql([e[t],e[t+1]]))}}parseCmd(t,e){const{cmdHistory:n}=this;if(!((20===t||28===t||21===t||29===t)&&e>=32&&e<=47)&&!((23===t||31===t)&&e>=33&&e<=35))return!1;if(tu(t,e,n))return Zl(null,null,n),this.logger.log(3,"Repeated command ("+ql([t,e])+") is dropped"),!0;const r=20===t||21===t||23===t?1:2,i=this.channels[r];return 20===t||21===t||28===t||29===t?32===e?i.ccRCL():33===e?i.ccBS():34===e?i.ccAOF():35===e?i.ccAON():36===e?i.ccDER():37===e?i.ccRU(2):38===e?i.ccRU(3):39===e?i.ccRU(4):40===e?i.ccFON():41===e?i.ccRDC():42===e?i.ccTR():43===e?i.ccRTD():44===e?i.ccEDM():45===e?i.ccCR():46===e?i.ccENM():47===e&&i.ccEOC():i.ccTO(e-32),Zl(t,e,n),this.currentChannel=r,!0}parseMidrow(t,e){let n=0;if((17===t||25===t)&&e>=32&&e<=47){if(n=17===t?1:2,n!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const r=this.channels[n];return!!r&&(r.ccMIDROW(e),this.logger.log(3,"MIDROW ("+ql([t,e])+")"),!0)}return!1}parsePAC(t,e){let n;const r=this.cmdHistory;if(!((t>=17&&t<=23||t>=25&&t<=31)&&e>=64&&e<=127)&&!((16===t||24===t)&&e>=64&&e<=95))return!1;if(tu(t,e,r))return Zl(null,null,r),!0;const i=t<=23?1:2;n=e>=64&&e<=95?1===i?$l[t]:Gl[t]:1===i?jl[t]:Hl[t];const o=this.channels[i];return!!o&&(o.setPAC(this.interpretPAC(n,e)),Zl(t,e,r),this.currentChannel=i,!0)}interpretPAC(t,e){let n;const r={color:null,italics:!1,indent:null,underline:!1,row:t};return n=e>95?e-96:e-64,r.underline=1==(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r}parseChars(t,e){let n,r=null,i=null;if(t>=25?(n=2,i=t-8):(n=1,i=t),i>=17&&i<=19){let t;t=17===i?e+80:18===i?e+112:e+144,this.logger.log(2,"Special char '"+Ul(t)+"' in channel "+n),r=[t]}else t>=32&&t<=127&&(r=0===e?[t]:[t,e]);if(r){const n=ql(r);this.logger.log(3,"Char codes =  "+n.join(",")),Zl(t,e,this.cmdHistory)}return r}parseBackgroundAttributes(t,e){if(!((16===t||24===t)&&e>=32&&e<=47)&&!((23===t||31===t)&&e>=45&&e<=47))return!1;let n;const r={};16===t||24===t?(n=Math.floor((e-32)/2),r.background=Kl[n],e%2==1&&(r.background=r.background+"_semi")):45===e?r.background="transparent":(r.foreground="black",47===e&&(r.underline=!0));const i=t<=23?1:2;return this.channels[i].setBkgData(r),Zl(t,e,this.cmdHistory),!0}reset(){for(let t=0;t<Object.keys(this.channels).length;t++){const e=this.channels[t];e&&e.reset()}this.cmdHistory={a:null,b:null}}cueSplitAtTime(t){for(let e=0;e<this.channels.length;e++){const n=this.channels[e];n&&n.cueSplitAtTime(t)}}}function Zl(t,e,n){n.a=t,n.b=e}function tu(t,e,n){return n.a===t&&n.b===e}class eu{constructor(t,e){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=t,this.trackName=e}dispatchCue(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(t,e,n){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var nu=function(){if(null!=Wi&&Wi.VTTCue)return self.VTTCue;const t=["","lr","rl"],e=["start","middle","end","left","right"];function n(t,e){if("string"!=typeof e)return!1;if(!Array.isArray(t))return!1;const n=e.toLowerCase();return!!~t.indexOf(n)&&n}function r(t){return n(e,t)}function i(t,...e){let n=1;for(;n<arguments.length;n++){const e=arguments[n];for(const n in e)t[n]=e[n]}return t}function o(e,o,s){const a=this,c={enumerable:!0};a.hasBeenReset=!1;let l="",u=!1,d=e,h=o,f=s,p=null,g="",m=!0,v="auto",y="start",b=50,w="middle",_=50,E="middle";Object.defineProperty(a,"id",i({},c,{get:function(){return l},set:function(t){l=""+t}})),Object.defineProperty(a,"pauseOnExit",i({},c,{get:function(){return u},set:function(t){u=!!t}})),Object.defineProperty(a,"startTime",i({},c,{get:function(){return d},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");d=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"endTime",i({},c,{get:function(){return h},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");h=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"text",i({},c,{get:function(){return f},set:function(t){f=""+t,this.hasBeenReset=!0}})),Object.defineProperty(a,"region",i({},c,{get:function(){return p},set:function(t){p=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"vertical",i({},c,{get:function(){return g},set:function(e){const r=function(e){return n(t,e)}(e);if(!1===r)throw new SyntaxError("An invalid or illegal string was specified.");g=r,this.hasBeenReset=!0}})),Object.defineProperty(a,"snapToLines",i({},c,{get:function(){return m},set:function(t){m=!!t,this.hasBeenReset=!0}})),Object.defineProperty(a,"line",i({},c,{get:function(){return v},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("An invalid number or illegal string was specified.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"lineAlign",i({},c,{get:function(){return y},set:function(t){const e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"position",i({},c,{get:function(){return b},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"positionAlign",i({},c,{get:function(){return w},set:function(t){const e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");w=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"size",i({},c,{get:function(){return _},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");_=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"align",i({},c,{get:function(){return E},set:function(t){const e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");E=e,this.hasBeenReset=!0}})),a.displayState=void 0}return o.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},o}();class ru{decode(t,e){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}function iu(t){function e(t,e,n,r){return 3600*(0|t)+60*(0|e)+(0|n)+parseFloat(r||0)}const n=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?e(n[2],n[3],0,n[4]):e(n[1],n[2],n[3],n[4]):null}class ou{constructor(){this.values=Object.create(null)}set(t,e){this.get(t)||""===e||(this.values[t]=e)}get(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e}has(t){return t in this.values}alt(t,e,n){for(let r=0;r<n.length;++r)if(e===n[r]){this.set(t,e);break}}integer(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))}percent(t,e){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(e)){const n=parseFloat(e);if(n>=0&&n<=100)return this.set(t,n),!0}return!1}}function su(t,e,n,r){const i=r?t.split(r):[t];for(const t in i){if("string"!=typeof i[t])continue;const r=i[t].split(n);if(2!==r.length)continue;e(r[0],r[1])}}const au=new nu(0,0,""),cu="middle"===au.align?"middle":"center";function lu(t,e,n){const r=t;function i(){const e=iu(t);if(null===e)throw new Error("Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=i(),o(),"--\x3e"!==t.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);t=t.slice(3),o(),e.endTime=i(),o(),function(t,e){const r=new ou;su(t,(function(t,e){let i;switch(t){case"region":for(let i=n.length-1;i>=0;i--)if(n[i].id===e){r.set(t,n[i].region);break}break;case"vertical":r.alt(t,e,["rl","lr"]);break;case"line":i=e.split(","),r.integer(t,i[0]),r.percent(t,i[0])&&r.set("snapToLines",!1),r.alt(t,i[0],["auto"]),2===i.length&&r.alt("lineAlign",i[1],["start",cu,"end"]);break;case"position":i=e.split(","),r.percent(t,i[0]),2===i.length&&r.alt("positionAlign",i[1],["start",cu,"end","line-left","line-right","auto"]);break;case"size":r.percent(t,e);break;case"align":r.alt(t,e,["start",cu,"end","left","right"])}}),/:/,/\s/),e.region=r.get("region",null),e.vertical=r.get("vertical","");let i=r.get("line","auto");"auto"===i&&-1===au.line&&(i=-1),e.line=i,e.lineAlign=r.get("lineAlign","start"),e.snapToLines=r.get("snapToLines",!0),e.size=r.get("size",100),e.align=r.get("align",cu);let o=r.get("position","auto");"auto"===o&&50===au.position&&(o="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=o}(t,e)}function uu(t){return t.replace(/<br(?: \/)?>/gi,"\n")}class du{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new ru,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(t){const e=this;function n(){let t=e.buffer,n=0;for(t=uu(t);n<t.length&&"\r"!==t[n]&&"\n"!==t[n];)++n;const r=t.slice(0,n);return"\r"===t[n]&&++n,"\n"===t[n]&&++n,e.buffer=t.slice(n),r}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{let t="";if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;t=n();const r=t.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(null==r||!r[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}let r=!1;for(;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(r?r=!1:t=n(),e.state){case"HEADER":/:/.test(t)?su(t,(function(t,e){}),/:/):t||(e.state="ID");continue;case"NOTE":t||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(t)){e.state="NOTE";break}if(!t)continue;if(e.cue=new nu(0,0,""),e.state="CUE",-1===t.indexOf("--\x3e")){e.cue.id=t;continue}case"CUE":if(!e.cue){e.state="BADCUE";continue}try{lu(t,e.cue,e.regionList)}catch(t){e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":{const n=-1!==t.indexOf("--\x3e");if(!t||n&&(r=!0)){e.oncue&&e.cue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}if(null===e.cue)continue;e.cue.text&&(e.cue.text+="\n"),e.cue.text+=t}continue;case"BADCUE":t||(e.state="ID")}}}catch(t){"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this}flush(){const t=this;try{if((t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state||"BADWEBVTT"===t.state)throw new Error("Malformed WebVTT signature.")}catch(e){t.onparsingerror&&t.onparsingerror(e)}return t.onflush&&t.onflush(),this}}const hu=/\r\n|\n\r|\n|\r/g,fu=function(t,e,n=0){return t.slice(n,n+e.length)===e},pu=function(t){let e=5381,n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return(e>>>0).toString()};function gu(t,e,n){return pu(t.toString())+pu(e.toString())+pu(n)}function mu(t,e,n,r,i,o,s){const a=new du,c=Eo(new Uint8Array(t)).trim().replace(hu,"\n").split("\n"),l=[],u=e?function(t,e=1){return dl(t,9e4,1/e)}(e.baseTime,e.timescale):0;let d,h="00:00.000",f=0,p=0,g=!0;a.oncue=function(t){const o=n[r];let s=n.ccOffset;const a=(f-u)/9e4;if(null!=o&&o.new&&(void 0!==p?s=n.ccOffset=o.start:function(t,e,n){let r=t[e],i=t[r.prevCC];if(!i||!i.new&&r.new)return t.ccOffset=t.presentationOffset=r.start,void(r.new=!1);for(;null!=(o=i)&&o.new;){var o;t.ccOffset+=r.start-i.start,r.new=!1,r=i,i=t[r.prevCC]}t.presentationOffset=n}(n,r,a)),a){if(!e)return void(d=new Error("Missing initPTS for VTT MPEGTS"));s=a-n.presentationOffset}const c=t.endTime-t.startTime,h=vl(9e4*(t.startTime+s-p),9e4*i)/9e4;t.startTime=Math.max(h,0),t.endTime=Math.max(h+c,0);const g=t.text.trim();t.text=decodeURIComponent(encodeURIComponent(g)),t.id||(t.id=gu(t.startTime,t.endTime,g)),t.endTime>0&&l.push(t)},a.onparsingerror=function(t){d=t},a.onflush=function(){d?s(d):o(l)},c.forEach(t=>{if(g){if(fu(t,"X-TIMESTAMP-MAP=")){g=!1,t.slice(16).split(",").forEach(t=>{fu(t,"LOCAL:")?h=t.slice(6):fu(t,"MPEGTS:")&&(f=parseInt(t.slice(7)))});try{p=function(t){let e=parseInt(t.slice(-3));const n=parseInt(t.slice(-6,-4)),r=parseInt(t.slice(-9,-7)),i=t.length>9?parseInt(t.substring(0,t.indexOf(":"))):0;if(!(_i(e)&&_i(n)&&_i(r)&&_i(i)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+t);return e+=1e3*n,e+=6e4*r,e+=36e5*i,e}(h)/1e3}catch(t){d=t}return}""===t&&(g=!1)}a.parse(t+"\n")}),a.flush()}const vu=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,yu=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,bu={left:"start",center:"center",right:"end",start:"start",end:"end"};function wu(t,e,n,r){const i=No(new Uint8Array(t),["mdat"]);if(0===i.length)return void r(new Error("Could not parse IMSC1 mdat"));const o=i.map(t=>Eo(t)),s=function(t,e,n=1,r=!1){return dl(t,e,1/n,r)}(e.baseTime,1,e.timescale);try{o.forEach(t=>n(function(t,e){const n=new DOMParser,r=n.parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!r)throw new Error("Invalid ttml");const i={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},o=Object.keys(i).reduce((t,e)=>(t[e]=r.getAttribute("ttp:"+e)||i[e],t),{}),s="preserve"!==r.getAttribute("xml:space"),a=Eu(_u(r,"styling","style")),c=Eu(_u(r,"layout","region")),l=_u(r,"body","[begin]");return[].map.call(l,t=>{const n=function t(e,n){return[].slice.call(e.childNodes).reduce((e,r,i)=>{var o;return"br"===r.nodeName&&i?e+"\n":null!=(o=r.childNodes)&&o.length?t(r,n):n?e+r.textContent.trim().replace(/\s+/g," "):e+r.textContent},"")}(t,s);if(!n||!t.hasAttribute("begin"))return null;const r=Tu(t.getAttribute("begin"),o),i=Tu(t.getAttribute("dur"),o);let l=Tu(t.getAttribute("end"),o);if(null===r)throw Au(t);if(null===l){if(null===i)throw Au(t);l=r+i}const u=new nu(r-e,l-e,n);u.id=gu(u.startTime,u.endTime,u.text);const d=function(t,e,n){const r="http://www.w3.org/ns/ttml#styling";let i=null;const o=null!=t&&t.hasAttribute("style")?t.getAttribute("style"):null;o&&n.hasOwnProperty(o)&&(i=n[o]);return["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce((n,o)=>{const s=Su(e,r,o)||Su(t,r,o)||Su(i,r,o);return s&&(n[o]=s),n},{})}(c[t.getAttribute("region")],a[t.getAttribute("style")],a),{textAlign:h}=d;if(h){const t=bu[h];t&&(u.lineAlign=t),u.align=h}return wi(u,d),u}).filter(t=>null!==t)}(t,s)))}catch(t){r(t)}}function _u(t,e,n){const r=t.getElementsByTagName(e)[0];return r?[].slice.call(r.querySelectorAll(n)):[]}function Eu(t){return t.reduce((t,e)=>{const n=e.getAttribute("xml:id");return n&&(t[n]=e),t},{})}function Su(t,e,n){return t&&t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null}function Au(t){return new Error("Could not parse ttml timestamp "+t)}function Tu(t,e){if(!t)return null;let n=iu(t);return null===n&&(vu.test(t)?n=function(t,e){const n=vu.exec(t),r=(0|n[4])+(0|n[5])/e.subFrameRate;return 3600*(0|n[1])+60*(0|n[2])+(0|n[3])+r/e.frameRate}(t,e):yu.test(t)&&(n=function(t,e){const n=yu.exec(t),r=Number(n[1]);switch(n[2]){case"h":return 3600*r;case"m":return 60*r;case"ms":return 1e3*r;case"f":return r/e.frameRate;case"t":return r/e.tickRate}return r}(t,e))),n}function xu(t){return t.characteristics&&/transcribes-spoken-dialog/gi.test(t.characteristics)&&/describes-music-and-sound/gi.test(t.characteristics)?"captions":"subtitles"}function ku(t,e){return!!t&&t.kind===xu(e)&&Dl(e,t)}class Cu{constructor(t){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=t,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(t){this.streamController=t}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:t}=this;t.on(Ai.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.on(Ai.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(Ai.MANIFEST_PARSED,this.onManifestParsed,this),t.on(Ai.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(Ai.BUFFER_CODECS,this.onBufferCodecs,this),t.on(Ai.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:t}=this;t.off(Ai.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.off(Ai.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(Ai.MANIFEST_PARSED,this.onManifestParsed,this),t.off(Ai.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(Ai.BUFFER_CODECS,this.onBufferCodecs,this),t.off(Ai.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(t,e){const n=this.hls.levels[e.droppedLevel];this.isLevelAllowed(n)&&this.restrictedLevels.push({bitrate:n.bitrate,height:n.height,width:n.width})}onMediaAttaching(t,e){this.media=e.media instanceof HTMLVideoElement?e.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(t,e){const n=this.hls;this.restrictedLevels=[],this.firstLevel=e.firstLevel,n.config.capLevelToPlayerSize&&e.video&&this.startCapping()}onLevelsUpdated(t,e){this.timer&&_i(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(t,e){this.hls.config.capLevelToPlayerSize&&e.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0)return void(this.clientRect=null);const t=this.hls.levels;if(t.length){const e=this.hls,n=this.getMaxLevel(t.length-1);n!==this.autoLevelCapping&&Ii.log(`Setting autoLevelCapping to ${n}: ${t[n].height}p@${t[n].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),e.autoLevelCapping=n,e.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}}getMaxLevel(t){const e=this.hls.levels;if(!e.length)return-1;const n=e.filter((e,n)=>this.isLevelAllowed(e)&&n<=t);return this.clientRect=null,Cu.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const t=this.media,e={width:0,height:0};if(t){const n=t.getBoundingClientRect();e.width=n.width,e.height=n.height,e.width||e.height||(e.width=n.right-n.left||t.width||0,e.height=n.bottom-n.top||t.height||0)}return this.clientRect=e,e}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let t=1;if(!this.hls.config.ignoreDevicePixelRatio)try{t=self.devicePixelRatio}catch(t){}return t}isLevelAllowed(t){return!this.restrictedLevels.some(e=>t.bitrate===e.bitrate&&t.width===e.width&&t.height===e.height)}static getMaxLevelByMediaSize(t,e,n){if(null==t||!t.length)return-1;let r=t.length-1;const i=Math.max(e,n);for(let e=0;e<t.length;e+=1){const n=t[e];if((n.width>=i||n.height>=i)&&(o=n,!(s=t[e+1])||o.width!==s.width||o.height!==s.height)){r=e;break}}var o,s;return r}}class Ru{constructor(t){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=Ru.CDMCleanupPromise?[Ru.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=Ii.debug.bind(Ii,"[eme]"),this.log=Ii.log.bind(Ii,"[eme]"),this.warn=Ii.warn.bind(Ii,"[eme]"),this.error=Ii.error.bind(Ii,"[eme]"),this.hls=t,this.config=t.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const t=this.config;t.requestMediaKeySystemAccessFunc=null,t.licenseXhrSetup=t.licenseResponseCallback=void 0,t.drmSystems=t.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on(Ai.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Ai.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(Ai.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Ai.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(Ai.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Ai.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(Ai.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(Ai.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(t){const{drmSystems:e,widevineLicenseUrl:n}=this.config,r=e[t];if(r)return r.licenseUrl;if(t===Yi.WIDEVINE&&n)return n;throw new Error(`no license server URL configured for key-system "${t}"`)}getServerCertificateUrl(t){const{drmSystems:e}=this.config,n=e[t];if(n)return n.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${t}"]`)}attemptKeySystemAccess(t){const e=this.hls.levels,n=(t,e,n)=>!!t&&n.indexOf(t)===e,r=e.map(t=>t.audioCodec).filter(n),i=e.map(t=>t.videoCodec).filter(n);return r.length+i.length===0&&i.push("avc1.42e01e"),new Promise((e,n)=>{const o=t=>{const s=t.shift();this.getMediaKeysPromise(s,r,i).then(t=>e({keySystem:s,mediaKeys:t})).catch(e=>{t.length?o(t):n(e instanceof Lu?e:new Lu({type:Ti.KEY_SYSTEM_ERROR,details:xi.KEY_SYSTEM_NO_ACCESS,error:e,fatal:!0},e.message))})};o(t)})}requestMediaKeySystemAccess(t,e){const{requestMediaKeySystemAccessFunc:n}=this.config;if("function"!=typeof n){let t="Configured requestMediaKeySystemAccess is not a function "+n;return null===io&&"http:"===self.location.protocol&&(t="navigator.requestMediaKeySystemAccess is not available over insecure protocol "+location.protocol),Promise.reject(new Error(t))}return n(t,e)}getMediaKeysPromise(t,e,n){const r=function(t,e,n,r){let i;switch(t){case Yi.FAIRPLAY:i=["cenc","sinf"];break;case Yi.WIDEVINE:case Yi.PLAYREADY:i=["cenc"];break;case Yi.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error("Unknown key-system: "+t)}return function(t,e,n,r){return[{initDataTypes:t,persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",sessionTypes:r.sessionTypes||[r.sessionType||"temporary"],audioCapabilities:e.map(t=>({contentType:`audio/mp4; codecs="${t}"`,robustness:r.audioRobustness||"",encryptionScheme:r.audioEncryptionScheme||null})),videoCapabilities:n.map(t=>({contentType:`video/mp4; codecs="${t}"`,robustness:r.videoRobustness||"",encryptionScheme:r.videoEncryptionScheme||null}))}]}(i,e,n,r)}(t,e,n,this.config.drmSystemOptions),i=this.keySystemAccessPromises[t];let o=null==i?void 0:i.keySystemAccess;if(!o){this.log(`Requesting encrypted media "${t}" key-system access with config: ${JSON.stringify(r)}`),o=this.requestMediaKeySystemAccess(t,r);const e=this.keySystemAccessPromises[t]={keySystemAccess:o};return o.catch(e=>{this.log(`Failed to obtain access to key-system "${t}": ${e}`)}),o.then(n=>{this.log(`Access for key-system "${n.keySystem}" obtained`);const r=this.fetchServerCertificate(t);return this.log(`Create media-keys for "${t}"`),e.mediaKeys=n.createMediaKeys().then(e=>(this.log(`Media-keys created for "${t}"`),r.then(n=>n?this.setMediaKeysServerCertificate(e,t,n):e))),e.mediaKeys.catch(e=>{this.error(`Failed to create media-keys for "${t}"}: ${e}`)}),e.mediaKeys})}return o.then(()=>i.mediaKeys)}createMediaKeySessionContext({decryptdata:t,keySystem:e,mediaKeys:n}){this.log(`Creating key-system session "${e}" keyId: ${To(t.keyId||[])}`);const r=n.createSession(),i={decryptdata:t,keySystem:e,mediaKeys:n,mediaKeysSession:r,keyStatus:"status-pending"};return this.mediaKeySessions.push(i),i}renewKeySession(t){const e=t.decryptdata;if(e.pssh){const n=this.createMediaKeySessionContext(t),r=this.getKeyIdString(e),i="cenc";this.keyIdToKeySessionPromise[r]=this.generateRequestWithPreferredKeySession(n,i,e.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(t)}getKeyIdString(t){if(!t)throw new Error("Could not read keyId of undefined decryptdata");if(null===t.keyId)throw new Error("keyId is null");return To(t.keyId)}updateKeySession(t,e){var n;const r=t.mediaKeysSession;return this.log(`Updating key-session "${r.sessionId}" for keyID ${To((null==(n=t.decryptdata)?void 0:n.keyId)||[])}\n      } (data length: ${e?e.byteLength:e})`),r.update(e)}selectKeySystemFormat(t){const e=Object.keys(t.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${t.sn} ${t.type}: ${t.level}) key formats ${e.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(e)),this.keyFormatPromise}getKeyFormatPromise(t){return new Promise((e,n)=>{const r=ro(this.config),i=t.map(to).filter(t=>!!t&&-1!==r.indexOf(t));return this.getKeySystemSelectionPromise(i).then(({keySystem:t})=>{const r=no(t);r?e(r):n(new Error(`Unable to find format for key-system "${t}"`))}).catch(n)})}loadKey(t){const e=t.keyInfo.decryptdata,n=this.getKeyIdString(e),r=`(keyId: ${n} format: "${e.keyFormat}" method: ${e.method} uri: ${e.uri})`;this.log("Starting session for key "+r);let i=this.keyIdToKeySessionPromise[n];return i||(i=this.keyIdToKeySessionPromise[n]=this.getKeySystemForKeyPromise(e).then(({keySystem:n,mediaKeys:i})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${t.frag.sn} ${t.frag.type}: ${t.frag.level} using key ${r}`),this.attemptSetMediaKeys(n,i).then(()=>{this.throwIfDestroyed();const t=this.createMediaKeySessionContext({keySystem:n,mediaKeys:i,decryptdata:e});return this.generateRequestWithPreferredKeySession(t,"cenc",e.pssh,"playlist-key")}))),i.catch(t=>this.handleError(t))),i}throwIfDestroyed(t="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(t){this.hls&&(this.error(t.message),t instanceof Lu?this.hls.trigger(Ai.ERROR,t.data):this.hls.trigger(Ai.ERROR,{type:Ti.KEY_SYSTEM_ERROR,details:xi.KEY_SYSTEM_NO_KEYS,error:t,fatal:!0}))}getKeySystemForKeyPromise(t){const e=this.getKeyIdString(t),n=this.keyIdToKeySessionPromise[e];if(!n){const e=to(t.keyFormat),n=e?[e]:ro(this.config);return this.attemptKeySystemAccess(n)}return n}getKeySystemSelectionPromise(t){if(t.length||(t=ro(this.config)),0===t.length)throw new Lu({type:Ti.KEY_SYSTEM_ERROR,details:xi.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},"Missing key-system license configuration options "+JSON.stringify({drmSystems:this.config.drmSystems}));return this.attemptKeySystemAccess(t)}_onMediaEncrypted(t){const{initDataType:e,initData:n}=t;if(this.debug(`"${t.type}" event: init data type: "${e}"`),null===n)return;let r,i;if("sinf"===e&&this.config.drmSystems[Yi.FAIRPLAY]){const t=Ro(new Uint8Array(n));try{const e=Vi(JSON.parse(t).sinf),n=Go(new Uint8Array(e));if(!n)return;r=n.subarray(8,24),i=Yi.FAIRPLAY}catch(t){return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{const t=function(t){if(!(t instanceof ArrayBuffer)||t.byteLength<32)return null;const e={version:0,systemId:"",kids:null,data:null},n=new DataView(t),r=n.getUint32(0);if(t.byteLength!==r&&r>44)return null;if(1886614376!==n.getUint32(4))return null;if(e.version=n.getUint32(8)>>>24,e.version>1)return null;e.systemId=To(new Uint8Array(t,12,16));const i=n.getUint32(28);if(0===e.version){if(r-32<i)return null;e.data=new Uint8Array(t,32,i)}else if(1===e.version){e.kids=[];for(let n=0;n<i;n++)e.kids.push(new Uint8Array(t,32+16*n,16))}return e}(n);if(null===t)return;0===t.version&&t.systemId===eo&&t.data&&(r=t.data.subarray(8,24)),i=function(t){if(t===eo)return Yi.WIDEVINE}(t.systemId)}if(!i||!r)return;const o=To(r),{keyIdToKeySessionPromise:s,mediaKeySessions:a}=this;let c=s[o];for(let t=0;t<a.length;t++){const i=a[t],l=i.decryptdata;if(l.pssh||!l.keyId)continue;const u=To(l.keyId);if(o===u||-1!==l.uri.replace(/-/g,"").indexOf(o)){c=s[u],delete s[u],l.pssh=new Uint8Array(n),l.keyId=r,c=s[o]=c.then(()=>this.generateRequestWithPreferredKeySession(i,e,n,"encrypted-event-key-match"));break}}c||(c=s[o]=this.getKeySystemSelectionPromise([i]).then(({keySystem:t,mediaKeys:i})=>{var s;this.throwIfDestroyed();const a=new Qo("ISO-23001-7",o,null!=(s=no(t))?s:"");return a.pssh=new Uint8Array(n),a.keyId=r,this.attemptSetMediaKeys(t,i).then(()=>{this.throwIfDestroyed();const r=this.createMediaKeySessionContext({decryptdata:a,keySystem:t,mediaKeys:i});return this.generateRequestWithPreferredKeySession(r,e,n,"encrypted-event-no-match")})})),c.catch(t=>this.handleError(t))}_onWaitingForKey(t){this.log(`"${t.type}" event`)}attemptSetMediaKeys(t,e){const n=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${t}"`);const r=Promise.all(n).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(e)});return this.setMediaKeysQueue.push(r),r.then(()=>{this.log(`Media-keys set for "${t}"`),n.push(r),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(t=>-1===n.indexOf(t))})}generateRequestWithPreferredKeySession(t,e,n,r){var i,o;const s=null==(i=this.config.drmSystems)||null==(o=i[t.keySystem])?void 0:o.generateRequest;if(s)try{const r=s.call(this.hls,e,n,t);if(!r)throw new Error("Invalid response from configured generateRequest filter");e=r.initDataType,n=t.decryptdata.pssh=r.initData?new Uint8Array(r.initData):null}catch(t){var a;if(this.warn(t.message),null!=(a=this.hls)&&a.config.debug)throw t}if(null===n)return this.log(`Skipping key-session request for "${r}" (no initData)`),Promise.resolve(t);const c=this.getKeyIdString(t.decryptdata);this.log(`Generating key-session request for "${r}": ${c} (init data type: ${e} length: ${n?n.byteLength:null})`);const l=new Rl,u=t._onmessage=e=>{const n=t.mediaKeysSession;if(!n)return void l.emit("error",new Error("invalid state"));const{messageType:r,message:i}=e;this.log(`"${r}" message event for session "${n.sessionId}" message size: ${i.byteLength}`),"license-request"===r||"license-renewal"===r?this.renewLicense(t,i).catch(t=>{this.handleError(t),l.emit("error",t)}):"license-release"===r?t.keySystem===Yi.FAIRPLAY&&(this.updateKeySession(t,zi("acknowledged")),this.removeSession(t)):this.warn(`unhandled media key message type "${r}"`)},d=t._onkeystatuseschange=e=>{if(!t.mediaKeysSession)return void l.emit("error",new Error("invalid state"));this.onKeyStatusChange(t);const n=t.keyStatus;l.emit("keyStatus",n),"expired"===n&&(this.warn(`${t.keySystem} expired for key ${c}`),this.renewKeySession(t))};t.mediaKeysSession.addEventListener("message",u),t.mediaKeysSession.addEventListener("keystatuseschange",d);const h=new Promise((t,e)=>{l.on("error",e),l.on("keyStatus",n=>{n.startsWith("usable")?t():"output-restricted"===n?e(new Lu({type:Ti.KEY_SYSTEM_ERROR,details:xi.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===n?e(new Lu({type:Ti.KEY_SYSTEM_ERROR,details:xi.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${n}"`)):"expired"===n?e(new Error("key expired while generating request")):this.warn(`unhandled key status change "${n}"`)})});return t.mediaKeysSession.generateRequest(e,n).then(()=>{var e;this.log(`Request generated for key-session "${null==(e=t.mediaKeysSession)?void 0:e.sessionId}" keyId: ${c}`)}).catch(t=>{throw new Lu({type:Ti.KEY_SYSTEM_ERROR,details:xi.KEY_SYSTEM_NO_SESSION,error:t,fatal:!1},"Error generating key-session request: "+t)}).then(()=>h).catch(e=>{throw l.removeAllListeners(),this.removeSession(t),e}).then(()=>(l.removeAllListeners(),t))}onKeyStatusChange(t){t.mediaKeysSession.keyStatuses.forEach((e,n)=>{this.log(`key status change "${e}" for keyStatuses keyId: ${To("buffer"in n?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n))} session keyId: ${To(new Uint8Array(t.decryptdata.keyId||[]))} uri: ${t.decryptdata.uri}`),t.keyStatus=e})}fetchServerCertificate(t){const e=this.config,n=new(0,e.loader)(e),r=this.getServerCertificateUrl(t);return r?(this.log(`Fetching server certificate for "${t}"`),new Promise((i,o)=>{const s={responseType:"arraybuffer",url:r},a=e.certLoadPolicy.default,c={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},l={onSuccess:(t,e,n,r)=>{i(t.data)},onError:(e,n,i,a)=>{o(new Lu({type:Ti.KEY_SYSTEM_ERROR,details:xi.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:i,response:vi({url:s.url,data:void 0},e)},`"${t}" certificate request failed (${r}). Status: ${e.code} (${e.text})`))},onTimeout:(e,n,i)=>{o(new Lu({type:Ti.KEY_SYSTEM_ERROR,details:xi.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:i,response:{url:s.url,data:void 0}},`"${t}" certificate request timed out (${r})`))},onAbort:(t,e,n)=>{o(new Error("aborted"))}};n.load(s,c,l)})):Promise.resolve()}setMediaKeysServerCertificate(t,e,n){return new Promise((r,i)=>{t.setServerCertificate(n).then(i=>{this.log(`setServerCertificate ${i?"success":"not supported by CDM"} (${null==n?void 0:n.byteLength}) on "${e}"`),r(t)}).catch(t=>{i(new Lu({type:Ti.KEY_SYSTEM_ERROR,details:xi.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:t,fatal:!0},t.message))})})}renewLicense(t,e){return this.requestLicense(t,new Uint8Array(e)).then(e=>this.updateKeySession(t,new Uint8Array(e)).catch(t=>{throw new Lu({type:Ti.KEY_SYSTEM_ERROR,details:xi.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:t,fatal:!0},t.message)}))}unpackPlayReadyKeyMessage(t,e){const n=String.fromCharCode.apply(null,new Uint16Array(e.buffer));if(!n.includes("PlayReadyKeyMessage"))return t.setRequestHeader("Content-Type","text/xml; charset=utf-8"),e;const r=(new DOMParser).parseFromString(n,"application/xml"),i=r.querySelectorAll("HttpHeader");if(i.length>0){let e;for(let n=0,r=i.length;n<r;n++){var o,s;e=i[n];const r=null==(o=e.querySelector("name"))?void 0:o.textContent,a=null==(s=e.querySelector("value"))?void 0:s.textContent;r&&a&&t.setRequestHeader(r,a)}}const a=r.querySelector("Challenge"),c=null==a?void 0:a.textContent;if(!c)throw new Error("Cannot find <Challenge> in key message");return zi(atob(c))}setupLicenseXHR(t,e,n,r){const i=this.config.licenseXhrSetup;return i?Promise.resolve().then(()=>{if(!n.decryptdata)throw new Error("Key removed");return i.call(this.hls,t,e,n,r)}).catch(o=>{if(!n.decryptdata)throw o;return t.open("POST",e,!0),i.call(this.hls,t,e,n,r)}).then(n=>{t.readyState||t.open("POST",e,!0);return{xhr:t,licenseChallenge:n||r}}):(t.open("POST",e,!0),Promise.resolve({xhr:t,licenseChallenge:r}))}requestLicense(t,e){const n=this.config.keyLoadPolicy.default;return new Promise((r,i)=>{const o=this.getLicenseServerUrl(t.keySystem);this.log("Sending license request to URL: "+o);const s=new XMLHttpRequest;s.responseType="arraybuffer",s.onreadystatechange=()=>{if(!this.hls||!t.mediaKeysSession)return i(new Error("invalid state"));if(4===s.readyState)if(200===s.status){this._requestLicenseFailureCount=0;let e=s.response;this.log("License received "+(e instanceof ArrayBuffer?e.byteLength:e));const n=this.config.licenseResponseCallback;if(n)try{e=n.call(this.hls,s,o,t)}catch(t){this.error(t)}r(e)}else{const a=n.errorRetry,c=a?a.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>c||s.status>=400&&s.status<500)i(new Lu({type:Ti.KEY_SYSTEM_ERROR,details:xi.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:s,response:{url:o,data:void 0,code:s.status,text:s.statusText}},`License Request XHR failed (${o}). Status: ${s.status} (${s.statusText})`));else{const n=c-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${n} attempts left`),this.requestLicense(t,e).then(r,i)}}},t.licenseXhr&&t.licenseXhr.readyState!==XMLHttpRequest.DONE&&t.licenseXhr.abort(),t.licenseXhr=s,this.setupLicenseXHR(s,o,t,e).then(({xhr:e,licenseChallenge:n})=>{t.keySystem==Yi.PLAYREADY&&(n=this.unpackPlayReadyKeyMessage(e,n)),e.send(n)})})}onMediaAttached(t,e){if(!this.config.emeEnabled)return;const n=e.media;this.media=n,n.addEventListener("encrypted",this.onMediaEncrypted),n.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const t=this.media,e=this.mediaKeySessions;t&&(t.removeEventListener("encrypted",this.onMediaEncrypted),t.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},Qo.clearKeyUriToKeyIdMap();const n=e.length;Ru.CDMCleanupPromise=Promise.all(e.map(t=>this.removeSession(t)).concat(null==t?void 0:t.setMediaKeys(null).catch(t=>{this.log("Could not clear media keys: "+t)}))).then(()=>{n&&(this.log("finished closing key sessions and clearing media keys"),e.length=0)}).catch(t=>{this.log("Could not close sessions and clear media keys: "+t)})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(t,{sessionKeys:e}){if(e&&this.config.emeEnabled&&!this.keyFormatPromise){const t=e.reduce((t,e)=>(-1===t.indexOf(e.keyFormat)&&t.push(e.keyFormat),t),[]);this.log("Selecting key-system from session-keys "+t.join(", ")),this.keyFormatPromise=this.getKeyFormatPromise(t)}}removeSession(t){const{mediaKeysSession:e,licenseXhr:n}=t;if(e){this.log("Remove licenses and keys and close session "+e.sessionId),t._onmessage&&(e.removeEventListener("message",t._onmessage),t._onmessage=void 0),t._onkeystatuseschange&&(e.removeEventListener("keystatuseschange",t._onkeystatuseschange),t._onkeystatuseschange=void 0),n&&n.readyState!==XMLHttpRequest.DONE&&n.abort(),t.mediaKeysSession=t.decryptdata=t.licenseXhr=void 0;const r=this.mediaKeySessions.indexOf(t);return r>-1&&this.mediaKeySessions.splice(r,1),e.remove().catch(t=>{this.log("Could not remove session: "+t)}).then(()=>e.close()).catch(t=>{this.log("Could not close session: "+t)})}}}Ru.CDMCleanupPromise=void 0;class Lu extends Error{constructor(t,e){super(e),this.data=void 0,t.error||(t.error=new Error(e)),this.data=t,t.err=t.error}}var Iu,Ou,Du;!function(t){t.MANIFEST="m",t.AUDIO="a",t.VIDEO="v",t.MUXED="av",t.INIT="i",t.CAPTION="c",t.TIMED_TEXT="tt",t.KEY="k",t.OTHER="o"}(Iu||(Iu={})),function(t){t.DASH="d",t.HLS="h",t.SMOOTH="s",t.OTHER="o"}(Ou||(Ou={})),function(t){t.OBJECT="CMCD-Object",t.REQUEST="CMCD-Request",t.SESSION="CMCD-Session",t.STATUS="CMCD-Status"}(Du||(Du={}));const Mu={[Du.OBJECT]:["br","d","ot","tb"],[Du.REQUEST]:["bl","dl","mtp","nor","nrr","su"],[Du.SESSION]:["cid","pr","sf","sid","st","v"],[Du.STATUS]:["bs","rtp"]};class Nu{constructor(t,e){this.value=void 0,this.params=void 0,Array.isArray(t)&&(t=t.map(t=>t instanceof Nu?t:new Nu(t))),this.value=t,this.params=e}}class Pu{constructor(t){this.description=void 0,this.description=t}}function Fu(t,e,n,r){return new Error(`failed to ${t} "${i=e,Array.isArray(i)?JSON.stringify(i):i instanceof Map?"Map{}":i instanceof Set?"Set{}":"object"==typeof i?JSON.stringify(i):String(i)}" as ${n}`,{cause:r});var i}const Bu=/[\x00-\x1f\x7f]+/;function Uu(t,e,n){return Fu("serialize",t,e,n)}function $u(t){if(!1===ArrayBuffer.isView(t))throw Uu(t,"Byte Sequence");return`:${e=t,btoa(String.fromCharCode(...e))}:`;var e}function ju(t){if(function(t){return t<-999999999999999||999999999999999<t}(t))throw Uu(t,"Integer");return t.toString()}function Gu(t){const e=function t(e,n){if(e<0)return-t(-e,n);const r=Math.pow(10,n);if(Math.abs(e*r%1-.5)<Number.EPSILON){const t=Math.floor(e*r);return(t%2==0?t:t+1)/r}return Math.round(e*r)/r}(t,3);if(Math.floor(Math.abs(e)).toString().length>12)throw Uu(t,"Decimal");const n=e.toString();return n.includes(".")?n:n+".0"}function Hu(t){const e=(n=t).description||n.toString().slice(7,-1);var n;if(!1===/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e))throw Uu(e,"Token");return e}function Ku(t){switch(typeof t){case"number":if(!_i(t))throw Uu(t,"Bare Item");return Number.isInteger(t)?ju(t):Gu(t);case"string":return function(t){if(Bu.test(t))throw Uu(t,"String");return`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}(t);case"symbol":return Hu(t);case"boolean":return function(t){if("boolean"!=typeof t)throw Uu(t,"Boolean");return t?"?1":"?0"}(t);case"object":if(t instanceof Date)return function(t){return"@"+ju(t.getTime()/1e3)}(t);if(t instanceof Uint8Array)return $u(t);if(t instanceof Pu)return Hu(t);default:throw Uu(t,"Bare Item")}}function Vu(t){if(!1===/^[a-z*][a-z0-9\-_.*]*$/.test(t))throw Uu(t,"Key");return t}function qu(t){return null==t?"":Object.entries(t).map(([t,e])=>!0===e?";"+Vu(t):`;${Vu(t)}=${Ku(e)}`).join("")}function zu(t){return t instanceof Nu?`${Ku(t.value)}${qu(t.params)}`:Ku(t)}function Wu(t,e={whitespace:!0}){if("object"!=typeof t)throw Uu(t,"Dict");const n=t instanceof Map?t.entries():Object.entries(t),r=null!=e&&e.whitespace?" ":"";return Array.from(n).map(([t,e])=>{e instanceof Nu==!1&&(e=new Nu(e));let n=Vu(t);var r;return!0===e.value?n+=qu(e.params):(n+="=",Array.isArray(e.value)?n+=`(${(r=e).value.map(zu).join(" ")})${qu(r.params)}`:n+=zu(e)),n}).join(","+r)}const Yu=t=>Math.round(t),Xu=t=>100*Yu(t/100),Qu={br:Yu,d:Yu,bl:Xu,dl:Xu,mtp:Xu,nor:(t,e)=>(null!=e&&e.baseUrl&&(t=function(t,e){const n=new URL(t),r=new URL(e);if(n.origin!==r.origin)return t;const i=n.pathname.split("/").slice(1),o=r.pathname.split("/").slice(1,-1);for(;i[0]===o[0];)i.shift(),o.shift();for(;o.length;)o.shift(),i.unshift("..");return i.join("/")}(t,e.baseUrl)),encodeURIComponent(t)),rtp:Xu,tb:Yu};function Ju(t,e){const n={};if(null==t||"object"!=typeof t)return n;const r=Object.keys(t).sort(),i=wi({},Qu,null==e?void 0:e.formatters),o=null==e?void 0:e.filter;return r.forEach(r=>{if(null!=o&&o(r))return;let s=t[r];const a=i[r];a&&(s=a(s,e)),"v"===r&&1===s||"pr"==r&&1===s||(t=>"number"==typeof t?_i(t):null!=t&&""!==t&&!1!==t)(s)&&((t=>"ot"===t||"sf"===t||"st"===t)(r)&&"string"==typeof s&&(s=new Pu(s)),n[r]=s)}),n}function Zu(t,e={}){return t?function(t,e){return Wu(t,e)}(Ju(t,e),wi({whitespace:!1},e)):""}function td(t,e,n){return wi(t,function(t,e={}){if(!t)return{};const n=Object.entries(t),r=Object.entries(Mu).concat(Object.entries((null==e?void 0:e.customHeaderMap)||{})),i=n.reduce((t,e)=>{var n;const[i,o]=e,s=(null==(n=r.find(t=>t[1].includes(i)))?void 0:n[0])||Du.REQUEST;return null!=t[s]||(t[s]={}),t[s][i]=o,t},{});return Object.entries(i).reduce((t,[n,r])=>(t[n]=Zu(r,e),t),{})}(e,n))}const ed=/CMCD=[^&#]+/;function nd(t,e,n){const r=function(t,e={}){if(!t)return"";const n=Zu(t,e);return"CMCD="+encodeURIComponent(n)}(e,n);if(!r)return t;if(ed.test(t))return t.replace(ed,r);const i=t.includes("?")?"&":"?";return`${t}${i}${r}`}function rd(t,e,n,r){t&&Object.keys(e).forEach(i=>{const o=t.filter(t=>t.groupId===i).map(t=>{const o=wi({},t);return o.details=void 0,o.attrs=new Mi(o.attrs),o.url=o.attrs.URI=id(t.url,t.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",n),o.groupId=o.attrs["GROUP-ID"]=e[i],o.attrs["PATHWAY-ID"]=r,o});t.push(...o)})}function id(t,e,n,r){const{HOST:i,PARAMS:o,[n]:s}=r;let a;e&&(a=null==s?void 0:s[e],a&&(t=a));const c=new self.URL(t);return i&&!a&&(c.host=i),o&&Object.keys(o).sort().forEach(t=>{t&&c.searchParams.set(t,o[t])}),c.href}const od=/^age:\s*[\d.]+\s*$/im;class sd{constructor(t){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=t&&t.xhrSetup||null,this.stats=new Fi,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null,this.stats=null}abortInternal(){const t=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),t&&(t.onreadystatechange=null,t.onprogress=null,4!==t.readyState&&(this.stats.aborted=!0,t.abort()))}abort(){var t;this.abortInternal(),null!=(t=this.callbacks)&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(t,e,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=t,this.config=e,this.callbacks=n,this.loadInternal()}loadInternal(){const{config:t,context:e}=this;if(!t||!e)return;const n=this.loader=new self.XMLHttpRequest,r=this.stats;r.loading.first=0,r.loaded=0,r.aborted=!1;const i=this.xhrSetup;i?Promise.resolve().then(()=>{if(!this.stats.aborted)return i(n,e.url)}).catch(t=>(n.open("GET",e.url,!0),i(n,e.url))).then(()=>{this.stats.aborted||this.openAndSendXhr(n,e,t)}).catch(t=>{this.callbacks.onError({code:n.status,text:t.message},e,n,r)}):this.openAndSendXhr(n,e,t)}openAndSendXhr(t,e,n){t.readyState||t.open("GET",e.url,!0);const r=e.headers,{maxTimeToFirstByteMs:i,maxLoadTimeMs:o}=n.loadPolicy;if(r)for(const e in r)t.setRequestHeader(e,r[e]);e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,self.clearTimeout(this.requestTimeout),n.timeout=i&&_i(i)?i:o,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.timeout),t.send()}readystatechange(){const{context:t,loader:e,stats:n}=this;if(!t||!e)return;const r=e.readyState,i=this.config;if(!n.aborted&&r>=2&&(0===n.loading.first&&(n.loading.first=Math.max(self.performance.now(),n.loading.start),i.timeout!==i.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),i.timeout=i.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.loadPolicy.maxLoadTimeMs-(n.loading.first-n.loading.start)))),4===r)){self.clearTimeout(this.requestTimeout),e.onreadystatechange=null,e.onprogress=null;const r=e.status,o="text"!==e.responseType;if(r>=200&&r<300&&(o&&e.response||null!==e.responseText)){n.loading.end=Math.max(self.performance.now(),n.loading.first);const i=o?e.response:e.responseText,s="arraybuffer"===e.responseType?i.byteLength:i.length;if(n.loaded=n.total=s,n.bwEstimate=8e3*n.total/(n.loading.end-n.loading.first),!this.callbacks)return;const a=this.callbacks.onProgress;if(a&&a(n,t,i,e),!this.callbacks)return;const c={url:e.responseURL,data:i,code:r};this.callbacks.onSuccess(c,n,t,e)}else{const o=i.loadPolicy.errorRetry;ya(o,n.retry,!1,{url:t.url,data:void 0,code:r})?this.retry(o):(Ii.error(`${r} while loading ${t.url}`),this.callbacks.onError({code:r,text:e.statusText},t,e,n))}}}loadtimeout(){var t;const e=null==(t=this.config)?void 0:t.loadPolicy.timeoutRetry;if(ya(e,this.stats.retry,!0))this.retry(e);else{var n;Ii.warn("timeout while loading "+(null==(n=this.context)?void 0:n.url));const t=this.callbacks;t&&(this.abortInternal(),t.onTimeout(this.stats,this.context,this.loader))}}retry(t){const{context:e,stats:n}=this;this.retryDelay=ma(t,n.retry),n.retry++,Ii.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${null==e?void 0:e.url}, retrying ${n.retry}/${t.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(t){const e=this.stats;e.loaded=t.loaded,t.lengthComputable&&(e.total=t.total)}getCacheAge(){let t=null;if(this.loader&&od.test(this.loader.getAllResponseHeaders())){const e=this.loader.getResponseHeader("age");t=e?parseFloat(e):null}return t}getResponseHeader(t){return this.loader&&new RegExp(`^${t}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(t):null}}const ad=/(\d+)-(\d+)\/(\d+)/;class cd{constructor(t){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=t.fetchSetup||ld,this.controller=new self.AbortController,this.stats=new Fi}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var t;this.abortInternal(),null!=(t=this.callbacks)&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(t,e,n){const r=this.stats;if(r.loading.start)throw new Error("Loader can only be used once.");r.loading.start=self.performance.now();const i=function(t,e){const n={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(wi({},t.headers))};t.rangeEnd&&n.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1));return n}(t,this.controller.signal),o=n.onProgress,s="arraybuffer"===t.responseType,a=s?"byteLength":"length",{maxTimeToFirstByteMs:c,maxLoadTimeMs:l}=e.loadPolicy;this.context=t,this.config=e,this.callbacks=n,this.request=this.fetchSetup(t,i),self.clearTimeout(this.requestTimeout),e.timeout=c&&_i(c)?c:l,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),n.onTimeout(r,t,this.response)},e.timeout),self.fetch(this.request).then(i=>{this.response=this.loader=i;const a=Math.max(self.performance.now(),r.loading.start);if(self.clearTimeout(this.requestTimeout),e.timeout=l,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),n.onTimeout(r,t,this.response)},l-(a-r.loading.start)),!i.ok){const{status:t,statusText:e}=i;throw new ud(e||"fetch, bad network response",t,i)}return r.loading.first=a,r.total=function(t){const e=t.get("Content-Range");if(e){const t=function(t){const e=ad.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}(e);if(_i(t))return t}const n=t.get("Content-Length");if(n)return parseInt(n)}(i.headers)||r.total,o&&_i(e.highWaterMark)?this.loadProgressively(i,r,t,e.highWaterMark,o):s?i.arrayBuffer():"json"===t.responseType?i.json():i.text()}).then(i=>{const s=this.response;if(!s)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),r.loading.end=Math.max(self.performance.now(),r.loading.first);const c=i[a];c&&(r.loaded=r.total=c);const l={url:s.url,data:i,code:s.status};o&&!_i(e.highWaterMark)&&o(r,t,i,s),n.onSuccess(l,r,t,s)}).catch(e=>{if(self.clearTimeout(this.requestTimeout),r.aborted)return;const i=e&&e.code||0,o=e?e.message:null;n.onError({code:i,text:o},t,e?e.details:null,r)})}getCacheAge(){let t=null;if(this.response){const e=this.response.headers.get("age");t=e?parseFloat(e):null}return t}getResponseHeader(t){return this.response?this.response.headers.get(t):null}loadProgressively(t,e,n,r=0,i){const o=new kc,s=t.body.getReader(),a=()=>s.read().then(s=>{if(s.done)return o.dataLength&&i(e,n,o.flush(),t),Promise.resolve(new ArrayBuffer(0));const c=s.value,l=c.length;return e.loaded+=l,l<r||o.dataLength?(o.push(c),o.dataLength>=r&&i(e,n,o.flush(),t)):i(e,n,c,t),a()}).catch(()=>Promise.reject());return a()}}function ld(t,e){return new self.Request(t.url,e)}class ud extends Error{constructor(t,e,n){super(t),this.code=void 0,this.details=void 0,this.code=e,this.details=n}}const dd=/\s/,hd={newCue(t,e,n,r){const i=[];let o,s,a,c,l;const u=self.VTTCue||self.TextTrackCue;for(let h=0;h<r.rows.length;h++)if(o=r.rows[h],a=!0,c=0,l="",!o.isEmpty()){var d;for(let t=0;t<o.chars.length;t++)dd.test(o.chars[t].uchar)&&a?c++:(l+=o.chars[t].uchar,a=!1);o.cueStartTime=e,e===n&&(n+=1e-4),c>=16?c--:c++;const r=uu(l.trim()),f=gu(e,n,r);null!=t&&null!=(d=t.cues)&&d.getCueById(f)||(s=new u(e,n,r),s.id=f,s.line=h+1,s.align="left",s.position=10+Math.min(80,10*Math.floor(8*c/32)),i.push(s))}return t&&i.length&&(i.sort((t,e)=>"auto"===t.line||"auto"===e.line?0:t.line>8&&e.line>8?e.line-t.line:t.line-e.line),i.forEach(e=>Us(t,e))),i}},fd=vi(vi({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:sd,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:class{constructor(t){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this._abandonRulesCheck=()=>{const{fragCurrent:t,partCurrent:e,hls:n}=this,{autoLevelEnabled:r,media:i}=n;if(!t||!i)return;const o=performance.now(),s=e?e.stats:t.stats,a=e?e.duration:t.duration,c=o-s.loading.start,l=n.minAutoLevel;if(s.aborted||s.loaded&&s.loaded===s.total||t.level<=l)return this.clearTimer(),void(this._nextAutoLevel=-1);if(!r||i.paused||!i.playbackRate||!i.readyState)return;const u=n.mainForwardBufferInfo;if(null===u)return;const d=this.bwEstimator.getEstimateTTFB(),h=Math.abs(i.playbackRate);if(c<=Math.max(d,a/(2*h)*1e3))return;const f=u.len/h,p=s.loading.first?s.loading.first-s.loading.start:-1,g=s.loaded&&p>-1,m=this.getBwEstimate(),v=n.levels,y=v[t.level],b=s.total||Math.max(s.loaded,Math.round(a*y.averageBitrate/8));let w=g?c-p:c;w<1&&g&&(w=Math.min(c,8*s.loaded/m));const _=g?1e3*s.loaded/w:0,E=_?(b-s.loaded)/_:8*b/m+d/1e3;if(E<=f)return;const S=_?8*_:m;let A,T=Number.POSITIVE_INFINITY;for(A=t.level-1;A>l;A--){const t=v[A].maxBitrate;if(T=this.getTimeToLoadFrag(d/1e3,S,a*t,!v[A].details),T<f)break}if(T>=E)return;if(T>10*a)return;n.nextLoadLevel=n.nextAutoLevel=A,g?this.bwEstimator.sample(c-Math.min(d,p),s.loaded):this.bwEstimator.sampleTTFB(c);const x=v[A].maxBitrate;this.getBwEstimate()*this.hls.config.abrBandWidthUpFactor>x&&this.resetEstimator(x),this.clearTimer(),Ii.warn(`[abr] Fragment ${t.sn}${e?" part "+e.index:""} of level ${t.level} is loading too slowly;\n      Time to underbuffer: ${f.toFixed(3)} s\n      Estimated load time for current fragment: ${E.toFixed(3)} s\n      Estimated load time for down switch fragment: ${T.toFixed(3)} s\n      TTFB estimate: ${0|p} ms\n      Current BW estimate: ${_i(m)?0|m:"Unknown"} bps\n      New BW estimate: ${0|this.getBwEstimate()} bps\n      Switching to level ${A} @ ${0|x} bps`),n.trigger(Ai.FRAG_LOAD_EMERGENCY_ABORTED,{frag:t,part:e,stats:s})},this.hls=t,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(t){t&&(Ii.log("setting initial bwe to "+t),this.hls.config.abrEwmaDefaultEstimate=t),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const t=this.hls.config;return new Oa(t.abrEwmaSlowVoD,t.abrEwmaFastVoD,t.abrEwmaDefaultEstimate)}registerListeners(){const{hls:t}=this;t.on(Ai.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Ai.FRAG_LOADING,this.onFragLoading,this),t.on(Ai.FRAG_LOADED,this.onFragLoaded,this),t.on(Ai.FRAG_BUFFERED,this.onFragBuffered,this),t.on(Ai.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(Ai.LEVEL_LOADED,this.onLevelLoaded,this),t.on(Ai.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(Ai.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),t.on(Ai.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t&&(t.off(Ai.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Ai.FRAG_LOADING,this.onFragLoading,this),t.off(Ai.FRAG_LOADED,this.onFragLoaded,this),t.off(Ai.FRAG_BUFFERED,this.onFragBuffered,this),t.off(Ai.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(Ai.LEVEL_LOADED,this.onLevelLoaded,this),t.off(Ai.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(Ai.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),t.off(Ai.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(t,e){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(t,e){const n=e.frag;if(!this.ignoreFragment(n)){var r;if(!n.bitrateTest)this.fragCurrent=n,this.partCurrent=null!=(r=e.part)?r:null;this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(t,e){this.clearTimer()}onError(t,e){if(!e.fatal)switch(e.details){case xi.BUFFER_ADD_CODEC_ERROR:case xi.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case xi.FRAG_LOAD_TIMEOUT:{const t=e.frag,{fragCurrent:n,partCurrent:r}=this;if(t&&n&&t.sn===n.sn&&t.level===n.level){const e=performance.now(),n=r?r.stats:t.stats,i=e-n.loading.start,o=n.loading.first?n.loading.first-n.loading.start:-1;if(n.loaded&&o>-1){const t=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(i-Math.min(t,o),n.loaded)}else this.bwEstimator.sampleTTFB(i)}break}}}getTimeToLoadFrag(t,e,n,r){return t+n/e+(r?this.lastLevelLoadSec:0)}onLevelLoaded(t,e){const n=this.hls.config,{loading:r}=e.stats,i=r.end-r.start;_i(i)&&(this.lastLevelLoadSec=i/1e3),e.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD)}onFragLoaded(t,{frag:e,part:n}){const r=n?n.stats:e.stats;if(e.type===Os&&this.bwEstimator.sampleTTFB(r.loading.first-r.loading.start),!this.ignoreFragment(e)){if(this.clearTimer(),e.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const t=n?n.duration:e.duration,i=this.hls.levels[e.level],o=(i.loaded?i.loaded.bytes:0)+r.loaded,s=(i.loaded?i.loaded.duration:0)+t;i.loaded={bytes:o,duration:s},i.realBitrate=Math.round(8*o/s)}if(e.bitrateTest){const t={stats:r,frag:e,part:n,id:e.type};this.onFragBuffered(Ai.FRAG_BUFFERED,t),e.bitrateTest=!1}else this.lastLoadedFragLevel=e.level}}onFragBuffered(t,e){const{frag:n,part:r}=e,i=null!=r&&r.stats.loaded?r.stats:n.stats;if(i.aborted)return;if(this.ignoreFragment(n))return;const o=i.parsing.end-i.loading.start-Math.min(i.loading.first-i.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(o,i.loaded),i.bwEstimate=this.getBwEstimate(),n.bitrateTest?this.bitrateTestDelay=o/1e3:this.bitrateTestDelay=0}ignoreFragment(t){return t.type!==Os||"initSegment"===t.sn}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:t,minAutoLevel:e}=this.hls,n=this.getBwEstimate(),r=this.hls.config.maxStarvationDelay,i=this.findBestLevel(n,e,t,0,r,1,1);if(i>-1)return i;const o=this.hls.firstLevel,s=Math.min(Math.max(o,e),t);return Ii.warn(`[abr] Could not find best starting auto level. Defaulting to first in playlist ${o} clamped to ${s}`),s}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const t=this.forcedAutoLevel,e=this.bwEstimator.canEstimate(),n=this.lastLoadedFragLevel>-1;if(!(-1===t||e&&n&&this.nextAutoLevelKey!==this.getAutoLevelKey()))return t;const r=e&&n?this.getNextABRAutoLevel():this.firstAutoLevel;if(-1!==t){const e=this.hls.levels;if(e.length>Math.max(t,r)&&e[t].loadError<=e[r].loadError)return t}return this._nextAutoLevel=r,this.nextAutoLevelKey=this.getAutoLevelKey(),r}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:t,partCurrent:e,hls:n}=this,{maxAutoLevel:r,config:i,minAutoLevel:o}=n,s=e?e.duration:t?t.duration:0,a=this.getBwEstimate(),c=this.getStarvationDelay();let l=i.abrBandWidthFactor,u=i.abrBandWidthUpFactor;if(c){const t=this.findBestLevel(a,o,r,c,0,l,u);if(t>=0)return t}let d=s?Math.min(s,i.maxStarvationDelay):i.maxStarvationDelay;if(!c){const t=this.bitrateTestDelay;if(t){d=(s?Math.min(s,i.maxLoadingDelay):i.maxLoadingDelay)-t,Ii.info(`[abr] bitrate test took ${Math.round(1e3*t)}ms, set first fragment max fetchDuration to ${Math.round(1e3*d)} ms`),l=u=1}}const h=this.findBestLevel(a,o,r,c,d,l,u);if(Ii.info(`[abr] ${c?"rebuffering expected":"buffer is empty"}, optimal quality level ${h}`),h>-1)return h;const f=n.levels[o],p=n.levels[n.loadLevel];return(null==f?void 0:f.bitrate)<(null==p?void 0:p.bitrate)?o:n.loadLevel}getStarvationDelay(){const t=this.hls,e=t.media;if(!e)return 1/0;const n=e&&0!==e.playbackRate?Math.abs(e.playbackRate):1,r=t.mainForwardBufferInfo;return(r?r.len:0)/n}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(t,e,n,r,i,o,s){var a;const c=r+i,l=this.lastLoadedFragLevel,u=-1===l?this.hls.firstLevel:l,{fragCurrent:d,partCurrent:h}=this,{levels:f,allAudioTracks:p,loadLevel:g,config:m}=this.hls;if(1===f.length)return 0;const v=f[u],y=!(null==v||null==(a=v.details)||!a.live),b=-1===g||-1===l;let w,_="SDR",E=(null==v?void 0:v.frameRate)||0;const{audioPreference:S,videoPreference:A}=m,T=this.audioTracksByGroup||(this.audioTracksByGroup=function(t){return t.reduce((t,e)=>{let n=t.groups[e.groupId];n||(n=t.groups[e.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),n.tracks.push(e);const r=e.channels||"2";return n.channels[r]=(n.channels[r]||0)+1,n.hasDefault=n.hasDefault||e.default,n.hasAutoSelect=n.hasAutoSelect||e.autoselect,n.hasDefault&&(t.hasDefaultAudio=!0),n.hasAutoSelect&&(t.hasAutoSelectAudio=!0),t},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}(p));if(b){if(-1!==this.firstSelection)return this.firstSelection;const r=function(t,e,n,r,i){const o=Object.keys(t),s=null==r?void 0:r.channels,a=null==r?void 0:r.audioCodec,c=s&&2===parseInt(s);let l=!0,u=!1,d=1/0,h=1/0,f=1/0,p=0,g=[];const{preferHDR:m,allowedVideoRanges:v}=Fa(e,i);for(let e=o.length;e--;){const n=t[o[e]];l=n.channels[2]>0,d=Math.min(d,n.minHeight),h=Math.min(h,n.minFramerate),f=Math.min(f,n.minBitrate);const r=v.filter(t=>n.videoRanges[t]>0);r.length>0&&(u=!0,g=r)}d=_i(d)?d:0,h=_i(h)?h:0;const y=Math.max(1080,d),b=Math.max(30,h);return f=_i(f)?f:n,n=Math.max(f,n),u||(e=void 0,g=[]),{codecSet:o.reduce((e,r)=>{const i=t[r];if(r===e)return e;if(i.minBitrate>n)return Ba(r,`min bitrate of ${i.minBitrate} > current estimate of ${n}`),e;if(!i.hasDefaultAudio)return Ba(r,"no renditions with default or auto-select sound found"),e;if(a&&r.indexOf(a.substring(0,4))%5!=0)return Ba(r,`audio codec preference "${a}" not found`),e;if(s&&!c){if(!i.channels[s])return Ba(r,`no renditions with ${s} channel sound found (channels options: ${Object.keys(i.channels)})`),e}else if((!a||c)&&l&&0===i.channels[2])return Ba(r,"no renditions with stereo sound found"),e;return i.minHeight>y?(Ba(r,`min resolution of ${i.minHeight} > maximum of ${y}`),e):i.minFramerate>b?(Ba(r,`min framerate of ${i.minFramerate} > maximum of ${b}`),e):g.some(t=>i.videoRanges[t]>0)?i.maxScore<p?(Ba(r,`max score of ${i.maxScore} < selected max of ${p}`),e):e&&(us(r)>=us(e)||i.fragmentError>t[e].fragmentError)?e:(p=i.maxScore,r):(Ba(r,`no variants with VIDEO-RANGE of ${JSON.stringify(g)} found`),e)},void 0),videoRanges:g,preferHDR:m,minFramerate:h,minBitrate:f}}(this.codecTiers||(this.codecTiers=function(t,e,n,r){return t.slice(n,r+1).reduce((t,n)=>{if(!n.codecSet)return t;const r=n.audioGroups;let i=t[n.codecSet];i||(t[n.codecSet]=i={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!r,fragmentError:0}),i.minBitrate=Math.min(i.minBitrate,n.bitrate);const o=Math.min(n.height,n.width);return i.minHeight=Math.min(i.minHeight,o),i.minFramerate=Math.min(i.minFramerate,n.frameRate),i.maxScore=Math.max(i.maxScore,n.score),i.fragmentError+=n.fragmentError,i.videoRanges[n.videoRange]=(i.videoRanges[n.videoRange]||0)+1,r&&r.forEach(t=>{if(!t)return;const n=e.groups[t];i.hasDefaultAudio=i.hasDefaultAudio||e.hasDefaultAudio?n.hasDefault:n.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(n.channels).forEach(t=>{i.channels[t]=(i.channels[t]||0)+n.channels[t]})}),t},{})}(f,T,e,n)),_,t,S,A),{codecSet:i,videoRanges:o,minFramerate:s,minBitrate:a,preferHDR:c}=r;w=i,_=c?o[o.length-1]:o[0],E=s,t=Math.max(t,a),Ii.log("[abr] picked start tier "+JSON.stringify(r))}else w=null==v?void 0:v.codecSet,_=null==v?void 0:v.videoRange;const x=h?h.duration:d?d.duration:0,k=this.bwEstimator.getEstimateTTFB()/1e3,C=[];for(let a=n;a>=e;a--){var R;const e=f[a],d=a>u;if(!e)continue;if(m.useMediaCapabilities&&!e.supportedResult&&!e.supportedPromise){const n=navigator.mediaCapabilities;"function"==typeof(null==n?void 0:n.decodingInfo)&&Na(e,T,_,E,t,S)?(e.supportedPromise=Pa(e,T,n),e.supportedPromise.then(t=>{if(!this.hls)return;e.supportedResult=t;const n=this.hls.levels,r=n.indexOf(e);t.error?Ii.warn(`[abr] MediaCapabilities decodingInfo error: "${t.error}" for level ${r} ${JSON.stringify(t)}`):t.supported||(Ii.warn(`[abr] Unsupported MediaCapabilities decodingInfo result for level ${r} ${JSON.stringify(t)}`),r>-1&&n.length>1&&(Ii.log("[abr] Removing unsupported level "+r),this.hls.removeLevel(r)))})):e.supportedResult=Da}if(w&&e.codecSet!==w||_&&e.videoRange!==_||d&&E>e.frameRate||!d&&E>0&&E<e.frameRate||e.supportedResult&&(null==(R=e.supportedResult.decodingInfoResults)||!R[0].smooth)){C.push(a);continue}const p=e.details,A=(h?null==p?void 0:p.partTarget:null==p?void 0:p.averagetargetduration)||x;let L;L=d?s*t:o*t;const I=x&&r>=2*x&&0===i?f[a].averageBitrate:f[a].maxBitrate,O=this.getTimeToLoadFrag(k,L,I*A,void 0===p);if(L>=I&&(a===l||0===e.loadError&&0===e.fragmentError)&&(O<=k||!_i(O)||y&&!this.bitrateTestDelay||O<c)){const t=this.forcedAutoLevel;return a===g||-1!==t&&t===g||(C.length&&Ii.trace(`[abr] Skipped level(s) ${C.join(",")} of ${n} max with CODECS and VIDEO-RANGE:"${f[C[0]].codecs}" ${f[C[0]].videoRange}; not compatible with "${v.codecs}" ${_}`),Ii.info(`[abr] switch candidate:${u}->${a} adjustedbw(${Math.round(L)})-bitrate=${Math.round(L-I)} ttfb:${k.toFixed(1)} avgDuration:${A.toFixed(1)} maxFetchDuration:${c.toFixed(1)} fetchDuration:${O.toFixed(1)} firstSelection:${b} codecSet:${w} videoRange:${_} hls.loadLevel:${g}`)),b&&(this.firstSelection=a),a}}return-1}set nextAutoLevel(t){const{maxAutoLevel:e,minAutoLevel:n}=this.hls,r=Math.min(Math.max(t,n),e);this._nextAutoLevel!==r&&(this.nextAutoLevelKey="",this._nextAutoLevel=r)}},bufferController:class{constructor(t){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendSource=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this.log=void 0,this.warn=void 0,this.error=void 0,this._onEndStreaming=t=>{this.hls&&this.hls.pauseBuffering()},this._onStartStreaming=t=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=()=>{const{media:t,mediaSource:e}=this;this.log("Media source opened"),t&&(t.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(Ai.MEDIA_ATTACHED,{media:t,mediaSource:e})),e&&e.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:t,_objectUrl:e}=this;t!==e&&Ii.error(`Media element src was set while attaching MediaSource (${e} > ${t})`)},this.hls=t;const e="[buffer-controller]";this.appendSource=t.config.preferManagedMediaSource,this.log=Ii.log.bind(Ii,e),this.warn=Ii.warn.bind(Ii,e),this.error=Ii.error.bind(Ii,e),this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null,this.hls=null}registerListeners(){const{hls:t}=this;t.on(Ai.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(Ai.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(Ai.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Ai.MANIFEST_PARSED,this.onManifestParsed,this),t.on(Ai.BUFFER_RESET,this.onBufferReset,this),t.on(Ai.BUFFER_APPENDING,this.onBufferAppending,this),t.on(Ai.BUFFER_CODECS,this.onBufferCodecs,this),t.on(Ai.BUFFER_EOS,this.onBufferEos,this),t.on(Ai.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(Ai.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(Ai.FRAG_PARSED,this.onFragParsed,this),t.on(Ai.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:t}=this;t.off(Ai.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(Ai.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(Ai.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Ai.MANIFEST_PARSED,this.onManifestParsed,this),t.off(Ai.BUFFER_RESET,this.onBufferReset,this),t.off(Ai.BUFFER_APPENDING,this.onBufferAppending,this),t.off(Ai.BUFFER_CODECS,this.onBufferCodecs,this),t.off(Ai.BUFFER_EOS,this.onBufferEos,this),t.off(Ai.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(Ai.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(Ai.FRAG_PARSED,this.onFragParsed,this),t.off(Ai.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new Nl(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.appendErrors={audio:0,video:0,audiovideo:0},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(t,e){let n=2;(e.audio&&!e.video||!e.altAudio)&&(n=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=n,this.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")}onMediaAttaching(t,e){const n=this.media=e.media,r=is(this.appendSource);if(n&&r){var i;const t=this.mediaSource=new r;this.log("created media source: "+(null==(i=t.constructor)?void 0:i.name)),t.addEventListener("sourceopen",this._onMediaSourceOpen),t.addEventListener("sourceended",this._onMediaSourceEnded),t.addEventListener("sourceclose",this._onMediaSourceClose),t.addEventListener("startstreaming",this._onStartStreaming),t.addEventListener("endstreaming",this._onEndStreaming);const e=this._objectUrl=self.URL.createObjectURL(t);if(this.appendSource)try{n.removeAttribute("src");const r=self.ManagedMediaSource;n.disableRemotePlayback=n.disableRemotePlayback||r&&t instanceof r,Fl(n),function(t,e){const n=self.document.createElement("source");n.type="video/mp4",n.src=e,t.appendChild(n)}(n,e),n.load()}catch(t){n.src=e}else n.src=e;n.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:t,mediaSource:e,_objectUrl:n}=this;if(e){if(this.log("media source detaching"),"open"===e.readyState)try{e.endOfStream()}catch(t){this.warn(`onMediaDetaching: ${t.message} while calling endOfStream`)}this.onBufferReset(),e.removeEventListener("sourceopen",this._onMediaSourceOpen),e.removeEventListener("sourceended",this._onMediaSourceEnded),e.removeEventListener("sourceclose",this._onMediaSourceClose),e.removeEventListener("startstreaming",this._onStartStreaming),e.removeEventListener("endstreaming",this._onEndStreaming),t&&(t.removeEventListener("emptied",this._onMediaEmptied),n&&self.URL.revokeObjectURL(n),this.mediaSrc===n?(t.removeAttribute("src"),this.appendSource&&Fl(t),t.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(Ai.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(t=>{this.resetBuffer(t)}),this._initSourceBuffer()}resetBuffer(t){const e=this.sourceBuffer[t];try{var n;if(e)this.removeBufferListeners(t),this.sourceBuffer[t]=void 0,null!=(n=this.mediaSource)&&n.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(e)}catch(e){this.warn("onBufferReset "+t,e)}}onBufferCodecs(t,e){const n=this.getSourceBufferTypes().length,r=Object.keys(e);if(r.forEach(t=>{if(n){const n=this.tracks[t];if(n&&"function"==typeof n.buffer.changeType){var r;const{id:i,codec:o,levelCodec:s,container:a,metadata:c}=e[t],l=ps(n.codec,n.levelCodec),u=null==l?void 0:l.replace(Pl,"$1");let d=ps(o,s);const h=null==(r=d)?void 0:r.replace(Pl,"$1");if(d&&u!==h){"audio"===t.slice(0,5)&&(d=fs(d,this.hls.config.preferManagedMediaSource));const e=`${a};codecs=${d}`;this.appendChangeType(t,e),this.log(`switching codec ${l} to ${d}`),this.tracks[t]={buffer:n.buffer,codec:o,container:a,levelCodec:s,metadata:c,id:i}}}}else this.pendingTracks[t]=e[t]}),n)return;const i=Math.max(this.bufferCodecEventsExpected-1,0);this.bufferCodecEventsExpected!==i&&(this.log(`${i} bufferCodec event(s) expected ${r.join(",")}`),this.bufferCodecEventsExpected=i),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks()}appendChangeType(t,e){const{operationQueue:n}=this,r={execute:()=>{const r=this.sourceBuffer[t];r&&(this.log(`changing ${t} sourceBuffer type to ${e}`),r.changeType(e)),n.shiftAndExecuteNext(t)},onStart:()=>{},onComplete:()=>{},onError:e=>{this.warn(`Failed to change ${t} SourceBuffer type`,e)}};n.append(r,t,!!this.pendingTracks[t])}onBufferAppending(t,e){const{hls:n,operationQueue:r,tracks:i}=this,{data:o,type:s,frag:a,part:c,chunkMeta:l}=e,u=l.buffering[s],d=self.performance.now();u.start=d;const h=a.stats.buffering,f=c?c.stats.buffering:null;0===h.start&&(h.start=d),f&&0===f.start&&(f.start=d);const p=i.audio;let g=!1;"audio"===s&&"audio/mpeg"===(null==p?void 0:p.container)&&(g=!this.lastMpegAudioChunk||1===l.id||this.lastMpegAudioChunk.sn!==l.sn,this.lastMpegAudioChunk=l);const m=a.start,v={execute:()=>{if(u.executeStart=self.performance.now(),g){const t=this.sourceBuffer[s];if(t){const e=m-t.timestampOffset;Math.abs(e)>=.1&&(this.log(`Updating audio SourceBuffer timestampOffset to ${m} (delta: ${e}) sn: ${a.sn})`),t.timestampOffset=m)}}this.appendExecutor(o,s)},onStart:()=>{},onComplete:()=>{const t=self.performance.now();u.executeEnd=u.end=t,0===h.first&&(h.first=t),f&&0===f.first&&(f.first=t);const{sourceBuffer:e}=this,n={};for(const t in e)n[t]=Qa.getBuffered(e[t]);this.appendErrors[s]=0,"audio"===s||"video"===s?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(Ai.BUFFER_APPENDED,{type:s,frag:a,part:c,chunkMeta:l,parent:a.type,timeRanges:n})},onError:t=>{const e={type:Ti.MEDIA_ERROR,parent:a.type,details:xi.BUFFER_APPEND_ERROR,sourceBufferName:s,frag:a,part:c,chunkMeta:l,error:t,err:t,fatal:!1};if(t.code===DOMException.QUOTA_EXCEEDED_ERR)e.details=xi.BUFFER_FULL_ERROR;else{const t=++this.appendErrors[s];e.details=xi.BUFFER_APPEND_ERROR,this.warn(`Failed ${t}/${n.config.appendErrorMaxRetry} times to append segment in "${s}" sourceBuffer`),t>=n.config.appendErrorMaxRetry&&(e.fatal=!0)}n.trigger(Ai.ERROR,e)}};r.append(v,s,!!this.pendingTracks[s])}onBufferFlushing(t,e){const{operationQueue:n}=this,r=t=>({execute:this.removeExecutor.bind(this,t,e.startOffset,e.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(Ai.BUFFER_FLUSHED,{type:t})},onError:e=>{this.warn(`Failed to remove from ${t} SourceBuffer`,e)}});e.type?n.append(r(e.type),e.type):this.getSourceBufferTypes().forEach(t=>{n.append(r(t),t)})}onFragParsed(t,e){const{frag:n,part:r}=e,i=[],o=r?r.elementaryStreams:n.elementaryStreams;o[$i]?i.push("audiovideo"):(o[Bi]&&i.push("audio"),o[Ui]&&i.push("video"));0===i.length&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${n.type} level: ${n.level} sn: ${n.sn}`),this.blockBuffers(()=>{const t=self.performance.now();n.stats.buffering.end=t,r&&(r.stats.buffering.end=t);const e=r?r.stats:n.stats;this.hls.trigger(Ai.FRAG_BUFFERED,{frag:n,part:r,stats:e,id:n.type})},i)}onFragChanged(t,e){this.trimBuffers()}onBufferEos(t,e){this.getSourceBufferTypes().reduce((t,n)=>{const r=this.sourceBuffer[n];return!r||e.type&&e.type!==n||(r.ending=!0,r.ended||(r.ended=!0,this.log(n+" sourceBuffer now EOS"))),t&&!(r&&!r.ended)},!0)&&(this.log("Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(t=>{const e=this.sourceBuffer[t];e&&(e.ending=!1)});const{mediaSource:t}=this;t&&"open"===t.readyState?(this.log("Calling mediaSource.endOfStream()"),t.endOfStream()):t&&this.log("Could not call mediaSource.endOfStream(). mediaSource.readyState: "+t.readyState)}))}onLevelUpdated(t,{details:e}){e.fragments.length&&(this.details=e,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}trimBuffers(){const{hls:t,details:e,media:n}=this;if(!n||null===e)return;if(!this.getSourceBufferTypes().length)return;const r=t.config,i=n.currentTime,o=e.levelTargetDuration,s=e.live&&null!==r.liveBackBufferLength?r.liveBackBufferLength:r.backBufferLength;if(_i(s)&&s>0){const t=Math.max(s,o),e=Math.floor(i/o)*o-t;this.flushBackBuffer(i,o,e)}if(_i(r.frontBufferFlushThreshold)&&r.frontBufferFlushThreshold>0){const t=Math.max(r.maxBufferLength,r.frontBufferFlushThreshold),e=Math.max(t,o),n=Math.floor(i/o)*o+e;this.flushFrontBuffer(i,o,n)}}flushBackBuffer(t,e,n){const{details:r,sourceBuffer:i}=this;this.getSourceBufferTypes().forEach(o=>{const s=i[o];if(s){const i=Qa.getBuffered(s);if(i.length>0&&n>i.start(0)){if(this.hls.trigger(Ai.BACK_BUFFER_REACHED,{bufferEnd:n}),null!=r&&r.live)this.hls.trigger(Ai.LIVE_BACK_BUFFER_REACHED,{bufferEnd:n});else if(s.ended&&i.end(i.length-1)-t<2*e)return void this.log(`Cannot flush ${o} back buffer while SourceBuffer is in ended state`);this.hls.trigger(Ai.BUFFER_FLUSHING,{startOffset:0,endOffset:n,type:o})}}})}flushFrontBuffer(t,e,n){const{sourceBuffer:r}=this;this.getSourceBufferTypes().forEach(i=>{const o=r[i];if(o){const r=Qa.getBuffered(o),s=r.length;if(s<2)return;const a=r.start(s-1),c=r.end(s-1);if(n>a||t>=a&&t<=c)return;if(o.ended&&t-c<2*e)return void this.log(`Cannot flush ${i} front buffer while SourceBuffer is in ended state`);this.hls.trigger(Ai.BUFFER_FLUSHING,{startOffset:a,endOffset:1/0,type:i})}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||"open"!==this.mediaSource.readyState)return;const{details:t,hls:e,media:n,mediaSource:r}=this,i=t.fragments[0].start+t.totalduration,o=n.duration,s=_i(r.duration)?r.duration:0;t.live&&e.config.liveDurationInfinity?(r.duration=1/0,this.updateSeekableRange(t)):(i>s&&i>o||!_i(o))&&(this.log("Updating Media Source duration to "+i.toFixed(3)),r.duration=i)}updateSeekableRange(t){const e=this.mediaSource,n=t.fragments;if(n.length&&t.live&&null!=e&&e.setLiveSeekableRange){const r=Math.max(0,n[0].start),i=Math.max(r,r+t.totalduration);this.log(`Media Source duration is set to ${e.duration}. Setting seekable range to ${r}-${i}.`),e.setLiveSeekableRange(r,i)}}checkPendingTracks(){const{bufferCodecEventsExpected:t,operationQueue:e,pendingTracks:n}=this,r=Object.keys(n).length;if(r&&(!t||2===r||"audiovideo"in n)){this.createSourceBuffers(n),this.pendingTracks={};const t=this.getSourceBufferTypes();if(t.length)this.hls.trigger(Ai.BUFFER_CREATED,{tracks:this.tracks}),t.forEach(t=>{e.executeNext(t)});else{const t=new Error("could not create source buffer for media codec(s)");this.hls.trigger(Ai.ERROR,{type:Ti.MEDIA_ERROR,details:xi.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:t,reason:t.message})}}}createSourceBuffers(t){const{sourceBuffer:e,mediaSource:n}=this;if(!n)throw Error("createSourceBuffers called when mediaSource was null");for(const r in t)if(!e[r]){const i=t[r];if(!i)throw Error(`source buffer exists for track ${r}, however track does not`);let o=i.levelCodec||i.codec;o&&"audio"===r.slice(0,5)&&(o=fs(o,this.hls.config.preferManagedMediaSource));const s=`${i.container};codecs=${o}`;this.log(`creating sourceBuffer(${s})`);try{const t=e[r]=n.addSourceBuffer(s),a=r;this.addBufferListener(a,"updatestart",this._onSBUpdateStart),this.addBufferListener(a,"updateend",this._onSBUpdateEnd),this.addBufferListener(a,"error",this._onSBUpdateError),this.addBufferListener(a,"bufferedchange",(t,e)=>{const n=e.removedRanges;null!=n&&n.length&&this.hls.trigger(Ai.BUFFER_FLUSHED,{type:r})}),this.tracks[r]={buffer:t,codec:o,container:i.container,levelCodec:i.levelCodec,metadata:i.metadata,id:i.id}}catch(t){this.error("error while trying to add sourceBuffer: "+t.message),this.hls.trigger(Ai.ERROR,{type:Ti.MEDIA_ERROR,details:xi.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:t,sourceBufferName:r,mimeType:s})}}}get mediaSrc(){var t;const e=(null==(t=this.media)?void 0:t.firstChild)||this.media;return null==e?void 0:e.src}_onSBUpdateStart(t){const{operationQueue:e}=this;e.current(t).onStart()}_onSBUpdateEnd(t){var e;if("closed"===(null==(e=this.mediaSource)?void 0:e.readyState))return void this.resetBuffer(t);const{operationQueue:n}=this;n.current(t).onComplete(),n.shiftAndExecuteNext(t)}_onSBUpdateError(t,e){var n;const r=new Error(`${t} SourceBuffer error. MediaSource readyState: ${null==(n=this.mediaSource)?void 0:n.readyState}`);this.error(""+r,e),this.hls.trigger(Ai.ERROR,{type:Ti.MEDIA_ERROR,details:xi.BUFFER_APPENDING_ERROR,sourceBufferName:t,error:r,fatal:!1});const i=this.operationQueue.current(t);i&&i.onError(r)}removeExecutor(t,e,n){const{media:r,mediaSource:i,operationQueue:o,sourceBuffer:s}=this,a=s[t];if(!r||!i||!a)return this.warn(`Attempting to remove from the ${t} SourceBuffer, but it does not exist`),void o.shiftAndExecuteNext(t);const c=_i(r.duration)?r.duration:1/0,l=_i(i.duration)?i.duration:1/0,u=Math.max(0,e),d=Math.min(n,c,l);d>u&&(!a.ending||a.ended)?(a.ended=!1,this.log(`Removing [${u},${d}] from the ${t} SourceBuffer`),a.remove(u,d)):o.shiftAndExecuteNext(t)}appendExecutor(t,e){const n=this.sourceBuffer[e];if(n)n.ended=!1,n.appendBuffer(t);else if(!this.pendingTracks[e])throw new Error(`Attempting to append to the ${e} SourceBuffer, but it does not exist`)}blockBuffers(t,e=this.getSourceBufferTypes()){if(!e.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(t);const{operationQueue:n}=this,r=e.map(t=>n.appendBlocker(t));Promise.all(r).then(()=>{t(),e.forEach(t=>{const e=this.sourceBuffer[t];null!=e&&e.updating||n.shiftAndExecuteNext(t)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(t,e,n){const r=this.sourceBuffer[t];if(!r)return;const i=n.bind(this,t);this.listeners[t].push({event:e,listener:i}),r.addEventListener(e,i)}removeBufferListeners(t){const e=this.sourceBuffer[t];e&&this.listeners[t].forEach(t=>{e.removeEventListener(t.event,t.listener)})}},capLevelController:Cu,errorController:class{constructor(t){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=t,this.log=Ii.log.bind(Ii,"[info]:"),this.warn=Ii.warn.bind(Ii,"[warning]:"),this.error=Ii.error.bind(Ii,"[error]:"),this.registerListeners()}registerListeners(){const t=this.hls;t.on(Ai.ERROR,this.onError,this),t.on(Ai.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Ai.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const t=this.hls;t&&(t.off(Ai.ERROR,this.onError,this),t.off(Ai.ERROR,this.onErrorOut,this),t.off(Ai.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Ai.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(t){}stopLoad(){this.playlistError=0}getVariantLevelIndex(t){return(null==t?void 0:t.type)===Os?t.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(t,e){var n,r;if(e.fatal)return;const i=this.hls,o=e.context;switch(e.details){case xi.FRAG_LOAD_ERROR:case xi.FRAG_LOAD_TIMEOUT:case xi.KEY_LOAD_ERROR:case xi.KEY_LOAD_TIMEOUT:return void(e.errorAction=this.getFragRetryOrSwitchAction(e));case xi.FRAG_PARSING_ERROR:if(null!=(n=e.frag)&&n.gap)return void(e.errorAction={action:Sa,flags:ka});case xi.FRAG_GAP:case xi.FRAG_DECRYPT_ERROR:return e.errorAction=this.getFragRetryOrSwitchAction(e),void(e.errorAction.action=Aa);case xi.LEVEL_EMPTY_ERROR:case xi.LEVEL_PARSING_ERROR:{var s,a;const t=e.parent===Os?e.level:i.loadLevel;e.details===xi.LEVEL_EMPTY_ERROR&&null!=(s=e.context)&&null!=(a=s.levelDetails)&&a.live?e.errorAction=this.getPlaylistRetryOrSwitchAction(e,t):(e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,t))}return;case xi.LEVEL_LOAD_ERROR:case xi.LEVEL_LOAD_TIMEOUT:return void("number"==typeof(null==o?void 0:o.level)&&(e.errorAction=this.getPlaylistRetryOrSwitchAction(e,o.level)));case xi.AUDIO_TRACK_LOAD_ERROR:case xi.AUDIO_TRACK_LOAD_TIMEOUT:case xi.SUBTITLE_LOAD_ERROR:case xi.SUBTITLE_TRACK_LOAD_TIMEOUT:if(o){const t=i.levels[i.loadLevel];if(t&&(o.type===Ls&&t.hasAudioGroup(o.groupId)||o.type===Is&&t.hasSubtitleGroup(o.groupId)))return e.errorAction=this.getPlaylistRetryOrSwitchAction(e,i.loadLevel),e.errorAction.action=Aa,void(e.errorAction.flags=Ca)}return;case xi.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const t=i.levels[i.loadLevel],n=null==t?void 0:t.attrs["HDCP-LEVEL"];n?e.errorAction={action:Aa,flags:Ra,hdcpLevel:n}:this.keySystemError(e)}return;case xi.BUFFER_ADD_CODEC_ERROR:case xi.REMUX_ALLOC_ERROR:case xi.BUFFER_APPEND_ERROR:return void(e.errorAction=this.getLevelSwitchAction(e,null!=(r=e.level)?r:i.loadLevel));case xi.INTERNAL_EXCEPTION:case xi.BUFFER_APPENDING_ERROR:case xi.BUFFER_FULL_ERROR:case xi.LEVEL_SWITCH_ERROR:case xi.BUFFER_STALLED_ERROR:case xi.BUFFER_SEEK_OVER_HOLE:case xi.BUFFER_NUDGE_ON_STALL:return void(e.errorAction={action:Sa,flags:ka})}e.type===Ti.KEY_SYSTEM_ERROR&&this.keySystemError(e)}keySystemError(t){const e=this.getVariantLevelIndex(t.frag);t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,e)}getPlaylistRetryOrSwitchAction(t,e){const n=ga(this.hls.config.playlistLoadPolicy,t),r=this.playlistError++;if(ya(n,r,pa(t),t.response))return{action:xa,flags:ka,retryConfig:n,retryCount:r};const i=this.getLevelSwitchAction(t,e);return n&&(i.retryConfig=n,i.retryCount=r),i}getFragRetryOrSwitchAction(t){const e=this.hls,n=this.getVariantLevelIndex(t.frag),r=e.levels[n],{fragLoadPolicy:i,keyLoadPolicy:o}=e.config,s=ga(t.details.startsWith("key")?o:i,t),a=e.levels.reduce((t,e)=>t+e.fragmentError,0);if(r){t.details!==xi.FRAG_GAP&&r.fragmentError++;if(ya(s,a,pa(t),t.response))return{action:xa,flags:ka,retryConfig:s,retryCount:a}}const c=this.getLevelSwitchAction(t,n);return s&&(c.retryConfig=s,c.retryCount=a),c}getLevelSwitchAction(t,e){const n=this.hls;null==e&&(e=n.loadLevel);const r=this.hls.levels[e];if(r){var i,o;const e=t.details;r.loadError++,e===xi.BUFFER_APPEND_ERROR&&r.fragmentError++;let c=-1;const{levels:l,loadLevel:u,minAutoLevel:d,maxAutoLevel:h}=n;n.autoLevelEnabled||(n.loadLevel=-1);const f=null==(i=t.frag)?void 0:i.type,p=(f===Ds&&e===xi.FRAG_PARSING_ERROR||"audio"===t.sourceBufferName&&(e===xi.BUFFER_ADD_CODEC_ERROR||e===xi.BUFFER_APPEND_ERROR))&&l.some(({audioCodec:t})=>r.audioCodec!==t),g="video"===t.sourceBufferName&&(e===xi.BUFFER_ADD_CODEC_ERROR||e===xi.BUFFER_APPEND_ERROR)&&l.some(({codecSet:t,audioCodec:e})=>r.codecSet!==t&&r.audioCodec===e),{type:m,groupId:v}=null!=(o=t.context)?o:{};for(let n=l.length;n--;){const i=(n+u)%l.length;if(i!==u&&i>=d&&i<=h&&0===l[i].loadError){var s,a;const n=l[i];if(e===xi.FRAG_GAP&&t.frag){const e=l[i].details;if(e){const n=wa(t.frag,e.fragments,t.frag.start);if(null!=n&&n.gap)continue}}else{if(m===Ls&&n.hasAudioGroup(v)||m===Is&&n.hasSubtitleGroup(v))continue;if(f===Ds&&null!=(s=r.audioGroups)&&s.some(t=>n.hasAudioGroup(t))||f===Ms&&null!=(a=r.subtitleGroups)&&a.some(t=>n.hasSubtitleGroup(t))||p&&r.audioCodec===n.audioCodec||!p&&r.audioCodec!==n.audioCodec||g&&r.codecSet===n.codecSet)continue}c=i;break}}if(c>-1&&n.loadLevel!==c)return t.levelRetry=!0,this.playlistError=0,{action:Aa,flags:ka,nextAutoLevel:c}}return{action:Aa,flags:Ca}}onErrorOut(t,e){var n;switch(null==(n=e.errorAction)?void 0:n.action){case Sa:break;case Aa:this.sendAlternateToPenaltyBox(e),e.errorAction.resolved||e.details===xi.FRAG_GAP?/MediaSource readyState: ended/.test(e.error.message)&&(this.warn(`MediaSource ended after "${e.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError()):e.fatal=!0}e.fatal&&this.hls.stopLoad()}sendAlternateToPenaltyBox(t){const e=this.hls,n=t.errorAction;if(!n)return;const{flags:r,hdcpLevel:i,nextAutoLevel:o}=n;switch(r){case ka:this.switchLevel(t,o);break;case Ra:i&&(e.maxHdcpLevel=Js[Js.indexOf(i)-1],n.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${e.maxHdcpLevel}" or lower`)}n.resolved||this.switchLevel(t,o)}switchLevel(t,e){void 0!==e&&t.errorAction&&(this.warn(`switching to level ${e} after ${t.details}`),this.hls.nextAutoLevel=e,t.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}},fpsController:class{constructor(t){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=t,this.registerListeners()}setStreamController(t){this.streamController=t}registerListeners(){this.hls.on(Ai.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(Ai.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(t,e){const n=this.hls.config;if(n.capLevelOnFPSDrop){const t=e.media instanceof self.HTMLVideoElement?e.media:null;this.media=t,t&&"function"==typeof t.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}}checkFPS(t,e,n){const r=performance.now();if(e){if(this.lastTime){const t=r-this.lastTime,i=n-this.lastDroppedFrames,o=e-this.lastDecodedFrames,s=1e3*i/t,a=this.hls;if(a.trigger(Ai.FPS_DROP,{currentDropped:i,currentDecoded:o,totalDroppedFrames:n}),s>0&&i>a.config.fpsDroppedMonitoringThreshold*o){let t=a.currentLevel;Ii.warn("drop FPS ratio greater than max allowed value for currentLevel: "+t),t>0&&(-1===a.autoLevelCapping||a.autoLevelCapping>=t)&&(t-=1,a.trigger(Ai.FPS_DROP_LEVEL_CAPPING,{level:t,droppedLevel:a.currentLevel}),a.autoLevelCapping=t,this.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=e}}checkFPSInterval(){const t=this.media;if(t)if(this.isVideoPlaybackQualityAvailable){const e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)}},stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:io,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,useMediaCapabilities:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},{cueHandler:hd,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:class extends xc{constructor(t,e,n){super(t,e,n,"[subtitle-stream-controller]",Ms),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}_registerListeners(){const{hls:t}=this;t.on(Ai.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(Ai.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(Ai.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Ai.LEVEL_LOADED,this.onLevelLoaded,this),t.on(Ai.ERROR,this.onError,this),t.on(Ai.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(Ai.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.on(Ai.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(Ai.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.on(Ai.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(Ai.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:t}=this;t.off(Ai.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(Ai.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(Ai.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Ai.LEVEL_LOADED,this.onLevelLoaded,this),t.off(Ai.ERROR,this.onError,this),t.off(Ai.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(Ai.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.off(Ai.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(Ai.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.off(Ai.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(Ai.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(t){this.stopLoad(),this.state=gc,this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(t,e){this.mainDetails=e.details}onSubtitleFragProcessed(t,e){const{frag:n,success:r}=e;if(this.fragPrevious=n,this.state=gc,!r)return;const i=this.tracksBuffered[this.currentTrackId];if(!i)return;let o;const s=n.start;for(let t=0;t<i.length;t++)if(s>=i[t].start&&s<=i[t].end){o=i[t];break}const a=n.start+n.duration;o?o.end=a:(o={start:s,end:a},i.push(o)),this.fragmentTracker.fragBuffered(n),this.fragBufferedComplete(n,null)}onBufferFlushing(t,e){const{startOffset:n,endOffset:r}=e;if(0===n&&r!==Number.POSITIVE_INFINITY){const t=r-1;if(t<=0)return;e.endOffsetSubtitles=Math.max(0,t),this.tracksBuffered.forEach(e=>{for(let n=0;n<e.length;)if(e[n].end<=t)e.shift();else{if(!(e[n].start<t))break;e[n].start=t,n++}}),this.fragmentTracker.removeFragmentsInRange(n,t,Ms)}}onFragBuffered(t,e){var n;this.loadedmetadata||e.frag.type!==Os||null!=(n=this.media)&&n.buffered.length&&(this.loadedmetadata=!0)}onError(t,e){const n=e.frag;(null==n?void 0:n.type)===Ms&&(this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==pc&&(this.state=gc))}onSubtitleTracksUpdated(t,{subtitleTracks:e}){this.levels&&Il(this.levels,e)?this.levels=e.map(t=>new ia(t)):(this.tracksBuffered=[],this.levels=e.map(t=>{const e=new ia(t);return this.tracksBuffered[e.id]=[],e}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Ms),this.fragPrevious=null,this.mediaBuffer=null)}onSubtitleTrackSwitch(t,e){var n;if(this.currentTrackId=e.id,null==(n=this.levels)||!n.length||-1===this.currentTrackId)return void this.clearInterval();const r=this.levels[this.currentTrackId];null!=r&&r.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,r&&this.setInterval(500)}onSubtitleTrackLoaded(t,e){var n;const{currentTrackId:r,levels:i}=this,{details:o,id:s}=e;if(!i)return void this.warn("Subtitle tracks were reset while loading level "+s);const a=i[r];if(s>=i.length||s!==r||!a)return;this.log(`Subtitle track ${s} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""},duration:${o.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let c=0;if(o.live||null!=(n=a.details)&&n.live){const t=this.mainDetails;if(o.deltaUpdateFailed||!t)return;const e=t.fragments[0];var l;if(a.details)c=this.alignPlaylists(o,a.details,null==(l=this.levelLastLoaded)?void 0:l.details),0===c&&e&&(c=e.start,ua(o,c));else o.hasProgramDateTime&&t.hasProgramDateTime?(rc(o,t),c=o.fragments[0].start):e&&(c=e.start,ua(o,c))}if(a.details=o,this.levelLastLoaded=a,this.startFragRequested||!this.mainDetails&&o.live||this.setStartPosition(this.mainDetails||o,c),this.tick(),o.live&&!this.fragCurrent&&this.media&&this.state===gc){wa(null,o.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),a.details=void 0)}}_handleFragmentLoadComplete(t){const{frag:e,payload:n}=t,r=e.decryptdata,i=this.hls;if(!this.fragContextChanged(e)&&n&&n.byteLength>0&&null!=r&&r.key&&r.iv&&"AES-128"===r.method){const t=performance.now();this.decrypter.decrypt(new Uint8Array(n),r.key.buffer,r.iv.buffer).catch(t=>{throw i.trigger(Ai.ERROR,{type:Ti.MEDIA_ERROR,details:xi.FRAG_DECRYPT_ERROR,fatal:!1,error:t,reason:t.message,frag:e}),t}).then(n=>{const r=performance.now();i.trigger(Ai.FRAG_DECRYPTED,{frag:e,payload:n,stats:{tstart:t,tdecrypt:r}})}).catch(t=>{this.warn(`${t.name}: ${t.message}`),this.state=gc})}}doTick(){if(this.media){if(this.state===gc){const{currentTrackId:t,levels:e}=this,n=null==e?void 0:e[t];if(!n||!e.length||!n.details)return;const{config:r}=this,i=this.getLoadPosition(),o=Qa.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],i,r.maxBufferHole),{end:s,len:a}=o,c=this.getFwdBufferInfo(this.media,Os),l=n.details;if(a>this.getMaxBufferLength(null==c?void 0:c.len)+l.levelTargetDuration)return;const u=l.fragments,d=u.length,h=l.edge;let f=null;const p=this.fragPrevious;if(s<h){const t=r.maxFragLookUpTolerance,e=s>h-t?0:t;f=wa(p,u,Math.max(u[0].start,s),e),!f&&p&&p.start<u[0].start&&(f=u[0])}else f=u[d-1];if(!f)return;if(f=this.mapToInitFragWhenRequired(f),"initSegment"!==f.sn){const t=u[f.sn-l.startSN-1];t&&t.cc===f.cc&&this.fragmentTracker.getState(t)===Ha&&(f=t)}this.fragmentTracker.getState(f)===Ha&&this.loadFragment(f,n,s)}}else this.state=gc}getMaxBufferLength(t){const e=super.getMaxBufferLength();return t?Math.max(e,t):e}loadFragment(t,e,n){this.fragCurrent=t,"initSegment"===t.sn?this._loadInitSegment(t,e):(this.startFragRequested=!0,super.loadFragment(t,e,n))}get mediaBufferTimeRanges(){return new Ml(this.tracksBuffered[this.currentTrackId]||[])}},subtitleTrackController:class extends La{constructor(t){super(t,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let t=null;const e=Gs(this.media.textTracks);for(let n=0;n<e.length;n++)if("hidden"===e[n].mode)t=e[n];else if("showing"===e[n].mode){t=e[n];break}const n=this.findTrackForTextTrack(t);this.subtitleTrack!==n&&this.setSubtitleTrack(n)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(t){this._subtitleDisplay=t,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:t}=this;t.on(Ai.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(Ai.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(Ai.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Ai.MANIFEST_PARSED,this.onManifestParsed,this),t.on(Ai.LEVEL_LOADING,this.onLevelLoading,this),t.on(Ai.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(Ai.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(Ai.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t.off(Ai.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(Ai.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(Ai.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Ai.MANIFEST_PARSED,this.onManifestParsed,this),t.off(Ai.LEVEL_LOADING,this.onLevelLoading,this),t.off(Ai.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(Ai.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(Ai.ERROR,this.onError,this)}onMediaAttached(t,e){this.media=e.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(t){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,t)}onMediaDetaching(){if(!this.media)return;self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId);Gs(this.media.textTracks).forEach(t=>{$s(t)}),this.subtitleTrack=-1,this.media=null}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(t,e){this.tracks=e.subtitleTracks}onSubtitleTrackLoaded(t,e){const{id:n,groupId:r,details:i}=e,o=this.tracksInGroup[n];if(!o||o.groupId!==r)return void this.warn(`Subtitle track with id:${n} and group:${r} not found in active group ${null==o?void 0:o.groupId}`);const s=o.details;o.details=e.details,this.log(`Subtitle track ${n} "${o.name}" lang:${o.lang} group:${r} loaded [${i.startSN}-${i.endSN}]`),n===this.trackId&&this.playlistLoaded(n,e,s)}onLevelLoading(t,e){this.switchLevel(e.level)}onLevelSwitching(t,e){this.switchLevel(e.level)}switchLevel(t){const e=this.hls.levels[t];if(!e)return;const n=e.subtitleGroups||null,r=this.groupIds;let i=this.currentTrack;if(!n||(null==r?void 0:r.length)!==(null==n?void 0:n.length)||null!=n&&n.some(t=>-1===(null==r?void 0:r.indexOf(t)))){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const t=this.tracks.filter(t=>!n||-1!==n.indexOf(t.groupId));if(t.length)this.selectDefaultTrack&&!t.some(t=>t.default)&&(this.selectDefaultTrack=!1),t.forEach((t,e)=>{t.id=e});else if(!i&&!this.tracksInGroup.length)return;this.tracksInGroup=t;const e=this.hls.config.subtitlePreference;if(!i&&e){this.selectDefaultTrack=!1;const n=Ua(e,t);if(n>-1)i=t[n];else{const t=Ua(e,this.tracks);i=this.tracks[t]}}let r=this.findTrackId(i);-1===r&&i&&(r=this.findTrackId(null));const o={subtitleTracks:t};this.log(`Updating subtitle tracks, ${t.length} track(s) found in "${null==n?void 0:n.join(",")}" group-id`),this.hls.trigger(Ai.SUBTITLE_TRACKS_UPDATED,o),-1!==r&&-1===this.trackId&&this.setSubtitleTrack(r)}else this.shouldReloadPlaylist(i)&&this.setSubtitleTrack(this.trackId)}findTrackId(t){const e=this.tracksInGroup,n=this.selectDefaultTrack;for(let r=0;r<e.length;r++){const i=e[r];if((!n||i.default)&&(n||t)&&(!t||$a(i,t)))return r}if(t){for(let n=0;n<e.length;n++){const r=e[n];if(Ol(t.attrs,r.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return n}for(let n=0;n<e.length;n++){const r=e[n];if(Ol(t.attrs,r.attrs,["LANGUAGE"]))return n}}return-1}findTrackForTextTrack(t){if(t){const e=this.tracksInGroup;for(let n=0;n<e.length;n++){if(Dl(e[n],t))return n}}return-1}onError(t,e){!e.fatal&&e.context&&(e.context.type!==Is||e.context.id!==this.trackId||this.groupIds&&-1===this.groupIds.indexOf(e.context.groupId)||this.checkRetry(e))}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(t){this.selectDefaultTrack=!1,this.setSubtitleTrack(t)}setSubtitleOption(t){if(this.hls.config.subtitlePreference=t,t){const e=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,e.length){const n=this.currentTrack;if(n&&$a(t,n))return n;const r=Ua(t,this.tracksInGroup);if(r>-1){const t=this.tracksInGroup[r];return this.setSubtitleTrack(r),t}if(n)return null;{const n=Ua(t,e);if(n>-1)return e[n]}}}return null}loadPlaylist(t){super.loadPlaylist();const e=this.currentTrack;if(this.shouldLoadPlaylist(e)&&e){const n=e.id,r=e.groupId;let i=e.url;if(t)try{i=t.addDirectives(i)}catch(t){this.warn("Could not construct new URL with HLS Delivery Directives: "+t)}this.log("Loading subtitle playlist for id "+n),this.hls.trigger(Ai.SUBTITLE_TRACK_LOADING,{url:i,id:n,groupId:r,deliveryDirectives:t||null})}}toggleTrackModes(){const{media:t}=this;if(!t)return;const e=Gs(t.textTracks),n=this.currentTrack;let r;if(n&&(r=e.filter(t=>Dl(n,t))[0],r||this.warn(`Unable to find subtitle TextTrack with name "${n.name}" and language "${n.lang}"`)),[].slice.call(e).forEach(t=>{"disabled"!==t.mode&&t!==r&&(t.mode="disabled")}),r){const t=this.subtitleDisplay?"showing":"hidden";r.mode!==t&&(r.mode=t)}}setSubtitleTrack(t){const e=this.tracksInGroup;if(!this.media)return void(this.queuedDefaultTrack=t);if(t<-1||t>=e.length||!_i(t))return void this.warn("Invalid subtitle track id: "+t);this.clearTimer(),this.selectDefaultTrack=!1;const n=this.currentTrack,r=e[t]||null;if(this.trackId=t,this.currentTrack=r,this.toggleTrackModes(),!r)return void this.hls.trigger(Ai.SUBTITLE_TRACK_SWITCH,{id:t});const i=!!r.details&&!r.details.live;if(t===this.trackId&&r===n&&i)return;this.log("Switching to subtitle-track "+t+(r?` "${r.name}" lang:${r.lang} group:${r.groupId}`:""));const{id:o,groupId:s="",name:a,type:c,url:l}=r;this.hls.trigger(Ai.SUBTITLE_TRACK_SWITCH,{id:o,groupId:s,name:a,type:c,url:l});const u=this.switchParams(r.url,null==n?void 0:n.details);this.loadPlaylist(u)}},timelineController:class{constructor(t){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=t,this.config=t.config,this.Cues=t.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},t.on(Ai.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(Ai.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(Ai.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Ai.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(Ai.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(Ai.FRAG_LOADING,this.onFragLoading,this),t.on(Ai.FRAG_LOADED,this.onFragLoaded,this),t.on(Ai.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.on(Ai.FRAG_DECRYPTED,this.onFragDecrypted,this),t.on(Ai.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(Ai.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.on(Ai.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:t}=this;t.off(Ai.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(Ai.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(Ai.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Ai.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(Ai.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(Ai.FRAG_LOADING,this.onFragLoading,this),t.off(Ai.FRAG_LOADED,this.onFragLoaded,this),t.off(Ai.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.off(Ai.FRAG_DECRYPTED,this.onFragDecrypted,this),t.off(Ai.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(Ai.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.off(Ai.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){if(this.config.enableCEA708Captions&&(!this.cea608Parser1||!this.cea608Parser2)){const t=new eu(this,"textTrack1"),e=new eu(this,"textTrack2"),n=new eu(this,"textTrack3"),r=new eu(this,"textTrack4");this.cea608Parser1=new Jl(1,t,e),this.cea608Parser2=new Jl(3,n,r)}}addCues(t,e,n,r,i){let o=!1;for(let t=i.length;t--;){const r=i[t],u=(s=r[0],a=r[1],c=e,l=n,Math.min(a,l)-Math.max(s,c));if(u>=0&&(r[0]=Math.min(r[0],e),r[1]=Math.max(r[1],n),o=!0,u/(n-e)>.5))return}var s,a,c,l;if(o||i.push([e,n]),this.config.renderTextTracksNatively){const i=this.captionsTracks[t];this.Cues.newCue(i,e,n,r)}else{const i=this.Cues.newCue(null,e,n,r);this.hls.trigger(Ai.CUES_PARSED,{type:"captions",cues:i,track:t})}}onInitPtsFound(t,{frag:e,id:n,initPTS:r,timescale:i}){const{unparsedVttFrags:o}=this;"main"===n&&(this.initPTS[e.cc]={baseTime:r,timescale:i}),o.length&&(this.unparsedVttFrags=[],o.forEach(t=>{this.onFragLoaded(Ai.FRAG_LOADED,t)}))}getExistingTrack(t,e){const{media:n}=this;if(n)for(let r=0;r<n.textTracks.length;r++){const i=n.textTracks[r];if(ku(i,{name:t,lang:e,attrs:{}}))return i}return null}createCaptionsTrack(t){this.config.renderTextTracksNatively?this.createNativeTrack(t):this.createNonNativeTrack(t)}createNativeTrack(t){if(this.captionsTracks[t])return;const{captionsProperties:e,captionsTracks:n,media:r}=this,{label:i,languageCode:o}=e[t],s=this.getExistingTrack(i,o);if(s)n[t]=s,$s(n[t]),Bs(n[t],r);else{const e=this.createTextTrack("captions",i,o);e&&(e[t]=!0,n[t]=e)}}createNonNativeTrack(t){if(this.nonNativeCaptionsTracks[t])return;const e=this.captionsProperties[t];if(!e)return;const n={_id:t,label:e.label,kind:"captions",default:!!e.media&&!!e.media.default,closedCaptions:e.media};this.nonNativeCaptionsTracks[t]=n,this.hls.trigger(Ai.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[n]})}createTextTrack(t,e,n){const r=this.media;if(r)return r.addTextTrack(t,e,n)}onMediaAttaching(t,e){this.media=e.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:t}=this;Object.keys(t).forEach(e=>{$s(t[e]),delete t[e]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:t}=this;if(!t)return;const e=t.textTracks;if(e)for(let t=0;t<e.length;t++)$s(e[t])}onSubtitleTracksUpdated(t,e){const n=e.subtitleTracks||[],r=n.some(t=>"stpp.ttml.im1t"===t.textCodec);if(this.config.enableWebVTT||r&&this.config.enableIMSC1){if(Il(this.tracks,n))return void(this.tracks=n);if(this.textTracks=[],this.tracks=n,this.config.renderTextTracksNatively){const t=this.media,e=t?Gs(t.textTracks):null;if(this.tracks.forEach((t,n)=>{let r;if(e){let n=null;for(let r=0;r<e.length;r++)if(e[r]&&ku(e[r],t)){n=e[r],e[r]=null;break}n&&(r=n)}if(r)$s(r);else{const e=xu(t);r=this.createTextTrack(e,t.name,t.lang),r&&(r.mode="disabled")}r&&this.textTracks.push(r)}),null!=e&&e.length){const t=e.filter(t=>null!==t).map(t=>t.label);t.length&&Ii.warn(`Media element contains unused subtitle tracks: ${t.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const t=this.tracks.map(t=>({label:t.name,kind:t.type.toLowerCase(),default:t.default,subtitleTrack:t}));this.hls.trigger(Ai.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:t})}}}onManifestLoaded(t,e){this.config.enableCEA708Captions&&e.captions&&e.captions.forEach(t=>{const e=/(?:CC|SERVICE)([1-4])/.exec(t.instreamId);if(!e)return;const n="textTrack"+e[1],r=this.captionsProperties[n];r&&(r.label=t.name,t.lang&&(r.languageCode=t.lang),r.media=t)})}closedCaptionsForLevel(t){const e=this.hls.levels[t.level];return null==e?void 0:e.attrs["CLOSED-CAPTIONS"]}onFragLoading(t,e){this.initCea608Parsers();const{cea608Parser1:n,cea608Parser2:r,lastCc:i,lastSn:o,lastPartIndex:s}=this;if(this.enabled&&n&&r&&e.frag.type===Os){var a,c;const{cc:t,sn:l}=e.frag,u=null!=(a=null==e||null==(c=e.part)?void 0:c.index)?a:-1;l===o+1||l===o&&u===s+1||t===i||(n.reset(),r.reset()),this.lastCc=t,this.lastSn=l,this.lastPartIndex=u}}onFragLoaded(t,e){const{frag:n,payload:r}=e;if(n.type===Ms)if(r.byteLength){const t=n.decryptdata,i="stats"in e;if(null==t||!t.encrypted||i){const t=this.tracks[n.level],i=this.vttCCs;i[n.cc]||(i[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),t&&"stpp.ttml.im1t"===t.textCodec?this._parseIMSC1(n,r):this._parseVTTs(e)}}else this.hls.trigger(Ai.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})}_parseIMSC1(t,e){const n=this.hls;wu(e,this.initPTS[t.cc],e=>{this._appendCues(e,t.level),n.trigger(Ai.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})},e=>{Ii.log("Failed to parse IMSC1: "+e),n.trigger(Ai.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t,error:e})})}_parseVTTs(t){var e;const{frag:n,payload:r}=t,{initPTS:i,unparsedVttFrags:o}=this,s=i.length-1;if(!i[n.cc]&&-1===s)return void o.push(t);const a=this.hls;mu(null!=(e=n.initSegment)&&e.data?Ko(n.initSegment.data,new Uint8Array(r)):r,this.initPTS[n.cc],this.vttCCs,n.cc,n.start,t=>{this._appendCues(t,n.level),a.trigger(Ai.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})},e=>{const i="Missing initPTS for VTT MPEGTS"===e.message;i?o.push(t):this._fallbackToIMSC1(n,r),Ii.log("Failed to parse VTT cue: "+e),i&&s>n.cc||a.trigger(Ai.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:e})})}_fallbackToIMSC1(t,e){const n=this.tracks[t.level];n.textCodec||wu(e,this.initPTS[t.cc],()=>{n.textCodec="stpp.ttml.im1t",this._parseIMSC1(t,e)},()=>{n.textCodec="wvtt"})}_appendCues(t,e){const n=this.hls;if(this.config.renderTextTracksNatively){const n=this.textTracks[e];if(!n||"disabled"===n.mode)return;t.forEach(t=>Us(n,t))}else{const r=this.tracks[e];if(!r)return;const i=r.default?"default":"subtitles"+e;n.trigger(Ai.CUES_PARSED,{type:"subtitles",cues:t,track:i})}}onFragDecrypted(t,e){const{frag:n}=e;n.type===Ms&&this.onFragLoaded(Ai.FRAG_LOADED,e)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(t,e){this.initCea608Parsers();const{cea608Parser1:n,cea608Parser2:r}=this;if(!this.enabled||!n||!r)return;const{frag:i,samples:o}=e;if(i.type!==Os||"NONE"!==this.closedCaptionsForLevel(i))for(let t=0;t<o.length;t++){const e=o[t].bytes;if(e){const i=this.extractCea608Data(e);n.addData(o[t].pts,i[0]),r.addData(o[t].pts,i[1])}}}onBufferFlushing(t,{startOffset:e,endOffset:n,endOffsetSubtitles:r,type:i}){const{media:o}=this;if(o&&!(o.currentTime<n)){if(!i||"video"===i){const{captionsTracks:t}=this;Object.keys(t).forEach(r=>js(t[r],e,n))}if(this.config.renderTextTracksNatively&&0===e&&void 0!==r){const{textTracks:t}=this;Object.keys(t).forEach(n=>js(t[n],e,r))}}}extractCea608Data(t){const e=[[],[]],n=31&t[0];let r=2;for(let i=0;i<n;i++){const n=t[r++],i=127&t[r++],o=127&t[r++];if(0===i&&0===o)continue;if(0!=(4&n)){const t=3&n;0!==t&&1!==t||(e[t].push(i),e[t].push(o))}}return e}},audioStreamController:class extends xc{constructor(t,e,n){super(t,e,n,"[audio-stream-controller]",Ds),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:t}=this;t.on(Ai.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(Ai.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(Ai.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Ai.LEVEL_LOADED,this.onLevelLoaded,this),t.on(Ai.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.on(Ai.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(Ai.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(Ai.ERROR,this.onError,this),t.on(Ai.BUFFER_RESET,this.onBufferReset,this),t.on(Ai.BUFFER_CREATED,this.onBufferCreated,this),t.on(Ai.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(Ai.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(Ai.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(Ai.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:t}=this;t.off(Ai.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(Ai.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(Ai.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Ai.LEVEL_LOADED,this.onLevelLoaded,this),t.off(Ai.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.off(Ai.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(Ai.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(Ai.ERROR,this.onError,this),t.off(Ai.BUFFER_RESET,this.onBufferReset,this),t.off(Ai.BUFFER_CREATED,this.onBufferCreated,this),t.off(Ai.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(Ai.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(Ai.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(Ai.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(t,{frag:e,id:n,initPTS:r,timescale:i}){if("main"===n){const t=e.cc;this.initPTS[e.cc]={baseTime:r,timescale:i},this.log(`InitPTS for cc: ${t} found from main: ${r}`),this.videoTrackCC=t,this.state===Ac&&this.tick()}}startLoad(t){if(!this.levels)return this.startPosition=t,void(this.state=pc);const e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),e>0&&-1===t?(this.log("Override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e,this.state=gc):(this.loadedmetadata=!1,this.state=bc),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}doTick(){switch(this.state){case gc:this.doTickIdle();break;case bc:{var t;const{levels:e,trackId:n}=this,r=null==e||null==(t=e[n])?void 0:t.details;if(r){if(this.waitForCdnTuneIn(r))break;this.state=Ac}break}case yc:{var e;const t=performance.now(),n=this.retryDate;if(!n||t>=n||null!=(e=this.media)&&e.seeking){const{levels:t,trackId:e}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((null==t?void 0:t[e])||null),this.state=gc}break}case Ac:{const t=this.waitingData;if(t){const{frag:e,part:n,cache:r,complete:i}=t;if(void 0!==this.initPTS[e.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=vc;const t={frag:e,part:n,payload:r.flush(),networkDetails:null};this._handleFragmentLoadProgress(t),i&&super._handleFragmentLoadComplete(t)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${e.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const t=this.getLoadPosition(),n=Qa.bufferInfo(this.mediaBuffer,t,this.config.maxBufferHole);_a(n.end,this.config.maxFragLookUpTolerance,e)<0&&(this.log(`Waiting fragment cc (${e.cc}) @ ${e.start} cancelled because another fragment at ${n.end} is needed`),this.clearWaitingFragment())}}else this.state=gc}}this.onTickEnd()}clearWaitingFragment(){const t=this.waitingData;t&&(this.fragmentTracker.removeFragment(t.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=gc)}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:t}=this;null!=t&&t.readyState&&(this.lastCurrentTime=t.currentTime)}doTickIdle(){const{hls:t,levels:e,media:n,trackId:r}=this,i=t.config;if(!n&&(this.startFragRequested||!i.startFragPrefetch)||null==e||!e[r])return;const o=e[r],s=o.details;if(!s||s.live&&this.levelLastLoaded!==o||this.waitForCdnTuneIn(s))return void(this.state=bc);const a=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&a&&(this.bufferFlushed=!1,this.afterBufferFlushed(a,Bi,Ds));const c=this.getFwdBufferInfo(a,Ds);if(null===c)return;const{bufferedTrack:l,switchingTrack:u}=this;if(!u&&this._streamEnded(c,s))return t.trigger(Ai.BUFFER_EOS,{type:"audio"}),void(this.state=Ec);const d=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,Os),h=c.len,f=this.getMaxBufferLength(null==d?void 0:d.len),p=s.fragments,g=p[0].start;let m=this.flushing?this.getLoadPosition():c.end;if(u&&n){const t=this.getLoadPosition();l&&!Ol(u.attrs,l.attrs)&&(m=t),s.PTSKnown&&t<g&&(c.end>g||c.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),n.currentTime=g+.05)}if(h>=f&&!u&&m<p[p.length-1].start)return;let v=this.getNextFragment(m,s),y=!1;if(v&&this.isLoopLoading(v,m)&&(y=!!v.gap,v=this.getNextFragmentLoopLoading(v,s,c,Os,f)),!v)return void(this.bufferFlushed=!0);const b=d&&v.start>d.end+s.targetduration;if(b||(null==d||!d.len)&&c.len){const t=this.getAppendedFrag(v.start,Os);if(null===t)return;if(y||(y=!!t.gap||!!b&&0===d.len),b&&!y||y&&c.nextStart&&c.nextStart<t.end)return}this.loadFragment(v,o,m)}getMaxBufferLength(t){const e=super.getMaxBufferLength();return t?Math.min(Math.max(e,t),this.config.maxMaxBufferLength):e}onMediaDetaching(){this.videoBuffer=null,this.bufferFlushed=this.flushing=!1,super.onMediaDetaching()}onAudioTracksUpdated(t,{audioTracks:e}){this.resetTransmuxer(),this.levels=e.map(t=>new ia(t))}onAudioTrackSwitching(t,e){const n=!!e.url;this.trackId=e.id;const{fragCurrent:r}=this;r&&(r.abortRequests(),this.removeUnbufferedFrags(r.start)),this.resetLoadingState(),n?this.setInterval(100):this.resetTransmuxer(),n?(this.switchingTrack=e,this.state=gc,this.flushAudioIfNeeded(e)):(this.switchingTrack=null,this.bufferedTrack=e,this.state=pc),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=this.flushing=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(t,e){this.mainDetails=e.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(Ai.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(t,e){var n;if(null==this.mainDetails)return void(this.cachedTrackLoadedData=e);const{levels:r}=this,{details:i,id:o}=e;if(!r)return void this.warn("Audio tracks were reset while loading level "+o);this.log(`Audio track ${o} loaded [${i.startSN},${i.endSN}]${i.lastPartSn?`[part-${i.lastPartSn}-${i.lastPartIndex}]`:""},duration:${i.totalduration}`);const s=r[o];let a=0;if(i.live||null!=(n=s.details)&&n.live){this.checkLiveUpdate(i);const t=this.mainDetails;if(i.deltaUpdateFailed||!t)return;var c;if(!s.details&&i.hasProgramDateTime&&t.hasProgramDateTime)rc(i,t),a=i.fragments[0].start;else a=this.alignPlaylists(i,s.details,null==(c=this.levelLastLoaded)?void 0:c.details)}s.details=i,this.levelLastLoaded=s,this.startFragRequested||!this.mainDetails&&i.live||this.setStartPosition(this.mainDetails||i,a),this.state!==bc||this.waitForCdnTuneIn(i)||(this.state=gc),this.tick()}_handleFragmentLoadProgress(t){var e;const{frag:n,part:r,payload:i}=t,{config:o,trackId:s,levels:a}=this;if(!a)return void this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);const c=a[s];if(!c)return void this.warn("Audio track is undefined on fragment load progress");const l=c.details;if(!l)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(n.start);const u=o.defaultAudioCodec||c.audioCodec||"mp4a.40.2";let d=this.transmuxer;d||(d=this.transmuxer=new Ll(this.hls,Ds,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const h=this.initPTS[n.cc],f=null==(e=n.initSegment)?void 0:e.data;if(void 0!==h){const t=!1,e=r?r.index:-1,o=-1!==e,s=new Ja(n.level,n.sn,n.stats.chunkCount,i.byteLength,e,o);d.push(i,f,u,"",n,r,l.totalduration,t,s,h)}else{this.log(`Unknown video PTS for cc ${n.cc}, waiting for video PTS before demuxing audio frag ${n.sn} of [${l.startSN} ,${l.endSN}],track ${s}`);const{cache:t}=this.waitingData=this.waitingData||{frag:n,part:r,cache:new kc,complete:!1};t.push(new Uint8Array(i)),this.waitingVideoCC=this.videoTrackCC,this.state=Ac}}_handleFragmentLoadComplete(t){this.waitingData?this.waitingData.complete=!0:super._handleFragmentLoadComplete(t)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(t,e){const n=e.tracks.audio;n&&(this.mediaBuffer=n.buffer||null),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer||null)}onFragBuffered(t,e){const{frag:n,part:r}=e;if(n.type===Ds)if(this.fragContextChanged(n))this.warn(`Fragment ${n.sn}${r?" p: "+r.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);else{if("initSegment"!==n.sn){this.fragPrevious=n;const t=this.switchingTrack;t&&(this.bufferedTrack=t,this.switchingTrack=null,this.hls.trigger(Ai.AUDIO_TRACK_SWITCHED,vi({},t)))}this.fragBufferedComplete(n,r)}else if(!this.loadedmetadata&&n.type===Os){const t=this.videoBuffer||this.media;if(t){Qa.getBuffered(t).length&&(this.loadedmetadata=!0)}}}onError(t,e){var n;if(e.fatal)this.state=Sc;else switch(e.details){case xi.FRAG_GAP:case xi.FRAG_PARSING_ERROR:case xi.FRAG_DECRYPT_ERROR:case xi.FRAG_LOAD_ERROR:case xi.FRAG_LOAD_TIMEOUT:case xi.KEY_LOAD_ERROR:case xi.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Ds,e);break;case xi.AUDIO_TRACK_LOAD_ERROR:case xi.AUDIO_TRACK_LOAD_TIMEOUT:case xi.LEVEL_PARSING_ERROR:e.levelRetry||this.state!==bc||(null==(n=e.context)?void 0:n.type)!==Ls||(this.state=gc);break;case xi.BUFFER_APPEND_ERROR:case xi.BUFFER_FULL_ERROR:if(!e.parent||"audio"!==e.parent)return;if(e.details===xi.BUFFER_APPEND_ERROR)return void this.resetLoadingState();this.reduceLengthAndFlushBuffer(e)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case xi.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}onBufferFlushing(t,{type:e}){e!==Ui&&(this.flushing=!0)}onBufferFlushed(t,{type:e}){if(e!==Ui){this.flushing=!1,this.bufferFlushed=!0,this.state===Ec&&(this.state=gc);const t=this.mediaBuffer||this.media;t&&(this.afterBufferFlushed(t,e,Ds),this.tick())}}_handleTransmuxComplete(t){var e;const n="audio",{hls:r}=this,{remuxResult:i,chunkMeta:o}=t,s=this.getCurrentContext(o);if(!s)return void this.resetWhenMissingContext(o);const{frag:a,part:c,level:l}=s,{details:u}=l,{audio:d,text:h,id3:f,initSegment:p}=i;if(!this.fragContextChanged(a)&&u){if(this.state=wc,this.switchingTrack&&d&&this.completeAudioSwitch(this.switchingTrack),null!=p&&p.tracks){const t=a.initSegment||a;this._bufferInitSegment(l,p.tracks,t,o),r.trigger(Ai.FRAG_PARSING_INIT_SEGMENT,{frag:t,id:n,tracks:p.tracks})}if(d){const{startPTS:t,endPTS:e,startDTS:n,endDTS:r}=d;c&&(c.elementaryStreams[Bi]={startPTS:t,endPTS:e,startDTS:n,endDTS:r}),a.setElementaryStreamInfo(Bi,t,e,n,r),this.bufferFragmentData(d,a,c,o)}if(null!=f&&null!=(e=f.samples)&&e.length){const t=wi({id:n,frag:a,details:u},f);r.trigger(Ai.FRAG_PARSING_METADATA,t)}if(h){const t=wi({id:n,frag:a,details:u},h);r.trigger(Ai.FRAG_PARSING_USERDATA,t)}}else this.fragmentTracker.removeFragment(a)}_bufferInitSegment(t,e,n,r){if(this.state!==wc)return;e.video&&delete e.video;const i=e.audio;if(!i)return;i.id="audio";const o=t.audioCodec;this.log(`Init audio buffer, container:${i.container}, codecs[level/parsed]=[${o}/${i.codec}]`),o&&1===o.split(",").length&&(i.levelCodec=o),this.hls.trigger(Ai.BUFFER_CODECS,e);const s=i.initSegment;if(null!=s&&s.byteLength){const t={type:"audio",frag:n,part:null,chunkMeta:r,parent:n.type,data:s};this.hls.trigger(Ai.BUFFER_APPENDING,t)}this.tickImmediate()}loadFragment(t,e,n){const r=this.fragmentTracker.getState(t);var i;if(this.fragCurrent=t,this.switchingTrack||r===Ha||r===Va)if("initSegment"===t.sn)this._loadInitSegment(t,e);else if(null!=(i=e.details)&&i.live&&!this.initPTS[t.cc]){this.log(`Waiting for video PTS in continuity counter ${t.cc} of live stream before loading audio fragment ${t.sn} of level ${this.trackId}`),this.state=Ac;const n=this.mainDetails;n&&n.fragments[0].start!==e.details.fragments[0].start&&rc(e.details,n)}else this.startFragRequested=!0,super.loadFragment(t,e,n);else this.clearTrackerIfNeeded(t)}flushAudioIfNeeded(t){const{media:e,bufferedTrack:n}=this,r=null==n?void 0:n.attrs,i=t.attrs;e&&r&&(r.CHANNELS!==i.CHANNELS||n.name!==t.name||n.lang!==t.lang)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null)}completeAudioSwitch(t){const{hls:e}=this;this.flushAudioIfNeeded(t),this.bufferedTrack=t,this.switchingTrack=null,e.trigger(Ai.AUDIO_TRACK_SWITCHED,vi({},t))}},audioTrackController:class extends La{constructor(t){super(t,"[audio-track-controller]"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:t}=this;t.on(Ai.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Ai.MANIFEST_PARSED,this.onManifestParsed,this),t.on(Ai.LEVEL_LOADING,this.onLevelLoading,this),t.on(Ai.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(Ai.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(Ai.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t.off(Ai.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Ai.MANIFEST_PARSED,this.onManifestParsed,this),t.off(Ai.LEVEL_LOADING,this.onLevelLoading,this),t.off(Ai.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(Ai.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(Ai.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(t,e){this.tracks=e.audioTracks||[]}onAudioTrackLoaded(t,e){const{id:n,groupId:r,details:i}=e,o=this.tracksInGroup[n];if(!o||o.groupId!==r)return void this.warn(`Audio track with id:${n} and group:${r} not found in active group ${null==o?void 0:o.groupId}`);const s=o.details;o.details=e.details,this.log(`Audio track ${n} "${o.name}" lang:${o.lang} group:${r} loaded [${i.startSN}-${i.endSN}]`),n===this.trackId&&this.playlistLoaded(n,e,s)}onLevelLoading(t,e){this.switchLevel(e.level)}onLevelSwitching(t,e){this.switchLevel(e.level)}switchLevel(t){const e=this.hls.levels[t];if(!e)return;const n=e.audioGroups||null,r=this.groupIds;let i=this.currentTrack;if(!n||(null==r?void 0:r.length)!==(null==n?void 0:n.length)||null!=n&&n.some(t=>-1===(null==r?void 0:r.indexOf(t)))){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const t=this.tracks.filter(t=>!n||-1!==n.indexOf(t.groupId));if(t.length)this.selectDefaultTrack&&!t.some(t=>t.default)&&(this.selectDefaultTrack=!1),t.forEach((t,e)=>{t.id=e});else if(!i&&!this.tracksInGroup.length)return;this.tracksInGroup=t;const e=this.hls.config.audioPreference;if(!i&&e){const n=Ua(e,t,ja);if(n>-1)i=t[n];else{const t=Ua(e,this.tracks);i=this.tracks[t]}}let r=this.findTrackId(i);-1===r&&i&&(r=this.findTrackId(null));const s={audioTracks:t};this.log(`Updating audio tracks, ${t.length} track(s) found in group(s): ${null==n?void 0:n.join(",")}`),this.hls.trigger(Ai.AUDIO_TRACKS_UPDATED,s);const a=this.trackId;if(-1!==r&&-1===a)this.setAudioTrack(r);else if(t.length&&-1===a){var o;const e=new Error(`No audio track selected for current audio group-ID(s): ${null==(o=this.groupIds)?void 0:o.join(",")} track count: ${t.length}`);this.warn(e.message),this.hls.trigger(Ai.ERROR,{type:Ti.MEDIA_ERROR,details:xi.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:e})}}else this.shouldReloadPlaylist(i)&&this.setAudioTrack(this.trackId)}onError(t,e){!e.fatal&&e.context&&(e.context.type!==Ls||e.context.id!==this.trackId||this.groupIds&&-1===this.groupIds.indexOf(e.context.groupId)||(this.requestScheduled=-1,this.checkRetry(e)))}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(t){this.selectDefaultTrack=!1,this.setAudioTrack(t)}setAudioOption(t){const e=this.hls;if(e.config.audioPreference=t,t){const n=this.allAudioTracks;if(this.selectDefaultTrack=!1,n.length){const r=this.currentTrack;if(r&&$a(t,r,ja))return r;const i=Ua(t,this.tracksInGroup,ja);if(i>-1){const t=this.tracksInGroup[i];return this.setAudioTrack(i),t}if(r){let r=e.loadLevel;-1===r&&(r=e.firstAutoLevel);const i=function(t,e,n,r,i){const o=e[r],s=e.reduce((t,e,n)=>{const r=e.uri;return(t[r]||(t[r]=[])).push(n),t},{})[o.uri];s.length>1&&(r=Math.max.apply(Math,s));const a=o.videoRange,c=o.frameRate,l=o.codecSet.substring(0,4),u=Ga(e,r,e=>{if(e.videoRange!==a||e.frameRate!==c||e.codecSet.substring(0,4)!==l)return!1;const r=e.audioGroups,o=n.filter(t=>!r||-1!==r.indexOf(t.groupId));return Ua(t,o,i)>-1});return u>-1?u:Ga(e,r,e=>{const r=e.audioGroups,o=n.filter(t=>!r||-1!==r.indexOf(t.groupId));return Ua(t,o,i)>-1})}(t,e.levels,n,r,ja);if(-1===i)return null;e.nextLoadLevel=i}if(t.channels||t.audioCodec){const e=Ua(t,n);if(e>-1)return n[e]}}}return null}setAudioTrack(t){const e=this.tracksInGroup;if(t<0||t>=e.length)return void this.warn("Invalid audio track id: "+t);this.clearTimer(),this.selectDefaultTrack=!1;const n=this.currentTrack,r=e[t],i=r.details&&!r.details.live;if(t===this.trackId&&r===n&&i)return;if(this.log(`Switching to audio-track ${t} "${r.name}" lang:${r.lang} group:${r.groupId} channels:${r.channels}`),this.trackId=t,this.currentTrack=r,this.hls.trigger(Ai.AUDIO_TRACK_SWITCHING,vi({},r)),i)return;const o=this.switchParams(r.url,null==n?void 0:n.details);this.loadPlaylist(o)}findTrackId(t){const e=this.tracksInGroup;for(let n=0;n<e.length;n++){const r=e[n];if((!this.selectDefaultTrack||r.default)&&(!t||$a(t,r,ja)))return n}if(t){const{name:n,lang:r,assocLang:i,characteristics:o,audioCodec:s,channels:a}=t;for(let t=0;t<e.length;t++){if($a({name:n,lang:r,assocLang:i,characteristics:o,audioCodec:s,channels:a},e[t],ja))return t}for(let n=0;n<e.length;n++){const r=e[n];if(Ol(t.attrs,r.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return n}for(let n=0;n<e.length;n++){const r=e[n];if(Ol(t.attrs,r.attrs,["LANGUAGE"]))return n}}return-1}loadPlaylist(t){const e=this.currentTrack;if(this.shouldLoadPlaylist(e)&&e){super.loadPlaylist();const n=e.id,r=e.groupId;let i=e.url;if(t)try{i=t.addDirectives(i)}catch(t){this.warn("Could not construct new URL with HLS Delivery Directives: "+t)}this.log(`loading audio-track playlist ${n} "${e.name}" lang:${e.lang} group:${r}`),this.clearTimer(),this.hls.trigger(Ai.AUDIO_TRACK_LOADING,{url:i,id:n,groupId:r,deliveryDirectives:t||null})}}},emeController:Ru,cmcdController:class{constructor(t){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=t=>{try{this.apply(t,{ot:Iu.MANIFEST,su:!this.initialized})}catch(t){Ii.warn("Could not generate manifest CMCD data.",t)}},this.applyFragmentData=t=>{try{const e=t.frag,n=this.hls.levels[e.level],r=this.getObjectType(e),i={d:1e3*e.duration,ot:r};r!==Iu.VIDEO&&r!==Iu.AUDIO&&r!=Iu.MUXED||(i.br=n.bitrate/1e3,i.tb=this.getTopBandwidth(r)/1e3,i.bl=this.getBufferLength(r)),this.apply(t,i)}catch(t){Ii.warn("Could not generate segment CMCD data.",t)}},this.hls=t;const e=this.config=t.config,{cmcd:n}=e;null!=n&&(e.pLoader=this.createPlaylistLoader(),e.fLoader=this.createFragmentLoader(),this.sid=n.sessionId||function(){try{return crypto.randomUUID()}catch(t){try{const t=URL.createObjectURL(new Blob),e=t.toString();return URL.revokeObjectURL(t),e.slice(e.lastIndexOf("/")+1)}catch(t){let e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)})}}}(),this.cid=n.contentId,this.useHeaders=!0===n.useHeaders,this.includeKeys=n.includeKeys,this.registerListeners())}registerListeners(){const t=this.hls;t.on(Ai.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(Ai.MEDIA_DETACHED,this.onMediaDetached,this),t.on(Ai.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const t=this.hls;t.off(Ai.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(Ai.MEDIA_DETACHED,this.onMediaDetached,this),t.off(Ai.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=null}onMediaAttached(t,e){this.media=e.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(t,e){var n,r;this.audioBuffer=null==(n=e.tracks.audio)?void 0:n.buffer,this.videoBuffer=null==(r=e.tracks.video)?void 0:r.buffer}createData(){var t;return{v:1,sf:Ou.HLS,sid:this.sid,cid:this.cid,pr:null==(t=this.media)?void 0:t.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(t,e={}){wi(e,this.createData());const n=e.ot===Iu.INIT||e.ot===Iu.VIDEO||e.ot===Iu.MUXED;this.starved&&n&&(e.bs=!0,e.su=!0,this.starved=!1),null==e.su&&(e.su=this.buffering);const{includeKeys:r}=this;r&&(e=Object.keys(e).reduce((t,n)=>(r.includes(n)&&(t[n]=e[n]),t),{})),this.useHeaders?(t.headers||(t.headers={}),td(t.headers,e)):t.url=nd(t.url,e)}getObjectType(t){const{type:e}=t;return"subtitle"===e?Iu.TIMED_TEXT:"initSegment"===t.sn?Iu.INIT:"audio"===e?Iu.AUDIO:"main"===e?this.hls.audioTracks.length?Iu.VIDEO:Iu.MUXED:void 0}getTopBandwidth(t){let e,n=0;const r=this.hls;if(t===Iu.AUDIO)e=r.audioTracks;else{const t=r.maxAutoLevel,n=t>-1?t+1:r.levels.length;e=r.levels.slice(0,n)}for(const t of e)t.bitrate>n&&(n=t.bitrate);return n>0?n:NaN}getBufferLength(t){const e=this.hls.media,n=t===Iu.AUDIO?this.audioBuffer:this.videoBuffer;if(!n||!e)return NaN;return 1e3*Qa.bufferInfo(n,e.currentTime,this.config.maxBufferHole).len}createPlaylistLoader(){const{pLoader:t}=this.config,e=this.applyPlaylistData,n=t||this.config.loader;return class{constructor(t){this.loader=void 0,this.loader=new n(t)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(t,n,r){e(t),this.loader.load(t,n,r)}}}createFragmentLoader(){const{fLoader:t}=this.config,e=this.applyFragmentData,n=t||this.config.loader;return class{constructor(t){this.loader=void 0,this.loader=new n(t)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(t,n,r){e(t),this.loader.load(t,n,r)}}}},contentSteeringController:class{constructor(t){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=t,this.log=Ii.log.bind(Ii,"[content-steering]:"),this.registerListeners()}registerListeners(){const t=this.hls;t.on(Ai.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Ai.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(Ai.MANIFEST_PARSED,this.onManifestParsed,this),t.on(Ai.ERROR,this.onError,this)}unregisterListeners(){const t=this.hls;t&&(t.off(Ai.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Ai.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(Ai.MANIFEST_PARSED,this.onManifestParsed,this),t.off(Ai.ERROR,this.onError,this))}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const t=1e3*this.timeToLoad-(performance.now()-this.updated);if(t>0)return void this.scheduleRefresh(this.uri,t)}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){-1!==this.reloadTimer&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(t){const e=this.levels;e&&(this.levels=e.filter(e=>e!==t))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(t,e){const{contentSteering:n}=e;null!==n&&(this.pathwayId=n.pathwayId,this.uri=n.uri,this.started&&this.startLoad())}onManifestParsed(t,e){this.audioTracks=e.audioTracks,this.subtitleTracks=e.subtitleTracks}onError(t,e){const{errorAction:n}=e;if((null==n?void 0:n.action)===Aa&&n.flags===Ca){const t=this.levels;let r=this.pathwayPriority,i=this.pathwayId;if(e.context){const{groupId:n,pathwayId:r,type:o}=e.context;n&&t?i=this.getPathwayForGroupId(n,o,i):r&&(i=r)}i in this.penalizedPathways||(this.penalizedPathways[i]=performance.now()),!r&&t&&(r=t.reduce((t,e)=>(-1===t.indexOf(e.pathwayId)&&t.push(e.pathwayId),t),[])),r&&r.length>1&&(this.updatePathwayPriority(r),n.resolved=this.pathwayId!==i),n.resolved||Ii.warn(`Could not resolve ${e.details} ("${e.error.message}") with content-steering for Pathway: ${i} levels: ${t?t.length:t} priorities: ${JSON.stringify(r)} penalized: ${JSON.stringify(this.penalizedPathways)}`)}}filterParsedLevels(t){this.levels=t;let e=this.getLevelsForPathway(this.pathwayId);if(0===e.length){const n=t[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${n}"`),e=this.getLevelsForPathway(n),this.pathwayId=n}return e.length!==t.length?(this.log(`Found ${e.length}/${t.length} levels in Pathway "${this.pathwayId}"`),e):t}getLevelsForPathway(t){return null===this.levels?[]:this.levels.filter(e=>t===e.pathwayId)}updatePathwayPriority(t){let e;this.pathwayPriority=t;const n=this.penalizedPathways,r=performance.now();Object.keys(n).forEach(t=>{r-n[t]>3e5&&delete n[t]});for(let r=0;r<t.length;r++){const i=t[r];if(i in n)continue;if(i===this.pathwayId)return;const o=this.hls.nextLoadLevel,s=this.hls.levels[o];if(e=this.getLevelsForPathway(i),e.length>0){this.log(`Setting Pathway to "${i}"`),this.pathwayId=i,fa(e),this.hls.trigger(Ai.LEVELS_UPDATED,{levels:e});const t=this.hls.levels[o];s&&t&&this.levels&&(t.attrs["STABLE-VARIANT-ID"]!==s.attrs["STABLE-VARIANT-ID"]&&t.bitrate!==s.bitrate&&this.log(`Unstable Pathways change from bitrate ${s.bitrate} to ${t.bitrate}`),this.hls.nextLoadLevel=o);break}}}getPathwayForGroupId(t,e,n){const r=this.getLevelsForPathway(n).concat(this.levels||[]);for(let n=0;n<r.length;n++)if(e===Ls&&r[n].hasAudioGroup(t)||e===Is&&r[n].hasSubtitleGroup(t))return r[n].pathwayId;return n}clonePathways(t){const e=this.levels;if(!e)return;const n={},r={};t.forEach(t=>{const{ID:i,"BASE-ID":o,"URI-REPLACEMENT":s}=t;if(e.some(t=>t.pathwayId===i))return;const a=this.getLevelsForPathway(o).map(t=>{const e=new Mi(t.attrs);e["PATHWAY-ID"]=i;const o=e.AUDIO&&`${e.AUDIO}_clone_${i}`,a=e.SUBTITLES&&`${e.SUBTITLES}_clone_${i}`;o&&(n[e.AUDIO]=o,e.AUDIO=o),a&&(r[e.SUBTITLES]=a,e.SUBTITLES=a);const c=id(t.uri,e["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",s),l=new ia({attrs:e,audioCodec:t.audioCodec,bitrate:t.bitrate,height:t.height,name:t.name,url:c,videoCodec:t.videoCodec,width:t.width});if(t.audioGroups)for(let e=1;e<t.audioGroups.length;e++)l.addGroupId("audio",`${t.audioGroups[e]}_clone_${i}`);if(t.subtitleGroups)for(let e=1;e<t.subtitleGroups.length;e++)l.addGroupId("text",`${t.subtitleGroups[e]}_clone_${i}`);return l});e.push(...a),rd(this.audioTracks,n,s,i),rd(this.subtitleTracks,r,s,i)})}loadSteeringManifest(t){const e=this.hls.config,n=e.loader;let r;this.loader&&this.loader.destroy(),this.loader=new n(e);try{r=new self.URL(t)}catch(e){return this.enabled=!1,void this.log("Failed to parse Steering Manifest URI: "+t)}if("data:"!==r.protocol){const t=0|(this.hls.bandwidthEstimate||e.abrEwmaDefaultEstimate);r.searchParams.set("_HLS_pathway",this.pathwayId),r.searchParams.set("_HLS_throughput",""+t)}const i={responseType:"json",url:r.href},o=e.steeringManifestLoadPolicy.default,s=o.errorRetry||o.timeoutRetry||{},a={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:s.maxNumRetry||0,retryDelay:s.retryDelayMs||0,maxRetryDelay:s.maxRetryDelayMs||0},c={onSuccess:(t,e,n,i)=>{this.log(`Loaded steering manifest: "${r}"`);const o=t.data;if(1!==o.VERSION)return void this.log(`Steering VERSION ${o.VERSION} not supported!`);this.updated=performance.now(),this.timeToLoad=o.TTL;const{"RELOAD-URI":s,"PATHWAY-CLONES":a,"PATHWAY-PRIORITY":c}=o;if(s)try{this.uri=new self.URL(s,r).href}catch(t){return this.enabled=!1,void this.log("Failed to parse Steering Manifest RELOAD-URI: "+s)}this.scheduleRefresh(this.uri||n.url),a&&this.clonePathways(a);const l={steeringManifest:o,url:r.toString()};this.hls.trigger(Ai.STEERING_MANIFEST_LOADED,l),c&&this.updatePathwayPriority(c)},onError:(t,e,n,r)=>{if(this.log(`Error loading steering manifest: ${t.code} ${t.text} (${e.url})`),this.stopLoad(),410===t.code)return this.enabled=!1,void this.log(`Steering manifest ${e.url} no longer available`);let i=1e3*this.timeToLoad;if(429!==t.code)this.scheduleRefresh(this.uri||e.url,i);else{const t=this.loader;if("function"==typeof(null==t?void 0:t.getResponseHeader)){const e=t.getResponseHeader("Retry-After");e&&(i=1e3*parseFloat(e))}this.log(`Steering manifest ${e.url} rate limited`)}},onTimeout:(t,e,n)=>{this.log(`Timeout loading steering manifest (${e.url})`),this.scheduleRefresh(this.uri||e.url)}};this.log("Requesting steering manifest: "+r),this.loader.load(i,a,c)}scheduleRefresh(t,e=1e3*this.timeToLoad){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var e;const n=null==(e=this.hls)?void 0:e.media;!n||n.ended?this.scheduleRefresh(t,1e3*this.timeToLoad):this.loadSteeringManifest(t)},e)}}});function pd(t){return t&&"object"==typeof t?Array.isArray(t)?t.map(pd):Object.keys(t).reduce((e,n)=>(e[n]=pd(t[n]),e),{}):t}function gd(t){const e=t.loader;if(e!==cd&&e!==sd)Ii.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1;else{(function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(t){}return!1})()&&(t.loader=cd,t.progressive=!0,t.enableSoftwareAES=!0,Ii.log("[config]: Progressive streaming enabled, using FetchLoader"))}}let md;class vd extends La{constructor(t,e){super(t,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=e,this._registerListeners()}_registerListeners(){const{hls:t}=this;t.on(Ai.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Ai.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(Ai.LEVEL_LOADED,this.onLevelLoaded,this),t.on(Ai.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(Ai.FRAG_BUFFERED,this.onFragBuffered,this),t.on(Ai.ERROR,this.onError,this)}_unregisterListeners(){const{hls:t}=this;t.off(Ai.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Ai.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(Ai.LEVEL_LOADED,this.onLevelLoaded,this),t.off(Ai.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(Ai.FRAG_BUFFERED,this.onFragBuffered,this),t.off(Ai.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(t=>{t.loadError=0,t.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(t,e){this.resetLevels()}onManifestLoaded(t,e){const n=this.hls.config.preferManagedMediaSource,r=[],i={},o={};let s=!1,a=!1,c=!1;e.levels.forEach(t=>{var e,l;const u=t.attrs;let{audioCodec:d,videoCodec:h}=t;-1!==(null==(e=d)?void 0:e.indexOf("mp4a.40.34"))&&(md||(md=/chrome|firefox/i.test(navigator.userAgent)),md&&(t.audioCodec=d=void 0)),d&&(t.audioCodec=d=fs(d,n)),0===(null==(l=h)?void 0:l.indexOf("avc1"))&&(h=t.videoCodec=function(t){const e=t.split(".");if(e.length>2){let t=e.shift()+".";return t+=parseInt(e.shift()).toString(16),t+=("000"+parseInt(e.shift()).toString(16)).slice(-4),t}return t}(h));const{width:f,height:p,unknownCodecs:g}=t;if(s||(s=!(!f||!p)),a||(a=!!h),c||(c=!!d),null!=g&&g.length||d&&!ss(d,"audio",n)||h&&!ss(h,"video",n))return;const{CODECS:m,"FRAME-RATE":v,"HDCP-LEVEL":y,"PATHWAY-ID":b,RESOLUTION:w,"VIDEO-RANGE":_}=u,E=`${(b||".")+"-"}${t.bitrate}-${w}-${v}-${m}-${_}-${y}`;if(i[E])if(i[E].uri===t.url||t.attrs["PATHWAY-ID"])i[E].addGroupId("audio",u.AUDIO),i[E].addGroupId("text",u.SUBTITLES);else{const e=o[E]+=1;t.attrs["PATHWAY-ID"]=new Array(e+1).join(".");const n=new ia(t);i[E]=n,r.push(n)}else{const e=new ia(t);i[E]=e,o[E]=1,r.push(e)}}),this.filterAndSortMediaOptions(r,e,s,a,c)}filterAndSortMediaOptions(t,e,n,r,i){let o=[],s=[],a=t;if((n||r)&&i&&(a=a.filter(({videoCodec:t,videoRange:e,width:n,height:r})=>{return(!!t||!(!n||!r))&&(!!(i=e)&&Zs.indexOf(i)>-1);var i})),0===a.length)return void Promise.resolve().then(()=>{if(this.hls){e.levels.length&&this.warn("One or more CODECS in variant not supported: "+JSON.stringify(e.levels[0].attrs));const t=new Error("no level with compatible codecs found in manifest");this.hls.trigger(Ai.ERROR,{type:Ti.MEDIA_ERROR,details:xi.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:e.url,error:t,reason:t.message})}});if(e.audioTracks){const{preferManagedMediaSource:t}=this.hls.config;o=e.audioTracks.filter(e=>!e.audioCodec||ss(e.audioCodec,"audio",t)),yd(o)}e.subtitles&&(s=e.subtitles,yd(s));const c=a.slice(0);a.sort((t,e)=>{if(t.attrs["HDCP-LEVEL"]!==e.attrs["HDCP-LEVEL"])return(t.attrs["HDCP-LEVEL"]||"")>(e.attrs["HDCP-LEVEL"]||"")?1:-1;if(n&&t.height!==e.height)return t.height-e.height;if(t.frameRate!==e.frameRate)return t.frameRate-e.frameRate;if(t.videoRange!==e.videoRange)return Zs.indexOf(t.videoRange)-Zs.indexOf(e.videoRange);if(t.videoCodec!==e.videoCodec){const n=ls(t.videoCodec),r=ls(e.videoCodec);if(n!==r)return r-n}if(t.uri===e.uri&&t.codecSet!==e.codecSet){const n=us(t.codecSet),r=us(e.codecSet);if(n!==r)return r-n}return t.averageBitrate!==e.averageBitrate?t.averageBitrate-e.averageBitrate:0});let l=c[0];if(this.steering&&(a=this.steering.filterParsedLevels(a),a.length!==c.length))for(let t=0;t<c.length;t++)if(c[t].pathwayId===a[0].pathwayId){l=c[t];break}this._levels=a;for(let t=0;t<a.length;t++)if(a[t]===l){var u;this._firstLevel=t;const e=l.bitrate,n=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${a.length} level(s) found, first bitrate: ${e}`),void 0===(null==(u=this.hls.userConfig)?void 0:u.abrEwmaDefaultEstimate)){const t=Math.min(e,this.hls.config.abrEwmaDefaultEstimateMax);t>n&&n===fd.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=t)}break}const d=i&&!r,h={levels:a,audioTracks:o,subtitleTracks:s,sessionData:e.sessionData,sessionKeys:e.sessionKeys,firstLevel:this._firstLevel,stats:e.stats,audio:i,video:r,altAudio:!d&&o.some(t=>!!t.url)};this.hls.trigger(Ai.MANIFEST_PARSED,h),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return 0===this._levels.length?null:this._levels}get level(){return this.currentLevelIndex}set level(t){const e=this._levels;if(0===e.length)return;if(t<0||t>=e.length){const n=new Error("invalid level idx"),r=t<0;if(this.hls.trigger(Ai.ERROR,{type:Ti.OTHER_ERROR,details:xi.LEVEL_SWITCH_ERROR,level:t,fatal:r,error:n,reason:n.message}),r)return;t=Math.min(t,e.length-1)}const n=this.currentLevelIndex,r=this.currentLevel,i=r?r.attrs["PATHWAY-ID"]:void 0,o=e[t],s=o.attrs["PATHWAY-ID"];if(this.currentLevelIndex=t,this.currentLevel=o,n===t&&o.details&&r&&i===s)return;this.log(`Switching to level ${t} (${o.height?o.height+"p ":""}${o.videoRange?o.videoRange+" ":""}${o.codecSet?o.codecSet+" ":""}@${o.bitrate})${s?" with Pathway "+s:""} from level ${n}${i?" with Pathway "+i:""}`);const a={level:t,attrs:o.attrs,details:o.details,bitrate:o.bitrate,averageBitrate:o.averageBitrate,maxBitrate:o.maxBitrate,realBitrate:o.realBitrate,width:o.width,height:o.height,codecSet:o.codecSet,audioCodec:o.audioCodec,videoCodec:o.videoCodec,audioGroups:o.audioGroups,subtitleGroups:o.subtitleGroups,loaded:o.loaded,loadError:o.loadError,fragmentError:o.fragmentError,name:o.name,id:o.id,uri:o.uri,url:o.url,urlId:0,audioGroupIds:o.audioGroupIds,textGroupIds:o.textGroupIds};this.hls.trigger(Ai.LEVEL_SWITCHING,a);const c=o.details;if(!c||c.live){const t=this.switchParams(o.uri,null==r?void 0:r.details);this.loadPlaylist(t)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}get firstLevel(){return this._firstLevel}set firstLevel(t){this._firstLevel=t}get startLevel(){if(void 0===this._startLevel){const t=this.hls.config.startLevel;return void 0!==t?t:this.hls.firstAutoLevel}return this._startLevel}set startLevel(t){this._startLevel=t}onError(t,e){!e.fatal&&e.context&&e.context.type===Rs&&e.context.level===this.level&&this.checkRetry(e)}onFragBuffered(t,{frag:e}){if(void 0!==e&&e.type===Os){const t=e.elementaryStreams;if(!Object.keys(t).some(e=>!!t[e]))return;const n=this._levels[e.level];null!=n&&n.loadError&&(this.log(`Resetting level error count of ${n.loadError} on frag buffered`),n.loadError=0)}}onLevelLoaded(t,e){var n;const{level:r,details:i}=e,o=this._levels[r];var s;if(!o)return this.warn("Invalid level index "+r),void(null!=(s=e.deliveryDirectives)&&s.skip&&(i.deltaUpdateFailed=!0));r===this.currentLevelIndex?(0===o.fragmentError&&(o.loadError=0),this.playlistLoaded(r,e,o.details)):null!=(n=e.deliveryDirectives)&&n.skip&&(i.deltaUpdateFailed=!0)}loadPlaylist(t){super.loadPlaylist();const e=this.currentLevelIndex,n=this.currentLevel;if(n&&this.shouldLoadPlaylist(n)){let r=n.uri;if(t)try{r=t.addDirectives(r)}catch(t){this.warn("Could not construct new URL with HLS Delivery Directives: "+t)}const i=n.attrs["PATHWAY-ID"];this.log(`Loading level index ${e}${void 0!==(null==t?void 0:t.msn)?" at sn "+t.msn+" part "+t.part:""} with${i?" Pathway "+i:""} ${r}`),this.clearTimer(),this.hls.trigger(Ai.LEVEL_LOADING,{url:r,level:e,pathwayId:n.attrs["PATHWAY-ID"],id:0,deliveryDirectives:t||null})}}get nextLoadLevel(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}removeLevel(t){var e;const n=this._levels.filter((e,n)=>n!==t||(this.steering&&this.steering.removeLevel(e),e===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,e.details&&e.details.fragments.forEach(t=>t.level=-1)),!1));fa(n),this._levels=n,this.currentLevelIndex>-1&&null!=(e=this.currentLevel)&&e.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.hls.trigger(Ai.LEVELS_UPDATED,{levels:n})}onLevelsUpdated(t,{levels:e}){this._levels=e}checkMaxAutoUpdated(){const{autoLevelCapping:t,maxAutoLevel:e,maxHdcpLevel:n}=this.hls;this._maxAutoLevel!==e&&(this._maxAutoLevel=e,this.hls.trigger(Ai.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:t,levels:this.levels,maxAutoLevel:e,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:n}))}}function yd(t){const e={};t.forEach(t=>{const n=t.groupId||"";t.id=e[n]=e[n]||0,e[n]++})}class bd{constructor(t){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=t}abort(t){for(const n in this.keyUriToKeyInfo){const r=this.keyUriToKeyInfo[n].loader;if(r){var e;if(t&&t!==(null==(e=r.context)?void 0:e.frag.type))return;r.abort()}}}detach(){for(const t in this.keyUriToKeyInfo){const e=this.keyUriToKeyInfo[t];(e.mediaKeySessionContext||e.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[t]}}destroy(){this.detach();for(const t in this.keyUriToKeyInfo){const e=this.keyUriToKeyInfo[t].loader;e&&e.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(t,e=xi.KEY_LOAD_ERROR,n,r,i){return new cc({type:Ti.NETWORK_ERROR,details:e,fatal:!1,frag:t,response:i,error:n,networkDetails:r})}loadClear(t,e){if(this.emeController&&this.config.emeEnabled){const{sn:n,cc:r}=t;for(let t=0;t<e.length;t++){const i=e[t];if(r<=i.cc&&("initSegment"===n||"initSegment"===i.sn||n<i.sn)){this.emeController.selectKeySystemFormat(i).then(t=>{i.setKeyFormat(t)});break}}}}load(t){return!t.decryptdata&&t.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(t).then(e=>this.loadInternal(t,e)):this.loadInternal(t)}loadInternal(t,e){var n,r;e&&t.setKeyFormat(e);const i=t.decryptdata;if(!i){const n=new Error(e?"Expected frag.decryptdata to be defined after setting format "+e:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(t,xi.KEY_LOAD_ERROR,n))}const o=i.uri;if(!o)return Promise.reject(this.createKeyLoadError(t,xi.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${o}"`)));let s=this.keyUriToKeyInfo[o];if(null!=(n=s)&&n.decryptdata.key)return i.key=s.decryptdata.key,Promise.resolve({frag:t,keyInfo:s});var a;if(null!=(r=s)&&r.keyLoadPromise)switch(null==(a=s.mediaKeySessionContext)?void 0:a.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return s.keyLoadPromise.then(e=>(i.key=e.keyInfo.decryptdata.key,{frag:t,keyInfo:s}))}switch(s=this.keyUriToKeyInfo[o]={decryptdata:i,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},i.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===i.keyFormat?this.loadKeyHTTP(s,t):this.loadKeyEME(s,t);case"AES-128":return this.loadKeyHTTP(s,t);default:return Promise.reject(this.createKeyLoadError(t,xi.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${i.method}"`)))}}loadKeyEME(t,e){const n={frag:e,keyInfo:t};if(this.emeController&&this.config.emeEnabled){const e=this.emeController.loadKey(n);if(e)return(t.keyLoadPromise=e.then(e=>(t.mediaKeySessionContext=e,n))).catch(e=>{throw t.keyLoadPromise=null,e})}return Promise.resolve(n)}loadKeyHTTP(t,e){const n=this.config,r=new(0,n.loader)(n);return e.keyLoader=t.loader=r,t.keyLoadPromise=new Promise((i,o)=>{const s={keyInfo:t,frag:e,responseType:"arraybuffer",url:t.decryptdata.uri},a=n.keyLoadPolicy.default,c={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},l={onSuccess:(t,e,n,r)=>{const{frag:s,keyInfo:a,url:c}=n;if(!s.decryptdata||a!==this.keyUriToKeyInfo[c])return o(this.createKeyLoadError(s,xi.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),r));a.decryptdata.key=s.decryptdata.key=new Uint8Array(t.data),s.keyLoader=null,a.loader=null,i({frag:s,keyInfo:a})},onError:(t,n,r,i)=>{this.resetLoader(n),o(this.createKeyLoadError(e,xi.KEY_LOAD_ERROR,new Error(`HTTP Error ${t.code} loading key ${t.text}`),r,vi({url:s.url,data:void 0},t)))},onTimeout:(t,n,r)=>{this.resetLoader(n),o(this.createKeyLoadError(e,xi.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),r))},onAbort:(t,n,r)=>{this.resetLoader(n),o(this.createKeyLoadError(e,xi.INTERNAL_ABORTED,new Error("key loading aborted"),r))}};r.load(s,c,l)})}resetLoader(t){const{frag:e,keyInfo:n,url:r}=t,i=n.loader;e.keyLoader===i&&(e.keyLoader=null,n.loader=null),delete this.keyUriToKeyInfo[r],i&&i.destroy()}}function wd(){return self.SourceBuffer||self.WebKitSourceBuffer}function _d(){if(!is())return!1;const t=wd();return!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove}class Ed{constructor(t,e,n,r){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=t,this.media=e,this.fragmentTracker=n,this.hls=r}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(t,e){const{config:n,media:r,stalled:i}=this;if(null===r)return;const{currentTime:o,seeking:s}=r,a=this.seeking&&!s,c=!this.seeking&&s;if(this.seeking=s,o!==t){if(this.moved=!0,s||(this.nudgeRetry=0),null!==i){if(this.stallReported){const t=self.performance.now()-i;Ii.warn(`playback not stuck anymore @${o}, after ${Math.round(t)}ms`),this.stallReported=!1}this.stalled=null}return}if(c||a)return void(this.stalled=null);if(r.paused&&!s||r.ended||0===r.playbackRate||!Qa.getBuffered(r).length)return void(this.nudgeRetry=0);const l=Qa.bufferInfo(r,o,0),u=l.nextStart||0;if(s){const t=l.len>2,n=!u||e&&e.start<=o||u-o>2&&!this.fragmentTracker.getPartialFragment(o);if(t||n)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var d;if(!(l.len>0)&&!u)return;const t=Math.max(u,l.start||0)-o,e=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,n=(null==e||null==(d=e.details)?void 0:d.live)?2*e.details.targetduration:2,i=this.fragmentTracker.getPartialFragment(o);if(t>0&&(t<=n||i))return void(r.paused||this._trySkipBufferHole(i))}const h=self.performance.now();if(null===i)return void(this.stalled=h);const f=h-i;if(!s&&f>=250&&(this._reportStall(l),!this.media))return;const p=Qa.bufferInfo(r,o,n.maxBufferHole);this._tryFixBufferStall(p,f)}_tryFixBufferStall(t,e){const{config:n,fragmentTracker:r,media:i}=this;if(null===i)return;const o=i.currentTime,s=r.getPartialFragment(o);if(s){if(this._trySkipBufferHole(s)||!this.media)return}(t.len>n.maxBufferHole||t.nextStart&&t.nextStart-o<n.maxBufferHole)&&e>1e3*n.highBufferWatchdogPeriod&&(Ii.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(t){const{hls:e,media:n,stallReported:r}=this;if(!r&&n){this.stallReported=!0;const r=new Error(`Playback stalling at @${n.currentTime} due to low buffer (${JSON.stringify(t)})`);Ii.warn(r.message),e.trigger(Ai.ERROR,{type:Ti.MEDIA_ERROR,details:xi.BUFFER_STALLED_ERROR,fatal:!1,error:r,buffer:t.len})}}_trySkipBufferHole(t){const{config:e,hls:n,media:r}=this;if(null===r)return 0;const i=r.currentTime,o=Qa.bufferInfo(r,i,0),s=i<o.start?o.start:o.nextStart;if(s){const a=o.len<=e.maxBufferHole,c=o.len>0&&o.len<1&&r.readyState<3,l=s-i;if(l>0&&(a||c)){if(l>e.maxBufferHole){const{fragmentTracker:e}=this;let n=!1;if(0===i){const t=e.getAppendedFrag(0,Os);t&&s<t.end&&(n=!0)}if(!n){const n=t||e.getAppendedFrag(i,Os);if(n){let t=!1,r=n.end;for(;r<s;){const n=e.getPartialFragment(r);if(!n){t=!0;break}r+=n.duration}if(t)return 0}}}const o=Math.max(s+.05,i+.1);if(Ii.warn(`skipping hole, adjusting currentTime from ${i} to ${o}`),this.moved=!0,this.stalled=null,r.currentTime=o,t&&!t.gap){const e=new Error(`fragment loaded with buffer holes, seeking from ${i} to ${o}`);n.trigger(Ai.ERROR,{type:Ti.MEDIA_ERROR,details:xi.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:e,reason:e.message,frag:t})}return o}}return 0}_tryNudgeBuffer(){const{config:t,hls:e,media:n,nudgeRetry:r}=this;if(null===n)return;const i=n.currentTime;if(this.nudgeRetry++,r<t.nudgeMaxRetry){const o=i+(r+1)*t.nudgeOffset,s=new Error(`Nudging 'currentTime' from ${i} to ${o}`);Ii.warn(s.message),n.currentTime=o,e.trigger(Ai.ERROR,{type:Ti.MEDIA_ERROR,details:xi.BUFFER_NUDGE_ON_STALL,error:s,fatal:!1})}else{const n=new Error(`Playhead still not moving while enough data buffered @${i} after ${t.nudgeMaxRetry} nudges`);Ii.error(n.message),e.trigger(Ai.ERROR,{type:Ti.MEDIA_ERROR,details:xi.BUFFER_STALLED_ERROR,error:n,fatal:!0})}}}class Sd extends xc{constructor(t,e,n){super(t,e,n,"[stream-controller]",Os),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:t}=this;t.on(Ai.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(Ai.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(Ai.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Ai.MANIFEST_PARSED,this.onManifestParsed,this),t.on(Ai.LEVEL_LOADING,this.onLevelLoading,this),t.on(Ai.LEVEL_LOADED,this.onLevelLoaded,this),t.on(Ai.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.on(Ai.ERROR,this.onError,this),t.on(Ai.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(Ai.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(Ai.BUFFER_CREATED,this.onBufferCreated,this),t.on(Ai.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(Ai.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(Ai.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:t}=this;t.off(Ai.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(Ai.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(Ai.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Ai.MANIFEST_PARSED,this.onManifestParsed,this),t.off(Ai.LEVEL_LOADED,this.onLevelLoaded,this),t.off(Ai.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.off(Ai.ERROR,this.onError,this),t.off(Ai.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(Ai.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.off(Ai.BUFFER_CREATED,this.onBufferCreated,this),t.off(Ai.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(Ai.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(Ai.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying()}startLoad(t){if(this.levels){const{lastCurrentTime:e,hls:n}=this;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){let t=n.startLevel;-1===t&&(n.config.testBandwidth&&this.levels.length>1?(t=0,this.bitrateTest=!0):t=n.firstAutoLevel),n.nextLoadLevel=t,this.level=n.loadLevel,this.loadedmetadata=!1}e>0&&-1===t&&(this.log("Override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=gc,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this._forceStartLoad=!0,this.state=pc}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case Tc:{const{levels:t,level:e}=this,n=null==t?void 0:t[e],r=null==n?void 0:n.details;if(r&&(!r.live||this.levelLastLoaded===n)){if(this.waitForCdnTuneIn(r))break;this.state=gc;break}if(this.hls.nextLoadLevel!==this.level){this.state=gc;break}break}case yc:{var t;const e=self.performance.now(),n=this.retryDate;if(!n||e>=n||null!=(t=this.media)&&t.seeking){const{levels:t,level:e}=this,n=null==t?void 0:t[e];this.resetStartWhenNotLoaded(n||null),this.state=gc}}}this.state===gc&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:t,levelLastLoaded:e,levels:n,media:r}=this;if(null===e||!r&&(this.startFragRequested||!t.config.startFragPrefetch))return;if(this.altAudio&&this.audioOnly)return;const i=t.nextLoadLevel;if(null==n||!n[i])return;const o=n[i],s=this.getMainFwdBufferInfo();if(null===s)return;const a=this.getLevelDetails();if(a&&this._streamEnded(s,a)){const t={};return this.altAudio&&(t.type="video"),this.hls.trigger(Ai.BUFFER_EOS,t),void(this.state=Ec)}t.loadLevel!==i&&-1===t.manualLevel&&this.log(`Adapting to level ${i} from level ${this.level}`),this.level=t.nextLoadLevel=i;const c=o.details;if(!c||this.state===Tc||c.live&&this.levelLastLoaded!==o)return this.level=i,void(this.state=Tc);const l=s.len,u=this.getMaxBufferLength(o.maxBitrate);if(l>=u)return;this.backtrackFragment&&this.backtrackFragment.start>s.end&&(this.backtrackFragment=null);const d=this.backtrackFragment?this.backtrackFragment.start:s.end;let h=this.getNextFragment(d,c);if(this.couldBacktrack&&!this.fragPrevious&&h&&"initSegment"!==h.sn&&this.fragmentTracker.getState(h)!==qa){var f;const t=(null!=(f=this.backtrackFragment)?f:h).sn-c.startSN,e=c.fragments[t-1];e&&h.cc===e.cc&&(h=e,this.fragmentTracker.removeFragment(e))}else this.backtrackFragment&&s.len&&(this.backtrackFragment=null);if(h&&this.isLoopLoading(h,d)){if(!h.gap){const t=this.audioOnly&&!this.altAudio?Bi:Ui,e=(t===Ui?this.videoBuffer:this.mediaBuffer)||this.media;e&&this.afterBufferFlushed(e,t,Os)}h=this.getNextFragmentLoopLoading(h,c,s,Os,u)}h&&(!h.initSegment||h.initSegment.data||this.bitrateTest||(h=h.initSegment),this.loadFragment(h,o,d))}loadFragment(t,e,n){const r=this.fragmentTracker.getState(t);this.fragCurrent=t,r===Ha||r===Va?"initSegment"===t.sn?this._loadInitSegment(t,e):this.bitrateTest?(this.log(`Fragment ${t.sn} of level ${t.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(t,e)):(this.startFragRequested=!0,super.loadFragment(t,e,n)):this.clearTrackerIfNeeded(t)}getBufferedFrag(t){return this.fragmentTracker.getBufferedFrag(t,Os)}followingBufferedFrag(t){return t?this.getBufferedFrag(t.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:t,media:e}=this;if(null!=e&&e.readyState){let n;const r=this.getAppendedFrag(e.currentTime);r&&r.start>1&&this.flushMainBuffer(0,r.start-1);const i=this.getLevelDetails();if(null!=i&&i.live){const t=this.getMainFwdBufferInfo();if(!t||t.len<2*i.targetduration)return}if(!e.paused&&t){const e=t[this.hls.nextLoadLevel],r=this.fragLastKbps;n=r&&this.fragCurrent?this.fragCurrent.duration*e.maxBitrate/(1e3*r)+1:0}else n=0;const o=this.getBufferedFrag(e.currentTime+n);if(o){const t=this.followingBufferedFrag(o);if(t){this.abortCurrentFrag();const e=t.maxStartPTS?t.maxStartPTS:t.start,n=t.duration,r=Math.max(o.end,e+Math.min(Math.max(n-this.config.maxFragLookUpTolerance,n*(this.couldBacktrack?.5:.125)),n*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(r,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const t=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,t&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.state){case mc:case vc:case yc:case wc:case _c:this.state=gc}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(t,e){super.flushMainBuffer(t,e,this.altAudio?"video":null)}onMediaAttached(t,e){super.onMediaAttached(t,e);const n=e.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),n.addEventListener("playing",this.onvplaying),n.addEventListener("seeked",this.onvseeked),this.gapController=new Ed(this.config,n,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:t}=this;t&&this.onvplaying&&this.onvseeked&&(t.removeEventListener("playing",this.onvplaying),t.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const t=this.media,e=t?t.currentTime:null;_i(e)&&this.log("Media seeked to "+e.toFixed(3));const n=this.getMainFwdBufferInfo();null!==n&&0!==n.len?this.tick():this.warn(`Main forward buffer length on "seeked" event ${n?n.len:"empty"})`)}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(Ai.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=this.fragLastKbps=0,this.levels=this.fragPlaying=this.backtrackFragment=this.levelLastLoaded=null,this.altAudio=this.audioOnly=this.startFragRequested=!1}onManifestParsed(t,e){let n=!1,r=!1;e.levels.forEach(t=>{const e=t.audioCodec;e&&(n=n||-1!==e.indexOf("mp4a.40.2"),r=r||-1!==e.indexOf("mp4a.40.5"))}),this.audioCodecSwitch=n&&r&&!function(){var t;const e=wd();return"function"==typeof(null==e||null==(t=e.prototype)?void 0:t.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1}onLevelLoading(t,e){const{levels:n}=this;if(!n||this.state!==gc)return;const r=n[e.level];(!r.details||r.details.live&&this.levelLastLoaded!==r||this.waitForCdnTuneIn(r.details))&&(this.state=Tc)}onLevelLoaded(t,e){var n;const{levels:r}=this,i=e.level,o=e.details,s=o.totalduration;if(!r)return void this.warn("Levels were reset while loading level "+i);this.log(`Level ${i} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""}, cc [${o.startCC}, ${o.endCC}] duration:${s}`);const a=r[i],c=this.fragCurrent;!c||this.state!==vc&&this.state!==yc||c.level!==e.level&&c.loader&&this.abortCurrentFrag();let l=0;if(o.live||null!=(n=a.details)&&n.live){var u;if(this.checkLiveUpdate(o),o.deltaUpdateFailed)return;l=this.alignPlaylists(o,a.details,null==(u=this.levelLastLoaded)?void 0:u.details)}if(a.details=o,this.levelLastLoaded=a,this.hls.trigger(Ai.LEVEL_UPDATED,{details:o,level:i}),this.state===Tc){if(this.waitForCdnTuneIn(o))return;this.state=gc}this.startFragRequested?o.live&&this.synchronizeToLiveEdge(o):this.setStartPosition(o,l),this.tick()}_handleFragmentLoadProgress(t){var e;const{frag:n,part:r,payload:i}=t,{levels:o}=this;if(!o)return void this.warn(`Levels were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);const s=o[n.level],a=s.details;if(!a)return this.warn(`Dropping fragment ${n.sn} of level ${n.level} after level details were reset`),void this.fragmentTracker.removeFragment(n);const c=s.videoCodec,l=a.PTSKnown||!a.live,u=null==(e=n.initSegment)?void 0:e.data,d=this._getAudioCodec(s),h=this.transmuxer=this.transmuxer||new Ll(this.hls,Os,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),f=r?r.index:-1,p=-1!==f,g=new Ja(n.level,n.sn,n.stats.chunkCount,i.byteLength,f,p),m=this.initPTS[n.cc];h.push(i,u,d,c,n,r,a.totalduration,l,g,m)}onAudioTrackSwitching(t,e){const n=this.altAudio;if(!!!e.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const t=this.fragCurrent;t&&(this.log("Switching to main audio track, cancel main fragment load"),t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const t=this.hls;n&&(t.trigger(Ai.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),t.trigger(Ai.AUDIO_TRACK_SWITCHED,e)}}onAudioTrackSwitched(t,e){const n=e.id,r=!!this.hls.audioTracks[n].url;if(r){const t=this.videoBuffer;t&&this.mediaBuffer!==t&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=t)}this.altAudio=r,this.tick()}onBufferCreated(t,e){const n=e.tracks;let r,i,o=!1;for(const t in n){const e=n[t];if("main"===e.id){if(i=t,r=e,"video"===t){const e=n[t];e&&(this.videoBuffer=e.buffer)}}else o=!0}o&&r?(this.log(`Alternate track found, use ${i}.buffered to schedule main fragment loading`),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media}onFragBuffered(t,e){const{frag:n,part:r}=e;if(n&&n.type!==Os)return;if(this.fragContextChanged(n))return this.warn(`Fragment ${n.sn}${r?" p: "+r.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}`),void(this.state===_c&&(this.state=gc));const i=r?r.stats:n.stats;this.fragLastKbps=Math.round(8*i.total/(i.buffering.end-i.loading.first)),"initSegment"!==n.sn&&(this.fragPrevious=n),this.fragBufferedComplete(n,r)}onError(t,e){var n;if(e.fatal)this.state=Sc;else switch(e.details){case xi.FRAG_GAP:case xi.FRAG_PARSING_ERROR:case xi.FRAG_DECRYPT_ERROR:case xi.FRAG_LOAD_ERROR:case xi.FRAG_LOAD_TIMEOUT:case xi.KEY_LOAD_ERROR:case xi.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Os,e);break;case xi.LEVEL_LOAD_ERROR:case xi.LEVEL_LOAD_TIMEOUT:case xi.LEVEL_PARSING_ERROR:e.levelRetry||this.state!==Tc||(null==(n=e.context)?void 0:n.type)!==Rs||(this.state=gc);break;case xi.BUFFER_APPEND_ERROR:case xi.BUFFER_FULL_ERROR:if(!e.parent||"main"!==e.parent)return;if(e.details===xi.BUFFER_APPEND_ERROR)return void this.resetLoadingState();this.reduceLengthAndFlushBuffer(e)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case xi.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}checkBuffer(){const{media:t,gapController:e}=this;if(t&&e&&t.readyState){if(this.loadedmetadata||!Qa.getBuffered(t).length){const t=this.state!==gc?this.fragCurrent:null;e.poll(this.lastCurrentTime,t)}this.lastCurrentTime=t.currentTime}}onFragLoadEmergencyAborted(){this.state=gc,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(t,{type:e}){if(e!==Bi||this.audioOnly&&!this.altAudio){const t=(e===Ui?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(t,e,Os),this.tick()}}onLevelsUpdated(t,e){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level),this.levels=e.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:t}=this;if(!t)return;const e=t.currentTime;let n=this.startPosition;if(n>=0&&e<n){if(t.seeking)return void this.log(`could not seek to ${n}, already seeking at ${e}`);const r=Qa.getBuffered(t),i=(r.length?r.start(0):0)-n;i>0&&(i<this.config.maxBufferHole||i<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${i} to match buffer start`),n+=i,this.startPosition=n),this.log(`seek to target start position ${n} from current time ${e}`),t.currentTime=n}}_getAudioCodec(t){let e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&e&&(this.log("Swapping audio codec"),e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),e}_loadBitrateTestFrag(t,e){t.bitrateTest=!0,this._doFragLoad(t,e).then(n=>{const{hls:r}=this;if(!n||this.fragContextChanged(t))return;e.fragmentError=0,this.state=gc,this.startFragRequested=!1,this.bitrateTest=!1;const i=t.stats;i.parsing.start=i.parsing.end=i.buffering.start=i.buffering.end=self.performance.now(),r.trigger(Ai.FRAG_LOADED,n),t.bitrateTest=!1})}_handleTransmuxComplete(t){var e;const n="main",{hls:r}=this,{remuxResult:i,chunkMeta:o}=t,s=this.getCurrentContext(o);if(!s)return void this.resetWhenMissingContext(o);const{frag:a,part:c,level:l}=s,{video:u,text:d,id3:h,initSegment:f}=i,{details:p}=l,g=this.altAudio?void 0:i.audio;if(this.fragContextChanged(a))this.fragmentTracker.removeFragment(a);else{if(this.state=wc,f){if(null!=f&&f.tracks){const t=a.initSegment||a;this._bufferInitSegment(l,f.tracks,t,o),r.trigger(Ai.FRAG_PARSING_INIT_SEGMENT,{frag:t,id:n,tracks:f.tracks})}const t=f.initPTS,e=f.timescale;_i(t)&&(this.initPTS[a.cc]={baseTime:t,timescale:e},r.trigger(Ai.INIT_PTS_FOUND,{frag:a,id:n,initPTS:t,timescale:e}))}if(u&&p&&"initSegment"!==a.sn){const t=p.fragments[a.sn-1-p.startSN],e=a.sn===p.startSN,n=!t||a.cc>t.cc;if(!1!==i.independent){const{startPTS:t,endPTS:r,startDTS:i,endDTS:s}=u;if(c)c.elementaryStreams[u.type]={startPTS:t,endPTS:r,startDTS:i,endDTS:s};else if(u.firstKeyFrame&&u.independent&&1===o.id&&!n&&(this.couldBacktrack=!0),u.dropped&&u.independent){const i=this.getMainFwdBufferInfo(),o=(i?i.end:this.getLoadPosition())+this.config.maxBufferHole,c=u.firstKeyFramePTS?u.firstKeyFramePTS:t;if(!e&&o<c-this.config.maxBufferHole&&!n)return void this.backtrack(a);n&&(a.gap=!0),a.setElementaryStreamInfo(u.type,a.start,r,a.start,s,!0)}else e&&t>2&&(a.gap=!0);a.setElementaryStreamInfo(u.type,t,r,i,s),this.backtrackFragment&&(this.backtrackFragment=a),this.bufferFragmentData(u,a,c,o,e||n)}else{if(!e&&!n)return void this.backtrack(a);a.gap=!0}}if(g){const{startPTS:t,endPTS:e,startDTS:n,endDTS:r}=g;c&&(c.elementaryStreams[Bi]={startPTS:t,endPTS:e,startDTS:n,endDTS:r}),a.setElementaryStreamInfo(Bi,t,e,n,r),this.bufferFragmentData(g,a,c,o)}if(p&&null!=h&&null!=(e=h.samples)&&e.length){const t={id:n,frag:a,details:p,samples:h.samples};r.trigger(Ai.FRAG_PARSING_METADATA,t)}if(p&&d){const t={id:n,frag:a,details:p,samples:d.samples};r.trigger(Ai.FRAG_PARSING_USERDATA,t)}}}_bufferInitSegment(t,e,n,r){if(this.state!==wc)return;this.audioOnly=!!e.audio&&!e.video,this.altAudio&&!this.audioOnly&&delete e.audio;const{audio:i,video:o,audiovideo:s}=e;if(i){let e=t.audioCodec;const n=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(e&&(e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==i.metadata.channelCount&&-1===n.indexOf("firefox")&&(e="mp4a.40.5")),e&&-1!==e.indexOf("mp4a.40.5")&&-1!==n.indexOf("android")&&"audio/mpeg"!==i.container&&(e="mp4a.40.2",this.log("Android: force audio codec to "+e)),t.audioCodec&&t.audioCodec!==e&&this.log(`Swapping manifest audio codec "${t.audioCodec}" for "${e}"`),i.levelCodec=e,i.id="main",this.log(`Init audio buffer, container:${i.container}, codecs[selected/level/parsed]=[${e||""}/${t.audioCodec||""}/${i.codec}]`)}o&&(o.levelCodec=t.videoCodec,o.id="main",this.log(`Init video buffer, container:${o.container}, codecs[level/parsed]=[${t.videoCodec||""}/${o.codec}]`)),s&&this.log(`Init audiovideo buffer, container:${s.container}, codecs[level/parsed]=[${t.codecs}/${s.codec}]`),this.hls.trigger(Ai.BUFFER_CODECS,e),Object.keys(e).forEach(t=>{const i=e[t].initSegment;null!=i&&i.byteLength&&this.hls.trigger(Ai.BUFFER_APPENDING,{type:t,data:i,frag:n,part:null,chunkMeta:r,parent:n.type})}),this.tickImmediate()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,Os)}backtrack(t){this.couldBacktrack=!0,this.backtrackFragment=t,this.resetTransmuxer(),this.flushBufferGap(t),this.fragmentTracker.removeFragment(t),this.fragPrevious=null,this.nextLoadPosition=t.start,this.state=gc}checkFragmentChanged(){const t=this.media;let e=null;if(t&&t.readyState>1&&!1===t.seeking){const n=t.currentTime;if(Qa.isBuffered(t,n)?e=this.getAppendedFrag(n):Qa.isBuffered(t,n+.1)&&(e=this.getAppendedFrag(n+.1)),e){this.backtrackFragment=null;const t=this.fragPlaying,n=e.level;t&&e.sn===t.sn&&t.level===n||(this.fragPlaying=e,this.hls.trigger(Ai.FRAG_CHANGED,{frag:e}),t&&t.level===n||this.hls.trigger(Ai.LEVEL_SWITCHED,{level:n}))}}}get nextLevel(){const t=this.nextBufferedFrag;return t?t.level:-1}get currentFrag(){const t=this.media;return t?this.fragPlaying||this.getAppendedFrag(t.currentTime):null}get currentProgramDateTime(){const t=this.media;if(t){const e=t.currentTime,n=this.currentFrag;if(n&&_i(e)&&_i(n.programDateTime)){const t=n.programDateTime+1e3*(e-n.start);return new Date(t)}}return null}get currentLevel(){const t=this.currentFrag;return t?t.level:-1}get nextBufferedFrag(){const t=this.currentFrag;return t?this.followingBufferedFrag(t):null}get forceStartLoad(){return this._forceStartLoad}}class Ad{static get version(){return"1.5.6"}static isMSESupported(){return _d()}static isSupported(){return function(){if(!_d())return!1;const t=is();return"function"==typeof(null==t?void 0:t.isTypeSupported)&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>t.isTypeSupported(cs(e,"video")))||["mp4a.40.2","fLaC"].some(e=>t.isTypeSupported(cs(e,"audio"))))}()}static getMediaSource(){return is()}static get Events(){return Ai}static get ErrorTypes(){return Ti}static get ErrorDetails(){return xi}static get DefaultConfig(){return Ad.defaultConfig?Ad.defaultConfig:fd}static set DefaultConfig(t){Ad.defaultConfig=t}constructor(t={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this.started=!1,this._emitter=new Rl,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,this.triggeringException=void 0,function(t,e){if("object"==typeof console&&!0===t||"object"==typeof t){Li(t,"debug","log","info","warn","error");try{Ri.log(`Debug logs enabled for "${e}" in hls.js version 1.5.6`)}catch(t){Ri=Ci}}else Ri=Ci}(t.debug||!1,"Hls instance");const e=this.config=function(t,e){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==e.liveMaxLatencyDurationCount&&(void 0===e.liveSyncDurationCount||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==e.liveMaxLatencyDuration&&(void 0===e.liveSyncDuration||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const n=pd(t),r=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach(t=>{const i=("level"===t?"playlist":t)+"LoadPolicy",o=void 0===e[i],s=[];r.forEach(r=>{const a=`${t}Loading${r}`,c=e[a];if(void 0!==c&&o){s.push(a);const t=n[i].default;switch(e[i]={default:t},r){case"TimeOut":t.maxLoadTimeMs=c,t.maxTimeToFirstByteMs=c;break;case"MaxRetry":t.errorRetry.maxNumRetry=c,t.timeoutRetry.maxNumRetry=c;break;case"RetryDelay":t.errorRetry.retryDelayMs=c,t.timeoutRetry.retryDelayMs=c;break;case"MaxRetryTimeout":t.errorRetry.maxRetryDelayMs=c,t.timeoutRetry.maxRetryDelayMs=c}}}),s.length&&Ii.warn(`hls.js config: "${s.join('", "')}" setting(s) are deprecated, use "${i}": ${JSON.stringify(e[i])}`)}),vi(vi({},n),e)}(Ad.DefaultConfig,t);this.userConfig=t,e.progressive&&gd(e);const{abrController:n,bufferController:r,capLevelController:i,errorController:o,fpsController:s}=e,a=new o(this),c=this.abrController=new n(this),l=this.bufferController=new r(this),u=this.capLevelController=new i(this),d=new s(this),h=new Fs(this),f=new Xs(this),p=e.contentSteeringController,g=p?new p(this):null,m=this.levelController=new vd(this,g),v=new za(this),y=new bd(this.config),b=this.streamController=new Sd(this,v,y);u.setStreamController(b),d.setStreamController(b);const w=[h,m,b];g&&w.splice(1,0,g),this.networkControllers=w;const _=[c,l,u,d,f,v];this.audioTrackController=this.createController(e.audioTrackController,w);const E=e.audioStreamController;E&&w.push(new E(this,v,y)),this.subtitleTrackController=this.createController(e.subtitleTrackController,w);const S=e.subtitleStreamController;S&&w.push(new S(this,v,y)),this.createController(e.timelineController,_),y.emeController=this.emeController=this.createController(e.emeController,_),this.cmcdController=this.createController(e.cmcdController,_),this.latencyController=this.createController(Qs,_),this.coreComponents=_,w.push(a);const A=a.onErrorOut;"function"==typeof A&&this.on(Ai.ERROR,A,a)}createController(t,e){if(t){const n=new t(this);return e&&e.push(n),n}return null}on(t,e,n=this){this._emitter.on(t,e,n)}once(t,e,n=this){this._emitter.once(t,e,n)}removeAllListeners(t){this._emitter.removeAllListeners(t)}off(t,e,n=this,r){this._emitter.off(t,e,n,r)}listeners(t){return this._emitter.listeners(t)}emit(t,e,n){return this._emitter.emit(t,e,n)}trigger(t,e){if(this.config.debug)return this.emit(t,t,e);try{return this.emit(t,t,e)}catch(e){if(Ii.error("An internal error happened while handling event "+t+'. Error message: "'+e.message+'". Here is a stacktrace:',e),!this.triggeringException){this.triggeringException=!0;const n=t===Ai.ERROR;this.trigger(Ai.ERROR,{type:Ti.OTHER_ERROR,details:xi.INTERNAL_EXCEPTION,fatal:n,event:t,error:e}),this.triggeringException=!1}}return!1}listenerCount(t){return this._emitter.listenerCount(t)}destroy(){Ii.log("destroy"),this.trigger(Ai.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(t=>t.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(t=>t.destroy()),this.coreComponents.length=0;const t=this.config;t.xhrSetup=t.fetchSetup=void 0,this.userConfig=null}attachMedia(t){Ii.log("attachMedia"),this._media=t,this.trigger(Ai.MEDIA_ATTACHING,{media:t})}detachMedia(){Ii.log("detachMedia"),this.trigger(Ai.MEDIA_DETACHING,void 0),this._media=null}loadSource(t){this.stopLoad();const e=this.media,n=this.url,r=this.url=gi.buildAbsoluteURL(self.location.href,t,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,Ii.log("loadSource:"+r),e&&n&&(n!==r||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(e)),this.trigger(Ai.MANIFEST_LOADING,{url:t})}startLoad(t=-1){Ii.log(`startLoad(${t})`),this.started=!0,this.networkControllers.forEach(e=>{e.startLoad(t)})}stopLoad(){Ii.log("stopLoad"),this.started=!1,this.networkControllers.forEach(t=>{t.stopLoad()})}resumeBuffering(){this.started&&this.networkControllers.forEach(t=>{"fragmentLoader"in t&&t.startLoad(-1)})}pauseBuffering(){this.networkControllers.forEach(t=>{"fragmentLoader"in t&&t.stopLoad()})}swapAudioCodec(){Ii.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){Ii.log("recoverMediaError");const t=this._media;this.detachMedia(),t&&this.attachMedia(t)}removeLevel(t){this.levelController.removeLevel(t)}get levels(){const t=this.levelController.levels;return t||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(t){Ii.log("set currentLevel:"+t),this.levelController.manualLevel=t,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(t){Ii.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(t){Ii.log("set loadLevel:"+t),this.levelController.manualLevel=t}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(t){this.levelController.nextLoadLevel=t}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(t){Ii.log("set firstLevel:"+t),this.levelController.firstLevel=t}get startLevel(){const t=this.levelController.startLevel;return-1===t&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:t}set startLevel(t){Ii.log("set startLevel:"+t),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(t){const e=!!t;e!==this.config.capLevelToPlayerSize&&(e?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=e)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:t}=this.abrController;return t?t.getEstimate():NaN}set bandwidthEstimate(t){this.abrController.resetEstimator(t)}get ttfbEstimate(){const{bwEstimator:t}=this.abrController;return t?t.getEstimateTTFB():NaN}set autoLevelCapping(t){this._autoLevelCapping!==t&&(Ii.log("set autoLevelCapping:"+t),this._autoLevelCapping=t,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(t){(function(t){return Js.indexOf(t)>-1})(t)&&this._maxHdcpLevel!==t&&(this._maxHdcpLevel=t,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return-1===this.levelController.manualLevel}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:t,config:{minAutoBitrate:e}}=this;if(!t)return 0;const n=t.length;for(let r=0;r<n;r++)if(t[r].maxBitrate>=e)return r;return 0}get maxAutoLevel(){const{levels:t,autoLevelCapping:e,maxHdcpLevel:n}=this;let r;if(r=-1===e&&null!=t&&t.length?t.length-1:e,n)for(let e=r;e--;){const r=t[e].attrs["HDCP-LEVEL"];if(r&&r<=n)return e}return r}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(t){this.abrController.nextAutoLevel=t}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}setAudioOption(t){var e;return null==(e=this.audioTrackController)?void 0:e.setAudioOption(t)}setSubtitleOption(t){var e;return null==(e=this.subtitleTrackController)||e.setSubtitleOption(t),null}get allAudioTracks(){const t=this.audioTrackController;return t?t.allAudioTracks:[]}get audioTracks(){const t=this.audioTrackController;return t?t.audioTracks:[]}get audioTrack(){const t=this.audioTrackController;return t?t.audioTrack:-1}set audioTrack(t){const e=this.audioTrackController;e&&(e.audioTrack=t)}get allSubtitleTracks(){const t=this.subtitleTrackController;return t?t.allSubtitleTracks:[]}get subtitleTracks(){const t=this.subtitleTrackController;return t?t.subtitleTracks:[]}get subtitleTrack(){const t=this.subtitleTrackController;return t?t.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(t){const e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}get subtitleDisplay(){const t=this.subtitleTrackController;return!!t&&t.subtitleDisplay}set subtitleDisplay(t){const e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(t){this.config.lowLatencyMode=t}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}Ad.defaultConfig=void 0;var Td=function(t){return t&&t.replace(/^https?:/i,"")};function xd(){var t,e=(t="video",Array.prototype.slice.call(document.querySelectorAll(t)));e&&Array.prototype.slice.call(e).forEach((function(t){var e=t.dataset,n=e.mp4,r=e.m3u8;if(!e.hls&&(n||r)){if(t.canPlayType("application/vnd.apple.mpegurl"))t.src=Td(r||n);else if(r&&r.match(/\.(m3u8)/i)&&Ad.isSupported()){var i=new Ad,o=Td(r);i.loadSource(o),i.attachMedia(t)}else t.src=Td(n||r);t.dataset.hls=1}}))}n(856);var kd=o({name:"newsBody",data:function(){return{videoAnalyze:{},isSupported:!1,previewImgList:[],previewImgMap:{}}},computed:{body:function(){return this.$store.state.body},liveRoom:function(){return this.$store.state.main.liveRoom},DOCID:function(){return this.$store.state.main.docid}},methods:{eventBind:function(t){var e=t.target;this.eventPlay(e),this.eventPk(e),this.eventSkip(e),this.eventPreviewImg(e)},eventPlay:function(t){var e=Object(Nn.d)(t,".js-video");if(e)try{var n=e.querySelector("video"),r=n.src;n.style.display="block",e.querySelector(".js-img").style.display="none",this.videoAnalyze[r]||(n.play(),this.videoAnalyze[r]=1,Vn("videoView"))}catch(t){}},getPreviewImgMap:function(){var t=this,e=document.querySelectorAll(".js-preview-img");e&&Array.prototype.slice.call(e).forEach((function(e){var n=e.dataset.echo,r=e.src;"error"!==t.previewImgMap[n]&&(/\.gif$/.test(n)&&(r=Dn({src:n,width:335,reserveAnimation:!0})),t.previewImgMap[n]=r)}))},getPreviewImgList:function(){var t=[];for(var e in this.previewImgMap){var n=this.previewImgMap[e];"error"!==n&&t.push(n)}this.previewImgList=t},updatePreviewImgMap:function(t){this.previewImgMap[t]="error",this.getPreviewImgList()},eventPreviewImg:function(t){var e=Object(Nn.d)(t,".js-preview-img");if(e&&(this.previewImgList.length<1&&(this.getPreviewImgMap(),this.getPreviewImgList()),Nn.x)){var n=e.dataset.echo,r=this.previewImgMap[n];wx.previewImage({current:r,urls:this.previewImgList})}},eventSkip:function(t){var e=t;if(e.classList.contains("js-link")){var n=e.dataset.url;n&&(window.location.href=n)}},eventPk:function(t){var e=t;if(e&&e.classList.contains("js-vote")){var n=Object(Nn.d)(e,".m-vote");if(n.classList.contains("single")){var r=n.querySelector(".js-vote.checked");r&&r.classList.remove("checked"),e.classList.add("checked")}else e.classList.toggle("checked")}},renderLive:function(){var t=document.querySelectorAll(".liveCard");t&&Array.prototype.slice.call(t).forEach((function(t){var e=t.dataset.liveid,n=new r.a({data:{liveid:e},render:function(t){return t(si)}});t.appendChild(n.$mount().$el)}))},renderVote:function(){var t=document.querySelectorAll(".js-normal-vote");t&&Array.prototype.slice.call(t).forEach((function(t){var e=t.dataset.voteid,n=new r.a({data:{voteid:e},render:function(t){return t(hi)}});t.appendChild(n.$mount().$el)}))},renderWxTag:function(){var t=this,e=document.querySelectorAll(".js-media-invoke");e&&Array.prototype.slice.call(e).forEach((function(e){var n=e.dataset.type,i=void 0===n?"photo":n,o=new r.a({render:function(e){return e(tr,{props:{wxTagAntData:{mod:"articleInner".concat(i),stat:"open@inner@".concat(i),param:"doc/"+t.DOCID,channel:"news_sps_a".concat(i)}}})}});e.appendChild(o.$mount().$el)}))},loadImg:function(){var t=this,e=document.querySelectorAll(".js-lazy");e&&Array.prototype.slice.call(e).forEach((function(e){var n=e.querySelector("img"),r=e.dataset,i=r.echo,o=r.size;!function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},o=t,s=/\.gif$/.test(r),a=!1,c=null,l=null,u=o.parentElement,d=e||o.dataset.src||o.src,h=o.dataset,f=h.width,p=void 0===f?0:f,g=h.height,m=void 0===g?0:g,v=0,y=function(t,e,n,r){var i=u.clientWidth,o=t,s=+e,a=+n;s&&a&&(v=s<200?a<60?60:a:i*a/s,o&&("img"===r?(o.style.width=s<200?"".concat(s,"px"):"100%",o.style.height="auto"):o.style.height="".concat(v<60?60:v,"px")))},b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div",n=document.createElement(e);return n.className=t,n};window.addEventListener("orientationchange"in window?"orientationchange":"resize",(function(){[c,l].forEach((function(t){y(t,p,m)}))}));var w=function(){s&&!a&&(c=b("n-img-gif"),u.insertBefore(c,t),c.addEventListener("click",(function(t){t.stopPropagation(),a=!0,c.classList.add("n-img-gif-loading"),c.classList.remove("n-img-gif"),o.src=Dn({reserveAnimation:!0,src:r,width:p,height:m})})))};y(o,p,m,"img"),o.onload=function(){if(!/empty\.png/.test(o.src)){o.style.backgroundColor="transparent",o.style.backgroundImage="none";var t=o.dataset.height;(void 0===t?0:t)||(o.style.height="auto"),c&&c.remove(),c=null,w()}},o.onerror=function(){c&&c.remove(),c=null;var e=new wn(r);e.addSearch({t:Date.now(),r:Math.floor(1e8*Math.random()),f:"backflow"}),e.protocol(window.location.protocol),Object(Nn.a)({url:e.href(),method:"head",success:function(){a()},error:function(){h()}});var a=function(){if(u&&new RegExp(n.replace(".","")).test(u.className)){o.style.display="none";var e=l||b("img-error-tip-box");l=e,y(e,p,m),u.insertBefore(e,t),e.addEventListener("click",(function(t){var n=s?Dn({reserveAnimation:!0,src:r,width:p,height:m}):d;t.stopPropagation(),e.classList.add("img-loading");var i=new Image;i.onload=function(){o.src=n,o.style.display="inherit",e.style.display="none",e.remove()},i.onerror=function(){e.classList.remove("img-loading")},i.src=n}),!1)}},h=function(){/video-cover/.test(u.className)||(u.style.display="none"),i(r)}},o.src=d}(n,Dn({src:i,width:o}),".js-lazy",i,t.updatePreviewImgMap)}))}},mounted:function(){this.renderLive(),this.renderVote(),this.renderWxTag(),this.loadImg(),xd()}},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"article-body"},[e("div",{domProps:{innerHTML:this._s(this.body)},on:{click:this.eventBind}})])}),[],!1,null,null,null).exports,Cd={computed:{data:function(){return this.$store.state.main}},methods:{skip:function(t){var e="",n="",r=t.target;this.stat=Object(Nn.d)(r,".js-stat").dataset.stat||"",/js-target/.test(r.className)&&(e=r.dataset.id,n=r.dataset.type,Vn("related@article".concat(this.stat?"@"+this.stat:"")),Vn("related@articaljingbian"),rr.$emit("showBackflowDialog",{param:e,channel:Nn.u?"news_sps_toutiao":"news_sps_articaljingbian",result:function(t){if(Vn("related@articaljingbian@".concat(t)),"cancel"===t){var r="//c.m.163.com/news/".concat({special:"s",doc:"a"}[n],"/").concat(e,".html");window.location.href=r}}}))}}},Rd=(n(857),o(Cd,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.data.relatedArticle?n("div",{on:{click:t.skip}},t._l(t.data.relatedArticle,(function(e){return n("div",{key:e.moduleName,staticClass:"wonderful js-stat"},[n("p",{staticClass:"wonderful-name js-stat",attrs:{"data-stat":"module"}},[n("span",[t._v(t._s(e.moduleName))])]),e.articles?n("div",{staticClass:"wonderful-list"},t._l(e.articles,(function(e){return n("div",{key:e.skipId,staticClass:"wonderful-list-item js-target js-stat",attrs:{"data-id":e.skipId,"data-type":e.skipType}},[n("p",{staticClass:"s-inner ellipsis-2r js-target",attrs:{"data-id":e.skipId,"data-type":e.skipType}},[t._v("\n          "+t._s(e.title)+"\n        ")])])})),0):t._e()])})),0):t._e()}),[],!1,null,"b5bca5e6",null).exports),Ld={data:function(){return{stat:"",timer:null}},computed:{main:function(){return this.$store.state.main}},methods:{exposure:function(t){var e=this;console.log(t),this.timer=setTimeout((function(){e.timer&&clearTimeout(e.timer);var n=t.getBoundingClientRect();n.bottom>0&&n.top<ch&&console.log("related@zhuantijingbian@exposure")}),100)},skip:function(t){var e=this.main.relatedSpecial.sid,n="special",r=t.target;this.stat=Object(Nn.d)(r,".js-stat").dataset.stat||"",/js-target/.test(r.className)&&(e=r.dataset.id,n=r.dataset.type),Vn("related@special".concat(this.stat?"@"+this.stat:"")),Vn("related@zhuantijingbian"),rr.$emit("showBackflowDialog",{param:e,channel:Nn.u?"news_sps_toutiao":"news_sps_zhuantijingbian",result:function(t){if(Vn("related@zhuantijingbian@".concat(t)),"cancel"===t){var r="//c.m.163.com/news/".concat({special:"s",doc:"a"}[n],"/").concat(e,".html");window.location.href=r}}})}}},Id=(n(858),o(Ld,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.main.relatedSpecial?n("div",{ref:"box",staticClass:"relatedSpecial",on:{click:t.skip,scroll:t.exposure}},[n("h2",{staticClass:"relatedSpecial-title js-stat",attrs:{"data-stat":"title"}},[n("span",[t._v(t._s(t.main.relatedSpecial.moduleName))])]),n("h3",{staticClass:"relatedSpecial-subtitle js-stat",attrs:{"data-stat":"title"}},[n("span",{staticClass:"s-tag"},[t._v(t._s(t.main.relatedSpecial.tag))]),n("span",{staticClass:"s-name"},[t._v(t._s(t.main.relatedSpecial.sname))])]),t.main.relatedSpecial.articles?t._l(t.main.relatedSpecial.articles,(function(e){return n("div",{key:e.skipId,staticClass:"relatedSpecial-item"},[n("div",{staticClass:"s-inner ellipsis-2r js-target js-stat",attrs:{"data-id":e.skipId,"data-type":e.skipType,"data-stat":"item"}},[t._v("\n        "+t._s(e.title)+"\n      ")])])})):t._e(),n("div",{staticClass:"s-btn js-stat",attrs:{"data-stat":"btn"}},[t._v("\n    "+t._s(t.main.relatedSpecial.buttonDesc||"进入")+"\n    "),n("i",{staticClass:"sprite"})])],2):t._e()}),[],!1,null,"d6b4ead6",null).exports),Od={components:{WxOpenLaunchApp:tr}},Dd=(n(859),o(Od,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logoBottom js-bottom-container",attrs:{"data-exposure":"bottomBar"}},[this._m(0),e("WxOpenLaunchApp",{attrs:{wxTagAntData:{mod:"articleBottomBar",stat:"open@bottomBar",channel:"news_sps_aend"}}})],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"js-open-newsapp",attrs:{"data-stat":"bottomBar","data-mod":"articleBottomBar","data-channel":"news_sps_aend"}},[e("div",{staticClass:"s-icon"}),e("div",{staticClass:"s-btn"},[this._v("打开")])])}],!1,null,"9c547030",null).exports),Md=n(384),Nd=n.n(Md);function Pd(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,i)}var Fd={data:function(){return{commentPageUrl:"https://comment.tie.163.com/".concat(this.$route.params.id,".html"),commentPageUrlH5:"https://c.m.163.com/news/comment/".concat(this.$route.params.id,".html"),comment:{},showComment:!1,videoClose:0,play_cover:Nd.a,size:2,openFlag:!0,ids:[],isPc:Nn.p,guideTxt:Nn.p?"有".concat(this.$store.state.main.replyCount,"人参与 来一起讨论吧"):"App内参与讨论"}},components:{WxOpenLaunchApp:tr},props:["path"],methods:{formatTime:Nn.i,formatLength:Nn.h,handleString:function(t){var e=Object(Nn.e)(t);return Object(Nn.f)(e)},getImgSrc:function(t){var e=this.comment[t].user.avatar;return e?Dn({src:e,width:35}):"https://static.ws.126.net/163/frontend/images/default-avatar.png"},jumpToDetail:function(){window.location.href=this.commentPageUrlH5},getIds:function(t){var e=this,n=t.commentIds,r=t.comments||{},i=(t.threadInfo||{}).videoClose;if(this.videoClose=i,this.comment=r,Array.isArray(n)){var o=n.filter((function(t){return!!r[t]&&!r[t].isDel})).slice(0,this.size);return o.length>0&&(this.showComment=!0),o.forEach((function(t){r[t].content=r[t].content.replace("<br>","\n");var n=r[t].videoInfo;if(n){var i=n.videoRatio,o=new Image;o.onload=function(t){(i=parseFloat((o.width/o.height).toFixed(3)))<.75?n.classname="comment-item-video comment-item-longVertical":i<1?(n.classname="comment-item-video comment-item-vertical",n.cover=n.cover.indexOf("imageView")>-1?n.cover:"".concat(n.cover,"?imageView&thumbnail=").concat(Math.floor(o.height/4*3),"y").concat(o.height,"&quality=85")):i<1.777?n.classname="comment-item-video comment-item-horizontal":(n.classname="comment-item-video comment-item-longHorizontal",n.cover=n.cover.indexOf("imageView")>-1?n.cover:"".concat(n.cover,"?imageView&thumbnail=").concat(Math.floor(o.height/9*16),"y").concat(o.height,"&quality=85")),e.$forceUpdate()},o.src=n.cover,n.cover&&!e.videoClose&&(r[t].content=r[t].content.replace("[视频]",""))}})),o}return[]}},mounted:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(e.$route.params.id,"new");case 2:n=t.sent,e.openFlag=!n.closeFlag,e.ids=e.getIds(n),setTimeout((function(){xr((function(){var t=e.$refs.info;if(t)for(var n=0;n<t.length;n++)window.NTESAntAnalysis.observer.once(t[n],(function(){Vn("exposure@commentUser",{},"exposure")}))}))}),100);case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){Pd(o,r,i,s,a,"next",t)}function a(t){Pd(o,r,i,s,a,"throw",t)}s(void 0)}))})()}},Bd=(n(860),o(Fd,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.openFlag,expression:"openFlag"}],staticClass:"comment js-hot-tie"},[n("header",{staticClass:"comment-header"}),t._l(t.ids,(function(e,r){return n("section",{directives:[{name:"show",rawName:"v-show",value:t.showComment,expression:"showComment"}],key:r,staticClass:"comment-item"},[n("div",{ref:"info",refInFor:!0,staticClass:"comment-item-info"},[n("img",{staticClass:"s-avatar js-click-news",attrs:{src:t.getImgSrc(e),"data-stat":"hotTieAvatar",alt:""}}),n("div",{staticClass:"comment-item-info-user js-click-news",staticStyle:{overflow:"hidden"},attrs:{"data-stat":"hotTieUser"}},[t.comment[e].user?n("p",{staticClass:"s-name"},[t._v("\n          "+t._s(t.comment[e].user.nickname||"火星网友")+"\n        ")]):t._e(),t.comment[e].user?n("span",{staticClass:"s-location"},[t._v(t._s(t.comment[e].user.location||""))]):t._e(),t.comment[e].deviceInfo?n("span",{staticClass:"s-device"},[t._v(t._s(t.comment[e].deviceInfo.deviceName||""))]):t._e()]),n("div",{staticClass:"like-count"},[n("WxOpenLaunchApp",{attrs:{wxTagAntData:{mod:"articleHotTie",stat:"open@hotTieFav",channel:"news_sps_ahotspot"}}}),n("div",{staticClass:"js-open-newsapp",attrs:{"data-mod":"articleHotTie","data-channel":"news_sps_ahotspot","data-stat":"hotTieFav"}},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.comment[e].vote,expression:"comment[item].vote"}],staticClass:"s-count"},[t._v(t._s(t.comment[e].vote))]),n("i",{staticClass:"sprite s-fav"})])],1)]),n("p",{staticClass:"comment-item-text",domProps:{innerHTML:t._s(t.handleString(t.comment[e].content))}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.comment[e].videoInfo&&!t.videoClose,expression:"comment[item].videoInfo && !videoClose"}],class:(t.comment[e].videoInfo||{}).classname},[n("img",{staticClass:"s-cover",attrs:{src:(t.comment[e].videoInfo||{}).cover}}),n("img",{staticClass:"s-icon",attrs:{src:t.play_cover}}),n("div",{staticClass:"s-mask"}),n("span",{staticClass:"s-duration",domProps:{textContent:t._s(t.formatLength((t.comment[e].videoInfo||{}).length))}})]),n("div",{staticClass:"comment-item-time"},[t._v("\n      "+t._s(t.formatTime(t.comment[e].createTime))+"\n      "),n("WxOpenLaunchApp",{attrs:{wxTagAntData:{mod:"articleHotTie",stat:"open@hotTieReply",channel:"news_sps_ahotspot"}}}),n("div",{staticClass:"s-reply js-open-newsapp",attrs:{"data-mod":"articleHotTie","data-stat":"hotTieReply","data-channel":"news_sps_ahotspot"}},[t._v("回复")])],1)])})),n("section",{directives:[{name:"show",rawName:"v-show",value:!t.showComment,expression:"!showComment"}],staticClass:"content-empty"},[t._v("目前还没有跟贴，欢迎发表观点")]),n("section",{staticClass:"comment-footer"},[n("div",{staticClass:"comment-footer-left"},[n("WxOpenLaunchApp",{attrs:{wxTagAntData:{mod:"articleHotTie",stat:"open@hotTie",channel:"news_sps_ahotspot"}}}),n("div",{staticClass:"s-btn js-open-newsapp",attrs:{"data-exposure":"comment","data-stat":"hotTie","data-mod":"articleHotTie","data-channel":"news_sps_ahotspot","data-url":t.commentPageUrl}},[t._v("\n        "+t._s(t.guideTxt)),n("i",{staticClass:"sprite"})])],1),!t.isPc&&t.showComment?n("div",{staticClass:"comment-footer-right s-btn",on:{click:t.jumpToDetail}},[t._v("查看更多"),n("i",{staticClass:"sprite"})]):t._e()])],2)}),[],!1,null,null,null).exports),Ud={data:function(){return{stockList:[]}},computed:{main:function(){return this.$store.state.main},requestCode:function(){var t=[];return this.main.stock&&Array.prototype.slice.call(this.main.stock).slice(0,4).forEach((function(e,n){t[n]=e.code})),t.join(",")}},methods:{status:function(t){t.name;var e=t.percent,n=t.open;return 0===n||n<0?{dec:"停牌",type:"stock-stop"}:e&&e<0?{dec:"".concat((100*e).toFixed(2),"%")}:e&&e>0?{dec:"+".concat((100*e).toFixed(2),"%"),type:"stock-rose"}:{dec:"0.00%",type:"stock-stop"}}},mounted:function(){var t=this;this.requestCode&&Object(Nn.j)("//api.money.126.net/data/feed/".concat(this.requestCode,"?callback=stockMessages")),window.stockMessages=function(e){t.stockList=[],t.requestCode.split(",").forEach((function(n,r){var i=e[n];i.skipUrl=t.main.stock[r].url||"",t.stockList.push(i)}))}}},$d=(n(861),o(Ud,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.main.stock?n("div",{staticClass:"stock"},t._l(t.stockList,(function(e){return n("a",{key:e.code,staticClass:"stock-default",class:t.status(e).type,attrs:{href:e.skipUrl}},[n("div",{staticClass:"s-code"},[t._v(t._s(e.name))]),n("div",{staticClass:"s-status"},[t._v(t._s(t.status(e).dec))])])})),0):t._e()}),[],!1,null,null,null).exports),jd={props:["openButton"],components:{WxOpenLaunchApp:tr}},Gd=(n(862),o(jd,(function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"openNewsapp",attrs:{"data-exposure":"showMoreButton"}},[e("WxOpenLaunchApp",{attrs:{wxTagAntData:{mod:"articleShowMore",stat:"bottom@show_more_button",channel:"news_sps_article1"}}}),e("a",{staticClass:"js-open-newsapp",attrs:{"data-stat":"bottom@show_more_button","data-mod":"articleShowMore","data-channel":"news_sps_article1"}},[this._v(" 打开网易新闻，阅读体验更佳 ")])],1)}),[],!1,null,"ffe6b4a8",null).exports),Hd={components:{WxOpenLaunchApp:tr}},Kd=(n(863),o(Hd,(function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"fixedOpenNewsapp",attrs:{"data-exposure":"fixButton"}},[e("WxOpenLaunchApp",{attrs:{wxTagAntData:{mod:"o-motif-footer",stat:"open@o-motif-footer",channel:"news_sps_abottom"}}}),this._m(0)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"js-open-newsapp",attrs:{"data-stat":"o-motif-footer","data-mod":"o-motif-footer","data-channel":"news_sps_abottom"}},[e("i"),this._v("\n    App内打开\n  ")])}],!1,null,"4d293332",null).exports),Vd=n(79);function qd(){return(qd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var zd=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=t instanceof HTMLElement?t:e.querySelector(t)||document.createElement("div");return n},Wd=function(t){qn((function(){var e={projectid:"NTM-CQNTS2VV-3",val_nm:"",val_act:"",info:{}};qd(e,t),window.NTESAntAnalysis.sendData(e)}))},Yd=function(t,e){if(Object(Vd.b)(t)){var n=t.val_nm,r=t.info;Wd({val_act:"exposure_ad",val_nm:n,info:void 0===r?{}:r})}else qn((function(){var n=e.val_nm,r=e.info,i=void 0===r?{}:r;window.NTESAntAnalysis.observer.expose(zd(t),{projectid:"NTM-CQNTS2VV-3",val_nm:n,val_act:"exposure_ad",info:i})}))},Xd=function(t,e){if(Object(Vd.b)(t)){var n=t.val_nm,r=t.info;Wd({val_act:"click_ad",val_nm:n,info:void 0===r?{}:r})}else{var i=zd(t),o=e.val_nm,s=e.info,a=void 0===s?{}:s,c=i.href||i.dataset.href;!c&&(c=(zd("a",i)||{}).href),i.addEventListener("click",(function(t){Wd({val_act:"click_ad",val_nm:o,info:a}),c&&(t.preventDefault(),setTimeout((function(){window.location.href=c}),200))}),!0)}},Qd={data:function(){return{isShowed:!1,showEnter:!0,showModal:!1,enterBg:"",modalBg:"",paramUrl:""}},methods:{eventCloseEnter:function(){this.modalBg&&localStorage.setItem("_advert_close",1),this.showEnter=!1,Vn("article@advert@close")},eventCloseModal:function(){this.showModal=!1},eventOpenAd:function(){Vn("article@advert@enter"),Xd({val_nm:"article_backflow_fixed",info:{exposure_url:this.paramUrl,exposure_id:""}}),this.modalBg?(this.showModal=!0,localStorage.setItem("_advert_close",0)):window.location.href=this.paramUrl},compareTime:function(t){var e=function(t){return(t?new Date(t.replace(/-/g,"/")):new Date).getTime()},n=e(t.startTime),r=e(t.endTime),i=e();return n<=i&&i<=r}},mounted:function(){var t=this;1!=+(localStorage&&localStorage.getItem("_advert_close"))?(Object(Nn.j)("//m.163.com/wap/special/back-flow-advertize/"),window.advertiseList=function(e){window.advertiseList=null;var n=e.filter((function(e){return t.compareTime(e)}));if(n.length){t.isShowed=!0;var r=n[0],i=r.imgSrc,o=r.modalSrc,s=r.url;t.enterBg=i?"background: url(".concat(i,") 0 0 / cover"):"",t.modalBg=o?"background: url(".concat(o,") 0 0 / cover"):"",t.paramUrl=s||"https://c.m.163.com/html/frontend/today-news-hotrank/index.html",Yd(t.$refs.advert,{val_nm:"article_backflow_fixed",info:{exposure_url:t.paramUrl,exposure_id:""}})}else t.isShowed=!1}):this.isShowed=!1}},Jd=(n(864),o(Qd,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowed,expression:"isShowed"}],ref:"advert",staticClass:"advert"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showEnter,expression:"showEnter"}],staticClass:"advert-enter",style:t.enterBg,on:{click:t.eventOpenAd}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showEnter,expression:"showEnter"}],staticClass:"advert-close",on:{click:t.eventCloseEnter}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showModal,expression:"showModal"}],staticClass:"advert-modal",on:{click:t.eventCloseModal}},[n("div",{staticClass:"advert-modal-container"},[n("div",{staticClass:"s-wrap js-open-newsapp",style:t.modalBg,attrs:{"data-param":t.paramUrl,"data-channel":"sps_hongbao","data-stat":"article@advert@modal"}}),n("div",{staticClass:"s-close"})])])])}),[],!1,null,"7e5b3b5e",null).exports),Zd=(n(865),o({data:function(){return{showDialog:!1,config:{}}},methods:{eventClose:function(){this.showDialog=!1,this.config.result&&this.config.result("cancel")},eventOpen:function(){var t=this;window.openNewsapp&&window.openNewsapp.bind({selector:".js-dialog-continue",param:this.config.param,channel:this.config.channel||"",queries:this.config.queries,mod:this.config.mod||"",args:"title=".concat(encodeURIComponent(document.title)),beforeOpen:function(){t.config.result&&t.config.result("ok"),t.showDialog=!1}})}},mounted:function(){var t=this;rr.$on("showBackflowDialog",(function(e){t.showDialog=!0,t.config=e}))}},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:this.showDialog,expression:"showDialog"}],staticClass:"confirm-modal-mask"},[e("div",{staticClass:"confirm-modal"},[e("div",{staticClass:"content"},[this._v("前往网易新闻APP查看原文，体验更佳")]),e("div",{staticClass:"btn-group"},[e("div",{staticClass:"btn js-btn",on:{click:this.eventClose}},[this._v("取消")]),e("div",{staticClass:"split-line"}),e("div",{staticClass:"btn js-dialog-continue",staticStyle:{cursor:"pointer"},on:{click:this.eventOpen}},[this._v("继续")])])])])}),[],!1,null,null,null).exports),th={name:"code-ad",mounted:function(){var t=ti.a.render,e=ti.a.abTest,n=(ti.a.exposure,ti.a.click);Object(Nn.j)("https://m.163.com/wap/special/backflow-article-content-bottom-advertize/"),window.backflowArticleBottomAdvertize=function(r){e.ensure((function(){if(Array.isArray(r)){var i=[],o=[];r.forEach((function(t){t.abTest?e.isSimpleHit(t.abTest)&&i.push(t):o.push(t)}));var s=i.concat(o),a={},c="artice_backflow_cms";if(s.length>0&&0!==s[0].active){a=s[0],t(a,".code-ad");var l={exposure_url:a.htmlResource||a.code_info,exposure_id:a.adid,ad_type:"C"};a.adType="C",Yd(".code-ad",{val_nm:c,info:l}),n(".code-ad",{adData:a,antData:{val_nm:c,info:l}})}Yd(".code",{val_nm:"".concat(c,"_position_general")})}}))}}},eh=(n(866),o(th,(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"code"},[e("div",{staticClass:"code-ad"})])}],!1,null,"24a83628",null).exports),nh=n(385),rh=n.n(nh),ih={data:function(){return{imgUrl:""}},computed:{main:function(){return this.$store.state.main}},mounted:function(){var t=this;if(Nn.p){var e="https://c.m.163.com/news/a/".concat(this.main.docid,".html?spsc=news_sps_pc&spsmod=articleQRCode");rh.a.toDataURL(e,{errorCorrectionLevel:"H",type:"image/jpeg",quality:.3,margin:0},(function(e,n){t.imgUrl=n}))}}},oh=(n(888),o(ih,(function(){var t=this.$createElement,e=this._self._c||t;return this.imgUrl?e("div",{staticClass:"qr"},[e("div",{staticClass:"s-box"},[e("img",{attrs:{id:"s-code",src:this.imgUrl,alt:""}}),e("div",{staticClass:"s-tips"},[this._v("扫码去网易新闻APP浏览")])])]):this._e()}),[],!1,null,"8d6bffb4",null).exports),sh={props:["info"],components:{WxOpenLaunchApp:tr},computed:{tag:function(){return 0===this.info.idx||6===this.info.idx?"热":1===this.info.idx?"新":""},path:function(){return"doc"===this.info.type?"doc/".concat(this.info.contentId):"video"===this.info.type?"v/".concat(this.info.contentId):""},wxTagInfo:function(){return{mod:"articleHotSlider",stat:"open@hotSlider",channel:"news_sps_atopnews",param:this.path}}}};n(889);function ah(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,i)}var lh={data:function(){return{hotNews:[],isShowed:!1}},computed:{data:function(){return this.$store.state.main}},components:{HotSliderItem:o(sh,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sliderItem"},[n("div",{staticClass:"s-content js-open-newsapp",attrs:{"data-stat":"hotSlider","data-mod":"articleHotSlider","data-channel":"news_sps_atopnews","data-param":t.info.contentId,"data-url":"https://c.m.163.com/news/a/"+t.info.contentId+".html"}},[n("div",{staticClass:"s-inner ellipsis-2r"},[t.tag?n("span",{staticClass:"s-tag"},[t._v(t._s(t.tag))]):t._e(),n("span",[t._v(t._s(t.info.title))])])]),n("WxOpenLaunchApp",{attrs:{wxTagAntData:t.wxTagInfo}})],1)}),[],!1,null,"54295a6e",null).exports},mounted:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S();case 2:if(e.hotNews=t.sent,e.isShowed=!e.data.hideAd&&Array.isArray(e.hotNews)&&e.hotNews.length>0,e.isShowed){t.next=6;break}return t.abrupt("return");case 6:n=document.querySelector(".s-slider"),r=e.hotNews.length,i=0,setInterval((function(){i++,n.style.transform="-webkit-translateY(-".concat(i/r*100,"%)"),n.style.transform="translateY(-".concat(i/r*100,"%)"),n.style.transition="-webkit-transform 1s cubic-bezier(0.3, 0, 0.1, 1) 0s",n.style.transition="transform 1s cubic-bezier(0.3, 0, 0.1, 1) 0s",i===r-1&&setTimeout((function(){n.style.transform="-webkit-translateY(0%)",n.style.transform="translateY(0%)",n.style.transition="-webkit-transform 0s ease 0s",n.style.transition="transform 0s ease 0s",i=0}),1500)}),3e3);case 10:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){ah(o,r,i,s,a,"next",t)}function a(t){ah(o,r,i,s,a,"throw",t)}s(void 0)}))})()}},uh=(n(890),o(lh,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:this.isShowed,expression:"isShowed"}],staticClass:"hotSlider",attrs:{"data-exposure":"hotSlider"}},[e("div",{staticClass:"s-logo js-open-newsapp",attrs:{"data-stat":"hotSliderLogo","data-mod":"articleHotSliderLogo","data-channel":"news_sps_atopnews","data-param":"https://wp.m.163.com/163/html/newsapp/hot-content/index.html?version=hotFirstTab&__nb_cd=redu&__sf=d&__wv_ns=l&source=today-news-hotrank"}}),e("div",{staticClass:"s-line"}),e("div",{staticClass:"s-news"},[e("div",{staticClass:"s-slider"},this._l(this.hotNews,(function(t){return e("hot-slider-item",{key:t.contentId,attrs:{info:t}})})),1)])])}),[],!1,null,"9db2565c",null).exports),dh={data:function(){return{showShareGuid:!1,type:2}},methods:{eventClose:function(){this.showShareGuid=!1}},mounted:function(){var t=this;rr.$on("showShareGuide",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;t.showShareGuid=!0,t.type=e}))}},hh=(n(891),o(dh,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:this.showShareGuid,expression:"showShareGuid"}],staticClass:"cover",on:{click:this.eventClose}},[1===this.type?e("div",{staticClass:"content1"}):e("div",{staticClass:"content2",on:{click:this.eventClose}},[e("p",{staticClass:"title"},[this._v("已复制链接")]),e("p",{staticClass:"subtitle"},[this._v("快去分享给好友吧")]),e("div",{staticClass:"btn"},[this._v("我知道了")])])])}),[],!1,null,"f049a574",null).exports),fh={data:function(){return{stat:"articlePayButton",channel:"news_sps_apay"}},components:{WxOpenLaunchApp:tr},props:{type:{type:Number,default:function(){return 0}},price:{type:String,default:function(){return""}},payStatus:{type:Number,default:function(){return 0}}},computed:{buttonClass:function(){return["grey","red","golden"][this.type]},payInfo:function(){return this.$store.state.main.payInfo},antInfo:function(){var t="Single";return 1===this.payStatus&&(t="Collect"),2===this.payStatus&&(t="Vip"),"articlePay".concat(t,"Button")}}},ph=(n(892),o(fh,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"price",class:t.buttonClass,attrs:{"data-exposure":t.antInfo}},[n("WxOpenLaunchApp",{attrs:{wxTagAntData:{mod:t.antInfo,channel:t.channel,stat:"open@"+t.stat}}}),2===t.type?[n("p",{staticClass:"js-open-newsapp",attrs:{"data-stat":t.stat,"data-mod":t.antInfo,"data-channel":t.channel}},[t._v(t._s(t.payInfo.vipGuideText.buttonText))]),t.payInfo.vipGuideText.bubbleBuyPriceText?n("span",{staticClass:"vip"},[t._v("\n      "+t._s(t.payInfo.vipGuideText.bubbleBuyPriceText)+"\n      "),t.payInfo.vipGuideText.bubbleBasePriceText?n("span",{staticClass:"tip"},[t._v(" "+t._s(t.payInfo.vipGuideText.bubbleBasePriceText))]):t._e()]):t._e()]:n("p",{staticClass:"js-open-newsapp",attrs:{"data-stat":t.stat,"data-mod":t.antInfo,"data-channel":t.channel}},[t._v(t._s(t.price))])],2)}),[],!1,null,"5e6c7cd2",null).exports),gh={data:function(){return{}},computed:{paidCollect:function(){return this.$store.state.main.paidCollect},payInfo:function(){return this.$store.state.main.payInfo},buyCount:function(){return this.paidCollect?6===this.payInfo.purchaseType?this.paidCollect.buyCount:5===this.payInfo.purchaseType?this.paidCollect.buyCount+this.payInfo.buyCount:this.payInfo.buyCount:this.payInfo.buyCount}}},mh=(n(893),{data:function(){return{}},computed:{paidCollect:function(){return this.$store.state.main.paidCollect},payInfo:function(){return this.$store.state.main.payInfo},purchaseType:function(){return this.payInfo.purchaseType},isShowed:function(){return[2,3,5,6].includes(this.purchaseType)},singlePrice:function(){var t=this.payInfo.price,e=void 0===t?0:t;return e?"¥".concat(e/100," 购买本篇"):"限时0元解锁"},collectPrice:function(){if(!this.paidCollect)return"付费购买";var t=this.paidCollect.price;return" ¥".concat((void 0===t?0:t)/100," 购买专栏")}},components:{BaseButton:ph,BaseHeader:o(gh,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"payDescribe"},[n("div",[t.paidCollect&&6===t.payInfo.purchaseType?n("div",{staticClass:"info"},[t._v("\n      本文收录于\n      "),n("span",{staticClass:"text"},[t._v("《")]),n("span",{staticClass:"name"},[t._v(t._s(t.paidCollect.name))]),n("span",{staticClass:"text"},[t._v("》")])]):t._e(),t._v("\n    付费解锁"+t._s(6===t.payInfo.purchaseType?"专栏":"全篇")+t._s(t.buyCount?"，"+t.buyCount+" 人已付费":"")+"\n  ")])])}),[],!1,null,"113019f7",null).exports}}),vh=(n(894),o(mh,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isShowed?n("div",{staticClass:"payInfo"},[n("base-header"),2===t.purchaseType?n("base-button",{attrs:{type:1,price:t.singlePrice,payStatus:0}}):t._e(),3===t.purchaseType?[n("base-button",{attrs:{price:t.singlePrice,payStatus:0}}),n("base-button",{attrs:{type:2,payStatus:2}})]:t._e(),5===t.purchaseType?[n("base-button",{attrs:{price:t.singlePrice,payStatus:0}}),t.paidCollect?n("base-button",{attrs:{type:1,price:t.collectPrice,payStatus:1}}):t._e()]:t._e(),t.paidCollect&&6===t.purchaseType?n("base-button",{attrs:{type:1,price:t.collectPrice,payStatus:1}}):t._e(),n("span",{staticClass:"notes js-click-news",attrs:{"data-stat":"articlePayNotes","data-exposure":"articlePayNotes"}},[t._v("购买即同意 "),n("a",{attrs:{href:t.payInfo.payNoticeUrl}},[t._v("购买须知")])])],2):t._e()}),[],!1,null,"3770c08f",null).exports),yh={name:"column",data:function(){return{stat:"articlePayRecommend",channel:"news_sps_apay"}},components:{WxOpenLaunchApp:tr},computed:{paidCollect:function(){return this.$store.state.main.paidCollect||{}},recommendList:function(){return this.paidCollect&&this.paidCollect.recommendList||[]},cover:function(){return this.paidCollect&&Dn({src:this.paidCollect.cover})}},methods:{getParam:function(t,e){return"rec"===e?"rec/".concat(t):"collect"===e?"nc/paidCollect/".concat(t):t}}},bh=(n(895),o(yh,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.paidCollect.id?n("div",{staticClass:"columnList",attrs:{"data-exposure":"articlePayCollect"}},[n("div",{staticClass:"top"},[n("p",{staticClass:"title"},[t._v("所属专栏")]),n("div",{staticClass:"part js-open-newsapp",attrs:{"data-stat":t.stat,"data-param":t.getParam(t.paidCollect.id,"collect"),"data-mod":t.stat+"Collect","data-channel":t.channel}},[n("img",{staticClass:"img",attrs:{src:t.cover,alt:""}}),n("div",{staticClass:"right"},[n("div",{staticClass:"name"},[t._v(t._s(t.paidCollect.name))]),n("div",{staticClass:"tips"},[1===t.paidCollect.serialsStatus?n("span",[t._v("已更新"+t._s(t.paidCollect.curCount)+"篇")]):t._e(),2===t.paidCollect.serialsStatus&&t.paidCollect.curCount?n("span",[t._v("共"+t._s(t.paidCollect.curCount)+"篇")]):t._e(),t.paidCollect.buyCount?n("span",[t._v(t._s(t.paidCollect.buyCount)+"人已购买")]):t._e()])])]),n("WxOpenLaunchApp",{attrs:{wxTagAntData:{param:t.getParam(t.paidCollect.id,"collect"),mod:t.stat+"Collect",channel:t.channel,stat:"open@"+t.stat}}})],1),t.recommendList.length?n("div",{staticClass:"line"}):t._e(),t._l(t.recommendList,(function(e,r){return n("div",{key:e.skipID,staticClass:"bottom"},[n("div",{staticClass:"recommend js-open-newsapp",attrs:{"data-stat":t.stat,"data-param":t.getParam(e.skipID,e.skipType),"data-mod":t.stat+"List"+r,"data-channel":t.channel}},[n("div",{staticClass:"next"},[t._v(t._s(e.tip))]),n("div",{staticClass:"content"},[t._v(t._s(e.title))]),n("div",{staticClass:"arrow"})]),n("WxOpenLaunchApp",{attrs:{wxTagAntData:{mod:t.stat+"List"+r,param:e.skipType+"/"+e.skipID,channel:t.channel,stat:"open@"+t.stat}}})],1)}))],2):t._e()}),[],!1,null,"8ac3795a",null)),wh=o({components:{PayInfo:vh,Column:bh.exports}},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("pay-info"),e("column")],1)}),[],!1,null,null,null).exports,_h=(n(896),{name:"articleBottomAd",data:function(){return{ad:{},isShowed:!1}},methods:{closeAd:function(){Vn("close@@advertize@commentTop")},adEvent:function(t){var e={val_nm:"article_backflow_commentTop",info:{category:"SPS",location:22,position:1}};ti.a.track.adExposure(".js-comment-top-ad",{adData:t,antData:e}),ti.a.track.click(".js-comment-top-box",{adData:t,antData:e}),ti.a.track.adPositionExposure(".js-comment-top-ad",{antData:e})}},mounted:function(){var t=this;Vn("request@@advertize@commentTop"),ti.a.fetch({column:"SPS",app:"7A16FBB6",type:"wap_stream",location:[22],more:"&app_way=1"},void 0,{isParseData:!1}).then((function(e){if(Vn("response@@advertize@commentTop"),t.ad=e[0],t.ad){t.isShowed=!0;var n=ti.a.parseADData(t.ad);ti.a.render(n,".js-comment-top-ad",{ui:"new"}),t.adEvent(n)}else{t.isShowed=!1;var r=ti.a.parseADData(t.ad);t.adEvent(r)}}))}}),Eh=(n(897),o(_h,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"comment-top js-comment-top-box",class:{hide:!this.isShowed}},[e("div",{staticClass:"comment-top-ad js-comment-top-ad"})])}),[],!1,null,null,null).exports),Sh={components:{WxOpenLaunchApp:tr},props:{clickCb:{default:function(){}}},computed:{main:function(){return this.$store.state.main},tieSetting:function(){return this.$store.state.tieSetting.data||{}},showCandle:function(){return this.$store.state.tieSetting.showCandle},threadVoteSwitch:function(){return parseInt(this.main.threadVoteSwitch)},threadAgainst:function(){return this.tieSetting.threadAgainst||0},threadVote:function(){return this.tieSetting.threadWeightVote||0},replyCount:function(){var t=this.main.replyCount;return t?this.formatVote(t):""},recCount:function(){return this.formatVote(this.threadVote-this.threadAgainst)}},methods:{formatVote:function(t){return t<1e4?t:"".concat(Math.floor(t/1e3)/10,"万")},sharePage:function(){Vn("click@@tieBarShare"),Nn.x?rr.$emit("showShareGuide",1):Lr((function(){var t=document.title||document.getElementsByTagName("title")[0].innerText||"网易新闻";window.openNewsapp&&window.openNewsapp.copyClipboardContent(t+window.location.href),rr.$emit("showShareGuide",2)}))},toHotTie:function(){this.clickCb(),Vn("click@@tieBarToHotTie")}}},Ah=(n(898),o(Sh,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"commentBar",attrs:{"data-exposure":"tieBar"}},[n("div",{staticClass:"left"},[n("div",{staticClass:"edit"},[n("WxOpenLaunchApp",{attrs:{wxTagAntData:{mod:"articleTieBar",stat:"open@tieBarEdit",channel:"news_sps_abar"}}}),n("p",{staticClass:"js-open-newsapp",attrs:{"data-mod":"articleTieBar","data-channel":"news_sps_abar","data-stat":"tieBarEdit"}},[t._v("写跟贴")])],1),n("div",{staticClass:"icon",on:{click:t.toHotTie}}),!t.threadVoteSwitch&&t.replyCount?n("p",{staticClass:"count",on:{click:t.toHotTie}},[t._v(t._s(t.replyCount))]):t._e()]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showCandle,expression:"showCandle"}],staticClass:"middle"},[n("WxOpenLaunchApp",{attrs:{wxTagAntData:{mod:"articleTieBar",stat:"open@tieBarCandle",channel:"news_sps_abar"}}}),n("div",{staticClass:"js-open-newsapp action",attrs:{"data-mod":"articleTieBar","data-channel":"news_sps_abar","data-stat":"tieBarCandle"}},[n("div",{staticClass:"candle"}),n("div",{staticClass:"count"},[t._v(t._s(t.formatVote(t.threadVote)))])])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.showCandle&&!t.threadVoteSwitch&&t.threadVote,expression:"!showCandle && !threadVoteSwitch && threadVote"}],staticClass:"middle"},[n("WxOpenLaunchApp",{attrs:{wxTagAntData:{mod:"articleTieBar",stat:"open@tieBarRec",channel:"news_sps_abar"}}}),n("div",{staticClass:"js-open-newsapp action",attrs:{"data-mod":"articleTieBar","data-channel":"news_sps_abar","data-stat":"tieBarRec"}},[n("div",{staticClass:"rec"}),n("div",{staticClass:"count"},[t._v(t._s(t.recCount))]),t.threadAgainst?n("div",{staticClass:"disrec"}):t._e()])],1),n("div",{staticClass:"right",on:{click:t.sharePage}})])}),[],!1,null,"238e5135",null).exports),Th={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var xh=function(t){return cn(t)?t.replace(/[<>"']/g,(function(t){return Th[t]})):t};var kh=function(t){return"number"==typeof t};var Ch=function(t){return window.localStorage.getItem(t)};var Rh=function(t,e){window.localStorage.setItem(t,e)};var Lh,Ih=function(t){window.localStorage.removeItem(t)};var Oh=function(){if(an(Lh))try{var t="__storage_test__";Rh(t,t),Ih(t),Lh=!0}catch(t){Lh=!1,console.warn("LocalStorage is not available.")}return Lh},Dh=n(211),Mh=n.n(Dh);var Nh=function(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)};var Ph=function(t){return cn(t)&&/^\d+[\d-/\s:.,]*$/.test(t)};var Fh=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Ph(t))return console.warn("Can not resolve date from input: ".concat(t)),new Date;var n=t.split(/[-/\s:.,]/),r=+n[0]||0,i=kh(+n[1])?+n[1]-1:0,o=+n[2]||1,s=+n[3]||0,a=+n[4]||0,c=+n[5]||0,l=+n[6]||0;return e?new Date(Date.UTC(r,i,o,s,a,c,l)):new Date(r,i,o,s,a,c,l)};var Bh=function(t){return cn(t)?Fh(t):Nh(t)?t:kh(t)?new Date(t):new Date};var Uh=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Oh()){var r=n.path,i=n.expires,o={value:e};if(cn(i)||Nh(i)||kh(i)){var s=Bh(i).getTime();s>Date.now()&&(o.expires=s)}if(cn(r)){var a=JSON.parse(Ch(r)||"{}");hn(a)||(a={}),a[t]=o,Rh(r,Mh()(a))}else Rh(t,Mh()(o))}};var $h=function(t,e){Oh()&&Uh(t,void 0,e)};var jh,Gh=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Oh())return null;var n=e.path;try{var r=(cn(n)?JSON.parse(Ch(n)||"{}")[t]:JSON.parse(Ch(t)||"{}"))||{},i=r.value,o=r.expires;return an(i)?null:kh(o)&&Date.now()>o?($h(t,e),null):i}catch(t){return null}},Hh=n(386),Kh=n.n(Hh),Vh={name:"aiAbstract",data:function(){return{state:0,abstract:"",stateClassNames:["","is-generating","is-done"]}},computed:{isShow:function(){return!!this.abstract}},mounted:function(){var t=this;if(this.$store.state.main.aiAbstract){var e=this.$refs,r=e.rootEl,i=e.iconEl,o=xh(this.$store.state.main.aiAbstract.replace(/(<br\/?>)+/g,"<br>").replace(/^<br\/?>|<br\/?>$/g,"").replace(/(<br\/?>)+/g,"\n").replace(/<br\/?>/g,"\n")),s=document.createElement("div");s.innerHTML=o,o=s.innerHTML,s=null,this.abstract=o,n.e(1).then(n.t.bind(null,942,7)).then((function(e){var n=e.Parser,r=e.Player;return new n({isDisableWebWorker:!0}).load(Kh.a).then((function(e){(jh=new r({startFrame:0,endFrame:0,container:i})).onProcess=function(){1===jh.currentFrame&&(i.style.background="none",1!==t.state&&jh.pause())},jh.mount(e)}))})),xr((function(){window.NTESAntAnalysis.observer.once(r,(function(){Vn("exposure@aiAbstract",{},"exposure")}))}))}},methods:{showAiAbstractHandler:function(){var t=this;if(1!==this.state){var e=this.$store.state.main.docid,n=this.$refs.contentEl,r=this.abstract,i=this.state;Vn("aiAbstract",{msg:0===i?"展开":"收起"},"click");var o,s,a,c,l=function(e){t.state=e,1===e&&jh.start()};if(0===i){var u,d=Gh("article:aiAbstractIds");null!=d&&null!==(u=d.includes)&&void 0!==u&&u.call(d,e)?(l(2),n.innerHTML||(n.innerHTML=r.split("\n").map((function(t){return"<p>".concat(t,"</p>")})).join(""))):(l(1),Uh("article:aiAbstractIds",d?d.concat(e).slice(-50):[e]),o=function(){l(2)},a=0,c=r.length+1,n.innerHTML="",function t(){var e="\n".concat(r).charAt(a);"\n"===e?(s=document.createElement("p"),n.appendChild(s)):s.innerHTML+=e,++a<c?setTimeout(t,20):o()}())}else 2===i&&l(0)}}}},qh=(n(901),o(Vh,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:this.isShow,expression:"isShow"}],ref:"rootEl",class:"ai-abstract "+this.stateClassNames[this.state]},[e("div",{staticClass:"header",on:{click:this.showAiAbstractHandler}},[e("div",{staticClass:"icon-box"},[e("canvas",{ref:"iconEl",staticClass:"icon"})]),e("div",{staticClass:"title bold"}),this._m(0),this._m(1)]),e("div",{ref:"contentEl",staticClass:"body line-top"})])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pending bold"},[e("span",{staticClass:"s-dot"}),e("span",{staticClass:"s-dot"}),e("span",{staticClass:"s-dot"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"handle"},[e("div",{staticClass:"s-text"},[this._v("收起")]),e("div",{staticClass:"icon-font icon-arrow-down"})])}],!1,null,"87716652",null).exports);function zh(t){var e=t.docid,n=t.title,r=t.category,i=void 0===r?"":r,o=t.tid,s=t.type,a=void 0===s?"":s,c=t.msg,l=void 0===c?"":c,u=t.urlParams,d=void 0===u?{}:u;i=i.split(",")[0].split("/")[0];var h=d.spsnuid,f=d.spsdevid,p=d.spsvid,g=d.spsshare,m=d.spsts,v=d.spstoken,y=d.spss;!0,window.NTESAntAnalysis.sendData({projectid:"NTM-CQNTS2VV-3",val_nm:"pageview",val_act:"pageview",info:{modelid:e,spstitle:n,category:i,tid:o,type:a,msg:l,ptime_org:document.documentElement.getAttribute("data-publishtime")||"",spsnuid:h,spsdevid:f,spsvid:p,spsshare:g,spsts:m,spstoken:v}}),"newsapp_wechat_qrcode"===y&&window.NTESAntAnalysis.sendData({projectid:"NTM-CQNTS2VV-3",val_nm:"wechat@qrcodepageview",val_act:"wechat@qrcodepageview",channel:channel,info:{modelid:e,spstitle:n,spsnuid:h,spsdevid:f,spsvid:p,spsshare:g,spsts:m,spstoken:v}})}var Wh=n(387),Yh=window.location,Xh=Yh.protocol,Qh=Yh.host,Jh=Yh.pathname,Zh=window.history,tf="/html/frontend/today-news-hotrank/index.html",ef=[{title:"网易今日要闻",url:"".concat(Xh,"//").concat(Qh).concat(tf,"?from=history-back-list&spss=today-news")},{title:"网易新闻",url:"".concat(Xh,"//").concat(Qh,"/html/frontend/today-news-hotrank/index.html?from=history-back-list&spss=today-news-hotrank")}];if(Zh&&!Nn.o&&(!Nn.x||!Nn.n)&&!Nn.s&&!Nn.r&&!Nn.v){if(Jh!==tf&&1===Zh.length){var nf=window.location.href,rf=document.title,of=ef[1];Zh.replaceState({page:"list",creator:"history-back-list"},of.title,of.url),Zh.pushState({page:"article",creator:"history-back-list"},rf,nf)}window.onpopstate=function(t){t.state&&"history-back-list"===t.state.creator&&window.location.reload()}}var sf=n(389),af=n.n(sf);n(939);var cf={name:"article-view",data:function(){return{backflowPath:"",ulClass:"",showSlider:!1,showTiebar:!0,baiduAdConfig:{relativeList:{isShow:!1,adInfo:[]},topBanner:{isShow:!1,adInfo:[]},articleBottom:{isShow:!1,adInfo:[]}}}},components:{SeoImg:Mn,LogoTop:nr,Push:sr,BusinessBanner:ur,Breadcrumb:hr,Subtitle:pr,openButton:Gd,OriginalTitle:mr,HotSearchWords:wr,SeoSearchWords:_r,Dkeys:Sr,Foot:Tr,Action:Pr,CorePrompt:yr,LongTail:Br,RelativeArticle:ri,NewsBody:kd,WonderfulCard:Rd,RelatedSpecial:Id,LogoBottom:Dd,Comment:Bd,Stock:$d,AdvertModal:Jd,BackflowDialog:Zd,CodeAd:eh,AdCommentTop:Eh,Rumor:cr,fixedOpenButton:Kd,HotSlider:uh,QRCode:oh,ShareGuide:hh,CommentBar:Ah,PayContent:wh,AiAbstract:qh},computed:{main:function(){return this.$store.state.main},body:function(){return this.$store.state.body},showBackflowBtn:function(){return 1!==this.main.hideBackflowBtn},payInfo:function(){var t=this.$store.state.main.payInfo;if(!t)return!1;var e=t.purchaseType;return[2,3,5,6].includes(void 0===e?0:e)}},methods:{share:function(){var t=Nn.A.spss||"newsapp",e=2,n=+Nn.A.spsw;n&&(e=++n),Object(Wh.a)({title:this.main.title||"网易新闻",desc:this.main.shareDigest||"网易新闻",isFromH5Share:"article",img:"https://static.ws.126.net/163/frontend/images/logo-netease.png",statistics:{spst:0,docid:this.$route.params.id,spss:t,spsw:e},callback:function(t){Vn("old@share")}})},exposure:function(){var t=this,e=document.querySelectorAll("[data-exposure]");if(e&&e.length)for(var n=function(n){var r=e[n],i=r.dataset,o=i.exposure,s=i.info,a={};if(s){try{a=JSON.parse(s)}catch(t){}a.spstitle=t.main.title}window.NTESAntAnalysis.observer.once(r,(function(){var t=a,e=t.position,n=t.mod;3===e&&"articleRelative"===n&&rr.$emit("showPush"),Vn("exposure@"+o,a,"exposure")}))},r=0;r<e.length;r++)n(r)},scrollToHotTie:function(){var t,e,n,r,i;t=".js-hot-tie",e=700,n=window.pageYOffset,r=document.querySelector(t).offsetTop-n,i=null,requestAnimationFrame((function t(o){null===i&&(i=o);var s,a,c,l=o-i,u=(s=l,a=n,c=r,(s/=e/2)<1?c/2*s*s+a:(s--,-c/2*(s*(s-2)-1)+a));window.scrollTo(0,u),l<e&&requestAnimationFrame(t)}))},scrollCallback:function(){var t=document.querySelector(".js-bottom-container"),e=document.querySelector(".js-top-container"),n=document.querySelector(".js-hot-tie");if(t&&e){var r=t.clientHeight,i=e.clientHeight,o=n.clientHeight,s=n.offsetTop,a=document.documentElement.clientHeight,c=document.documentElement.scrollTop||document.body.scrollTop,l=document.documentElement.scrollHeight||document.body.scrollHeight;c>i?(this.showSlider=!0,c>s-a?(this.showTiebar=!1,c>s+o&&(this.showTiebar=!0,c>l-r-a&&(this.showSlider=!1))):this.showTiebar=!0):this.showSlider=!1}},addUlClass:function(){try{/ip(hone|ad|od)/i.test(navigator.userAgent)||(this.ulClass="n-platform-android")}catch(t){}}},created:function(){var t;!function(t){var e=!1;window&&window._REFER_VAL&&(e=/baidu|sm|google|sogou|360|bing|weibo｜toutiao/.test(window._REFER_VAL));var n=Nn.l||Nn.m||e;try{n&&1==+t&&(window.location.href="https://c.m.163.com/html/frontend/today-news-hotrank/index.html?from=hide-outer-search&referFrom=".concat(window._REFER_VAL))}catch(t){}}(this.main.hideOuterSearch),Yn(),t={pageType:"article",info:{modelid:this.$route.params.id}},Kn=jn({},Kn,t)},mounted:function(){var t,e,n=this;if(this.share(),this.addUlClass(),this.backflowPath=function(t){if(!t)return"startup";var e=Nn.A.channel||"newsapp",n=Nn.A.commentId||"";return"comment"===e&&n?"tie/".concat(t,"/").concat(n):t}(this.$route.params.id),function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Nn.A.spsc,r=void 0===n?"news_sps_aother":n,i=Nn.A.spsnuid,o=void 0===i?"":i,s=Nn.A.spsdevid,a=void 0===s?"":s,c=Nn.A.spsvid,l=void 0===c?"":c,u=Nn.A.spsshare,d=void 0===u?"":u,h=Nn.A.spsts,f=void 0===h?"":h,p=Nn.A.spstoken,g=void 0===p?"":p,m="spsnuid=".concat(o,"&spsdevid=").concat(a,"&spsvid=").concat(l,"&spsshare=").concat(d,"&spsts=").concat(f,"&spstoken=").concat(g),v=function(t){if(window.openNewsapp)return t();var e=setInterval((function(){window.openNewsapp&&(t(),clearInterval(e))}),100)},y=function(t){var e=t.dataset,n=e.stat,r=e.info,i=e.url;Nn.p&&i&&(window.location.href=i);var o={};if(r)try{o=JSON.parse(r)}catch(t){throw t}Vn("open@"+n,o)};v((function(){window.openNewsapp.init({channels:[r,"sps_article","news_sps_popup","news_sps_bianji","news_sps_zhuantijingbian","news_sps_articaljingbian","news_sps_datamap","news_sps_toutiao","news_sps_atlas_popup","news_sps_start","news_sps_atop","news_sps_afollow","news_sps_article1","news_sps_aend","news_sps_ahot","news_sps_asearch","news_sps_abottom","news_sps_ahotspot","news_sps_aphoto","news_sps_avideo","news_sps_apush","news_sps_atopnews","news_sps_abar","news_sps_apay"],projectId:"NTM-CQNTS2VV-3",param:t,args:m}),window.openNewsapp.bind({selector:".js-open-newsapp",channel:Nn.u?"news_sps_toutiao":r,emitOpen:e,beforeOpen:y}),window.openNewsapp.bind({selector:".js-bottom-slider",channel:"news_sps_abottom",beforeOpen:y}),window.openNewsapp.bind({selector:".js-click-news",emitOpen:!1,beforeOpen:y})}))}(this.$route.params.id,!Nn.p),xr((function(){n.exposure()})),e={docid:this.$route.params.id,title:this.main.title,category:this.main.category,tid:this.main.sourceinfo&&this.main.sourceinfo.tid||"",type:this.payInfo?"pay":"",msg:(null===(t=this.payInfo)||void 0===t?void 0:t.purchaseType)||"",urlParams:Nn.A},window.NTESAntAnalysis?zh(e):window.addEventListener("NTMReady",(function(){zh(e)})),Nn.t){var r=document.querySelector("title");r&&(r.innerHTML=this.main.title||this.main.shareDigest||"网易新闻")}Nn.p||!this.showBackflowBtn?(!this.showBackflowBtn&&Vn("hideBackflowBtn"),this.showSlider=!1):function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};function e(t,e){var n=null;return function(){var r=arguments,i=this;n||(n=setTimeout((function(){t.apply(i,r),n=null}),e))}}window.addEventListener("scroll",e((function(){t()}),200))}(this.scrollCallback),this.main.noIndex||function(){var t=document.createElement("script");t.src="https://lf1-cdn-tos.bytegoofy.com/goofy/ttzz/push.js?1c2fa3ca25fc316c645c1b19a8ce97f17deb9487dce7ed62313212129c4244a219d1c501ebd3301f5e2290626f5b53d078c8250527fa0dfd9783a026ff3cf719",t.id="ttzz",t.async=!0;var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}(),this.$store.dispatch("fetchCommentSetting",{id:this.main.docid}),af.a.highlightAll()},asyncData:function(t){var e=t.store,n=t.route.params.id,r=t.ua,i=t.headers;return Promise.all([e.dispatch("fetchMain",{id:n,ua:r,headers:i}),e.dispatch("fetchHotSearchWords"),e.dispatch("fetchSeoSearchWords",{id:n}),e.dispatch("fetchRelativeArticle",{id:n})])},meta:function(){var t=this.$store.state.seoSearchWords.keywords,e=this.main.dkeys||this.main.title,n=t?"".concat(e,",").concat(t):e,r=this.$store.state.importantDescription||this.main.shareDigest,i=this.main.noIndex?'<meta name="robots" content="noindex">':"";return'\n      <meta name="keywords" content="'.concat(n,'">\n      <meta name="description" content="').concat(r,'">\n      <meta property="og:title" content="').concat(this.main.title,'">\n      <meta property="og:description" content="').concat(r,'">\n      <link rel="canonical" href="//c.m.163.com/news/a/').concat(this.main.docid,'.html"/>\n      ').concat(i,"\n    ")},docset:function(){return'data-publishtime="'.concat(this.main.ptime,'"')}},lf=(n(940),o(cf,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"article js-delegate"},[n("seo-img"),n("breadcrumb"),n("logo-top",{attrs:{path:t.backflowPath}}),n("Push"),n("business-banner"),n("rumor"),n("section",{staticClass:"article-box show-all",class:t.body&&t.payInfo?"article-body-paid":""},[n("div",["joke"!==t.main.articleType?n("subtitle"):t._e(),n("original-title"),"joke"!==t.main.articleType&&t.main.digest?n("div",{staticClass:"digest"},[t._v(t._s(t.main.digest))]):t._e(),n("article",{staticClass:"article-box-content",class:t.ulClass},[n("ai-abstract"),n("core-prompt"),n("news-body"),n("stock"),n("wonderful-card"),n("related-special"),t.payInfo?t._e():n("foot")],1)],1)]),t.payInfo?n("pay-content"):t._e(),!t.payInfo&&t.showBackflowBtn?n("open-button",{attrs:{"data-ui":t.payInfo}}):t._e(),t.showBackflowBtn?n("action"):t._e(),n("seo-search-words"),n("dkeys"),t.main.hideAd?t._e():n("code-ad"),t.main.hideAd?t._e():n("ad-comment-top"),t.showBackflowBtn?n("comment",{attrs:{path:t.backflowPath}}):t._e(),t.showBackflowBtn?n("hot-slider"):t._e(),t.showBackflowBtn?n("relative-article",{attrs:{adConfig:t.baiduAdConfig.relativeList}}):t._e(),t.showBackflowBtn?n("hot-search-words"):t._e(),n("long-tail"),n("div",{staticClass:"ending"}),n("logo-bottom",{ref:"js-logo-bottom"}),t.showBackflowBtn&&!t.main.hideAd?n("advert-modal"):t._e(),n("backflow-dialog"),n("section",[n("fixedOpenButton",{directives:[{name:"show",rawName:"v-show",value:t.showSlider,expression:"showSlider"}]})],1),n("comment-bar",{directives:[{name:"show",rawName:"v-show",value:!t.main.hideAd&&t.showTiebar,expression:"!main.hideAd && showTiebar"}],attrs:{clickCb:t.scrollToHotTie}}),n("QRCode"),n("share-guide")],1)}),[],!1,null,"04f2877a",null).exports);r.a.use(Oe);var uf={};var df={};n(194),r.a.mixin(uf),r.a.mixin(df),r.a.mixin({beforeRouteUpdate:function(t,e,n){var r=this.$options.asyncData;r?r({store:this.$store,route:t}).then(n).catch(n):n()}}),r.a.config.ignoredElements=["wx-open-launch-app"];var hf,ff,pf=(hf=new a.a.Store({state:{main:{},body:"",originalTitle:"",hotSearchWords:[],seoSearchWords:{},importantDescription:"",popularNews:[],longTail:[],videoNum:0,activeType:null,readerInfo:{},statementEn:"",tieSetting:{}},actions:j,mutations:G}),ff=new Oe({mode:"history",fallback:!1,scrollBehavior:function(){return{y:0}},routes:[{path:"/article/:id",component:lf,alias:["/news/a/:id.html","/developer/news/a/:id.html","/news/a/:id.htm","/developer/news/a/:id.htm"]}]}),{app:new r.a({router:ff,store:hf,render:function(t){return t(s)}}),router:ff,store:hf}),gf=pf.app,mf=pf.router,vf=pf.store;if(window.__INITIAL_STATE__){vf.replaceState(window.__INITIAL_STATE__);var yf=window.__INITIAL_STATE__.main,bf=yf.payInfo,wf=yf.docid,_f=yf.contentId,Ef=void 0===_f?"":_f;(Ef&&wf!==Ef||bf)&&location.replace("https://m.163.com/dy/article/"+wf+".html?from=backflow_redirect")}mf.onReady((function(){mf.beforeResolve((function(t,e,n){var r=mf.getMatchedComponents(t),i=mf.getMatchedComponents(e),o=!1,s=r.filter((function(t,e){return o||(o=i[e]!==t)})).map((function(t){return t.asyncData})).filter((function(t){return t}));if(!s.length)return n();Promise.all(s.map((function(e){return e({store:vf,route:t})}))).then((function(){n()})).catch(n)})),gf.$mount("#app")})),"https:"===location.protocol&&"serviceWorker"in navigator&&window.addEventListener("load",(function(){var t=location.pathname.match(/\/news\/[a-z]{1,}\//);if(t){var e=t[0]+"article-service-worker.js?v=1.1";navigator.serviceWorker.register(e).then((function(t){console.log("SW registered: ",t)})).catch((function(t){console.log("SW registration failed: ",t)}))}}))}]);